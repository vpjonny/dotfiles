import{a as yb,b as bb,c as mr,d as Mu,e as Na,f as us,g as En,i as Mn,j as xb,k as fA,l as ls,n as wZ,o as vb,w as _b,x as wb,y as uA,z as SZ}from"./chunk-FATTDLFQ.js";import{$ as hCe,D as P_,F as AZ,O as uCe,P as lCe,Q as kk,R as Bk,S as Pk,T as dCe,U as vJ,a as Zr,aa as pCe,b as Cg,ca as _J,da as U_,ea as mCe,fa as gCe,ga as yCe,ha as bCe,ia as Lk,j as be,ja as Dk,k as wi,ka as xCe,la as vCe,m as Sb,ma as _Ce,n as Rk,na as wJ,o as Vs,oa as wCe,pa as SCe,q as Eb,qa as ECe,r as lA,ra as ACe,s as Ok,sa as Uk,ta as SJ,u as EZ,ua as TCe,va as ICe,wa as RCe}from"./chunk-LQZGQEJ6.js";import{e as xJ}from"./chunk-FNC6PQ53.js";import{$ as QZ,A as DZ,Aa as wA,B as UZ,Ba as pJ,C as FZ,Ca as mJ,D as pA,Da as gJ,E as Ck,F as HZ,I as Tb,J as qZ,K as VZ,L as jZ,M as js,N as zZ,O as KZ,P as mA,Q as gA,R as D_,T as $Z,U as GZ,V as WZ,W as YZ,X as Ib,Y as XZ,Z as ZZ,_ as JZ,a as mo,aa as eJ,b as TZ,ba as U0,bb as yJ,c as IZ,ca as yA,cb as bJ,d as Ul,da as tJ,e as RZ,ea as rJ,f as dA,fa as nJ,g as OZ,ga as iJ,h as D0,ha as oJ,i as MZ,j as NZ,ja as bA,k as CZ,ka as sJ,l as Mk,la as uh,m as Ab,ma as aJ,n as kZ,o as di,oa as xA,p as L_,pa as Rb,q as BZ,qa as cJ,ra as fJ,s as hA,sa as uJ,ta as lJ,u as Uc,ua as vA,w as Nk,wa as dJ,x as PZ,xa as Ob,ya as _A,z as LZ,za as hJ}from"./chunk-5QQLABHI.js";import{a as o,b as vZ,d as j,e as _Z,f as Ng,g as $e,i as p,j as R,l as li,m as Buffer,n as m}from"./chunk-WKJYWAXG.js";var EA=j(Fl=>{"use strict";p();m();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.isBytes=AJ;Fl.number=SA;Fl.bool=EJ;Fl.bytes=Fk;Fl.hash=TJ;Fl.exists=IJ;Fl.output=RJ;function SA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}o(SA,"number");function EJ(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}o(EJ,"bool");function AJ(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(AJ,"isBytes");function Fk(t,...e){if(!AJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}o(Fk,"bytes");function TJ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");SA(t.outputLen),SA(t.blockLen)}o(TJ,"hash");function IJ(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(IJ,"exists");function RJ(t,e){Fk(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(RJ,"output");var OCe={number:SA,bool:EJ,bytes:Fk,hash:TJ,exists:IJ,output:RJ};Fl.default=OCe});var OJ=j(AA=>{"use strict";p();m();Object.defineProperty(AA,"__esModule",{value:!0});AA.crypto=void 0;AA.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var F0=j(kr=>{"use strict";p();m();Object.defineProperty(kr,"__esModule",{value:!0});kr.Hash=kr.nextTick=kr.byteSwapIfBE=kr.byteSwap=kr.isLE=kr.rotl=kr.rotr=kr.createView=kr.u32=kr.u8=void 0;kr.isBytes=MCe;kr.byteSwap32=DCe;kr.bytesToHex=FCe;kr.hexToBytes=HCe;kr.asyncLoop=VCe;kr.utf8ToBytes=NJ;kr.toBytes=TA;kr.concatBytes=jCe;kr.checkOpts=KCe;kr.wrapConstructor=$Ce;kr.wrapConstructorWithOpts=GCe;kr.wrapXOFConstructorWithOpts=WCe;kr.randomBytes=YCe;var Mb=OJ(),qk=EA();function MCe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(MCe,"isBytes");var NCe=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");kr.u8=NCe;var CCe=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");kr.u32=CCe;var kCe=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");kr.createView=kCe;var BCe=o((t,e)=>t<<32-e|t>>>e,"rotr");kr.rotr=BCe;var PCe=o((t,e)=>t<<e|t>>>32-e>>>0,"rotl");kr.rotl=PCe;kr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var LCe=o(t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,"byteSwap");kr.byteSwap=LCe;kr.byteSwapIfBE=kr.isLE?t=>t:t=>(0,kr.byteSwap)(t);function DCe(t){for(let e=0;e<t.length;e++)t[e]=(0,kr.byteSwap)(t[e])}o(DCe,"byteSwap32");var UCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FCe(t){(0,qk.bytes)(t);let e="";for(let r=0;r<t.length;r++)e+=UCe[t[r]];return e}o(FCe,"bytesToHex");var lh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function MJ(t){if(t>=lh._0&&t<=lh._9)return t-lh._0;if(t>=lh._A&&t<=lh._F)return t-(lh._A-10);if(t>=lh._a&&t<=lh._f)return t-(lh._a-10)}o(MJ,"asciiToBase16");function HCe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=MJ(t.charCodeAt(s)),c=MJ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(HCe,"hexToBytes");var qCe=o(async()=>{},"nextTick");kr.nextTick=qCe;async function VCe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,kr.nextTick)(),n+=s)}}o(VCe,"asyncLoop");function NJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(NJ,"utf8ToBytes");function TA(t){return typeof t=="string"&&(t=NJ(t)),(0,qk.bytes)(t),t}o(TA,"toBytes");function jCe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,qk.bytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(jCe,"concatBytes");var Hk=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};kr.Hash=Hk;var zCe={}.toString;function KCe(t,e){if(e!==void 0&&zCe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(KCe,"checkOpts");function $Ce(t){let e=o(n=>t().update(TA(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o($Ce,"wrapConstructor");function GCe(t){let e=o((n,i)=>t(i).update(TA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(GCe,"wrapConstructorWithOpts");function WCe(t){let e=o((n,i)=>t(i).update(TA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(WCe,"wrapXOFConstructorWithOpts");function YCe(t=32){if(Mb.crypto&&typeof Mb.crypto.getRandomValues=="function")return Mb.crypto.getRandomValues(new Uint8Array(t));if(Mb.crypto&&typeof Mb.crypto.randomBytes=="function")return Mb.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}o(YCe,"randomBytes")});var zk=j(H0=>{"use strict";p();m();Object.defineProperty(H0,"__esModule",{value:!0});H0.HashMD=H0.Maj=H0.Chi=void 0;var Vk=EA(),F_=F0();function XCe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(XCe,"setBigUint64");var ZCe=o((t,e,r)=>t&e^~t&r,"Chi");H0.Chi=ZCe;var JCe=o((t,e,r)=>t&e^t&r^e&r,"Maj");H0.Maj=JCe;var jk=class extends F_.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,F_.createView)(this.buffer)}update(e){(0,Vk.exists)(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,F_.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=(0,F_.createView)(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Vk.exists)(this),(0,Vk.output)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;XCe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,F_.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};H0.HashMD=jk});var QJ=j(ir=>{"use strict";p();m();Object.defineProperty(ir,"__esModule",{value:!0});ir.add5L=ir.add5H=ir.add4H=ir.add4L=ir.add3H=ir.add3L=ir.rotlBL=ir.rotlBH=ir.rotlSL=ir.rotlSH=ir.rotr32L=ir.rotr32H=ir.rotrBL=ir.rotrBH=ir.rotrSL=ir.rotrSH=ir.shrSL=ir.shrSH=ir.toBig=void 0;ir.fromBig=$k;ir.split=CJ;ir.add=$J;var IA=BigInt(2**32-1),Kk=BigInt(32);function $k(t,e=!1){return e?{h:Number(t&IA),l:Number(t>>Kk&IA)}:{h:Number(t>>Kk&IA)|0,l:Number(t&IA)|0}}o($k,"fromBig");function CJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=$k(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(CJ,"split");var kJ=o((t,e)=>BigInt(t>>>0)<<Kk|BigInt(e>>>0),"toBig");ir.toBig=kJ;var BJ=o((t,e,r)=>t>>>r,"shrSH");ir.shrSH=BJ;var PJ=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");ir.shrSL=PJ;var LJ=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");ir.rotrSH=LJ;var DJ=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");ir.rotrSL=DJ;var UJ=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");ir.rotrBH=UJ;var FJ=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");ir.rotrBL=FJ;var HJ=o((t,e)=>e,"rotr32H");ir.rotr32H=HJ;var qJ=o((t,e)=>t,"rotr32L");ir.rotr32L=qJ;var VJ=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");ir.rotlSH=VJ;var jJ=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");ir.rotlSL=jJ;var zJ=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");ir.rotlBH=zJ;var KJ=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");ir.rotlBL=KJ;function $J(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o($J,"add");var GJ=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");ir.add3L=GJ;var WJ=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");ir.add3H=WJ;var YJ=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");ir.add4L=YJ;var XJ=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");ir.add4H=XJ;var ZJ=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");ir.add5L=ZJ;var JJ=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");ir.add5H=JJ;var QCe={fromBig:$k,split:CJ,toBig:kJ,shrSH:BJ,shrSL:PJ,rotrSH:LJ,rotrSL:DJ,rotrBH:UJ,rotrBL:FJ,rotr32H:HJ,rotr32L:qJ,rotlSH:VJ,rotlSL:jJ,rotlBH:zJ,rotlBL:KJ,add:$J,add3L:GJ,add3H:WJ,add4L:YJ,add4H:XJ,add5H:JJ,add5L:ZJ};ir.default=QCe});var eQ=j($o=>{"use strict";p();m();Object.defineProperty($o,"__esModule",{value:!0});$o.sha384=$o.sha512_256=$o.sha512_224=$o.sha512=$o.SHA384=$o.SHA512_256=$o.SHA512_224=$o.SHA512=void 0;var eke=zk(),Sr=QJ(),NA=F0(),[tke,rke]=Sr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),q0=new Uint32Array(80),V0=new Uint32Array(80),kg=class extends eke.HashMD{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)q0[N]=e.getUint32(r),V0[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=q0[N-15]|0,H=V0[N-15]|0,F=Sr.default.rotrSH(P,H,1)^Sr.default.rotrSH(P,H,8)^Sr.default.shrSH(P,H,7),Z=Sr.default.rotrSL(P,H,1)^Sr.default.rotrSL(P,H,8)^Sr.default.shrSL(P,H,7),W=q0[N-2]|0,X=V0[N-2]|0,E=Sr.default.rotrSH(W,X,19)^Sr.default.rotrBH(W,X,61)^Sr.default.shrSH(W,X,6),f=Sr.default.rotrSL(W,X,19)^Sr.default.rotrBL(W,X,61)^Sr.default.shrSL(W,X,6),d=Sr.default.add4L(Z,f,V0[N-7],V0[N-16]),b=Sr.default.add4H(d,F,E,q0[N-7],q0[N-16]);q0[N]=b|0,V0[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Sr.default.rotrSH(g,S,14)^Sr.default.rotrSH(g,S,18)^Sr.default.rotrBH(g,S,41),H=Sr.default.rotrSL(g,S,14)^Sr.default.rotrSL(g,S,18)^Sr.default.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=Sr.default.add5L(B,H,Z,rke[N],V0[N]),X=Sr.default.add5H(W,C,P,F,tke[N],q0[N]),E=W|0,f=Sr.default.rotrSH(n,i,28)^Sr.default.rotrBH(n,i,34)^Sr.default.rotrBH(n,i,39),d=Sr.default.rotrSL(n,i,28)^Sr.default.rotrBL(n,i,34)^Sr.default.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=Sr.default.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=Sr.default.add3L(E,d,x);n=Sr.default.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Sr.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Sr.default.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Sr.default.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=Sr.default.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=Sr.default.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=Sr.default.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Sr.default.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Sr.default.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){q0.fill(0),V0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};$o.SHA512=kg;var RA=class extends kg{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};$o.SHA512_224=RA;var OA=class extends kg{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};$o.SHA512_256=OA;var MA=class extends kg{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};$o.SHA384=MA;$o.sha512=(0,NA.wrapConstructor)(()=>new kg);$o.sha512_224=(0,NA.wrapConstructor)(()=>new RA);$o.sha512_256=(0,NA.wrapConstructor)(()=>new OA);$o.sha384=(0,NA.wrapConstructor)(()=>new MA)});var Nu=j(An=>{"use strict";p();m();Object.defineProperty(An,"__esModule",{value:!0});An.notImplemented=An.bitMask=void 0;An.isBytes=kA;An.abytes=BA;An.abool=ike;An.bytesToHex=Xk;An.numberToHexUnpadded=nQ;An.hexToNumber=Zk;An.hexToBytes=PA;An.bytesToNumberBE=ske;An.bytesToNumberLE=ake;An.numberToBytesBE=iQ;An.numberToBytesLE=cke;An.numberToVarBytesBE=fke;An.ensureBytes=uke;An.concatBytes=oQ;An.equalBytes=lke;An.utf8ToBytes=dke;An.inRange=sQ;An.aInRange=hke;An.bitLen=pke;An.bitGet=mke;An.bitSet=gke;An.createHmacDrbg=bke;An.validateObject=vke;An.memoized=wke;var Yk=BigInt(0),CA=BigInt(1),nke=BigInt(2);function kA(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(kA,"isBytes");function BA(t){if(!kA(t))throw new Error("Uint8Array expected")}o(BA,"abytes");function ike(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}o(ike,"abool");var oke=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xk(t){BA(t);let e="";for(let r=0;r<t.length;r++)e+=oke[t[r]];return e}o(Xk,"bytesToHex");function nQ(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(nQ,"numberToHexUnpadded");function Zk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(Zk,"hexToNumber");var dh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function tQ(t){if(t>=dh._0&&t<=dh._9)return t-dh._0;if(t>=dh._A&&t<=dh._F)return t-(dh._A-10);if(t>=dh._a&&t<=dh._f)return t-(dh._a-10)}o(tQ,"asciiToBase16");function PA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=tQ(t.charCodeAt(s)),c=tQ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(PA,"hexToBytes");function ske(t){return Zk(Xk(t))}o(ske,"bytesToNumberBE");function ake(t){return BA(t),Zk(Xk(Uint8Array.from(t).reverse()))}o(ake,"bytesToNumberLE");function iQ(t,e){return PA(t.toString(16).padStart(e*2,"0"))}o(iQ,"numberToBytesBE");function cke(t,e){return iQ(t,e).reverse()}o(cke,"numberToBytesLE");function fke(t){return PA(nQ(t))}o(fke,"numberToVarBytesBE");function uke(t,e,r){let n;if(typeof e=="string")try{n=PA(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(kA(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(uke,"ensureBytes");function oQ(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];BA(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(oQ,"concatBytes");function lke(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}o(lke,"equalBytes");function dke(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(dke,"utf8ToBytes");var Gk=o(t=>typeof t=="bigint"&&Yk<=t,"isPosBig");function sQ(t,e,r){return Gk(t)&&Gk(e)&&Gk(r)&&e<=t&&t<r}o(sQ,"inRange");function hke(t,e,r,n){if(!sQ(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}o(hke,"aInRange");function pke(t){let e;for(e=0;t>Yk;t>>=CA,e+=1);return e}o(pke,"bitLen");function mke(t,e){return t>>BigInt(e)&CA}o(mke,"bitGet");function gke(t,e,r){return t|(r?CA:Yk)<<BigInt(e)}o(gke,"bitSet");var yke=o(t=>(nke<<BigInt(t-1))-CA,"bitMask");An.bitMask=yke;var Wk=o(t=>new Uint8Array(t),"u8n"),rQ=o(t=>Uint8Array.from(t),"u8fr");function bke(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Wk(t),i=Wk(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...g)=>r(i,n,...g),"h"),u=o((g=Wk())=>{i=c(rQ([0]),g),n=c(),g.length!==0&&(i=c(rQ([1]),g),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,S=[];for(;g<e;){n=c();let T=n.slice();S.push(T),g+=n.length}return oQ(...S)},"gen");return o((g,S)=>{a(),u(g);let T;for(;!(T=S(h()));)u();return a(),T},"genUntil")}o(bke,"createHmacDrbg");var xke={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||kA(t),"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function vke(t,e,r={}){let n=o((i,s,a)=>{let c=xke[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(vke,"validateObject");var _ke=o(()=>{throw new Error("not implemented")},"notImplemented");An.notImplemented=_ke;function wke(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let s=t(r,...n);return e.set(r,s),s}}o(wke,"memoized")});var z0=j(Si=>{"use strict";p();m();Object.defineProperty(Si,"__esModule",{value:!0});Si.isNegativeLE=void 0;Si.mod=Fc;Si.pow=fQ;Si.pow2=Tke;Si.invert=LA;Si.tonelliShanks=uQ;Si.FpSqrt=lQ;Si.validateField=Oke;Si.FpPow=dQ;Si.FpInvertBatch=hQ;Si.FpDiv=Mke;Si.FpLegendre=pQ;Si.FpIsSquare=Nke;Si.nLength=Qk;Si.Field=Cke;Si.FpSqrtOdd=kke;Si.FpSqrtEven=Bke;Si.hashToPrivateScalar=Pke;Si.getFieldBytesLength=eB;Si.getMinHashLength=mQ;Si.mapHashToField=Lke;var Hc=Nu(),Io=BigInt(0),Yn=BigInt(1),j0=BigInt(2),Ske=BigInt(3),Jk=BigInt(4),aQ=BigInt(5),cQ=BigInt(8),Eke=BigInt(9),Ake=BigInt(16);function Fc(t,e){let r=t%e;return r>=Io?r:e+r}o(Fc,"mod");function fQ(t,e,r){if(r<=Io||e<Io)throw new Error("Expected power/modulo > 0");if(r===Yn)return Io;let n=Yn;for(;e>Io;)e&Yn&&(n=n*t%r),t=t*t%r,e>>=Yn;return n}o(fQ,"pow");function Tke(t,e,r){let n=t;for(;e-- >Io;)n*=n,n%=r;return n}o(Tke,"pow2");function LA(t,e){if(t===Io||e<=Io)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Fc(t,e),n=e,i=Io,s=Yn,a=Yn,c=Io;for(;r!==Io;){let h=n/r,y=n%r,g=i-a*h,S=s-c*h;n=r,r=y,i=a,s=c,a=g,c=S}if(n!==Yn)throw new Error("invert: does not exist");return Fc(i,e)}o(LA,"invert");function uQ(t){let e=(t-Yn)/j0,r,n,i;for(r=t-Yn,n=0;r%j0===Io;r/=j0,n++);for(i=j0;i<t&&fQ(i,e,t)!==t-Yn;i++);if(n===1){let a=(t+Yn)/Jk;return o(function(u,h){let y=u.pow(h,a);if(!u.eql(u.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+Yn)/j0;return o(function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),g=c.pow(u,s),S=c.pow(u,r);for(;!c.eql(S,c.ONE);){if(c.eql(S,c.ZERO))return c.ZERO;let T=1;for(let M=c.sqr(S);T<h&&!c.eql(M,c.ONE);T++)M=c.sqr(M);let O=c.pow(y,Yn<<BigInt(h-T-1));y=c.sqr(O),g=c.mul(g,O),S=c.mul(S,y),h=T}return g},"tonelliSlow")}o(uQ,"tonelliShanks");function lQ(t){if(t%Jk===Ske){let e=(t+Yn)/Jk;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%cQ===aQ){let e=(t-aQ)/cQ;return o(function(n,i){let s=n.mul(i,j0),a=n.pow(s,e),c=n.mul(i,a),u=n.mul(n.mul(c,j0),a),h=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%Ake,uQ(t)}o(lQ,"FpSqrt");var Ike=o((t,e)=>(Fc(t,e)&Yn)===Yn,"isNegativeLE");Si.isNegativeLE=Ike;var Rke=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oke(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Rke.reduce((n,i)=>(n[i]="function",n),e);return(0,Hc.validateObject)(t,r)}o(Oke,"validateField");function dQ(t,e,r){if(r<Io)throw new Error("Expected power > 0");if(r===Io)return t.ONE;if(r===Yn)return e;let n=t.ONE,i=e;for(;r>Io;)r&Yn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Yn;return n}o(dQ,"FpPow");function hQ(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(hQ,"FpInvertBatch");function Mke(t,e,r){return t.mul(e,typeof r=="bigint"?LA(r,t.ORDER):t.inv(r))}o(Mke,"FpDiv");function pQ(t){let e=(t-Yn)/j0;return(r,n)=>r.pow(n,e)}o(pQ,"FpLegendre");function Nke(t){let e=pQ(t.ORDER);return r=>{let n=e(t,r);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}o(Nke,"FpIsSquare");function Qk(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(Qk,"nLength");function Cke(t,e,r=!1,n={}){if(t<=Io)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=Qk(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=lQ(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,Hc.bitMask)(i),ZERO:Io,ONE:Yn,create:o(u=>Fc(u,t),"create"),isValid:o(u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Io<=u&&u<t},"isValid"),is0:o(u=>u===Io,"is0"),isOdd:o(u=>(u&Yn)===Yn,"isOdd"),neg:o(u=>Fc(-u,t),"neg"),eql:o((u,h)=>u===h,"eql"),sqr:o(u=>Fc(u*u,t),"sqr"),add:o((u,h)=>Fc(u+h,t),"add"),sub:o((u,h)=>Fc(u-h,t),"sub"),mul:o((u,h)=>Fc(u*h,t),"mul"),pow:o((u,h)=>dQ(c,u,h),"pow"),div:o((u,h)=>Fc(u*LA(h,t),t),"div"),sqrN:o(u=>u*u,"sqrN"),addN:o((u,h)=>u+h,"addN"),subN:o((u,h)=>u-h,"subN"),mulN:o((u,h)=>u*h,"mulN"),inv:o(u=>LA(u,t),"inv"),sqrt:n.sqrt||(u=>a(c,u)),invertBatch:o(u=>hQ(c,u),"invertBatch"),cmov:o((u,h,y)=>y?h:u,"cmov"),toBytes:o(u=>r?(0,Hc.numberToBytesLE)(u,s):(0,Hc.numberToBytesBE)(u,s),"toBytes"),fromBytes:o(u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?(0,Hc.bytesToNumberLE)(u):(0,Hc.bytesToNumberBE)(u)},"fromBytes")});return Object.freeze(c)}o(Cke,"Field");function kke(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}o(kke,"FpSqrtOdd");function Bke(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}o(Bke,"FpSqrtEven");function Pke(t,e,r=!1){t=(0,Hc.ensureBytes)("privateHash",t);let n=t.length,i=Qk(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Hc.bytesToNumberLE)(t):(0,Hc.bytesToNumberBE)(t);return Fc(s,e-Yn)+Yn}o(Pke,"hashToPrivateScalar");function eB(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(eB,"getFieldBytesLength");function mQ(t){let e=eB(t);return e+Math.ceil(e/2)}o(mQ,"getMinHashLength");function Lke(t,e,r=!1){let n=t.length,i=eB(e),s=mQ(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?(0,Hc.bytesToNumberBE)(t):(0,Hc.bytesToNumberLE)(t),c=Fc(a,e-Yn)+Yn;return r?(0,Hc.numberToBytesLE)(c,i):(0,Hc.numberToBytesBE)(c,i)}o(Lke,"mapHashToField")});var nB=j(H_=>{"use strict";p();m();Object.defineProperty(H_,"__esModule",{value:!0});H_.wNAF=Uke;H_.pippenger=Fke;H_.validateBasic=Hke;var gQ=z0(),bQ=Nu(),Dke=BigInt(0),tB=BigInt(1),rB=new WeakMap,yQ=new WeakMap;function Uke(t,e){let r=o((s,a)=>{let c=a.negate();return s?c:a},"constTimeNegate"),n=o(s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},"validateW"),i=o(s=>{n(s);let a=Math.ceil(e/s)+1,c=2**(s-1);return{windows:a,windowSize:c}},"opts");return{constTimeNegate:r,unsafeLadder(s,a){let c=t.ZERO,u=s;for(;a>Dke;)a&tB&&(c=c.add(u)),u=u.double(),a>>=tB;return c},precomputeWindow(s,a){let{windows:c,windowSize:u}=i(a),h=[],y=s,g=y;for(let S=0;S<c;S++){g=y,h.push(g);for(let T=1;T<u;T++)g=g.add(y),h.push(g);y=g.double()}return h},wNAF(s,a,c){let{windows:u,windowSize:h}=i(s),y=t.ZERO,g=t.BASE,S=BigInt(2**s-1),T=2**s,O=BigInt(s);for(let M=0;M<u;M++){let k=M*h,C=Number(c&S);c>>=O,C>h&&(C-=T,c+=tB);let B=k,N=k+Math.abs(C)-1,P=M%2!==0,H=C<0;C===0?g=g.add(r(P,a[B])):y=y.add(r(H,a[N]))}return{p:y,f:g}},wNAFCached(s,a,c){let u=yQ.get(s)||1,h=rB.get(s);return h||(h=this.precomputeWindow(s,u),u!==1&&rB.set(s,c(h))),this.wNAF(u,h,a)},setWindowSize(s,a){n(a),yQ.set(s,a),rB.delete(s)}}}o(Uke,"wNAF");function Fke(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((y,g)=>{if(!e.isValid(y))throw new Error(`wrong scalar at index ${g}`)}),r.forEach((y,g)=>{if(!(y instanceof t))throw new Error(`wrong point at index ${g}`)});let i=(0,bQ.bitLen)(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,a=(1<<s)-1,c=new Array(a+1).fill(t.ZERO),u=Math.floor((e.BITS-1)/s)*s,h=t.ZERO;for(let y=u;y>=0;y-=s){c.fill(t.ZERO);for(let S=0;S<n.length;S++){let T=n[S],O=Number(T>>BigInt(y)&BigInt(a));c[O]=c[O].add(r[S])}let g=t.ZERO;for(let S=c.length-1,T=t.ZERO;S>0;S--)T=T.add(c[S]),g=g.add(T);if(h=h.add(g),y!==0)for(let S=0;S<s;S++)h=h.double()}return h}o(Fke,"pippenger");function Hke(t){return(0,gQ.validateField)(t.Fp),(0,bQ.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,gQ.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(Hke,"validateBasic")});var vQ=j(oB=>{"use strict";p();m();Object.defineProperty(oB,"__esModule",{value:!0});oB.twistedEdwards=zke;var iB=nB(),xQ=z0(),nc=Nu(),qc=Nu(),Cu=BigInt(0),rc=BigInt(1),DA=BigInt(2),qke=BigInt(8),Vke={zip215:!0};function jke(t){let e=(0,iB.validateBasic)(t);return nc.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}o(jke,"validateOpts");function zke(t){let e=jke(t),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:u}=e,h=DA<<BigInt(c*8)-rc,y=r.create,g=(0,xQ.Field)(e.n,e.nBitLength),S=e.uvRatio||((A,I)=>{try{return{isValid:!0,value:r.sqrt(A*r.inv(I))}}catch{return{isValid:!1,value:Cu}}}),T=e.adjustScalarBytes||(A=>A),O=e.domain||((A,I,v)=>{if((0,qc.abool)("phflag",v),I.length||v)throw new Error("Contexts/pre-hash are not supported");return A});function M(A,I){nc.aInRange("coordinate "+A,I,Cu,h)}o(M,"aCoordinate");function k(A){if(!(A instanceof N))throw new Error("ExtendedPoint expected")}o(k,"assertPoint");let C=(0,qc.memoized)((A,I)=>{let{ex:v,ey:l,ez:w}=A,V=A.is0();I==null&&(I=V?qke:r.inv(w));let q=y(v*I),U=y(l*I),G=y(w*I);if(V)return{x:Cu,y:rc};if(G!==rc)throw new Error("invZ was invalid");return{x:q,y:U}}),B=(0,qc.memoized)(A=>{let{a:I,d:v}=e;if(A.is0())throw new Error("bad point: ZERO");let{ex:l,ey:w,ez:V,et:q}=A,U=y(l*l),G=y(w*w),ee=y(V*V),re=y(ee*ee),Oe=y(U*I),ae=y(ee*y(Oe+G)),le=y(re+y(v*y(U*G)));if(ae!==le)throw new Error("bad point: equation left != right (1)");let ye=y(l*w),he=y(V*q);if(ye!==he)throw new Error("bad point: equation left != right (2)");return!0});class N{static{o(this,"Point")}constructor(I,v,l,w){this.ex=I,this.ey=v,this.ez=l,this.et=w,M("x",I),M("y",v),M("z",l),M("t",w),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof N)throw new Error("extended point not allowed");let{x:v,y:l}=I||{};return M("x",v),M("y",l),new N(v,l,rc,y(v*l))}static normalizeZ(I){let v=r.invertBatch(I.map(l=>l.ez));return I.map((l,w)=>l.toAffine(v[w])).map(N.fromAffine)}static msm(I,v){return(0,iB.pippenger)(N,g,I,v)}_setWindowSize(I){F.setWindowSize(this,I)}assertValidity(){B(this)}equals(I){k(I);let{ex:v,ey:l,ez:w}=this,{ex:V,ey:q,ez:U}=I,G=y(v*U),ee=y(V*w),re=y(l*U),Oe=y(q*w);return G===ee&&re===Oe}is0(){return this.equals(N.ZERO)}negate(){return new N(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){let{a:I}=e,{ex:v,ey:l,ez:w}=this,V=y(v*v),q=y(l*l),U=y(DA*y(w*w)),G=y(I*V),ee=v+l,re=y(y(ee*ee)-V-q),Oe=G+q,ae=Oe-U,le=G-q,ye=y(re*ae),he=y(Oe*le),ge=y(re*le),lr=y(ae*Oe);return new N(ye,he,lr,ge)}add(I){k(I);let{a:v,d:l}=e,{ex:w,ey:V,ez:q,et:U}=this,{ex:G,ey:ee,ez:re,et:Oe}=I;if(v===BigInt(-1)){let Ue=y((V-w)*(ee+G)),Pe=y((V+w)*(ee-G)),Gn=y(Pe-Ue);if(Gn===Cu)return this.double();let Be=y(q*DA*Oe),Le=y(U*DA*re),en=Le+Be,J=Pe+Ue,Q=Le-Be,pe=y(en*Gn),ne=y(J*Q),de=y(en*Q),yt=y(Gn*J);return new N(pe,ne,yt,de)}let ae=y(w*G),le=y(V*ee),ye=y(U*l*Oe),he=y(q*re),ge=y((w+V)*(G+ee)-ae-le),lr=he-ye,Ae=he+ye,Me=y(le-v*ae),Kn=y(ge*lr),qe=y(Ae*Me),ke=y(ge*Me),$n=y(lr*Ae);return new N(Kn,qe,$n,ke)}subtract(I){return this.add(I.negate())}wNAF(I){return F.wNAFCached(this,I,N.normalizeZ)}multiply(I){let v=I;nc.aInRange("scalar",v,rc,n);let{p:l,f:w}=this.wNAF(v);return N.normalizeZ([l,w])[0]}multiplyUnsafe(I){let v=I;return nc.aInRange("scalar",v,Cu,n),v===Cu?H:this.equals(H)||v===rc?this:this.equals(P)?this.wNAF(v).p:F.unsafeLadder(this,v)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return F.unsafeLadder(this,n).is0()}toAffine(I){return C(this,I)}clearCofactor(){let{h:I}=e;return I===rc?this:this.multiplyUnsafe(I)}static fromHex(I,v=!1){let{d:l,a:w}=e,V=r.BYTES;I=(0,qc.ensureBytes)("pointHex",I,V),(0,qc.abool)("zip215",v);let q=I.slice(),U=I[V-1];q[V-1]=U&-129;let G=nc.bytesToNumberLE(q),ee=v?h:r.ORDER;nc.aInRange("pointHex.y",G,Cu,ee);let re=y(G*G),Oe=y(re-rc),ae=y(l*re-w),{isValid:le,value:ye}=S(Oe,ae);if(!le)throw new Error("Point.fromHex: invalid y coordinate");let he=(ye&rc)===rc,ge=(U&128)!==0;if(!v&&ye===Cu&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==he&&(ye=y(-ye)),N.fromAffine({x:ye,y:G})}static fromPrivateKey(I){return X(I).point}toRawBytes(){let{x:I,y:v}=this.toAffine(),l=nc.numberToBytesLE(v,r.BYTES);return l[l.length-1]|=I&rc?128:0,l}toHex(){return nc.bytesToHex(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,rc,y(e.Gx*e.Gy)),N.ZERO=new N(Cu,rc,rc,Cu);let{BASE:P,ZERO:H}=N,F=(0,iB.wNAF)(N,c*8);function Z(A){return(0,xQ.mod)(A,n)}o(Z,"modN");function W(A){return Z(nc.bytesToNumberLE(A))}o(W,"modN_LE");function X(A){let I=c;A=(0,qc.ensureBytes)("private key",A,I);let v=(0,qc.ensureBytes)("hashed private key",s(A),2*I),l=T(v.slice(0,I)),w=v.slice(I,2*I),V=W(l),q=P.multiply(V),U=q.toRawBytes();return{head:l,prefix:w,scalar:V,point:q,pointBytes:U}}o(X,"getExtendedPublicKey");function E(A){return X(A).pointBytes}o(E,"getPublicKey");function f(A=new Uint8Array,...I){let v=nc.concatBytes(...I);return W(s(O(v,(0,qc.ensureBytes)("context",A),!!i)))}o(f,"hashDomainToScalar");function d(A,I,v={}){A=(0,qc.ensureBytes)("message",A),i&&(A=i(A));let{prefix:l,scalar:w,pointBytes:V}=X(I),q=f(v.context,l,A),U=P.multiply(q).toRawBytes(),G=f(v.context,U,V,A),ee=Z(q+G*w);nc.aInRange("signature.s",ee,Cu,n);let re=nc.concatBytes(U,nc.numberToBytesLE(ee,r.BYTES));return(0,qc.ensureBytes)("result",re,c*2)}o(d,"sign");let b=Vke;function x(A,I,v,l=b){let{context:w,zip215:V}=l,q=r.BYTES;A=(0,qc.ensureBytes)("signature",A,2*q),I=(0,qc.ensureBytes)("message",I),V!==void 0&&(0,qc.abool)("zip215",V),i&&(I=i(I));let U=nc.bytesToNumberLE(A.slice(q,2*q)),G,ee,re;try{G=N.fromHex(v,V),ee=N.fromHex(A.slice(0,q),V),re=P.multiplyUnsafe(U)}catch{return!1}if(!V&&G.isSmallOrder())return!1;let Oe=f(w,ee.toRawBytes(),G.toRawBytes(),I);return ee.add(G.multiplyUnsafe(Oe)).subtract(re).clearCofactor().equals(N.ZERO)}return o(x,"verify"),P._setWindowSize(8),{CURVE:e,getPublicKey:E,sign:d,verify:x,ExtendedPoint:N,utils:{getExtendedPublicKey:X,randomPrivateKey:o(()=>a(r.BYTES),"randomPrivateKey"),precompute(A=8,I=N.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}}}}o(zke,"twistedEdwards")});var aB=j(Bg=>{"use strict";p();m();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.expand_message_xmd=_Q;Bg.expand_message_xof=wQ;Bg.hash_to_field=sB;Bg.isogenyMap=Wke;Bg.createHasher=Yke;var Kke=z0(),zs=Nu(),$ke=zs.bytesToNumberBE;function K0(t,e){if(q_(t),q_(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}o(K0,"i2osp");function Gke(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}o(Gke,"strxor");function q_(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}o(q_,"anum");function _Q(t,e,r,n){(0,zs.abytes)(t),(0,zs.abytes)(e),q_(r),e.length>255&&(e=n((0,zs.concatBytes)((0,zs.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");let c=(0,zs.concatBytes)(e,K0(e.length,1)),u=K0(0,s),h=K0(r,2),y=new Array(a),g=n((0,zs.concatBytes)(u,t,h,K0(0,1),c));y[0]=n((0,zs.concatBytes)(g,K0(1,1),c));for(let T=1;T<=a;T++){let O=[Gke(g,y[T-1]),K0(T+1,1),c];y[T]=n((0,zs.concatBytes)(...O))}return(0,zs.concatBytes)(...y).slice(0,r)}o(_Q,"expand_message_xmd");function wQ(t,e,r,n,i){if((0,zs.abytes)(t),(0,zs.abytes)(e),q_(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,zs.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(K0(r,2)).update(e).update(K0(e.length,1)).digest()}o(wQ,"expand_message_xof");function sB(t,e,r){(0,zs.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:a,expand:c,DST:u}=r;(0,zs.abytes)(t),q_(e);let h=typeof u=="string"?(0,zs.utf8ToBytes)(u):u,y=n.toString(2).length,g=Math.ceil((y+i)/8),S=e*s*g,T;if(c==="xmd")T=_Q(t,h,S,a);else if(c==="xof")T=wQ(t,h,S,i,a);else if(c==="_internal_pass")T=t;else throw new Error('expand must be "xmd" or "xof"');let O=new Array(e);for(let M=0;M<e;M++){let k=new Array(s);for(let C=0;C<s;C++){let B=g*(C+M*s),N=T.subarray(B,B+g);k[C]=(0,Kke.mod)($ke(N),n)}O[M]=k}return O}o(sB,"hash_to_field");function Wke(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,a,c,u]=r.map(h=>h.reduce((y,g)=>t.add(t.mul(y,n),g)));return n=t.div(s,a),i=t.mul(i,t.div(c,u)),{x:n,y:i}}}o(Wke,"isogenyMap");function Yke(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=sB(n,2,{...r,DST:r.DST,...i}),a=t.fromAffine(e(s[0])),c=t.fromAffine(e(s[1])),u=a.add(c).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=sB(n,1,{...r,DST:r.encodeDST,...i}),a=t.fromAffine(e(s[0])).clearCofactor();return a.assertValidity(),a},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(let s of n)if(typeof s!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);let i=t.fromAffine(e(n)).clearCofactor();return i.assertValidity(),i}}}o(Yke,"createHasher")});var EQ=j(fB=>{"use strict";p();m();Object.defineProperty(fB,"__esModule",{value:!0});fB.montgomery=Zke;var SQ=z0(),$0=Nu(),Nb=BigInt(0),cB=BigInt(1);function Xke(t){return(0,$0.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}o(Xke,"validateOpts");function Zke(t){let e=Xke(t),{P:r}=e,n=o(B=>(0,SQ.mod)(B,r),"modP"),i=e.montgomeryBits,s=Math.ceil(i/8),a=e.nByteLength,c=e.adjustScalarBytes||(B=>B),u=e.powPminus2||(B=>(0,SQ.pow)(B,r-BigInt(2),r));function h(B,N,P){let H=n(B*(N-P));return N=n(N-H),P=n(P+H),[N,P]}o(h,"cswap");let y=(e.a-BigInt(2))/BigInt(4);function g(B,N){(0,$0.aInRange)("u",B,Nb,r),(0,$0.aInRange)("scalar",N,Nb,r);let P=N,H=B,F=cB,Z=Nb,W=B,X=cB,E=Nb,f;for(let b=BigInt(i-1);b>=Nb;b--){let x=P>>b&cB;E^=x,f=h(E,F,W),F=f[0],W=f[1],f=h(E,Z,X),Z=f[0],X=f[1],E=x;let _=F+Z,A=n(_*_),I=F-Z,v=n(I*I),l=A-v,w=W+X,V=W-X,q=n(V*_),U=n(w*I),G=q+U,ee=q-U;W=n(G*G),X=n(H*n(ee*ee)),F=n(A*v),Z=n(l*(A+n(y*l)))}f=h(E,F,W),F=f[0],W=f[1],f=h(E,Z,X),Z=f[0],X=f[1];let d=u(Z);return n(F*d)}o(g,"montgomeryLadder");function S(B){return(0,$0.numberToBytesLE)(n(B),s)}o(S,"encodeUCoordinate");function T(B){let N=(0,$0.ensureBytes)("u coordinate",B,s);return a===32&&(N[31]&=127),(0,$0.bytesToNumberLE)(N)}o(T,"decodeUCoordinate");function O(B){let N=(0,$0.ensureBytes)("scalar",B),P=N.length;if(P!==s&&P!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${P}`);return(0,$0.bytesToNumberLE)(c(N))}o(O,"decodeScalar");function M(B,N){let P=T(N),H=O(B),F=g(P,H);if(F===Nb)throw new Error("Invalid private or public key received");return S(F)}o(M,"scalarMult");let k=S(e.Gu);function C(B){return M(B,k)}return o(C,"scalarMultBase"),{scalarMult:M,scalarMultBase:C,getSharedSecret:o((B,N)=>M(B,N),"getSharedSecret"),getPublicKey:o(B=>C(B),"getPublicKey"),utils:{randomPrivateKey:o(()=>e.randomBytes(e.nByteLength),"randomPrivateKey")},GuBytes:k}}o(Zke,"montgomery")});var LQ=j(or=>{"use strict";p();m();Object.defineProperty(or,"__esModule",{value:!0});or.hash_to_ristretto255=or.hashToRistretto255=or.RistrettoPoint=or.encodeToCurve=or.hashToCurve=or.edwardsToMontgomery=or.x25519=or.ed25519ph=or.ed25519ctx=or.ed25519=or.ED25519_TORSION_SUBGROUP=void 0;or.edwardsToMontgomeryPub=BQ;or.edwardsToMontgomeryPriv=eBe;var FA=eQ(),V_=F0(),pB=vQ(),RQ=aB(),Tn=z0(),Jke=EQ(),Pg=Nu(),j_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),dB=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Qke=BigInt(0),Hl=BigInt(1),UA=BigInt(2),OQ=BigInt(3),MQ=BigInt(5),mB=BigInt(8);function NQ(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=j_,c=t*t%s*t%s,u=(0,Tn.pow2)(c,UA,s)*c%s,h=(0,Tn.pow2)(u,Hl,s)*t%s,y=(0,Tn.pow2)(h,MQ,s)*h%s,g=(0,Tn.pow2)(y,e,s)*y%s,S=(0,Tn.pow2)(g,r,s)*g%s,T=(0,Tn.pow2)(S,n,s)*S%s,O=(0,Tn.pow2)(T,i,s)*T%s,M=(0,Tn.pow2)(O,i,s)*T%s,k=(0,Tn.pow2)(M,e,s)*y%s;return{pow_p_5_8:(0,Tn.pow2)(k,UA,s)*t%s,b2:c}}o(NQ,"ed25519_pow_2_252_3");function CQ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(CQ,"adjustScalarBytes");function gB(t,e){let r=j_,n=(0,Tn.mod)(e*e*e,r),i=(0,Tn.mod)(n*n*e,r),s=NQ(t*i).pow_p_5_8,a=(0,Tn.mod)(t*n*s,r),c=(0,Tn.mod)(e*a*a,r),u=a,h=(0,Tn.mod)(a*dB,r),y=c===t,g=c===(0,Tn.mod)(-t,r),S=c===(0,Tn.mod)(-t*dB,r);return y&&(a=u),(g||S)&&(a=h),(0,Tn.isNegativeLE)(a,r)&&(a=(0,Tn.mod)(-a,r)),{isValid:y||g,value:a}}o(gB,"uvRatio");or.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];var bt=(0,Tn.Field)(j_,void 0,!0),z_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mB,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:FA.sha512,randomBytes:V_.randomBytes,adjustScalarBytes:CQ,uvRatio:gB};or.ed25519=(0,pB.twistedEdwards)(z_);function kQ(t,e,r){if(e.length>255)throw new Error("Context is too big");return(0,V_.concatBytes)((0,V_.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}o(kQ,"ed25519_domain");or.ed25519ctx=(0,pB.twistedEdwards)({...z_,domain:kQ});or.ed25519ph=(0,pB.twistedEdwards)(Object.assign({},z_,{domain:kQ,prehash:FA.sha512}));or.x25519=(0,Jke.montgomery)({P:j_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:o(t=>{let e=j_,{pow_p_5_8:r,b2:n}=NQ(t);return(0,Tn.mod)((0,Tn.pow2)(r,OQ,e)*n,e)},"powPminus2"),adjustScalarBytes:CQ,randomBytes:V_.randomBytes});function BQ(t){let{y:e}=or.ed25519.ExtendedPoint.fromHex(t),r=BigInt(1);return bt.toBytes(bt.create((r+e)*bt.inv(r-e)))}o(BQ,"edwardsToMontgomeryPub");or.edwardsToMontgomery=BQ;function eBe(t){let e=z_.hash(t.subarray(0,32));return z_.adjustScalarBytes(e).subarray(0,32)}o(eBe,"edwardsToMontgomeryPriv");var tBe=(bt.ORDER+OQ)/mB,rBe=bt.pow(UA,tBe),AQ=bt.sqrt(bt.neg(bt.ONE));function nBe(t){let e=(bt.ORDER-MQ)/mB,r=BigInt(486662),n=bt.sqr(t);n=bt.mul(n,UA);let i=bt.add(n,bt.ONE),s=bt.neg(r),a=bt.sqr(i),c=bt.mul(a,i),u=bt.mul(n,r);u=bt.mul(u,s),u=bt.add(u,a),u=bt.mul(u,s);let h=bt.sqr(c);a=bt.sqr(h),h=bt.mul(h,c),h=bt.mul(h,u),a=bt.mul(a,h);let y=bt.pow(a,e);y=bt.mul(y,h);let g=bt.mul(y,AQ);a=bt.sqr(y),a=bt.mul(a,c);let S=bt.eql(a,u),T=bt.cmov(g,y,S),O=bt.mul(s,n),M=bt.mul(y,t);M=bt.mul(M,rBe);let k=bt.mul(M,AQ),C=bt.mul(u,n);a=bt.sqr(M),a=bt.mul(a,c);let B=bt.eql(a,C),N=bt.cmov(k,M,B);a=bt.sqr(T),a=bt.mul(a,c);let P=bt.eql(a,u),H=bt.cmov(O,s,P),F=bt.cmov(N,T,P),Z=bt.isOdd(F);return F=bt.cmov(F,bt.neg(F),P!==Z),{xMn:H,xMd:i,yMn:F,yMd:Hl}}o(nBe,"map_to_curve_elligator2_curve25519");var iBe=(0,Tn.FpSqrtEven)(bt,bt.neg(BigInt(486664)));function oBe(t){let{xMn:e,xMd:r,yMn:n,yMd:i}=nBe(t),s=bt.mul(e,i);s=bt.mul(s,iBe);let a=bt.mul(r,n),c=bt.sub(e,r),u=bt.add(e,r),h=bt.mul(a,u),y=bt.eql(h,bt.ZERO);s=bt.cmov(s,bt.ZERO,y),a=bt.cmov(a,bt.ONE,y),c=bt.cmov(c,bt.ONE,y),u=bt.cmov(u,bt.ONE,y);let g=bt.invertBatch([a,u]);return{x:bt.mul(s,g[0]),y:bt.mul(c,g[1])}}o(oBe,"map_to_curve_elligator2_edwards25519");var PQ=(0,RQ.createHasher)(or.ed25519.ExtendedPoint,t=>oBe(t[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:bt.ORDER,m:1,k:128,expand:"xmd",hash:FA.sha512});or.hashToCurve=PQ.hashToCurve;or.encodeToCurve=PQ.encodeToCurve;function uB(t){if(!(t instanceof ku))throw new Error("RistrettoPoint expected")}o(uB,"assertRstPoint");var hB=dB,sBe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),aBe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),cBe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),fBe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),TQ=o(t=>gB(Hl,t),"invertSqrt"),uBe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),lB=o(t=>or.ed25519.CURVE.Fp.create((0,Pg.bytesToNumberLE)(t)&uBe),"bytes255ToNumberLE");function IQ(t){let{d:e}=or.ed25519.CURVE,r=or.ed25519.CURVE.Fp.ORDER,n=or.ed25519.CURVE.Fp.create,i=n(hB*t*t),s=n((i+Hl)*cBe),a=BigInt(-1),c=n((a-e*i)*n(i+e)),{isValid:u,value:h}=gB(s,c),y=n(h*t);(0,Tn.isNegativeLE)(y,r)||(y=n(-y)),u||(h=y),u||(a=i);let g=n(a*(i-Hl)*fBe-c),S=h*h,T=n((h+h)*c),O=n(g*sBe),M=n(Hl-S),k=n(Hl+S);return new or.ed25519.ExtendedPoint(n(T*k),n(M*O),n(O*k),n(T*M))}o(IQ,"calcElligatorRistrettoMap");var ku=class t{static{o(this,"RistPoint")}constructor(e){this.ep=e}static fromAffine(e){return new t(or.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,Pg.ensureBytes)("ristrettoHash",e,64);let r=lB(e.slice(0,32)),n=IQ(r),i=lB(e.slice(32,64)),s=IQ(i);return new t(n.add(s))}static fromHex(e){e=(0,Pg.ensureBytes)("ristrettoHex",e,32);let{a:r,d:n}=or.ed25519.CURVE,i=or.ed25519.CURVE.Fp.ORDER,s=or.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",c=lB(e);if(!(0,Pg.equalBytes)((0,Pg.numberToBytesLE)(c,32),e)||(0,Tn.isNegativeLE)(c,i))throw new Error(a);let u=s(c*c),h=s(Hl+r*u),y=s(Hl-r*u),g=s(h*h),S=s(y*y),T=s(r*n*g-S),{isValid:O,value:M}=TQ(s(T*S)),k=s(M*y),C=s(M*k*T),B=s((c+c)*k);(0,Tn.isNegativeLE)(B,i)&&(B=s(-B));let N=s(h*C),P=s(B*N);if(!O||(0,Tn.isNegativeLE)(P,i)||N===Qke)throw new Error(a);return new t(new or.ed25519.ExtendedPoint(B,N,Hl,P))}toRawBytes(){let{ex:e,ey:r,ez:n,et:i}=this.ep,s=or.ed25519.CURVE.Fp.ORDER,a=or.ed25519.CURVE.Fp.create,c=a(a(n+r)*a(n-r)),u=a(e*r),h=a(u*u),{value:y}=TQ(a(c*h)),g=a(y*c),S=a(y*u),T=a(g*S*i),O;if((0,Tn.isNegativeLE)(i*T,s)){let k=a(r*hB),C=a(e*hB);e=k,r=C,O=a(g*aBe)}else O=S;(0,Tn.isNegativeLE)(e*T,s)&&(r=a(-r));let M=a((n-r)*O);return(0,Tn.isNegativeLE)(M,s)&&(M=a(-M)),(0,Pg.numberToBytesLE)(M,32)}toHex(){return(0,Pg.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){uB(e);let{ex:r,ey:n}=this.ep,{ex:i,ey:s}=e.ep,a=or.ed25519.CURVE.Fp.create,c=a(r*s)===a(n*i),u=a(n*s)===a(r*i);return c||u}add(e){return uB(e),new t(this.ep.add(e.ep))}subtract(e){return uB(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}double(){return new t(this.ep.double())}negate(){return new t(this.ep.negate())}};or.RistrettoPoint=(ku.BASE||(ku.BASE=new ku(or.ed25519.ExtendedPoint.BASE)),ku.ZERO||(ku.ZERO=new ku(or.ed25519.ExtendedPoint.ZERO)),ku);var lBe=o((t,e)=>{let r=e.DST,n=typeof r=="string"?(0,V_.utf8ToBytes)(r):r,i=(0,RQ.expand_message_xmd)(t,n,64,FA.sha512);return ku.hashToCurve(i)},"hashToRistretto255");or.hashToRistretto255=lBe;or.hash_to_ristretto255=or.hashToRistretto255});var DQ=j(HA=>{"use strict";p();m();Object.defineProperty(HA,"__esModule",{value:!0});HA.crypto=void 0;HA.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var VA=j(Kt=>{"use strict";p();m();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.wrapXOFConstructorWithOpts=Kt.wrapConstructorWithOpts=Kt.wrapConstructor=Kt.Hash=Kt.nextTick=Kt.swap32IfBE=Kt.byteSwapIfBE=Kt.swap8IfBE=Kt.isLE=void 0;Kt.isBytes=FQ;Kt.anumber=yB;Kt.abytes=kb;Kt.ahash=dBe;Kt.aexists=hBe;Kt.aoutput=pBe;Kt.u8=mBe;Kt.u32=gBe;Kt.clean=yBe;Kt.createView=bBe;Kt.rotr=xBe;Kt.rotl=vBe;Kt.byteSwap=xB;Kt.byteSwap32=HQ;Kt.bytesToHex=wBe;Kt.hexToBytes=SBe;Kt.asyncLoop=ABe;Kt.utf8ToBytes=vB;Kt.bytesToUtf8=TBe;Kt.toBytes=qA;Kt.kdfInputToBytes=IBe;Kt.concatBytes=RBe;Kt.checkOpts=OBe;Kt.createHasher=VQ;Kt.createOptHasher=jQ;Kt.createXOFer=zQ;Kt.randomBytes=MBe;var Cb=DQ();function FQ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(FQ,"isBytes");function yB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(yB,"anumber");function kb(t,...e){if(!FQ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(kb,"abytes");function dBe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yB(t.outputLen),yB(t.blockLen)}o(dBe,"ahash");function hBe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(hBe,"aexists");function pBe(t,e){kb(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(pBe,"aoutput");function mBe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(mBe,"u8");function gBe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(gBe,"u32");function yBe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(yBe,"clean");function bBe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(bBe,"createView");function xBe(t,e){return t<<32-e|t>>>e}o(xBe,"rotr");function vBe(t,e){return t<<e|t>>>32-e>>>0}o(vBe,"rotl");Kt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function xB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(xB,"byteSwap");Kt.swap8IfBE=Kt.isLE?t=>t:t=>xB(t);Kt.byteSwapIfBE=Kt.swap8IfBE;function HQ(t){for(let e=0;e<t.length;e++)t[e]=xB(t[e]);return t}o(HQ,"byteSwap32");Kt.swap32IfBE=Kt.isLE?t=>t:HQ;var qQ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_Be=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wBe(t){if(kb(t),qQ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=_Be[t[r]];return e}o(wBe,"bytesToHex");var hh={_0:48,_9:57,A:65,F:70,a:97,f:102};function UQ(t){if(t>=hh._0&&t<=hh._9)return t-hh._0;if(t>=hh.A&&t<=hh.F)return t-(hh.A-10);if(t>=hh.a&&t<=hh.f)return t-(hh.a-10)}o(UQ,"asciiToBase16");function SBe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(qQ)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=UQ(t.charCodeAt(s)),c=UQ(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(SBe,"hexToBytes");var EBe=o(async()=>{},"nextTick");Kt.nextTick=EBe;async function ABe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Kt.nextTick)(),n+=s)}}o(ABe,"asyncLoop");function vB(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(vB,"utf8ToBytes");function TBe(t){return new TextDecoder().decode(t)}o(TBe,"bytesToUtf8");function qA(t){return typeof t=="string"&&(t=vB(t)),kb(t),t}o(qA,"toBytes");function IBe(t){return typeof t=="string"&&(t=vB(t)),kb(t),t}o(IBe,"kdfInputToBytes");function RBe(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];kb(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(RBe,"concatBytes");function OBe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(OBe,"checkOpts");var bB=class{static{o(this,"Hash")}};Kt.Hash=bB;function VQ(t){let e=o(n=>t().update(qA(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(VQ,"createHasher");function jQ(t){let e=o((n,i)=>t(i).update(qA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(jQ,"createOptHasher");function zQ(t){let e=o((n,i)=>t(i).update(qA(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(zQ,"createXOFer");Kt.wrapConstructor=VQ;Kt.wrapConstructorWithOpts=jQ;Kt.wrapXOFConstructorWithOpts=zQ;function MBe(t=32){if(Cb.crypto&&typeof Cb.crypto.getRandomValues=="function")return Cb.crypto.getRandomValues(new Uint8Array(t));if(Cb.crypto&&typeof Cb.crypto.randomBytes=="function")return Uint8Array.from(Cb.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(MBe,"randomBytes")});var $Q=j(Ca=>{"use strict";p();m();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.SHA512_IV=Ca.SHA384_IV=Ca.SHA224_IV=Ca.SHA256_IV=Ca.HashMD=void 0;Ca.setBigUint64=KQ;Ca.Chi=NBe;Ca.Maj=CBe;var ql=VA();function KQ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(KQ,"setBigUint64");function NBe(t,e,r){return t&e^~t&r}o(NBe,"Chi");function CBe(t,e,r){return t&e^t&r^e&r}o(CBe,"Maj");var _B=class extends ql.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,ql.createView)(this.buffer)}update(e){(0,ql.aexists)(this),e=(0,ql.toBytes)(e),(0,ql.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=(0,ql.createView)(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,ql.aexists)(this),(0,ql.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,ql.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;KQ(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,ql.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};Ca.HashMD=_B;Ca.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ca.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ca.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ca.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var EB=j(sr=>{"use strict";p();m();Object.defineProperty(sr,"__esModule",{value:!0});sr.toBig=sr.shrSL=sr.shrSH=sr.rotrSL=sr.rotrSH=sr.rotrBL=sr.rotrBH=sr.rotr32L=sr.rotr32H=sr.rotlSL=sr.rotlSH=sr.rotlBL=sr.rotlBH=sr.add5L=sr.add5H=sr.add4L=sr.add4H=sr.add3L=sr.add3H=void 0;sr.add=aee;sr.fromBig=SB;sr.split=GQ;var jA=BigInt(2**32-1),wB=BigInt(32);function SB(t,e=!1){return e?{h:Number(t&jA),l:Number(t>>wB&jA)}:{h:Number(t>>wB&jA)|0,l:Number(t&jA)|0}}o(SB,"fromBig");function GQ(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=SB(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(GQ,"split");var WQ=o((t,e)=>BigInt(t>>>0)<<wB|BigInt(e>>>0),"toBig");sr.toBig=WQ;var YQ=o((t,e,r)=>t>>>r,"shrSH");sr.shrSH=YQ;var XQ=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");sr.shrSL=XQ;var ZQ=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");sr.rotrSH=ZQ;var JQ=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");sr.rotrSL=JQ;var QQ=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");sr.rotrBH=QQ;var eee=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");sr.rotrBL=eee;var tee=o((t,e)=>e,"rotr32H");sr.rotr32H=tee;var ree=o((t,e)=>t,"rotr32L");sr.rotr32L=ree;var nee=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");sr.rotlSH=nee;var iee=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");sr.rotlSL=iee;var oee=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");sr.rotlBH=oee;var see=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");sr.rotlBL=see;function aee(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(aee,"add");var cee=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");sr.add3L=cee;var fee=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");sr.add3H=fee;var uee=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");sr.add4L=uee;var lee=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");sr.add4H=lee;var dee=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");sr.add5L=dee;var hee=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");sr.add5H=hee;var kBe={fromBig:SB,split:GQ,toBig:WQ,shrSH:YQ,shrSL:XQ,rotrSH:ZQ,rotrSL:JQ,rotrBH:QQ,rotrBL:eee,rotr32H:tee,rotr32L:ree,rotlSH:nee,rotlSL:iee,rotlBH:oee,rotlBL:see,add:aee,add3L:cee,add3H:fee,add4L:uee,add4H:lee,add5H:hee,add5L:dee};sr.default=kBe});var mee=j(Qn=>{"use strict";p();m();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.sha512_224=Qn.sha512_256=Qn.sha384=Qn.sha512=Qn.sha224=Qn.sha256=Qn.SHA512_256=Qn.SHA512_224=Qn.SHA384=Qn.SHA512=Qn.SHA224=Qn.SHA256=void 0;var qt=$Q(),Er=EB(),go=VA(),BBe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),G0=new Uint32Array(64),K_=class extends qt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=qt.SHA256_IV[0]|0,this.B=qt.SHA256_IV[1]|0,this.C=qt.SHA256_IV[2]|0,this.D=qt.SHA256_IV[3]|0,this.E=qt.SHA256_IV[4]|0,this.F=qt.SHA256_IV[5]|0,this.G=qt.SHA256_IV[6]|0,this.H=qt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)G0[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=G0[g-15],T=G0[g-2],O=(0,go.rotr)(S,7)^(0,go.rotr)(S,18)^S>>>3,M=(0,go.rotr)(T,17)^(0,go.rotr)(T,19)^T>>>10;G0[g]=M+G0[g-7]+O+G0[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=(0,go.rotr)(c,6)^(0,go.rotr)(c,11)^(0,go.rotr)(c,25),T=y+S+(0,qt.Chi)(c,u,h)+BBe[g]+G0[g]|0,M=((0,go.rotr)(n,2)^(0,go.rotr)(n,13)^(0,go.rotr)(n,22))+(0,qt.Maj)(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){(0,go.clean)(G0)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,go.clean)(this.buffer)}};Qn.SHA256=K_;var zA=class extends K_{static{o(this,"SHA224")}constructor(){super(28),this.A=qt.SHA224_IV[0]|0,this.B=qt.SHA224_IV[1]|0,this.C=qt.SHA224_IV[2]|0,this.D=qt.SHA224_IV[3]|0,this.E=qt.SHA224_IV[4]|0,this.F=qt.SHA224_IV[5]|0,this.G=qt.SHA224_IV[6]|0,this.H=qt.SHA224_IV[7]|0}};Qn.SHA224=zA;var pee=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),PBe=pee[0],LBe=pee[1],W0=new Uint32Array(80),Y0=new Uint32Array(80),Lg=class extends qt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=qt.SHA512_IV[0]|0,this.Al=qt.SHA512_IV[1]|0,this.Bh=qt.SHA512_IV[2]|0,this.Bl=qt.SHA512_IV[3]|0,this.Ch=qt.SHA512_IV[4]|0,this.Cl=qt.SHA512_IV[5]|0,this.Dh=qt.SHA512_IV[6]|0,this.Dl=qt.SHA512_IV[7]|0,this.Eh=qt.SHA512_IV[8]|0,this.El=qt.SHA512_IV[9]|0,this.Fh=qt.SHA512_IV[10]|0,this.Fl=qt.SHA512_IV[11]|0,this.Gh=qt.SHA512_IV[12]|0,this.Gl=qt.SHA512_IV[13]|0,this.Hh=qt.SHA512_IV[14]|0,this.Hl=qt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)W0[N]=e.getUint32(r),Y0[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=W0[N-15]|0,H=Y0[N-15]|0,F=Er.rotrSH(P,H,1)^Er.rotrSH(P,H,8)^Er.shrSH(P,H,7),Z=Er.rotrSL(P,H,1)^Er.rotrSL(P,H,8)^Er.shrSL(P,H,7),W=W0[N-2]|0,X=Y0[N-2]|0,E=Er.rotrSH(W,X,19)^Er.rotrBH(W,X,61)^Er.shrSH(W,X,6),f=Er.rotrSL(W,X,19)^Er.rotrBL(W,X,61)^Er.shrSL(W,X,6),d=Er.add4L(Z,f,Y0[N-7],Y0[N-16]),b=Er.add4H(d,F,E,W0[N-7],W0[N-16]);W0[N]=b|0,Y0[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Er.rotrSH(g,S,14)^Er.rotrSH(g,S,18)^Er.rotrBH(g,S,41),H=Er.rotrSL(g,S,14)^Er.rotrSL(g,S,18)^Er.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=Er.add5L(B,H,Z,LBe[N],Y0[N]),X=Er.add5H(W,C,P,F,PBe[N],W0[N]),E=W|0,f=Er.rotrSH(n,i,28)^Er.rotrBH(n,i,34)^Er.rotrBH(n,i,39),d=Er.rotrSL(n,i,28)^Er.rotrBL(n,i,34)^Er.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=Er.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=Er.add3L(E,d,x);n=Er.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Er.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Er.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=Er.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=Er.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=Er.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Er.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Er.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){(0,go.clean)(W0,Y0)}destroy(){(0,go.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Qn.SHA512=Lg;var KA=class extends Lg{static{o(this,"SHA384")}constructor(){super(48),this.Ah=qt.SHA384_IV[0]|0,this.Al=qt.SHA384_IV[1]|0,this.Bh=qt.SHA384_IV[2]|0,this.Bl=qt.SHA384_IV[3]|0,this.Ch=qt.SHA384_IV[4]|0,this.Cl=qt.SHA384_IV[5]|0,this.Dh=qt.SHA384_IV[6]|0,this.Dl=qt.SHA384_IV[7]|0,this.Eh=qt.SHA384_IV[8]|0,this.El=qt.SHA384_IV[9]|0,this.Fh=qt.SHA384_IV[10]|0,this.Fl=qt.SHA384_IV[11]|0,this.Gh=qt.SHA384_IV[12]|0,this.Gl=qt.SHA384_IV[13]|0,this.Hh=qt.SHA384_IV[14]|0,this.Hl=qt.SHA384_IV[15]|0}};Qn.SHA384=KA;var Ks=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),$s=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),$A=class extends Lg{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=Ks[0]|0,this.Al=Ks[1]|0,this.Bh=Ks[2]|0,this.Bl=Ks[3]|0,this.Ch=Ks[4]|0,this.Cl=Ks[5]|0,this.Dh=Ks[6]|0,this.Dl=Ks[7]|0,this.Eh=Ks[8]|0,this.El=Ks[9]|0,this.Fh=Ks[10]|0,this.Fl=Ks[11]|0,this.Gh=Ks[12]|0,this.Gl=Ks[13]|0,this.Hh=Ks[14]|0,this.Hl=Ks[15]|0}};Qn.SHA512_224=$A;var GA=class extends Lg{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=$s[0]|0,this.Al=$s[1]|0,this.Bh=$s[2]|0,this.Bl=$s[3]|0,this.Ch=$s[4]|0,this.Cl=$s[5]|0,this.Dh=$s[6]|0,this.Dl=$s[7]|0,this.Eh=$s[8]|0,this.El=$s[9]|0,this.Fh=$s[10]|0,this.Fl=$s[11]|0,this.Gh=$s[12]|0,this.Gl=$s[13]|0,this.Hh=$s[14]|0,this.Hl=$s[15]|0}};Qn.SHA512_256=GA;Qn.sha256=(0,go.createHasher)(()=>new K_);Qn.sha224=(0,go.createHasher)(()=>new zA);Qn.sha512=(0,go.createHasher)(()=>new Lg);Qn.sha384=(0,go.createHasher)(()=>new KA);Qn.sha512_256=(0,go.createHasher)(()=>new GA);Qn.sha512_224=(0,go.createHasher)(()=>new $A)});var gee=j(Vl=>{"use strict";p();m();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.sha224=Vl.SHA224=Vl.sha256=Vl.SHA256=void 0;var WA=mee();Vl.SHA256=WA.SHA256;Vl.sha256=WA.sha256;Vl.SHA224=WA.SHA224;Vl.sha224=WA.sha224});var yee=j(IB=>{"use strict";p();m();function ph(t,e,r){return e<=t&&t<=r}o(ph,"inRange");function QA(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}o(QA,"ToDictionary");function DBe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var c=s&1023,u=a&1023;i.push(65536+(c<<10)+u),n+=1}else i.push(65533)}n+=1}return i}o(DBe,"stringToCodePoints");function UBe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}o(UBe,"codePointsToString");var YA=-1;function TB(t){this.tokens=[].slice.call(t)}o(TB,"Stream");TB.prototype={endOfStream:o(function(){return!this.tokens.length},"endOfStream"),read:o(function(){return this.tokens.length?this.tokens.shift():YA},"read"),prepend:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},"prepend"),push:o(function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)},"push")};var Bb=-1;function AB(t,e){if(t)throw TypeError("Decoder error");return e||65533}o(AB,"decoderError");var XA="utf-8";function ZA(t,e){if(!(this instanceof ZA))return new ZA(t,e);if(t=t!==void 0?String(t).toLowerCase():XA,t!==XA)throw new Error("Encoding not supported. Only utf-8 is supported");e=QA(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}o(ZA,"TextDecoder");ZA.prototype={decode:o(function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=QA(r),this._streaming||(this._decoder=new FBe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new TB(n),s=[],a;!i.endOfStream()&&(a=this._decoder.handler(i,i.read()),a!==Bb);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(i,i.read()),a===Bb)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),UBe(s)},"decode")};function JA(t,e){if(!(this instanceof JA))return new JA(t,e);if(t=t!==void 0?String(t).toLowerCase():XA,t!==XA)throw new Error("Encoding not supported. Only utf-8 is supported");e=QA(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}o(JA,"TextEncoder");JA.prototype={encode:o(function(e,r){e=e?String(e):"",r=QA(r),this._streaming||(this._encoder=new HBe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new TB(DBe(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Bb);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Bb;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)},"encode")};function FBe(t){var e=t.fatal,r=0,n=0,i=0,s=128,a=191;this.handler=function(c,u){if(u===YA&&i!==0)return i=0,AB(e);if(u===YA)return Bb;if(i===0){if(ph(u,0,127))return u;if(ph(u,194,223))i=1,r=u-192;else if(ph(u,224,239))u===224&&(s=160),u===237&&(a=159),i=2,r=u-224;else if(ph(u,240,244))u===240&&(s=144),u===244&&(a=143),i=3,r=u-240;else return AB(e);return r=r<<6*i,null}if(!ph(u,s,a))return r=i=n=0,s=128,a=191,c.prepend(u),AB(e);if(s=128,a=191,n+=1,r+=u-128<<6*(i-n),n!==i)return null;var h=r;return r=i=n=0,h}}o(FBe,"UTF8Decoder");function HBe(t){var e=t.fatal;this.handler=function(r,n){if(n===YA)return Bb;if(ph(n,0,127))return n;var i,s;ph(n,128,2047)?(i=1,s=192):ph(n,2048,65535)?(i=2,s=224):ph(n,65536,1114111)&&(i=3,s=240);for(var a=[(n>>6*i)+s];i>0;){var c=n>>6*(i-1);a.push(128|c&63),i-=1}return a}}o(HBe,"UTF8Encoder");IB.TextEncoder=JA;IB.TextDecoder=ZA});var wee=j(Ln=>{"use strict";p();m();var qBe=Ln&&Ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:o(function(){return e[r]},"get")})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VBe=Ln&&Ln.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jl=Ln&&Ln.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},jBe=Ln&&Ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&qBe(e,t,r);return VBe(e,t),e},bee=Ln&&Ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.deserializeUnchecked=Ln.deserialize=Ln.serialize=Ln.BinaryReader=Ln.BinaryWriter=Ln.BorshError=Ln.baseDecode=Ln.baseEncode=void 0;var X0=bee(bb()),xee=bee(Mu()),zBe=jBe(yee()),KBe=typeof TextDecoder!="function"?zBe.TextDecoder:TextDecoder,$Be=new KBe("utf-8",{fatal:!0});function GBe(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),xee.default.encode(Buffer.from(t))}o(GBe,"baseEncode");Ln.baseEncode=GBe;function WBe(t){return Buffer.from(xee.default.decode(t))}o(WBe,"baseDecode");Ln.baseDecode=WBe;var RB=1024,ds=class extends Error{static{o(this,"BorshError")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Ln.BorshError=ds;var e4=class{static{o(this,"BinaryWriter")}constructor(){this.buf=Buffer.alloc(RB),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(RB)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new X0.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new X0.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new X0.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new X0.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(RB)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Ln.BinaryWriter=e4;function zl(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){let a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new ds("Reached the end of buffer when deserializing")}throw s}}}o(zl,"handlingRangeError");var ka=class{static{o(this,"BinaryReader")}constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new X0.default(e,"le")}readU128(){let e=this.readBuffer(16);return new X0.default(e,"le")}readU256(){let e=this.readBuffer(32);return new X0.default(e,"le")}readU512(){let e=this.readBuffer(64);return new X0.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ds(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return $Be.decode(r)}catch(n){throw new ds(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};jl([zl],ka.prototype,"readU8",null);jl([zl],ka.prototype,"readU16",null);jl([zl],ka.prototype,"readU32",null);jl([zl],ka.prototype,"readU64",null);jl([zl],ka.prototype,"readU128",null);jl([zl],ka.prototype,"readU256",null);jl([zl],ka.prototype,"readU512",null);jl([zl],ka.prototype,"readString",null);jl([zl],ka.prototype,"readFixedArray",null);jl([zl],ka.prototype,"readArray",null);Ln.BinaryReader=ka;function vee(t){return t.charAt(0).toUpperCase()+t.slice(1)}o(vee,"capitalizeFirstLetter");function Dg(t,e,r,n,i){try{if(typeof n=="string")i[`write${vee(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new ds(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new ds(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Dg(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{Dg(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Dg(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,a)=>{Dg(t,e,a,n.key,i),Dg(t,e,s,n.value,i)});break}default:throw new ds(`FieldType ${n} unrecognized`)}else _ee(t,r,i)}catch(s){throw s instanceof ds&&s.addToFieldPath(e),s}}o(Dg,"serializeField");function _ee(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new ds(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Dg(t,i,e[i],s,r)});else if(n.kind==="enum"){let i=e[n.field];for(let s=0;s<n.values.length;++s){let[a,c]=n.values[s];if(a===i){r.writeU8(s),Dg(t,a,e[a],c,r);break}}}else throw new ds(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(_ee,"serializeStruct");function YBe(t,e,r=e4){let n=new r;return _ee(t,e,n),n.toArray()}o(YBe,"serialize");Ln.serialize=YBe;function Ug(t,e,r,n){try{if(typeof r=="string")return n[`read${vee(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let s=0;s<r[1];s++)i.push(Ug(t,null,r[0],n));return i}else return n.readArray(()=>Ug(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Ug(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,s=n.readU32();for(let a=0;a<s;a++){let c=Ug(t,e,r.key,n),u=Ug(t,e,r.value,n);i.set(c,u)}return i}return OB(t,r,n)}catch(i){throw i instanceof ds&&i.addToFieldPath(e),i}}o(Ug,"deserializeField");function OB(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new ds(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[s,a]of t.get(e).fields)i[s]=Ug(t,s,a,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new ds(`Enum index: ${i} is out of range`);let[s,a]=n.values[i],c=Ug(t,s,a,r);return new e({[s]:c})}throw new ds(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o(OB,"deserializeStruct");function XBe(t,e,r,n=ka){let i=new n(r),s=OB(t,e,i);if(i.offset<r.length)throw new ds(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}o(XBe,"deserialize");Ln.deserialize=XBe;function ZBe(t,e,r,n=ka){let i=new n(r);return OB(t,e,i)}o(ZBe,"deserializeUnchecked");Ln.deserializeUnchecked=ZBe});var kB=j(Ie=>{"use strict";p();m();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.s16=Ie.s8=Ie.nu64be=Ie.u48be=Ie.u40be=Ie.u32be=Ie.u24be=Ie.u16be=Ie.nu64=Ie.u48=Ie.u40=Ie.u32=Ie.u24=Ie.u16=Ie.u8=Ie.offset=Ie.greedy=Ie.Constant=Ie.UTF8=Ie.CString=Ie.Blob=Ie.Boolean=Ie.BitField=Ie.BitStructure=Ie.VariantLayout=Ie.Union=Ie.UnionLayoutDiscriminator=Ie.UnionDiscriminator=Ie.Structure=Ie.Sequence=Ie.DoubleBE=Ie.Double=Ie.FloatBE=Ie.Float=Ie.NearInt64BE=Ie.NearInt64=Ie.NearUInt64BE=Ie.NearUInt64=Ie.IntBE=Ie.Int=Ie.UIntBE=Ie.UInt=Ie.OffsetLayout=Ie.GreedyCount=Ie.ExternalLayout=Ie.bindConstructorLayout=Ie.nameWithProperty=Ie.Layout=Ie.uint8ArrayToBuffer=Ie.checkUint8Array=void 0;Ie.constant=Ie.utf8=Ie.cstr=Ie.blob=Ie.unionLayoutDiscriminator=Ie.union=Ie.seq=Ie.bits=Ie.struct=Ie.f64be=Ie.f64=Ie.f32be=Ie.f32=Ie.ns64be=Ie.s48be=Ie.s40be=Ie.s32be=Ie.s24be=Ie.s16be=Ie.ns64=Ie.s48=Ie.s40=Ie.s32=Ie.s24=void 0;var NB=li();function Db(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Db,"checkUint8Array");Ie.checkUint8Array=Db;function cn(t){return Db(t),NB.Buffer.from(t.buffer,t.byteOffset,t.length)}o(cn,"uint8ArrayToBuffer");Ie.uint8ArrayToBuffer=cn;var vn=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Ie.Layout=vn;function CB(t,e){return e.property?t+"["+e.property+"]":t}o(CB,"nameWithProperty");Ie.nameWithProperty=CB;function JBe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof vn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(JBe,"bindConstructorLayout");Ie.bindConstructorLayout=JBe;var Gs=class extends vn{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Ie.ExternalLayout=Gs;var t4=class extends Gs{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Db(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Ie.GreedyCount=t4;var $_=class extends Gs{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof vn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof ic||this.layout instanceof Vc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Ie.OffsetLayout=$_;var ic=class extends vn{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntLE(e,n,this.span),this.span}};Ie.UInt=ic;var Vc=class extends vn{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeUIntBE(e,n,this.span),this.span}};Ie.UIntBE=Vc;var mh=class extends vn{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntLE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntLE(e,n,this.span),this.span}};Ie.Int=mh;var Z0=class extends vn{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return cn(e).readIntBE(r,this.span)}encode(e,r,n=0){return cn(r).writeIntBE(e,n,this.span),this.span}};Ie.IntBE=Z0;var MB=Math.pow(2,32);function b4(t){let e=Math.floor(t/MB),r=t-e*MB;return{hi32:e,lo32:r}}o(b4,"divmodInt64");function x4(t,e){return t*MB+e}o(x4,"roundedInt64");var r4=class extends vn{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return x4(s,i)}encode(e,r,n=0){let i=b4(e),s=cn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Ie.NearUInt64=r4;var n4=class extends vn{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return x4(i,s)}encode(e,r,n=0){let i=b4(e),s=cn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearUInt64BE=n4;var i4=class extends vn{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return x4(s,i)}encode(e,r,n=0){let i=b4(e),s=cn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Ie.NearInt64=i4;var o4=class extends vn{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=cn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return x4(i,s)}encode(e,r,n=0){let i=b4(e),s=cn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ie.NearInt64BE=o4;var s4=class extends vn{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatLE(r)}encode(e,r,n=0){return cn(r).writeFloatLE(e,n),4}};Ie.Float=s4;var a4=class extends vn{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return cn(e).readFloatBE(r)}encode(e,r,n=0){return cn(r).writeFloatBE(e,n),4}};Ie.FloatBE=a4;var c4=class extends vn{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleLE(r)}encode(e,r,n=0){return cn(r).writeDoubleLE(e,n),8}};Ie.Double=c4;var f4=class extends vn{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return cn(e).readDoubleBE(r)}encode(e,r,n=0){return cn(r).writeDoubleBE(e,n),8}};Ie.DoubleBE=f4;var u4=class extends vn{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof vn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Gs&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Gs)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Gs&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof Gs&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof Gs&&this.count.encode(e.length,r,n),s}};Ie.Sequence=u4;var l4=class extends vn{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof vn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Db(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let u=c.span;if(a=0<u?u:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>u&&(u=c.getSpan(r,n)))}s=n,n+=u}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Ie.Structure=l4;var G_=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Ie.UnionDiscriminator=G_;var Lb=class extends G_{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof Gs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Ie.UnionLayoutDiscriminator=Lb;var W_=class extends vn{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof ic||e instanceof Vc)i=new Lb(new $_(e));else if(e instanceof Gs&&e.isCount())i=new Lb(e);else if(e instanceof G_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof vn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof ic||e instanceof Vc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof ic||e instanceof Vc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+u)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new d4(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Ie.Union=W_;var d4=class extends vn{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof W_))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof vn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Ie.VariantLayout=d4;function Pb(t){return 0>t&&(t+=4294967296),t}o(Pb,"fixBitwiseResult");var Y_=class extends vn{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof ic||e instanceof Vc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Pb(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new X_(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new h4(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Ie.BitStructure=Y_;var X_=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof Y_))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Pb(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Pb(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Pb(e&this.valueMask))throw new TypeError(CB("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Pb(e<<this.start);this.container._packedSetValue(Pb(r&~this.wordMask)|n)}};Ie.BitField=X_;var h4=class extends X_{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ie.Boolean=h4;var p4=class extends vn{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof Gs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Gs||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),cn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Gs&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(CB("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=cn(e);return cn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Gs&&this.length.encode(i,r,n),i}};Ie.Blob=p4;var m4=class extends vn{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Db(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return cn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=NB.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=cn(r);return i.copy(a,n),a[n+s]=0,s+1}};Ie.CString=m4;var g4=class extends vn{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Db(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return cn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=NB.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(cn(r),n),s}};Ie.UTF8=g4;var y4=class extends vn{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Ie.Constant=y4;Ie.greedy=(t,e)=>new t4(t,e);Ie.offset=(t,e,r)=>new $_(t,e,r);Ie.u8=t=>new ic(1,t);Ie.u16=t=>new ic(2,t);Ie.u24=t=>new ic(3,t);Ie.u32=t=>new ic(4,t);Ie.u40=t=>new ic(5,t);Ie.u48=t=>new ic(6,t);Ie.nu64=t=>new r4(t);Ie.u16be=t=>new Vc(2,t);Ie.u24be=t=>new Vc(3,t);Ie.u32be=t=>new Vc(4,t);Ie.u40be=t=>new Vc(5,t);Ie.u48be=t=>new Vc(6,t);Ie.nu64be=t=>new n4(t);Ie.s8=t=>new mh(1,t);Ie.s16=t=>new mh(2,t);Ie.s24=t=>new mh(3,t);Ie.s32=t=>new mh(4,t);Ie.s40=t=>new mh(5,t);Ie.s48=t=>new mh(6,t);Ie.ns64=t=>new i4(t);Ie.s16be=t=>new Z0(2,t);Ie.s24be=t=>new Z0(3,t);Ie.s32be=t=>new Z0(4,t);Ie.s40be=t=>new Z0(5,t);Ie.s48be=t=>new Z0(6,t);Ie.ns64be=t=>new o4(t);Ie.f32=t=>new s4(t);Ie.f32be=t=>new a4(t);Ie.f64=t=>new c4(t);Ie.f64be=t=>new f4(t);Ie.struct=(t,e,r)=>new l4(t,e,r);Ie.bits=(t,e,r)=>new Y_(t,e,r);Ie.seq=(t,e,r)=>new u4(t,e,r);Ie.union=(t,e,r)=>new W_(t,e,r);Ie.unionLayoutDiscriminator=(t,e)=>new Lb(t,e);Ie.blob=(t,e)=>new p4(t,e);Ie.cstr=t=>new m4(t);Ie.utf8=(t,e)=>new g4(t,e);Ie.constant=(t,e)=>new y4(t,e)});var oP=j(fe=>{"use strict";p();m();var See=1,Eee=2,Aee=3,Tee=4,Iee=5,Ree=6,Oee=7,Mee=8,Nee=9,BB=10,PB=-32700,LB=-32603,DB=-32602,UB=-32601,FB=-32600,Cee=-32016,HB=-32015,qB=-32014,kee=-32013,VB=-32012,Bee=-32011,jB=-32010,zB=-32009,Pee=-32008,KB=-32007,$B=-32006,Lee=-32005,GB=-32004,Dee=-32003,v4=-32002,WB=-32001,Uee=28e5,Fee=2800001,Hee=2800002,qee=2800003,Vee=2800004,jee=2800005,zee=2800006,Kee=2800007,$ee=2800008,Gee=2800009,Wee=2800010,Yee=2800011,Xee=323e4,Zee=32300001,Jee=3230002,Qee=3230003,ete=3230004,tte=361e4,rte=3610001,nte=3610002,ite=3610003,ote=3610004,ste=3610005,ate=3610006,cte=3610007,fte=3611e3,ute=3704e3,lte=3704001,dte=3704002,hte=3704003,pte=3704004,mte=4128e3,gte=4128001,yte=4128002,YB=4615e3,bte=4615001,xte=4615002,vte=4615003,_te=4615004,wte=4615005,Ste=4615006,Ete=4615007,Ate=4615008,Tte=4615009,Ite=4615010,Rte=4615011,Ote=4615012,Mte=4615013,Nte=4615014,Cte=4615015,kte=4615016,Bte=4615017,Pte=4615018,Lte=4615019,Dte=4615020,Ute=4615021,Fte=4615022,Hte=4615023,qte=4615024,Vte=4615025,XB=4615026,jte=4615027,zte=4615028,Kte=4615029,$te=4615030,Gte=4615031,Wte=4615032,Yte=4615033,Xte=4615034,Zte=4615035,Jte=4615036,Qte=4615037,ere=4615038,tre=4615039,rre=4615040,nre=4615041,ire=4615042,ore=4615043,sre=4615044,ZB=4615045,are=4615046,cre=4615047,fre=4615048,ure=4615049,lre=4615050,dre=4615051,hre=4615052,pre=4615053,mre=4615054,gre=5508e3,yre=5508001,bre=5508002,xre=5508003,vre=5508004,_re=5508005,wre=5508006,Sre=5508007,Ere=5508008,Are=5508009,Tre=5508010,Ire=5508011,Rre=5663e3,Ore=5663001,Mre=5663002,Nre=5663003,Cre=5663004,kre=5663005,Bre=5663006,Pre=5663007,Lre=5663008,Dre=5663009,Ure=5663010,Fre=5663011,Hre=5663012,qre=5663013,Vre=5663014,jre=5663015,zre=5663016,Kre=5663017,$re=5663018,Gre=5663019,Wre=5663020,JB=705e4,Yre=7050001,Xre=7050002,Zre=7050003,Jre=7050004,Qre=7050005,ene=7050006,tne=7050007,rne=7050008,nne=7050009,ine=7050010,one=7050011,sne=7050012,ane=7050013,cne=7050014,fne=7050015,une=7050016,lne=7050017,dne=7050018,hne=7050019,pne=7050020,mne=7050021,gne=7050022,yne=7050023,bne=7050024,xne=7050025,vne=7050026,_ne=7050027,wne=7050028,Sne=7050029,QB=7050030,eP=7050031,Ene=7050032,Ane=7050033,Tne=7050034,tP=7050035,Ine=7050036,Rne=8078e3,One=8078001,Mne=8078002,Nne=8078003,Cne=8078004,kne=8078005,Bne=8078006,Pne=8078007,Lne=8078008,Dne=8078009,Une=8078010,Fne=8078011,Hne=8078012,qne=8078013,Vne=8078014,jne=8078015,zne=8078016,Kne=8078017,$ne=8078018,Gne=8078019,Wne=8078020,Yne=8078021,Xne=8078022,Zne=81e5,Jne=8100001,Qne=8100002,eie=8100003,tie=819e4,rie=8190001,nie=8190002,iie=8190003,oie=8190004,sie=99e5,aie=9900001,cie=9900002,fie=9900003,uie=9900004;function lie(t){return Array.isArray(t)?"%5B"+t.map(lie).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}o(lie,"encodeValue");function QBe([t,e]){return`${t}=${lie(e)}`}o(QBe,"encodeObjectContextEntry");function ePe(t){let e=Object.entries(t).map(QBe).join("&");return btoa(e)}o(ePe,"encodeContextObject");var tPe={[Xee]:"Account not found at address: $address",[ete]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Qee]:"Expected decoded account at address: $address",[Jee]:"Failed to decode account data at address: $address",[Zee]:"Accounts not found at addresses: $addresses",[Gee]:"Unable to find a viable program address bump seed.",[Hee]:"$putativeAddress is not a base58-encoded address.",[Uee]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[qee]:"The `CryptoKey` must be an `Ed25519` public key.",[Yee]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[$ee]:"Invalid seeds; point must fall off the Ed25519 curve.",[Vee]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[zee]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[Kee]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[jee]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[Wee]:"Program address cannot end with PDA marker.",[Fee]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Tee]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[See]:"The network has progressed past the last block for which this transaction could have been committed.",[Rne]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Xne]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[Wne]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[kne]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Bne]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Cne]:"Encoder and decoder must either both be fixed-size or variable-size.",[Lne]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[Mne]:"Expected a fixed-size codec, got a variable-size one.",[qne]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[Nne]:"Expected a variable-size codec, got a fixed-size one.",[Gne]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[One]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[$ne]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[Dne]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[Une]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[jne]:"Invalid literal union variant. Expected one of [$variants], got $value.",[Pne]:"Expected [$codecDescription] to have $expected items, got $actual.",[Hne]:"Invalid value $value for base $base with alphabet $alphabet.",[zne]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[Fne]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Vne]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[Yne]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[Kne]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[fte]:"No random values implementation could be found.",[Tte]:"instruction requires an uninitialized account",[Hte]:"instruction tries to borrow reference for an account which is already borrowed",[qte]:"instruction left account with an outstanding borrowed reference",[Ute]:"program other than the account's owner changed the size of the account data",[wte]:"account data too small for instruction",[Fte]:"instruction expected an executable account",[are]:"An account does not have enough lamports to be rent-exempt",[fre]:"Program arithmetic overflowed",[ZB]:"Failed to serialize or deserialize account data: $encodedData",[mre]:"Builtin programs must consume compute units",[Wte]:"Cross-program invocation call depth too deep",[ere]:"Computational budget exceeded",[XB]:"custom program error: #$code",[Bte]:"instruction contains duplicate accounts",[Vte]:"instruction modifications of multiply-passed account differ",[$te]:"executable accounts must be rent exempt",[zte]:"instruction changed executable accounts data",[Kte]:"instruction changed the balance of an executable account",[Pte]:"instruction changed executable bit of an account",[Nte]:"instruction modified data of an account it does not own",[Mte]:"instruction spent from the balance of an account it does not own",[bte]:"generic instruction error",[lre]:"Provided owner is not allowed",[ore]:"Account is immutable",[sre]:"Incorrect authority provided",[Ete]:"incorrect program id for instruction",[Ste]:"insufficient funds for instruction",[_te]:"invalid account data for instruction",[cre]:"Invalid account owner",[xte]:"invalid program argument",[jte]:"program returned invalid error code",[vte]:"invalid instruction data",[Qte]:"Failed to reallocate account data",[Jte]:"Provided seeds do not result in a valid address",[dre]:"Accounts data allocations exceeded the maximum allowed per transaction",[hre]:"Max accounts exceeded",[pre]:"Max instruction trace length exceeded",[Zte]:"Length of the seed is too long for address generation",[Yte]:"An account required by the instruction is missing",[Ate]:"missing required signature for instruction",[Ote]:"instruction illegally modified the program id of an account",[Dte]:"insufficient account keys for instruction",[tre]:"Cross-program invocation with unauthorized signer or writable account",[rre]:"Failed to create program execution environment",[ire]:"Program failed to compile",[nre]:"Program failed to complete",[kte]:"instruction modified data of a read-only account",[Cte]:"instruction changed the balance of a read-only account",[Xte]:"Cross-program invocation reentrancy not allowed for this instruction",[Lte]:"instruction modified rent epoch of an account",[Rte]:"sum of account balances before and after instruction do not match",[Ite]:"instruction requires an initialized account",[YB]:"",[Gte]:"Unsupported program id",[ure]:"Unsupported sysvar",[mte]:"The instruction does not have any accounts.",[gte]:"The instruction does not have any data.",[yte]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Iee]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Eee]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[cie]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[uie]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[aie]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[sie]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[fie]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[LB]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[DB]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[FB]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[UB]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[PB]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[VB]:"$__serverMessage",[WB]:"$__serverMessage",[GB]:"$__serverMessage",[qB]:"$__serverMessage",[jB]:"$__serverMessage",[zB]:"$__serverMessage",[Cee]:"Minimum context slot has not been reached",[Lee]:"Node is unhealthy; behind by $numSlotsBehind slots",[Pee]:"No snapshot",[v4]:"Transaction simulation failed",[KB]:"$__serverMessage",[Bee]:"Transaction history is not available from this node",[$B]:"$__serverMessage",[kee]:"Transaction signature length mismatch",[Dee]:"Transaction signature verification failure",[HB]:"$__serverMessage",[ute]:"Key pair bytes must be of length 64, got $byteLength.",[lte]:"Expected private key bytes with length 32. Actual length: $actualLength.",[dte]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[pte]:"The provided private key does not match the provided public key.",[hte]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Ree]:"Lamports value must be in the range [0, 2e64-1]",[Oee]:"`$value` cannot be parsed as a `BigInt`",[BB]:"$message",[Mee]:"`$value` cannot be parsed as a `Number`",[Aee]:"No nonce account could be found at address `$nonceAccountAddress`",[tie]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[nie]:"WebSocket was closed before payload could be added to the send buffer",[iie]:"WebSocket connection closed",[oie]:"WebSocket failed to connect",[rie]:"Failed to obtain a subscription id from the server",[eie]:"Could not find an API plan for RPC method: `$method`",[Zne]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Qne]:"HTTP error ($statusCode): $message",[Jne]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[gre]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[yre]:"The provided value does not implement the `KeyPairSigner` interface",[xre]:"The provided value does not implement the `MessageModifyingSigner` interface",[vre]:"The provided value does not implement the `MessagePartialSigner` interface",[bre]:"The provided value does not implement any of the `MessageSigner` interfaces",[wre]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Sre]:"The provided value does not implement the `TransactionPartialSigner` interface",[Ere]:"The provided value does not implement the `TransactionSendingSigner` interface",[_re]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Are]:"More than one `TransactionSendingSigner` was identified.",[Tre]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[Ire]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[cte]:"Cannot export a non-extractable key.",[rte]:"No digest implementation could be found.",[tte]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[nte]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[ite]:"No signature verification implementation could be found.",[ote]:"No key generation implementation could be found.",[ste]:"No signing implementation could be found.",[ate]:"No key export implementation could be found.",[Nee]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[une]:"Transaction processing left an account with an outstanding borrowed reference",[Yre]:"Account in use",[Xre]:"Account loaded twice",[Zre]:"Attempt to debit an account but found no record of a prior credit.",[yne]:"Transaction loads an address table account that doesn't exist",[tne]:"This transaction has already been processed",[rne]:"Blockhash not found",[nne]:"Loader call chain is too deep",[fne]:"Transactions are currently disabled due to cluster maintenance",[QB]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Qre]:"Insufficient funds for fee",[eP]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[ene]:"This account may not be used to pay transaction fees",[one]:"Transaction contains an invalid account reference",[xne]:"Transaction loads an address table account with invalid data",[vne]:"Transaction address table lookup uses an invalid index",[bne]:"Transaction loads an address table account with an invalid owner",[Ane]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[ane]:"This program may not be used for executing instructions",[_ne]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[hne]:"Transaction loads a writable account that cannot be written",[Ene]:"Transaction exceeded max loaded accounts data size cap",[ine]:"Transaction requires a fee but has no signature present",[Jre]:"Attempt to load a program that does not exist",[tP]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[Tne]:"ResanitizationNeeded",[cne]:"Transaction failed to sanitize accounts offsets correctly",[sne]:"Transaction did not pass signature verification",[gne]:"Transaction locked too many accounts",[Ine]:"Sum of account balances before and after transaction do not match",[JB]:"The transaction failed with the error `$errorName`",[dne]:"Transaction version is unsupported",[mne]:"Transaction would exceed account data limit within the block",[Sne]:"Transaction would exceed total account data limit",[pne]:"Transaction would exceed max account limit within the block",[lne]:"Transaction would exceed max Block Cost Limit",[wne]:"Transaction would exceed max Vote Cost Limit",[jre]:"Attempted to sign a transaction with an address that is not a signer for it",[Ure]:"Transaction is missing an address at index: $index.",[zre]:"Transaction has no expected signers therefore it cannot be encoded",[Wre]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[Mre]:"Transaction does not have a blockhash lifetime",[Nre]:"Transaction is not a durable nonce transaction",[kre]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Bre]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Lre]:"No fee payer set in CompiledTransaction",[Pre]:"Could not find program address at index $index",[$re]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Gre]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[Fre]:"Transaction is missing a fee payer.",[Hre]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Vre]:"Transaction first instruction is not advance nonce account instruction.",[qre]:"Transaction with no instructions cannot be durable nonce transaction.",[Rre]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[Ore]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Kre]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[Dre]:"Transaction is missing signatures for addresses: $addresses.",[Cre]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},gh="i",Kl="t";function rPe(t,e={}){let r=tPe[t];if(r.length===0)return"";let n;function i(a){if(n[Kl]===2){let c=r.slice(n[gh]+1,a);s.push(c in e?`${e[c]}`:`$${c}`)}else n[Kl]===1&&s.push(r.slice(n[gh],a))}o(i,"commitStateUpTo");let s=[];return r.split("").forEach((a,c)=>{if(c===0){n={[gh]:0,[Kl]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let u;switch(n[Kl]){case 0:u={[gh]:c,[Kl]:1};break;case 1:a==="\\"?u={[gh]:c,[Kl]:0}:a==="$"&&(u={[gh]:c,[Kl]:2});break;case 2:a==="\\"?u={[gh]:c,[Kl]:0}:a==="$"?u={[gh]:c,[Kl]:2}:a.match(/\w/)||(u={[gh]:c,[Kl]:1});break}u&&(n!==u&&i(c),n=u)}),i(),s.join("")}o(rPe,"getHumanReadableErrorMessage");function nPe(t,e={}){if(R.NODE_ENV!=="production")return rPe(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${ePe(e)}'`),`${r}\``}}o(nPe,"getErrorMessage");function iPe(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}o(iPe,"isSolanaError");var Z_=class extends Error{static{o(this,"SolanaError")}cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:s,...a}=e;s&&(n={cause:s}),Object.keys(a).length>0&&(r=a)}let i=nPe(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function rP(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}o(rP,"safeCaptureStackTrace");function die({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let s,a;typeof n=="string"?s=n:(s=Object.keys(n)[0],a=n[s]);let c=r.indexOf(s),u=t+c,h=e(u,s,a),y=new Z_(u,h);return rP(y,i),y}o(die,"getSolanaErrorFromRpcError");var oPe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function nP(t,e){let r=Number(t);return die({errorCodeBaseOffset:4615001,getErrorContext(n,i,s){return n===YB?{errorName:i,index:r,...s!==void 0?{instructionErrorContext:s}:null}:n===XB?{code:Number(s),index:r}:n===ZB?{encodedData:s,index:r}:{index:r}},orderedErrorNames:oPe,rpcEnumError:e},nP)}o(nP,"getSolanaErrorFromInstructionError");var sPe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function iP(t){return typeof t=="object"&&"InstructionError"in t?nP(...t.InstructionError):die({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===JB)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===QB)return{index:Number(n)};if(e===eP||e===tP)return{accountIndex:Number(n.account_index)}},orderedErrorNames:sPe,rpcEnumError:t},iP)}o(iP,"getSolanaErrorFromTransactionError");function hie(t){let e;if(aPe(t)){let{code:r,data:n,message:i}=t,s=Number(r);if(s===v4){let{err:a,...c}=n,u=a?{cause:iP(a)}:null;e=new Z_(v4,{...c,...u})}else{let a;switch(s){case LB:case DB:case FB:case UB:case PB:case VB:case WB:case GB:case qB:case jB:case zB:case KB:case $B:case HB:a={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(a=n)}e=new Z_(s,a)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Z_(BB,{error:t,message:r})}return rP(e,hie),e}o(hie,"getSolanaErrorFromJsonRpcError");function aPe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}o(aPe,"isRpcErrorResponse");fe.SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=Xee;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=ete;fe.SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=Qee;fe.SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=Jee;fe.SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=Zee;fe.SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=Gee;fe.SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=Hee;fe.SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=Uee;fe.SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=qee;fe.SOLANA_ERROR__ADDRESSES__INVALID_OFF_CURVE_ADDRESS=Yee;fe.SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=$ee;fe.SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=Vee;fe.SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=zee;fe.SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=Kee;fe.SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=jee;fe.SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=Wee;fe.SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=Fee;fe.SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=Tee;fe.SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=See;fe.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=Rne;fe.SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=Xne;fe.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=Wne;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=kne;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=Bne;fe.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=Cne;fe.SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=Lne;fe.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=Mne;fe.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=qne;fe.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=Nne;fe.SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=Gne;fe.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=One;fe.SOLANA_ERROR__CODECS__INVALID_CONSTANT=$ne;fe.SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=Dne;fe.SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=Une;fe.SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=jne;fe.SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=Pne;fe.SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=Hne;fe.SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=zne;fe.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=Fne;fe.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=Vne;fe.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=Yne;fe.SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=Kne;fe.SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=fte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=Tte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=Hte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=qte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=Ute;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=wte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=Fte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=are;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=fre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=ZB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=mre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=Wte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=ere;fe.SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=XB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=Bte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=Vte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=$te;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=zte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=Kte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=Pte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=Nte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=Mte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=bte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=lre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=ore;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=sre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=Ete;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=Ste;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=_te;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=cre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=xte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=jte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=vte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=Qte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=Jte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=dre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=hre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=pre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=Zte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=Yte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=Ate;fe.SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=Ote;fe.SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=Dte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=tre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=rre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=ire;fe.SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=nre;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=kte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=Cte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=Xte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=Lte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=Rte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=Ite;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=YB;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=Gte;fe.SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=ure;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=mte;fe.SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=gte;fe.SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=yte;fe.SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=Iee;fe.SOLANA_ERROR__INVALID_NONCE=Eee;fe.SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=cie;fe.SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=uie;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=aie;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=sie;fe.SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=fie;fe.SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=LB;fe.SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=DB;fe.SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=FB;fe.SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=UB;fe.SOLANA_ERROR__JSON_RPC__PARSE_ERROR=PB;fe.SOLANA_ERROR__JSON_RPC__SCAN_ERROR=VB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=WB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=GB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=qB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=jB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=zB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=Cee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=Lee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=Pee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=v4;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=KB;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=Bee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=$B;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=kee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=Dee;fe.SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=HB;fe.SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=ute;fe.SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=lte;fe.SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=dte;fe.SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=pte;fe.SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=hte;fe.SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=Ree;fe.SOLANA_ERROR__MALFORMED_BIGINT_STRING=Oee;fe.SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=BB;fe.SOLANA_ERROR__MALFORMED_NUMBER_STRING=Mee;fe.SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=Aee;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=tie;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=nie;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=iie;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=oie;fe.SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=rie;fe.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=eie;fe.SOLANA_ERROR__RPC__INTEGER_OVERFLOW=Zne;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=Qne;fe.SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=Jne;fe.SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=gre;fe.SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=yre;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=xre;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=vre;fe.SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=bre;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=wre;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=Sre;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=Ere;fe.SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=_re;fe.SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=Are;fe.SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=Tre;fe.SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=Ire;fe.SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=cte;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=rte;fe.SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=tte;fe.SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=nte;fe.SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=ite;fe.SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=ote;fe.SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=ste;fe.SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=ate;fe.SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=Nee;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=une;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=Yre;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=Xre;fe.SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=Zre;fe.SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=yne;fe.SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=tne;fe.SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=rne;fe.SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=nne;fe.SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=fne;fe.SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=QB;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=Qre;fe.SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=eP;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=ene;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=one;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=xne;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=vne;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=bne;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=Ane;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=ane;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=_ne;fe.SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=hne;fe.SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=Ene;fe.SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=ine;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=Jre;fe.SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=tP;fe.SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=Tne;fe.SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=cne;fe.SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=sne;fe.SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=gne;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=Ine;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=JB;fe.SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=dne;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=mne;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=Sne;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=pne;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=lne;fe.SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=wne;fe.SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=jre;fe.SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=Ure;fe.SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=zre;fe.SOLANA_ERROR__TRANSACTION__EXCEEDS_SIZE_LIMIT=Wre;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=Mre;fe.SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=Nre;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=kre;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=Bre;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=Lre;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=Pre;fe.SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=$re;fe.SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=Gre;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=Fre;fe.SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=Hre;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=Vre;fe.SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=qre;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=Rre;fe.SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=Ore;fe.SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=Kre;fe.SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=Dre;fe.SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=Cre;fe.SolanaError=Z_;fe.getSolanaErrorFromInstructionError=nP;fe.getSolanaErrorFromJsonRpcError=hie;fe.getSolanaErrorFromTransactionError=iP;fe.isSolanaError=iPe;fe.safeCaptureStackTrace=rP});var Pie=j(ar=>{"use strict";p();m();var ei=oP(),cPe=o(t=>{let e=t.filter(s=>s.length);if(e.length===0)return t.length?t[0]:new Uint8Array;if(e.length===1)return e[0];let r=e.reduce((s,a)=>s+a.length,0),n=new Uint8Array(r),i=0;return e.forEach(s=>{n.set(s,i),i+=s.length}),n},"mergeBytes"),pie=o((t,e)=>{if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r},"padBytes"),mie=o((t,e)=>pie(t.length<=e?t:t.slice(0,e),e),"fixBytes");function gie(t,e,r){let n=r===0&&t.length===e.length?t:t.slice(r,r+e.length);return n.length!==e.length?!1:e.every((i,s)=>i===n[s])}o(gie,"containsBytes");function J_(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}o(J_,"getEncodedSize");function Bu(t){return Object.freeze({...t,encode:o(e=>{let r=new Uint8Array(J_(e,t));return t.write(e,r,0),r},"encode")})}o(Bu,"createEncoder");function $l(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode")})}o($l,"createDecoder");function yie(t){return Object.freeze({...t,decode:o((e,r=0)=>t.read(e,r)[0],"decode"),encode:o(e=>{let r=new Uint8Array(J_(e,t));return t.write(e,r,0),r},"encode")})}o(yie,"createCodec");function Gi(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}o(Gi,"isFixedSize");function sP(t){if(!Gi(t))throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH)}o(sP,"assertIsFixedSize");function aP(t){return!Gi(t)}o(aP,"isVariableSize");function fPe(t){if(!aP(t))throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH)}o(fPe,"assertIsVariableSize");function yh(t,e){if(Gi(t)!==Gi(e))throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(Gi(t)&&Gi(e)&&t.fixedSize!==e.fixedSize)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Gi(t)&&!Gi(e)&&t.maxSize!==e.maxSize)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}o(yh,"combineCodec");function bie(t,e){let r=o((n,i,s)=>{let a=t.encode(n);if(vie(a,e)>=0)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL,{encodedBytes:a,hexEncodedBytes:_4(a),hexSentinel:_4(e),sentinel:e});return i.set(a,s),s+=a.length,i.set(e,s),s+=e.length,s},"write");return Gi(t)?Bu({...t,fixedSize:t.fixedSize+e.length,write:r}):Bu({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},getSizeFromValue:o(n=>t.getSizeFromValue(n)+e.length,"getSizeFromValue"),write:r})}o(bie,"addEncoderSentinel");function xie(t,e){let r=o((n,i)=>{let s=i===0?n:n.slice(i),a=vie(s,e);if(a===-1)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES,{decodedBytes:s,hexDecodedBytes:_4(s),hexSentinel:_4(e),sentinel:e});let c=s.slice(0,a);return[t.decode(c),i+c.length+e.length]},"read");return Gi(t)?$l({...t,fixedSize:t.fixedSize+e.length,read:r}):$l({...t,...t.maxSize!=null?{maxSize:t.maxSize+e.length}:{},read:r})}o(xie,"addDecoderSentinel");function uPe(t,e){return yh(bie(t,e),xie(t,e))}o(uPe,"addCodecSentinel");function vie(t,e){return t.findIndex((r,n,i)=>e.length===1?r===e[0]:gie(i,e,n))}o(vie,"findSentinelIndex");function _4(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(_4,"hexBytes");function lPe(t,e,r=0){if(e.length-r<=0)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:t})}o(lPe,"assertByteArrayIsNotEmptyForCodec");function cP(t,e,r,n=0){let i=r.length-n;if(i<e)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:i,codecDescription:t,expected:e})}o(cP,"assertByteArrayHasEnoughBytesForCodec");function Q_(t,e,r){if(e<0||e>r)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE,{bytesLength:r,codecDescription:t,offset:e})}o(Q_,"assertByteArrayOffsetIsNotOutOfRange");function _ie(t,e){let r=o((a,c,u)=>{let h=t.encode(a);return u=e.write(h.length,c,u),c.set(h,u),u+h.length},"write");if(Gi(e)&&Gi(t))return Bu({...t,fixedSize:e.fixedSize+t.fixedSize,write:r});let n=Gi(e)?e.fixedSize:e.maxSize??null,i=Gi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return Bu({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:o(a=>{let c=J_(a,t);return J_(c,e)+c},"getSizeFromValue"),write:r})}o(_ie,"addEncoderSizePrefix");function wie(t,e){let r=o((a,c)=>{let[u,h]=e.read(a,c),y=Number(u);return c=h,(c>0||a.length>y)&&(a=a.slice(c,c+y)),cP("addDecoderSizePrefix",y,a),[t.decode(a),c+y]},"read");if(Gi(e)&&Gi(t))return $l({...t,fixedSize:e.fixedSize+t.fixedSize,read:r});let n=Gi(e)?e.fixedSize:e.maxSize??null,i=Gi(t)?t.fixedSize:t.maxSize??null,s=n!==null&&i!==null?n+i:null;return $l({...t,...s!==null?{maxSize:s}:{},read:r})}o(wie,"addDecoderSizePrefix");function dPe(t,e){return yh(_ie(t,e),wie(t,e))}o(dPe,"addCodecSizePrefix");function Sie(t,e){return Bu({fixedSize:e,write:o((r,n,i)=>{let s=t.encode(r),a=s.length>e?s.slice(0,e):s;return n.set(a,i),i+e},"write")})}o(Sie,"fixEncoderSize");function Eie(t,e){return $l({fixedSize:e,read:o((r,n)=>{cP("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),Gi(t)&&(r=mie(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]},"read")})}o(Eie,"fixDecoderSize");function hPe(t,e){return yh(Sie(t,e),Eie(t,e))}o(hPe,"fixCodecSize");function w4(t,e){return Bu({...t,write:o((r,n,i)=>{let s=o(h=>Aie(h,n.length),"wrapBytes"),a=e.preOffset?e.preOffset({bytes:n,preOffset:i,wrapBytes:s}):i;Q_("offsetEncoder",a,n.length);let c=t.write(r,n,a),u=e.postOffset?e.postOffset({bytes:n,newPreOffset:a,postOffset:c,preOffset:i,wrapBytes:s}):c;return Q_("offsetEncoder",u,n.length),u},"write")})}o(w4,"offsetEncoder");function S4(t,e){return $l({...t,read:o((r,n)=>{let i=o(h=>Aie(h,r.length),"wrapBytes"),s=e.preOffset?e.preOffset({bytes:r,preOffset:n,wrapBytes:i}):n;Q_("offsetDecoder",s,r.length);let[a,c]=t.read(r,s),u=e.postOffset?e.postOffset({bytes:r,newPreOffset:s,postOffset:c,preOffset:n,wrapBytes:i}):c;return Q_("offsetDecoder",u,r.length),[a,u]},"read")})}o(S4,"offsetDecoder");function pPe(t,e){return yh(w4(t,e),S4(t,e))}o(pPe,"offsetCodec");function Aie(t,e){return e===0?0:(t%e+e)%e}o(Aie,"modulo");function E4(t,e){if(Gi(t)){let r=e(t.fixedSize);if(r<0)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeEncoder"});return Bu({...t,fixedSize:r})}return Bu({...t,getSizeFromValue:o(r=>{let n=e(t.getSizeFromValue(r));if(n<0)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:n,codecDescription:"resizeEncoder"});return n},"getSizeFromValue")})}o(E4,"resizeEncoder");function A4(t,e){if(Gi(t)){let r=e(t.fixedSize);if(r<0)throw new ei.SolanaError(ei.SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH,{bytesLength:r,codecDescription:"resizeDecoder"});return $l({...t,fixedSize:r})}return t}o(A4,"resizeDecoder");function mPe(t,e){return yh(E4(t,e),A4(t,e))}o(mPe,"resizeCodec");function Tie(t,e){return w4(E4(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(Tie,"padLeftEncoder");function Iie(t,e){return w4(E4(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(Iie,"padRightEncoder");function Rie(t,e){return S4(A4(t,r=>r+e),{preOffset:o(({preOffset:r})=>r+e,"preOffset")})}o(Rie,"padLeftDecoder");function Oie(t,e){return S4(A4(t,r=>r+e),{postOffset:o(({postOffset:r})=>r+e,"postOffset")})}o(Oie,"padRightDecoder");function gPe(t,e){return yh(Tie(t,e),Rie(t,e))}o(gPe,"padLeftCodec");function yPe(t,e){return yh(Iie(t,e),Oie(t,e))}o(yPe,"padRightCodec");function Mie(t,e,r,n,i=0){for(;r<--n;){let s=t[r];e[r+i]=t[n],e[n+i]=s,r++}r===n&&(e[r+i]=t[r])}o(Mie,"copySourceToTargetInReverse");function Nie(t){return sP(t),Bu({...t,write:o((e,r,n)=>{let i=t.write(e,r,n);return Mie(r,r,n,n+t.fixedSize),i},"write")})}o(Nie,"reverseEncoder");function Cie(t){return sP(t),$l({...t,read:o((e,r)=>{let n=e.slice();return Mie(e,n,r,r+t.fixedSize),t.read(n,r)},"read")})}o(Cie,"reverseDecoder");function bPe(t){return yh(Nie(t),Cie(t))}o(bPe,"reverseCodec");function kie(t,e){return Bu({...aP(t)?{...t,getSizeFromValue:o(r=>t.getSizeFromValue(e(r)),"getSizeFromValue")}:t,write:o((r,n,i)=>t.write(e(r),n,i),"write")})}o(kie,"transformEncoder");function Bie(t,e){return $l({...t,read:o((r,n)=>{let[i,s]=t.read(r,n);return[e(i,r,n),s]},"read")})}o(Bie,"transformDecoder");function xPe(t,e,r){return yie({...kie(t,e),read:r?Bie(t,r).read:t.read})}o(xPe,"transformCodec");ar.addCodecSentinel=uPe;ar.addCodecSizePrefix=dPe;ar.addDecoderSentinel=xie;ar.addDecoderSizePrefix=wie;ar.addEncoderSentinel=bie;ar.addEncoderSizePrefix=_ie;ar.assertByteArrayHasEnoughBytesForCodec=cP;ar.assertByteArrayIsNotEmptyForCodec=lPe;ar.assertByteArrayOffsetIsNotOutOfRange=Q_;ar.assertIsFixedSize=sP;ar.assertIsVariableSize=fPe;ar.combineCodec=yh;ar.containsBytes=gie;ar.createCodec=yie;ar.createDecoder=$l;ar.createEncoder=Bu;ar.fixBytes=mie;ar.fixCodecSize=hPe;ar.fixDecoderSize=Eie;ar.fixEncoderSize=Sie;ar.getEncodedSize=J_;ar.isFixedSize=Gi;ar.isVariableSize=aP;ar.mergeBytes=cPe;ar.offsetCodec=pPe;ar.offsetDecoder=S4;ar.offsetEncoder=w4;ar.padBytes=pie;ar.padLeftCodec=gPe;ar.padLeftDecoder=Rie;ar.padLeftEncoder=Tie;ar.padRightCodec=yPe;ar.padRightDecoder=Oie;ar.padRightEncoder=Iie;ar.resizeCodec=mPe;ar.resizeDecoder=A4;ar.resizeEncoder=E4;ar.reverseCodec=bPe;ar.reverseDecoder=Cie;ar.reverseEncoder=Nie;ar.transformCodec=xPe;ar.transformDecoder=Bie;ar.transformEncoder=kie});var loe=j(gr=>{"use strict";p();m();var Lie=oP(),Ro=Pie();function fP(t,e,r,n){if(n<e||n>r)throw new Lie.SolanaError(Lie.SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:t,max:r,min:e,value:n})}o(fP,"assertNumberIsBetweenForCodec");var Die=(t=>(t[t.Little=0]="Little",t[t.Big=1]="Big",t))(Die||{});function Uie(t){return t?.endian!==1}o(Uie,"isLittleEndian");function Ef(t){return Ro.createEncoder({fixedSize:t.size,write(e,r,n){t.range&&fP(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,Uie(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}o(Ef,"numberEncoderFactory");function Af(t){return Ro.createDecoder({fixedSize:t.size,read(e,r=0){Ro.assertByteArrayIsNotEmptyForCodec(t.name,e,r),Ro.assertByteArrayHasEnoughBytesForCodec(t.name,t.size,e,r);let n=new DataView(vPe(e,r,t.size));return[t.get(n,Uie(t.config)),r+t.size]}})}o(Af,"numberDecoderFactory");function vPe(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}o(vPe,"toArrayBuffer");var Fie=o((t={})=>Ef({config:t,name:"f32",set:o((e,r,n)=>e.setFloat32(0,Number(r),n),"set"),size:4}),"getF32Encoder"),Hie=o((t={})=>Af({config:t,get:o((e,r)=>e.getFloat32(0,r),"get"),name:"f32",size:4}),"getF32Decoder"),_Pe=o((t={})=>Ro.combineCodec(Fie(t),Hie(t)),"getF32Codec"),qie=o((t={})=>Ef({config:t,name:"f64",set:o((e,r,n)=>e.setFloat64(0,Number(r),n),"set"),size:8}),"getF64Encoder"),Vie=o((t={})=>Af({config:t,get:o((e,r)=>e.getFloat64(0,r),"get"),name:"f64",size:8}),"getF64Decoder"),wPe=o((t={})=>Ro.combineCodec(qie(t),Vie(t)),"getF64Codec"),jie=o((t={})=>Ef({config:t,name:"i128",range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigInt64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getI128Encoder"),zie=o((t={})=>Af({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigInt64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"i128",size:16}),"getI128Decoder"),SPe=o((t={})=>Ro.combineCodec(jie(t),zie(t)),"getI128Codec"),Kie=o((t={})=>Ef({config:t,name:"i16",range:[-+"0x7fff"-1,+"0x7fff"],set:o((e,r,n)=>e.setInt16(0,Number(r),n),"set"),size:2}),"getI16Encoder"),$ie=o((t={})=>Af({config:t,get:o((e,r)=>e.getInt16(0,r),"get"),name:"i16",size:2}),"getI16Decoder"),EPe=o((t={})=>Ro.combineCodec(Kie(t),$ie(t)),"getI16Codec"),Gie=o((t={})=>Ef({config:t,name:"i32",range:[-+"0x7fffffff"-1,+"0x7fffffff"],set:o((e,r,n)=>e.setInt32(0,Number(r),n),"set"),size:4}),"getI32Encoder"),Wie=o((t={})=>Af({config:t,get:o((e,r)=>e.getInt32(0,r),"get"),name:"i32",size:4}),"getI32Decoder"),APe=o((t={})=>Ro.combineCodec(Gie(t),Wie(t)),"getI32Codec"),Yie=o((t={})=>Ef({config:t,name:"i64",range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:o((e,r,n)=>e.setBigInt64(0,BigInt(r),n),"set"),size:8}),"getI64Encoder"),Xie=o((t={})=>Af({config:t,get:o((e,r)=>e.getBigInt64(0,r),"get"),name:"i64",size:8}),"getI64Decoder"),TPe=o((t={})=>Ro.combineCodec(Yie(t),Xie(t)),"getI64Codec"),Zie=o(()=>Ef({name:"i8",range:[-+"0x7f"-1,+"0x7f"],set:o((t,e)=>t.setInt8(0,Number(e)),"set"),size:1}),"getI8Encoder"),Jie=o(()=>Af({get:o(t=>t.getInt8(0),"get"),name:"i8",size:1}),"getI8Decoder"),IPe=o(()=>Ro.combineCodec(Zie(),Jie()),"getI8Codec"),Qie=o(()=>Ro.createEncoder({getSizeFromValue:o(t=>t<=127?1:t<=16383?2:3,"getSizeFromValue"),maxSize:3,write:o((t,e,r)=>{fP("shortU16",0,65535,t);let n=[0];for(let i=0;;i+=1){let s=Number(t)>>i*7;if(s===0)break;let a=127&s;n[i]=a,i>0&&(n[i-1]|=128)}return e.set(n,r),r+n.length},"write")}),"getShortU16Encoder"),eoe=o(()=>Ro.createDecoder({maxSize:3,read:o((t,e)=>{let r=0,n=0;for(;++n;){let i=n-1,s=t[e+i],a=127&s;if(r|=a<<i*7,!(s&128))break}return[r,e+n]},"read")}),"getShortU16Decoder"),RPe=o(()=>Ro.combineCodec(Qie(),eoe()),"getShortU16Codec"),toe=o((t={})=>Ef({config:t,name:"u128",range:[0n,BigInt("0xffffffffffffffffffffffffffffffff")],set:o((e,r,n)=>{let i=n?8:0,s=n?0:8,a=0xffffffffffffffffn;e.setBigUint64(i,BigInt(r)>>64n,n),e.setBigUint64(s,BigInt(r)&a,n)},"set"),size:16}),"getU128Encoder"),roe=o((t={})=>Af({config:t,get:o((e,r)=>{let n=r?8:0,i=r?0:8,s=e.getBigUint64(n,r),a=e.getBigUint64(i,r);return(s<<64n)+a},"get"),name:"u128",size:16}),"getU128Decoder"),OPe=o((t={})=>Ro.combineCodec(toe(t),roe(t)),"getU128Codec"),noe=o((t={})=>Ef({config:t,name:"u16",range:[0,+"0xffff"],set:o((e,r,n)=>e.setUint16(0,Number(r),n),"set"),size:2}),"getU16Encoder"),ioe=o((t={})=>Af({config:t,get:o((e,r)=>e.getUint16(0,r),"get"),name:"u16",size:2}),"getU16Decoder"),MPe=o((t={})=>Ro.combineCodec(noe(t),ioe(t)),"getU16Codec"),ooe=o((t={})=>Ef({config:t,name:"u32",range:[0,+"0xffffffff"],set:o((e,r,n)=>e.setUint32(0,Number(r),n),"set"),size:4}),"getU32Encoder"),soe=o((t={})=>Af({config:t,get:o((e,r)=>e.getUint32(0,r),"get"),name:"u32",size:4}),"getU32Decoder"),NPe=o((t={})=>Ro.combineCodec(ooe(t),soe(t)),"getU32Codec"),aoe=o((t={})=>Ef({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:o((e,r,n)=>e.setBigUint64(0,BigInt(r),n),"set"),size:8}),"getU64Encoder"),coe=o((t={})=>Af({config:t,get:o((e,r)=>e.getBigUint64(0,r),"get"),name:"u64",size:8}),"getU64Decoder"),CPe=o((t={})=>Ro.combineCodec(aoe(t),coe(t)),"getU64Codec"),foe=o(()=>Ef({name:"u8",range:[0,+"0xff"],set:o((t,e)=>t.setUint8(0,Number(e)),"set"),size:1}),"getU8Encoder"),uoe=o(()=>Af({get:o(t=>t.getUint8(0),"get"),name:"u8",size:1}),"getU8Decoder"),kPe=o(()=>Ro.combineCodec(foe(),uoe()),"getU8Codec");gr.Endian=Die;gr.assertNumberIsBetweenForCodec=fP;gr.getF32Codec=_Pe;gr.getF32Decoder=Hie;gr.getF32Encoder=Fie;gr.getF64Codec=wPe;gr.getF64Decoder=Vie;gr.getF64Encoder=qie;gr.getI128Codec=SPe;gr.getI128Decoder=zie;gr.getI128Encoder=jie;gr.getI16Codec=EPe;gr.getI16Decoder=$ie;gr.getI16Encoder=Kie;gr.getI32Codec=APe;gr.getI32Decoder=Wie;gr.getI32Encoder=Gie;gr.getI64Codec=TPe;gr.getI64Decoder=Xie;gr.getI64Encoder=Yie;gr.getI8Codec=IPe;gr.getI8Decoder=Jie;gr.getI8Encoder=Zie;gr.getShortU16Codec=RPe;gr.getShortU16Decoder=eoe;gr.getShortU16Encoder=Qie;gr.getU128Codec=OPe;gr.getU128Decoder=roe;gr.getU128Encoder=toe;gr.getU16Codec=MPe;gr.getU16Decoder=ioe;gr.getU16Encoder=noe;gr.getU32Codec=NPe;gr.getU32Decoder=soe;gr.getU32Encoder=ooe;gr.getU64Codec=CPe;gr.getU64Decoder=coe;gr.getU64Encoder=aoe;gr.getU8Codec=kPe;gr.getU8Decoder=uoe;gr.getU8Encoder=foe});var hoe=j((T4,doe)=>{p();m();(function(t,e){typeof T4=="object"&&typeof doe<"u"?e(T4):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Superstruct={}))})(T4,function(t){"use strict";class e extends TypeError{static{o(this,"StructError")}constructor(Q,pe){let ne,{message:de,explanation:yt,...ve}=Q,{path:Ee}=Q,tr=Ee.length===0?de:`At path: ${Ee.join(".")} -- ${de}`;super(yt??tr),yt!=null&&(this.cause=tr),Object.assign(this,ve),this.name=this.constructor.name,this.failures=()=>ne??(ne=[Q,...pe()])}}function r(J){return n(J)&&typeof J[Symbol.iterator]=="function"}o(r,"isIterable");function n(J){return typeof J=="object"&&J!=null}o(n,"isObject");function i(J){return n(J)&&!Array.isArray(J)}o(i,"isNonArrayObject");function s(J){if(Object.prototype.toString.call(J)!=="[object Object]")return!1;let Q=Object.getPrototypeOf(J);return Q===null||Q===Object.prototype}o(s,"isPlainObject");function a(J){return typeof J=="symbol"?J.toString():typeof J=="string"?JSON.stringify(J):`${J}`}o(a,"print");function c(J){let{done:Q,value:pe}=J.next();return Q?void 0:pe}o(c,"shiftIterator");function u(J,Q,pe,ne){if(J===!0)return;J===!1?J={}:typeof J=="string"&&(J={message:J});let{path:de,branch:yt}=Q,{type:ve}=pe,{refinement:Ee,message:tr=`Expected a value of type \`${ve}\`${Ee?` with refinement \`${Ee}\``:""}, but received: \`${a(ne)}\``}=J;return{value:ne,type:ve,refinement:Ee,key:de[de.length-1],path:de,branch:yt,...J,message:tr}}o(u,"toFailure");function*h(J,Q,pe,ne){r(J)||(J=[J]);for(let de of J){let yt=u(de,Q,pe,ne);yt&&(yield yt)}}o(h,"toFailures");function*y(J,Q,pe={}){let{path:ne=[],branch:de=[J],coerce:yt=!1,mask:ve=!1}=pe,Ee={path:ne,branch:de,mask:ve};yt&&(J=Q.coercer(J,Ee));let tr="valid";for(let Te of Q.validator(J,Ee))Te.explanation=pe.message,tr="not_valid",yield[Te,void 0];for(let[Te,Ne,ui]of Q.entries(J,Ee)){let Fe=y(Ne,ui,{path:Te===void 0?ne:[...ne,Te],branch:Te===void 0?de:[...de,Ne],coerce:yt,mask:ve,message:pe.message});for(let De of Fe)De[0]?(tr=De[0].refinement!=null?"not_refined":"not_valid",yield[De[0],void 0]):yt&&(Ne=De[1],Te===void 0?J=Ne:J instanceof Map?J.set(Te,Ne):J instanceof Set?J.add(Ne):n(J)&&(Ne!==void 0||Te in J)&&(J[Te]=Ne))}if(tr!=="not_valid")for(let Te of Q.refiner(J,Ee))Te.explanation=pe.message,tr="not_refined",yield[Te,void 0];tr==="valid"&&(yield[void 0,J])}o(y,"run");class g{static{o(this,"Struct")}constructor(Q){let{type:pe,schema:ne,validator:de,refiner:yt,coercer:ve=o(tr=>tr,"coercer"),entries:Ee=o(function*(){},"entries")}=Q;this.type=pe,this.schema=ne,this.entries=Ee,this.coercer=ve,de?this.validator=(tr,Te)=>{let Ne=de(tr,Te);return h(Ne,Te,this,tr)}:this.validator=()=>[],yt?this.refiner=(tr,Te)=>{let Ne=yt(tr,Te);return h(Ne,Te,this,tr)}:this.refiner=()=>[]}assert(Q,pe){return S(Q,this,pe)}create(Q,pe){return T(Q,this,pe)}is(Q){return M(Q,this)}mask(Q,pe){return O(Q,this,pe)}validate(Q,pe={}){return k(Q,this,pe)}}function S(J,Q,pe){let ne=k(J,Q,{message:pe});if(ne[0])throw ne[0]}o(S,"assert");function T(J,Q,pe){let ne=k(J,Q,{coerce:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(T,"create");function O(J,Q,pe){let ne=k(J,Q,{coerce:!0,mask:!0,message:pe});if(ne[0])throw ne[0];return ne[1]}o(O,"mask");function M(J,Q){return!k(J,Q)[0]}o(M,"is");function k(J,Q,pe={}){let ne=y(J,Q,pe),de=c(ne);return de[0]?[new e(de[0],function*(){for(let ve of ne)ve[0]&&(yield ve[0])}),void 0]:[void 0,de[1]]}o(k,"validate");function C(...J){let Q=J[0].type==="type",pe=J.map(de=>de.schema),ne=Object.assign({},...pe);return Q?ge(ne):ee(ne)}o(C,"assign");function B(J,Q){return new g({type:J,schema:null,validator:Q})}o(B,"define");function N(J,Q){return new g({...J,refiner:o((pe,ne)=>pe===void 0||J.refiner(pe,ne),"refiner"),validator(pe,ne){return pe===void 0?!0:(Q(pe,ne),J.validator(pe,ne))}})}o(N,"deprecated");function P(J){return new g({type:"dynamic",schema:null,*entries(Q,pe){yield*J(Q,pe).entries(Q,pe)},validator(Q,pe){return J(Q,pe).validator(Q,pe)},coercer(Q,pe){return J(Q,pe).coercer(Q,pe)},refiner(Q,pe){return J(Q,pe).refiner(Q,pe)}})}o(P,"dynamic");function H(J){let Q;return new g({type:"lazy",schema:null,*entries(pe,ne){Q??(Q=J()),yield*Q.entries(pe,ne)},validator(pe,ne){return Q??(Q=J()),Q.validator(pe,ne)},coercer(pe,ne){return Q??(Q=J()),Q.coercer(pe,ne)},refiner(pe,ne){return Q??(Q=J()),Q.refiner(pe,ne)}})}o(H,"lazy");function F(J,Q){let{schema:pe}=J,ne={...pe};for(let de of Q)delete ne[de];switch(J.type){case"type":return ge(ne);default:return ee(ne)}}o(F,"omit");function Z(J){let Q=J instanceof g,pe=Q?{...J.schema}:{...J};for(let ne in pe)pe[ne]=re(pe[ne]);return Q&&J.type==="type"?ge(pe):ee(pe)}o(Z,"partial");function W(J,Q){let{schema:pe}=J,ne={};for(let de of Q)ne[de]=pe[de];switch(J.type){case"type":return ge(ne);default:return ee(ne)}}o(W,"pick");function X(J,Q){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),B(J,Q)}o(X,"struct");function E(){return B("any",()=>!0)}o(E,"any");function f(J){return new g({type:"array",schema:J,*entries(Q){if(J&&Array.isArray(Q))for(let[pe,ne]of Q.entries())yield[pe,ne,J]},coercer(Q){return Array.isArray(Q)?Q.slice():Q},validator(Q){return Array.isArray(Q)||`Expected an array value, but received: ${a(Q)}`}})}o(f,"array");function d(){return B("bigint",J=>typeof J=="bigint")}o(d,"bigint");function b(){return B("boolean",J=>typeof J=="boolean")}o(b,"boolean");function x(){return B("date",J=>J instanceof Date&&!isNaN(J.getTime())||`Expected a valid \`Date\` object, but received: ${a(J)}`)}o(x,"date");function _(J){let Q={},pe=J.map(ne=>a(ne)).join();for(let ne of J)Q[ne]=ne;return new g({type:"enums",schema:Q,validator(ne){return J.includes(ne)||`Expected one of \`${pe}\`, but received: ${a(ne)}`}})}o(_,"enums");function A(){return B("func",J=>typeof J=="function"||`Expected a function, but received: ${a(J)}`)}o(A,"func");function I(J){return B("instance",Q=>Q instanceof J||`Expected a \`${J.name}\` instance, but received: ${a(Q)}`)}o(I,"instance");function v(){return B("integer",J=>typeof J=="number"&&!isNaN(J)&&Number.isInteger(J)||`Expected an integer, but received: ${a(J)}`)}o(v,"integer");function l(J){return new g({type:"intersection",schema:null,*entries(Q,pe){for(let ne of J)yield*ne.entries(Q,pe)},*validator(Q,pe){for(let ne of J)yield*ne.validator(Q,pe)},*refiner(Q,pe){for(let ne of J)yield*ne.refiner(Q,pe)}})}o(l,"intersection");function w(J){let Q=a(J),pe=typeof J;return new g({type:"literal",schema:pe==="string"||pe==="number"||pe==="boolean"?J:null,validator(ne){return ne===J||`Expected the literal \`${Q}\`, but received: ${a(ne)}`}})}o(w,"literal");function V(J,Q){return new g({type:"map",schema:null,*entries(pe){if(J&&Q&&pe instanceof Map)for(let[ne,de]of pe.entries())yield[ne,ne,J],yield[ne,de,Q]},coercer(pe){return pe instanceof Map?new Map(pe):pe},validator(pe){return pe instanceof Map||`Expected a \`Map\` object, but received: ${a(pe)}`}})}o(V,"map");function q(){return B("never",()=>!1)}o(q,"never");function U(J){return new g({...J,validator:o((Q,pe)=>Q===null||J.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===null||J.refiner(Q,pe),"refiner")})}o(U,"nullable");function G(){return B("number",J=>typeof J=="number"&&!isNaN(J)||`Expected a number, but received: ${a(J)}`)}o(G,"number");function ee(J){let Q=J?Object.keys(J):[],pe=q();return new g({type:"object",schema:J||null,*entries(ne){if(J&&n(ne)){let de=new Set(Object.keys(ne));for(let yt of Q)de.delete(yt),yield[yt,ne[yt],J[yt]];for(let yt of de)yield[yt,ne[yt],pe]}},validator(ne){return i(ne)||`Expected an object, but received: ${a(ne)}`},coercer(ne,de){if(!i(ne))return ne;let yt={...ne};if(de.mask&&J)for(let ve in yt)J[ve]===void 0&&delete yt[ve];return yt}})}o(ee,"object");function re(J){return new g({...J,validator:o((Q,pe)=>Q===void 0||J.validator(Q,pe),"validator"),refiner:o((Q,pe)=>Q===void 0||J.refiner(Q,pe),"refiner")})}o(re,"optional");function Oe(J,Q){return new g({type:"record",schema:null,*entries(pe){if(n(pe))for(let ne in pe){let de=pe[ne];yield[ne,ne,J],yield[ne,de,Q]}},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(Oe,"record");function ae(){return B("regexp",J=>J instanceof RegExp)}o(ae,"regexp");function le(J){return new g({type:"set",schema:null,*entries(Q){if(J&&Q instanceof Set)for(let pe of Q)yield[pe,pe,J]},coercer(Q){return Q instanceof Set?new Set(Q):Q},validator(Q){return Q instanceof Set||`Expected a \`Set\` object, but received: ${a(Q)}`}})}o(le,"set");function ye(){return B("string",J=>typeof J=="string"||`Expected a string, but received: ${a(J)}`)}o(ye,"string");function he(J){let Q=q();return new g({type:"tuple",schema:null,*entries(pe){if(Array.isArray(pe)){let ne=Math.max(J.length,pe.length);for(let de=0;de<ne;de++)yield[de,pe[de],J[de]||Q]}},validator(pe){return Array.isArray(pe)||`Expected an array, but received: ${a(pe)}`},coercer(pe){return Array.isArray(pe)?pe.slice():pe}})}o(he,"tuple");function ge(J){let Q=Object.keys(J);return new g({type:"type",schema:J,*entries(pe){if(n(pe))for(let ne of Q)yield[ne,pe[ne],J[ne]]},validator(pe){return i(pe)||`Expected an object, but received: ${a(pe)}`},coercer(pe){return i(pe)?{...pe}:pe}})}o(ge,"type");function lr(J){let Q=J.map(pe=>pe.type).join(" | ");return new g({type:"union",schema:null,coercer(pe,ne){for(let de of J){let[yt,ve]=de.validate(pe,{coerce:!0,mask:ne.mask});if(!yt)return ve}return pe},validator(pe,ne){let de=[];for(let yt of J){let[...ve]=y(pe,yt,ne),[Ee]=ve;if(Ee[0])for(let[tr]of ve)tr&&de.push(tr);else return[]}return[`Expected the value to satisfy a union of \`${Q}\`, but received: ${a(pe)}`,...de]}})}o(lr,"union");function Ae(){return B("unknown",()=>!0)}o(Ae,"unknown");function Me(J,Q,pe){return new g({...J,coercer:o((ne,de)=>M(ne,Q)?J.coercer(pe(ne,de),de):J.coercer(ne,de),"coercer")})}o(Me,"coerce");function Kn(J,Q,pe={}){return Me(J,Ae(),ne=>{let de=typeof Q=="function"?Q():Q;if(ne===void 0)return de;if(!pe.strict&&s(ne)&&s(de)){let yt={...ne},ve=!1;for(let Ee in de)yt[Ee]===void 0&&(yt[Ee]=de[Ee],ve=!0);if(ve)return yt}return ne})}o(Kn,"defaulted");function qe(J){return Me(J,ye(),Q=>Q.trim())}o(qe,"trimmed");function ke(J){return en(J,"empty",Q=>{let pe=$n(Q);return pe===0||`Expected an empty ${J.type} but received one with a size of \`${pe}\``})}o(ke,"empty");function $n(J){return J instanceof Map||J instanceof Set?J.size:J.length}o($n,"getSize");function Ue(J,Q,pe={}){let{exclusive:ne}=pe;return en(J,"max",de=>ne?de<Q:de<=Q||`Expected a ${J.type} less than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Ue,"max");function Pe(J,Q,pe={}){let{exclusive:ne}=pe;return en(J,"min",de=>ne?de>Q:de>=Q||`Expected a ${J.type} greater than ${ne?"":"or equal to "}${Q} but received \`${de}\``)}o(Pe,"min");function Gn(J){return en(J,"nonempty",Q=>$n(Q)>0||`Expected a nonempty ${J.type} but received an empty one`)}o(Gn,"nonempty");function Be(J,Q){return en(J,"pattern",pe=>Q.test(pe)||`Expected a ${J.type} matching \`/${Q.source}/\` but received "${pe}"`)}o(Be,"pattern");function Le(J,Q,pe=Q){let ne=`Expected a ${J.type}`,de=Q===pe?`of \`${Q}\``:`between \`${Q}\` and \`${pe}\``;return en(J,"size",yt=>{if(typeof yt=="number"||yt instanceof Date)return Q<=yt&&yt<=pe||`${ne} ${de} but received \`${yt}\``;if(yt instanceof Map||yt instanceof Set){let{size:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a size ${de} but received one with a size of \`${ve}\``}else{let{length:ve}=yt;return Q<=ve&&ve<=pe||`${ne} with a length ${de} but received one with a length of \`${ve}\``}})}o(Le,"size");function en(J,Q,pe){return new g({...J,*refiner(ne,de){yield*J.refiner(ne,de);let yt=pe(ne,de),ve=h(yt,de,J,ne);for(let Ee of ve)yield{...Ee,refinement:Q}}})}o(en,"refine"),t.Struct=g,t.StructError=e,t.any=E,t.array=f,t.assert=S,t.assign=C,t.bigint=d,t.boolean=b,t.coerce=Me,t.create=T,t.date=x,t.defaulted=Kn,t.define=B,t.deprecated=N,t.dynamic=P,t.empty=ke,t.enums=_,t.func=A,t.instance=I,t.integer=v,t.intersection=l,t.is=M,t.lazy=H,t.literal=w,t.map=V,t.mask=O,t.max=Ue,t.min=Pe,t.never=q,t.nonempty=Gn,t.nullable=U,t.number=G,t.object=ee,t.omit=F,t.optional=re,t.partial=Z,t.pattern=Be,t.pick=W,t.record=Oe,t.refine=en,t.regexp=ae,t.set=le,t.size=Le,t.string=ye,t.struct=X,t.trimmed=qe,t.tuple=he,t.type=ge,t.union=lr,t.unknown=Ae,t.validate=k})});var lP=j(uP=>{"use strict";p();m();Object.defineProperty(uP,"__esModule",{value:!0});uP.default=PPe;var I4,BPe=new Uint8Array(16);function PPe(){if(!I4&&(I4=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!I4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I4(BPe)}o(PPe,"rng")});var poe=j(R4=>{"use strict";p();m();Object.defineProperty(R4,"__esModule",{value:!0});R4.default=void 0;var LPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;R4.default=LPe});var ew=j(O4=>{"use strict";p();m();Object.defineProperty(O4,"__esModule",{value:!0});O4.default=void 0;var DPe=UPe(poe());function UPe(t){return t&&t.__esModule?t:{default:t}}o(UPe,"_interopRequireDefault");function FPe(t){return typeof t=="string"&&DPe.default.test(t)}o(FPe,"validate");var HPe=FPe;O4.default=HPe});var rw=j(tw=>{"use strict";p();m();Object.defineProperty(tw,"__esModule",{value:!0});tw.default=void 0;tw.unsafeStringify=moe;var qPe=VPe(ew());function VPe(t){return t&&t.__esModule?t:{default:t}}o(VPe,"_interopRequireDefault");var hs=[];for(let t=0;t<256;++t)hs.push((t+256).toString(16).slice(1));function moe(t,e=0){return hs[t[e+0]]+hs[t[e+1]]+hs[t[e+2]]+hs[t[e+3]]+"-"+hs[t[e+4]]+hs[t[e+5]]+"-"+hs[t[e+6]]+hs[t[e+7]]+"-"+hs[t[e+8]]+hs[t[e+9]]+"-"+hs[t[e+10]]+hs[t[e+11]]+hs[t[e+12]]+hs[t[e+13]]+hs[t[e+14]]+hs[t[e+15]]}o(moe,"unsafeStringify");function jPe(t,e=0){let r=moe(t,e);if(!(0,qPe.default)(r))throw TypeError("Stringified UUID is invalid");return r}o(jPe,"stringify");var zPe=jPe;tw.default=zPe});var yoe=j(M4=>{"use strict";p();m();Object.defineProperty(M4,"__esModule",{value:!0});M4.default=void 0;var KPe=GPe(lP()),$Pe=rw();function GPe(t){return t&&t.__esModule?t:{default:t}}o(GPe,"_interopRequireDefault");var goe,dP,hP=0,pP=0;function WPe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||goe,a=t.clockseq!==void 0?t.clockseq:dP;if(s==null||a==null){let S=t.random||(t.rng||KPe.default)();s==null&&(s=goe=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]),a==null&&(a=dP=(S[6]<<8|S[7])&16383)}let c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:pP+1,h=c-hP+(u-pP)/1e4;if(h<0&&t.clockseq===void 0&&(a=a+1&16383),(h<0||c>hP)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hP=c,pP=u,dP=a,c+=122192928e5;let y=((c&268435455)*1e4+u)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;let g=c/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let S=0;S<6;++S)i[n+S]=s[S];return e||(0,$Pe.unsafeStringify)(i)}o(WPe,"v1");var YPe=WPe;M4.default=YPe});var mP=j(N4=>{"use strict";p();m();Object.defineProperty(N4,"__esModule",{value:!0});N4.default=void 0;var XPe=ZPe(ew());function ZPe(t){return t&&t.__esModule?t:{default:t}}o(ZPe,"_interopRequireDefault");function JPe(t){if(!(0,XPe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}o(JPe,"parse");var QPe=JPe;N4.default=QPe});var gP=j(Fg=>{"use strict";p();m();Object.defineProperty(Fg,"__esModule",{value:!0});Fg.URL=Fg.DNS=void 0;Fg.default=iLe;var eLe=rw(),tLe=rLe(mP());function rLe(t){return t&&t.__esModule?t:{default:t}}o(rLe,"_interopRequireDefault");function nLe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}o(nLe,"stringToBytes");var boe="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Fg.DNS=boe;var xoe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Fg.URL=xoe;function iLe(t,e,r){function n(i,s,a,c){var u;if(typeof i=="string"&&(i=nLe(i)),typeof s=="string"&&(s=(0,tLe.default)(s)),((u=s)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){c=c||0;for(let y=0;y<16;++y)a[c+y]=h[y];return a}return(0,eLe.unsafeStringify)(h)}o(n,"generateUUID");try{n.name=t}catch{}return n.DNS=boe,n.URL=xoe,n}o(iLe,"v35")});var _oe=j(k4=>{"use strict";p();m();Object.defineProperty(k4,"__esModule",{value:!0});k4.default=void 0;function oLe(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return sLe(aLe(cLe(t),t.length*8))}o(oLe,"md5");function sLe(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}o(sLe,"md5ToHexEncodedArray");function voe(t){return(t+64>>>9<<4)+14+1}o(voe,"getOutputLength");function aLe(t,e){t[e>>5]|=128<<e%32,t[voe(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){let c=r,u=n,h=i,y=s;r=Ws(r,n,i,s,t[a],7,-680876936),s=Ws(s,r,n,i,t[a+1],12,-389564586),i=Ws(i,s,r,n,t[a+2],17,606105819),n=Ws(n,i,s,r,t[a+3],22,-1044525330),r=Ws(r,n,i,s,t[a+4],7,-176418897),s=Ws(s,r,n,i,t[a+5],12,1200080426),i=Ws(i,s,r,n,t[a+6],17,-1473231341),n=Ws(n,i,s,r,t[a+7],22,-45705983),r=Ws(r,n,i,s,t[a+8],7,1770035416),s=Ws(s,r,n,i,t[a+9],12,-1958414417),i=Ws(i,s,r,n,t[a+10],17,-42063),n=Ws(n,i,s,r,t[a+11],22,-1990404162),r=Ws(r,n,i,s,t[a+12],7,1804603682),s=Ws(s,r,n,i,t[a+13],12,-40341101),i=Ws(i,s,r,n,t[a+14],17,-1502002290),n=Ws(n,i,s,r,t[a+15],22,1236535329),r=Ys(r,n,i,s,t[a+1],5,-165796510),s=Ys(s,r,n,i,t[a+6],9,-1069501632),i=Ys(i,s,r,n,t[a+11],14,643717713),n=Ys(n,i,s,r,t[a],20,-373897302),r=Ys(r,n,i,s,t[a+5],5,-701558691),s=Ys(s,r,n,i,t[a+10],9,38016083),i=Ys(i,s,r,n,t[a+15],14,-660478335),n=Ys(n,i,s,r,t[a+4],20,-405537848),r=Ys(r,n,i,s,t[a+9],5,568446438),s=Ys(s,r,n,i,t[a+14],9,-1019803690),i=Ys(i,s,r,n,t[a+3],14,-187363961),n=Ys(n,i,s,r,t[a+8],20,1163531501),r=Ys(r,n,i,s,t[a+13],5,-1444681467),s=Ys(s,r,n,i,t[a+2],9,-51403784),i=Ys(i,s,r,n,t[a+7],14,1735328473),n=Ys(n,i,s,r,t[a+12],20,-1926607734),r=Xs(r,n,i,s,t[a+5],4,-378558),s=Xs(s,r,n,i,t[a+8],11,-2022574463),i=Xs(i,s,r,n,t[a+11],16,1839030562),n=Xs(n,i,s,r,t[a+14],23,-35309556),r=Xs(r,n,i,s,t[a+1],4,-1530992060),s=Xs(s,r,n,i,t[a+4],11,1272893353),i=Xs(i,s,r,n,t[a+7],16,-155497632),n=Xs(n,i,s,r,t[a+10],23,-1094730640),r=Xs(r,n,i,s,t[a+13],4,681279174),s=Xs(s,r,n,i,t[a],11,-358537222),i=Xs(i,s,r,n,t[a+3],16,-722521979),n=Xs(n,i,s,r,t[a+6],23,76029189),r=Xs(r,n,i,s,t[a+9],4,-640364487),s=Xs(s,r,n,i,t[a+12],11,-421815835),i=Xs(i,s,r,n,t[a+15],16,530742520),n=Xs(n,i,s,r,t[a+2],23,-995338651),r=Zs(r,n,i,s,t[a],6,-198630844),s=Zs(s,r,n,i,t[a+7],10,1126891415),i=Zs(i,s,r,n,t[a+14],15,-1416354905),n=Zs(n,i,s,r,t[a+5],21,-57434055),r=Zs(r,n,i,s,t[a+12],6,1700485571),s=Zs(s,r,n,i,t[a+3],10,-1894986606),i=Zs(i,s,r,n,t[a+10],15,-1051523),n=Zs(n,i,s,r,t[a+1],21,-2054922799),r=Zs(r,n,i,s,t[a+8],6,1873313359),s=Zs(s,r,n,i,t[a+15],10,-30611744),i=Zs(i,s,r,n,t[a+6],15,-1560198380),n=Zs(n,i,s,r,t[a+13],21,1309151649),r=Zs(r,n,i,s,t[a+4],6,-145523070),s=Zs(s,r,n,i,t[a+11],10,-1120210379),i=Zs(i,s,r,n,t[a+2],15,718787259),n=Zs(n,i,s,r,t[a+9],21,-343485551),r=J0(r,c),n=J0(n,u),i=J0(i,h),s=J0(s,y)}return[r,n,i,s]}o(aLe,"wordsToMd5");function cLe(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(voe(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}o(cLe,"bytesToWords");function J0(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}o(J0,"safeAdd");function fLe(t,e){return t<<e|t>>>32-e}o(fLe,"bitRotateLeft");function C4(t,e,r,n,i,s){return J0(fLe(J0(J0(e,t),J0(n,s)),i),r)}o(C4,"md5cmn");function Ws(t,e,r,n,i,s,a){return C4(e&r|~e&n,t,e,i,s,a)}o(Ws,"md5ff");function Ys(t,e,r,n,i,s,a){return C4(e&n|r&~n,t,e,i,s,a)}o(Ys,"md5gg");function Xs(t,e,r,n,i,s,a){return C4(e^r^n,t,e,i,s,a)}o(Xs,"md5hh");function Zs(t,e,r,n,i,s,a){return C4(r^(e|~n),t,e,i,s,a)}o(Zs,"md5ii");var uLe=oLe;k4.default=uLe});var Soe=j(B4=>{"use strict";p();m();Object.defineProperty(B4,"__esModule",{value:!0});B4.default=void 0;var lLe=woe(gP()),dLe=woe(_oe());function woe(t){return t&&t.__esModule?t:{default:t}}o(woe,"_interopRequireDefault");var hLe=(0,lLe.default)("v3",48,dLe.default),pLe=hLe;B4.default=pLe});var Eoe=j(P4=>{"use strict";p();m();Object.defineProperty(P4,"__esModule",{value:!0});P4.default=void 0;var mLe=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),gLe={randomUUID:mLe};P4.default=gLe});var Ioe=j(L4=>{"use strict";p();m();Object.defineProperty(L4,"__esModule",{value:!0});L4.default=void 0;var Aoe=Toe(Eoe()),yLe=Toe(lP()),bLe=rw();function Toe(t){return t&&t.__esModule?t:{default:t}}o(Toe,"_interopRequireDefault");function xLe(t,e,r){if(Aoe.default.randomUUID&&!e&&!t)return Aoe.default.randomUUID();t=t||{};let n=t.random||(t.rng||yLe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,bLe.unsafeStringify)(n)}o(xLe,"v4");var vLe=xLe;L4.default=vLe});var Roe=j(D4=>{"use strict";p();m();Object.defineProperty(D4,"__esModule",{value:!0});D4.default=void 0;function _Le(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}o(_Le,"f");function yP(t,e){return t<<e|t>>>32-e}o(yP,"ROTL");function wLe(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let a=unescape(encodeURIComponent(t));t=[];for(let c=0;c<a.length;++c)t.push(a.charCodeAt(c))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let a=0;a<i;++a){let c=new Uint32Array(16);for(let u=0;u<16;++u)c[u]=t[a*64+u*4]<<24|t[a*64+u*4+1]<<16|t[a*64+u*4+2]<<8|t[a*64+u*4+3];s[a]=c}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){let c=new Uint32Array(80);for(let T=0;T<16;++T)c[T]=s[a][T];for(let T=16;T<80;++T)c[T]=yP(c[T-3]^c[T-8]^c[T-14]^c[T-16],1);let u=r[0],h=r[1],y=r[2],g=r[3],S=r[4];for(let T=0;T<80;++T){let O=Math.floor(T/20),M=yP(u,5)+_Le(O,h,y,g)+S+e[O]+c[T]>>>0;S=g,g=y,y=yP(h,30)>>>0,h=u,u=M}r[0]=r[0]+u>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+S>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}o(wLe,"sha1");var SLe=wLe;D4.default=SLe});var Moe=j(U4=>{"use strict";p();m();Object.defineProperty(U4,"__esModule",{value:!0});U4.default=void 0;var ELe=Ooe(gP()),ALe=Ooe(Roe());function Ooe(t){return t&&t.__esModule?t:{default:t}}o(Ooe,"_interopRequireDefault");var TLe=(0,ELe.default)("v5",80,ALe.default),ILe=TLe;U4.default=ILe});var Noe=j(F4=>{"use strict";p();m();Object.defineProperty(F4,"__esModule",{value:!0});F4.default=void 0;var RLe="00000000-0000-0000-0000-000000000000";F4.default=RLe});var Coe=j(H4=>{"use strict";p();m();Object.defineProperty(H4,"__esModule",{value:!0});H4.default=void 0;var OLe=MLe(ew());function MLe(t){return t&&t.__esModule?t:{default:t}}o(MLe,"_interopRequireDefault");function NLe(t){if(!(0,OLe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}o(NLe,"version");var CLe=NLe;H4.default=CLe});var q4=j(Pu=>{"use strict";p();m();Object.defineProperty(Pu,"__esModule",{value:!0});Object.defineProperty(Pu,"NIL",{enumerable:!0,get:o(function(){return DLe.default},"get")});Object.defineProperty(Pu,"parse",{enumerable:!0,get:o(function(){return qLe.default},"get")});Object.defineProperty(Pu,"stringify",{enumerable:!0,get:o(function(){return HLe.default},"get")});Object.defineProperty(Pu,"v1",{enumerable:!0,get:o(function(){return kLe.default},"get")});Object.defineProperty(Pu,"v3",{enumerable:!0,get:o(function(){return BLe.default},"get")});Object.defineProperty(Pu,"v4",{enumerable:!0,get:o(function(){return PLe.default},"get")});Object.defineProperty(Pu,"v5",{enumerable:!0,get:o(function(){return LLe.default},"get")});Object.defineProperty(Pu,"validate",{enumerable:!0,get:o(function(){return FLe.default},"get")});Object.defineProperty(Pu,"version",{enumerable:!0,get:o(function(){return ULe.default},"get")});var kLe=bh(yoe()),BLe=bh(Soe()),PLe=bh(Ioe()),LLe=bh(Moe()),DLe=bh(Noe()),ULe=bh(Coe()),FLe=bh(ew()),HLe=bh(rw()),qLe=bh(mP());function bh(t){return t&&t.__esModule?t:{default:t}}o(bh,"_interopRequireDefault")});var Boe=j((aRt,koe)=>{"use strict";p();m();var VLe=q4().v4,jLe=o(function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){let a=typeof n.generator=="function"?n.generator:function(){return VLe()};s.id=a(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s},"generateRequest");koe.exports=jLe});var Loe=j((lRt,Poe)=>{"use strict";p();m();var zLe=q4().v4,KLe=Boe(),nw=o(function(t,e){if(!(this instanceof nw))return new nw(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return zLe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t},"ClientBrowser");Poe.exports=nw;nw.prototype.request=function(t,e,r,n){let i=this,s=null,a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);let h=typeof n=="function";try{s=KLe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(y){if(h)return n(y);throw y}if(!h)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(h){return n(h)}return this.callServer(u,function(h,y){i._parseResponse(h,y,n)}),s};nw.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){let i=o(function(a){return typeof a.error<"u"},"isError"),s=o(function(a){return!i(a)},"isNotError");return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)}});var Uoe=j((mRt,bP)=>{"use strict";p();m();var $Le=Object.prototype.hasOwnProperty,Ba="~";function iw(){}o(iw,"Events");Object.create&&(iw.prototype=Object.create(null),new iw().__proto__||(Ba=!1));function GLe(t,e,r){this.fn=t,this.context=e,this.once=r||!1}o(GLe,"EE");function Doe(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new GLe(r,n||t,i),a=Ba?Ba+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}o(Doe,"addListener");function V4(t,e){--t._eventsCount===0?t._events=new iw:delete t._events[e]}o(V4,"clearEvent");function Js(){this._events=new iw,this._eventsCount=0}o(Js,"EventEmitter");Js.prototype.eventNames=o(function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)$Le.call(r,n)&&e.push(Ba?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e},"eventNames");Js.prototype.listeners=o(function(e){var r=Ba?Ba+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},"listeners");Js.prototype.listenerCount=o(function(e){var r=Ba?Ba+e:e,n=this._events[r];return n?n.fn?1:n.length:0},"listenerCount");Js.prototype.emit=o(function(e,r,n,i,s,a){var c=Ba?Ba+e:e;if(!this._events[c])return!1;var u=this._events[c],h=arguments.length,y,g;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,a),!0}for(g=1,y=new Array(h-1);g<h;g++)y[g-1]=arguments[g];u.fn.apply(u.context,y)}else{var S=u.length,T;for(g=0;g<S;g++)switch(u[g].once&&this.removeListener(e,u[g].fn,void 0,!0),h){case 1:u[g].fn.call(u[g].context);break;case 2:u[g].fn.call(u[g].context,r);break;case 3:u[g].fn.call(u[g].context,r,n);break;case 4:u[g].fn.call(u[g].context,r,n,i);break;default:if(!y)for(T=1,y=new Array(h-1);T<h;T++)y[T-1]=arguments[T];u[g].fn.apply(u[g].context,y)}}return!0},"emit");Js.prototype.on=o(function(e,r,n){return Doe(this,e,r,n,!1)},"on");Js.prototype.once=o(function(e,r,n){return Doe(this,e,r,n,!0)},"once");Js.prototype.removeListener=o(function(e,r,n,i){var s=Ba?Ba+e:e;if(!this._events[s])return this;if(!r)return V4(this,s),this;var a=this._events[s];if(a.fn)a.fn===r&&(!i||a.once)&&(!n||a.context===n)&&V4(this,s);else{for(var c=0,u=[],h=a.length;c<h;c++)(a[c].fn!==r||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=u.length===1?u[0]:u:V4(this,s)}return this},"removeListener");Js.prototype.removeAllListeners=o(function(e){var r;return e?(r=Ba?Ba+e:e,this._events[r]&&V4(this,r)):(this._events=new iw,this._eventsCount=0),this},"removeAllListeners");Js.prototype.off=Js.prototype.removeListener;Js.prototype.addListener=Js.prototype.on;Js.prefixed=Ba;Js.EventEmitter=Js;typeof bP<"u"&&(bP.exports=Js)});var joe=j(ow=>{"use strict";p();m();var WLe=li(),Foe=Uoe(),YLe=class extends Foe.EventEmitter{static{o(this,"WebSocketBrowserImpl")}socket;constructor(t,e,r){super(),this.socket=new self.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(t,e,r){let n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function Hoe(t,e){return new YLe(t,e)}o(Hoe,"WebSocket");var qoe=class{static{o(this,"DefaultDataPack")}encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Voe=class extends Foe.EventEmitter{static{o(this,"CommonClient")}address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new qoe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return!n&&typeof r=="object"&&(n=r,r=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));let a=this.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||void 0,id:a};this.socket.send(this.dataPack.encode(c),n,u=>{if(u)return s(u);this.queue[a]={promise:[i,s]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},r))})})}async login(t){let e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));let i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),s=>{if(s)return n(s);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);let e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=WLe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);let n=[r.notification];if(r.params.constructor===Object)n.push(r.params);else for(let i=0;i<r.params.length;i++)n.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,n)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:n})=>{this.ready&&setTimeout(()=>this.emit("close",r,n),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval)))})}},XLe=class extends Voe{static{o(this,"Client")}constructor(t="ws://localhost:8080",{autoconnect:e=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},s){super(Hoe,t,{autoconnect:e,reconnect:r,reconnect_interval:n,max_reconnects:i},s)}};ow.Client=XLe;ow.CommonClient=Voe;ow.DefaultDataPack=qoe;ow.WebSocket=Hoe});var Joe=j(hi=>{"use strict";p();m();Object.defineProperty(hi,"__esModule",{value:!0});hi.shake256=hi.shake128=hi.keccak_512=hi.keccak_384=hi.keccak_256=hi.keccak_224=hi.sha3_512=hi.sha3_384=hi.sha3_256=hi.sha3_224=hi.Keccak=void 0;hi.keccakP=Xoe;var aw=EB(),Qs=VA(),ZLe=BigInt(0),sw=BigInt(1),JLe=BigInt(2),QLe=BigInt(7),eDe=BigInt(256),tDe=BigInt(113),$oe=[],Goe=[],Woe=[];for(let t=0,e=sw,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],$oe.push(2*(5*n+r)),Goe.push((t+1)*(t+2)/2%64);let i=ZLe;for(let s=0;s<7;s++)e=(e<<sw^(e>>QLe)*tDe)%eDe,e&JLe&&(i^=sw<<(sw<<BigInt(s))-sw);Woe.push(i)}var Yoe=(0,aw.split)(Woe,!0),rDe=Yoe[0],nDe=Yoe[1],zoe=o((t,e,r)=>r>32?(0,aw.rotlBH)(t,e,r):(0,aw.rotlSH)(t,e,r),"rotlH"),Koe=o((t,e,r)=>r>32?(0,aw.rotlBL)(t,e,r):(0,aw.rotlSL)(t,e,r),"rotlL");function Xoe(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,u=(a+2)%10,h=r[u],y=r[u+1],g=zoe(h,y,1)^r[c],S=Koe(h,y,1)^r[c+1];for(let T=0;T<50;T+=10)t[a+T]^=g,t[a+T+1]^=S}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=Goe[a],u=zoe(i,s,c),h=Koe(i,s,c),y=$oe[a];i=t[y],s=t[y+1],t[y]=u,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=rDe[n],t[1]^=nDe[n]}(0,Qs.clean)(r)}o(Xoe,"keccakP");var cw=class t extends Qs.Hash{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,(0,Qs.anumber)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,Qs.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,Qs.swap32IfBE)(this.state32),Xoe(this.state32,this.rounds),(0,Qs.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Qs.aexists)(this),e=(0,Qs.toBytes)(e),(0,Qs.abytes)(e);let{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Qs.aexists)(this,!1),(0,Qs.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Qs.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Qs.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,Qs.clean)(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};hi.Keccak=cw;var Q0=o((t,e,r)=>(0,Qs.createHasher)(()=>new cw(e,t,r)),"gen");hi.sha3_224=Q0(6,144,224/8);hi.sha3_256=Q0(6,136,256/8);hi.sha3_384=Q0(6,104,384/8);hi.sha3_512=Q0(6,72,512/8);hi.keccak_224=Q0(1,144,224/8);hi.keccak_256=Q0(1,136,256/8);hi.keccak_384=Q0(1,104,384/8);hi.keccak_512=Q0(1,72,512/8);var Zoe=o((t,e,r)=>(0,Qs.createXOFer)((n={})=>new cw(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake");hi.shake128=Zoe(31,168,128/8);hi.shake256=Zoe(31,136,256/8)});var Qoe=j(rp=>{"use strict";p();m();Object.defineProperty(rp,"__esModule",{value:!0});rp.sha224=rp.sha256=rp.SHA256=void 0;var xP=zk(),Tf=F0(),iDe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ep=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tp=new Uint32Array(64),fw=class extends xP.HashMD{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=ep[0]|0,this.B=ep[1]|0,this.C=ep[2]|0,this.D=ep[3]|0,this.E=ep[4]|0,this.F=ep[5]|0,this.G=ep[6]|0,this.H=ep[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)tp[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=tp[g-15],T=tp[g-2],O=(0,Tf.rotr)(S,7)^(0,Tf.rotr)(S,18)^S>>>3,M=(0,Tf.rotr)(T,17)^(0,Tf.rotr)(T,19)^T>>>10;tp[g]=M+tp[g-7]+O+tp[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=(0,Tf.rotr)(c,6)^(0,Tf.rotr)(c,11)^(0,Tf.rotr)(c,25),T=y+S+(0,xP.Chi)(c,u,h)+iDe[g]+tp[g]|0,M=((0,Tf.rotr)(n,2)^(0,Tf.rotr)(n,13)^(0,Tf.rotr)(n,22))+(0,xP.Maj)(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){tp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};rp.SHA256=fw;var vP=class extends fw{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};rp.sha256=(0,Tf.wrapConstructor)(()=>new fw);rp.sha224=(0,Tf.wrapConstructor)(()=>new vP)});var tse=j(Hg=>{"use strict";p();m();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.hmac=Hg.HMAC=void 0;var j4=EA(),ese=F0(),uw=class extends ese.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,j4.hash)(e);let n=(0,ese.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,j4.exists)(this),this.iHash.update(e),this}digestInto(e){(0,j4.exists)(this),(0,j4.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};Hg.HMAC=uw;var oDe=o((t,e,r)=>new uw(t,e).update(r).digest(),"hmac");Hg.hmac=oDe;Hg.hmac.create=(t,e)=>new uw(t,e)});var _P=j(ms=>{"use strict";p();m();Object.defineProperty(ms,"__esModule",{value:!0});ms.DER=void 0;ms.weierstrassPoints=ise;ms.weierstrass=uDe;ms.SWUFpSqrtRatio=ose;ms.mapToCurveSimpleSWU=lDe;var z4=nB(),qg=z0(),Kr=Nu(),ps=Nu();function rse(t){t.lowS!==void 0&&(0,ps.abool)("lowS",t.lowS),t.prehash!==void 0&&(0,ps.abool)("prehash",t.prehash)}o(rse,"validateSigVerOpts");function sDe(t){let e=(0,z4.validateBasic)(t);Kr.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o(sDe,"validatePointOpts");var{bytesToNumberBE:aDe,hexToBytes:cDe}=Kr;ms.DER={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_tlv:{encode:o((t,e)=>{let{Err:r}=ms.DER;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=Kr.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?Kr.numberToHexUnpadded(i.length/2|128):"";return`${Kr.numberToHexUnpadded(t)}${s}${i}${e}`},"encode"),decode(t,e){let{Err:r}=ms.DER,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],s=!!(i&128),a=0;if(!s)a=i;else{let u=i&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");let h=e.subarray(n,n+u);if(h.length!==u)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let y of h)a=a<<8|y;if(n+=u,a<128)throw new r("tlv.decode(long): not minimal encoding")}let c=e.subarray(n,n+a);if(c.length!==a)throw new r("tlv.decode: wrong value length");return{v:c,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=ms.DER;if(t<Lu)throw new e("integer: negative integers are not allowed");let r=Kr.numberToHexUnpadded(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){let{Err:e}=ms.DER;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return aDe(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=ms.DER,i=typeof t=="string"?cDe(t):t;Kr.abytes(i);let{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("Invalid signature: left bytes after parsing");let{v:c,l:u}=n.decode(2,s),{v:h,l:y}=n.decode(2,u);if(y.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(h)}},hexFromSig(t){let{_tlv:e,_int:r}=ms.DER,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}};var Lu=BigInt(0),Dn=BigInt(1),np=BigInt(2),K4=BigInt(3),nse=BigInt(4);function ise(t){let e=sDe(t),{Fp:r}=e,n=qg.Field(e.n,e.nBitLength),i=e.toBytes||((M,k,C)=>{let B=k.toAffine();return Kr.concatBytes(Uint8Array.from([4]),r.toBytes(B.x),r.toBytes(B.y))}),s=e.fromBytes||(M=>{let k=M.subarray(1),C=r.fromBytes(k.subarray(0,r.BYTES)),B=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:C,y:B}});function a(M){let{a:k,b:C}=e,B=r.sqr(M),N=r.mul(B,M);return r.add(r.add(N,r.mul(M,k)),C)}if(o(a,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(M){return Kr.inRange(M,Dn,e.n)}o(c,"isWithinCurveOrder");function u(M){let{allowedPrivateKeyLengths:k,nByteLength:C,wrapPrivateKey:B,n:N}=e;if(k&&typeof M!="bigint"){if(Kr.isBytes(M)&&(M=Kr.bytesToHex(M)),typeof M!="string"||!k.includes(M.length))throw new Error("Invalid key");M=M.padStart(C*2,"0")}let P;try{P=typeof M=="bigint"?M:Kr.bytesToNumberBE((0,ps.ensureBytes)("private key",M,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof M}`)}return B&&(P=qg.mod(P,N)),Kr.aInRange("private key",P,Dn,N),P}o(u,"normPrivateKeyToScalar");function h(M){if(!(M instanceof S))throw new Error("ProjectivePoint expected")}o(h,"assertPrjPoint");let y=(0,ps.memoized)((M,k)=>{let{px:C,py:B,pz:N}=M;if(r.eql(N,r.ONE))return{x:C,y:B};let P=M.is0();k==null&&(k=P?r.ONE:r.inv(N));let H=r.mul(C,k),F=r.mul(B,k),Z=r.mul(N,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Z,r.ONE))throw new Error("invZ was invalid");return{x:H,y:F}}),g=(0,ps.memoized)(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.py))return;throw new Error("bad point: ZERO")}let{x:k,y:C}=M.toAffine();if(!r.isValid(k)||!r.isValid(C))throw new Error("bad point: x or y not FE");let B=r.sqr(C),N=a(k);if(!r.eql(B,N))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class S{static{o(this,"Point")}constructor(k,C,B){if(this.px=k,this.py=C,this.pz=B,k==null||!r.isValid(k))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(B==null||!r.isValid(B))throw new Error("z required");Object.freeze(this)}static fromAffine(k){let{x:C,y:B}=k||{};if(!k||!r.isValid(C)||!r.isValid(B))throw new Error("invalid affine point");if(k instanceof S)throw new Error("projective point not allowed");let N=o(P=>r.eql(P,r.ZERO),"is0");return N(C)&&N(B)?S.ZERO:new S(C,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){let C=r.invertBatch(k.map(B=>B.pz));return k.map((B,N)=>B.toAffine(C[N])).map(S.fromAffine)}static fromHex(k){let C=S.fromAffine(s((0,ps.ensureBytes)("pointHex",k)));return C.assertValidity(),C}static fromPrivateKey(k){return S.BASE.multiply(u(k))}static msm(k,C){return(0,z4.pippenger)(S,n,k,C)}_setWindowSize(k){O.setWindowSize(this,k)}assertValidity(){g(this)}hasEvenY(){let{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){h(k);let{px:C,py:B,pz:N}=this,{px:P,py:H,pz:F}=k,Z=r.eql(r.mul(C,F),r.mul(P,N)),W=r.eql(r.mul(B,F),r.mul(H,N));return Z&&W}negate(){return new S(this.px,r.neg(this.py),this.pz)}double(){let{a:k,b:C}=e,B=r.mul(C,K4),{px:N,py:P,pz:H}=this,F=r.ZERO,Z=r.ZERO,W=r.ZERO,X=r.mul(N,N),E=r.mul(P,P),f=r.mul(H,H),d=r.mul(N,P);return d=r.add(d,d),W=r.mul(N,H),W=r.add(W,W),F=r.mul(k,W),Z=r.mul(B,f),Z=r.add(F,Z),F=r.sub(E,Z),Z=r.add(E,Z),Z=r.mul(F,Z),F=r.mul(d,F),W=r.mul(B,W),f=r.mul(k,f),d=r.sub(X,f),d=r.mul(k,d),d=r.add(d,W),W=r.add(X,X),X=r.add(W,X),X=r.add(X,f),X=r.mul(X,d),Z=r.add(Z,X),f=r.mul(P,H),f=r.add(f,f),X=r.mul(f,d),F=r.sub(F,X),W=r.mul(f,E),W=r.add(W,W),W=r.add(W,W),new S(F,Z,W)}add(k){h(k);let{px:C,py:B,pz:N}=this,{px:P,py:H,pz:F}=k,Z=r.ZERO,W=r.ZERO,X=r.ZERO,E=e.a,f=r.mul(e.b,K4),d=r.mul(C,P),b=r.mul(B,H),x=r.mul(N,F),_=r.add(C,B),A=r.add(P,H);_=r.mul(_,A),A=r.add(d,b),_=r.sub(_,A),A=r.add(C,N);let I=r.add(P,F);return A=r.mul(A,I),I=r.add(d,x),A=r.sub(A,I),I=r.add(B,N),Z=r.add(H,F),I=r.mul(I,Z),Z=r.add(b,x),I=r.sub(I,Z),X=r.mul(E,A),Z=r.mul(f,x),X=r.add(Z,X),Z=r.sub(b,X),X=r.add(b,X),W=r.mul(Z,X),b=r.add(d,d),b=r.add(b,d),x=r.mul(E,x),A=r.mul(f,A),b=r.add(b,x),x=r.sub(d,x),x=r.mul(E,x),A=r.add(A,x),d=r.mul(b,A),W=r.add(W,d),d=r.mul(I,A),Z=r.mul(_,Z),Z=r.sub(Z,d),d=r.mul(_,b),X=r.mul(I,X),X=r.add(X,d),new S(Z,W,X)}subtract(k){return this.add(k.negate())}is0(){return this.equals(S.ZERO)}wNAF(k){return O.wNAFCached(this,k,S.normalizeZ)}multiplyUnsafe(k){Kr.aInRange("scalar",k,Lu,e.n);let C=S.ZERO;if(k===Lu)return C;if(k===Dn)return this;let{endo:B}=e;if(!B)return O.unsafeLadder(this,k);let{k1neg:N,k1:P,k2neg:H,k2:F}=B.splitScalar(k),Z=C,W=C,X=this;for(;P>Lu||F>Lu;)P&Dn&&(Z=Z.add(X)),F&Dn&&(W=W.add(X)),X=X.double(),P>>=Dn,F>>=Dn;return N&&(Z=Z.negate()),H&&(W=W.negate()),W=new S(r.mul(W.px,B.beta),W.py,W.pz),Z.add(W)}multiply(k){let{endo:C,n:B}=e;Kr.aInRange("scalar",k,Dn,B);let N,P;if(C){let{k1neg:H,k1:F,k2neg:Z,k2:W}=C.splitScalar(k),{p:X,f:E}=this.wNAF(F),{p:f,f:d}=this.wNAF(W);X=O.constTimeNegate(H,X),f=O.constTimeNegate(Z,f),f=new S(r.mul(f.px,C.beta),f.py,f.pz),N=X.add(f),P=E.add(d)}else{let{p:H,f:F}=this.wNAF(k);N=H,P=F}return S.normalizeZ([N,P])[0]}multiplyAndAddUnsafe(k,C,B){let N=S.BASE,P=o((F,Z)=>Z===Lu||Z===Dn||!F.equals(N)?F.multiplyUnsafe(Z):F.multiply(Z),"mul"),H=P(this,C).add(P(k,B));return H.is0()?void 0:H}toAffine(k){return y(this,k)}isTorsionFree(){let{h:k,isTorsionFree:C}=e;if(k===Dn)return!0;if(C)return C(S,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:k,clearCofactor:C}=e;return k===Dn?this:C?C(S,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return(0,ps.abool)("isCompressed",k),this.assertValidity(),i(S,this,k)}toHex(k=!0){return(0,ps.abool)("isCompressed",k),Kr.bytesToHex(this.toRawBytes(k))}}S.BASE=new S(e.Gx,e.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO);let T=e.nBitLength,O=(0,z4.wNAF)(S,e.endo?Math.ceil(T/2):T);return{CURVE:e,ProjectivePoint:S,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:c}}o(ise,"weierstrassPoints");function fDe(t){let e=(0,z4.validateBasic)(t);return Kr.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(fDe,"validateOpts");function uDe(t){let e=fDe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(x){return qg.mod(x,n)}o(a,"modN");function c(x){return qg.invert(x,n)}o(c,"invN");let{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:y,isWithinCurveOrder:g}=ise({...e,toBytes(x,_,A){let I=_.toAffine(),v=r.toBytes(I.x),l=Kr.concatBytes;return(0,ps.abool)("isCompressed",A),A?l(Uint8Array.from([_.hasEvenY()?2:3]),v):l(Uint8Array.from([4]),v,r.toBytes(I.y))},fromBytes(x){let _=x.length,A=x[0],I=x.subarray(1);if(_===i&&(A===2||A===3)){let v=Kr.bytesToNumberBE(I);if(!Kr.inRange(v,Dn,r.ORDER))throw new Error("Point is not on curve");let l=y(v),w;try{w=r.sqrt(l)}catch(U){let G=U instanceof Error?": "+U.message:"";throw new Error("Point is not on curve"+G)}let V=(w&Dn)===Dn;return(A&1)===1!==V&&(w=r.neg(w)),{x:v,y:w}}else if(_===s&&A===4){let v=r.fromBytes(I.subarray(0,r.BYTES)),l=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:v,y:l}}else throw new Error(`Point of length ${_} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),S=o(x=>Kr.bytesToHex(Kr.numberToBytesBE(x,e.nByteLength)),"numToNByteStr");function T(x){let _=n>>Dn;return x>_}o(T,"isBiggerThanHalfOrder");function O(x){return T(x)?a(-x):x}o(O,"normalizeS");let M=o((x,_,A)=>Kr.bytesToNumberBE(x.slice(_,A)),"slcNum");class k{static{o(this,"Signature")}constructor(_,A,I){this.r=_,this.s=A,this.recovery=I,this.assertValidity()}static fromCompact(_){let A=e.nByteLength;return _=(0,ps.ensureBytes)("compactSignature",_,A*2),new k(M(_,0,A),M(_,A,2*A))}static fromDER(_){let{r:A,s:I}=ms.DER.toSig((0,ps.ensureBytes)("DER",_));return new k(A,I)}assertValidity(){Kr.aInRange("r",this.r,Dn,n),Kr.aInRange("s",this.s,Dn,n)}addRecoveryBit(_){return new k(this.r,this.s,_)}recoverPublicKey(_){let{r:A,s:I,recovery:v}=this,l=F((0,ps.ensureBytes)("msgHash",_));if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");let w=v===2||v===3?A+e.n:A;if(w>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=v&1?"03":"02",q=u.fromHex(V+S(w)),U=c(w),G=a(-l*U),ee=a(I*U),re=u.BASE.multiplyAndAddUnsafe(q,G,ee);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Kr.hexToBytes(this.toDERHex())}toDERHex(){return ms.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kr.hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}let C={isValidPrivateKey(x){try{return h(x),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:o(()=>{let x=qg.getMinHashLength(e.n);return qg.mapHashToField(e.randomBytes(x),e.n)},"randomPrivateKey"),precompute(x=8,_=u.BASE){return _._setWindowSize(x),_.multiply(BigInt(3)),_}};function B(x,_=!0){return u.fromPrivateKey(x).toRawBytes(_)}o(B,"getPublicKey");function N(x){let _=Kr.isBytes(x),A=typeof x=="string",I=(_||A)&&x.length;return _?I===i||I===s:A?I===2*i||I===2*s:x instanceof u}o(N,"isProbPub");function P(x,_,A=!0){if(N(x))throw new Error("first arg must be private key");if(!N(_))throw new Error("second arg must be public key");return u.fromHex(_).multiply(h(x)).toRawBytes(A)}o(P,"getSharedSecret");let H=e.bits2int||function(x){let _=Kr.bytesToNumberBE(x),A=x.length*8-e.nBitLength;return A>0?_>>BigInt(A):_},F=e.bits2int_modN||function(x){return a(H(x))},Z=Kr.bitMask(e.nBitLength);function W(x){return Kr.aInRange(`num < 2^${e.nBitLength}`,x,Lu,Z),Kr.numberToBytesBE(x,e.nByteLength)}o(W,"int2octets");function X(x,_,A=E){if(["recovered","canonical"].some(ae=>ae in A))throw new Error("sign() legacy options not supported");let{hash:I,randomBytes:v}=e,{lowS:l,prehash:w,extraEntropy:V}=A;l==null&&(l=!0),x=(0,ps.ensureBytes)("msgHash",x),rse(A),w&&(x=(0,ps.ensureBytes)("prehashed msgHash",I(x)));let q=F(x),U=h(_),G=[W(U),W(q)];if(V!=null&&V!==!1){let ae=V===!0?v(r.BYTES):V;G.push((0,ps.ensureBytes)("extraEntropy",ae))}let ee=Kr.concatBytes(...G),re=q;function Oe(ae){let le=H(ae);if(!g(le))return;let ye=c(le),he=u.BASE.multiply(le).toAffine(),ge=a(he.x);if(ge===Lu)return;let lr=a(ye*a(re+ge*U));if(lr===Lu)return;let Ae=(he.x===ge?0:2)|Number(he.y&Dn),Me=lr;return l&&T(lr)&&(Me=O(lr),Ae^=1),new k(ge,Me,Ae)}return o(Oe,"k2sig"),{seed:ee,k2sig:Oe}}o(X,"prepSig");let E={lowS:e.lowS,prehash:!1},f={lowS:e.lowS,prehash:!1};function d(x,_,A=E){let{seed:I,k2sig:v}=X(x,_,A),l=e;return Kr.createHmacDrbg(l.hash.outputLen,l.nByteLength,l.hmac)(I,v)}o(d,"sign"),u.BASE._setWindowSize(8);function b(x,_,A,I=f){let v=x;if(_=(0,ps.ensureBytes)("msgHash",_),A=(0,ps.ensureBytes)("publicKey",A),"strict"in I)throw new Error("options.strict was renamed to lowS");rse(I);let{lowS:l,prehash:w}=I,V,q;try{if(typeof v=="string"||Kr.isBytes(v))try{V=k.fromDER(v)}catch(he){if(!(he instanceof ms.DER.Err))throw he;V=k.fromCompact(v)}else if(typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint"){let{r:he,s:ge}=v;V=new k(he,ge)}else throw new Error("PARSE");q=u.fromHex(A)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&V.hasHighS())return!1;w&&(_=e.hash(_));let{r:U,s:G}=V,ee=F(_),re=c(G),Oe=a(ee*re),ae=a(U*re),le=u.BASE.multiplyAndAddUnsafe(q,Oe,ae)?.toAffine();return le?a(le.x)===U:!1}return o(b,"verify"),{CURVE:e,getPublicKey:B,getSharedSecret:P,sign:d,verify:b,ProjectivePoint:u,Signature:k,utils:C}}o(uDe,"weierstrass");function ose(t,e){let r=t.ORDER,n=Lu;for(let O=r-Dn;O%np===Lu;O/=np)n+=Dn;let i=n,s=np<<i-Dn-Dn,a=s*np,c=(r-Dn)/a,u=(c-Dn)/np,h=a-Dn,y=s,g=t.pow(e,c),S=t.pow(e,(c+Dn)/np),T=o((O,M)=>{let k=g,C=t.pow(M,h),B=t.sqr(C);B=t.mul(B,M);let N=t.mul(O,B);N=t.pow(N,u),N=t.mul(N,C),C=t.mul(N,M),B=t.mul(N,O);let P=t.mul(B,C);N=t.pow(P,y);let H=t.eql(N,t.ONE);C=t.mul(B,S),N=t.mul(P,k),B=t.cmov(C,B,H),P=t.cmov(N,P,H);for(let F=i;F>Dn;F--){let Z=F-np;Z=np<<Z-Dn;let W=t.pow(P,Z),X=t.eql(W,t.ONE);C=t.mul(B,k),k=t.mul(k,k),W=t.mul(P,k),B=t.cmov(C,B,X),P=t.cmov(W,P,X)}return{isValid:H,value:B}},"sqrtRatio");if(t.ORDER%nse===K4){let O=(t.ORDER-K4)/nse,M=t.sqrt(t.neg(e));T=o((k,C)=>{let B=t.sqr(C),N=t.mul(k,C);B=t.mul(B,N);let P=t.pow(B,O);P=t.mul(P,N);let H=t.mul(P,M),F=t.mul(t.sqr(P),C),Z=t.eql(F,k),W=t.cmov(H,P,Z);return{isValid:Z,value:W}},"sqrtRatio")}return T}o(ose,"SWUFpSqrtRatio");function lDe(t,e){if(qg.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=ose(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,c,u,h,y,g;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),a=t.add(s,t.ONE),a=t.mul(a,e.B),c=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),c=t.mul(c,e.A),s=t.sqr(a),h=t.sqr(c),u=t.mul(h,e.A),s=t.add(s,u),s=t.mul(s,a),h=t.mul(h,c),u=t.mul(h,e.B),s=t.add(s,u),y=t.mul(i,a);let{isValid:S,value:T}=r(s,h);g=t.mul(i,n),g=t.mul(g,T),y=t.cmov(y,a,S),g=t.cmov(g,T,S);let O=t.isOdd(n)===t.isOdd(g);return g=t.cmov(t.neg(g),g,O),y=t.div(y,c),{x:y,y:g}}}o(lDe,"mapToCurveSimpleSWU")});var cse=j($4=>{"use strict";p();m();Object.defineProperty($4,"__esModule",{value:!0});$4.getHash=ase;$4.createCurve=pDe;var dDe=tse(),sse=F0(),hDe=_P();function ase(t){return{hash:t,hmac:o((e,...r)=>(0,dDe.hmac)(t,e,(0,sse.concatBytes)(...r)),"hmac"),randomBytes:sse.randomBytes}}o(ase,"getHash");function pDe(t,e){let r=o(n=>(0,hDe.weierstrass)({...t,...ase(n)}),"create");return Object.freeze({...r(e),create:r})}o(pDe,"createCurve")});var bse=j(sc=>{"use strict";p();m();Object.defineProperty(sc,"__esModule",{value:!0});sc.encodeToCurve=sc.hashToCurve=sc.schnorr=sc.secp256k1=void 0;var G4=Qoe(),mDe=F0(),gDe=cse(),lse=aB(),Go=z0(),oc=Nu(),yDe=_P(),hw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),W4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lw=BigInt(1),Y4=BigInt(2),fse=o((t,e)=>(t+e/Y4)/e,"divNearest");function dse(t){let e=hw,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),h=t*t*t%e,y=h*h*t%e,g=(0,Go.pow2)(y,r,e)*y%e,S=(0,Go.pow2)(g,r,e)*y%e,T=(0,Go.pow2)(S,Y4,e)*h%e,O=(0,Go.pow2)(T,i,e)*T%e,M=(0,Go.pow2)(O,s,e)*O%e,k=(0,Go.pow2)(M,c,e)*M%e,C=(0,Go.pow2)(k,u,e)*k%e,B=(0,Go.pow2)(C,c,e)*M%e,N=(0,Go.pow2)(B,r,e)*y%e,P=(0,Go.pow2)(N,a,e)*O%e,H=(0,Go.pow2)(P,n,e)*h%e,F=(0,Go.pow2)(H,Y4,e);if(!ip.eql(ip.sqr(F),t))throw new Error("Cannot find square root");return F}o(dse,"sqrtMod");var ip=(0,Go.Field)(hw,void 0,void 0,{sqrt:dse});sc.secp256k1=(0,gDe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:ip,n:W4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=W4,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=fse(s*t,e),u=fse(-n*t,e),h=(0,Go.mod)(t-c*r-u*i,e),y=(0,Go.mod)(-c*n-u*s,e),g=h>a,S=y>a;if(g&&(h=e-h),S&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:S,k2:y}},"splitScalar")}},G4.sha256);var hse=BigInt(0),use={};function X4(t,...e){let r=use[t];if(r===void 0){let n=(0,G4.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,oc.concatBytes)(n,n),use[t]=r}return(0,G4.sha256)((0,oc.concatBytes)(r,...e))}o(X4,"taggedHash");var AP=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),SP=o(t=>(0,oc.numberToBytesBE)(t,32),"numTo32b"),wP=o(t=>(0,Go.mod)(t,hw),"modP"),dw=o(t=>(0,Go.mod)(t,W4),"modN"),TP=sc.secp256k1.ProjectivePoint,bDe=o((t,e,r)=>TP.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function EP(t){let e=sc.secp256k1.utils.normPrivateKeyToScalar(t),r=TP.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:dw(-e),bytes:AP(r)}}o(EP,"schnorrGetExtPubKey");function pse(t){(0,oc.aInRange)("x",t,lw,hw);let e=wP(t*t),r=wP(e*t+BigInt(7)),n=dse(r);n%Y4!==hse&&(n=wP(-n));let i=new TP(t,n,lw);return i.assertValidity(),i}o(pse,"lift_x");var Ub=oc.bytesToNumberBE;function mse(...t){return dw(Ub(X4("BIP0340/challenge",...t)))}o(mse,"challenge");function xDe(t){return EP(t).bytes}o(xDe,"schnorrGetPublicKey");function vDe(t,e,r=(0,mDe.randomBytes)(32)){let n=(0,oc.ensureBytes)("message",t),{bytes:i,scalar:s}=EP(e),a=(0,oc.ensureBytes)("auxRand",r,32),c=SP(s^Ub(X4("BIP0340/aux",a))),u=X4("BIP0340/nonce",c,i,n),h=dw(Ub(u));if(h===hse)throw new Error("sign failed: k is zero");let{bytes:y,scalar:g}=EP(h),S=mse(y,i,n),T=new Uint8Array(64);if(T.set(y,0),T.set(SP(dw(g+S*s)),32),!gse(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(vDe,"schnorrSign");function gse(t,e,r){let n=(0,oc.ensureBytes)("signature",t,64),i=(0,oc.ensureBytes)("message",e),s=(0,oc.ensureBytes)("publicKey",r,32);try{let a=pse(Ub(s)),c=Ub(n.subarray(0,32));if(!(0,oc.inRange)(c,lw,hw))return!1;let u=Ub(n.subarray(32,64));if(!(0,oc.inRange)(u,lw,W4))return!1;let h=mse(SP(c),AP(a),i),y=bDe(a,u,dw(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(gse,"schnorrVerify");sc.schnorr={getPublicKey:xDe,sign:vDe,verify:gse,utils:{randomPrivateKey:sc.secp256k1.utils.randomPrivateKey,lift_x:pse,pointToBytes:AP,numberToBytesBE:oc.numberToBytesBE,bytesToNumberBE:oc.bytesToNumberBE,taggedHash:X4,mod:Go.mod}};var _De=(0,lse.isogenyMap)(ip,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),wDe=(0,yDe.mapToCurveSimpleSWU)(ip,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ip.create(BigInt("-11"))}),yse=(0,lse.createHasher)(sc.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=wDe(ip.create(t[0]));return _De(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ip.ORDER,m:1,k:128,expand:"xmd",hash:G4.sha256});sc.hashToCurve=yse.hashToCurve;sc.encodeToCurve=yse.encodeToCurve});var sL=j(pt=>{"use strict";p();m();var Xt=li(),Kb=LQ(),SDe=bb(),EDe=Mu(),xse=gee(),IP=wee(),qse=kB(),Vse=loe(),L=hoe(),ADe=Loe(),vse=joe(),_se=Joe(),QP=bse();function eL(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}o(eL,"_interopDefaultCompat");function TDe(t){if(t&&typeof t=="object"&&"default"in t)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(TDe,"_interopNamespaceCompat");var wse=eL(SDe),gs=eL(EDe),oe=TDe(qse),IDe=eL(ADe),RDe=Kb.ed25519.utils.randomPrivateKey,Sse=o(()=>{let t=Kb.ed25519.utils.randomPrivateKey(),e=e8(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"generateKeypair"),e8=Kb.ed25519.getPublicKey;function Ese(t){try{return Kb.ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}o(Ese,"isOnCurve");var tL=o((t,e)=>Kb.ed25519.sign(t,e.slice(0,32)),"sign"),ODe=Kb.ed25519.verify,Tr=o(t=>Xt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Xt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Xt.Buffer.from(t),"toBuffer"),gw=class{static{o(this,"Struct")}constructor(e){Object.assign(this,e)}encode(){return Xt.Buffer.from(IP.serialize(mw,this))}static decode(e){return IP.deserialize(mw,this,e)}static decodeUnchecked(e){return IP.deserializeUnchecked(mw,this,e)}},BP=class extends gw{static{o(this,"Enum")}constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},mw=new Map,jse,zse=32,Zl=32;function MDe(t){return t._bn!==void 0}o(MDe,"isPublicKeyData");var Ase=1,ht=class t extends gw{static{o(this,"PublicKey")}constructor(e){if(super({}),this._bn=void 0,MDe(e))this._bn=e._bn;else{if(typeof e=="string"){let r=gs.default.decode(e);if(r.length!=Zl)throw new Error("Invalid public key input");this._bn=new wse.default(r)}else this._bn=new wse.default(e);if(this._bn.byteLength()>Zl)throw new Error("Invalid public key input")}}static unique(){let e=new t(Ase);return Ase+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gs.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Xt.Buffer);if(e.length===Zl)return e;let r=Xt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=Xt.Buffer.concat([e.toBuffer(),Xt.Buffer.from(r),n.toBuffer()]),s=xse.sha256(i);return new t(s)}static createProgramAddressSync(e,r){let n=Xt.Buffer.alloc(0);e.forEach(function(s){if(s.length>zse)throw new TypeError("Max seed length exceeded");n=Xt.Buffer.concat([n,Tr(s)])}),n=Xt.Buffer.concat([n,r.toBuffer(),Xt.Buffer.from("ProgramDerivedAddress")]);let i=xse.sha256(n);if(Ese(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let s=e.concat(Xt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return Ese(r.toBytes())}};jse=ht;ht.default=new jse("11111111111111111111111111111111");mw.set(ht,{kind:"struct",fields:[["_bn","u256"]]});var PP=class{static{o(this,"Account")}constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Tr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Tr(RDe()),this._publicKey=Tr(e8(this._secretKey))}get publicKey(){return new ht(this._publicKey)}get secretKey(){return Xt.Buffer.concat([this._secretKey,this._publicKey],64)}},NDe=new ht("BPFLoader1111111111111111111111111111111111"),sp=1232,u8=127,yw=64,bw=class extends Error{static{o(this,"TransactionExpiredBlockheightExceededError")}constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(bw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var xw=class extends Error{static{o(this,"TransactionExpiredTimeoutError")}constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(xw.prototype,"name",{value:"TransactionExpiredTimeoutError"});var op=class extends Error{static{o(this,"TransactionExpiredNonceInvalidError")}constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(op.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var zg=class{static{o(this,"MessageAccountKeys")}constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});let i=o(s=>{let a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a},"findKeyIndex");return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(a=>i(a.pubkey)),data:s.data}))}},Lr=o((t="publicKey")=>oe.blob(32,t),"publicKey"),CDe=o((t="signature")=>oe.blob(64,t),"signature"),jg=o((t="string")=>{let e=oe.struct([oe.u32("length"),oe.u32("lengthPadding"),oe.blob(oe.offset(oe.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,a)=>r(s,a).chars.toString(),i.encode=(s,a,c)=>{let u={chars:Xt.Buffer.from(s,"utf8")};return n(u,a,c)},i.alloc=s=>oe.u32().span+oe.u32().span+Xt.Buffer.from(s,"utf8").length,i},"rustString"),kDe=o((t="authorized")=>oe.struct([Lr("staker"),Lr("withdrawer")],t),"authorized"),BDe=o((t="lockup")=>oe.struct([oe.ns64("unixTimestamp"),oe.ns64("epoch"),Lr("custodian")],t),"lockup"),PDe=o((t="voteInit")=>oe.struct([Lr("nodePubkey"),Lr("authorizedVoter"),Lr("authorizedWithdrawer"),oe.u8("commission")],t),"voteInit"),LDe=o((t="voteAuthorizeWithSeedArgs")=>oe.struct([oe.u32("voteAuthorizationType"),Lr("currentAuthorityDerivedKeyOwnerPubkey"),jg("currentAuthorityDerivedKeySeed"),Lr("newAuthorized")],t),"voteAuthorizeWithSeedArgs");function Kse(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Kse({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(Kse,"getAlloc");function ac(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}o(ac,"decodeLength");function jc(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}o(jc,"encodeLength");function fn(t,e){if(!t)throw new Error(e||"Assertion failed")}o(fn,"assert");var t8=class t{static{o(this,"CompiledKeys")}constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=o(a=>{let c=a.toBase58(),u=n.get(c);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,u)),u},"getOrInsertDefault"),s=i(r);s.isSigner=!0,s.isWritable=!0;for(let a of e){i(a.programId).isInvoked=!0;for(let c of a.keys){let u=i(c.pubkey);u.isSigner||=c.isSigner,u.isWritable||=c.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];fn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{fn(r.length>0,"Expected at least one writable signer key");let[u]=r[0];fn(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...r.map(([u])=>new ht(u)),...n.map(([u])=>new ht(u)),...i.map(([u])=>new ht(u)),...s.map(([u])=>new ht(u))];return[a,c]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[s,a]of this.keyMetaMap.entries())if(r(a)){let c=new ht(s),u=e.findIndex(h=>h.equals(c));u>=0&&(fn(u<256,"Max lookup table index exceeded"),n.push(u),i.push(c),this.keyMetaMap.delete(s))}return[n,i]}},$se="Reached end of buffer unexpectedly";function Wl(t){if(t.length===0)throw new Error($se);return t.shift()}o(Wl,"guardedShift");function cc(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error($se);return t.splice(...e)}o(cc,"guardedSplice");var Jl=class t{static{o(this,"Message")}constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ht(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gs.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new zg(this.staticAccountKeys)}static compile(e){let r=t8.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),a=new zg(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:gs.default.encode(c.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];jc(r,e);let n=this.instructions.map(g=>{let{accounts:S,programIdIndex:T}=g,O=Array.from(gs.default.decode(g.data)),M=[];jc(M,S.length);let k=[];return jc(k,O.length),{programIdIndex:T,keyIndicesCount:Xt.Buffer.from(M),keyIndices:S,dataLength:Xt.Buffer.from(k),data:O}}),i=[];jc(i,n.length);let s=Xt.Buffer.alloc(sp);Xt.Buffer.from(i).copy(s);let a=i.length;n.forEach(g=>{let T=oe.struct([oe.u8("programIdIndex"),oe.blob(g.keyIndicesCount.length,"keyIndicesCount"),oe.seq(oe.u8("keyIndex"),g.keyIndices.length,"keyIndices"),oe.blob(g.dataLength.length,"dataLength"),oe.seq(oe.u8("userdatum"),g.data.length,"data")]).encode(g,s,a);a+=T}),s=s.slice(0,a);let c=oe.struct([oe.blob(1,"numRequiredSignatures"),oe.blob(1,"numReadonlySignedAccounts"),oe.blob(1,"numReadonlyUnsignedAccounts"),oe.blob(r.length,"keyCount"),oe.seq(Lr("key"),e,"keys"),Lr("recentBlockhash")]),u={numRequiredSignatures:Xt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Xt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Xt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Xt.Buffer.from(r),keys:this.accountKeys.map(g=>Tr(g.toBytes())),recentBlockhash:gs.default.decode(this.recentBlockhash)},h=Xt.Buffer.alloc(2048),y=c.encode(u,h);return s.copy(h,y),h.slice(0,y+s.length)}static from(e){let r=[...e],n=Wl(r);if(n!==(n&u8))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Wl(r),s=Wl(r),a=ac(r),c=[];for(let S=0;S<a;S++){let T=cc(r,0,Zl);c.push(new ht(Xt.Buffer.from(T)))}let u=cc(r,0,Zl),h=ac(r),y=[];for(let S=0;S<h;S++){let T=Wl(r),O=ac(r),M=cc(r,0,O),k=ac(r),C=cc(r,0,k),B=gs.default.encode(Xt.Buffer.from(C));y.push({programIdIndex:T,accounts:M,data:B})}let g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:gs.default.encode(Xt.Buffer.from(u)),accountKeys:c,instructions:y};return new t(g)}},Fb=class t{static{o(this,"MessageV0")}constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new zg(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((a,c)=>a+c.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-r,a=n-r-this.header.numReadonlyUnsignedAccounts;return i<a}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=t8.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let y of s){let g=r.extractTableLookup(y);if(g!==void 0){let[S,{writable:T,readonly:O}]=g;n.push(S),i.writable.push(...T),i.readonly.push(...O)}}let[a,c]=r.getMessageComponents(),h=new zg(c,i).compileInstructions(e.instructions);return new t({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();jc(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();jc(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();jc(s,this.addressTableLookups.length);let a=oe.struct([oe.u8("prefix"),oe.struct([oe.u8("numRequiredSignatures"),oe.u8("numReadonlySignedAccounts"),oe.u8("numReadonlyUnsignedAccounts")],"header"),oe.blob(e.length,"staticAccountKeysLength"),oe.seq(Lr(),this.staticAccountKeys.length,"staticAccountKeys"),Lr("recentBlockhash"),oe.blob(n.length,"instructionsLength"),oe.blob(r.length,"serializedInstructions"),oe.blob(s.length,"addressTableLookupsLength"),oe.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(sp),h=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(y=>y.toBytes()),recentBlockhash:gs.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},c);return c.slice(0,h)}serializeInstructions(){let e=0,r=new Uint8Array(sp);for(let n of this.compiledInstructions){let i=Array();jc(i,n.accountKeyIndexes.length);let s=Array();jc(s,n.data.length);let a=oe.struct([oe.u8("programIdIndex"),oe.blob(i.length,"encodedAccountKeyIndexesLength"),oe.seq(oe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),oe.blob(s.length,"encodedDataLength"),oe.blob(n.data.length,"data")]);e+=a.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(sp);for(let n of this.addressTableLookups){let i=Array();jc(i,n.writableIndexes.length);let s=Array();jc(s,n.readonlyIndexes.length);let a=oe.struct([Lr("accountKey"),oe.blob(i.length,"encodedWritableIndexesLength"),oe.seq(oe.u8(),n.writableIndexes.length,"writableIndexes"),oe.blob(s.length,"encodedReadonlyIndexesLength"),oe.seq(oe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Wl(r),i=n&u8;fn(n!==i,"Expected versioned message but received legacy message");let s=i;fn(s===0,`Expected versioned message with version 0 but found version ${s}`);let a={numRequiredSignatures:Wl(r),numReadonlySignedAccounts:Wl(r),numReadonlyUnsignedAccounts:Wl(r)},c=[],u=ac(r);for(let O=0;O<u;O++)c.push(new ht(cc(r,0,Zl)));let h=gs.default.encode(cc(r,0,Zl)),y=ac(r),g=[];for(let O=0;O<y;O++){let M=Wl(r),k=ac(r),C=cc(r,0,k),B=ac(r),N=new Uint8Array(cc(r,0,B));g.push({programIdIndex:M,accountKeyIndexes:C,data:N})}let S=ac(r),T=[];for(let O=0;O<S;O++){let M=new ht(cc(r,0,Zl)),k=ac(r),C=cc(r,0,k),B=ac(r),N=cc(r,0,B);T.push({accountKey:M,writableIndexes:C,readonlyIndexes:N})}return new t({header:a,staticAccountKeys:c,recentBlockhash:h,compiledInstructions:g,addressTableLookups:T})}},rL={deserializeMessageVersion(t){let e=t[0],r=e&u8;return r===e?"legacy":r},deserialize:o(t=>{let e=rL.deserializeMessageVersion(t);if(e==="legacy")return Jl.from(t);if(e===0)return Fb.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)},"deserialize")},xh=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({}),DDe=Xt.Buffer.alloc(yw).fill(0),Nn=class{static{o(this,"TransactionInstruction")}constructor(e){this.keys=void 0,this.programId=void 0,this.data=Xt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Rn=class t{static{o(this,"Transaction")}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Nn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let M=0;M<r.length;M++)if(r[M].programId===void 0)throw new Error(`Transaction instruction index ${M} has undefined program id`);let i=[],s=[];r.forEach(M=>{M.keys.forEach(C=>{s.push({...C})});let k=M.programId.toString();i.includes(k)||i.push(k)}),i.forEach(M=>{s.push({pubkey:new ht(M),isSigner:!1,isWritable:!1})});let a=[];s.forEach(M=>{let k=M.pubkey.toString(),C=a.findIndex(B=>B.pubkey.toString()===k);C>-1?(a[C].isWritable=a[C].isWritable||M.isWritable,a[C].isSigner=a[C].isSigner||M.isSigner):a.push(M)}),a.sort(function(M,k){if(M.isSigner!==k.isSigner)return M.isSigner?-1:1;if(M.isWritable!==k.isWritable)return M.isWritable?-1:1;let C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return M.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",C)});let c=a.findIndex(M=>M.pubkey.equals(n));if(c>-1){let[M]=a.splice(c,1);M.isSigner=!0,M.isWritable=!0,a.unshift(M)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let M of this.signatures){let k=a.findIndex(C=>C.pubkey.equals(M.publicKey));if(k>-1)a[k].isSigner||(a[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${M.publicKey.toString()}`)}let u=0,h=0,y=0,g=[],S=[];a.forEach(({pubkey:M,isSigner:k,isWritable:C})=>{k?(g.push(M.toString()),u+=1,C||(h+=1)):(S.push(M.toString()),C||(y+=1))});let T=g.concat(S),O=r.map(M=>{let{data:k,programId:C}=M;return{programIdIndex:T.indexOf(C.toString()),accounts:M.keys.map(B=>T.indexOf(B.pubkey.toString())),data:gs.default.encode(k)}});return O.forEach(M=>{fn(M.programIdIndex>=0),M.accounts.forEach(k=>fn(k>=0))}),new Jl({header:{numRequiredSignatures:u,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:y},accountKeys:T,recentBlockhash:e,instructions:O})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let s of e){let a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let s=tL(n,i.secretKey);this._addSignature(i.publicKey,Tr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){fn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Xt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):ODe(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let s=this._getMessageSignednessErrors(i,r);if(s){let a="Signature verification failed.";throw s.invalid&&(a+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),s.missing&&(a+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(a)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];jc(n,r.length);let i=n.length+r.length*64+e.length,s=Xt.Buffer.alloc(i);return fn(r.length<256),Xt.Buffer.from(n).copy(s,0),r.forEach(({signature:a},c)=>{a!==null&&(fn(a.length===64,"signature has invalid length"),Xt.Buffer.from(a).copy(s,n.length+c*64))}),e.copy(s,n.length+r.length*64),fn(s.length<=sp,`Transaction too large: ${s.length} > ${sp}`),s}get keys(){return fn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return fn(this.instructions.length===1),this.instructions[0].programId}get data(){return fn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=ac(r),i=[];for(let s=0;s<n;s++){let a=cc(r,0,yw);i.push(gs.default.encode(Xt.Buffer.from(a)))}return t.populate(Jl.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{let a={signature:i==gs.default.encode(DDe)?null:gs.default.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(i=>{let s=i.accounts.map(a=>{let c=e.accountKeys[a];return{pubkey:c,isSigner:n.signatures.some(u=>u.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new Nn({keys:s,programId:e.accountKeys[i.programIdIndex],data:gs.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},LP=class t{static{o(this,"TransactionMessage")}constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u}=n,h=a-c;fn(h>0,"Message header is invalid");let y=e.staticAccountKeys.length-a-u;fn(y>=0,"Message header is invalid");let g=e.getAccountKeys(r),S=g.get(0);if(S===void 0)throw new Error("Failed to decompile message because no account keys were found");let T=[];for(let O of i){let M=[];for(let C of O.accountKeyIndexes){let B=g.get(C);if(B===void 0)throw new Error(`Failed to find key for account key index ${C}`);let N=C<a,P;N?P=C<h:C<g.staticAccountKeys.length?P=C-a<y:P=C-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,M.push({pubkey:B,isSigner:C<n.numRequiredSignatures,isWritable:P})}let k=g.get(O.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${O.programIdIndex}`);T.push(new Nn({programId:k,data:Tr(O.data),keys:M}))}return new t({payerKey:S,instructions:T,recentBlockhash:s})}compileToLegacyMessage(){return Jl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Fb.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},DP=class t{static{o(this,"VersionedTransaction")}get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)fn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(yw));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();jc(r,this.signatures.length);let n=oe.struct([oe.blob(r.length,"encodedSignaturesLength"),oe.seq(CDe(),this.signatures.length,"signatures"),oe.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e],n=[],i=ac(r);for(let a=0;a<i;a++)n.push(new Uint8Array(cc(r,0,yw)));let s=rL.deserialize(new Uint8Array(r));return new t(s,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(a=>a.equals(i.publicKey));fn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=tL(r,i.secretKey)}}addSignature(e,r){fn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));fn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},UDe=160,FDe=64,HDe=UDe/FDe,Gse=1e3/HDe,Gl=new ht("SysvarC1ock11111111111111111111111111111111"),qDe=new ht("SysvarEpochSchedu1e111111111111111111111111"),VDe=new ht("Sysvar1nstructions1111111111111111111111111"),J4=new ht("SysvarRecentB1ockHashes11111111111111111111"),Hb=new ht("SysvarRent111111111111111111111111111111111"),jDe=new ht("SysvarRewards111111111111111111111111111111"),zDe=new ht("SysvarS1otHashes111111111111111111111111111"),KDe=new ht("SysvarS1otHistory11111111111111111111111111"),Q4=new ht("SysvarStakeHistory1111111111111111111111111"),Kg=class extends Error{static{o(this,"SendTransactionError")}constructor({action:e,signature:r,transactionMessage:n,logs:i}){let s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",c;switch(e){case"send":c=`Transaction ${r} resulted in an error. 
${n}. `+s+a;break;case"simulate":c=`Simulation failed. 
Message: ${n}. 
`+s+a;break;default:c=`Unknown action '${(u=>u)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},$De={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},Bt=class extends Error{static{o(this,"SolanaJSONRPCError")}constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function UP(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i),a;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)a=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:c}=e.nonceInfo,u=c.keys[0].pubkey;a=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw s!=null?new Kg({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(a)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}o(UP,"sendAndConfirmTransaction");function Vg(t){return new Promise(e=>setTimeout(e,t))}o(Vg,"sleep");function Jr(t,e){let r=t.layout.span>=0?t.layout.span:Kse(t,e),n=Xt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Jr,"encodeData");function In(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}o(In,"decodeData$1");var Wse=oe.nu64("lamportsPerSignature"),Yse=oe.struct([oe.u32("version"),oe.u32("state"),Lr("authorizedPubkey"),Lr("nonce"),oe.struct([Wse],"feeCalculator")]),FP=Yse.span,r8=class t{static{o(this,"NonceAccount")}constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=Yse.decode(Tr(e),0);return new t({authorizedPubkey:new ht(r.authorizedPubkey),nonce:new ht(r.nonce).toString(),feeCalculator:r.feeCalculator})}};function qb(t){let e=qse.blob(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,s=Vse.getU64Codec();return i.decode=(a,c)=>{let u=r(a,c);return s.decode(u)},i.encode=(a,c,u)=>{let h=s.encode(a);return n(h,c,u)},i}o(qb,"u64");var HP=class{static{o(this,"SystemInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(ri))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:i}=In(ri.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new ht(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=In(ri.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:i}=In(ri.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new ht(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=In(ri.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:i,programId:s}=In(ri.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,space:i,programId:new ht(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=In(ri.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ht(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:i}=In(ri.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ht(r),seed:n,programId:new ht(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:i,space:s,programId:a}=In(ri.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ht(r),seed:n,lamports:i,space:s,programId:new ht(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=In(ri.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ht(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(ri.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=In(ri.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=In(ri.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ht(r)}}static checkProgramId(e){if(!e.equals(ys.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ri=Object.freeze({Create:{index:0,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports"),oe.ns64("space"),Lr("programId")])},Assign:{index:1,layout:oe.struct([oe.u32("instruction"),Lr("programId")])},Transfer:{index:2,layout:oe.struct([oe.u32("instruction"),qb("lamports")])},CreateWithSeed:{index:3,layout:oe.struct([oe.u32("instruction"),Lr("base"),jg("seed"),oe.ns64("lamports"),oe.ns64("space"),Lr("programId")])},AdvanceNonceAccount:{index:4,layout:oe.struct([oe.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:oe.struct([oe.u32("instruction"),Lr("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe.struct([oe.u32("instruction"),Lr("authorized")])},Allocate:{index:8,layout:oe.struct([oe.u32("instruction"),oe.ns64("space")])},AllocateWithSeed:{index:9,layout:oe.struct([oe.u32("instruction"),Lr("base"),jg("seed"),oe.ns64("space"),Lr("programId")])},AssignWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),Lr("base"),jg("seed"),Lr("programId")])},TransferWithSeed:{index:11,layout:oe.struct([oe.u32("instruction"),qb("lamports"),jg("seed"),Lr("programId")])},UpgradeNonceAccount:{index:12,layout:oe.struct([oe.u32("instruction")])}}),ys=class t{static{o(this,"SystemProgram")}constructor(){}static createAccount(e){let r=ri.Create,n=Jr(r,{lamports:e.lamports,space:e.space,programId:Tr(e.programId.toBuffer())});return new Nn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=ri.TransferWithSeed;r=Jr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=ri.Transfer;r=Jr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Nn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=ri.AssignWithSeed;r=Jr(i,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ri.Assign;r=Jr(i,{programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Nn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=ri.CreateWithSeed,n=Jr(r,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Tr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Nn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Rn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:FP,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:FP,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=ri.InitializeNonceAccount,n=Jr(r,{authorized:Tr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:J4,isSigner:!1,isWritable:!1},{pubkey:Hb,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Nn(i)}static nonceAdvance(e){let r=ri.AdvanceNonceAccount,n=Jr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:J4,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Nn(i)}static nonceWithdraw(e){let r=ri.WithdrawNonceAccount,n=Jr(r,{lamports:e.lamports});return new Nn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:J4,isSigner:!1,isWritable:!1},{pubkey:Hb,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=ri.AuthorizeNonceAccount,n=Jr(r,{authorized:Tr(e.newAuthorizedPubkey.toBuffer())});return new Nn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=ri.AllocateWithSeed;r=Jr(i,{base:Tr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Tr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=ri.Allocate;r=Jr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Nn({keys:n,programId:this.programId,data:r})}};ys.programId=new ht("11111111111111111111111111111111");var GDe=sp-300,Vb=class t{static{o(this,"Loader")}constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,s){{let g=await e.getMinimumBalanceForRentExemption(s.length),S=await e.getAccountInfo(n.publicKey,"confirmed"),T=null;if(S!==null){if(S.executable)return console.error("Program load failed, account is already executable"),!1;S.data.length!==s.length&&(T=T||new Rn,T.add(ys.allocate({accountPubkey:n.publicKey,space:s.length}))),S.owner.equals(i)||(T=T||new Rn,T.add(ys.assign({accountPubkey:n.publicKey,programId:i}))),S.lamports<g&&(T=T||new Rn,T.add(ys.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-S.lamports})))}else T=new Rn().add(ys.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));T!==null&&await UP(e,T,[r,n],{commitment:"confirmed"})}let a=oe.struct([oe.u32("instruction"),oe.u32("offset"),oe.u32("bytesLength"),oe.u32("bytesLengthPadding"),oe.seq(oe.u8("byte"),oe.offset(oe.u32(),-8),"bytes")]),c=t.chunkSize,u=0,h=s,y=[];for(;h.length>0;){let g=h.slice(0,c),S=Xt.Buffer.alloc(c+16);a.encode({instruction:0,offset:u,bytes:g,bytesLength:0,bytesLengthPadding:0},S);let T=new Rn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:S});y.push(UP(e,T,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Vg(1e3/4),u+=c,h=h.slice(c)}await Promise.all(y);{let g=oe.struct([oe.u32("instruction")]),S=Xt.Buffer.alloc(g.span);g.encode({instruction:1},S);let T=new Rn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Hb,isSigner:!1,isWritable:!1}],programId:i,data:S}),O="processed",M=await e.sendTransaction(T,[r,n],{preflightCommitment:O}),{context:k,value:C}=await e.confirmTransaction({signature:M,lastValidBlockHeight:T.lastValidBlockHeight,blockhash:T.recentBlockhash},O);if(C.err)throw new Error(`Transaction ${M} failed (${JSON.stringify(C)})`);for(;;){try{if(await e.getSlot({commitment:O})>k.slot)break}catch{}await new Promise(B=>setTimeout(B,Math.round(Gse/2)))}}return!0}};Vb.chunkSize=GDe;var WDe=new ht("BPFLoader2111111111111111111111111111111111"),qP=class{static{o(this,"BpfLoader")}static getMinNumSignatures(e){return Vb.getMinNumSignatures(e)}static load(e,r,n,i,s){return Vb.load(e,r,n,s,i)}};function YDe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(YDe,"getDefaultExportFromCjs");var RP,Tse;function XDe(){if(Tse)return RP;Tse=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,a,c,u,h,y,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(c="[",a=n.length-1,s=0;s<a;s++)c+=r(n[s],!0)+",";return a>-1&&(c+=r(n[s],!0)),c+"]"}else if(g==="[object Object]"){for(u=e(n).sort(),a=u.length,c="",s=0;s<a;)h=u[s],y=r(n[h],!1),y!==void 0&&(c&&(c+=","),c+=JSON.stringify(h)+":"+y),s++;return"{"+c+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return o(r,"stringify"),RP=o(function(n){var i=r(n,!1);if(i!==void 0)return""+i},"fastStableStringify$1"),RP}o(XDe,"requireFastStableStringify");var ZDe=XDe(),Ise=YDe(ZDe),pw=32;function OP(t){let e=0;for(;t>1;)t/=2,e++;return e}o(OP,"trailingZeros");function JDe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}o(JDe,"nextPowerOfTwo");var n8=class{static{o(this,"EpochSchedule")}constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=OP(JDe(e+pw+1))-OP(pw)-1,n=this.getSlotsInEpoch(r),i=e-(n-pw);return[r,i]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*pw:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+OP(pw)):this.slotsPerEpoch}},QDe=globalThis.fetch,VP=class extends vse.CommonClient{static{o(this,"RpcWebSocketClient")}constructor(e,r,n){let i=o(s=>{let a=vse.WebSocket(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a},"webSocketFactory");super(i,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function eUe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}o(eUe,"decodeData");var Rse=56,vw=class{static{o(this,"AddressLookupTableAccount")}constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=eUe(tUe,e),n=e.length-Rse;fn(n>=0,"lookup table is invalid"),fn(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=oe.struct([oe.seq(Lr(),i,"addresses")]).decode(e.slice(Rse));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new ht(r.authority[0]):void 0,addresses:s.map(a=>new ht(a))}}},tUe={index:1,layout:oe.struct([oe.u32("typeIndex"),qb("deactivationSlot"),oe.nu64("lastExtendedSlot"),oe.u8("lastExtendedStartIndex"),oe.u8(),oe.seq(Lr(),oe.offset(oe.u8(),-1),"authority")])},rUe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function nUe(t){let e=t.match(rUe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,i,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=i==null?null:parseInt(i.slice(1),10),u=c==null?"":`:${c+1}`;return`${a}//${n}${u}${s}`}o(nUe,"makeWebsocketUrl");var ki=L.coerce(L.instance(ht),L.string(),t=>new ht(t)),Xse=L.tuple([L.string(),L.literal("base64")]),nL=L.coerce(L.instance(Xt.Buffer),Xse,t=>Xt.Buffer.from(t[0],"base64")),Zse=30*1e3;function iUe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}o(iUe,"assertEndpointUrl");function ti(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}o(ti,"extractCommitmentFromConfig");function Ose(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}o(Ose,"applyDefaultMemcmpEncodingToFilters");function Jse(t){return L.union([L.type({jsonrpc:L.literal("2.0"),id:L.string(),result:t}),L.type({jsonrpc:L.literal("2.0"),id:L.string(),error:L.type({code:L.unknown(),message:L.string(),data:L.optional(L.any())})})])}o(Jse,"createRpcResult");var oUe=Jse(L.unknown());function Ar(t){return L.coerce(Jse(t),oUe,e=>"error"in e?e:{...e,result:L.create(e.result,t)})}o(Ar,"jsonRpcResult");function io(t){return Ar(L.type({context:L.type({slot:L.number()}),value:t}))}o(io,"jsonRpcResultAndContext");function l8(t){return L.type({context:L.type({slot:L.number()}),value:t})}o(l8,"notificationResultAndContext");function MP(t,e){return t===0?new Fb({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new ht(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:gs.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Jl(e)}o(MP,"versionedMessageFromResponse");var sUe=L.type({foundation:L.number(),foundationTerm:L.number(),initial:L.number(),taper:L.number(),terminal:L.number()}),aUe=Ar(L.array(L.nullable(L.type({epoch:L.number(),effectiveSlot:L.number(),amount:L.number(),postBalance:L.number(),commission:L.optional(L.nullable(L.number()))})))),cUe=L.array(L.type({slot:L.number(),prioritizationFee:L.number()})),fUe=L.type({total:L.number(),validator:L.number(),foundation:L.number(),epoch:L.number()}),uUe=L.type({epoch:L.number(),slotIndex:L.number(),slotsInEpoch:L.number(),absoluteSlot:L.number(),blockHeight:L.optional(L.number()),transactionCount:L.optional(L.number())}),lUe=L.type({slotsPerEpoch:L.number(),leaderScheduleSlotOffset:L.number(),warmup:L.boolean(),firstNormalEpoch:L.number(),firstNormalSlot:L.number()}),dUe=L.record(L.string(),L.array(L.number())),Gg=L.nullable(L.union([L.type({}),L.string()])),hUe=L.type({err:Gg}),pUe=L.literal("receivedSignature"),mUe=L.type({"solana-core":L.string(),"feature-set":L.optional(L.number())}),gUe=L.type({program:L.string(),programId:ki,parsed:L.unknown()}),yUe=L.type({programId:ki,accounts:L.array(ki),data:L.string()}),Mse=io(L.type({err:L.nullable(L.union([L.type({}),L.string()])),logs:L.nullable(L.array(L.string())),accounts:L.optional(L.nullable(L.array(L.nullable(L.type({executable:L.boolean(),owner:L.string(),lamports:L.number(),data:L.array(L.string()),rentEpoch:L.optional(L.number())}))))),unitsConsumed:L.optional(L.number()),returnData:L.optional(L.nullable(L.type({programId:L.string(),data:L.tuple([L.string(),L.literal("base64")])}))),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(L.union([gUe,yUe]))}))))})),bUe=io(L.type({byIdentity:L.record(L.string(),L.array(L.number())),range:L.type({firstSlot:L.number(),lastSlot:L.number()})}));function xUe(t,e,r,n,i,s){let a=r||QDe,c;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=o(async(y,g)=>{let S=await new Promise((T,O)=>{try{n(y,g,(M,k)=>T([M,k]))}catch(M){O(M)}});return await a(...S)},"fetchWithMiddleware")),new IDe.default(async(y,g)=>{let S={method:"POST",body:y,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},xFe)};try{let T=5,O,M=500;for(;u?O=await u(t,S):O=await a(t,S),!(O.status!==429||i===!0||(T-=1,T===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${M}ms delay...`),await Vg(M),M*=2;let k=await O.text();O.ok?g(null,k):g(new Error(`${O.status} ${O.statusText}: ${k}`))}catch(T){T instanceof Error&&g(T)}},{})}o(xUe,"createRpcClient");function vUe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,a)=>{if(s){i(s);return}n(a)})})}o(vUe,"createRpcRequest");function _Ue(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,a)=>{if(s){n(s);return}r(a)})})}o(_Ue,"createRpcBatchRequest");var wUe=Ar(sUe),SUe=Ar(fUe),EUe=Ar(cUe),AUe=Ar(uUe),TUe=Ar(lUe),IUe=Ar(dUe),RUe=Ar(L.number()),OUe=io(L.type({total:L.number(),circulating:L.number(),nonCirculating:L.number(),nonCirculatingAccounts:L.array(ki)})),jP=L.type({amount:L.string(),uiAmount:L.nullable(L.number()),decimals:L.number(),uiAmountString:L.optional(L.string())}),MUe=io(L.array(L.type({address:ki,amount:L.string(),uiAmount:L.nullable(L.number()),decimals:L.number(),uiAmountString:L.optional(L.string())}))),NUe=io(L.array(L.type({pubkey:ki,account:L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:nL,rentEpoch:L.number()})}))),zP=L.type({program:L.string(),parsed:L.unknown(),space:L.number()}),CUe=io(L.array(L.type({pubkey:ki,account:L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:zP,rentEpoch:L.number()})}))),kUe=io(L.array(L.type({lamports:L.number(),address:ki}))),_w=L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:nL,rentEpoch:L.number()}),BUe=L.type({pubkey:ki,account:_w}),PUe=L.coerce(L.union([L.instance(Xt.Buffer),zP]),L.union([Xse,zP]),t=>Array.isArray(t)?L.create(t,nL):t),KP=L.type({executable:L.boolean(),owner:ki,lamports:L.number(),data:PUe,rentEpoch:L.number()}),LUe=L.type({pubkey:ki,account:KP}),DUe=L.type({state:L.union([L.literal("active"),L.literal("inactive"),L.literal("activating"),L.literal("deactivating")]),active:L.number(),inactive:L.number()}),UUe=Ar(L.array(L.type({signature:L.string(),slot:L.number(),err:Gg,memo:L.nullable(L.string()),blockTime:L.optional(L.nullable(L.number()))}))),FUe=Ar(L.array(L.type({signature:L.string(),slot:L.number(),err:Gg,memo:L.nullable(L.string()),blockTime:L.optional(L.nullable(L.number()))}))),HUe=L.type({subscription:L.number(),result:l8(_w)}),qUe=L.type({pubkey:ki,account:_w}),VUe=L.type({subscription:L.number(),result:l8(qUe)}),jUe=L.type({parent:L.number(),slot:L.number(),root:L.number()}),zUe=L.type({subscription:L.number(),result:jUe}),KUe=L.union([L.type({type:L.union([L.literal("firstShredReceived"),L.literal("completed"),L.literal("optimisticConfirmation"),L.literal("root")]),slot:L.number(),timestamp:L.number()}),L.type({type:L.literal("createdBank"),parent:L.number(),slot:L.number(),timestamp:L.number()}),L.type({type:L.literal("frozen"),slot:L.number(),timestamp:L.number(),stats:L.type({numTransactionEntries:L.number(),numSuccessfulTransactions:L.number(),numFailedTransactions:L.number(),maxTransactionsPerEntry:L.number()})}),L.type({type:L.literal("dead"),slot:L.number(),timestamp:L.number(),err:L.string()})]),$Ue=L.type({subscription:L.number(),result:KUe}),GUe=L.type({subscription:L.number(),result:l8(L.union([hUe,pUe]))}),WUe=L.type({subscription:L.number(),result:L.number()}),YUe=L.type({pubkey:L.string(),gossip:L.nullable(L.string()),tpu:L.nullable(L.string()),rpc:L.nullable(L.string()),version:L.nullable(L.string())}),Nse=L.type({votePubkey:L.string(),nodePubkey:L.string(),activatedStake:L.number(),epochVoteAccount:L.boolean(),epochCredits:L.array(L.tuple([L.number(),L.number(),L.number()])),commission:L.number(),lastVote:L.number(),rootSlot:L.nullable(L.number())}),XUe=Ar(L.type({current:L.array(Nse),delinquent:L.array(Nse)})),ZUe=L.union([L.literal("processed"),L.literal("confirmed"),L.literal("finalized")]),JUe=L.type({slot:L.number(),confirmations:L.nullable(L.number()),err:Gg,confirmationStatus:L.optional(ZUe)}),QUe=io(L.array(L.nullable(JUe))),eFe=Ar(L.number()),Qse=L.type({accountKey:ki,writableIndexes:L.array(L.number()),readonlyIndexes:L.array(L.number())}),iL=L.type({signatures:L.array(L.string()),message:L.type({accountKeys:L.array(L.string()),header:L.type({numRequiredSignatures:L.number(),numReadonlySignedAccounts:L.number(),numReadonlyUnsignedAccounts:L.number()}),instructions:L.array(L.type({accounts:L.array(L.number()),data:L.string(),programIdIndex:L.number()})),recentBlockhash:L.string(),addressTableLookups:L.optional(L.array(Qse))})}),eae=L.type({pubkey:ki,signer:L.boolean(),writable:L.boolean(),source:L.optional(L.union([L.literal("transaction"),L.literal("lookupTable")]))}),tae=L.type({accountKeys:L.array(eae),signatures:L.array(L.string())}),rae=L.type({parsed:L.unknown(),program:L.string(),programId:ki}),nae=L.type({accounts:L.array(ki),data:L.string(),programId:ki}),tFe=L.union([nae,rae]),rFe=L.union([L.type({parsed:L.unknown(),program:L.string(),programId:L.string()}),L.type({accounts:L.array(L.string()),data:L.string(),programId:L.string()})]),iae=L.coerce(tFe,rFe,t=>"accounts"in t?L.create(t,nae):L.create(t,rae)),oae=L.type({signatures:L.array(L.string()),message:L.type({accountKeys:L.array(eae),instructions:L.array(iae),recentBlockhash:L.string(),addressTableLookups:L.optional(L.nullable(L.array(Qse)))})}),i8=L.type({accountIndex:L.number(),mint:L.string(),owner:L.optional(L.string()),programId:L.optional(L.string()),uiTokenAmount:jP}),sae=L.type({writable:L.array(ki),readonly:L.array(ki)}),d8=L.type({err:Gg,fee:L.number(),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(L.type({accounts:L.array(L.number()),data:L.string(),programIdIndex:L.number()}))})))),preBalances:L.array(L.number()),postBalances:L.array(L.number()),logMessages:L.optional(L.nullable(L.array(L.string()))),preTokenBalances:L.optional(L.nullable(L.array(i8))),postTokenBalances:L.optional(L.nullable(L.array(i8))),loadedAddresses:L.optional(sae),computeUnitsConsumed:L.optional(L.number()),costUnits:L.optional(L.number())}),oL=L.type({err:Gg,fee:L.number(),innerInstructions:L.optional(L.nullable(L.array(L.type({index:L.number(),instructions:L.array(iae)})))),preBalances:L.array(L.number()),postBalances:L.array(L.number()),logMessages:L.optional(L.nullable(L.array(L.string()))),preTokenBalances:L.optional(L.nullable(L.array(i8))),postTokenBalances:L.optional(L.nullable(L.array(i8))),loadedAddresses:L.optional(sae),computeUnitsConsumed:L.optional(L.number()),costUnits:L.optional(L.number())}),$b=L.union([L.literal(0),L.literal("legacy")]),Wg=L.type({pubkey:L.string(),lamports:L.number(),postBalance:L.nullable(L.number()),rewardType:L.nullable(L.string()),commission:L.optional(L.nullable(L.number()))}),nFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:iL,meta:L.nullable(d8),version:L.optional($b)})),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),iFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),oFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:tae,meta:L.nullable(d8),version:L.optional($b)})),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),sFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:oae,meta:L.nullable(oL),version:L.optional($b)})),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),aFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:tae,meta:L.nullable(oL),version:L.optional($b)})),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),cFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number()),blockHeight:L.nullable(L.number())}))),fFe=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),transactions:L.array(L.type({transaction:iL,meta:L.nullable(d8)})),rewards:L.optional(L.array(Wg)),blockTime:L.nullable(L.number())}))),Cse=Ar(L.nullable(L.type({blockhash:L.string(),previousBlockhash:L.string(),parentSlot:L.number(),signatures:L.array(L.string()),blockTime:L.nullable(L.number())}))),NP=Ar(L.nullable(L.type({slot:L.number(),meta:L.nullable(d8),blockTime:L.optional(L.nullable(L.number())),transaction:iL,version:L.optional($b)}))),Z4=Ar(L.nullable(L.type({slot:L.number(),transaction:oae,meta:L.nullable(oL),blockTime:L.optional(L.nullable(L.number())),version:L.optional($b)}))),uFe=io(L.type({blockhash:L.string(),lastValidBlockHeight:L.number()})),lFe=io(L.boolean()),dFe=L.type({slot:L.number(),numTransactions:L.number(),numSlots:L.number(),samplePeriodSecs:L.number()}),hFe=Ar(L.array(dFe)),pFe=io(L.nullable(L.type({feeCalculator:L.type({lamportsPerSignature:L.number()})}))),mFe=Ar(L.string()),gFe=Ar(L.string()),yFe=L.type({err:Gg,logs:L.array(L.string()),signature:L.string()}),bFe=L.type({result:l8(yFe),subscription:L.number()}),xFe={"solana-client":"js/1.0.0-maintenance"},$P=class{static{o(this,"Connection")}constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{let h={};return async y=>{let{commitment:g,config:S}=ti(y),T=this._buildArgs([],g,void 0,S),O=Ise(T);return h[O]=h[O]??(async()=>{try{let M=await this._rpcRequest("getBlockHeight",T),k=L.create(M,Ar(L.number()));if("error"in k)throw new Bt(k.error,"failed to get block height information");return k.result}finally{delete h[O]}})(),await h[O]}})();let n,i,s,a,c,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,c=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=iUe(e),this._rpcWsEndpoint=n||nUe(e),this._rpcClient=xUe(e,i,s,a,c,u),this._rpcRequest=vUe(this._rpcClient),this._rpcBatchRequest=_Ue(this._rpcClient),this._rpcWebSocket=new VP(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),c=L.create(a,io(L.number()));if("error"in c)throw new Bt(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=L.create(r,Ar(L.nullable(L.number())));if("error"in n)throw new Bt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=L.create(e,Ar(L.number()));if("error"in r)throw new Bt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=L.create(e,RUe);if("error"in r)throw new Bt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),i=L.create(n,OUe);if("error"in i)throw new Bt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=L.create(i,io(jP));if("error"in s)throw new Bt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=L.create(i,io(jP));if("error"in s)throw new Bt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){let{commitment:i,config:s}=ti(n),a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});let c=this._buildArgs(a,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",c),h=L.create(u,NUe);if("error"in h)throw new Bt(h.error,`failed to get token accounts owned by account ${e.toBase58()}`);return h.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});let s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=L.create(a,CUe);if("error"in c)throw new Bt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=L.create(i,kUe);if("error"in s)throw new Bt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=L.create(i,MUe);if("error"in s)throw new Bt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),c=L.create(a,io(L.nullable(_w)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),c=L.create(a,io(L.nullable(KP)));if("error"in c)throw new Bt(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:i}=ti(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"jsonParsed",i),c=await this._rpcRequest("getMultipleAccounts",a),u=L.create(c,io(L.array(L.nullable(KP))));if("error"in u)throw new Bt(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:i}=ti(r),s=e.map(h=>h.toBase58()),a=this._buildArgs([s],n,"base64",i),c=await this._rpcRequest("getMultipleAccounts",a),u=L.create(c,io(L.array(L.nullable(_w))));if("error"in u)throw new Bt(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:i,config:s}=ti(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),c=await this._rpcRequest("getStakeActivation",a),u=L.create(c,Ar(DUe));if("error"in u)throw new Bt(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){let{commitment:n,config:i}=ti(r),{encoding:s,...a}=i||{},c=this._buildArgs([e.toBase58()],n,s||"base64",{...a,...a.filters?{filters:Ose(a.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",c),h=L.array(BUe),y=a.withContext===!0?L.create(u,io(h)):L.create(u,Ar(h));if("error"in y)throw new Bt(y.error,`failed to get accounts owned by program ${e.toBase58()}`);return y.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),c=L.create(a,Ar(L.array(LUe)));if("error"in c)throw new Bt(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=gs.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return fn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1,a=new Promise((u,h)=>{try{n=this.onSignature(r,(g,S)=>{n=void 0;let T={context:S,value:g};u({__type:xh.PROCESSED,response:T})},e);let y=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,S=>{S==="subscribed"&&g()})});(async()=>{if(await y,s)return;let g=await this.getSignatureStatus(r);if(s||g==null)return;let{context:S,value:T}=g;if(T!=null)if(T?.err)h(T.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(T.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(T.confirmationStatus==="processed"||T.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:xh.PROCESSED,response:{context:S,value:T}})}})()}catch(y){h(y)}});return{abortConfirmation:o(()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},"abortConfirmation"),confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1,a=new Promise(g=>{let S=o(async()=>{try{return await this.getBlockHeight(e)}catch{return-1}},"checkBlockHeight");(async()=>{let T=await S();if(!s){for(;T<=n;)if(await Vg(1e3),s||(T=await S(),s))return;g({__type:xh.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),h=this.getCancellationPromise(r),y;try{let g=await Promise.race([h,u,a]);if(g.__type===xh.PROCESSED)y=g.response;else throw new bw(i)}finally{s=!0,c()}return y}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let c=!1,u=new Promise(T=>{let O=s,M=null,k=o(async()=>{try{let{context:C,value:B}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return M=C.slot,B?.nonce}catch{return O}},"getCurrentNonceValue");(async()=>{if(O=await k(),!c)for(;;){if(s!==O){T({__type:xh.NONCE_INVALID,slotInWhichNonceDidAdvance:M});return}if(await Vg(2e3),c||(O=await k(),c))return}})()}),{abortConfirmation:h,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),g=this.getCancellationPromise(r),S;try{let T=await Promise.race([g,y,u]);if(T.__type===xh.PROCESSED)S=T.response;else{let O;for(;;){let M=await this.getSignatureStatus(a);if(M==null)break;if(M.context.slot<(T.slotInWhichNonceDidAdvance??n)){await Vg(400);continue}O=M;break}if(O?.value){let M=e||"finalized",{confirmationStatus:k}=O.value;switch(M){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new op(a);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new op(a);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new op(a);break;default:}S={context:O.context,value:{err:O.value.err}}}else throw new op(a)}}finally{c=!0,h()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,i=new Promise(u=>{let h=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{h=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:xh.TIMED_OUT,timeoutMs:h}),h)}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c;try{let u=await Promise.race([a,i]);if(u.__type===xh.PROCESSED)c=u.response;else throw new xw(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return c}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=L.create(e,Ar(L.array(YUe)));if("error"in r)throw new Bt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=L.create(n,XUe);if("error"in i)throw new Bt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=L.create(s,Ar(L.number()));if("error"in a)throw new Bt(a.error,"failed to get slot");return a.result}async getSlotLeader(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=L.create(s,Ar(L.string()));if("error"in a)throw new Bt(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){let n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=L.create(i,Ar(L.array(ki)));if("error"in s)throw new Bt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){let{context:n,value:i}=await this.getSignatureStatuses([e],r);fn(i.length===1);let s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let i=await this._rpcRequest("getSignatureStatuses",n),s=L.create(i,QUe);if("error"in s)throw new Bt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=L.create(s,Ar(L.number()));if("error"in a)throw new Bt(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=L.create(n,wUe);if("error"in i)throw new Bt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){let{commitment:i,config:s}=ti(n),a=this._buildArgs([e.map(h=>h.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getInflationReward",a),u=L.create(c,aUe);if("error"in u)throw new Bt(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=L.create(e,SUe);if("error"in r)throw new Bt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=L.create(s,AUe);if("error"in a)throw new Bt(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=L.create(e,TUe);if("error"in r)throw new Bt(r.error,"failed to get epoch schedule");let n=r.result;return new n8(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=L.create(e,IUe);if("error"in r)throw new Bt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=L.create(i,eFe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){let{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=L.create(r,hFe);if("error"in n)throw new Bt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=L.create(i,pFe);if("error"in s)throw new Bt(s.error,"failed to get fee calculator");let{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){let n=Tr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=L.create(s,io(L.nullable(L.number())));if("error"in a)throw new Bt(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){let r=e?.lockedWritableAccounts?.map(a=>a.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=L.create(i,EUe);if("error"in s)throw new Bt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=L.create(s,uFe);if("error"in a)throw new Bt(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),c=L.create(a,lFe);if("error"in c)throw new Bt(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=L.create(e,Ar(mUe));if("error"in r)throw new Bt(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=L.create(e,Ar(L.string()));if("error"in r)throw new Bt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=L.create(a,oFe);if("error"in c)throw c.error;return c.result}case"none":{let c=L.create(a,iFe);if("error"in c)throw c.error;return c.result}default:{let c=L.create(a,nFe);if("error"in c)throw c.error;let{result:u}=c;return u?{...u,transactions:u.transactions.map(({transaction:h,meta:y,version:g})=>({meta:y,transaction:{...h,message:MP(g,h.message)},version:g}))}:null}}}catch(c){throw new Bt(c,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{let c=L.create(a,aFe);if("error"in c)throw c.error;return c.result}case"none":{let c=L.create(a,cFe);if("error"in c)throw c.error;return c.result}default:{let c=L.create(a,sFe);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Bt(c,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:c,...u}=e;n=c,r=u}let i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=L.create(s,bUe);if("error"in a)throw new Bt(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),c=L.create(a,NP);if("error"in c)throw new Bt(c.error,"failed to get transaction");let u=c.result;return u&&{...u,transaction:{...u.transaction,message:MP(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:i}=ti(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),c=L.create(a,Z4);if("error"in c)throw new Bt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){let{commitment:n,config:i}=ti(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{let h=L.create(u,Z4);if("error"in h)throw new Bt(h.error,"failed to get transactions");return h.result})}async getTransactions(e,r){let{commitment:n,config:i}=ti(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{let h=L.create(u,NP);if("error"in h)throw new Bt(h.error,"failed to get transactions");let y=h.result;return y&&{...y,transaction:{...y.transaction,message:MP(y.version,y.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=L.create(i,fFe);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");let c={...a,transactions:a.transactions.map(({transaction:u,meta:h})=>{let y=new Jl(u.message);return{meta:h,transaction:{...u,message:y}}})};return{...c,transactions:c.transactions.map(({transaction:u,meta:h})=>({meta:h,transaction:Rn.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){let i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=L.create(s,Ar(L.array(L.number())));if("error"in a)throw new Bt(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=L.create(i,Cse);if("error"in s)throw new Bt(s.error,"failed to get block");let a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=L.create(i,Cse);if("error"in s)throw new Bt(s.error,"failed to get confirmed block");let a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=L.create(i,NP);if("error"in s)throw new Bt(s.error,"failed to get transaction");let a=s.result;if(!a)return a;let c=new Jl(a.transaction.message),u=a.transaction.signatures;return{...a,transaction:Rn.populate(c,u)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=L.create(i,Z4);if("error"in s)throw new Bt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){let n=e.map(a=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([a],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(a=>{let c=L.create(a,Z4);if("error"in c)throw new Bt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{let u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let a=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>a));)try{let u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=L.create(s,UUe);if("error"in a)throw new Bt(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){let i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=L.create(s,FUe);if("error"in a)throw new Bt(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=new vw({key:e,state:vw.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){let{context:n,value:i}=await this.getAccountInfoAndContext(e,r),s=null;return i!==null&&(s=r8.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=L.create(n,mFe);if("error"in i)throw new Bt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Vg(100);let n=Date.now()-this._blockhashInfo.lastFetch>=Zse;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){let s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Vg(Gse/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=ti(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=L.create(s,io(L.number()));if("error"in a)throw new Bt(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){let M=e.serialize(),k=Xt.Buffer.from(M).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let C=r||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(C.innerInstructions=r.innerInstructions);let B=[k,C],N=await this._rpcRequest("simulateTransaction",B),P=L.create(N,Mse);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof Rn){let O=e;i=new Rn,i.feePayer=O.feePayer,i.instructions=e.instructions,i.nonceInfo=O.nonceInfo,i.signatures=O.signatures}else i=Rn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let s=r;if(i.nonceInfo&&s)i.sign(...s);else{let O=this._disableBlockhashCaching;for(;;){let M=await this._blockhashWithExpiryBlockHeight(O);if(i.lastValidBlockHeight=M.lastValidBlockHeight,i.recentBlockhash=M.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");let k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else O=!0}}let a=i._compile(),c=a.serialize(),h=i._serialize(c).toString("base64"),y={encoding:"base64",commitment:this.commitment};if(n){let O=(Array.isArray(n)?n:a.nonProgramIds()).map(M=>M.toBase58());y.accounts={encoding:"base64",addresses:O}}s&&(y.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(y.innerInstructions=r.innerInstructions);let g=[h,y],S=await this._rpcRequest("simulateTransaction",g),T=L.create(S,Mse);if("error"in T){let O;if("data"in T.error&&(O=T.error.data.logs,O&&Array.isArray(O))){let M=`
    `,k=M+O.join(M);console.error(T.error.message,k)}throw new Kg({action:"simulate",signature:"",transactionMessage:T.error.message,logs:O})}return T.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let a=e.serialize();return await this.sendRawTransaction(a,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(e.nonceInfo)e.sign(...i);else{let a=this._disableBlockhashCaching;for(;;){let c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");let u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))a=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}let s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){let n=Tr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);let a=[e,n],c=await this._rpcRequest("sendTransaction",a),u=L.create(c,gFe);if("error"in u){let h;throw"data"in u.error&&(h=u.error.data.logs),new Kg({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:h})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=o(()=>e===this._rpcWebSocketGeneration,"isCurrentConnectionStillActive");await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:s,method:a}=i;try{this._setSubscription(n,{...i,state:"subscribing"});let c=await this._rpcWebSocket.call(a,s);this._setSubscription(n,{...i,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=i.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${a}\``,{args:s,error:c}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:s,unsubscribeMethod:a}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=L.create(e,HUe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,i=Ise([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let a=this._subscriptionsByHash[i];fn(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let{commitment:i,config:s}=ti(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},a)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=L.create(e,VUe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){let{commitment:s,config:a}=ti(n),c=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",a||(i?{filters:Ose(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=L.create(e,bFe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=L.create(e,zUe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=L.create(e,$Ue);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){let s=r||this._commitment;if(s||n||i){let a={};n&&(a.encoding=n),s&&(a.commitment=s),i&&(a=Object.assign(a,i)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){let s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=L.create(e,GUe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:o((a,c)=>{if(a.type==="status"){r(a.result,c);try{this.removeSignatureListener(s)}catch{}}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){let{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),c=this._makeSubscription({callback:o((u,h)=>{r(u,h);try{this.removeSignatureListener(c)}catch{}},"callback"),method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=L.create(e,WUe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},o8=class t{static{o(this,"Keypair")}constructor(e){this._keypair=void 0,this._keypair=e??Sse()}static generate(){return new t(Sse())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),s=e8(i);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=e8(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ht(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},vh=Object.freeze({CreateLookupTable:{index:0,layout:oe.struct([oe.u32("instruction"),qb("recentSlot"),oe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe.struct([oe.u32("instruction")])},ExtendLookupTable:{index:2,layout:oe.struct([oe.u32("instruction"),qb(),oe.seq(Lr(),oe.offset(oe.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe.struct([oe.u32("instruction")])},CloseLookupTable:{index:4,layout:oe.struct([oe.u32("instruction")])}}),GP=class{static{o(this,"AddressLookupTableInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(vh))if(a.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=In(vh.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=In(vh.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new ht(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ww.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ww=class{static{o(this,"AddressLookupTableProgram")}constructor(){}static createLookupTable(e){let[r,n]=ht.findProgramAddressSync([e.authority.toBuffer(),Vse.getU64Encoder().encode(e.recentSlot)],this.programId),i=vh.CreateLookupTable,s=Jr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ys.programId,isSigner:!1,isWritable:!1}];return[new Nn({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){let r=vh.FreezeLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Nn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=vh.ExtendLookupTable,n=Jr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ys.programId,isSigner:!1,isWritable:!1}),new Nn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=vh.DeactivateLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Nn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=vh.CloseLookupTable,n=Jr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Nn({programId:this.programId,keys:i,data:n})}};ww.programId=new ht("AddressLookupTab1e1111111111111111111111111");var WP=class{static{o(this,"ComputeBudgetInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u8("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Yl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=In(Yl.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=In(Yl.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=In(Yl.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=In(Yl.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(Sw.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},Yl=Object.freeze({RequestUnits:{index:0,layout:oe.struct([oe.u8("instruction"),oe.u32("units"),oe.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:oe.struct([oe.u8("instruction"),oe.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:oe.struct([oe.u8("instruction"),oe.u32("units")])},SetComputeUnitPrice:{index:3,layout:oe.struct([oe.u8("instruction"),qb("microLamports")])}}),Sw=class{static{o(this,"ComputeBudgetProgram")}constructor(){}static requestUnits(e){let r=Yl.RequestUnits,n=Jr(r,e);return new Nn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Yl.RequestHeapFrame,n=Jr(r,e);return new Nn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Yl.SetComputeUnitLimit,n=Jr(r,e);return new Nn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Yl.SetComputeUnitPrice,n=Jr(r,{microLamports:BigInt(e.microLamports)});return new Nn({keys:[],programId:this.programId,data:n})}};Sw.programId=new ht("ComputeBudget111111111111111111111111111111");var kse=64,Bse=32,Pse=64,Lse=oe.struct([oe.u8("numSignatures"),oe.u8("padding"),oe.u16("signatureOffset"),oe.u16("signatureInstructionIndex"),oe.u16("publicKeyOffset"),oe.u16("publicKeyInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u16("messageInstructionIndex")]),s8=class t{static{o(this,"Ed25519Program")}constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:s}=e;fn(r.length===Bse,`Public Key must be ${Bse} bytes but received ${r.length} bytes`),fn(i.length===Pse,`Signature must be ${Pse} bytes but received ${i.length} bytes`);let a=Lse.span,c=a+r.length,u=c+i.length,h=1,y=Xt.Buffer.alloc(u+n.length),g=s??65535;return Lse.encode({numSignatures:h,padding:0,signatureOffset:c,signatureInstructionIndex:g,publicKeyOffset:a,publicKeyInstructionIndex:g,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:g},y),y.fill(r,a),y.fill(i,c),y.fill(n,u),new Nn({keys:[],programId:t.programId,data:y})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;fn(r.length===kse,`Private key must be ${kse} bytes but received ${r.length} bytes`);try{let s=o8.fromSecretKey(r),a=s.publicKey.toBytes(),c=tL(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};s8.programId=new ht("Ed25519SigVerify111111111111111111111111111");var vFe=o((t,e)=>{let r=QP.secp256k1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]},"ecdsaSign");QP.secp256k1.utils.isValidPrivateKey;var _Fe=QP.secp256k1.getPublicKey,Dse=32,CP=20,Use=64,wFe=11,kP=oe.struct([oe.u8("numSignatures"),oe.u16("signatureOffset"),oe.u8("signatureInstructionIndex"),oe.u16("ethAddressOffset"),oe.u8("ethAddressInstructionIndex"),oe.u16("messageDataOffset"),oe.u16("messageDataSize"),oe.u8("messageInstructionIndex"),oe.blob(20,"ethAddress"),oe.blob(64,"signature"),oe.u8("recoveryId")]),a8=class t{static{o(this,"Secp256k1Program")}constructor(){}static publicKeyToEthAddress(e){fn(e.length===Use,`Public key must be ${Use} bytes but received ${e.length} bytes`);try{return Xt.Buffer.from(_se.keccak_256(Tr(e))).slice(-CP)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:a=0}=e,c;typeof r=="string"?r.startsWith("0x")?c=Xt.Buffer.from(r.substr(2),"hex"):c=Xt.Buffer.from(r,"hex"):c=r,fn(c.length===CP,`Address must be ${CP} bytes but received ${c.length} bytes`);let u=1+wFe,h=u,y=u+c.length,g=y+i.length+1,S=1,T=Xt.Buffer.alloc(kP.span+n.length);return kP.encode({numSignatures:S,signatureOffset:y,signatureInstructionIndex:a,ethAddressOffset:h,ethAddressInstructionIndex:a,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:a,signature:Tr(i),ethAddress:Tr(c),recoveryId:s},T),T.fill(Tr(n),kP.span),new Nn({keys:[],programId:t.programId,data:T})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;fn(r.length===Dse,`Private key must be ${Dse} bytes but received ${r.length} bytes`);try{let s=Tr(r),a=_Fe(s,!1).slice(1),c=Xt.Buffer.from(_se.keccak_256(Tr(n))),[u,h]=vFe(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:u,recoveryId:h,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};a8.programId=new ht("KeccakSecp256k11111111111111111111111111111");var aae,cae=new ht("StakeConfig11111111111111111111111111111111"),c8=class{static{o(this,"Authorized")}constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},$g=class{static{o(this,"Lockup")}constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};aae=$g;$g.default=new aae(0,0,ht.default);var YP=class{static{o(this,"StakeInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Wo))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=In(Wo.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new c8(new ht(r.staker),new ht(r.withdrawer)),lockup:new $g(n.unixTimestamp,n.epoch,new ht(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),In(Wo.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=In(Wo.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=In(Wo.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ht(s),newAuthorizedPubkey:new ht(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=In(Wo.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(Wo.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=In(Wo.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),In(Wo.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(jb.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Wo=Object.freeze({Initialize:{index:0,layout:oe.struct([oe.u32("instruction"),kDe(),BDe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Lr("newAuthorized"),oe.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:oe.struct([oe.u32("instruction")])},Split:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Withdraw:{index:4,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},Deactivate:{index:5,layout:oe.struct([oe.u32("instruction")])},Merge:{index:7,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:oe.struct([oe.u32("instruction"),Lr("newAuthorized"),oe.u32("stakeAuthorizationType"),jg("authoritySeed"),Lr("authorityOwner")])}}),SFe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),jb=class{static{o(this,"StakeProgram")}constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,s=i||$g.default,a=Wo.Initialize,c=Jr(a,{authorized:{staker:Tr(n.staker.toBuffer()),withdrawer:Tr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Tr(s.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hb,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new Nn(u)}static createAccountWithSeed(e){let r=new Rn;r.add(ys.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){let r=new Rn;r.add(ys.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Wo.Delegate,a=Jr(s);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:Q4,isSigner:!1,isWritable:!1},{pubkey:cae,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Wo.Authorize,u=Jr(c,{newAuthorized:Tr(i.toBuffer()),stakeAuthorizationType:s.index}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new Rn().add({keys:h,programId:this.programId,data:u})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:u}=e,h=Wo.AuthorizeWithSeed,y=Jr(h,{newAuthorized:Tr(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:i,authorityOwner:Tr(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Gl,isSigner:!1,isWritable:!1}];return u&&g.push({pubkey:u,isSigner:!0,isWritable:!1}),new Rn().add({keys:g,programId:this.programId,data:y})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=Wo.Split,c=Jr(a,{lamports:s});return new Nn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,r){let n=new Rn;return n.add(ys.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:c,lamports:u}=e,h=new Rn;return h.add(ys.allocate({accountPubkey:s,basePubkey:a,seed:c,space:this.space,programId:this.programId})),r&&r>0&&h.add(ys.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),h.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Wo.Merge,a=Jr(s);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:Q4,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,c=Wo.Withdraw,u=Jr(c,{lamports:s}),h=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:Q4,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!0,isWritable:!1}),new Rn().add({keys:h,programId:this.programId,data:u})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=Wo.Deactivate,s=Jr(i);return new Rn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};jb.programId=new ht("Stake11111111111111111111111111111111111111");jb.space=200;var f8=class{static{o(this,"VoteInit")}constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},XP=class{static{o(this,"VoteInstruction")}constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=oe.u32("instruction").decode(e.data),i;for(let[s,a]of Object.entries(Xl))if(a.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=In(Xl.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new f8(new ht(r.nodePubkey),new ht(r.authorizedVoter),new ht(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=In(Xl.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ht(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=In(Xl.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ht(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ht(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=In(Xl.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(zb.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Xl=Object.freeze({InitializeAccount:{index:0,layout:oe.struct([oe.u32("instruction"),PDe()])},Authorize:{index:1,layout:oe.struct([oe.u32("instruction"),Lr("newAuthorized"),oe.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:oe.struct([oe.u32("instruction"),oe.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe.struct([oe.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:oe.struct([oe.u32("instruction"),LDe()])}}),EFe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),zb=class t{static{o(this,"VoteProgram")}constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Xl.InitializeAccount,a=Jr(s,{voteInit:{nodePubkey:Tr(i.nodePubkey.toBuffer()),authorizedVoter:Tr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Tr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hb,isSigner:!1,isWritable:!1},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new Nn(c)}static createAccount(e){let r=new Rn;return r.add(ys.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=Xl.Authorize,c=Jr(a,{newAuthorized:Tr(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,u=Xl.AuthorizeWithSeed,h=Jr(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Tr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Tr(s.toBuffer()),voteAuthorizationType:a.index}}),y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Gl,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Rn().add({keys:y,programId:this.programId,data:h})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=Xl.Withdraw,c=Jr(a,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:u,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Xl.UpdateValidatorIdentity,a=Jr(s),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Rn().add({keys:c,programId:this.programId,data:a})}};zb.programId=new ht("Vote111111111111111111111111111111111111111");zb.space=3762;var fae=new ht("Va1idator1nfo111111111111111111111111111111"),AFe=L.type({name:L.string(),website:L.optional(L.string()),details:L.optional(L.string()),iconUrl:L.optional(L.string()),keybaseUsername:L.optional(L.string())}),ZP=class t{static{o(this,"ValidatorInfo")}constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(ac(r)!==2)return null;let i=[];for(let s=0;s<2;s++){let a=new ht(cc(r,0,Zl)),c=Wl(r)===1;i.push({publicKey:a,isSigner:c})}if(i[0].publicKey.equals(fae)&&i[1].isSigner){let s=jg().decode(Xt.Buffer.from(r)),a=JSON.parse(s);return L.assert(a,AFe),new t(i[1].publicKey,a)}return null}},TFe=new ht("Vote111111111111111111111111111111111111111"),IFe=oe.struct([Lr("nodePubkey"),Lr("authorizedWithdrawer"),oe.u8("commission"),oe.nu64(),oe.seq(oe.struct([oe.nu64("slot"),oe.u32("confirmationCount")]),oe.offset(oe.u32(),-8),"votes"),oe.u8("rootSlotValid"),oe.nu64("rootSlot"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),Lr("authorizedVoter")]),oe.offset(oe.u32(),-8),"authorizedVoters"),oe.struct([oe.seq(oe.struct([Lr("authorizedPubkey"),oe.nu64("epochOfLastAuthorizedSwitch"),oe.nu64("targetEpoch")]),32,"buf"),oe.nu64("idx"),oe.u8("isEmpty")],"priorVoters"),oe.nu64(),oe.seq(oe.struct([oe.nu64("epoch"),oe.nu64("credits"),oe.nu64("prevCredits")]),oe.offset(oe.u32(),-8),"epochCredits"),oe.struct([oe.nu64("slot"),oe.nu64("timestamp")],"lastTimestamp")]),JP=class t{static{o(this,"VoteAccount")}constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=IFe.decode(Tr(e),4),i=n.rootSlot;return n.rootSlotValid||(i=null),new t({nodePubkey:new ht(n.nodePubkey),authorizedWithdrawer:new ht(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(RFe),priorVoters:OFe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function RFe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ht(t)}}o(RFe,"parseAuthorizedVoter");function Fse({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new ht(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}o(Fse,"parsePriorVoters");function OFe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Fse),...t.slice(0,e).map(Fse)]}o(OFe,"getPriorVoters");var Hse={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function MFe(t,e){let r=e===!1?"http":"https";if(!t)return Hse[r].devnet;let n=Hse[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}o(MFe,"clusterApiUrl");async function NFe(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;let a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),u=s&&s.commitment,y=(await(i?t.confirmTransaction(i,u):t.confirmTransaction(c,u))).value;if(y.err)throw c!=null?new Kg({action:a?.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(y)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(y)})`);return c}o(NFe,"sendAndConfirmRawTransaction");var CFe=1e9;pt.Account=PP;pt.AddressLookupTableAccount=vw;pt.AddressLookupTableInstruction=GP;pt.AddressLookupTableProgram=ww;pt.Authorized=c8;pt.BLOCKHASH_CACHE_TIMEOUT_MS=Zse;pt.BPF_LOADER_DEPRECATED_PROGRAM_ID=NDe;pt.BPF_LOADER_PROGRAM_ID=WDe;pt.BpfLoader=qP;pt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Yl;pt.ComputeBudgetInstruction=WP;pt.ComputeBudgetProgram=Sw;pt.Connection=$P;pt.Ed25519Program=s8;pt.Enum=BP;pt.EpochSchedule=n8;pt.FeeCalculatorLayout=Wse;pt.Keypair=o8;pt.LAMPORTS_PER_SOL=CFe;pt.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=vh;pt.Loader=Vb;pt.Lockup=$g;pt.MAX_SEED_LENGTH=zse;pt.Message=Jl;pt.MessageAccountKeys=zg;pt.MessageV0=Fb;pt.NONCE_ACCOUNT_LENGTH=FP;pt.NonceAccount=r8;pt.PACKET_DATA_SIZE=sp;pt.PUBLIC_KEY_LENGTH=Zl;pt.PublicKey=ht;pt.SIGNATURE_LENGTH_IN_BYTES=yw;pt.SOLANA_SCHEMA=mw;pt.STAKE_CONFIG_ID=cae;pt.STAKE_INSTRUCTION_LAYOUTS=Wo;pt.SYSTEM_INSTRUCTION_LAYOUTS=ri;pt.SYSVAR_CLOCK_PUBKEY=Gl;pt.SYSVAR_EPOCH_SCHEDULE_PUBKEY=qDe;pt.SYSVAR_INSTRUCTIONS_PUBKEY=VDe;pt.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=J4;pt.SYSVAR_RENT_PUBKEY=Hb;pt.SYSVAR_REWARDS_PUBKEY=jDe;pt.SYSVAR_SLOT_HASHES_PUBKEY=zDe;pt.SYSVAR_SLOT_HISTORY_PUBKEY=KDe;pt.SYSVAR_STAKE_HISTORY_PUBKEY=Q4;pt.Secp256k1Program=a8;pt.SendTransactionError=Kg;pt.SolanaJSONRPCError=Bt;pt.SolanaJSONRPCErrorCode=$De;pt.StakeAuthorizationLayout=SFe;pt.StakeInstruction=YP;pt.StakeProgram=jb;pt.Struct=gw;pt.SystemInstruction=HP;pt.SystemProgram=ys;pt.Transaction=Rn;pt.TransactionExpiredBlockheightExceededError=bw;pt.TransactionExpiredNonceInvalidError=op;pt.TransactionExpiredTimeoutError=xw;pt.TransactionInstruction=Nn;pt.TransactionMessage=LP;pt.TransactionStatus=xh;pt.VALIDATOR_INFO_KEY=fae;pt.VERSION_PREFIX_MASK=u8;pt.VOTE_PROGRAM_ID=TFe;pt.ValidatorInfo=ZP;pt.VersionedMessage=rL;pt.VersionedTransaction=DP;pt.VoteAccount=JP;pt.VoteAuthorizationLayout=EFe;pt.VoteInit=f8;pt.VoteInstruction=XP;pt.VoteProgram=zb;pt.clusterApiUrl=MFe;pt.sendAndConfirmRawTransaction=NFe;pt.sendAndConfirmTransaction=UP});var Oae=j(Re=>{"use strict";p();m();Object.defineProperty(Re,"__esModule",{value:!0});Re.s16=Re.s8=Re.nu64be=Re.u48be=Re.u40be=Re.u32be=Re.u24be=Re.u16be=Re.nu64=Re.u48=Re.u40=Re.u32=Re.u24=Re.u16=Re.u8=Re.offset=Re.greedy=Re.Constant=Re.UTF8=Re.CString=Re.Blob=Re.Boolean=Re.BitField=Re.BitStructure=Re.VariantLayout=Re.Union=Re.UnionLayoutDiscriminator=Re.UnionDiscriminator=Re.Structure=Re.Sequence=Re.DoubleBE=Re.Double=Re.FloatBE=Re.Float=Re.NearInt64BE=Re.NearInt64=Re.NearUInt64BE=Re.NearUInt64=Re.IntBE=Re.Int=Re.UIntBE=Re.UInt=Re.OffsetLayout=Re.GreedyCount=Re.ExternalLayout=Re.bindConstructorLayout=Re.nameWithProperty=Re.Layout=Re.uint8ArrayToBuffer=Re.checkUint8Array=void 0;Re.constant=Re.utf8=Re.cstr=Re.blob=Re.unionLayoutDiscriminator=Re.union=Re.seq=Re.bits=Re.struct=Re.f64be=Re.f64=Re.f32be=Re.f32=Re.ns64be=Re.s48be=Re.s40be=Re.s32be=Re.s24be=Re.s16be=Re.ns64=Re.s48=Re.s40=Re.s32=Re.s24=void 0;var mL=li();function Xb(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}o(Xb,"checkUint8Array");Re.checkUint8Array=Xb;function un(t){return Xb(t),mL.Buffer.from(t.buffer,t.byteOffset,t.length)}o(un,"uint8ArrayToBuffer");Re.uint8ArrayToBuffer=un;var _n=class{static{o(this,"Layout")}constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Re.Layout=_n;function gL(t,e){return e.property?t+"["+e.property+"]":t}o(gL,"nameWithProperty");Re.nameWithProperty=gL;function PFe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof _n))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}o(PFe,"bindConstructorLayout");Re.bindConstructorLayout=PFe;var ea=class extends _n{static{o(this,"ExternalLayout")}isCount(){throw new Error("ExternalLayout is abstract")}};Re.ExternalLayout=ea;var m8=class extends ea{static{o(this,"GreedyCount")}constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Xb(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Re.GreedyCount=m8;var Ew=class extends ea{static{o(this,"OffsetLayout")}constructor(e,r=0,n){if(!(e instanceof _n))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof fc||this.layout instanceof zc}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Re.OffsetLayout=Ew;var fc=class extends _n{static{o(this,"UInt")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return un(e).readUIntLE(r,this.span)}encode(e,r,n=0){return un(r).writeUIntLE(e,n,this.span),this.span}};Re.UInt=fc;var zc=class extends _n{static{o(this,"UIntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return un(e).readUIntBE(r,this.span)}encode(e,r,n=0){return un(r).writeUIntBE(e,n,this.span),this.span}};Re.UIntBE=zc;var wh=class extends _n{static{o(this,"Int")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return un(e).readIntLE(r,this.span)}encode(e,r,n=0){return un(r).writeIntLE(e,n,this.span),this.span}};Re.Int=wh;var ap=class extends _n{static{o(this,"IntBE")}constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return un(e).readIntBE(r,this.span)}encode(e,r,n=0){return un(r).writeIntBE(e,n,this.span),this.span}};Re.IntBE=ap;var pL=Math.pow(2,32);function C8(t){let e=Math.floor(t/pL),r=t-e*pL;return{hi32:e,lo32:r}}o(C8,"divmodInt64");function k8(t,e){return t*pL+e}o(k8,"roundedInt64");var g8=class extends _n{static{o(this,"NearUInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=un(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return k8(s,i)}encode(e,r,n=0){let i=C8(e),s=un(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Re.NearUInt64=g8;var y8=class extends _n{static{o(this,"NearUInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=un(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return k8(i,s)}encode(e,r,n=0){let i=C8(e),s=un(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearUInt64BE=y8;var b8=class extends _n{static{o(this,"NearInt64")}constructor(e){super(8,e)}decode(e,r=0){let n=un(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return k8(s,i)}encode(e,r,n=0){let i=C8(e),s=un(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Re.NearInt64=b8;var x8=class extends _n{static{o(this,"NearInt64BE")}constructor(e){super(8,e)}decode(e,r=0){let n=un(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return k8(i,s)}encode(e,r,n=0){let i=C8(e),s=un(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Re.NearInt64BE=x8;var v8=class extends _n{static{o(this,"Float")}constructor(e){super(4,e)}decode(e,r=0){return un(e).readFloatLE(r)}encode(e,r,n=0){return un(r).writeFloatLE(e,n),4}};Re.Float=v8;var _8=class extends _n{static{o(this,"FloatBE")}constructor(e){super(4,e)}decode(e,r=0){return un(e).readFloatBE(r)}encode(e,r,n=0){return un(r).writeFloatBE(e,n),4}};Re.FloatBE=_8;var w8=class extends _n{static{o(this,"Double")}constructor(e){super(8,e)}decode(e,r=0){return un(e).readDoubleLE(r)}encode(e,r,n=0){return un(r).writeDoubleLE(e,n),8}};Re.Double=w8;var S8=class extends _n{static{o(this,"DoubleBE")}constructor(e){super(8,e)}decode(e,r=0){return un(e).readDoubleBE(r)}encode(e,r,n=0){return un(r).writeDoubleBE(e,n),8}};Re.DoubleBE=S8;var E8=class extends _n{static{o(this,"Sequence")}constructor(e,r,n){if(!(e instanceof _n))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ea&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ea)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ea&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){let n=[],i=0,s=this.count;for(s instanceof ea&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,s=e.reduce((a,c)=>a+i.encode(c,r,n+a),0);return this.count instanceof ea&&this.count.encode(e.length,r,n),s}};Re.Sequence=E8;var A8=class extends _n{static{o(this,"Structure")}constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof _n,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let a=s.getSpan(e,r);return r+=a,i+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Xb(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,s=0,a=0;for(let c of this.fields){let u=c.span;if(a=0<u?u:0,c.property!==void 0){let h=e[c.property];h!==void 0&&(a=c.encode(h,r,n),0>u&&(u=c.getSpan(r,n)))}s=n,n+=u}return s+a-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Re.Structure=A8;var Aw=class{static{o(this,"UnionDiscriminator")}constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Re.UnionDiscriminator=Aw;var Yb=class extends Aw{static{o(this,"UnionLayoutDiscriminator")}constructor(e,r){if(!(e instanceof ea&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Re.UnionLayoutDiscriminator=Yb;var Tw=class extends _n{static{o(this,"Union")}constructor(e,r,n){let i;if(e instanceof fc||e instanceof zc)i=new Yb(new Ew(e));else if(e instanceof ea&&e.isCount())i=new Yb(e);else if(e instanceof Aw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof _n))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof fc||e instanceof zc)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof fc||e instanceof zc,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,s=i.decode(e,r),a=this.registry[s];if(a===void 0){let c=this.defaultLayout,u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,r+u)}else n=a.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,a=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new T8(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Re.Union=Tw;var T8=class extends _n{static{o(this,"VariantLayout")}constructor(e,r,n,i){if(!(e instanceof Tw))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof _n))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Re.VariantLayout=T8;function Wb(t){return 0>t&&(t+=4294967296),t}o(Wb,"fixBitwiseResult");var Iw=class extends _n{static{o(this,"BitStructure")}constructor(e,r,n){if(!(e instanceof fc||e instanceof zc))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Wb(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new Rw(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new I8(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};Re.BitStructure=Iw;var Rw=class{static{o(this,"BitField")}constructor(e,r,n){if(!(e instanceof Iw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Wb(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return Wb(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Wb(e&this.valueMask))throw new TypeError(gL("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=Wb(e<<this.start);this.container._packedSetValue(Wb(r&~this.wordMask)|n)}};Re.BitField=Rw;var I8=class extends Rw{static{o(this,"Boolean")}constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Re.Boolean=I8;var R8=class extends _n{static{o(this,"Blob")}constructor(e,r){if(!(e instanceof ea&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ea||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),un(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ea&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(gL("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let s=un(e);return un(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof ea&&this.length.encode(i,r,n),i}};Re.Blob=R8;var O8=class extends _n{static{o(this,"CString")}constructor(e){super(-1,e)}getSpan(e,r=0){Xb(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return un(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=mL.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");let a=un(r);return i.copy(a,n),a[n+s]=0,s+1}};Re.CString=O8;var M8=class extends _n{static{o(this,"UTF8")}constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Xb(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return un(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=mL.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(un(r),n),s}};Re.UTF8=M8;var N8=class extends _n{static{o(this,"Constant")}constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Re.Constant=N8;Re.greedy=(t,e)=>new m8(t,e);Re.offset=(t,e,r)=>new Ew(t,e,r);Re.u8=t=>new fc(1,t);Re.u16=t=>new fc(2,t);Re.u24=t=>new fc(3,t);Re.u32=t=>new fc(4,t);Re.u40=t=>new fc(5,t);Re.u48=t=>new fc(6,t);Re.nu64=t=>new g8(t);Re.u16be=t=>new zc(2,t);Re.u24be=t=>new zc(3,t);Re.u32be=t=>new zc(4,t);Re.u40be=t=>new zc(5,t);Re.u48be=t=>new zc(6,t);Re.nu64be=t=>new y8(t);Re.s8=t=>new wh(1,t);Re.s16=t=>new wh(2,t);Re.s24=t=>new wh(3,t);Re.s32=t=>new wh(4,t);Re.s40=t=>new wh(5,t);Re.s48=t=>new wh(6,t);Re.ns64=t=>new b8(t);Re.s16be=t=>new ap(2,t);Re.s24be=t=>new ap(3,t);Re.s32be=t=>new ap(4,t);Re.s40be=t=>new ap(5,t);Re.s48be=t=>new ap(6,t);Re.ns64be=t=>new x8(t);Re.f32=t=>new v8(t);Re.f32be=t=>new _8(t);Re.f64=t=>new w8(t);Re.f64be=t=>new S8(t);Re.struct=(t,e,r)=>new A8(t,e,r);Re.bits=(t,e,r)=>new Iw(t,e,r);Re.seq=(t,e,r)=>new E8(t,e,r);Re.union=(t,e,r)=>new Tw(t,e,r);Re.unionLayoutDiscriminator=(t,e)=>new Yb(t,e);Re.blob=(t,e)=>new R8(t,e);Re.cstr=t=>new O8(t);Re.utf8=(t,e)=>new M8(t,e);Re.constant=(t,e)=>new N8(t,e)});var zue=j((NJt,jue)=>{p();m();var Pze=lCe(),Lze=kk(),Dze="[object Date]";function Uze(t){return Lze(t)&&Pze(t)==Dze}o(Uze,"baseIsDate");jue.exports=Uze});var Wue=j((PJt,Gue)=>{p();m();var Fze=zue(),Hze=Bk(),Kue=Pk(),$ue=Kue&&Kue.isDate,qze=$ue?Hze($ue):Fze;Gue.exports=qze});var uy=j((ner,aU)=>{"use strict";p();m();var sU=65536,sKe=4294967295;function aKe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}o(aKe,"oldBrowser");var cKe=mr().Buffer,eT=self.crypto||self.msCrypto;eT&&eT.getRandomValues?aU.exports=fKe:aU.exports=aKe;function fKe(t,e){if(t>sKe)throw new RangeError("requested too many random bytes");var r=cKe.allocUnsafe(t);if(t>0)if(t>sU)for(var n=0;n<t;n+=sU)eT.getRandomValues(r.slice(n,n+sU));else eT.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}o(fKe,"randomBytes")});var Zt=j((aer,cU)=>{p();m();typeof Object.create=="function"?cU.exports=o(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):cU.exports=o(function(e,r){if(r){e.super_=r;var n=o(function(){},"TempCtor");n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},"inherits")});var _x=j((ler,fU)=>{"use strict";p();m();var vx=typeof Reflect=="object"?Reflect:null,tle=vx&&typeof vx.apply=="function"?vx.apply:o(function(e,r,n){return Function.prototype.apply.call(e,r,n)},"ReflectApply"),tT;vx&&typeof vx.ownKeys=="function"?tT=vx.ownKeys:Object.getOwnPropertySymbols?tT=o(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):tT=o(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys");function uKe(t){console&&console.warn&&console.warn(t)}o(uKe,"ProcessEmitWarning");var nle=Number.isNaN||o(function(e){return e!==e},"NumberIsNaN");function Hn(){Hn.init.call(this)}o(Hn,"EventEmitter");fU.exports=Hn;fU.exports.once=pKe;Hn.EventEmitter=Hn;Hn.prototype._events=void 0;Hn.prototype._eventsCount=0;Hn.prototype._maxListeners=void 0;var rle=10;function rT(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}o(rT,"checkListener");Object.defineProperty(Hn,"defaultMaxListeners",{enumerable:!0,get:o(function(){return rle},"get"),set:o(function(t){if(typeof t!="number"||t<0||nle(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rle=t},"set")});Hn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Hn.prototype.setMaxListeners=o(function(e){if(typeof e!="number"||e<0||nle(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners");function ile(t){return t._maxListeners===void 0?Hn.defaultMaxListeners:t._maxListeners}o(ile,"_getMaxListeners");Hn.prototype.getMaxListeners=o(function(){return ile(this)},"getMaxListeners");Hn.prototype.emit=o(function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")tle(u,this,r);else for(var h=u.length,y=fle(u,h),n=0;n<h;++n)tle(y[n],this,r);return!0},"emit");function ole(t,e,r,n){var i,s,a;if(rT(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=ile(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,uKe(c)}return t}o(ole,"_addListener");Hn.prototype.addListener=o(function(e,r){return ole(this,e,r,!1)},"addListener");Hn.prototype.on=Hn.prototype.addListener;Hn.prototype.prependListener=o(function(e,r){return ole(this,e,r,!0)},"prependListener");function lKe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(lKe,"onceWrapper");function sle(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=lKe.bind(n);return i.listener=r,n.wrapFn=i,i}o(sle,"_onceWrap");Hn.prototype.once=o(function(e,r){return rT(r),this.on(e,sle(this,e,r)),this},"once");Hn.prototype.prependOnceListener=o(function(e,r){return rT(r),this.prependListener(e,sle(this,e,r)),this},"prependOnceListener");Hn.prototype.removeListener=o(function(e,r){var n,i,s,a,c;if(rT(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){c=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():dKe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this},"removeListener");Hn.prototype.off=Hn.prototype.removeListener;Hn.prototype.removeAllListeners=o(function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},"removeAllListeners");function ale(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?hKe(i):fle(i,i.length)}o(ale,"_listeners");Hn.prototype.listeners=o(function(e){return ale(this,e,!0)},"listeners");Hn.prototype.rawListeners=o(function(e){return ale(this,e,!1)},"rawListeners");Hn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):cle.call(t,e)};Hn.prototype.listenerCount=cle;function cle(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(cle,"listenerCount");Hn.prototype.eventNames=o(function(){return this._eventsCount>0?tT(this._events):[]},"eventNames");function fle(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}o(fle,"arrayClone");function dKe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}o(dKe,"spliceOne");function hKe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}o(hKe,"unwrapListeners");function pKe(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}o(i,"errorListener");function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),ule(t,e,s,{once:!0}),e!=="error"&&mKe(t,i,{once:!0})})}o(pKe,"once");function mKe(t,e,r){typeof t.on=="function"&&ule(t,"error",e,r)}o(mKe,"addErrorHandlerIfEventEmitter");function ule(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,o(function i(s){n.once&&t.removeEventListener(e,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}o(ule,"eventTargetAgnosticAddListener")});var uU=j((mer,lle)=>{p();m();lle.exports=_x().EventEmitter});var uS=j(()=>{p();m()});var mle=j((wer,ple)=>{"use strict";p();m();function dle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(dle,"ownKeys");function gKe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dle(Object(r),!0).forEach(function(n){yKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(gKe,"_objectSpread");function yKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(yKe,"_defineProperty");function bKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(bKe,"_classCallCheck");function hle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(hle,"_defineProperties");function xKe(t,e,r){return e&&hle(t.prototype,e),r&&hle(t,r),t}o(xKe,"_createClass");var vKe=li(),nT=vKe.Buffer,_Ke=uS(),lU=_Ke.inspect,wKe=lU&&lU.custom||"inspect";function SKe(t,e,r){nT.prototype.copy.call(t,e,r)}o(SKe,"copyBuffer");ple.exports=function(){function t(){bKe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),xKe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return nT.alloc(0);for(var n=nT.allocUnsafe(r>>>0),i=this.head,s=0;i;)SKe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=nT.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:wKe,value:o(function(r,n){return lU(this,gKe({},n,{depth:0,customInspect:!1}))},"value")}]),t}()});var hU=j((Ter,yle)=>{"use strict";p();m();function EKe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(dU,this,t)):process.nextTick(dU,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(iT,r):(r._writableState.errorEmitted=!0,process.nextTick(gle,r,s)):process.nextTick(gle,r,s):e?(process.nextTick(iT,r),e(s)):process.nextTick(iT,r)}),this)}o(EKe,"destroy");function gle(t,e){dU(t,e),iT(t)}o(gle,"emitErrorAndCloseNT");function iT(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(iT,"emitCloseNT");function AKe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(AKe,"undestroy");function dU(t,e){t.emit("error",e)}o(dU,"emitErrorNT");function TKe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(TKe,"errorOrDestroy");yle.exports={destroy:EKe,undestroy:AKe,errorOrDestroy:TKe}});var ly=j((Mer,vle)=>{"use strict";p();m();function IKe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(IKe,"_inheritsLoose");var xle={};function Uf(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){IKe(a,s);function a(c,u,h){return s.call(this,n(c,u,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,xle[t]=i}o(Uf,"createErrorType");function ble(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(ble,"oneOf");function RKe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(RKe,"startsWith");function OKe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(OKe,"endsWith");function MKe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(MKe,"includes");Uf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Uf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&RKe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(OKe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(ble(e,"type"));else{var s=MKe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(ble(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Uf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Uf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Uf("ERR_STREAM_PREMATURE_CLOSE","Premature close");Uf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Uf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Uf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Uf("ERR_STREAM_WRITE_AFTER_END","write after end");Uf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Uf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Uf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");vle.exports.codes=xle});var pU=j((Ber,_le)=>{"use strict";p();m();var NKe=ly().codes.ERR_INVALID_OPT_VALUE;function CKe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(CKe,"highWaterMarkFrom");function kKe(t,e,r,n){var i=CKe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new NKe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(kKe,"getHighWaterMark");_le.exports={getHighWaterMark:kKe}});var gU=j((Uer,wle)=>{p();m();wle.exports=BKe;function BKe(t,e){if(mU("noDeprecation"))return t;var r=!1;function n(){if(!r){if(mU("throwDeprecation"))throw new Error(e);mU("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n}o(BKe,"deprecate");function mU(t){try{if(!self.localStorage)return!1}catch{return!1}var e=self.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}o(mU,"config")});var aT=j((Ver,Rle)=>{"use strict";p();m();Rle.exports=Yi;function Ele(t){var e=this;this.next=null,this.entry=null,this.finish=function(){a$e(e,t)}}o(Ele,"CorkedRequest");var wx;Yi.WritableState=dS;var PKe={deprecate:gU()},Ale=uU(),sT=li().Buffer,LKe=self.Uint8Array||function(){};function DKe(t){return sT.from(t)}o(DKe,"_uint8ArrayToBuffer");function UKe(t){return sT.isBuffer(t)||t instanceof LKe}o(UKe,"_isUint8Array");var bU=hU(),FKe=pU(),HKe=FKe.getHighWaterMark,wp=ly().codes,qKe=wp.ERR_INVALID_ARG_TYPE,VKe=wp.ERR_METHOD_NOT_IMPLEMENTED,jKe=wp.ERR_MULTIPLE_CALLBACK,zKe=wp.ERR_STREAM_CANNOT_PIPE,KKe=wp.ERR_STREAM_DESTROYED,$Ke=wp.ERR_STREAM_NULL_VALUES,GKe=wp.ERR_STREAM_WRITE_AFTER_END,WKe=wp.ERR_UNKNOWN_ENCODING,Sx=bU.errorOrDestroy;Zt()(Yi,Ale);function YKe(){}o(YKe,"nop");function dS(t,e,r){wx=wx||Sp(),t=t||{},typeof r!="boolean"&&(r=e instanceof wx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=HKe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){r$e(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ele(this)}o(dS,"WritableState");dS.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(dS.prototype,"buffer",{get:PKe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var oT;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(oT=Function.prototype[Symbol.hasInstance],Object.defineProperty(Yi,Symbol.hasInstance,{value:o(function(e){return oT.call(this,e)?!0:this!==Yi?!1:e&&e._writableState instanceof dS},"value")})):oT=o(function(e){return e instanceof this},"realHasInstance");function Yi(t){wx=wx||Sp();var e=this instanceof wx;if(!e&&!oT.call(Yi,this))return new Yi(t);this._writableState=new dS(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Ale.call(this)}o(Yi,"Writable");Yi.prototype.pipe=function(){Sx(this,new zKe)};function XKe(t,e){var r=new GKe;Sx(t,r),process.nextTick(e,r)}o(XKe,"writeAfterEnd");function ZKe(t,e,r,n){var i;return r===null?i=new $Ke:typeof r!="string"&&!e.objectMode&&(i=new qKe("chunk",["string","Buffer"],r)),i?(Sx(t,i),process.nextTick(n,i),!1):!0}o(ZKe,"validChunk");Yi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&UKe(t);return s&&!sT.isBuffer(t)&&(t=DKe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=YKe),n.ending?XKe(this,r):(s||ZKe(this,n,t,r))&&(n.pendingcb++,i=QKe(this,n,s,t,e,r)),i};Yi.prototype.cork=function(){this._writableState.corked++};Yi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Tle(this,t))};Yi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new WKe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Yi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function JKe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=sT.from(e,r)),e}o(JKe,"decodeChunk");Object.defineProperty(Yi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function QKe(t,e,r,n,i,s){if(!r){var a=JKe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else yU(t,e,!1,c,n,i,s);return u}o(QKe,"writeOrBuffer");function yU(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new KKe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(yU,"doWrite");function e$e(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(lS,t,e),t._writableState.errorEmitted=!0,Sx(t,n)):(i(n),t._writableState.errorEmitted=!0,Sx(t,n),lS(t,e))}o(e$e,"onwriteError");function t$e(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(t$e,"onwriteStateUpdate");function r$e(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new jKe;if(t$e(r),e)e$e(t,r,n,e,i);else{var s=Ile(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Tle(t,r),n?process.nextTick(Sle,t,r,s,i):Sle(t,r,s,i)}}o(r$e,"onwrite");function Sle(t,e,r,n){r||n$e(t,e),e.pendingcb--,n(),lS(t,e)}o(Sle,"afterWrite");function n$e(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(n$e,"onwriteDrain");function Tle(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,yU(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Ele(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,y=r.callback,g=e.objectMode?1:u.length;if(yU(t,e,!1,g,u,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(Tle,"clearBuffer");Yi.prototype._write=function(t,e,r){r(new VKe("_write()"))};Yi.prototype._writev=null;Yi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||s$e(this,n,r),this};Object.defineProperty(Yi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function Ile(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(Ile,"needFinish");function i$e(t,e){t._final(function(r){e.pendingcb--,r&&Sx(t,r),e.prefinished=!0,t.emit("prefinish"),lS(t,e)})}o(i$e,"callFinal");function o$e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(i$e,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(o$e,"prefinish");function lS(t,e){var r=Ile(e);if(r&&(o$e(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(lS,"finishMaybe");function s$e(t,e,r){e.ending=!0,lS(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(s$e,"endWritable");function a$e(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(a$e,"onCorkedFinish");Object.defineProperty(Yi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Yi.prototype.destroy=bU.destroy;Yi.prototype._undestroy=bU.undestroy;Yi.prototype._destroy=function(t,e){e(t)}});var Sp=j(($er,Mle)=>{"use strict";p();m();var c$e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Mle.exports=ud;var Ole=uT(),vU=aT();Zt()(ud,Ole);for(xU=c$e(vU.prototype),cT=0;cT<xU.length;cT++)fT=xU[cT],ud.prototype[fT]||(ud.prototype[fT]=vU.prototype[fT]);var xU,fT,cT;function ud(t){if(!(this instanceof ud))return new ud(t);Ole.call(this,t),vU.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f$e)))}o(ud,"Duplex");Object.defineProperty(ud.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(ud.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(ud.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function f$e(){this._writableState.ended||process.nextTick(u$e,this)}o(f$e,"onend");function u$e(t){t.end()}o(u$e,"onEndNT");Object.defineProperty(ud.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var Ex=j(Cle=>{"use strict";p();m();var wU=mr().Buffer,Nle=wU.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l$e(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}o(l$e,"_normalizeEncoding");function d$e(t){var e=l$e(t);if(typeof e!="string"&&(wU.isEncoding===Nle||!Nle(t)))throw new Error("Unknown encoding: "+t);return e||t}o(d$e,"normalizeEncoding");Cle.StringDecoder=hS;function hS(t){this.encoding=d$e(t);var e;switch(this.encoding){case"utf16le":this.text=b$e,this.end=x$e,e=4;break;case"utf8":this.fillLast=m$e,e=4;break;case"base64":this.text=v$e,this.end=_$e,e=3;break;default:this.write=w$e,this.end=S$e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=wU.allocUnsafe(e)}o(hS,"StringDecoder");hS.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};hS.prototype.end=y$e;hS.prototype.text=g$e;hS.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function _U(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}o(_U,"utf8CheckByte");function h$e(t,e,r){var n=e.length-1;if(n<r)return 0;var i=_U(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=_U(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=_U(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}o(h$e,"utf8CheckIncomplete");function p$e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}o(p$e,"utf8CheckExtraBytes");function m$e(t){var e=this.lastTotal-this.lastNeed,r=p$e(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}o(m$e,"utf8FillLast");function g$e(t,e){var r=h$e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}o(g$e,"utf8Text");function y$e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}o(y$e,"utf8End");function b$e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}o(b$e,"utf16Text");function x$e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}o(x$e,"utf16End");function v$e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}o(v$e,"base64Text");function _$e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}o(_$e,"base64End");function w$e(t){return t.toString(this.encoding)}o(w$e,"simpleWrite");function S$e(t){return t&&t.length?this.write(t):""}o(S$e,"simpleEnd")});var pS=j((etr,Ple)=>{"use strict";p();m();var kle=ly().codes.ERR_STREAM_PREMATURE_CLOSE;function E$e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(E$e,"once");function A$e(){}o(A$e,"noop");function T$e(t){return t.setHeader&&typeof t.abort=="function"}o(T$e,"isRequest");function Ble(t,e,r){if(typeof e=="function")return Ble(t,null,e);e||(e={}),r=E$e(r||A$e);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),u=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,u=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),g=o(function(){var O;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(O=new kle),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new kle),r.call(t,O)},"onclose"),S=o(function(){t.req.on("finish",c)},"onrequest");return T$e(t)?(t.on("complete",c),t.on("abort",g),t.req?S():t.on("request",S)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",S),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}o(Ble,"eos");Ple.exports=Ble});var Dle=j((itr,Lle)=>{"use strict";p();m();var lT;function Ep(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Ep,"_defineProperty");var I$e=pS(),Ap=Symbol("lastResolve"),dy=Symbol("lastReject"),mS=Symbol("error"),dT=Symbol("ended"),hy=Symbol("lastPromise"),SU=Symbol("handlePromise"),py=Symbol("stream");function Tp(t,e){return{value:t,done:e}}o(Tp,"createIterResult");function R$e(t){var e=t[Ap];if(e!==null){var r=t[py].read();r!==null&&(t[hy]=null,t[Ap]=null,t[dy]=null,e(Tp(r,!1)))}}o(R$e,"readAndResolve");function O$e(t){process.nextTick(R$e,t)}o(O$e,"onReadable");function M$e(t,e){return function(r,n){t.then(function(){if(e[dT]){r(Tp(void 0,!0));return}e[SU](r,n)},n)}}o(M$e,"wrapForNext");var N$e=Object.getPrototypeOf(function(){}),C$e=Object.setPrototypeOf((lT={get stream(){return this[py]},next:o(function(){var e=this,r=this[mS];if(r!==null)return Promise.reject(r);if(this[dT])return Promise.resolve(Tp(void 0,!0));if(this[py].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[mS]?c(e[mS]):a(Tp(void 0,!0))})});var n=this[hy],i;if(n)i=new Promise(M$e(n,this));else{var s=this[py].read();if(s!==null)return Promise.resolve(Tp(s,!1));i=new Promise(this[SU])}return this[hy]=i,i},"next")},Ep(lT,Symbol.asyncIterator,function(){return this}),Ep(lT,"return",o(function(){var e=this;return new Promise(function(r,n){e[py].destroy(null,function(i){if(i){n(i);return}r(Tp(void 0,!0))})})},"_return")),lT),N$e),k$e=o(function(e){var r,n=Object.create(C$e,(r={},Ep(r,py,{value:e,writable:!0}),Ep(r,Ap,{value:null,writable:!0}),Ep(r,dy,{value:null,writable:!0}),Ep(r,mS,{value:null,writable:!0}),Ep(r,dT,{value:e._readableState.endEmitted,writable:!0}),Ep(r,SU,{value:o(function(s,a){var c=n[py].read();c?(n[hy]=null,n[Ap]=null,n[dy]=null,s(Tp(c,!1))):(n[Ap]=s,n[dy]=a)},"value"),writable:!0}),r));return n[hy]=null,I$e(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[dy];s!==null&&(n[hy]=null,n[Ap]=null,n[dy]=null,s(i)),n[mS]=i;return}var a=n[Ap];a!==null&&(n[hy]=null,n[Ap]=null,n[dy]=null,a(Tp(void 0,!0))),n[dT]=!0}),e.on("readable",O$e.bind(null,n)),n},"createReadableStreamAsyncIterator");Lle.exports=k$e});var Fle=j((ctr,Ule)=>{p();m();Ule.exports=function(){throw new Error("Readable.from is not available in the browser")}});var uT=j((dtr,Yle)=>{"use strict";p();m();Yle.exports=nn;var Ax;nn.ReadableState=jle;var ltr=_x().EventEmitter,Vle=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),yS=uU(),hT=li().Buffer,B$e=self.Uint8Array||function(){};function P$e(t){return hT.from(t)}o(P$e,"_uint8ArrayToBuffer");function L$e(t){return hT.isBuffer(t)||t instanceof B$e}o(L$e,"_isUint8Array");var EU=uS(),Br;EU&&EU.debuglog?Br=EU.debuglog("stream"):Br=o(function(){},"debug");var D$e=mle(),NU=hU(),U$e=pU(),F$e=U$e.getHighWaterMark,pT=ly().codes,H$e=pT.ERR_INVALID_ARG_TYPE,q$e=pT.ERR_STREAM_PUSH_AFTER_EOF,V$e=pT.ERR_METHOD_NOT_IMPLEMENTED,j$e=pT.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Tx,AU,TU;Zt()(nn,yS);var gS=NU.errorOrDestroy,IU=["error","close","destroy","pause","resume"];function z$e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(z$e,"prependListener");function jle(t,e,r){Ax=Ax||Sp(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ax),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=F$e(this,t,"readableHighWaterMark",r),this.buffer=new D$e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Tx||(Tx=Ex().StringDecoder),this.decoder=new Tx(t.encoding),this.encoding=t.encoding)}o(jle,"ReadableState");function nn(t){if(Ax=Ax||Sp(),!(this instanceof nn))return new nn(t);var e=this instanceof Ax;this._readableState=new jle(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),yS.call(this)}o(nn,"Readable");Object.defineProperty(nn.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});nn.prototype.destroy=NU.destroy;nn.prototype._undestroy=NU.undestroy;nn.prototype._destroy=function(t,e){e(t)};nn.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=hT.from(t,e),e=""),n=!0),zle(this,t,e,!1,n)};nn.prototype.unshift=function(t){return zle(this,t,null,!0,!1)};function zle(t,e,r,n,i){Br("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,G$e(t,s);else{var a;if(i||(a=K$e(s,e)),a)gS(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==hT.prototype&&(e=P$e(e)),n)s.endEmitted?gS(t,new j$e):RU(t,s,e,!0);else if(s.ended)gS(t,new q$e);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?RU(t,s,e,!1):MU(t,s)):RU(t,s,e,!1)}else n||(s.reading=!1,MU(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(zle,"readableAddChunk");function RU(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&mT(t)),MU(t,e)}o(RU,"addChunk");function K$e(t,e){var r;return!L$e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new H$e("chunk",["string","Buffer","Uint8Array"],e)),r}o(K$e,"chunkInvalid");nn.prototype.isPaused=function(){return this._readableState.flowing===!1};nn.prototype.setEncoding=function(t){Tx||(Tx=Ex().StringDecoder);var e=new Tx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Hle=1073741824;function $$e(t){return t>=Hle?t=Hle:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o($$e,"computeNewHighWaterMark");function qle(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=$$e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(qle,"howMuchToRead");nn.prototype.read=function(t){Br("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Br("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?OU(this):mT(this),null;if(t=qle(t,e),t===0&&e.ended)return e.length===0&&OU(this),null;var n=e.needReadable;Br("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Br("length less than watermark",n)),e.ended||e.reading?(n=!1,Br("reading or ended",n)):n&&(Br("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=qle(r,e)));var i;return t>0?i=Gle(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&OU(this)),i!==null&&this.emit("data",i),i};function G$e(t,e){if(Br("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?mT(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Kle(t)))}}o(G$e,"onEofChunk");function mT(t){var e=t._readableState;Br("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Br("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Kle,t))}o(mT,"emitReadable");function Kle(t){var e=t._readableState;Br("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,CU(t)}o(Kle,"emitReadable_");function MU(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(W$e,t,e))}o(MU,"maybeReadMore");function W$e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Br("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(W$e,"maybeReadMore_");nn.prototype._read=function(t){gS(this,new V$e("_read()"))};nn.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Br("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:M;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Br("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){Br("onend"),t.end()}o(c,"onend");var u=Y$e(r);t.on("drain",u);var h=!1;function y(){Br("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",u),t.removeListener("error",S),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",M),r.removeListener("data",g),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}o(y,"cleanup"),r.on("data",g);function g(k){Br("ondata");var C=t.write(k);Br("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Wle(n.pipes,t)!==-1)&&!h&&(Br("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(g,"ondata");function S(k){Br("onerror",k),M(),t.removeListener("error",S),Vle(t,"error")===0&&gS(t,k)}o(S,"onerror"),z$e(t,"error",S);function T(){t.removeListener("finish",O),M()}o(T,"onclose"),t.once("close",T);function O(){Br("onfinish"),t.removeListener("close",T),M()}o(O,"onfinish"),t.once("finish",O);function M(){Br("unpipe"),r.unpipe(t)}return o(M,"unpipe"),t.emit("pipe",r),n.flowing||(Br("pipe resume"),r.resume()),t};function Y$e(t){return o(function(){var r=t._readableState;Br("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Vle(t,"data")&&(r.flowing=!0,CU(t))},"pipeOnDrainFunctionResult")}o(Y$e,"pipeOnDrain");nn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Wle(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};nn.prototype.on=function(t,e){var r=yS.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Br("on readable",n.length,n.reading),n.length?mT(this):n.reading||process.nextTick(X$e,this)),r};nn.prototype.addListener=nn.prototype.on;nn.prototype.removeListener=function(t,e){var r=yS.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick($le,this),r};nn.prototype.removeAllListeners=function(t){var e=yS.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick($le,this),e};function $le(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o($le,"updateReadableListening");function X$e(t){Br("readable nexttick read 0"),t.read(0)}o(X$e,"nReadingNextTick");nn.prototype.resume=function(){var t=this._readableState;return t.flowing||(Br("resume"),t.flowing=!t.readableListening,Z$e(this,t)),t.paused=!1,this};function Z$e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(J$e,t,e))}o(Z$e,"resume");function J$e(t,e){Br("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),CU(t),e.flowing&&!e.reading&&t.read(0)}o(J$e,"resume_");nn.prototype.pause=function(){return Br("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Br("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function CU(t){var e=t._readableState;for(Br("flow",e.flowing);e.flowing&&t.read()!==null;);}o(CU,"flow");nn.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Br("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Br("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<IU.length;s++)t.on(IU[s],this.emit.bind(this,IU[s]));return this._read=function(a){Br("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(nn.prototype[Symbol.asyncIterator]=function(){return AU===void 0&&(AU=Dle()),AU(this)});Object.defineProperty(nn.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(nn.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(nn.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});nn._fromList=Gle;Object.defineProperty(nn.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function Gle(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(Gle,"fromList");function OU(t){var e=t._readableState;Br("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Q$e,e,t))}o(OU,"endReadable");function Q$e(t,e){if(Br("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(Q$e,"endReadableNT");typeof Symbol=="function"&&(nn.from=function(t,e){return TU===void 0&&(TU=Fle()),TU(nn,t,e)});function Wle(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(Wle,"indexOf")});var bT=j((gtr,Zle)=>{"use strict";p();m();Zle.exports=kh;var gT=ly().codes,eGe=gT.ERR_METHOD_NOT_IMPLEMENTED,tGe=gT.ERR_MULTIPLE_CALLBACK,rGe=gT.ERR_TRANSFORM_ALREADY_TRANSFORMING,nGe=gT.ERR_TRANSFORM_WITH_LENGTH_0,yT=Sp();Zt()(kh,yT);function iGe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new tGe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(iGe,"afterTransform");function kh(t){if(!(this instanceof kh))return new kh(t);yT.call(this,t),this._transformState={afterTransform:iGe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",oGe)}o(kh,"Transform");function oGe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Xle(t,e,r)}):Xle(this,null,null)}o(oGe,"prefinish");kh.prototype.push=function(t,e){return this._transformState.needTransform=!1,yT.prototype.push.call(this,t,e)};kh.prototype._transform=function(t,e,r){r(new eGe("_transform()"))};kh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};kh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};kh.prototype._destroy=function(t,e){yT.prototype._destroy.call(this,t,function(r){e(r)})};function Xle(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nGe;if(t._transformState.transforming)throw new rGe;return t.push(null)}o(Xle,"done")});var kU=j((vtr,Qle)=>{"use strict";p();m();Qle.exports=bS;var Jle=bT();Zt()(bS,Jle);function bS(t){if(!(this instanceof bS))return new bS(t);Jle.call(this,t)}o(bS,"PassThrough");bS.prototype._transform=function(t,e,r){r(null,t)}});var PU=j((Etr,nde)=>{"use strict";p();m();var BU;function sGe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(sGe,"once");var rde=ly().codes,aGe=rde.ERR_MISSING_ARGS,cGe=rde.ERR_STREAM_DESTROYED;function ede(t){if(t)throw t}o(ede,"noop");function fGe(t){return t.setHeader&&typeof t.abort=="function"}o(fGe,"isRequest");function uGe(t,e,r,n){n=sGe(n);var i=!1;t.on("close",function(){i=!0}),BU===void 0&&(BU=pS()),BU(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,fGe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new cGe("pipe"))}}}o(uGe,"destroyer");function tde(t){t()}o(tde,"call");function lGe(t,e){return t.pipe(e)}o(lGe,"pipe");function dGe(t){return!t.length||typeof t[t.length-1]!="function"?ede:t.pop()}o(dGe,"popCallback");function hGe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=dGe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new aGe("streams");var i,s=e.map(function(a,c){var u=c<e.length-1,h=c>0;return uGe(a,u,h,function(y){i||(i=y),y&&s.forEach(tde),!u&&(s.forEach(tde),n(i))})});return e.reduce(lGe)}o(hGe,"pipeline");nde.exports=hGe});var ode=j((Ff,ide)=>{p();m();Ff=ide.exports=uT();Ff.Stream=Ff;Ff.Readable=Ff;Ff.Writable=aT();Ff.Duplex=Sp();Ff.Transform=bT();Ff.PassThrough=kU();Ff.finished=pS();Ff.pipeline=PU()});var LU=j((Mtr,ade)=>{"use strict";p();m();var xT=mr().Buffer,sde=ode().Transform,pGe=Zt();function mGe(t,e){if(!xT.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}o(mGe,"throwIfNotStringOrBuffer");function Ip(t){sde.call(this),this._block=xT.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(Ip,"HashBase");pGe(Ip,sde);Ip.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Ip.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ip.prototype.update=function(t,e){if(mGe(t,"Data"),this._finalized)throw new Error("Digest already called");xT.isBuffer(t)||(t=xT.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};Ip.prototype._update=function(){throw new Error("_update is not implemented")};Ip.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ip.prototype._digest=function(){throw new Error("_digest is not implemented")};ade.exports=Ip});var wT=j((Btr,fde)=>{"use strict";p();m();var gGe=Zt(),cde=LU(),yGe=mr().Buffer,bGe=new Array(16);function vT(){cde.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}o(vT,"MD5");gGe(vT,cde);vT.prototype._update=function(){for(var t=bGe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=sa(r,n,i,s,t[0],3614090360,7),s=sa(s,r,n,i,t[1],3905402710,12),i=sa(i,s,r,n,t[2],606105819,17),n=sa(n,i,s,r,t[3],3250441966,22),r=sa(r,n,i,s,t[4],4118548399,7),s=sa(s,r,n,i,t[5],1200080426,12),i=sa(i,s,r,n,t[6],2821735955,17),n=sa(n,i,s,r,t[7],4249261313,22),r=sa(r,n,i,s,t[8],1770035416,7),s=sa(s,r,n,i,t[9],2336552879,12),i=sa(i,s,r,n,t[10],4294925233,17),n=sa(n,i,s,r,t[11],2304563134,22),r=sa(r,n,i,s,t[12],1804603682,7),s=sa(s,r,n,i,t[13],4254626195,12),i=sa(i,s,r,n,t[14],2792965006,17),n=sa(n,i,s,r,t[15],1236535329,22),r=aa(r,n,i,s,t[1],4129170786,5),s=aa(s,r,n,i,t[6],3225465664,9),i=aa(i,s,r,n,t[11],643717713,14),n=aa(n,i,s,r,t[0],3921069994,20),r=aa(r,n,i,s,t[5],3593408605,5),s=aa(s,r,n,i,t[10],38016083,9),i=aa(i,s,r,n,t[15],3634488961,14),n=aa(n,i,s,r,t[4],3889429448,20),r=aa(r,n,i,s,t[9],568446438,5),s=aa(s,r,n,i,t[14],3275163606,9),i=aa(i,s,r,n,t[3],4107603335,14),n=aa(n,i,s,r,t[8],1163531501,20),r=aa(r,n,i,s,t[13],2850285829,5),s=aa(s,r,n,i,t[2],4243563512,9),i=aa(i,s,r,n,t[7],1735328473,14),n=aa(n,i,s,r,t[12],2368359562,20),r=ca(r,n,i,s,t[5],4294588738,4),s=ca(s,r,n,i,t[8],2272392833,11),i=ca(i,s,r,n,t[11],1839030562,16),n=ca(n,i,s,r,t[14],4259657740,23),r=ca(r,n,i,s,t[1],2763975236,4),s=ca(s,r,n,i,t[4],1272893353,11),i=ca(i,s,r,n,t[7],4139469664,16),n=ca(n,i,s,r,t[10],3200236656,23),r=ca(r,n,i,s,t[13],681279174,4),s=ca(s,r,n,i,t[0],3936430074,11),i=ca(i,s,r,n,t[3],3572445317,16),n=ca(n,i,s,r,t[6],76029189,23),r=ca(r,n,i,s,t[9],3654602809,4),s=ca(s,r,n,i,t[12],3873151461,11),i=ca(i,s,r,n,t[15],530742520,16),n=ca(n,i,s,r,t[2],3299628645,23),r=fa(r,n,i,s,t[0],4096336452,6),s=fa(s,r,n,i,t[7],1126891415,10),i=fa(i,s,r,n,t[14],2878612391,15),n=fa(n,i,s,r,t[5],4237533241,21),r=fa(r,n,i,s,t[12],1700485571,6),s=fa(s,r,n,i,t[3],2399980690,10),i=fa(i,s,r,n,t[10],4293915773,15),n=fa(n,i,s,r,t[1],2240044497,21),r=fa(r,n,i,s,t[8],1873313359,6),s=fa(s,r,n,i,t[15],4264355552,10),i=fa(i,s,r,n,t[6],2734768916,15),n=fa(n,i,s,r,t[13],1309151649,21),r=fa(r,n,i,s,t[4],4149444226,6),s=fa(s,r,n,i,t[11],3174756917,10),i=fa(i,s,r,n,t[2],718787259,15),n=fa(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};vT.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=yGe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function _T(t,e){return t<<e|t>>>32-e}o(_T,"rotl");function sa(t,e,r,n,i,s,a){return _T(t+(e&r|~e&n)+i+s|0,a)+e|0}o(sa,"fnF");function aa(t,e,r,n,i,s,a){return _T(t+(e&n|r&~n)+i+s|0,a)+e|0}o(aa,"fnG");function ca(t,e,r,n,i,s,a){return _T(t+(e^r^n)+i+s|0,a)+e|0}o(ca,"fnH");function fa(t,e,r,n,i,s,a){return _T(t+(r^(e|~n))+i+s|0,a)+e|0}o(fa,"fnI");fde.exports=vT});var UU=j((Utr,gde)=>{"use strict";p();m();var DU=li().Buffer,xGe=Zt(),mde=LU(),vGe=new Array(16),xS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],wS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],SS=[0,1518500249,1859775393,2400959708,2840853838],ES=[1352829926,1548603684,1836072691,2053994217,0];function ST(){mde.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(ST,"RIPEMD160");xGe(ST,mde);ST.prototype._update=function(){for(var t=vGe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._a|0,u=this._b|0,h=this._c|0,y=this._d|0,g=this._e|0,S=0;S<80;S+=1){var T,O;S<16?(T=ude(r,n,i,s,a,t[xS[S]],SS[0],_S[S]),O=pde(c,u,h,y,g,t[vS[S]],ES[0],wS[S])):S<32?(T=lde(r,n,i,s,a,t[xS[S]],SS[1],_S[S]),O=hde(c,u,h,y,g,t[vS[S]],ES[1],wS[S])):S<48?(T=dde(r,n,i,s,a,t[xS[S]],SS[2],_S[S]),O=dde(c,u,h,y,g,t[vS[S]],ES[2],wS[S])):S<64?(T=hde(r,n,i,s,a,t[xS[S]],SS[3],_S[S]),O=lde(c,u,h,y,g,t[vS[S]],ES[3],wS[S])):(T=pde(r,n,i,s,a,t[xS[S]],SS[4],_S[S]),O=ude(c,u,h,y,g,t[vS[S]],ES[4],wS[S])),r=a,a=s,s=my(i,10),i=n,n=T,c=g,g=y,y=my(h,10),h=u,u=O}var M=this._b+i+y|0;this._b=this._c+s+g|0,this._c=this._d+a+c|0,this._d=this._e+r+u|0,this._e=this._a+n+h|0,this._a=M};ST.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=DU.alloc?DU.alloc(20):new DU(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function my(t,e){return t<<e|t>>>32-e}o(my,"rotl");function ude(t,e,r,n,i,s,a,c){return my(t+(e^r^n)+s+a|0,c)+i|0}o(ude,"fn1");function lde(t,e,r,n,i,s,a,c){return my(t+(e&r|~e&n)+s+a|0,c)+i|0}o(lde,"fn2");function dde(t,e,r,n,i,s,a,c){return my(t+((e|~r)^n)+s+a|0,c)+i|0}o(dde,"fn3");function hde(t,e,r,n,i,s,a,c){return my(t+(e&n|r&~n)+s+a|0,c)+i|0}o(hde,"fn4");function pde(t,e,r,n,i,s,a,c){return my(t+(e^(r|~n))+s+a|0,c)+i|0}o(pde,"fn5");gde.exports=ST});var bde=j((Vtr,yde)=>{p();m();var _Ge={}.toString;yde.exports=Array.isArray||function(t){return _Ge.call(t)=="[object Array]"}});var Rp=j((Ktr,xde)=>{"use strict";p();m();xde.exports=TypeError});var FU=j((Wtr,vde)=>{"use strict";p();m();vde.exports=Object});var ET=j((Ztr,_de)=>{"use strict";p();m();_de.exports=Error});var AT=j((err,wde)=>{"use strict";p();m();wde.exports=EvalError});var TT=j((nrr,Sde)=>{"use strict";p();m();Sde.exports=RangeError});var IT=j((srr,Ede)=>{"use strict";p();m();Ede.exports=ReferenceError});var AS=j((frr,Ade)=>{"use strict";p();m();Ade.exports=SyntaxError});var RT=j((drr,Tde)=>{"use strict";p();m();Tde.exports=URIError});var Rde=j((mrr,Ide)=>{"use strict";p();m();Ide.exports=Math.abs});var Mde=j((brr,Ode)=>{"use strict";p();m();Ode.exports=Math.floor});var Cde=j((_rr,Nde)=>{"use strict";p();m();Nde.exports=Math.max});var Bde=j((Err,kde)=>{"use strict";p();m();kde.exports=Math.min});var Lde=j((Irr,Pde)=>{"use strict";p();m();Pde.exports=Math.pow});var Ude=j((Mrr,Dde)=>{"use strict";p();m();Dde.exports=Math.round});var Hde=j((krr,Fde)=>{"use strict";p();m();Fde.exports=Number.isNaN||o(function(e){return e!==e},"isNaN")});var Vde=j((Drr,qde)=>{"use strict";p();m();var wGe=Hde();qde.exports=o(function(e){return wGe(e)||e===0?e:e<0?-1:1},"sign")});var zde=j((qrr,jde)=>{"use strict";p();m();jde.exports=Object.getOwnPropertyDescriptor});var gy=j((zrr,Kde)=>{"use strict";p();m();var OT=zde();if(OT)try{OT([],"length")}catch{OT=null}Kde.exports=OT});var TS=j((Grr,$de)=>{"use strict";p();m();var MT=Object.defineProperty||!1;if(MT)try{MT({},"a",{value:1})}catch{MT=!1}$de.exports=MT});var HU=j((Xrr,Gde)=>{"use strict";p();m();Gde.exports=o(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==i||c.enumerable!==!0)return!1}return!0},"hasSymbols")});var NT=j((enr,Yde)=>{"use strict";p();m();var Wde=typeof Symbol<"u"&&Symbol,SGe=HU();Yde.exports=o(function(){return typeof Wde!="function"||typeof Symbol!="function"||typeof Wde("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:SGe()},"hasNativeSymbols")});var qU=j((inr,Xde)=>{"use strict";p();m();Xde.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var VU=j((anr,Zde)=>{"use strict";p();m();var EGe=FU();Zde.exports=EGe.getPrototypeOf||null});var ehe=j((unr,Qde)=>{"use strict";p();m();var AGe="Function.prototype.bind called on incompatible ",TGe=Object.prototype.toString,IGe=Math.max,RGe="[object Function]",Jde=o(function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},"concatty"),OGe=o(function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},"slicy"),MGe=o(function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},"joiny");Qde.exports=o(function(e){var r=this;if(typeof r!="function"||TGe.apply(r)!==RGe)throw new TypeError(AGe+r);for(var n=OGe(arguments,1),i,s=o(function(){if(this instanceof i){var y=r.apply(this,Jde(n,arguments));return Object(y)===y?y:this}return r.apply(e,Jde(n,arguments))},"binder"),a=IGe(0,r.length-n.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(i=Function("binder","return function ("+MGe(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=o(function(){},"Empty");h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},"bind")});var Op=j((pnr,the)=>{"use strict";p();m();var NGe=ehe();the.exports=Function.prototype.bind||NGe});var CT=j((ynr,rhe)=>{"use strict";p();m();rhe.exports=Function.prototype.call});var kT=j((vnr,nhe)=>{"use strict";p();m();nhe.exports=Function.prototype.apply});var ohe=j((Snr,ihe)=>{"use strict";p();m();ihe.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var jU=j((Tnr,she)=>{"use strict";p();m();var CGe=Op(),kGe=kT(),BGe=CT(),PGe=ohe();she.exports=PGe||CGe.call(BGe,kGe)});var BT=j((Onr,ahe)=>{"use strict";p();m();var LGe=Op(),DGe=Rp(),UGe=CT(),FGe=jU();ahe.exports=o(function(e){if(e.length<1||typeof e[0]!="function")throw new DGe("a function is required");return FGe(LGe,UGe,e)},"callBindBasic")});var hhe=j((knr,dhe)=>{"use strict";p();m();var HGe=BT(),che=gy(),uhe;try{uhe=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var zU=!!uhe&&che&&che(Object.prototype,"__proto__"),lhe=Object,fhe=lhe.getPrototypeOf;dhe.exports=zU&&typeof zU.get=="function"?HGe([zU.get]):typeof fhe=="function"?o(function(e){return fhe(e==null?e:lhe(e))},"getDunder"):!1});var KU=j((Dnr,yhe)=>{"use strict";p();m();var phe=qU(),mhe=VU(),ghe=hhe();yhe.exports=phe?o(function(e){return phe(e)},"getProto"):mhe?o(function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return mhe(e)},"getProto"):ghe?o(function(e){return ghe(e)},"getProto"):null});var PT=j((qnr,bhe)=>{"use strict";p();m();var qGe=Function.prototype.call,VGe=Object.prototype.hasOwnProperty,jGe=Op();bhe.exports=jGe.call(qGe,VGe)});var Ahe=j((znr,Ehe)=>{"use strict";p();m();var Dr,zGe=FU(),KGe=ET(),$Ge=AT(),GGe=TT(),WGe=IT(),Mx=AS(),Ox=Rp(),YGe=RT(),XGe=Rde(),ZGe=Mde(),JGe=Cde(),QGe=Bde(),eWe=Lde(),tWe=Ude(),rWe=Vde(),whe=Function,$U=o(function(t){try{return whe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),IS=gy(),nWe=TS(),GU=o(function(){throw new Ox},"throwTypeError"),iWe=IS?function(){try{return arguments.callee,GU}catch{try{return IS(arguments,"callee").get}catch{return GU}}}():GU,Ix=NT()(),Yo=KU(),oWe=VU(),sWe=qU(),She=kT(),RS=CT(),Rx={},aWe=typeof Uint8Array>"u"||!Yo?Dr:Yo(Uint8Array),yy={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Dr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Dr:ArrayBuffer,"%ArrayIteratorPrototype%":Ix&&Yo?Yo([][Symbol.iterator]()):Dr,"%AsyncFromSyncIteratorPrototype%":Dr,"%AsyncFunction%":Rx,"%AsyncGenerator%":Rx,"%AsyncGeneratorFunction%":Rx,"%AsyncIteratorPrototype%":Rx,"%Atomics%":typeof Atomics>"u"?Dr:Atomics,"%BigInt%":typeof BigInt>"u"?Dr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Dr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Dr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Dr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":KGe,"%eval%":eval,"%EvalError%":$Ge,"%Float16Array%":typeof Float16Array>"u"?Dr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Dr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Dr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Dr:FinalizationRegistry,"%Function%":whe,"%GeneratorFunction%":Rx,"%Int8Array%":typeof Int8Array>"u"?Dr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Dr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Dr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ix&&Yo?Yo(Yo([][Symbol.iterator]())):Dr,"%JSON%":typeof JSON=="object"?JSON:Dr,"%Map%":typeof Map>"u"?Dr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ix||!Yo?Dr:Yo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":zGe,"%Object.getOwnPropertyDescriptor%":IS,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Dr:Promise,"%Proxy%":typeof Proxy>"u"?Dr:Proxy,"%RangeError%":GGe,"%ReferenceError%":WGe,"%Reflect%":typeof Reflect>"u"?Dr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Dr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ix||!Yo?Dr:Yo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Dr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ix&&Yo?Yo(""[Symbol.iterator]()):Dr,"%Symbol%":Ix?Symbol:Dr,"%SyntaxError%":Mx,"%ThrowTypeError%":iWe,"%TypedArray%":aWe,"%TypeError%":Ox,"%Uint8Array%":typeof Uint8Array>"u"?Dr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Dr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Dr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Dr:Uint32Array,"%URIError%":YGe,"%WeakMap%":typeof WeakMap>"u"?Dr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Dr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Dr:WeakSet,"%Function.prototype.call%":RS,"%Function.prototype.apply%":She,"%Object.defineProperty%":nWe,"%Object.getPrototypeOf%":oWe,"%Math.abs%":XGe,"%Math.floor%":ZGe,"%Math.max%":JGe,"%Math.min%":QGe,"%Math.pow%":eWe,"%Math.round%":tWe,"%Math.sign%":rWe,"%Reflect.getPrototypeOf%":sWe};if(Yo)try{null.error}catch(t){xhe=Yo(Yo(t)),yy["%Error.prototype%"]=xhe}var xhe,cWe=o(function t(e){var r;if(e==="%AsyncFunction%")r=$U("async function () {}");else if(e==="%GeneratorFunction%")r=$U("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=$U("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Yo&&(r=Yo(i.prototype))}return yy[e]=r,r},"doEval"),vhe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},OS=Op(),LT=PT(),fWe=OS.call(RS,Array.prototype.concat),uWe=OS.call(She,Array.prototype.splice),_he=OS.call(RS,String.prototype.replace),DT=OS.call(RS,String.prototype.slice),lWe=OS.call(RS,RegExp.prototype.exec),dWe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hWe=/\\(\\)?/g,pWe=o(function(e){var r=DT(e,0,1),n=DT(e,-1);if(r==="%"&&n!=="%")throw new Mx("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Mx("invalid intrinsic syntax, expected opening `%`");var i=[];return _he(e,dWe,function(s,a,c,u){i[i.length]=c?_he(u,hWe,"$1"):a||s}),i},"stringToPath"),mWe=o(function(e,r){var n=e,i;if(LT(vhe,n)&&(i=vhe[n],n="%"+i[0]+"%"),LT(yy,n)){var s=yy[n];if(s===Rx&&(s=cWe(n)),typeof s>"u"&&!r)throw new Ox("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Mx("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Ehe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Ox("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ox('"allowMissing" argument must be a boolean');if(lWe(/^%?[^%]*%?$/,e)===null)throw new Mx("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=pWe(e),i=n.length>0?n[0]:"",s=mWe("%"+i+"%",r),a=s.name,c=s.value,u=!1,h=s.alias;h&&(i=h[0],uWe(n,fWe([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var S=n[y],T=DT(S,0,1),O=DT(S,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new Mx("property names with quotes must have matching quotes");if((S==="constructor"||!g)&&(u=!0),i+="."+S,a="%"+i+"%",LT(yy,a))c=yy[a];else if(c!=null){if(!(S in c)){if(!r)throw new Ox("base intrinsic for "+e+" exists, but the property is not available.");return}if(IS&&y+1>=n.length){var M=IS(c,S);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[S]}else g=LT(c,S),c=c[S];g&&!u&&(yy[a]=c)}}return c},"GetIntrinsic")});var WU=j((Wnr,Rhe)=>{"use strict";p();m();var The=Ahe(),Ihe=BT(),gWe=Ihe([The("%String.prototype.indexOf%")]);Rhe.exports=o(function(e,r){var n=The(e,!!r);return typeof n=="function"&&gWe(e,".prototype.")>-1?Ihe([n]):n},"callBoundIntrinsic")});var Che=j((Jnr,Nhe)=>{"use strict";p();m();var Mhe=Function.prototype.toString,Nx=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,XU,UT;if(typeof Nx=="function"&&typeof Object.defineProperty=="function")try{XU=Object.defineProperty({},"length",{get:o(function(){throw UT},"get")}),UT={},Nx(function(){throw 42},null,XU)}catch(t){t!==UT&&(Nx=null)}else Nx=null;var yWe=/^\s*class\b/,ZU=o(function(e){try{var r=Mhe.call(e);return yWe.test(r)}catch{return!1}},"isES6ClassFunction"),YU=o(function(e){try{return ZU(e)?!1:(Mhe.call(e),!0)}catch{return!1}},"tryFunctionToStr"),FT=Object.prototype.toString,bWe="[object Object]",xWe="[object Function]",vWe="[object GeneratorFunction]",_We="[object HTMLAllCollection]",wWe="[object HTML document.all class]",SWe="[object HTMLCollection]",EWe=typeof Symbol=="function"&&!!Symbol.toStringTag,AWe=!(0 in[,]),JU=o(function(){return!1},"isDocumentDotAll");typeof document=="object"&&(Ohe=document.all,FT.call(Ohe)===FT.call(document.all)&&(JU=o(function(e){if((AWe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=FT.call(e);return(r===_We||r===wWe||r===SWe||r===bWe)&&e("")==null}catch{}return!1},"isDocumentDotAll")));var Ohe;Nhe.exports=o(Nx?function(e){if(JU(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Nx(e,null,XU)}catch(r){if(r!==UT)return!1}return!ZU(e)&&YU(e)}:function(e){if(JU(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(EWe)return YU(e);if(ZU(e))return!1;var r=FT.call(e);return r!==xWe&&r!==vWe&&!/^\[object HTML/.test(r)?!1:YU(e)},"isCallable")});var Phe=j((rir,Bhe)=>{"use strict";p();m();var TWe=Che(),IWe=Object.prototype.toString,khe=Object.prototype.hasOwnProperty,RWe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)khe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachArray"),OWe=o(function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},"forEachString"),MWe=o(function(e,r,n){for(var i in e)khe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},"forEachObject");function NWe(t){return IWe.call(t)==="[object Array]"}o(NWe,"isArray");Bhe.exports=o(function(e,r,n){if(!TWe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),NWe(e)?RWe(e,r,i):typeof e=="string"?OWe(e,r,i):MWe(e,r,i)},"forEach")});var Dhe=j((sir,Lhe)=>{"use strict";p();m();Lhe.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var Fhe=j((fir,Uhe)=>{"use strict";p();m();var QU=Dhe(),CWe=typeof globalThis>"u"?self:globalThis;Uhe.exports=o(function(){for(var e=[],r=0;r<QU.length;r++)typeof CWe[QU[r]]=="function"&&(e[e.length]=QU[r]);return e},"availableTypedArrays")});var eF=j((hir,qhe)=>{"use strict";p();m();var Hhe={foo:{}},kWe=Object;qhe.exports=o(function(){return{__proto__:Hhe}.foo===Hhe.foo&&!({__proto__:null}instanceof kWe)},"hasProto")});var Ghe=j((yir,$he)=>{"use strict";p();m();var qr,BWe=ET(),PWe=AT(),LWe=TT(),DWe=IT(),Px=AS(),Bx=Rp(),UWe=RT(),Khe=Function,tF=o(function(t){try{return Khe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),by=Object.getOwnPropertyDescriptor;if(by)try{by({},"")}catch{by=null}var rF=o(function(){throw new Bx},"throwTypeError"),FWe=by?function(){try{return arguments.callee,rF}catch{try{return by(arguments,"callee").get}catch{return rF}}}():rF,Cx=NT()(),HWe=eF()(),Xo=Object.getPrototypeOf||(HWe?function(t){return t.__proto__}:null),kx={},qWe=typeof Uint8Array>"u"||!Xo?qr:Xo(Uint8Array),xy={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?qr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qr:ArrayBuffer,"%ArrayIteratorPrototype%":Cx&&Xo?Xo([][Symbol.iterator]()):qr,"%AsyncFromSyncIteratorPrototype%":qr,"%AsyncFunction%":kx,"%AsyncGenerator%":kx,"%AsyncGeneratorFunction%":kx,"%AsyncIteratorPrototype%":kx,"%Atomics%":typeof Atomics>"u"?qr:Atomics,"%BigInt%":typeof BigInt>"u"?qr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":BWe,"%eval%":eval,"%EvalError%":PWe,"%Float32Array%":typeof Float32Array>"u"?qr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qr:FinalizationRegistry,"%Function%":Khe,"%GeneratorFunction%":kx,"%Int8Array%":typeof Int8Array>"u"?qr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Cx&&Xo?Xo(Xo([][Symbol.iterator]())):qr,"%JSON%":typeof JSON=="object"?JSON:qr,"%Map%":typeof Map>"u"?qr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Cx||!Xo?qr:Xo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qr:Promise,"%Proxy%":typeof Proxy>"u"?qr:Proxy,"%RangeError%":LWe,"%ReferenceError%":DWe,"%Reflect%":typeof Reflect>"u"?qr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Cx||!Xo?qr:Xo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Cx&&Xo?Xo(""[Symbol.iterator]()):qr,"%Symbol%":Cx?Symbol:qr,"%SyntaxError%":Px,"%ThrowTypeError%":FWe,"%TypedArray%":qWe,"%TypeError%":Bx,"%Uint8Array%":typeof Uint8Array>"u"?qr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qr:Uint32Array,"%URIError%":UWe,"%WeakMap%":typeof WeakMap>"u"?qr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qr:WeakSet};if(Xo)try{null.error}catch(t){Vhe=Xo(Xo(t)),xy["%Error.prototype%"]=Vhe}var Vhe,VWe=o(function t(e){var r;if(e==="%AsyncFunction%")r=tF("async function () {}");else if(e==="%GeneratorFunction%")r=tF("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=tF("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Xo&&(r=Xo(i.prototype))}return xy[e]=r,r},"doEval"),jhe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},MS=Op(),HT=PT(),jWe=MS.call(Function.call,Array.prototype.concat),zWe=MS.call(Function.apply,Array.prototype.splice),zhe=MS.call(Function.call,String.prototype.replace),qT=MS.call(Function.call,String.prototype.slice),KWe=MS.call(Function.call,RegExp.prototype.exec),$We=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,GWe=/\\(\\)?/g,WWe=o(function(e){var r=qT(e,0,1),n=qT(e,-1);if(r==="%"&&n!=="%")throw new Px("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Px("invalid intrinsic syntax, expected opening `%`");var i=[];return zhe(e,$We,function(s,a,c,u){i[i.length]=c?zhe(u,GWe,"$1"):a||s}),i},"stringToPath"),YWe=o(function(e,r){var n=e,i;if(HT(jhe,n)&&(i=jhe[n],n="%"+i[0]+"%"),HT(xy,n)){var s=xy[n];if(s===kx&&(s=VWe(n)),typeof s>"u"&&!r)throw new Bx("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Px("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");$he.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new Bx("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Bx('"allowMissing" argument must be a boolean');if(KWe(/^%?[^%]*%?$/,e)===null)throw new Px("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=WWe(e),i=n.length>0?n[0]:"",s=YWe("%"+i+"%",r),a=s.name,c=s.value,u=!1,h=s.alias;h&&(i=h[0],zWe(n,jWe([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var S=n[y],T=qT(S,0,1),O=qT(S,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new Px("property names with quotes must have matching quotes");if((S==="constructor"||!g)&&(u=!0),i+="."+S,a="%"+i+"%",HT(xy,a))c=xy[a];else if(c!=null){if(!(S in c)){if(!r)throw new Bx("base intrinsic for "+e+" exists, but the property is not available.");return}if(by&&y+1>=n.length){var M=by(c,S);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[S]}else g=HT(c,S),c=c[S];g&&!u&&(xy[a]=c)}}return c},"GetIntrinsic")});var Zhe=j((_ir,Xhe)=>{"use strict";p();m();var Whe=TS(),XWe=AS(),Lx=Rp(),Yhe=gy();Xhe.exports=o(function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Lx("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Lx("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Lx("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Lx("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Lx("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Lx("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,u=!!Yhe&&Yhe(e,r);if(Whe)Whe(e,r,{configurable:a===null&&u?u.configurable:!a,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(c||!i&&!s&&!a)e[r]=n;else throw new XWe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var iF=j((Air,Qhe)=>{"use strict";p();m();var nF=TS(),Jhe=o(function(){return!!nF},"hasPropertyDescriptors");Jhe.hasArrayLengthDefineBug=o(function(){if(!nF)return null;try{return nF([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");Qhe.exports=Jhe});var i0e=j((Oir,n0e)=>{"use strict";p();m();var ZWe=Ghe(),e0e=Zhe(),JWe=iF()(),t0e=gy(),r0e=Rp(),QWe=ZWe("%Math.floor%");n0e.exports=o(function(e,r){if(typeof e!="function")throw new r0e("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||QWe(r)!==r)throw new r0e("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&t0e){var a=t0e(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(JWe?e0e(e,"length",r,!0,!0):e0e(e,"length",r)),e},"setFunctionLength")});var s0e=j((kir,o0e)=>{"use strict";p();m();var eYe=Op(),tYe=kT(),rYe=jU();o0e.exports=o(function(){return rYe(eYe,tYe,arguments)},"applyBind")});var NS=j((Dir,VT)=>{"use strict";p();m();var nYe=i0e(),a0e=TS(),iYe=BT(),c0e=s0e();VT.exports=o(function(e){var r=iYe(arguments),n=e.length-(arguments.length-1);return nYe(r,1+(n>0?n:0),!0)},"callBind");a0e?a0e(VT.exports,"apply",{value:c0e}):VT.exports.apply=c0e});var CS=j((qir,f0e)=>{"use strict";p();m();var oYe=HU();f0e.exports=o(function(){return oYe()&&!!Symbol.toStringTag},"hasToStringTagShams")});var cF=j((Kir,h0e)=>{"use strict";p();m();var KT=Phe(),sYe=Fhe(),u0e=NS(),sF=WU(),zT=gy(),jT=KU(),aYe=sF("Object.prototype.toString"),d0e=CS()(),l0e=typeof globalThis>"u"?self:globalThis,oF=sYe(),aF=sF("String.prototype.slice"),cYe=sF("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),$T={__proto__:null};d0e&&zT&&jT?KT(oF,function(t){var e=new l0e[t];if(Symbol.toStringTag in e&&jT){var r=jT(e),n=zT(r,Symbol.toStringTag);if(!n&&r){var i=jT(r);n=zT(i,Symbol.toStringTag)}$T["$"+t]=u0e(n.get)}}):KT(oF,function(t){var e=new l0e[t],r=e.slice||e.set;r&&($T["$"+t]=u0e(r))});var fYe=o(function(e){var r=!1;return KT($T,function(n,i){if(!r)try{"$"+n(e)===i&&(r=aF(i,1))}catch{}}),r},"tryAllTypedArrays"),uYe=o(function(e){var r=!1;return KT($T,function(n,i){if(!r)try{n(e),r=aF(i,1)}catch{}}),r},"tryAllSlices");h0e.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!d0e){var r=aF(aYe(e),8,-1);return cYe(oF,r)>-1?r:r!=="Object"?!1:uYe(e)}return zT?fYe(e):null},"whichTypedArray")});var m0e=j((Yir,p0e)=>{"use strict";p();m();var lYe=cF();p0e.exports=o(function(e){return!!lYe(e)},"isTypedArray")});var y0e=j((Qir,g0e)=>{"use strict";p();m();var dYe=Rp(),hYe=WU(),pYe=hYe("TypedArray.prototype.buffer",!0),mYe=m0e();g0e.exports=pYe||o(function(e){if(!mYe(e))throw new dYe("Not a Typed Array");return e.buffer},"typedArrayBuffer")});var GT=j((nor,x0e)=>{"use strict";p();m();var Ku=mr().Buffer,gYe=bde(),yYe=y0e(),bYe=ArrayBuffer.isView||o(function(e){try{return yYe(e),!0}catch{return!1}},"isView"),xYe=typeof Uint8Array<"u",b0e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",vYe=b0e&&(Ku.prototype instanceof Uint8Array||Ku.TYPED_ARRAY_SUPPORT);x0e.exports=o(function(e,r){if(Ku.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Ku.from(e):e;if(typeof e=="string")return Ku.from(e,r);if(b0e&&bYe(e)){if(e.byteLength===0)return Ku.alloc(0);if(vYe){var n=Ku.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var i=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=Ku.from(i);if(s.length===e.byteLength)return s}if(xYe&&e instanceof Uint8Array)return Ku.from(e);var a=gYe(e);if(a)for(var c=0;c<e.length;c+=1){var u=e[c];if(typeof u!="number"||u<0||u>255||~~u!==u)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||Ku.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Ku.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer")});var vy=j((aor,v0e)=>{"use strict";p();m();var _Ye=mr().Buffer,wYe=GT();function WT(t,e){this._block=_Ye.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o(WT,"Hash");WT.prototype.update=function(t,e){t=wYe(t,e||"utf8");for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var c=s%n,u=Math.min(i-a,n-c),h=0;h<u;h++)r[c+h]=t[a+h];s+=u,a+=u,s%n===0&&this._update(r)}return this._len+=i,this};WT.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};WT.prototype._update=function(){throw new Error("_update must be implemented by subclass")};v0e.exports=WT});var S0e=j((dor,w0e)=>{"use strict";p();m();var SYe=Zt(),_0e=vy(),EYe=mr().Buffer,AYe=[1518500249,1859775393,-1894007588,-899497514],TYe=new Array(80);function kS(){this.init(),this._w=TYe,_0e.call(this,64,56)}o(kS,"Sha");SYe(kS,_0e);kS.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function IYe(t){return t<<5|t>>>27}o(IYe,"rotl5");function RYe(t){return t<<30|t>>>2}o(RYe,"rotl30");function OYe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(OYe,"ft");kS.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var u=0;u<80;++u){var h=~~(u/20),y=IYe(r)+OYe(h,n,i,s)+a+e[u]+AYe[h]|0;a=s,s=i,i=RYe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};kS.prototype._hash=function(){var t=EYe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};w0e.exports=kS});var T0e=j((gor,A0e)=>{"use strict";p();m();var MYe=Zt(),E0e=vy(),NYe=mr().Buffer,CYe=[1518500249,1859775393,-1894007588,-899497514],kYe=new Array(80);function BS(){this.init(),this._w=kYe,E0e.call(this,64,56)}o(BS,"Sha1");MYe(BS,E0e);BS.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function BYe(t){return t<<1|t>>>31}o(BYe,"rotl1");function PYe(t){return t<<5|t>>>27}o(PYe,"rotl5");function LYe(t){return t<<30|t>>>2}o(LYe,"rotl30");function DYe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}o(DYe,"ft");BS.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=BYe(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var u=0;u<80;++u){var h=~~(u/20),y=PYe(r)+DYe(h,n,i,s)+a+e[u]+CYe[h]|0;a=s,s=i,i=LYe(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};BS.prototype._hash=function(){var t=NYe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};A0e.exports=BS});var fF=j((vor,R0e)=>{"use strict";p();m();var UYe=Zt(),I0e=vy(),FYe=mr().Buffer,HYe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],qYe=new Array(64);function PS(){this.init(),this._w=qYe,I0e.call(this,64,56)}o(PS,"Sha256");UYe(PS,I0e);PS.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function VYe(t,e,r){return r^t&(e^r)}o(VYe,"ch");function jYe(t,e,r){return t&e|r&(t|e)}o(jYe,"maj");function zYe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}o(zYe,"sigma0");function KYe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}o(KYe,"sigma1");function $Ye(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}o($Ye,"gamma0");function GYe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}o(GYe,"gamma1");PS.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,c=this._f|0,u=this._g|0,h=this._h|0,y=0;y<16;++y)e[y]=t.readInt32BE(y*4);for(;y<64;++y)e[y]=GYe(e[y-2])+e[y-7]+$Ye(e[y-15])+e[y-16]|0;for(var g=0;g<64;++g){var S=h+KYe(a)+VYe(a,c,u)+HYe[g]+e[g]|0,T=zYe(r)+jYe(r,n,i)|0;h=u,u=c,c=a,a=s+S|0,s=i,i=n,n=r,r=S+T|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=h+this._h|0};PS.prototype._hash=function(){var t=FYe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};R0e.exports=PS});var M0e=j((Eor,O0e)=>{"use strict";p();m();var WYe=Zt(),YYe=fF(),XYe=vy(),ZYe=mr().Buffer,JYe=new Array(64);function YT(){this.init(),this._w=JYe,XYe.call(this,64,56)}o(YT,"Sha224");WYe(YT,YYe);YT.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};YT.prototype._hash=function(){var t=ZYe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};O0e.exports=YT});var uF=j((Ror,D0e)=>{"use strict";p();m();var QYe=Zt(),L0e=vy(),eXe=mr().Buffer,N0e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],tXe=new Array(160);function LS(){this.init(),this._w=tXe,L0e.call(this,128,112)}o(LS,"Sha512");QYe(LS,L0e);LS.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function C0e(t,e,r){return r^t&(e^r)}o(C0e,"Ch");function k0e(t,e,r){return t&e|r&(t|e)}o(k0e,"maj");function B0e(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}o(B0e,"sigma0");function P0e(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}o(P0e,"sigma1");function rXe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}o(rXe,"Gamma0");function nXe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}o(nXe,"Gamma0l");function iXe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}o(iXe,"Gamma1");function oXe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}o(oXe,"Gamma1l");function Zo(t,e){return t>>>0<e>>>0?1:0}o(Zo,"getCarry");LS.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,c=this._fh|0,u=this._gh|0,h=this._hh|0,y=this._al|0,g=this._bl|0,S=this._cl|0,T=this._dl|0,O=this._el|0,M=this._fl|0,k=this._gl|0,C=this._hl|0,B=0;B<32;B+=2)e[B]=t.readInt32BE(B*4),e[B+1]=t.readInt32BE(B*4+4);for(;B<160;B+=2){var N=e[B-30],P=e[B-15*2+1],H=rXe(N,P),F=nXe(P,N);N=e[B-2*2],P=e[B-2*2+1];var Z=iXe(N,P),W=oXe(P,N),X=e[B-7*2],E=e[B-7*2+1],f=e[B-16*2],d=e[B-16*2+1],b=F+E|0,x=H+X+Zo(b,F)|0;b=b+W|0,x=x+Z+Zo(b,W)|0,b=b+d|0,x=x+f+Zo(b,d)|0,e[B]=x,e[B+1]=b}for(var _=0;_<160;_+=2){x=e[_],b=e[_+1];var A=k0e(r,n,i),I=k0e(y,g,S),v=B0e(r,y),l=B0e(y,r),w=P0e(a,O),V=P0e(O,a),q=N0e[_],U=N0e[_+1],G=C0e(a,c,u),ee=C0e(O,M,k),re=C+V|0,Oe=h+w+Zo(re,C)|0;re=re+ee|0,Oe=Oe+G+Zo(re,ee)|0,re=re+U|0,Oe=Oe+q+Zo(re,U)|0,re=re+b|0,Oe=Oe+x+Zo(re,b)|0;var ae=l+I|0,le=v+A+Zo(ae,l)|0;h=u,C=k,u=c,k=M,c=a,M=O,O=T+re|0,a=s+Oe+Zo(O,T)|0,s=i,T=S,i=n,S=g,n=r,g=y,y=re+ae|0,r=Oe+le+Zo(y,re)|0}this._al=this._al+y|0,this._bl=this._bl+g|0,this._cl=this._cl+S|0,this._dl=this._dl+T|0,this._el=this._el+O|0,this._fl=this._fl+M|0,this._gl=this._gl+k|0,this._hl=this._hl+C|0,this._ah=this._ah+r+Zo(this._al,y)|0,this._bh=this._bh+n+Zo(this._bl,g)|0,this._ch=this._ch+i+Zo(this._cl,S)|0,this._dh=this._dh+s+Zo(this._dl,T)|0,this._eh=this._eh+a+Zo(this._el,O)|0,this._fh=this._fh+c+Zo(this._fl,M)|0,this._gh=this._gh+u+Zo(this._gl,k)|0,this._hh=this._hh+h+Zo(this._hl,C)|0};LS.prototype._hash=function(){var t=eXe.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};D0e.exports=LS});var F0e=j((Cor,U0e)=>{"use strict";p();m();var sXe=Zt(),aXe=uF(),cXe=vy(),fXe=mr().Buffer,uXe=new Array(160);function XT(){this.init(),this._w=uXe,cXe.call(this,128,112)}o(XT,"Sha384");sXe(XT,aXe);XT.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};XT.prototype._hash=function(){var t=fXe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return o(e,"writeInt64BE"),e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};U0e.exports=XT});var ZT=j((Lor,Bh)=>{"use strict";p();m();Bh.exports=o(function(e){var r=e.toLowerCase(),n=Bh.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},"SHA");Bh.exports.sha=S0e();Bh.exports.sha1=T0e();Bh.exports.sha224=M0e();Bh.exports.sha256=fF();Bh.exports.sha384=F0e();Bh.exports.sha512=uF()});var dF=j((Hor,H0e)=>{p();m();H0e.exports=Hf;var lF=_x().EventEmitter,lXe=Zt();lXe(Hf,lF);Hf.Readable=uT();Hf.Writable=aT();Hf.Duplex=Sp();Hf.Transform=bT();Hf.PassThrough=kU();Hf.finished=pS();Hf.pipeline=PU();Hf.Stream=Hf;function Hf(){lF.call(this)}o(Hf,"Stream");Hf.prototype.pipe=function(t,e){var r=this;function n(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,t.end())}o(a,"onend");function c(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}o(c,"onclose");function u(y){if(h(),lF.listenerCount(this,"error")===0)throw y}o(u,"onerror"),r.on("error",u),t.on("error",u);function h(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return o(h,"cleanup"),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t}});var Ph=j((zor,V0e)=>{"use strict";p();m();var dXe=mr().Buffer,q0e=dF().Transform,hXe=Ex().StringDecoder,pXe=Zt(),mXe=GT();function $u(t){q0e.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o($u,"CipherBase");pXe($u,q0e);$u.prototype.update=function(t,e,r){var n=mXe(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};$u.prototype.setAutoPadding=function(){};$u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};$u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};$u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};$u.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};$u.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};$u.prototype._finalOrDigest=function(t){var e=this.__final()||dXe.alloc(0);return t&&(e=this._toString(e,t,!0)),e};$u.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new hXe(e),this._encoding=e),this._encoding!==e)throw new Error("can\u2019t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};V0e.exports=$u});var _y=j((Wor,z0e)=>{"use strict";p();m();var gXe=Zt(),yXe=wT(),bXe=UU(),xXe=ZT(),j0e=Ph();function JT(t){j0e.call(this,"digest"),this._hash=t}o(JT,"Hash");gXe(JT,j0e);JT.prototype._update=function(t){this._hash.update(t)};JT.prototype._final=function(){return this._hash.digest()};z0e.exports=o(function(e){return e=e.toLowerCase(),e==="md5"?new yXe:e==="rmd160"||e==="ripemd160"?new bXe:new JT(xXe(e))},"createHash")});var G0e=j((Jor,$0e)=>{"use strict";p();m();var vXe=Zt(),wy=mr().Buffer,K0e=Ph(),_Xe=wy.alloc(128),Dx=64;function QT(t,e){K0e.call(this,"digest"),typeof e=="string"&&(e=wy.from(e)),this._alg=t,this._key=e,e.length>Dx?e=t(e):e.length<Dx&&(e=wy.concat([e,_Xe],Dx));for(var r=this._ipad=wy.allocUnsafe(Dx),n=this._opad=wy.allocUnsafe(Dx),i=0;i<Dx;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}o(QT,"Hmac");vXe(QT,K0e);QT.prototype._update=function(t){this._hash.push(t)};QT.prototype._final=function(){var t=this._alg(wy.concat(this._hash));return this._alg(wy.concat([this._opad,t]))};$0e.exports=QT});var Y0e=j((rsr,W0e)=>{p();m();var wXe=wT();W0e.exports=function(t){return new wXe().update(t).digest()}});var mF=j((osr,Z0e)=>{"use strict";p();m();var SXe=Zt(),EXe=G0e(),X0e=Ph(),DS=mr().Buffer,AXe=Y0e(),hF=UU(),pF=ZT(),TXe=DS.alloc(128);function US(t,e){X0e.call(this,"digest"),typeof e=="string"&&(e=DS.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new hF:pF(t);e=n.update(e).digest()}else e.length<r&&(e=DS.concat([e,TXe],r));for(var i=this._ipad=DS.allocUnsafe(r),s=this._opad=DS.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new hF:pF(t),this._hash.update(i)}o(US,"Hmac");SXe(US,X0e);US.prototype._update=function(t){this._hash.update(t)};US.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new hF:pF(this._alg);return e.update(this._opad).update(t).digest()};Z0e.exports=o(function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new US("rmd160",r):e==="md5"?new EXe(AXe,r):new US(e,r)},"createHmac")});var gF=j((fsr,IXe)=>{IXe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Q0e=j((usr,J0e)=>{"use strict";p();m();J0e.exports=gF()});var yF=j((hsr,epe)=>{"use strict";p();m();var RXe=Math.pow(2,30)-1;epe.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>RXe||e!==e)throw new TypeError("Bad key length")}});var bF=j((gsr,rpe)=>{"use strict";p();m();var eI;self.process&&self.process.browser?eI="utf-8":self.process&&self.process.version?(tpe=parseInt(process.version.split(".")[0].slice(1),10),eI=tpe>=6?"utf-8":"binary"):eI="utf-8";var tpe;rpe.exports=eI});var ope=j((xsr,ipe)=>{"use strict";p();m();var FS=4,npe=new Buffer(FS);npe.fill(0);var OXe=8,MXe=16;function NXe(t){if(t.length%FS!==0){var e=t.length+(FS-t.length%FS);t=Buffer.concat([t,npe],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=FS,i++)r[i]=t.readInt32LE(n);return r}o(NXe,"toArray");ipe.exports=o(function(e,r){var n=r(NXe(e),e.length*OXe);e=new Buffer(MXe);for(var i=0;i<n.length;i++)e.writeInt32LE(n[i],i<<2,!0);return e},"hash")});var ape=j((Ssr,spe)=>{"use strict";p();m();var CXe=ope();function kXe(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=r,u=n,h=i,y=s;r=ua(r,n,i,s,t[a+0],7,-680876936),s=ua(s,r,n,i,t[a+1],12,-389564586),i=ua(i,s,r,n,t[a+2],17,606105819),n=ua(n,i,s,r,t[a+3],22,-1044525330),r=ua(r,n,i,s,t[a+4],7,-176418897),s=ua(s,r,n,i,t[a+5],12,1200080426),i=ua(i,s,r,n,t[a+6],17,-1473231341),n=ua(n,i,s,r,t[a+7],22,-45705983),r=ua(r,n,i,s,t[a+8],7,1770035416),s=ua(s,r,n,i,t[a+9],12,-1958414417),i=ua(i,s,r,n,t[a+10],17,-42063),n=ua(n,i,s,r,t[a+11],22,-1990404162),r=ua(r,n,i,s,t[a+12],7,1804603682),s=ua(s,r,n,i,t[a+13],12,-40341101),i=ua(i,s,r,n,t[a+14],17,-1502002290),n=ua(n,i,s,r,t[a+15],22,1236535329),r=la(r,n,i,s,t[a+1],5,-165796510),s=la(s,r,n,i,t[a+6],9,-1069501632),i=la(i,s,r,n,t[a+11],14,643717713),n=la(n,i,s,r,t[a+0],20,-373897302),r=la(r,n,i,s,t[a+5],5,-701558691),s=la(s,r,n,i,t[a+10],9,38016083),i=la(i,s,r,n,t[a+15],14,-660478335),n=la(n,i,s,r,t[a+4],20,-405537848),r=la(r,n,i,s,t[a+9],5,568446438),s=la(s,r,n,i,t[a+14],9,-1019803690),i=la(i,s,r,n,t[a+3],14,-187363961),n=la(n,i,s,r,t[a+8],20,1163531501),r=la(r,n,i,s,t[a+13],5,-1444681467),s=la(s,r,n,i,t[a+2],9,-51403784),i=la(i,s,r,n,t[a+7],14,1735328473),n=la(n,i,s,r,t[a+12],20,-1926607734),r=da(r,n,i,s,t[a+5],4,-378558),s=da(s,r,n,i,t[a+8],11,-2022574463),i=da(i,s,r,n,t[a+11],16,1839030562),n=da(n,i,s,r,t[a+14],23,-35309556),r=da(r,n,i,s,t[a+1],4,-1530992060),s=da(s,r,n,i,t[a+4],11,1272893353),i=da(i,s,r,n,t[a+7],16,-155497632),n=da(n,i,s,r,t[a+10],23,-1094730640),r=da(r,n,i,s,t[a+13],4,681279174),s=da(s,r,n,i,t[a+0],11,-358537222),i=da(i,s,r,n,t[a+3],16,-722521979),n=da(n,i,s,r,t[a+6],23,76029189),r=da(r,n,i,s,t[a+9],4,-640364487),s=da(s,r,n,i,t[a+12],11,-421815835),i=da(i,s,r,n,t[a+15],16,530742520),n=da(n,i,s,r,t[a+2],23,-995338651),r=ha(r,n,i,s,t[a+0],6,-198630844),s=ha(s,r,n,i,t[a+7],10,1126891415),i=ha(i,s,r,n,t[a+14],15,-1416354905),n=ha(n,i,s,r,t[a+5],21,-57434055),r=ha(r,n,i,s,t[a+12],6,1700485571),s=ha(s,r,n,i,t[a+3],10,-1894986606),i=ha(i,s,r,n,t[a+10],15,-1051523),n=ha(n,i,s,r,t[a+1],21,-2054922799),r=ha(r,n,i,s,t[a+8],6,1873313359),s=ha(s,r,n,i,t[a+15],10,-30611744),i=ha(i,s,r,n,t[a+6],15,-1560198380),n=ha(n,i,s,r,t[a+13],21,1309151649),r=ha(r,n,i,s,t[a+4],6,-145523070),s=ha(s,r,n,i,t[a+11],10,-1120210379),i=ha(i,s,r,n,t[a+2],15,718787259),n=ha(n,i,s,r,t[a+9],21,-343485551),r=Mp(r,c),n=Mp(n,u),i=Mp(i,h),s=Mp(s,y)}return[r,n,i,s]}o(kXe,"core_md5");function tI(t,e,r,n,i,s){return Mp(BXe(Mp(Mp(e,t),Mp(n,s)),i),r)}o(tI,"md5_cmn");function ua(t,e,r,n,i,s,a){return tI(e&r|~e&n,t,e,i,s,a)}o(ua,"md5_ff");function la(t,e,r,n,i,s,a){return tI(e&n|r&~n,t,e,i,s,a)}o(la,"md5_gg");function da(t,e,r,n,i,s,a){return tI(e^r^n,t,e,i,s,a)}o(da,"md5_hh");function ha(t,e,r,n,i,s,a){return tI(r^(e|~n),t,e,i,s,a)}o(ha,"md5_ii");function Mp(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}o(Mp,"safe_add");function BXe(t,e){return t<<e|t>>>32-e}o(BXe,"bit_rol");spe.exports=o(function(e){return CXe(e,kXe)},"md5")});var upe=j((Isr,fpe)=>{"use strict";p();m();var cpe=dF().Transform,PXe=Zt();function Np(t){cpe.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o(Np,"HashBase");PXe(Np,cpe);Np.prototype._transform=function(t,e,r){var n=null;try{e!=="buffer"&&(t=new Buffer(t,e)),this.update(t)}catch(i){n=i}r(n)};Np.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(r){e=r}t(e)};Np.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};Np.prototype._update=function(t){throw new Error("_update is not implemented")};Np.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return t!==void 0&&(e=e.toString(t)),e};Np.prototype._digest=function(){throw new Error("_digest is not implemented")};fpe.exports=Np});var hpe=j((Nsr,dpe)=>{"use strict";p();m();var LXe=Zt(),lpe=upe();function rI(){lpe.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(rI,"RIPEMD160");LXe(rI,lpe);rI.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d,a=this._e;r=ln(r,n,i,s,a,t[0],0,11),i=xe(i,10),a=ln(a,r,n,i,s,t[1],0,14),n=xe(n,10),s=ln(s,a,r,n,i,t[2],0,15),r=xe(r,10),i=ln(i,s,a,r,n,t[3],0,12),a=xe(a,10),n=ln(n,i,s,a,r,t[4],0,5),s=xe(s,10),r=ln(r,n,i,s,a,t[5],0,8),i=xe(i,10),a=ln(a,r,n,i,s,t[6],0,7),n=xe(n,10),s=ln(s,a,r,n,i,t[7],0,9),r=xe(r,10),i=ln(i,s,a,r,n,t[8],0,11),a=xe(a,10),n=ln(n,i,s,a,r,t[9],0,13),s=xe(s,10),r=ln(r,n,i,s,a,t[10],0,14),i=xe(i,10),a=ln(a,r,n,i,s,t[11],0,15),n=xe(n,10),s=ln(s,a,r,n,i,t[12],0,6),r=xe(r,10),i=ln(i,s,a,r,n,t[13],0,7),a=xe(a,10),n=ln(n,i,s,a,r,t[14],0,9),s=xe(s,10),r=ln(r,n,i,s,a,t[15],0,8),i=xe(i,10),a=dn(a,r,n,i,s,t[7],1518500249,7),n=xe(n,10),s=dn(s,a,r,n,i,t[4],1518500249,6),r=xe(r,10),i=dn(i,s,a,r,n,t[13],1518500249,8),a=xe(a,10),n=dn(n,i,s,a,r,t[1],1518500249,13),s=xe(s,10),r=dn(r,n,i,s,a,t[10],1518500249,11),i=xe(i,10),a=dn(a,r,n,i,s,t[6],1518500249,9),n=xe(n,10),s=dn(s,a,r,n,i,t[15],1518500249,7),r=xe(r,10),i=dn(i,s,a,r,n,t[3],1518500249,15),a=xe(a,10),n=dn(n,i,s,a,r,t[12],1518500249,7),s=xe(s,10),r=dn(r,n,i,s,a,t[0],1518500249,12),i=xe(i,10),a=dn(a,r,n,i,s,t[9],1518500249,15),n=xe(n,10),s=dn(s,a,r,n,i,t[5],1518500249,9),r=xe(r,10),i=dn(i,s,a,r,n,t[2],1518500249,11),a=xe(a,10),n=dn(n,i,s,a,r,t[14],1518500249,7),s=xe(s,10),r=dn(r,n,i,s,a,t[11],1518500249,13),i=xe(i,10),a=dn(a,r,n,i,s,t[8],1518500249,12),n=xe(n,10),s=hn(s,a,r,n,i,t[3],1859775393,11),r=xe(r,10),i=hn(i,s,a,r,n,t[10],1859775393,13),a=xe(a,10),n=hn(n,i,s,a,r,t[14],1859775393,6),s=xe(s,10),r=hn(r,n,i,s,a,t[4],1859775393,7),i=xe(i,10),a=hn(a,r,n,i,s,t[9],1859775393,14),n=xe(n,10),s=hn(s,a,r,n,i,t[15],1859775393,9),r=xe(r,10),i=hn(i,s,a,r,n,t[8],1859775393,13),a=xe(a,10),n=hn(n,i,s,a,r,t[1],1859775393,15),s=xe(s,10),r=hn(r,n,i,s,a,t[2],1859775393,14),i=xe(i,10),a=hn(a,r,n,i,s,t[7],1859775393,8),n=xe(n,10),s=hn(s,a,r,n,i,t[0],1859775393,13),r=xe(r,10),i=hn(i,s,a,r,n,t[6],1859775393,6),a=xe(a,10),n=hn(n,i,s,a,r,t[13],1859775393,5),s=xe(s,10),r=hn(r,n,i,s,a,t[11],1859775393,12),i=xe(i,10),a=hn(a,r,n,i,s,t[5],1859775393,7),n=xe(n,10),s=hn(s,a,r,n,i,t[12],1859775393,5),r=xe(r,10),i=pn(i,s,a,r,n,t[1],2400959708,11),a=xe(a,10),n=pn(n,i,s,a,r,t[9],2400959708,12),s=xe(s,10),r=pn(r,n,i,s,a,t[11],2400959708,14),i=xe(i,10),a=pn(a,r,n,i,s,t[10],2400959708,15),n=xe(n,10),s=pn(s,a,r,n,i,t[0],2400959708,14),r=xe(r,10),i=pn(i,s,a,r,n,t[8],2400959708,15),a=xe(a,10),n=pn(n,i,s,a,r,t[12],2400959708,9),s=xe(s,10),r=pn(r,n,i,s,a,t[4],2400959708,8),i=xe(i,10),a=pn(a,r,n,i,s,t[13],2400959708,9),n=xe(n,10),s=pn(s,a,r,n,i,t[3],2400959708,14),r=xe(r,10),i=pn(i,s,a,r,n,t[7],2400959708,5),a=xe(a,10),n=pn(n,i,s,a,r,t[15],2400959708,6),s=xe(s,10),r=pn(r,n,i,s,a,t[14],2400959708,8),i=xe(i,10),a=pn(a,r,n,i,s,t[5],2400959708,6),n=xe(n,10),s=pn(s,a,r,n,i,t[6],2400959708,5),r=xe(r,10),i=pn(i,s,a,r,n,t[2],2400959708,12),a=xe(a,10),n=mn(n,i,s,a,r,t[4],2840853838,9),s=xe(s,10),r=mn(r,n,i,s,a,t[0],2840853838,15),i=xe(i,10),a=mn(a,r,n,i,s,t[5],2840853838,5),n=xe(n,10),s=mn(s,a,r,n,i,t[9],2840853838,11),r=xe(r,10),i=mn(i,s,a,r,n,t[7],2840853838,6),a=xe(a,10),n=mn(n,i,s,a,r,t[12],2840853838,8),s=xe(s,10),r=mn(r,n,i,s,a,t[2],2840853838,13),i=xe(i,10),a=mn(a,r,n,i,s,t[10],2840853838,12),n=xe(n,10),s=mn(s,a,r,n,i,t[14],2840853838,5),r=xe(r,10),i=mn(i,s,a,r,n,t[1],2840853838,12),a=xe(a,10),n=mn(n,i,s,a,r,t[3],2840853838,13),s=xe(s,10),r=mn(r,n,i,s,a,t[8],2840853838,14),i=xe(i,10),a=mn(a,r,n,i,s,t[11],2840853838,11),n=xe(n,10),s=mn(s,a,r,n,i,t[6],2840853838,8),r=xe(r,10),i=mn(i,s,a,r,n,t[15],2840853838,5),a=xe(a,10),n=mn(n,i,s,a,r,t[13],2840853838,6),s=xe(s,10);var c=this._a,u=this._b,h=this._c,y=this._d,g=this._e;c=mn(c,u,h,y,g,t[5],1352829926,8),h=xe(h,10),g=mn(g,c,u,h,y,t[14],1352829926,9),u=xe(u,10),y=mn(y,g,c,u,h,t[7],1352829926,9),c=xe(c,10),h=mn(h,y,g,c,u,t[0],1352829926,11),g=xe(g,10),u=mn(u,h,y,g,c,t[9],1352829926,13),y=xe(y,10),c=mn(c,u,h,y,g,t[2],1352829926,15),h=xe(h,10),g=mn(g,c,u,h,y,t[11],1352829926,15),u=xe(u,10),y=mn(y,g,c,u,h,t[4],1352829926,5),c=xe(c,10),h=mn(h,y,g,c,u,t[13],1352829926,7),g=xe(g,10),u=mn(u,h,y,g,c,t[6],1352829926,7),y=xe(y,10),c=mn(c,u,h,y,g,t[15],1352829926,8),h=xe(h,10),g=mn(g,c,u,h,y,t[8],1352829926,11),u=xe(u,10),y=mn(y,g,c,u,h,t[1],1352829926,14),c=xe(c,10),h=mn(h,y,g,c,u,t[10],1352829926,14),g=xe(g,10),u=mn(u,h,y,g,c,t[3],1352829926,12),y=xe(y,10),c=mn(c,u,h,y,g,t[12],1352829926,6),h=xe(h,10),g=pn(g,c,u,h,y,t[6],1548603684,9),u=xe(u,10),y=pn(y,g,c,u,h,t[11],1548603684,13),c=xe(c,10),h=pn(h,y,g,c,u,t[3],1548603684,15),g=xe(g,10),u=pn(u,h,y,g,c,t[7],1548603684,7),y=xe(y,10),c=pn(c,u,h,y,g,t[0],1548603684,12),h=xe(h,10),g=pn(g,c,u,h,y,t[13],1548603684,8),u=xe(u,10),y=pn(y,g,c,u,h,t[5],1548603684,9),c=xe(c,10),h=pn(h,y,g,c,u,t[10],1548603684,11),g=xe(g,10),u=pn(u,h,y,g,c,t[14],1548603684,7),y=xe(y,10),c=pn(c,u,h,y,g,t[15],1548603684,7),h=xe(h,10),g=pn(g,c,u,h,y,t[8],1548603684,12),u=xe(u,10),y=pn(y,g,c,u,h,t[12],1548603684,7),c=xe(c,10),h=pn(h,y,g,c,u,t[4],1548603684,6),g=xe(g,10),u=pn(u,h,y,g,c,t[9],1548603684,15),y=xe(y,10),c=pn(c,u,h,y,g,t[1],1548603684,13),h=xe(h,10),g=pn(g,c,u,h,y,t[2],1548603684,11),u=xe(u,10),y=hn(y,g,c,u,h,t[15],1836072691,9),c=xe(c,10),h=hn(h,y,g,c,u,t[5],1836072691,7),g=xe(g,10),u=hn(u,h,y,g,c,t[1],1836072691,15),y=xe(y,10),c=hn(c,u,h,y,g,t[3],1836072691,11),h=xe(h,10),g=hn(g,c,u,h,y,t[7],1836072691,8),u=xe(u,10),y=hn(y,g,c,u,h,t[14],1836072691,6),c=xe(c,10),h=hn(h,y,g,c,u,t[6],1836072691,6),g=xe(g,10),u=hn(u,h,y,g,c,t[9],1836072691,14),y=xe(y,10),c=hn(c,u,h,y,g,t[11],1836072691,12),h=xe(h,10),g=hn(g,c,u,h,y,t[8],1836072691,13),u=xe(u,10),y=hn(y,g,c,u,h,t[12],1836072691,5),c=xe(c,10),h=hn(h,y,g,c,u,t[2],1836072691,14),g=xe(g,10),u=hn(u,h,y,g,c,t[10],1836072691,13),y=xe(y,10),c=hn(c,u,h,y,g,t[0],1836072691,13),h=xe(h,10),g=hn(g,c,u,h,y,t[4],1836072691,7),u=xe(u,10),y=hn(y,g,c,u,h,t[13],1836072691,5),c=xe(c,10),h=dn(h,y,g,c,u,t[8],2053994217,15),g=xe(g,10),u=dn(u,h,y,g,c,t[6],2053994217,5),y=xe(y,10),c=dn(c,u,h,y,g,t[4],2053994217,8),h=xe(h,10),g=dn(g,c,u,h,y,t[1],2053994217,11),u=xe(u,10),y=dn(y,g,c,u,h,t[3],2053994217,14),c=xe(c,10),h=dn(h,y,g,c,u,t[11],2053994217,14),g=xe(g,10),u=dn(u,h,y,g,c,t[15],2053994217,6),y=xe(y,10),c=dn(c,u,h,y,g,t[0],2053994217,14),h=xe(h,10),g=dn(g,c,u,h,y,t[5],2053994217,6),u=xe(u,10),y=dn(y,g,c,u,h,t[12],2053994217,9),c=xe(c,10),h=dn(h,y,g,c,u,t[2],2053994217,12),g=xe(g,10),u=dn(u,h,y,g,c,t[13],2053994217,9),y=xe(y,10),c=dn(c,u,h,y,g,t[9],2053994217,12),h=xe(h,10),g=dn(g,c,u,h,y,t[7],2053994217,5),u=xe(u,10),y=dn(y,g,c,u,h,t[10],2053994217,15),c=xe(c,10),h=dn(h,y,g,c,u,t[14],2053994217,8),g=xe(g,10),u=ln(u,h,y,g,c,t[12],0,8),y=xe(y,10),c=ln(c,u,h,y,g,t[15],0,5),h=xe(h,10),g=ln(g,c,u,h,y,t[10],0,12),u=xe(u,10),y=ln(y,g,c,u,h,t[4],0,9),c=xe(c,10),h=ln(h,y,g,c,u,t[1],0,12),g=xe(g,10),u=ln(u,h,y,g,c,t[5],0,5),y=xe(y,10),c=ln(c,u,h,y,g,t[8],0,14),h=xe(h,10),g=ln(g,c,u,h,y,t[7],0,6),u=xe(u,10),y=ln(y,g,c,u,h,t[6],0,8),c=xe(c,10),h=ln(h,y,g,c,u,t[2],0,13),g=xe(g,10),u=ln(u,h,y,g,c,t[13],0,6),y=xe(y,10),c=ln(c,u,h,y,g,t[14],0,5),h=xe(h,10),g=ln(g,c,u,h,y,t[0],0,15),u=xe(u,10),y=ln(y,g,c,u,h,t[3],0,13),c=xe(c,10),h=ln(h,y,g,c,u,t[9],0,11),g=xe(g,10),u=ln(u,h,y,g,c,t[11],0,11),y=xe(y,10);var S=this._b+i+y|0;this._b=this._c+s+g|0,this._c=this._d+a+c|0,this._d=this._e+r+u|0,this._e=this._a+n+h|0,this._a=S};rI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function xe(t,e){return t<<e|t>>>32-e}o(xe,"rotl");function ln(t,e,r,n,i,s,a,c){return xe(t+(e^r^n)+s+a|0,c)+i|0}o(ln,"fn1");function dn(t,e,r,n,i,s,a,c){return xe(t+(e&r|~e&n)+s+a|0,c)+i|0}o(dn,"fn2");function hn(t,e,r,n,i,s,a,c){return xe(t+((e|~r)^n)+s+a|0,c)+i|0}o(hn,"fn3");function pn(t,e,r,n,i,s,a,c){return xe(t+(e&n|r&~n)+s+a|0,c)+i|0}o(pn,"fn4");function mn(t,e,r,n,i,s,a,c){return xe(t+(e^(r|~n))+s+a|0,c)+i|0}o(mn,"fn5");dpe.exports=rI});var xF=j((Psr,gpe)=>{"use strict";p();m();var DXe=mr().Buffer,UXe=GT(),mpe=typeof Uint8Array<"u",FXe=mpe&&typeof ArrayBuffer<"u",ppe=FXe&&ArrayBuffer.isView;gpe.exports=function(t,e,r){if(typeof t=="string"||DXe.isBuffer(t)||mpe&&t instanceof Uint8Array||ppe&&ppe(t))return UXe(t,e);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}});var vF=j((Usr,vpe)=>{"use strict";p();m();var HXe=ape(),qXe=hpe(),VXe=ZT(),Sy=mr().Buffer,jXe=yF(),ype=bF(),bpe=xF(),zXe=Sy.alloc(128),nI={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},KXe={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function $Xe(t){return new qXe().update(t).digest()}o($Xe,"rmd160Func");function GXe(t){function e(r){return VXe(t).update(r).digest()}return o(e,"shaFunc"),t==="rmd160"||t==="ripemd160"?$Xe:t==="md5"?HXe:e}o(GXe,"getDigest");function xpe(t,e,r){var n=GXe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Sy.concat([e,zXe],i));for(var s=Sy.allocUnsafe(i+nI[t]),a=Sy.allocUnsafe(i+nI[t]),c=0;c<i;c++)s[c]=e[c]^54,a[c]=e[c]^92;var u=Sy.allocUnsafe(i+r+4);s.copy(u,0,0,i),this.ipad1=u,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=nI[t]}o(xpe,"Hmac");xpe.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function WXe(t,e,r,n,i){jXe(r,n),t=bpe(t,ype,"Password"),e=bpe(e,ype,"Salt");var s=(i||"sha1").toLowerCase(),a=KXe[s]||s,c=nI[a];if(typeof c!="number"||!c)throw new TypeError("Digest algorithm not supported: "+i);var u=new xpe(a,t,e.length),h=Sy.allocUnsafe(n),y=Sy.allocUnsafe(e.length+4);e.copy(y,0,0,e.length);for(var g=0,S=c,T=Math.ceil(n/S),O=1;O<=T;O++){y.writeUInt32BE(O,e.length);for(var M=u.run(y,u.ipad1),k=M,C=1;C<r;C++){k=u.run(k,u.ipad2);for(var B=0;B<S;B++)M[B]^=k[B]}M.copy(h,g),g+=S}return h}o(WXe,"pbkdf2");vpe.exports=WXe});var Ipe=j((Vsr,Tpe)=>{"use strict";p();m();var Epe=mr().Buffer,YXe=yF(),_pe=bF(),wpe=vF(),Spe=xF(),iI,HS=self.crypto&&self.crypto.subtle,XXe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_F=[],Ey;function wF(){return Ey||(self.process&&self.process.nextTick?Ey=self.process.nextTick:self.queueMicrotask?Ey=self.queueMicrotask:self.setImmediate?Ey=self.setImmediate:Ey=self.setTimeout,Ey)}o(wF,"getNextTick");function Ape(t,e,r,n,i){return HS.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return HS.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Epe.from(s)})}o(Ape,"browserPbkdf2");function ZXe(t){if(self.process&&!self.process.browser||!HS||!HS.importKey||!HS.deriveBits)return Promise.resolve(!1);if(_F[t]!==void 0)return _F[t];iI=iI||Epe.alloc(8);var e=Ape(iI,iI,10,128,t).then(function(){return!0},function(){return!1});return _F[t]=e,e}o(ZXe,"checkNative");function JXe(t,e){t.then(function(r){wF()(function(){e(null,r)})},function(r){wF()(function(){e(r)})})}o(JXe,"resolvePromise");Tpe.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=XXe[i.toLowerCase()];if(!a||typeof self.Promise!="function"){wF()(function(){var c;try{c=wpe(t,e,r,n,i)}catch(u){s(u);return}s(null,c)});return}if(YXe(r,n),t=Spe(t,_pe,"Password"),e=Spe(e,_pe,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");JXe(ZXe(a).then(function(c){return c?Ape(t,e,r,n,a):wpe(t,e,r,n,i)}),s)}});var oI=j(SF=>{"use strict";p();m();SF.pbkdf2=Ipe();SF.pbkdf2Sync=vF()});var EF=j(qf=>{"use strict";p();m();qf.readUInt32BE=o(function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0},"readUInt32BE");qf.writeUInt32BE=o(function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255},"writeUInt32BE");qf.ip=o(function(e,r,n,i){for(var s=0,a=0,c=6;c>=0;c-=2){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>>u+c&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>>u+c&1}for(var c=6;c>=0;c-=2){for(var u=1;u<=25;u+=8)a<<=1,a|=r>>>u+c&1;for(var u=1;u<=25;u+=8)a<<=1,a|=e>>>u+c&1}n[i+0]=s>>>0,n[i+1]=a>>>0},"ip");qf.rip=o(function(e,r,n,i){for(var s=0,a=0,c=0;c<4;c++)for(var u=24;u>=0;u-=8)s<<=1,s|=r>>>u+c&1,s<<=1,s|=e>>>u+c&1;for(var c=4;c<8;c++)for(var u=24;u>=0;u-=8)a<<=1,a|=r>>>u+c&1,a<<=1,a|=e>>>u+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"rip");qf.pc1=o(function(e,r,n,i){for(var s=0,a=0,c=7;c>=5;c--){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+c&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>u+c&1}for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+c&1;for(var c=1;c<=3;c++){for(var u=0;u<=24;u+=8)a<<=1,a|=r>>u+c&1;for(var u=0;u<=24;u+=8)a<<=1,a|=e>>u+c&1}for(var u=0;u<=24;u+=8)a<<=1,a|=e>>u+c&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc1");qf.r28shl=o(function(e,r){return e<<r&268435455|e>>>28-r},"r28shl");var sI=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];qf.pc2=o(function(e,r,n,i){for(var s=0,a=0,c=sI.length>>>1,u=0;u<c;u++)s<<=1,s|=e>>>sI[u]&1;for(var u=c;u<sI.length;u++)a<<=1,a|=r>>>sI[u]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},"pc2");qf.expand=o(function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0},"expand");var Rpe=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];qf.substitute=o(function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=Rpe[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=Rpe[4*64+i*64+s];n<<=4,n|=a}return n>>>0},"substitute");var Ope=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];qf.permute=o(function(e){for(var r=0,n=0;n<Ope.length;n++)r<<=1,r|=e>>>Ope[n]&1;return r>>>0},"permute");qf.padSplit=o(function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")},"padSplit")});var rf=j((Qsr,Npe)=>{p();m();Npe.exports=Mpe;function Mpe(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Mpe,"assert");Mpe.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual")});var aI=j((nar,Cpe)=>{"use strict";p();m();var QXe=rf();function Vf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}o(Vf,"Cipher");Cpe.exports=Vf;Vf.prototype._init=o(function(){},"_init");Vf.prototype.update=o(function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)},"update");Vf.prototype._buffer=o(function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n},"_buffer");Vf.prototype._flushBuffer=o(function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize},"_flushBuffer");Vf.prototype._updateEncrypt=o(function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s},"_updateEncrypt");Vf.prototype._updateDecrypt=o(function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s},"_updateDecrypt");Vf.prototype.final=o(function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n},"final");Vf.prototype._pad=o(function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0},"_pad");Vf.prototype._finalEncrypt=o(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},"_finalEncrypt");Vf.prototype._unpad=o(function(e){return e},"_unpad");Vf.prototype._finalDecrypt=o(function(){QXe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)},"_finalDecrypt")});var AF=j((aar,Ppe)=>{"use strict";p();m();var kpe=rf(),eZe=Zt(),Co=EF(),Bpe=aI();function tZe(){this.tmp=new Array(2),this.keys=null}o(tZe,"DESState");function ld(t){Bpe.call(this,t);var e=new tZe;this._desState=e,this.deriveKeys(e,t.key)}o(ld,"DES");eZe(ld,Bpe);Ppe.exports=ld;ld.create=o(function(e){return new ld(e)},"create");var rZe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];ld.prototype.deriveKeys=o(function(e,r){e.keys=new Array(16*2),kpe.equal(r.length,this.blockSize,"Invalid key length");var n=Co.readUInt32BE(r,0),i=Co.readUInt32BE(r,4);Co.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=rZe[s>>>1];n=Co.r28shl(n,a),i=Co.r28shl(i,a),Co.pc2(n,i,e.keys,s)}},"deriveKeys");ld.prototype._update=o(function(e,r,n,i){var s=this._desState,a=Co.readUInt32BE(e,r),c=Co.readUInt32BE(e,r+4);Co.ip(a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,c,s.tmp,0):this._decrypt(s,a,c,s.tmp,0),a=s.tmp[0],c=s.tmp[1],Co.writeUInt32BE(n,a,i),Co.writeUInt32BE(n,c,i+4)},"_update");ld.prototype._pad=o(function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0},"_pad");ld.prototype._unpad=o(function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)kpe.equal(e[n],r);return e.slice(0,e.length-r)},"_unpad");ld.prototype._encrypt=o(function(e,r,n,i,s){for(var a=r,c=n,u=0;u<e.keys.length;u+=2){var h=e.keys[u],y=e.keys[u+1];Co.expand(c,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var g=Co.substitute(h,y),S=Co.permute(g),T=c;c=(a^S)>>>0,a=T}Co.rip(c,a,i,s)},"_encrypt");ld.prototype._decrypt=o(function(e,r,n,i,s){for(var a=n,c=r,u=e.keys.length-2;u>=0;u-=2){var h=e.keys[u],y=e.keys[u+1];Co.expand(a,e.tmp,0),h^=e.tmp[0],y^=e.tmp[1];var g=Co.substitute(h,y),S=Co.permute(g),T=a;a=(c^S)>>>0,c=T}Co.rip(a,c,i,s)},"_decrypt")});var Dpe=j(Lpe=>{"use strict";p();m();var nZe=rf(),iZe=Zt(),cI={};function oZe(t){nZe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}o(oZe,"CBCState");function sZe(t){function e(s){t.call(this,s),this._cbcInit()}o(e,"CBC"),iZe(e,t);for(var r=Object.keys(cI),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=cI[i]}return e.create=o(function(a){return new e(a)},"create"),e}o(sZe,"instantiate");Lpe.instantiate=sZe;cI._cbcInit=o(function(){var e=new oZe(this.options.iv);this._cbcState=e},"_cbcInit");cI._update=o(function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,c=s.iv;if(this.type==="encrypt"){for(var u=0;u<this.blockSize;u++)c[u]^=e[r+u];a._update.call(this,c,0,n,i);for(var u=0;u<this.blockSize;u++)c[u]=n[i+u]}else{a._update.call(this,e,r,n,i);for(var u=0;u<this.blockSize;u++)n[i+u]^=c[u];for(var u=0;u<this.blockSize;u++)c[u]=e[r+u]}},"_update")});var Hpe=j((mar,Fpe)=>{"use strict";p();m();var aZe=rf(),cZe=Zt(),Upe=aI(),Cp=AF();function fZe(t,e){aZe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Cp.create({type:"encrypt",key:r}),Cp.create({type:"decrypt",key:n}),Cp.create({type:"encrypt",key:i})]:this.ciphers=[Cp.create({type:"decrypt",key:i}),Cp.create({type:"encrypt",key:n}),Cp.create({type:"decrypt",key:r})]}o(fZe,"EDEState");function Ay(t){Upe.call(this,t);var e=new fZe(this.type,this.options.key);this._edeState=e}o(Ay,"EDE");cZe(Ay,Upe);Fpe.exports=Ay;Ay.create=o(function(e){return new Ay(e)},"create");Ay.prototype._update=o(function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)},"_update");Ay.prototype._pad=Cp.prototype._pad;Ay.prototype._unpad=Cp.prototype._unpad});var qpe=j(Ux=>{"use strict";p();m();Ux.utils=EF();Ux.Cipher=aI();Ux.DES=AF();Ux.CBC=Dpe();Ux.EDE=Hpe()});var zpe=j((Sar,jpe)=>{p();m();var Vpe=Ph(),Lh=qpe(),uZe=Zt(),Ty=mr().Buffer,qS={"des-ede3-cbc":Lh.CBC.instantiate(Lh.EDE),"des-ede3":Lh.EDE,"des-ede-cbc":Lh.CBC.instantiate(Lh.EDE),"des-ede":Lh.EDE,"des-cbc":Lh.CBC.instantiate(Lh.DES),"des-ecb":Lh.DES};qS.des=qS["des-cbc"];qS.des3=qS["des-ede3-cbc"];jpe.exports=fI;uZe(fI,Vpe);function fI(t){Vpe.call(this);var e=t.mode.toLowerCase(),r=qS[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Ty.isBuffer(i)||(i=Ty.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Ty.concat([i,i.slice(0,8)]));var s=t.iv;Ty.isBuffer(s)||(s=Ty.from(s)),this._des=r.create({key:i,iv:s,type:n})}o(fI,"DES");fI.prototype._update=function(t){return Ty.from(this._des.update(t))};fI.prototype._final=function(){return Ty.from(this._des.final())}});var Kpe=j(TF=>{p();m();TF.encrypt=function(t,e){return t._cipher.encryptBlock(e)};TF.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Fx=j((Mar,$pe)=>{p();m();$pe.exports=o(function(e,r){for(var n=Math.min(e.length,r.length),i=new Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},"xor")});var Wpe=j(IF=>{p();m();var Gpe=Fx();IF.encrypt=function(t,e){var r=Gpe(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};IF.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Gpe(n,r)}});var Zpe=j(Xpe=>{p();m();var VS=mr().Buffer,lZe=Fx();function Ype(t,e,r){var n=e.length,i=lZe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=VS.concat([t._prev,r?e:i]),i}o(Ype,"encryptStart");Xpe.encrypt=function(t,e,r){for(var n=VS.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=VS.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=VS.concat([n,Ype(t,e.slice(0,i),r)]),e=e.slice(i);else{n=VS.concat([n,Ype(t,e,r)]);break}return n}});var Qpe=j(Jpe=>{p();m();var RF=mr().Buffer;function dZe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=RF.concat([t._prev.slice(1),RF.from([r?e:i])]),i}o(dZe,"encryptByte");Jpe.encrypt=function(t,e,r){for(var n=e.length,i=RF.allocUnsafe(n),s=-1;++s<n;)i[s]=dZe(t,e[s],r);return i}});var tme=j(eme=>{p();m();var uI=mr().Buffer;function hZe(t,e,r){for(var n,i=-1,s=8,a=0,c,u;++i<s;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-i?128:0,u=n[0]^c,a+=(u&128)>>i%8,t._prev=pZe(t._prev,r?c:u);return a}o(hZe,"encryptByte");function pZe(t,e){var r=t.length,n=-1,i=uI.allocUnsafe(t.length);for(t=uI.concat([t,uI.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}o(pZe,"shiftIn");eme.encrypt=function(t,e,r){for(var n=e.length,i=uI.allocUnsafe(n),s=-1;++s<n;)i[s]=hZe(t,e[s],r);return i}});var nme=j(rme=>{p();m();var mZe=Fx();function gZe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}o(gZe,"getBlock");rme.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,gZe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),mZe(e,r)}});var OF=j((Qar,ime)=>{p();m();function yZe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}o(yZe,"incr32");ime.exports=yZe});var NF=j(sme=>{p();m();var bZe=Fx(),ome=mr().Buffer,xZe=OF();function vZe(t){var e=t._cipher.encryptBlockRaw(t._prev);return xZe(t._prev),e}o(vZe,"getBlock");var MF=16;sme.encrypt=function(t,e){var r=Math.ceil(e.length/MF),n=t._cache.length;t._cache=ome.concat([t._cache,ome.allocUnsafe(r*MF)]);for(var i=0;i<r;i++){var s=vZe(t),a=n+i*MF;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),bZe(e,c)}});var CF=j((acr,_Ze)=>{_Ze.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var dI=j((ccr,ame)=>{p();m();var wZe={ECB:Kpe(),CBC:Wpe(),CFB:Zpe(),CFB8:Qpe(),CFB1:tme(),OFB:nme(),CTR:NF(),GCM:NF()},lI=CF();for(kF in lI)lI[kF].module=wZe[lI[kF].mode];var kF;ame.exports=lI});var jS=j((lcr,fme)=>{p();m();var hI=mr().Buffer;function PF(t){hI.isBuffer(t)||(t=hI.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}o(PF,"asUInt32Array");function BF(t){for(var e=0;e<t.length;t++)t[e]=0}o(BF,"scrubVec");function cme(t,e,r,n,i){for(var s=r[0],a=r[1],c=r[2],u=r[3],h=t[0]^e[0],y=t[1]^e[1],g=t[2]^e[2],S=t[3]^e[3],T,O,M,k,C=4,B=1;B<i;B++)T=s[h>>>24]^a[y>>>16&255]^c[g>>>8&255]^u[S&255]^e[C++],O=s[y>>>24]^a[g>>>16&255]^c[S>>>8&255]^u[h&255]^e[C++],M=s[g>>>24]^a[S>>>16&255]^c[h>>>8&255]^u[y&255]^e[C++],k=s[S>>>24]^a[h>>>16&255]^c[y>>>8&255]^u[g&255]^e[C++],h=T,y=O,g=M,S=k;return T=(n[h>>>24]<<24|n[y>>>16&255]<<16|n[g>>>8&255]<<8|n[S&255])^e[C++],O=(n[y>>>24]<<24|n[g>>>16&255]<<16|n[S>>>8&255]<<8|n[h&255])^e[C++],M=(n[g>>>24]<<24|n[S>>>16&255]<<16|n[h>>>8&255]<<8|n[y&255])^e[C++],k=(n[S>>>24]<<24|n[h>>>16&255]<<16|n[y>>>8&255]<<8|n[g&255])^e[C++],T=T>>>0,O=O>>>0,M=M>>>0,k=k>>>0,[T,O,M,k]}o(cme,"cryptBlock");var SZe=[0,1,2,4,8,16,32,64,128,27,54],xo=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,c=0,u=0;u<256;++u){var h=c^c<<1^c<<2^c<<3^c<<4;h=h>>>8^h&255^99,r[a]=h,n[h]=a;var y=t[a],g=t[y],S=t[g],T=t[h]*257^h*16843008;i[0][a]=T<<24|T>>>8,i[1][a]=T<<16|T>>>16,i[2][a]=T<<8|T>>>24,i[3][a]=T,T=S*16843009^g*65537^y*257^a*16843008,s[0][h]=T<<24|T>>>8,s[1][h]=T<<16|T>>>16,s[2][h]=T<<8|T>>>24,s[3][h]=T,a===0?a=c=1:(a=y^t[t[t[S^y]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function jf(t){this._key=PF(t),this._reset()}o(jf,"AES");jf.blockSize=4*4;jf.keySize=256/8;jf.prototype.blockSize=jf.blockSize;jf.prototype.keySize=jf.keySize;jf.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=xo.SBOX[a>>>24]<<24|xo.SBOX[a>>>16&255]<<16|xo.SBOX[a>>>8&255]<<8|xo.SBOX[a&255],a^=SZe[s/e|0]<<24):e>6&&s%e===4&&(a=xo.SBOX[a>>>24]<<24|xo.SBOX[a>>>16&255]<<16|xo.SBOX[a>>>8&255]<<8|xo.SBOX[a&255]),i[s]=i[s-e]^a}for(var c=[],u=0;u<n;u++){var h=n-u,y=i[h-(u%4?0:4)];u<4||h<=4?c[u]=y:c[u]=xo.INV_SUB_MIX[0][xo.SBOX[y>>>24]]^xo.INV_SUB_MIX[1][xo.SBOX[y>>>16&255]]^xo.INV_SUB_MIX[2][xo.SBOX[y>>>8&255]]^xo.INV_SUB_MIX[3][xo.SBOX[y&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c};jf.prototype.encryptBlockRaw=function(t){return t=PF(t),cme(t,this._keySchedule,xo.SUB_MIX,xo.SBOX,this._nRounds)};jf.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=hI.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};jf.prototype.decryptBlock=function(t){t=PF(t);var e=t[1];t[1]=t[3],t[3]=e;var r=cme(t,this._invKeySchedule,xo.INV_SUB_MIX,xo.INV_SBOX,this._nRounds),n=hI.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};jf.prototype.scrub=function(){BF(this._keySchedule),BF(this._invKeySchedule),BF(this._key)};fme.exports.AES=jf});var dme=j((mcr,lme)=>{p();m();var Hx=mr().Buffer,EZe=Hx.alloc(16,0);function AZe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}o(AZe,"toArray");function ume(t){var e=Hx.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}o(ume,"fromArray");function zS(t){this.h=t,this.state=Hx.alloc(16,0),this.cache=Hx.allocUnsafe(0)}o(zS,"GHASH");zS.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};zS.prototype._multiply=function(){for(var t=AZe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=ume(e)};zS.prototype.update=function(t){this.cache=Hx.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};zS.prototype.final=function(t,e){return this.cache.length&&this.ghash(Hx.concat([this.cache,EZe],16)),this.ghash(ume([0,t,0,e])),this.state};lme.exports=zS});var LF=j((xcr,mme)=>{p();m();var TZe=jS(),wc=mr().Buffer,hme=Ph(),IZe=Zt(),pme=dme(),RZe=Fx(),OZe=OF();function MZe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}o(MZe,"xorTest");function NZe(t,e,r){if(e.length===12)return t._finID=wc.concat([e,wc.from([0,0,0,1])]),wc.concat([e,wc.from([0,0,0,2])]);var n=new pme(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(wc.alloc(s,0))),n.update(wc.alloc(8,0));var a=i*8,c=wc.alloc(8);c.writeUIntBE(a,0,8),n.update(c),t._finID=n.state;var u=wc.from(t._finID);return OZe(u),u}o(NZe,"calcIv");function Iy(t,e,r,n){hme.call(this);var i=wc.alloc(4,0);this._cipher=new TZe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new pme(s),r=NZe(this,r,s),this._prev=wc.from(r),this._cache=wc.allocUnsafe(0),this._secCache=wc.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(Iy,"StreamCipher");IZe(Iy,hme);Iy.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=wc.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Iy.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=RZe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&MZe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Iy.prototype.getAuthTag=o(function(){if(this._decrypt||!wc.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag");Iy.prototype.setAuthTag=o(function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},"setAuthTag");Iy.prototype.setAAD=o(function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},"setAAD");mme.exports=Iy});var UF=j((Scr,yme)=>{p();m();var CZe=jS(),DF=mr().Buffer,gme=Ph(),kZe=Zt();function pI(t,e,r,n){gme.call(this),this._cipher=new CZe.AES(e),this._prev=DF.from(r),this._cache=DF.allocUnsafe(0),this._secCache=DF.allocUnsafe(0),this._decrypt=n,this._mode=t}o(pI,"StreamCipher");kZe(pI,gme);pI.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};pI.prototype._final=function(){this._cipher.scrub()};yme.exports=pI});var KS=j((Icr,bme)=>{p();m();var Ry=mr().Buffer,BZe=wT();function PZe(t,e,r,n){if(Ry.isBuffer(t)||(t=Ry.from(t,"binary")),e&&(Ry.isBuffer(e)||(e=Ry.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Ry.alloc(i),a=Ry.alloc(n||0),c=Ry.alloc(0);i>0||n>0;){var u=new BZe;u.update(c),u.update(t),e&&u.update(e),c=u.digest();var h=0;if(i>0){var y=s.length-i;h=Math.min(i,c.length),c.copy(s,y,0,h),i-=h}if(h<c.length&&n>0){var g=a.length-n,S=Math.min(n,c.length-h);c.copy(a,g,h,h+S),n-=S}}return c.fill(0),{key:s,iv:a}}o(PZe,"EVP_BytesToKey");bme.exports=PZe});var wme=j(FF=>{p();m();var xme=dI(),LZe=LF(),Dh=mr().Buffer,DZe=UF(),vme=Ph(),UZe=jS(),FZe=KS(),HZe=Zt();function $S(t,e,r){vme.call(this),this._cache=new mI,this._cipher=new UZe.AES(e),this._prev=Dh.from(r),this._mode=t,this._autopadding=!0}o($S,"Cipher");HZe($S,vme);$S.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Dh.concat(n)};var qZe=Dh.alloc(16,16);$S.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(qZe))throw this._cipher.scrub(),new Error("data not multiple of block length")};$S.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function mI(){this.cache=Dh.allocUnsafe(0)}o(mI,"Splitter");mI.prototype.add=function(t){this.cache=Dh.concat([this.cache,t])};mI.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};mI.prototype.flush=function(){for(var t=16-this.cache.length,e=Dh.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Dh.concat([this.cache,e])};function _me(t,e,r){var n=xme[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Dh.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Dh.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new DZe(n.module,e,r):n.type==="auth"?new LZe(n.module,e,r):new $S(n.module,e,r)}o(_me,"createCipheriv");function VZe(t,e){var r=xme[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=FZe(e,!1,r.key,r.iv);return _me(t,n.key,n.iv)}o(VZe,"createCipher");FF.createCipheriv=_me;FF.createCipher=VZe});var Tme=j(HF=>{p();m();var jZe=LF(),qx=mr().Buffer,Sme=dI(),zZe=UF(),Eme=Ph(),KZe=jS(),$Ze=KS(),GZe=Zt();function GS(t,e,r){Eme.call(this),this._cache=new gI,this._last=void 0,this._cipher=new KZe.AES(e),this._prev=qx.from(r),this._mode=t,this._autopadding=!0}o(GS,"Decipher");GZe(GS,Eme);GS.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return qx.concat(n)};GS.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return WZe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};GS.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function gI(){this.cache=qx.allocUnsafe(0)}o(gI,"Splitter");gI.prototype.add=function(t){this.cache=qx.concat([this.cache,t])};gI.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};gI.prototype.flush=function(){if(this.cache.length)return this.cache};function WZe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}o(WZe,"unpad");function Ame(t,e,r){var n=Sme[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=qx.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=qx.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new zZe(n.module,e,r,!0):n.type==="auth"?new jZe(n.module,e,r,!0):new GS(n.module,e,r)}o(Ame,"createDecipheriv");function YZe(t,e){var r=Sme[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=$Ze(e,!1,r.key,r.iv);return Ame(t,n.key,n.iv)}o(YZe,"createDecipher");HF.createDecipher=YZe;HF.createDecipheriv=Ame});var yI=j(Gu=>{p();m();var Ime=wme(),Rme=Tme(),XZe=CF();function ZZe(){return Object.keys(XZe)}o(ZZe,"getCiphers");Gu.createCipher=Gu.Cipher=Ime.createCipher;Gu.createCipheriv=Gu.Cipheriv=Ime.createCipheriv;Gu.createDecipher=Gu.Decipher=Rme.createDecipher;Gu.createDecipheriv=Gu.Decipheriv=Rme.createDecipheriv;Gu.listCiphers=Gu.getCiphers=ZZe});var Ome=j(Uh=>{p();m();Uh["des-ecb"]={key:8,iv:0};Uh["des-cbc"]=Uh.des={key:8,iv:8};Uh["des-ede3-cbc"]=Uh.des3={key:24,iv:8};Uh["des-ede3"]={key:24,iv:0};Uh["des-ede-cbc"]={key:16,iv:8};Uh["des-ede"]={key:16,iv:0}});var Bme=j(Wu=>{p();m();var Mme=zpe(),qF=yI(),kp=dI(),Fh=Ome(),Nme=KS();function JZe(t,e){t=t.toLowerCase();var r,n;if(kp[t])r=kp[t].key,n=kp[t].iv;else if(Fh[t])r=Fh[t].key*8,n=Fh[t].iv;else throw new TypeError("invalid suite type");var i=Nme(e,!1,r,n);return Cme(t,i.key,i.iv)}o(JZe,"createCipher");function QZe(t,e){t=t.toLowerCase();var r,n;if(kp[t])r=kp[t].key,n=kp[t].iv;else if(Fh[t])r=Fh[t].key*8,n=Fh[t].iv;else throw new TypeError("invalid suite type");var i=Nme(e,!1,r,n);return kme(t,i.key,i.iv)}o(QZe,"createDecipher");function Cme(t,e,r){if(t=t.toLowerCase(),kp[t])return qF.createCipheriv(t,e,r);if(Fh[t])return new Mme({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}o(Cme,"createCipheriv");function kme(t,e,r){if(t=t.toLowerCase(),kp[t])return qF.createDecipheriv(t,e,r);if(Fh[t])return new Mme({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}o(kme,"createDecipheriv");function eJe(){return Object.keys(Fh).concat(qF.getCiphers())}o(eJe,"getCiphers");Wu.createCipher=Wu.Cipher=JZe;Wu.createCipheriv=Wu.Cipheriv=Cme;Wu.createDecipher=Wu.Decipher=QZe;Wu.createDecipheriv=Wu.Decipheriv=kme;Wu.listCiphers=Wu.getCiphers=eJe});var jF=j((Pme,VF)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof VF>"u"||VF,Pme)});var Dme=j((Lme,zF)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof zF>"u"||zF,Lme)});var bI=j((rfr,GF)=>{p();m();var KF;GF.exports=o(function(e){return KF||(KF=new Bp(null)),KF.generate(e)},"rand");function Bp(t){this.rand=t}o(Bp,"Rand");GF.exports.Rand=Bp;Bp.prototype.generate=o(function(e){return this._rand(e)},"generate");Bp.prototype._rand=o(function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},"_rand");if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Bp.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?Bp.prototype._rand=o(function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r},"_rand"):typeof self=="object"&&(Bp.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if($F=Vx(),typeof $F.randomBytes!="function")throw new Error("Not supported");Bp.prototype._rand=o(function(e){return $F.randomBytes(e)},"_rand")}catch{}var $F});var WF=j((sfr,Ume)=>{p();m();var Oy=Dme(),tJe=bI();function My(t){this.rand=t||new tJe.Rand}o(My,"MillerRabin");Ume.exports=My;My.create=o(function(e){return new My(e)},"create");My.prototype._randbelow=o(function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Oy(this.rand.generate(n));while(i.cmp(e)>=0);return i},"_randbelow");My.prototype._randrange=o(function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))},"_randrange");My.prototype.test=o(function(e,r,n){var i=e.bitLength(),s=Oy.mont(e),a=new Oy(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var c=e.subn(1),u=0;!c.testn(u);u++);for(var h=e.shrn(u),y=c.toRed(s),g=!0;r>0;r--){var S=this._randrange(new Oy(2),c);n&&n(S);var T=S.toRed(s).redPow(h);if(!(T.cmp(a)===0||T.cmp(y)===0)){for(var O=1;O<u;O++){if(T=T.redSqr(),T.cmp(a)===0)return!1;if(T.cmp(y)===0)break}if(O===u)return!1}}return g},"test");My.prototype.getDivisor=o(function(e,r){var n=e.bitLength(),i=Oy.mont(e),s=new Oy(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),h=a.toRed(i);r>0;r--){var y=this._randrange(new Oy(2),a),g=e.gcd(y);if(g.cmpn(1)!==0)return g;var S=y.toRed(i).redPow(u);if(!(S.cmp(s)===0||S.cmp(h)===0)){for(var T=1;T<c;T++){if(S=S.redSqr(),S.cmp(s)===0)return S.fromRed().subn(1).gcd(e);if(S.cmp(h)===0)break}if(T===c)return S=S.redSqr(),S.fromRed().subn(1).gcd(e)}}return!1},"getDivisor")});var eH=j((pfr,qme)=>{p();m();var rJe=uy();qme.exports=QF;QF.simpleSieve=ZF;QF.fermatTest=JF;var vs=jF(),nJe=new vs(24),iJe=WF(),Fme=new iJe,oJe=new vs(1),XF=new vs(2),sJe=new vs(5),ufr=new vs(16),lfr=new vs(8),aJe=new vs(10),cJe=new vs(3),dfr=new vs(7),fJe=new vs(11),Hme=new vs(4),hfr=new vs(12),YF=null;function uJe(){if(YF!==null)return YF;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return YF=e,e}o(uJe,"_getPrimes");function ZF(t){for(var e=uJe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}o(ZF,"simpleSieve");function JF(t){var e=vs.mont(t);return XF.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}o(JF,"fermatTest");function QF(t,e){if(t<16)return e===2||e===5?new vs([140,123]):new vs([140,39]);e=new vs(e);for(var r,n;;){for(r=new vs(rJe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(oJe),r.testn(1)||r.iadd(XF),e.cmp(XF)){if(!e.cmp(sJe))for(;r.mod(aJe).cmp(cJe);)r.iadd(Hme)}else for(;r.mod(nJe).cmp(fJe);)r.iadd(Hme);if(n=r.shrn(1),ZF(n)&&ZF(r)&&JF(n)&&JF(r)&&Fme.test(n)&&Fme.test(r))return r}}o(QF,"findPrime")});var Vme=j((bfr,lJe)=>{lJe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var $me=j((xfr,Kme)=>{p();m();var zf=jF(),dJe=WF(),jme=new dJe,hJe=new zf(24),pJe=new zf(11),mJe=new zf(10),gJe=new zf(3),yJe=new zf(7),zme=eH(),bJe=uy();Kme.exports=Hh;function xJe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new zf(t),this}o(xJe,"setPublicKey");function vJe(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new zf(t),this}o(vJe,"setPrivateKey");var xI={};function _Je(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in xI)return xI[n];var i=0;if(t.isEven()||!zme.simpleSieve||!zme.fermatTest(t)||!jme.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,xI[n]=i,i;jme.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(hJe).cmp(pJe)&&(i+=8);break;case"05":s=t.mod(mJe),s.cmp(gJe)&&s.cmp(yJe)&&(i+=8);break;default:i+=4}return xI[n]=i,i}o(_Je,"checkPrime");function Hh(t,e,r){this.setGenerator(e),this.__prime=new zf(t),this._prime=zf.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=xJe,this.setPrivateKey=vJe):this._primeCode=8}o(Hh,"DH");Object.defineProperty(Hh.prototype,"verifyError",{enumerable:!0,get:o(function(){return typeof this._primeCode!="number"&&(this._primeCode=_Je(this.__prime,this.__gen)),this._primeCode},"get")});Hh.prototype.generateKeys=function(){return this._priv||(this._priv=new zf(bJe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Hh.prototype.computeSecret=function(t){t=new zf(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r};Hh.prototype.getPublicKey=o(function(e){return vI(this._pub,e)},"getPublicKey");Hh.prototype.getPrivateKey=o(function(e){return vI(this._priv,e)},"getPrivateKey");Hh.prototype.getPrime=function(t){return vI(this.__prime,t)};Hh.prototype.getGenerator=function(t){return vI(this._gen,t)};Hh.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new zf(t),this};function vI(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}o(vI,"formatReturnValue")});var Yme=j(jx=>{p();m();var wJe=eH(),Gme=Vme(),tH=$me();function SJe(t){var e=new Buffer(Gme[t].prime,"hex"),r=new Buffer(Gme[t].gen,"hex");return new tH(e,r)}o(SJe,"getDiffieHellman");var EJe={binary:!0,hex:!0,base64:!0};function Wme(t,e,r,n){return Buffer.isBuffer(e)||EJe[e]===void 0?Wme(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,n)),typeof t=="number"?new tH(wJe(t,r),r,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,e)),new tH(t,r,!0)))}o(Wme,"createDiffieHellman");jx.DiffieHellmanGroup=jx.createDiffieHellmanGroup=jx.getDiffieHellman=SJe;jx.createDiffieHellman=jx.DiffieHellman=Wme});var rH=j((Ifr,Xme)=>{p();m();Xme.exports=_x().EventEmitter});var rge=j((Mfr,tge)=>{"use strict";p();m();function Zme(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}o(Zme,"ownKeys");function Jme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zme(Object(r),!0).forEach(function(n){AJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zme(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}o(Jme,"_objectSpread");function AJe(t,e,r){return e=ege(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(AJe,"_defineProperty");function TJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(TJe,"_classCallCheck");function Qme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ege(n.key),n)}}o(Qme,"_defineProperties");function IJe(t,e,r){return e&&Qme(t.prototype,e),r&&Qme(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}o(IJe,"_createClass");function ege(t){var e=RJe(t,"string");return typeof e=="symbol"?e:String(e)}o(ege,"_toPropertyKey");function RJe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(RJe,"_toPrimitive");var OJe=li(),_I=OJe.Buffer,MJe=uS(),nH=MJe.inspect,NJe=nH&&nH.custom||"inspect";function CJe(t,e,r){_I.prototype.copy.call(t,e,r)}o(CJe,"copyBuffer");tge.exports=function(){function t(){TJe(this,t),this.head=null,this.tail=null,this.length=0}return o(t,"BufferList"),IJe(t,[{key:"push",value:o(function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},"push")},{key:"unshift",value:o(function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},"unshift")},{key:"shift",value:o(function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},"shift")},{key:"clear",value:o(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:o(function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},"join")},{key:"concat",value:o(function(r){if(this.length===0)return _I.alloc(0);for(var n=_I.allocUnsafe(r>>>0),i=this.head,s=0;i;)CJe(i.data,n,s),s+=i.data.length,i=i.next;return n},"concat")},{key:"consume",value:o(function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i},"consume")},{key:"first",value:o(function(){return this.head.data},"first")},{key:"_getString",value:o(function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,c=r>a.length?a.length:r;if(c===a.length?s+=a:s+=a.slice(0,r),r-=c,r===0){c===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(c));break}++i}return this.length-=i,s},"_getString")},{key:"_getBuffer",value:o(function(r){var n=_I.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,c=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,c),r-=c,r===0){c===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(c));break}++s}return this.length-=s,n},"_getBuffer")},{key:NJe,value:o(function(r,n){return nH(this,Jme(Jme({},n),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var oH=j((Bfr,ige)=>{"use strict";p();m();function kJe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(iH,this,t)):process.nextTick(iH,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(wI,r):(r._writableState.errorEmitted=!0,process.nextTick(nge,r,s)):process.nextTick(nge,r,s):e?(process.nextTick(wI,r),e(s)):process.nextTick(wI,r)}),this)}o(kJe,"destroy");function nge(t,e){iH(t,e),wI(t)}o(nge,"emitErrorAndCloseNT");function wI(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}o(wI,"emitCloseNT");function BJe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}o(BJe,"undestroy");function iH(t,e){t.emit("error",e)}o(iH,"emitErrorNT");function PJe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}o(PJe,"errorOrDestroy");ige.exports={destroy:kJe,undestroy:BJe,errorOrDestroy:PJe}});var Ny=j((Ufr,age)=>{"use strict";p();m();function LJe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}o(LJe,"_inheritsLoose");var sge={};function Kf(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){LJe(a,s);function a(c,u,h){return s.call(this,n(c,u,h))||this}return o(a,"NodeError"),a}(r);i.prototype.name=r.name,i.prototype.code=t,sge[t]=i}o(Kf,"createErrorType");function oge(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(oge,"oneOf");function DJe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(DJe,"startsWith");function UJe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(UJe,"endsWith");function FJe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(FJe,"includes");Kf("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Kf("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&DJe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(UJe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(oge(e,"type"));else{var s=FJe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(oge(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Kf("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Kf("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Kf("ERR_STREAM_PREMATURE_CLOSE","Premature close");Kf("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Kf("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Kf("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Kf("ERR_STREAM_WRITE_AFTER_END","write after end");Kf("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Kf("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Kf("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");age.exports.codes=sge});var sH=j((Vfr,cge)=>{"use strict";p();m();var HJe=Ny().codes.ERR_INVALID_OPT_VALUE;function qJe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}o(qJe,"highWaterMarkFrom");function VJe(t,e,r,n){var i=qJe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new HJe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}o(VJe,"getHighWaterMark");cge.exports={getHighWaterMark:VJe}});var fH=j(($fr,pge)=>{"use strict";p();m();pge.exports=Xi;function uge(t){var e=this;this.next=null,this.entry=null,this.finish=function(){mQe(e,t)}}o(uge,"CorkedRequest");var zx;Xi.WritableState=YS;var jJe={deprecate:gU()},lge=rH(),EI=li().Buffer,zJe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function KJe(t){return EI.from(t)}o(KJe,"_uint8ArrayToBuffer");function $Je(t){return EI.isBuffer(t)||t instanceof zJe}o($Je,"_isUint8Array");var cH=oH(),GJe=sH(),WJe=GJe.getHighWaterMark,Pp=Ny().codes,YJe=Pp.ERR_INVALID_ARG_TYPE,XJe=Pp.ERR_METHOD_NOT_IMPLEMENTED,ZJe=Pp.ERR_MULTIPLE_CALLBACK,JJe=Pp.ERR_STREAM_CANNOT_PIPE,QJe=Pp.ERR_STREAM_DESTROYED,eQe=Pp.ERR_STREAM_NULL_VALUES,tQe=Pp.ERR_STREAM_WRITE_AFTER_END,rQe=Pp.ERR_UNKNOWN_ENCODING,Kx=cH.errorOrDestroy;Zt()(Xi,lge);function nQe(){}o(nQe,"nop");function YS(t,e,r){zx=zx||Cy(),t=t||{},typeof r!="boolean"&&(r=e instanceof zx),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=WJe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){uQe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new uge(this)}o(YS,"WritableState");YS.prototype.getBuffer=o(function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},"getBuffer");(function(){try{Object.defineProperty(YS.prototype,"buffer",{get:jJe.deprecate(o(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var SI;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(SI=Function.prototype[Symbol.hasInstance],Object.defineProperty(Xi,Symbol.hasInstance,{value:o(function(e){return SI.call(this,e)?!0:this!==Xi?!1:e&&e._writableState instanceof YS},"value")})):SI=o(function(e){return e instanceof this},"realHasInstance");function Xi(t){zx=zx||Cy();var e=this instanceof zx;if(!e&&!SI.call(Xi,this))return new Xi(t);this._writableState=new YS(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),lge.call(this)}o(Xi,"Writable");Xi.prototype.pipe=function(){Kx(this,new JJe)};function iQe(t,e){var r=new tQe;Kx(t,r),process.nextTick(e,r)}o(iQe,"writeAfterEnd");function oQe(t,e,r,n){var i;return r===null?i=new eQe:typeof r!="string"&&!e.objectMode&&(i=new YJe("chunk",["string","Buffer"],r)),i?(Kx(t,i),process.nextTick(n,i),!1):!0}o(oQe,"validChunk");Xi.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&$Je(t);return s&&!EI.isBuffer(t)&&(t=KJe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=nQe),n.ending?iQe(this,r):(s||oQe(this,n,t,r))&&(n.pendingcb++,i=aQe(this,n,s,t,e,r)),i};Xi.prototype.cork=function(){this._writableState.corked++};Xi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&dge(this,t))};Xi.prototype.setDefaultEncoding=o(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new rQe(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Xi.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function sQe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=EI.from(e,r)),e}o(sQe,"decodeChunk");Object.defineProperty(Xi.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});function aQe(t,e,r,n,i,s){if(!r){var a=sQe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var c=e.objectMode?1:n.length;e.length+=c;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else aH(t,e,!1,c,n,i,s);return u}o(aQe,"writeOrBuffer");function aH(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new QJe("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}o(aH,"doWrite");function cQe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(WS,t,e),t._writableState.errorEmitted=!0,Kx(t,n)):(i(n),t._writableState.errorEmitted=!0,Kx(t,n),WS(t,e))}o(cQe,"onwriteError");function fQe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}o(fQe,"onwriteStateUpdate");function uQe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new ZJe;if(fQe(r),e)cQe(t,r,n,e,i);else{var s=hge(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&dge(t,r),n?process.nextTick(fge,t,r,s,i):fge(t,r,s,i)}}o(uQe,"onwrite");function fge(t,e,r,n){r||lQe(t,e),e.pendingcb--,n(),WS(t,e)}o(fge,"afterWrite");function lQe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}o(lQe,"onwriteDrain");function dge(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,aH(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new uge(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,y=r.callback,g=e.objectMode?1:u.length;if(aH(t,e,!1,g,u,h,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}o(dge,"clearBuffer");Xi.prototype._write=function(t,e,r){r(new XJe("_write()"))};Xi.prototype._writev=null;Xi.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||pQe(this,n,r),this};Object.defineProperty(Xi.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function hge(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}o(hge,"needFinish");function dQe(t,e){t._final(function(r){e.pendingcb--,r&&Kx(t,r),e.prefinished=!0,t.emit("prefinish"),WS(t,e)})}o(dQe,"callFinal");function hQe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(dQe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}o(hQe,"prefinish");function WS(t,e){var r=hge(e);if(r&&(hQe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}o(WS,"finishMaybe");function pQe(t,e,r){e.ending=!0,WS(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}o(pQe,"endWritable");function mQe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}o(mQe,"onCorkedFinish");Object.defineProperty(Xi.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:o(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Xi.prototype.destroy=cH.destroy;Xi.prototype._undestroy=cH.undestroy;Xi.prototype._destroy=function(t,e){e(t)}});var Cy=j((Xfr,gge)=>{"use strict";p();m();var gQe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};gge.exports=dd;var mge=dH(),lH=fH();Zt()(dd,mge);for(uH=gQe(lH.prototype),AI=0;AI<uH.length;AI++)TI=uH[AI],dd.prototype[TI]||(dd.prototype[TI]=lH.prototype[TI]);var uH,TI,AI;function dd(t){if(!(this instanceof dd))return new dd(t);mge.call(this,t),lH.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",yQe)))}o(dd,"Duplex");Object.defineProperty(dd.prototype,"writableHighWaterMark",{enumerable:!1,get:o(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(dd.prototype,"writableBuffer",{enumerable:!1,get:o(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(dd.prototype,"writableLength",{enumerable:!1,get:o(function(){return this._writableState.length},"get")});function yQe(){this._writableState.ended||process.nextTick(bQe,this)}o(yQe,"onend");function bQe(t){t.end()}o(bQe,"onEndNT");Object.defineProperty(dd.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:o(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var II=j((eur,xge)=>{"use strict";p();m();var yge=Ny().codes.ERR_STREAM_PREMATURE_CLOSE;function xQe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}o(xQe,"once");function vQe(){}o(vQe,"noop");function _Qe(t){return t.setHeader&&typeof t.abort=="function"}o(_Qe,"isRequest");function bge(t,e,r){if(typeof e=="function")return bge(t,null,e);e||(e={}),r=xQe(r||vQe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=o(function(){t.writable||c()},"onlegacyfinish"),a=t._writableState&&t._writableState.finished,c=o(function(){i=!1,a=!0,n||r.call(t)},"onfinish"),u=t._readableState&&t._readableState.endEmitted,h=o(function(){n=!1,u=!0,i||r.call(t)},"onend"),y=o(function(O){r.call(t,O)},"onerror"),g=o(function(){var O;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(O=new yge),r.call(t,O);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(O=new yge),r.call(t,O)},"onclose"),S=o(function(){t.req.on("finish",c)},"onrequest");return _Qe(t)?(t.on("complete",c),t.on("abort",g),t.req?S():t.on("request",S)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",h),t.on("finish",c),e.error!==!1&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",S),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}o(bge,"eos");xge.exports=bge});var _ge=j((iur,vge)=>{"use strict";p();m();var RI;function Lp(t,e,r){return e=wQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(Lp,"_defineProperty");function wQe(t){var e=SQe(t,"string");return typeof e=="symbol"?e:String(e)}o(wQe,"_toPropertyKey");function SQe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(SQe,"_toPrimitive");var EQe=II(),Dp=Symbol("lastResolve"),ky=Symbol("lastReject"),XS=Symbol("error"),OI=Symbol("ended"),By=Symbol("lastPromise"),hH=Symbol("handlePromise"),Py=Symbol("stream");function Up(t,e){return{value:t,done:e}}o(Up,"createIterResult");function AQe(t){var e=t[Dp];if(e!==null){var r=t[Py].read();r!==null&&(t[By]=null,t[Dp]=null,t[ky]=null,e(Up(r,!1)))}}o(AQe,"readAndResolve");function TQe(t){process.nextTick(AQe,t)}o(TQe,"onReadable");function IQe(t,e){return function(r,n){t.then(function(){if(e[OI]){r(Up(void 0,!0));return}e[hH](r,n)},n)}}o(IQe,"wrapForNext");var RQe=Object.getPrototypeOf(function(){}),OQe=Object.setPrototypeOf((RI={get stream(){return this[Py]},next:o(function(){var e=this,r=this[XS];if(r!==null)return Promise.reject(r);if(this[OI])return Promise.resolve(Up(void 0,!0));if(this[Py].destroyed)return new Promise(function(a,c){process.nextTick(function(){e[XS]?c(e[XS]):a(Up(void 0,!0))})});var n=this[By],i;if(n)i=new Promise(IQe(n,this));else{var s=this[Py].read();if(s!==null)return Promise.resolve(Up(s,!1));i=new Promise(this[hH])}return this[By]=i,i},"next")},Lp(RI,Symbol.asyncIterator,function(){return this}),Lp(RI,"return",o(function(){var e=this;return new Promise(function(r,n){e[Py].destroy(null,function(i){if(i){n(i);return}r(Up(void 0,!0))})})},"_return")),RI),RQe),MQe=o(function(e){var r,n=Object.create(OQe,(r={},Lp(r,Py,{value:e,writable:!0}),Lp(r,Dp,{value:null,writable:!0}),Lp(r,ky,{value:null,writable:!0}),Lp(r,XS,{value:null,writable:!0}),Lp(r,OI,{value:e._readableState.endEmitted,writable:!0}),Lp(r,hH,{value:o(function(s,a){var c=n[Py].read();c?(n[By]=null,n[Dp]=null,n[ky]=null,s(Up(c,!1))):(n[Dp]=s,n[ky]=a)},"value"),writable:!0}),r));return n[By]=null,EQe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[ky];s!==null&&(n[By]=null,n[Dp]=null,n[ky]=null,s(i)),n[XS]=i;return}var a=n[Dp];a!==null&&(n[By]=null,n[Dp]=null,n[ky]=null,a(Up(void 0,!0))),n[OI]=!0}),e.on("readable",TQe.bind(null,n)),n},"createReadableStreamAsyncIterator");vge.exports=MQe});var Sge=j((cur,wge)=>{p();m();wge.exports=function(){throw new Error("Readable.from is not available in the browser")}});var dH=j((dur,kge)=>{"use strict";p();m();kge.exports=on;var $x;on.ReadableState=Ige;var lur=_x().EventEmitter,Tge=o(function(e,r){return e.listeners(r).length},"EElistenerCount"),JS=rH(),MI=li().Buffer,NQe=(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:{}).Uint8Array||function(){};function CQe(t){return MI.from(t)}o(CQe,"_uint8ArrayToBuffer");function kQe(t){return MI.isBuffer(t)||t instanceof NQe}o(kQe,"_isUint8Array");var pH=uS(),Pr;pH&&pH.debuglog?Pr=pH.debuglog("stream"):Pr=o(function(){},"debug");var BQe=rge(),_H=oH(),PQe=sH(),LQe=PQe.getHighWaterMark,NI=Ny().codes,DQe=NI.ERR_INVALID_ARG_TYPE,UQe=NI.ERR_STREAM_PUSH_AFTER_EOF,FQe=NI.ERR_METHOD_NOT_IMPLEMENTED,HQe=NI.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Gx,mH,gH;Zt()(on,JS);var ZS=_H.errorOrDestroy,yH=["error","close","destroy","pause","resume"];function qQe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}o(qQe,"prependListener");function Ige(t,e,r){$x=$x||Cy(),t=t||{},typeof r!="boolean"&&(r=e instanceof $x),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=LQe(this,t,"readableHighWaterMark",r),this.buffer=new BQe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Gx||(Gx=Ex().StringDecoder),this.decoder=new Gx(t.encoding),this.encoding=t.encoding)}o(Ige,"ReadableState");function on(t){if($x=$x||Cy(),!(this instanceof on))return new on(t);var e=this instanceof $x;this._readableState=new Ige(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),JS.call(this)}o(on,"Readable");Object.defineProperty(on.prototype,"destroyed",{enumerable:!1,get:o(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:o(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});on.prototype.destroy=_H.destroy;on.prototype._undestroy=_H.undestroy;on.prototype._destroy=function(t,e){e(t)};on.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=MI.from(t,e),e=""),n=!0),Rge(this,t,e,!1,n)};on.prototype.unshift=function(t){return Rge(this,t,null,!0,!1)};function Rge(t,e,r,n,i){Pr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,zQe(t,s);else{var a;if(i||(a=VQe(s,e)),a)ZS(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==MI.prototype&&(e=CQe(e)),n)s.endEmitted?ZS(t,new HQe):bH(t,s,e,!0);else if(s.ended)ZS(t,new UQe);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?bH(t,s,e,!1):vH(t,s)):bH(t,s,e,!1)}else n||(s.reading=!1,vH(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}o(Rge,"readableAddChunk");function bH(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&CI(t)),vH(t,e)}o(bH,"addChunk");function VQe(t,e){var r;return!kQe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new DQe("chunk",["string","Buffer","Uint8Array"],e)),r}o(VQe,"chunkInvalid");on.prototype.isPaused=function(){return this._readableState.flowing===!1};on.prototype.setEncoding=function(t){Gx||(Gx=Ex().StringDecoder);var e=new Gx(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Ege=1073741824;function jQe(t){return t>=Ege?t=Ege:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}o(jQe,"computeNewHighWaterMark");function Age(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=jQe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}o(Age,"howMuchToRead");on.prototype.read=function(t){Pr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?xH(this):CI(this),null;if(t=Age(t,e),t===0&&e.ended)return e.length===0&&xH(this),null;var n=e.needReadable;Pr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Pr("length less than watermark",n)),e.ended||e.reading?(n=!1,Pr("reading or ended",n)):n&&(Pr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Age(r,e)));var i;return t>0?i=Nge(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&xH(this)),i!==null&&this.emit("data",i),i};function zQe(t,e){if(Pr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?CI(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Oge(t)))}}o(zQe,"onEofChunk");function CI(t){var e=t._readableState;Pr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pr("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Oge,t))}o(CI,"emitReadable");function Oge(t){var e=t._readableState;Pr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,wH(t)}o(Oge,"emitReadable_");function vH(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(KQe,t,e))}o(vH,"maybeReadMore");function KQe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Pr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}o(KQe,"maybeReadMore_");on.prototype._read=function(t){ZS(this,new FQe("_read()"))};on.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Pr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?c:M;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,C){Pr("onunpipe"),k===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}o(a,"onunpipe");function c(){Pr("onend"),t.end()}o(c,"onend");var u=$Qe(r);t.on("drain",u);var h=!1;function y(){Pr("cleanup"),t.removeListener("close",T),t.removeListener("finish",O),t.removeListener("drain",u),t.removeListener("error",S),t.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",M),r.removeListener("data",g),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}o(y,"cleanup"),r.on("data",g);function g(k){Pr("ondata");var C=t.write(k);Pr("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Cge(n.pipes,t)!==-1)&&!h&&(Pr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}o(g,"ondata");function S(k){Pr("onerror",k),M(),t.removeListener("error",S),Tge(t,"error")===0&&ZS(t,k)}o(S,"onerror"),qQe(t,"error",S);function T(){t.removeListener("finish",O),M()}o(T,"onclose"),t.once("close",T);function O(){Pr("onfinish"),t.removeListener("close",T),M()}o(O,"onfinish"),t.once("finish",O);function M(){Pr("unpipe"),r.unpipe(t)}return o(M,"unpipe"),t.emit("pipe",r),n.flowing||(Pr("pipe resume"),r.resume()),t};function $Qe(t){return o(function(){var r=t._readableState;Pr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Tge(t,"data")&&(r.flowing=!0,wH(t))},"pipeOnDrainFunctionResult")}o($Qe,"pipeOnDrain");on.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Cge(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};on.prototype.on=function(t,e){var r=JS.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pr("on readable",n.length,n.reading),n.length?CI(this):n.reading||process.nextTick(GQe,this)),r};on.prototype.addListener=on.prototype.on;on.prototype.removeListener=function(t,e){var r=JS.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Mge,this),r};on.prototype.removeAllListeners=function(t){var e=JS.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Mge,this),e};function Mge(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}o(Mge,"updateReadableListening");function GQe(t){Pr("readable nexttick read 0"),t.read(0)}o(GQe,"nReadingNextTick");on.prototype.resume=function(){var t=this._readableState;return t.flowing||(Pr("resume"),t.flowing=!t.readableListening,WQe(this,t)),t.paused=!1,this};function WQe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(YQe,t,e))}o(WQe,"resume");function YQe(t,e){Pr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),wH(t),e.flowing&&!e.reading&&t.read(0)}o(YQe,"resume_");on.prototype.pause=function(){return Pr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function wH(t){var e=t._readableState;for(Pr("flow",e.flowing);e.flowing&&t.read()!==null;);}o(wH,"flow");on.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Pr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Pr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var c=e.push(a);c||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=o(function(c){return o(function(){return t[c].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(i));for(var s=0;s<yH.length;s++)t.on(yH[s],this.emit.bind(this,yH[s]));return this._read=function(a){Pr("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(on.prototype[Symbol.asyncIterator]=function(){return mH===void 0&&(mH=_ge()),mH(this)});Object.defineProperty(on.prototype,"readableHighWaterMark",{enumerable:!1,get:o(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(on.prototype,"readableBuffer",{enumerable:!1,get:o(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(on.prototype,"readableFlowing",{enumerable:!1,get:o(function(){return this._readableState.flowing},"get"),set:o(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});on._fromList=Nge;Object.defineProperty(on.prototype,"readableLength",{enumerable:!1,get:o(function(){return this._readableState.length},"get")});function Nge(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}o(Nge,"fromList");function xH(t){var e=t._readableState;Pr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(XQe,e,t))}o(xH,"endReadable");function XQe(t,e){if(Pr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}o(XQe,"endReadableNT");typeof Symbol=="function"&&(on.from=function(t,e){return gH===void 0&&(gH=Sge()),gH(on,t,e)});function Cge(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}o(Cge,"indexOf")});var SH=j((gur,Pge)=>{"use strict";p();m();Pge.exports=qh;var kI=Ny().codes,ZQe=kI.ERR_METHOD_NOT_IMPLEMENTED,JQe=kI.ERR_MULTIPLE_CALLBACK,QQe=kI.ERR_TRANSFORM_ALREADY_TRANSFORMING,eet=kI.ERR_TRANSFORM_WITH_LENGTH_0,BI=Cy();Zt()(qh,BI);function tet(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new JQe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}o(tet,"afterTransform");function qh(t){if(!(this instanceof qh))return new qh(t);BI.call(this,t),this._transformState={afterTransform:tet.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ret)}o(qh,"Transform");function ret(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Bge(t,e,r)}):Bge(this,null,null)}o(ret,"prefinish");qh.prototype.push=function(t,e){return this._transformState.needTransform=!1,BI.prototype.push.call(this,t,e)};qh.prototype._transform=function(t,e,r){r(new ZQe("_transform()"))};qh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};qh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};qh.prototype._destroy=function(t,e){BI.prototype._destroy.call(this,t,function(r){e(r)})};function Bge(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new eet;if(t._transformState.transforming)throw new QQe;return t.push(null)}o(Bge,"done")});var Uge=j((vur,Dge)=>{"use strict";p();m();Dge.exports=QS;var Lge=SH();Zt()(QS,Lge);function QS(t){if(!(this instanceof QS))return new QS(t);Lge.call(this,t)}o(QS,"PassThrough");QS.prototype._transform=function(t,e,r){r(null,t)}});var jge=j((Eur,Vge)=>{"use strict";p();m();var EH;function net(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}o(net,"once");var qge=Ny().codes,iet=qge.ERR_MISSING_ARGS,oet=qge.ERR_STREAM_DESTROYED;function Fge(t){if(t)throw t}o(Fge,"noop");function set(t){return t.setHeader&&typeof t.abort=="function"}o(set,"isRequest");function aet(t,e,r,n){n=net(n);var i=!1;t.on("close",function(){i=!0}),EH===void 0&&(EH=II()),EH(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,set(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new oet("pipe"))}}}o(aet,"destroyer");function Hge(t){t()}o(Hge,"call");function cet(t,e){return t.pipe(e)}o(cet,"pipe");function fet(t){return!t.length||typeof t[t.length-1]!="function"?Fge:t.pop()}o(fet,"popCallback");function uet(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=fet(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new iet("streams");var i,s=e.map(function(a,c){var u=c<e.length-1,h=c>0;return aet(a,u,h,function(y){i||(i=y),y&&s.forEach(Hge),!u&&(s.forEach(Hge),n(i))})});return e.reduce(cet)}o(uet,"pipeline");Vge.exports=uet});var Kge=j(($f,zge)=>{p();m();$f=zge.exports=dH();$f.Stream=$f;$f.Readable=$f;$f.Writable=fH();$f.Duplex=Cy();$f.Transform=SH();$f.PassThrough=Uge();$f.finished=II();$f.pipeline=jge()});var PI=j((Mur,Wge)=>{p();m();var Wx=bb(),det=uy();function het(t){var e=$ge(t),r=e.toRed(Wx.mont(t.modulus)).redPow(new Wx(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}o(het,"blind");function $ge(t){var e=t.modulus.byteLength(),r;do r=new Wx(det(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}o($ge,"getr");function Gge(t,e){var r=het(e),n=e.modulus.byteLength(),i=new Wx(t).mul(r.blinder).umod(e.modulus),s=i.toRed(Wx.mont(e.prime1)),a=i.toRed(Wx.mont(e.prime2)),c=e.coefficient,u=e.prime1,h=e.prime2,y=s.redPow(e.exponent1).fromRed(),g=a.redPow(e.exponent2).fromRed(),S=y.isub(g).imul(c).umod(u).imul(h);return g.iadd(S).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",n)}o(Gge,"crt");Gge.getr=$ge;Wge.exports=Gge});var Yge=j((Bur,pet)=>{pet.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var hd=j((Xge,AH)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof AH>"u"||AH,Xge)});var TH=j(Qge=>{"use strict";p();m();var LI=Qge;function met(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}o(met,"toArray");LI.toArray=met;function Zge(t){return t.length===1?"0"+t:t}o(Zge,"zero2");LI.zero2=Zge;function Jge(t){for(var e="",r=0;r<t.length;r++)e+=Zge(t[r].toString(16));return e}o(Jge,"toHex");LI.toHex=Jge;LI.encode=o(function(e,r){return r==="hex"?Jge(e):e},"encode")});var nf=j(eye=>{"use strict";p();m();var Yu=eye,get=hd(),yet=rf(),DI=TH();Yu.assert=yet;Yu.toArray=DI.toArray;Yu.zero2=DI.zero2;Yu.toHex=DI.toHex;Yu.encode=DI.encode;function bet(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var c,u=a.andln(s-1);a.isOdd()?(u>(s>>1)-1?c=(s>>1)-u:c=u,a.isubn(c)):c=0,n[i]=c,a.iushrn(1)}return n}o(bet,"getNAF");Yu.getNAF=bet;function xet(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,c=e.andln(3)+i&3;a===3&&(a=-1),c===3&&(c=-1);var u;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&c===2?u=-a:u=a):u=0,r[0].push(u);var h;c&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?h=-c:h=c):h=0,r[1].push(h),2*n===u+1&&(n=1-n),2*i===h+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}o(xet,"getJSF");Yu.getJSF=xet;function vet(t,e,r){var n="_"+e;t.prototype[e]=o(function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)},"cachedProperty")}o(vet,"cachedProperty");Yu.cachedProperty=vet;function _et(t){return typeof t=="string"?Yu.toArray(t,"hex"):t}o(_et,"parseBytes");Yu.parseBytes=_et;function wet(t){return new get(t,"hex","le")}o(wet,"intFromLE");Yu.intFromLE=wet});var tE=j(($ur,tye)=>{"use strict";p();m();var Ly=hd(),eE=nf(),UI=eE.getNAF,Eet=eE.getJSF,FI=eE.assert;function Fp(t,e){this.type=t,this.p=new Ly(e.p,16),this.red=e.prime?Ly.red(e.prime):Ly.mont(this.p),this.zero=new Ly(0).toRed(this.red),this.one=new Ly(1).toRed(this.red),this.two=new Ly(2).toRed(this.red),this.n=e.n&&new Ly(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(Fp,"BaseCurve");tye.exports=Fp;Fp.prototype.point=o(function(){throw new Error("Not implemented")},"point");Fp.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");Fp.prototype._fixedNafMul=o(function(e,r){FI(e.precomputed);var n=e._getDoubles(),i=UI(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,u;for(c=0;c<i.length;c+=n.step){u=0;for(var h=c+n.step-1;h>=c;h--)u=(u<<1)+i[h];a.push(u)}for(var y=this.jpoint(null,null,null),g=this.jpoint(null,null,null),S=s;S>0;S--){for(c=0;c<a.length;c++)u=a[c],u===S?g=g.mixedAdd(n.points[c]):u===-S&&(g=g.mixedAdd(n.points[c].neg()));y=y.add(g)}return y.toP()},"_fixedNafMul");Fp.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=UI(r,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var h=0;u>=0&&a[u]===0;u--)h++;if(u>=0&&h++,c=c.dblp(h),u<0)break;var y=a[u];FI(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");Fp.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,u=this._wnafT3,h=0,y,g,S;for(y=0;y<i;y++){S=r[y];var T=S._getNAFPoints(e);a[y]=T.wnd,c[y]=T.points}for(y=i-1;y>=1;y-=2){var O=y-1,M=y;if(a[O]!==1||a[M]!==1){u[O]=UI(n[O],a[O],this._bitLength),u[M]=UI(n[M],a[M],this._bitLength),h=Math.max(u[O].length,h),h=Math.max(u[M].length,h);continue}var k=[r[O],null,null,r[M]];r[O].y.cmp(r[M].y)===0?(k[1]=r[O].add(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg())):r[O].y.cmp(r[M].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].add(r[M].neg())):(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],B=Eet(n[O],n[M]);for(h=Math.max(B[0].length,h),u[O]=new Array(h),u[M]=new Array(h),g=0;g<h;g++){var N=B[0][g]|0,P=B[1][g]|0;u[O][g]=C[(N+1)*3+(P+1)],u[M][g]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var Z=0;y>=0;){var W=!0;for(g=0;g<i;g++)F[g]=u[g][y]|0,F[g]!==0&&(W=!1);if(!W)break;Z++,y--}if(y>=0&&Z++,H=H.dblp(Z),y<0)break;for(g=0;g<i;g++){var X=F[g];X!==0&&(X>0?S=c[g][X-1>>1]:X<0&&(S=c[g][-X-1>>1].neg()),S.type==="affine"?H=H.mixedAdd(S):H=H.add(S))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function Gf(t,e){this.curve=t,this.type=e,this.precomputed=null}o(Gf,"BasePoint");Fp.BasePoint=Gf;Gf.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");Gf.prototype.validate=o(function(){return this.curve.validate(this)},"validate");Fp.prototype.decodePoint=o(function(e,r){e=eE.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?FI(e[e.length-1]%2===0):e[0]===7&&FI(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");Gf.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");Gf.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");Gf.prototype.encode=o(function(e,r){return eE.encode(this._encode(r),e)},"encode");Gf.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");Gf.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");Gf.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");Gf.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");Gf.prototype._getBeta=o(function(){return null},"_getBeta");Gf.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp")});var nye=j((Xur,rye)=>{"use strict";p();m();var Aet=nf(),Zi=hd(),IH=Zt(),Yx=tE(),Tet=Aet.assert;function Wf(t){Yx.call(this,"short",t),this.a=new Zi(t.a,16).toRed(this.red),this.b=new Zi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(Wf,"ShortCurve");IH(Wf,Yx);rye.exports=Wf;Wf.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Zi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Zi(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Tet(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new Zi(c.a,16),b:new Zi(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");Wf.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:Zi.mont(e),n=new Zi(2).toRed(r).redInvm(),i=n.redNeg(),s=new Zi(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");Wf.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Zi(1),a=new Zi(0),c=new Zi(0),u=new Zi(1),h,y,g,S,T,O,M,k=0,C,B;n.cmpn(0)!==0;){var N=i.div(n);C=i.sub(N.mul(n)),B=c.sub(N.mul(s));var P=u.sub(N.mul(a));if(!g&&C.cmp(r)<0)h=M.neg(),y=s,g=C.neg(),S=B;else if(g&&++k===2)break;M=C,i=n,n=C,c=s,s=B,u=a,a=P}T=C.neg(),O=B;var H=g.sqr().add(S.sqr()),F=T.sqr().add(O.sqr());return F.cmp(H)>=0&&(T=h,O=y),g.negative&&(g=g.neg(),S=S.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:g,b:S},{a:T,b:O}]},"_getEndoBasis");Wf.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),u=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),g=e.sub(c).sub(u),S=h.add(y).neg();return{k1:g,k2:S}},"_endoSplit");Wf.prototype.pointFromX=o(function(e,r){e=new Zi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");Wf.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");Wf.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),u=e[a],h=u._getBeta();c.k1.negative&&(c.k1.ineg(),u=u.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=u,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),g=0;g<a*2;g++)i[g]=null,s[g]=null;return y},"_endoWnafMulAdd");function Jo(t,e,r,n){Yx.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Zi(e,16),this.y=new Zi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(Jo,"Point");IH(Jo,Yx.BasePoint);Wf.prototype.point=o(function(e,r,n){return new Jo(this,e,r,n)},"point");Wf.prototype.pointFromJSON=o(function(e,r){return Jo.fromJSON(this,e,r)},"pointFromJSON");Jo.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");Jo.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");Jo.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");Jo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");Jo.prototype.isInfinity=o(function(){return this.inf},"isInfinity");Jo.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");Jo.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");Jo.prototype.getX=o(function(){return this.x.fromRed()},"getX");Jo.prototype.getY=o(function(){return this.y.fromRed()},"getY");Jo.prototype.mul=o(function(e){return e=new Zi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");Jo.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");Jo.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");Jo.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");Jo.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");Jo.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function _s(t,e,r,n){Yx.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Zi(0)):(this.x=new Zi(e,16),this.y=new Zi(r,16),this.z=new Zi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(_s,"JPoint");IH(_s,Yx.BasePoint);Wf.prototype.jpoint=o(function(e,r,n){return new _s(this,e,r,n)},"jpoint");_s.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");_s.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");_s.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),h=a.redSub(c);if(u.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=u.redSqr(),g=y.redMul(u),S=i.redMul(y),T=h.redSqr().redIAdd(g).redISub(S).redISub(S),O=h.redMul(S.redISub(T)).redISub(a.redMul(g)),M=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(T,O,M)},"add");_s.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),g=n.redMul(h),S=u.redSqr().redIAdd(y).redISub(g).redISub(g),T=u.redMul(g.redISub(S)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(S,T,O)},"mixedAdd");_s.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,u=this.z,h=u.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var g=a.redSqr(),S=y.redSqr(),T=S.redSqr(),O=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(h)),M=a.redMul(S),k=O.redSqr().redISub(M.redAdd(M)),C=M.redISub(k),B=O.redMul(C);B=B.redIAdd(B).redISub(T);var N=y.redMul(u);r+1<e&&(h=h.redMul(T)),a=k,u=N,y=B}return this.curve.jpoint(a,y.redMul(s),u)},"dblp");_s.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");_s.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var u=i.redAdd(i).redIAdd(i),h=u.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=u.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),S=this.y.redSqr(),T=S.redSqr(),O=this.x.redAdd(S).redSqr().redISub(g).redISub(T);O=O.redIAdd(O);var M=g.redAdd(g).redIAdd(g),k=M.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=M.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");_s.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=u.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=u.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),S=this.y.redSqr(),T=this.x.redMul(S),O=this.x.redSub(g).redMul(this.x.redAdd(g));O=O.redAdd(O).redIAdd(O);var M=T.redIAdd(T);M=M.redIAdd(M);var k=M.redAdd(M);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(S).redISub(g);var C=S.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(M.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");_s.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),g=u.redSqr().redISub(y.redAdd(y)),S=y.redISub(g),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=u.redMul(S).redISub(T),M=n.redAdd(n).redMul(i);return this.curve.jpoint(g,O,M)},"_dbl");_s.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var u=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(u).redISub(h),g=r.redMul(y);g=g.redIAdd(g),g=g.redIAdd(g);var S=this.x.redMul(u).redISub(g);S=S.redIAdd(S),S=S.redIAdd(S);var T=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(u)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(u);return this.curve.jpoint(S,T,O)},"trpl");_s.prototype.mul=o(function(e,r){return e=new Zi(e,r),this.curve._wnafMul(this,e)},"mul");_s.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");_s.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");_s.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");_s.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity")});var sye=j((elr,oye)=>{"use strict";p();m();var Xx=hd(),iye=Zt(),HI=tE(),Iet=nf();function Zx(t){HI.call(this,"mont",t),this.a=new Xx(t.a,16).toRed(this.red),this.b=new Xx(t.b,16).toRed(this.red),this.i4=new Xx(4).toRed(this.red).redInvm(),this.two=new Xx(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o(Zx,"MontCurve");iye(Zx,HI);oye.exports=Zx;Zx.prototype.validate=o(function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0},"validate");function Qo(t,e,r){HI.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Xx(e,16),this.z=new Xx(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(Qo,"Point");iye(Qo,HI.BasePoint);Zx.prototype.decodePoint=o(function(e,r){return this.point(Iet.toArray(e,r),1)},"decodePoint");Zx.prototype.point=o(function(e,r){return new Qo(this,e,r)},"point");Zx.prototype.pointFromJSON=o(function(e){return Qo.fromJSON(this,e)},"pointFromJSON");Qo.prototype.precompute=o(function(){},"precompute");Qo.prototype._encode=o(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode");Qo.fromJSON=o(function(e,r){return new Qo(e,r[0],r[1]||e.one)},"fromJSON");Qo.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");Qo.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");Qo.prototype.dbl=o(function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),c=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,c)},"dbl");Qo.prototype.add=o(function(){throw new Error("Not supported on Montgomery curve")},"add");Qo.prototype.diffAdd=o(function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),c=a.redMul(n),u=s.redMul(i),h=r.z.redMul(c.redAdd(u).redSqr()),y=r.x.redMul(c.redISub(u).redSqr());return this.curve.point(h,y)},"diffAdd");Qo.prototype.mul=o(function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var c=a.length-1;c>=0;c--)a[c]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i},"mul");Qo.prototype.mulAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd");Qo.prototype.jumlAdd=o(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd");Qo.prototype.eq=o(function(e){return this.getX().cmp(e.getX())===0},"eq");Qo.prototype.normalize=o(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize");Qo.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX")});var fye=j((ilr,cye)=>{"use strict";p();m();var Ret=nf(),Vh=hd(),aye=Zt(),qI=tE(),Oet=Ret.assert;function pd(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,qI.call(this,"edwards",t),this.a=new Vh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Vh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Vh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Oet(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}o(pd,"EdwardsCurve");aye(pd,qI);cye.exports=pd;pd.prototype._mulA=o(function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},"_mulA");pd.prototype._mulC=o(function(e){return this.oneC?e:this.c.redMul(e)},"_mulC");pd.prototype.jpoint=o(function(e,r,n,i){return this.point(e,r,n,i)},"jpoint");pd.prototype.pointFromX=o(function(e,r){e=new Vh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=c.fromRed().isOdd();return(r&&!u||!r&&u)&&(c=c.redNeg()),this.point(e,c)},"pointFromX");pd.prototype.pointFromY=o(function(e,r){e=new Vh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=a.redSqrt();if(c.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)},"pointFromY");pd.prototype.validate=o(function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0},"validate");function ni(t,e,r,n,i){qI.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Vh(e,16),this.y=new Vh(r,16),this.z=n?new Vh(n,16):this.curve.one,this.t=i&&new Vh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(ni,"Point");aye(ni,qI.BasePoint);pd.prototype.pointFromJSON=o(function(e){return ni.fromJSON(this,e)},"pointFromJSON");pd.prototype.point=o(function(e,r,n,i){return new ni(this,e,r,n,i)},"point");ni.fromJSON=o(function(e,r){return new ni(e,r[0],r[1],r[2])},"fromJSON");ni.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect");ni.prototype.isInfinity=o(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity");ni.prototype._extDbl=o(function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),c=a.redSub(n),u=i.redSub(r),h=s.redMul(c),y=a.redMul(u),g=s.redMul(u),S=c.redMul(a);return this.curve.point(h,y,S,g)},"_extDbl");ni.prototype._projDbl=o(function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,c,u,h;if(this.curve.twisted){c=this.curve._mulA(r);var y=c.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(y.redSub(this.curve.two)),s=y.redMul(c.redSub(n)),a=y.redSqr().redSub(y).redSub(y)):(u=this.z.redSqr(),h=y.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(h),s=y.redMul(c.redSub(n)),a=y.redMul(h))}else c=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),h=c.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(c)).redMul(h),s=this.curve._mulC(c).redMul(r.redISub(n)),a=c.redMul(h);return this.curve.point(i,s,a)},"_projDbl");ni.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl");ni.prototype._extAdd=o(function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),c=s.redSub(i),u=s.redAdd(i),h=n.redAdd(r),y=a.redMul(c),g=u.redMul(h),S=a.redMul(h),T=c.redMul(u);return this.curve.point(y,g,T,S)},"_extAdd");ni.prototype._projAdd=o(function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),c=n.redSub(a),u=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),y=r.redMul(c).redMul(h),g,S;return this.curve.twisted?(g=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),S=c.redMul(u)):(g=r.redMul(u).redMul(s.redSub(i)),S=this.curve._mulC(c).redMul(u)),this.curve.point(y,g,S)},"_projAdd");ni.prototype.add=o(function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},"add");ni.prototype.mul=o(function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},"mul");ni.prototype.mulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)},"mulAdd");ni.prototype.jmulAdd=o(function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)},"jmulAdd");ni.prototype.normalize=o(function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},"normalize");ni.prototype.neg=o(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg");ni.prototype.getX=o(function(){return this.normalize(),this.x.fromRed()},"getX");ni.prototype.getY=o(function(){return this.normalize(),this.y.fromRed()},"getY");ni.prototype.eq=o(function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0},"eq");ni.prototype.eqXToP=o(function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},"eqXToP");ni.prototype.toP=ni.prototype.normalize;ni.prototype.mixedAdd=ni.prototype.add});var RH=j(uye=>{"use strict";p();m();var VI=uye;VI.base=tE();VI.short=nye();VI.mont=sye();VI.edwards=fye()});var Xu=j(Xn=>{"use strict";p();m();var Met=rf(),Net=Zt();Xn.inherits=Net;function Cet(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}o(Cet,"isSurrogatePair");function ket(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Cet(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}o(ket,"toArray");Xn.toArray=ket;function Bet(t){for(var e="",r=0;r<t.length;r++)e+=dye(t[r].toString(16));return e}o(Bet,"toHex");Xn.toHex=Bet;function lye(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}o(lye,"htonl");Xn.htonl=lye;function Pet(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=lye(i)),r+=hye(i.toString(16))}return r}o(Pet,"toHex32");Xn.toHex32=Pet;function dye(t){return t.length===1?"0"+t:t}o(dye,"zero2");Xn.zero2=dye;function hye(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}o(hye,"zero8");Xn.zero8=hye;function Let(t,e,r,n){var i=r-e;Met(i%4===0);for(var s=new Array(i/4),a=0,c=e;a<s.length;a++,c+=4){var u;n==="big"?u=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:u=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=u>>>0}return s}o(Let,"join32");Xn.join32=Let;function Det(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}o(Det,"split32");Xn.split32=Det;function Uet(t,e){return t>>>e|t<<32-e}o(Uet,"rotr32");Xn.rotr32=Uet;function Fet(t,e){return t<<e|t>>>32-e}o(Fet,"rotl32");Xn.rotl32=Fet;function Het(t,e){return t+e>>>0}o(Het,"sum32");Xn.sum32=Het;function qet(t,e,r){return t+e+r>>>0}o(qet,"sum32_3");Xn.sum32_3=qet;function Vet(t,e,r,n){return t+e+r+n>>>0}o(Vet,"sum32_4");Xn.sum32_4=Vet;function jet(t,e,r,n,i){return t+e+r+n+i>>>0}o(jet,"sum32_5");Xn.sum32_5=jet;function zet(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,c=(a<n?1:0)+r+i;t[e]=c>>>0,t[e+1]=a}o(zet,"sum64");Xn.sum64=zet;function Ket(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}o(Ket,"sum64_hi");Xn.sum64_hi=Ket;function $et(t,e,r,n){var i=e+n;return i>>>0}o($et,"sum64_lo");Xn.sum64_lo=$et;function Get(t,e,r,n,i,s,a,c){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+c>>>0,u+=h<c?1:0;var y=t+r+i+a+u;return y>>>0}o(Get,"sum64_4_hi");Xn.sum64_4_hi=Get;function Wet(t,e,r,n,i,s,a,c){var u=e+n+s+c;return u>>>0}o(Wet,"sum64_4_lo");Xn.sum64_4_lo=Wet;function Yet(t,e,r,n,i,s,a,c,u,h){var y=0,g=e;g=g+n>>>0,y+=g<e?1:0,g=g+s>>>0,y+=g<s?1:0,g=g+c>>>0,y+=g<c?1:0,g=g+h>>>0,y+=g<h?1:0;var S=t+r+i+a+u+y;return S>>>0}o(Yet,"sum64_5_hi");Xn.sum64_5_hi=Yet;function Xet(t,e,r,n,i,s,a,c,u,h){var y=e+n+s+c+h;return y>>>0}o(Xet,"sum64_5_lo");Xn.sum64_5_lo=Xet;function Zet(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}o(Zet,"rotr64_hi");Xn.rotr64_hi=Zet;function Jet(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(Jet,"rotr64_lo");Xn.rotr64_lo=Jet;function Qet(t,e,r){return t>>>r}o(Qet,"shr64_hi");Xn.shr64_hi=Qet;function ett(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}o(ett,"shr64_lo");Xn.shr64_lo=ett});var Jx=j(mye=>{"use strict";p();m();var pye=Xu(),ttt=rf();function jI(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}o(jI,"BlockHash");mye.BlockHash=jI;jI.prototype.update=o(function(e,r){if(e=pye.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=pye.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},"update");jI.prototype.digest=o(function(e){return this.update(this._pad()),ttt(this.pending===null),this._digest(e)},"digest");jI.prototype._pad=o(function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i},"pad")});var OH=j(jh=>{"use strict";p();m();var rtt=Xu(),md=rtt.rotr32;function ntt(t,e,r,n){if(t===0)return gye(e,r,n);if(t===1||t===3)return bye(e,r,n);if(t===2)return yye(e,r,n)}o(ntt,"ft_1");jh.ft_1=ntt;function gye(t,e,r){return t&e^~t&r}o(gye,"ch32");jh.ch32=gye;function yye(t,e,r){return t&e^t&r^e&r}o(yye,"maj32");jh.maj32=yye;function bye(t,e,r){return t^e^r}o(bye,"p32");jh.p32=bye;function itt(t){return md(t,2)^md(t,13)^md(t,22)}o(itt,"s0_256");jh.s0_256=itt;function ott(t){return md(t,6)^md(t,11)^md(t,25)}o(ott,"s1_256");jh.s1_256=ott;function stt(t){return md(t,7)^md(t,18)^t>>>3}o(stt,"g0_256");jh.g0_256=stt;function att(t){return md(t,17)^md(t,19)^t>>>10}o(att,"g1_256");jh.g1_256=att});var _ye=j((Slr,vye)=>{"use strict";p();m();var Qx=Xu(),ctt=Jx(),ftt=OH(),MH=Qx.rotl32,rE=Qx.sum32,utt=Qx.sum32_5,ltt=ftt.ft_1,xye=ctt.BlockHash,dtt=[1518500249,1859775393,2400959708,3395469782];function gd(){if(!(this instanceof gd))return new gd;xye.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o(gd,"SHA1");Qx.inherits(gd,xye);vye.exports=gd;gd.blockSize=512;gd.outSize=160;gd.hmacStrength=80;gd.padLength=64;gd.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=MH(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],c=this.h[2],u=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var y=~~(i/20),g=utt(MH(s,5),ltt(y,a,c,u),h,n[i],dtt[y]);h=u,u=c,c=MH(a,30),a=s,s=g}this.h[0]=rE(this.h[0],s),this.h[1]=rE(this.h[1],a),this.h[2]=rE(this.h[2],c),this.h[3]=rE(this.h[3],u),this.h[4]=rE(this.h[4],h)},"_update");gd.prototype._digest=o(function(e){return e==="hex"?Qx.toHex32(this.h,"big"):Qx.split32(this.h,"big")},"digest")});var NH=j((Ilr,Sye)=>{"use strict";p();m();var ev=Xu(),htt=Jx(),tv=OH(),ptt=rf(),Zu=ev.sum32,mtt=ev.sum32_4,gtt=ev.sum32_5,ytt=tv.ch32,btt=tv.maj32,xtt=tv.s0_256,vtt=tv.s1_256,_tt=tv.g0_256,wtt=tv.g1_256,wye=htt.BlockHash,Stt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yd(){if(!(this instanceof yd))return new yd;wye.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Stt,this.W=new Array(64)}o(yd,"SHA256");ev.inherits(yd,wye);Sye.exports=yd;yd.blockSize=512;yd.outSize=256;yd.hmacStrength=192;yd.padLength=64;yd.prototype._update=o(function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=mtt(wtt(n[i-2]),n[i-7],_tt(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],c=this.h[2],u=this.h[3],h=this.h[4],y=this.h[5],g=this.h[6],S=this.h[7];for(ptt(this.k.length===n.length),i=0;i<n.length;i++){var T=gtt(S,vtt(h),ytt(h,y,g),this.k[i],n[i]),O=Zu(xtt(s),btt(s,a,c));S=g,g=y,y=h,h=Zu(u,T),u=c,c=a,a=s,s=Zu(T,O)}this.h[0]=Zu(this.h[0],s),this.h[1]=Zu(this.h[1],a),this.h[2]=Zu(this.h[2],c),this.h[3]=Zu(this.h[3],u),this.h[4]=Zu(this.h[4],h),this.h[5]=Zu(this.h[5],y),this.h[6]=Zu(this.h[6],g),this.h[7]=Zu(this.h[7],S)},"_update");yd.prototype._digest=o(function(e){return e==="hex"?ev.toHex32(this.h,"big"):ev.split32(this.h,"big")},"digest")});var Tye=j((Nlr,Aye)=>{"use strict";p();m();var CH=Xu(),Eye=NH();function zh(){if(!(this instanceof zh))return new zh;Eye.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o(zh,"SHA224");CH.inherits(zh,Eye);Aye.exports=zh;zh.blockSize=512;zh.outSize=224;zh.hmacStrength=192;zh.padLength=64;zh.prototype._digest=o(function(e){return e==="hex"?CH.toHex32(this.h.slice(0,7),"big"):CH.split32(this.h.slice(0,7),"big")},"digest")});var PH=j((Plr,Mye)=>{"use strict";p();m();var Sc=Xu(),Ett=Jx(),Att=rf(),bd=Sc.rotr64_hi,xd=Sc.rotr64_lo,Iye=Sc.shr64_hi,Rye=Sc.shr64_lo,Hp=Sc.sum64,kH=Sc.sum64_hi,BH=Sc.sum64_lo,Ttt=Sc.sum64_4_hi,Itt=Sc.sum64_4_lo,Rtt=Sc.sum64_5_hi,Ott=Sc.sum64_5_lo,Oye=Ett.BlockHash,Mtt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ju(){if(!(this instanceof Ju))return new Ju;Oye.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Mtt,this.W=new Array(160)}o(Ju,"SHA512");Sc.inherits(Ju,Oye);Mye.exports=Ju;Ju.blockSize=1024;Ju.outSize=512;Ju.hmacStrength=192;Ju.padLength=128;Ju.prototype._prepareBlock=o(function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=qtt(n[i-4],n[i-3]),a=Vtt(n[i-4],n[i-3]),c=n[i-14],u=n[i-13],h=Ftt(n[i-30],n[i-29]),y=Htt(n[i-30],n[i-29]),g=n[i-32],S=n[i-31];n[i]=Ttt(s,a,c,u,h,y,g,S),n[i+1]=Itt(s,a,c,u,h,y,g,S)}},"_prepareBlock");Ju.prototype._update=o(function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],h=this.h[5],y=this.h[6],g=this.h[7],S=this.h[8],T=this.h[9],O=this.h[10],M=this.h[11],k=this.h[12],C=this.h[13],B=this.h[14],N=this.h[15];Att(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var H=B,F=N,Z=Dtt(S,T),W=Utt(S,T),X=Ntt(S,T,O,M,k,C),E=Ctt(S,T,O,M,k,C),f=this.k[P],d=this.k[P+1],b=n[P],x=n[P+1],_=Rtt(H,F,Z,W,X,E,f,d,b,x),A=Ott(H,F,Z,W,X,E,f,d,b,x);H=Ptt(i,s),F=Ltt(i,s),Z=ktt(i,s,a,c,u,h),W=Btt(i,s,a,c,u,h);var I=kH(H,F,Z,W),v=BH(H,F,Z,W);B=k,N=C,k=O,C=M,O=S,M=T,S=kH(y,g,_,A),T=BH(g,g,_,A),y=u,g=h,u=a,h=c,a=i,c=s,i=kH(_,A,I,v),s=BH(_,A,I,v)}Hp(this.h,0,i,s),Hp(this.h,2,a,c),Hp(this.h,4,u,h),Hp(this.h,6,y,g),Hp(this.h,8,S,T),Hp(this.h,10,O,M),Hp(this.h,12,k,C),Hp(this.h,14,B,N)},"_update");Ju.prototype._digest=o(function(e){return e==="hex"?Sc.toHex32(this.h,"big"):Sc.split32(this.h,"big")},"digest");function Ntt(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}o(Ntt,"ch64_hi");function Ctt(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}o(Ctt,"ch64_lo");function ktt(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}o(ktt,"maj64_hi");function Btt(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}o(Btt,"maj64_lo");function Ptt(t,e){var r=bd(t,e,28),n=bd(e,t,2),i=bd(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Ptt,"s0_512_hi");function Ltt(t,e){var r=xd(t,e,28),n=xd(e,t,2),i=xd(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Ltt,"s0_512_lo");function Dtt(t,e){var r=bd(t,e,14),n=bd(t,e,18),i=bd(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(Dtt,"s1_512_hi");function Utt(t,e){var r=xd(t,e,14),n=xd(t,e,18),i=xd(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}o(Utt,"s1_512_lo");function Ftt(t,e){var r=bd(t,e,1),n=bd(t,e,8),i=Iye(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Ftt,"g0_512_hi");function Htt(t,e){var r=xd(t,e,1),n=xd(t,e,8),i=Rye(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}o(Htt,"g0_512_lo");function qtt(t,e){var r=bd(t,e,19),n=bd(e,t,29),i=Iye(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(qtt,"g1_512_hi");function Vtt(t,e){var r=xd(t,e,19),n=xd(e,t,29),i=Rye(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}o(Vtt,"g1_512_lo")});var kye=j((Flr,Cye)=>{"use strict";p();m();var LH=Xu(),Nye=PH();function Kh(){if(!(this instanceof Kh))return new Kh;Nye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o(Kh,"SHA384");LH.inherits(Kh,Nye);Cye.exports=Kh;Kh.blockSize=1024;Kh.outSize=384;Kh.hmacStrength=192;Kh.padLength=128;Kh.prototype._digest=o(function(e){return e==="hex"?LH.toHex32(this.h.slice(0,12),"big"):LH.split32(this.h.slice(0,12),"big")},"digest")});var Bye=j(rv=>{"use strict";p();m();rv.sha1=_ye();rv.sha224=Tye();rv.sha256=NH();rv.sha384=kye();rv.sha512=PH()});var Hye=j(Fye=>{"use strict";p();m();var Dy=Xu(),jtt=Jx(),zI=Dy.rotl32,Pye=Dy.sum32,nE=Dy.sum32_3,Lye=Dy.sum32_4,Uye=jtt.BlockHash;function vd(){if(!(this instanceof vd))return new vd;Uye.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}o(vd,"RIPEMD160");Dy.inherits(vd,Uye);Fye.ripemd160=vd;vd.blockSize=512;vd.outSize=160;vd.hmacStrength=192;vd.padLength=64;vd.prototype._update=o(function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=n,h=i,y=s,g=a,S=c,T=0;T<80;T++){var O=Pye(zI(Lye(n,Dye(T,i,s,a),e[$tt[T]+r],ztt(T)),Wtt[T]),c);n=c,c=a,a=zI(s,10),s=i,i=O,O=Pye(zI(Lye(u,Dye(79-T,h,y,g),e[Gtt[T]+r],Ktt(T)),Ytt[T]),S),u=S,S=g,g=zI(y,10),y=h,h=O}O=nE(this.h[1],s,g),this.h[1]=nE(this.h[2],a,S),this.h[2]=nE(this.h[3],c,u),this.h[3]=nE(this.h[4],n,h),this.h[4]=nE(this.h[0],i,y),this.h[0]=O},"update");vd.prototype._digest=o(function(e){return e==="hex"?Dy.toHex32(this.h,"little"):Dy.split32(this.h,"little")},"digest");function Dye(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}o(Dye,"f");function ztt(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}o(ztt,"K");function Ktt(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}o(Ktt,"Kh");var $tt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Gtt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Wtt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ytt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Vye=j((Xlr,qye)=>{"use strict";p();m();var Xtt=Xu(),Ztt=rf();function nv(t,e,r){if(!(this instanceof nv))return new nv(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Xtt.toArray(e,r))}o(nv,"Hmac");qye.exports=nv;nv.prototype._init=o(function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Ztt(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},"init");nv.prototype.update=o(function(e,r){return this.inner.update(e,r),this},"update");nv.prototype.digest=o(function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},"digest")});var iv=j(jye=>{p();m();var ws=jye;ws.utils=Xu();ws.common=Jx();ws.sha=Bye();ws.ripemd=Hye();ws.hmac=Vye();ws.sha1=ws.sha.sha1;ws.sha256=ws.sha.sha256;ws.sha224=ws.sha.sha224;ws.sha384=ws.sha.sha384;ws.sha512=ws.sha.sha512;ws.ripemd160=ws.ripemd.ripemd160});var Kye=j((ndr,zye)=>{p();m();zye.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var KI=j(Wye=>{"use strict";p();m();var UH=Wye,qp=iv(),DH=RH(),Jtt=nf(),$ye=Jtt.assert;function Gye(t){t.type==="short"?this.curve=new DH.short(t):t.type==="edwards"?this.curve=new DH.edwards(t):this.curve=new DH.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,$ye(this.g.validate(),"Invalid curve"),$ye(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(Gye,"PresetCurve");UH.PresetCurve=Gye;function Vp(t,e){Object.defineProperty(UH,t,{configurable:!0,enumerable:!0,get:o(function(){var r=new Gye(e);return Object.defineProperty(UH,t,{configurable:!0,enumerable:!0,value:r}),r},"get")})}o(Vp,"defineCurve");Vp("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:qp.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Vp("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:qp.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Vp("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:qp.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Vp("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:qp.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Vp("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:qp.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Vp("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qp.sha256,gRed:!1,g:["9"]});Vp("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:qp.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var FH;try{FH=Kye()}catch{FH=void 0}Vp("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:qp.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",FH]})});var Zye=j((udr,Xye)=>{"use strict";p();m();var Qtt=iv(),Uy=TH(),Yye=rf();function jp(t){if(!(this instanceof jp))return new jp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Uy.toArray(t.entropy,t.entropyEnc||"hex"),r=Uy.toArray(t.nonce,t.nonceEnc||"hex"),n=Uy.toArray(t.pers,t.persEnc||"hex");Yye(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(jp,"HmacDRBG");Xye.exports=jp;jp.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");jp.prototype._hmac=o(function(){return new Qtt.hmac(this.hash,this.K)},"hmac");jp.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");jp.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Uy.toArray(e,r),n=Uy.toArray(n,i),Yye(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");jp.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Uy.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Uy.encode(a,r)},"generate")});var Qye=j((pdr,Jye)=>{"use strict";p();m();var ert=hd(),trt=nf(),HH=trt.assert;function pa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(pa,"KeyPair");Jye.exports=pa;pa.fromPublic=o(function(e,r,n){return r instanceof pa?r:new pa(e,{pub:r,pubEnc:n})},"fromPublic");pa.fromPrivate=o(function(e,r,n){return r instanceof pa?r:new pa(e,{priv:r,privEnc:n})},"fromPrivate");pa.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");pa.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");pa.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");pa.prototype._importPrivate=o(function(e,r){this.priv=new ert(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");pa.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?HH(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&HH(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");pa.prototype.derive=o(function(e){return e.validate()||HH(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");pa.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");pa.prototype.verify=o(function(e,r,n){return this.ec.verify(e,r,this,void 0,n)},"verify");pa.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect")});var r1e=j((bdr,t1e)=>{"use strict";p();m();var $I=hd(),jH=nf(),rrt=jH.assert;function GI(t,e){if(t instanceof GI)return t;this._importDER(t,e)||(rrt(t.r&&t.s,"Signature without r or s"),this.r=new $I(t.r,16),this.s=new $I(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(GI,"Signature");t1e.exports=GI;function nrt(){this.place=0}o(nrt,"Position");function qH(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(qH,"getLength");function e1e(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(e1e,"rmPadding");GI.prototype._importDER=o(function(e,r){e=jH.toArray(e,r);var n=new nrt;if(e[n.place++]!==48)return!1;var i=qH(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=qH(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=qH(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var u=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new $I(a),this.s=new $I(u),this.recoveryParam=null,!0},"_importDER");function VH(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(VH,"constructLength");GI.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=e1e(r),n=e1e(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];VH(i,r.length),i=i.concat(r),i.push(2),VH(i,n.length);var s=i.concat(n),a=[48];return VH(a,s.length),a=a.concat(s),jH.encode(a,e)},"toDER")});var o1e=j((wdr,i1e)=>{"use strict";p();m();var Qu=hd(),n1e=Zye(),irt=nf(),zH=KI(),ort=bI(),Fy=irt.assert,KH=Qye(),WI=r1e();function Yf(t){if(!(this instanceof Yf))return new Yf(t);typeof t=="string"&&(Fy(Object.prototype.hasOwnProperty.call(zH,t),"Unknown curve "+t),t=zH[t]),t instanceof zH.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(Yf,"EC");i1e.exports=Yf;Yf.prototype.keyPair=o(function(e){return new KH(this,e)},"keyPair");Yf.prototype.keyFromPrivate=o(function(e,r){return KH.fromPrivate(this,e,r)},"keyFromPrivate");Yf.prototype.keyFromPublic=o(function(e,r){return KH.fromPublic(this,e,r)},"keyFromPublic");Yf.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new n1e({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ort(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Qu(2));;){var s=new Qu(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");Yf.prototype._truncateToN=o(function(e,r,n){var i;if(Qu.isBN(e)||typeof e=="number")e=new Qu(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Qu(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Qu(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");Yf.prototype.sign=o(function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Qu.isBN(e)){Fy(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Fy(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Fy((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Fy(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),c=r.getPrivate().toArray("be",a),u=e.toArray("be",a);Fy(new Qu(u).eq(e),"Can not sign message");for(var h=new n1e({hash:this.hash,entropy:c,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),y=this.n.sub(new Qu(1)),g=0;;g++){var S=i.k?i.k(g):new Qu(h.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(y)>=0)){var T=this.g.mul(S);if(!T.isInfinity()){var O=T.getX(),M=O.umod(this.n);if(M.cmpn(0)!==0){var k=S.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var C=(T.getY().isOdd()?1:0)|(O.cmp(M)!==0?2:0);return i.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),C^=1),new WI({r:M,s:k,recoveryParam:C})}}}}}},"sign");Yf.prototype.verify=o(function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new WI(r,"hex");var a=r.r,c=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var u=c.invm(this.n),h=u.mul(e).umod(this.n),y=u.mul(a).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(h,n.getPublic(),y),g.isInfinity()?!1:g.eqXToP(a)):(g=this.g.mulAdd(h,n.getPublic(),y),g.isInfinity()?!1:g.getX().umod(this.n).cmp(a)===0)},"verify");Yf.prototype.recoverPubKey=function(t,e,r,n){Fy((3&r)===r,"The recovery param is more than two bits"),e=new WI(e,n);var i=this.n,s=new Qu(t),a=e.r,c=e.s,u=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var y=e.r.invm(i),g=i.sub(s).mul(y).umod(i),S=c.mul(y).umod(i);return this.g.mulAdd(g,a,S)};Yf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new WI(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var f1e=j((Tdr,c1e)=>{"use strict";p();m();var iE=nf(),a1e=iE.assert,s1e=iE.parseBytes,ov=iE.cachedProperty;function es(t,e){this.eddsa=t,this._secret=s1e(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s1e(e.pub)}o(es,"KeyPair");es.fromPublic=o(function(e,r){return r instanceof es?r:new es(e,{pub:r})},"fromPublic");es.fromSecret=o(function(e,r){return r instanceof es?r:new es(e,{secret:r})},"fromSecret");es.prototype.secret=o(function(){return this._secret},"secret");ov(es,"pubBytes",o(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes"));ov(es,"pub",o(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub"));ov(es,"privBytes",o(function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i},"privBytes"));ov(es,"priv",o(function(){return this.eddsa.decodeInt(this.privBytes())},"priv"));ov(es,"hash",o(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash"));ov(es,"messagePrefix",o(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix"));es.prototype.sign=o(function(e){return a1e(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},"sign");es.prototype.verify=o(function(e,r){return this.eddsa.verify(e,r,this)},"verify");es.prototype.getSecret=o(function(e){return a1e(this._secret,"KeyPair is public only"),iE.encode(this.secret(),e)},"getSecret");es.prototype.getPublic=o(function(e){return iE.encode(this.pubBytes(),e)},"getPublic");c1e.exports=es});var d1e=j((Mdr,l1e)=>{"use strict";p();m();var srt=hd(),YI=nf(),u1e=YI.assert,XI=YI.cachedProperty,art=YI.parseBytes;function Hy(t,e){this.eddsa=t,typeof e!="object"&&(e=art(e)),Array.isArray(e)&&(u1e(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),u1e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof srt&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(Hy,"Signature");XI(Hy,"S",o(function(){return this.eddsa.decodeInt(this.Sencoded())},"S"));XI(Hy,"R",o(function(){return this.eddsa.decodePoint(this.Rencoded())},"R"));XI(Hy,"Rencoded",o(function(){return this.eddsa.encodePoint(this.R())},"Rencoded"));XI(Hy,"Sencoded",o(function(){return this.eddsa.encodeInt(this.S())},"Sencoded"));Hy.prototype.toBytes=o(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes");Hy.prototype.toHex=o(function(){return YI.encode(this.toBytes(),"hex").toUpperCase()},"toHex");l1e.exports=Hy});var y1e=j((Bdr,g1e)=>{"use strict";p();m();var crt=iv(),frt=KI(),sv=nf(),urt=sv.assert,p1e=sv.parseBytes,m1e=f1e(),h1e=d1e();function Ec(t){if(urt(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ec))return new Ec(t);t=frt[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=crt.sha512}o(Ec,"EDDSA");g1e.exports=Ec;Ec.prototype.sign=o(function(e,r){e=p1e(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),c=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),u=i.add(c).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:a})},"sign");Ec.prototype.verify=o(function(e,r,n){if(e=p1e(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),c=r.R().add(i.pub().mul(s));return c.eq(a)},"verify");Ec.prototype.hashInt=o(function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return sv.intFromLE(e.digest()).umod(this.curve.n)},"hashInt");Ec.prototype.keyFromPublic=o(function(e){return m1e.fromPublic(this,e)},"keyFromPublic");Ec.prototype.keyFromSecret=o(function(e){return m1e.fromSecret(this,e)},"keyFromSecret");Ec.prototype.makeSignature=o(function(e){return e instanceof h1e?e:new h1e(this,e)},"makeSignature");Ec.prototype.encodePoint=o(function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r},"encodePoint");Ec.prototype.decodePoint=o(function(e){e=sv.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=sv.intFromLE(n);return this.curve.pointFromY(s,i)},"decodePoint");Ec.prototype.encodeInt=o(function(e){return e.toArray("le",this.encodingLength)},"encodeInt");Ec.prototype.decodeInt=o(function(e){return sv.intFromLE(e)},"decodeInt");Ec.prototype.isPoint=o(function(e){return e instanceof this.pointClass},"isPoint")});var ZI=j(b1e=>{"use strict";p();m();var qy=b1e;qy.version=Yge().version;qy.utils=nf();qy.rand=bI();qy.curve=RH();qy.curves=KI();qy.ec=o1e();qy.eddsa=y1e()});var GH=j((x1e,$H)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof $H>"u"||$H,x1e)});var QI=j((zdr,v1e)=>{"use strict";p();m();var JI=li(),av=JI.Buffer,Xf={},Zf;for(Zf in JI)JI.hasOwnProperty(Zf)&&(Zf==="SlowBuffer"||Zf==="Buffer"||(Xf[Zf]=JI[Zf]));var cv=Xf.Buffer={};for(Zf in av)av.hasOwnProperty(Zf)&&(Zf==="allocUnsafe"||Zf==="allocUnsafeSlow"||(cv[Zf]=av[Zf]));Xf.Buffer.prototype=av.prototype;(!cv.from||cv.from===Uint8Array.from)&&(cv.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return av(t,e,r)});cv.alloc||(cv.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=av(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Xf.kStringMaxLength)try{Xf.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}Xf.constants||(Xf.constants={MAX_LENGTH:Xf.kMaxLength},Xf.kStringMaxLength&&(Xf.constants.MAX_STRING_LENGTH=Xf.kStringMaxLength));v1e.exports=Xf});var eR=j(_1e=>{"use strict";p();m();var lrt=Zt();function Jf(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}o(Jf,"Reporter");_1e.Reporter=Jf;Jf.prototype.isError=o(function(e){return e instanceof fv},"isError");Jf.prototype.save=o(function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},"save");Jf.prototype.restore=o(function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)},"restore");Jf.prototype.enterKey=o(function(e){return this._reporterState.path.push(e)},"enterKey");Jf.prototype.exitKey=o(function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)},"exitKey");Jf.prototype.leaveKey=o(function(e,r,n){let i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)},"leaveKey");Jf.prototype.path=o(function(){return this._reporterState.path.join("/")},"path");Jf.prototype.enterObject=o(function(){let e=this._reporterState,r=e.obj;return e.obj={},r},"enterObject");Jf.prototype.leaveObject=o(function(e){let r=this._reporterState,n=r.obj;return r.obj=e,n},"leaveObject");Jf.prototype.error=o(function(e){let r,n=this._reporterState,i=e instanceof fv;if(i?r=e:r=new fv(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r},"error");Jf.prototype.wrapResult=o(function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e},"wrapResult");function fv(t,e){this.path=t,this.rethrow(e)}o(fv,"ReporterError");lrt(fv,Error);fv.prototype.rethrow=o(function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,fv),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this},"rethrow")});var dv=j(WH=>{"use strict";p();m();var drt=Zt(),tR=eR().Reporter,uv=QI().Buffer;function Qf(t,e){if(tR.call(this,e),!uv.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}o(Qf,"DecoderBuffer");drt(Qf,tR);WH.DecoderBuffer=Qf;Qf.isDecoderBuffer=o(function(e){return e instanceof Qf?!0:typeof e=="object"&&uv.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"},"isDecoderBuffer");Qf.prototype.save=o(function(){return{offset:this.offset,reporter:tR.prototype.save.call(this)}},"save");Qf.prototype.restore=o(function(e){let r=new Qf(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,tR.prototype.restore.call(this,e.reporter),r},"restore");Qf.prototype.isEmpty=o(function(){return this.offset===this.length},"isEmpty");Qf.prototype.readUInt8=o(function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},"readUInt8");Qf.prototype.skip=o(function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let n=new Qf(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},"skip");Qf.prototype.raw=o(function(e){return this.base.slice(e?e.offset:this.offset,this.length)},"raw");function lv(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return lv.isEncoderBuffer(r)||(r=new lv(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=uv.byteLength(t);else if(uv.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}o(lv,"EncoderBuffer");WH.EncoderBuffer=lv;lv.isEncoderBuffer=o(function(e){return e instanceof lv?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"},"isEncoderBuffer");lv.prototype.join=o(function(e,r){return e||(e=uv.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):uv.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e},"join")});var rR=j((thr,S1e)=>{"use strict";p();m();var hrt=eR().Reporter,prt=dv().EncoderBuffer,mrt=dv().DecoderBuffer,Ua=rf(),w1e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],grt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(w1e),yrt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function qn(t,e,r){let n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}o(qn,"Node");S1e.exports=qn;var brt=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];qn.prototype.clone=o(function(){let e=this._baseState,r={};brt.forEach(function(i){r[i]=e[i]});let n=new this.constructor(r.parent);return n._baseState=r,n},"clone");qn.prototype._wrap=o(function(){let e=this._baseState;grt.forEach(function(r){this[r]=o(function(){let i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)},"_wrappedMethod")},this)},"wrap");qn.prototype._init=o(function(e){let r=this._baseState;Ua(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Ua.equal(r.children.length,1,"Root node can have only one child")},"init");qn.prototype._useArgs=o(function(e){let r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Ua(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Ua(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;let s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);let c=i[a];s[c]=a}),s}))},"useArgs");yrt.forEach(function(t){qn.prototype[t]=o(function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)},"_overrided")});w1e.forEach(function(t){qn.prototype[t]=o(function(){let r=this._baseState,n=Array.prototype.slice.call(arguments);return Ua(r.tag===null),r.tag=t,this._useArgs(n),this},"_tagMethod")});qn.prototype.use=o(function(e){Ua(e);let r=this._baseState;return Ua(r.use===null),r.use=e,this},"use");qn.prototype.optional=o(function(){let e=this._baseState;return e.optional=!0,this},"optional");qn.prototype.def=o(function(e){let r=this._baseState;return Ua(r.default===null),r.default=e,r.optional=!0,this},"def");qn.prototype.explicit=o(function(e){let r=this._baseState;return Ua(r.explicit===null&&r.implicit===null),r.explicit=e,this},"explicit");qn.prototype.implicit=o(function(e){let r=this._baseState;return Ua(r.explicit===null&&r.implicit===null),r.implicit=e,this},"implicit");qn.prototype.obj=o(function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this},"obj");qn.prototype.key=o(function(e){let r=this._baseState;return Ua(r.key===null),r.key=e,this},"key");qn.prototype.any=o(function(){let e=this._baseState;return e.any=!0,this},"any");qn.prototype.choice=o(function(e){let r=this._baseState;return Ua(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this},"choice");qn.prototype.contains=o(function(e){let r=this._baseState;return Ua(r.use===null),r.contains=e,this},"contains");qn.prototype._decode=o(function(e,r){let n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let u=null;if(n.explicit!==null?u=n.explicit:n.implicit!==null?u=n.implicit:n.tag!==null&&(u=n.tag),u===null&&!n.any){let h=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(h)}else if(s=this._peekTag(e,u,n.any),e.isError(s))return s}let c;if(n.obj&&s&&(c=e.enterObject()),s){if(n.explicit!==null){let h=this._decodeTag(e,n.explicit);if(e.isError(h))return h;e=h}let u=e.offset;if(n.use===null&&n.choice===null){let h;n.any&&(h=e.save());let y=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(y))return y;n.any?i=e.raw(h):e=y}if(r&&r.track&&n.tag!==null&&r.track(e.path(),u,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(o(function(y){y._decode(e,r)},"decodeChildren")),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){let h=new mrt(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,r)}}return n.obj&&s&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i},"decode");qn.prototype._decodeGeneric=o(function(e,r,n){let i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)},"decodeGeneric");qn.prototype._getUse=o(function(e,r){let n=this._baseState;return n.useDecoder=this._use(e,r),Ua(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},"_getUse");qn.prototype._decodeChoice=o(function(e,r){let n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){let c=e.save(),u=n.choice[a];try{let h=u._decode(e,r);if(e.isError(h))return!1;i={type:a,value:h},s=!0}catch{return e.restore(c),!1}return!0},this),s?i:e.error("Choice not matched")},"decodeChoice");qn.prototype._createEncoderBuffer=o(function(e){return new prt(e,this.reporter)},"createEncoderBuffer");qn.prototype._encode=o(function(e,r,n){let i=this._baseState;if(i.default!==null&&i.default===e)return;let s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s},"encode");qn.prototype._encodeValue=o(function(e,r,n){let i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new hrt);let s=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let a=null,c=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,r);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,r),c=!0;else if(i.children)a=i.children.map(function(u){if(u._baseState.tag==="null_")return u._encode(null,r,e);if(u._baseState.key===null)return r.error("Child should have a key");let h=r.enterKey(u._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let y=u._encode(e[u._baseState.key],r,e);return r.leaveKey(h),y},this).filter(function(u){return u}),a=this._createEncoderBuffer(a);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(h){let y=this._baseState;return this._getUse(y.args[0],e)._encode(h,r)},u))}else i.use!==null?s=this._getUse(i.use,n)._encode(e,r):(a=this._encodePrimitive(i.tag,e),c=!0);if(!i.any&&i.choice===null){let u=i.implicit!==null?i.implicit:i.tag,h=i.implicit===null?"universal":"context";u===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(s=this._encodeComposite(u,c,h,a))}return i.explicit!==null&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},"encode");qn.prototype._encodeChoice=o(function(e,r){let n=this._baseState,i=n.choice[e.type];return i||Ua(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)},"encodeChoice");qn.prototype._encodePrimitive=o(function(e,r){let n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)},"encodePrimitive");qn.prototype._isNumstr=o(function(e){return/^[0-9 ]*$/.test(e)},"isNumstr");qn.prototype._isPrintstr=o(function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},"isPrintstr")});var nR=j(Vy=>{"use strict";p();m();function E1e(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let n=t[r];e[n]=r}),e}o(E1e,"reverse");Vy.tagClass={0:"universal",1:"application",2:"context",3:"private"};Vy.tagClassByName=E1e(Vy.tagClass);Vy.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Vy.tagByName=E1e(Vy.tag)});var XH=j((fhr,I1e)=>{"use strict";p();m();var xrt=Zt(),$h=QI().Buffer,A1e=rR(),YH=nR();function T1e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new el,this.tree._init(t.body)}o(T1e,"DEREncoder");I1e.exports=T1e;T1e.prototype.encode=o(function(e,r){return this.tree._encode(e,r).join()},"encode");function el(t){A1e.call(this,"der",t)}o(el,"DERNode");xrt(el,A1e);el.prototype._encodeComposite=o(function(e,r,n,i){let s=vrt(e,r,n,this.reporter);if(i.length<128){let u=$h.alloc(2);return u[0]=s,u[1]=i.length,this._createEncoderBuffer([u,i])}let a=1;for(let u=i.length;u>=256;u>>=8)a++;let c=$h.alloc(2+a);c[0]=s,c[1]=128|a;for(let u=1+a,h=i.length;h>0;u--,h>>=8)c[u]=h&255;return this._createEncoderBuffer([c,i])},"encodeComposite");el.prototype._encodeStr=o(function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let n=$h.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},"encodeStr");el.prototype._encodeObjid=o(function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let c=0;c<e.length;c++)e[c]|=0}else if(Array.isArray(e)){e=e.slice();for(let c=0;c<e.length;c++)e[c]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let c=0;c<e.length;c++){let u=e[c];for(i++;u>=128;u>>=7)i++}let s=$h.alloc(i),a=s.length-1;for(let c=e.length-1;c>=0;c--){let u=e[c];for(s[a--]=u&127;(u>>=7)>0;)s[a--]=128|u&127}return this._createEncoderBuffer(s)},"encodeObjid");function eu(t){return t<10?"0"+t:t}o(eu,"two");el.prototype._encodeTime=o(function(e,r){let n,i=new Date(e);return r==="gentime"?n=[eu(i.getUTCFullYear()),eu(i.getUTCMonth()+1),eu(i.getUTCDate()),eu(i.getUTCHours()),eu(i.getUTCMinutes()),eu(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[eu(i.getUTCFullYear()%100),eu(i.getUTCMonth()+1),eu(i.getUTCDate()),eu(i.getUTCHours()),eu(i.getUTCMinutes()),eu(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")},"encodeTime");el.prototype._encodeNull=o(function(){return this._createEncoderBuffer("")},"encodeNull");el.prototype._encodeInt=o(function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!$h.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=$h.from(s)}if($h.isBuffer(e)){let s=e.length;e.length===0&&s++;let a=$h.alloc(s);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let s=e;s>=256;s>>=8)n++;let i=new Array(n);for(let s=i.length-1;s>=0;s--)i[s]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer($h.from(i))},"encodeInt");el.prototype._encodeBool=o(function(e){return this._createEncoderBuffer(e?255:0)},"encodeBool");el.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree},"use");el.prototype._skipDefault=o(function(e,r,n){let i=this._baseState,s;if(i.default===null)return!1;let a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0},"skipDefault");function vrt(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),YH.tagByName.hasOwnProperty(t))i=YH.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=YH.tagClassByName[r||"universal"]<<6,i)}o(vrt,"encodeTag")});var O1e=j((hhr,R1e)=>{"use strict";p();m();var _rt=Zt(),ZH=XH();function JH(t){ZH.call(this,t),this.enc="pem"}o(JH,"PEMEncoder");_rt(JH,ZH);R1e.exports=JH;JH.prototype.encode=o(function(e,r){let i=ZH.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)},"encode")});var QH=j(N1e=>{"use strict";p();m();var M1e=N1e;M1e.der=XH();M1e.pem=O1e()});var tq=j((vhr,D1e)=>{"use strict";p();m();var wrt=Zt(),Srt=GH(),C1e=dv().DecoderBuffer,B1e=rR(),k1e=nR();function P1e(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new of,this.tree._init(t.body)}o(P1e,"DERDecoder");D1e.exports=P1e;P1e.prototype.decode=o(function(e,r){return C1e.isDecoderBuffer(e)||(e=new C1e(e,r)),this.tree._decode(e,r)},"decode");function of(t){B1e.call(this,"der",t)}o(of,"DERNode");wrt(of,B1e);of.prototype._peekTag=o(function(e,r,n){if(e.isEmpty())return!1;let i=e.save(),s=eq(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)},"peekTag");of.prototype._decodeTag=o(function(e,r,n){let i=eq(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let s=L1e(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let a=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))},"decodeTag");of.prototype._skipUntilEnd=o(function(e,r){for(;;){let n=eq(e,r);if(e.isError(n))return n;let i=L1e(e,n.primitive,r);if(e.isError(i))return i;let s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}},"skipUntilEnd");of.prototype._decodeList=o(function(e,r,n,i){let s=[];for(;!e.isEmpty();){let a=this._peekTag(e,"end");if(e.isError(a))return a;let c=n.decode(e,"der",i);if(e.isError(c)&&a)break;s.push(c)}return s},"decodeList");of.prototype._decodeStr=o(function(e,r){if(r==="bitstr"){let n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){let n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(s*2));return i}else if(r==="numstr"){let n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}},"decodeStr");of.prototype._decodeObjid=o(function(e,r,n){let i,s=[],a=0,c=0;for(;!e.isEmpty();)c=e.readUInt8(),a<<=7,a|=c&127,c&128||(s.push(a),a=0);c&128&&s.push(a);let u=s[0]/40|0,h=s[0]%40;if(n?i=s:i=[u,h].concat(s.slice(1)),r){let y=r[i.join(" ")];y===void 0&&(y=r[i.join(".")]),y!==void 0&&(i=y)}return i},"decodeObjid");of.prototype._decodeTime=o(function(e,r){let n=e.raw().toString(),i,s,a,c,u,h;if(r==="gentime")i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,c=n.slice(8,10)|0,u=n.slice(10,12)|0,h=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,c=n.slice(6,8)|0,u=n.slice(8,10)|0,h=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,c,u,h,0)},"decodeTime");of.prototype._decodeNull=o(function(){return null},"decodeNull");of.prototype._decodeBool=o(function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0},"decodeBool");of.prototype._decodeInt=o(function(e,r){let n=e.raw(),i=new Srt(n);return r&&(i=r[i.toString(10)]||i),i},"decodeInt");of.prototype._use=o(function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree},"use");function eq(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let n=k1e.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let a=r;for(r=0;(a&128)===128;){if(a=t.readUInt8(e),t.isError(a))return a;r<<=7,r|=a&127}}else r&=31;let s=k1e.tag[r];return{cls:n,primitive:i,tag:r,tagStr:s}}o(eq,"derDecodeTag");function L1e(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;let i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let s=0;s<i;s++){n<<=8;let a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}o(L1e,"derDecodeLen")});var F1e=j((Ehr,U1e)=>{"use strict";p();m();var Ert=Zt(),Art=QI().Buffer,rq=tq();function nq(t){rq.call(this,t),this.enc="pem"}o(nq,"PEMDecoder");Ert(nq,rq);U1e.exports=nq;nq.prototype.decode=o(function(e,r){let n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1;for(let y=0;y<n.length;y++){let g=n[y].match(s);if(g!==null&&g[2]===i)if(a===-1){if(g[1]!=="BEGIN")break;a=y}else{if(g[1]!=="END")break;c=y;break}}if(a===-1||c===-1)throw new Error("PEM section not found for: "+i);let u=n.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");let h=Art.from(u,"base64");return rq.prototype.decode.call(this,h,r)},"decode")});var iq=j(q1e=>{"use strict";p();m();var H1e=q1e;H1e.der=tq();H1e.pem=F1e()});var j1e=j(V1e=>{"use strict";p();m();var Trt=QH(),Irt=iq(),Rrt=Zt(),Ort=V1e;Ort.define=o(function(e,r){return new hv(e,r)},"define");function hv(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}o(hv,"Entity");hv.prototype._createNamed=o(function(e){let r=this.name;function n(i){this._initNamed(i,r)}return o(n,"Generated"),Rrt(n,e),n.prototype._initNamed=o(function(s,a){e.call(this,s,a)},"_initNamed"),new n(this)},"createNamed");hv.prototype._getDecoder=o(function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(Irt[e])),this.decoders[e]},"_getDecoder");hv.prototype.decode=o(function(e,r,n){return this._getDecoder(r).decode(e,n)},"decode");hv.prototype._getEncoder=o(function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(Trt[e])),this.encoders[e]},"_getEncoder");hv.prototype.encode=o(function(e,r,n){return this._getEncoder(r).encode(e,n)},"encode")});var K1e=j(z1e=>{"use strict";p();m();var iR=z1e;iR.Reporter=eR().Reporter;iR.DecoderBuffer=dv().DecoderBuffer;iR.EncoderBuffer=dv().EncoderBuffer;iR.Node=rR()});var W1e=j(G1e=>{"use strict";p();m();var $1e=G1e;$1e._reverse=o(function(e){let r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);let i=e[n];r[i]=n}),r},"reverse");$1e.der=nR()});var oq=j(Y1e=>{"use strict";p();m();var pv=Y1e;pv.bignum=GH();pv.define=j1e().define;pv.base=K1e();pv.constants=W1e();pv.decoders=iq();pv.encoders=QH()});var Q1e=j((Khr,J1e)=>{"use strict";p();m();var tl=oq(),X1e=tl.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Mrt=tl.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),sq=tl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Nrt=tl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(sq),this.key("subjectPublicKey").bitstr())}),Crt=tl.define("RelativeDistinguishedName",function(){this.setof(Mrt)}),krt=tl.define("RDNSequence",function(){this.seqof(Crt)}),Z1e=tl.define("Name",function(){this.choice({rdnSequence:this.use(krt)})}),Brt=tl.define("Validity",function(){this.seq().obj(this.key("notBefore").use(X1e),this.key("notAfter").use(X1e))}),Prt=tl.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Lrt=tl.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(sq),this.key("issuer").use(Z1e),this.key("validity").use(Brt),this.key("subject").use(Z1e),this.key("subjectPublicKeyInfo").use(Nrt),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Prt).optional())}),Drt=tl.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Lrt),this.key("signatureAlgorithm").use(sq),this.key("signatureValue").bitstr())});J1e.exports=Drt});var tbe=j(nl=>{"use strict";p();m();var rl=oq();nl.certificate=Q1e();var Urt=rl.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});nl.RSAPrivateKey=Urt;var Frt=rl.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});nl.RSAPublicKey=Frt;var Hrt=rl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ebe),this.key("subjectPublicKey").bitstr())});nl.PublicKey=Hrt;var ebe=rl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),qrt=rl.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(ebe),this.key("subjectPrivateKey").octstr())});nl.PrivateKey=qrt;var Vrt=rl.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});nl.EncryptedPrivateKey=Vrt;var jrt=rl.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});nl.DSAPrivateKey=jrt;nl.DSAparam=rl.define("DSAparam",function(){this.int()});var zrt=rl.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Krt),this.key("publicKey").optional().explicit(1).bitstr())});nl.ECPrivateKey=zrt;var Krt=rl.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});nl.signature=rl.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var rbe=j((Zhr,$rt)=>{$rt.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var ibe=j((Jhr,nbe)=>{p();m();var Grt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Wrt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Yrt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Xrt=KS(),Zrt=yI(),oR=mr().Buffer;nbe.exports=function(t,e){var r=t.toString(),n=r.match(Grt),i;if(n){var a="aes"+n[1],c=oR.from(n[2],"hex"),u=oR.from(n[3].replace(/[\r\n]/g,""),"base64"),h=Xrt(e,c.slice(0,8),parseInt(n[1],10)).key,y=[],g=Zrt.createDecipheriv(a,h,c);y.push(g.update(u)),y.push(g.final()),i=oR.concat(y)}else{var s=r.match(Yrt);i=oR.from(s[2].replace(/[\r\n]/g,""),"base64")}var S=r.match(Wrt)[1];return{tag:S,data:i}}});var oE=j((t0r,sbe)=>{p();m();var Ac=tbe(),Jrt=rbe(),Qrt=ibe(),ent=yI(),tnt=oI(),aq=mr().Buffer;sbe.exports=obe;function obe(t){var e;typeof t=="object"&&!aq.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=aq.from(t));var r=Qrt(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=Ac.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=Ac.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ac.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=Ac.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=Ac.EncryptedPrivateKey.decode(i,"der"),i=rnt(i,e);case"PRIVATE KEY":switch(a=Ac.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ac.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:Ac.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=Ac.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Ac.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Ac.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Ac.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Ac.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}o(obe,"parseKeys");obe.signature=Ac.signature;function rnt(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=Jrt[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,c=parseInt(i.split("-")[1],10)/8,u=tnt.pbkdf2Sync(e,r,n,c,"sha1"),h=ent.createDecipheriv(i,u,s),y=[];return y.push(h.update(a)),y.push(h.final()),aq.concat(y)}o(rnt,"decrypt")});var cq=j((o0r,nnt)=>{nnt.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var fbe=j((s0r,aR)=>{"use strict";p();m();var ma=mr().Buffer,jy=mF(),int=PI(),ont=ZI().ec,sR=bb(),snt=oE(),ant=cq(),cnt=1;function fnt(t,e,r,n,i){var s=snt(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return unt(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return lnt(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==cnt)throw new Error("illegal or unsupported padding mode");t=ma.concat([i,t]);for(var a=s.modulus.byteLength(),c=[0,1];t.length+c.length+1<a;)c.push(255);c.push(0);for(var u=-1;++u<t.length;)c.push(t[u]);var h=int(c,s);return h}o(fnt,"sign");function unt(t,e){var r=ant[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new ont(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return ma.from(s.toDER())}o(unt,"ecSign");function lnt(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,c=new sR(0),u,h=fq(t,s).mod(s),y=!1,g=abe(n,s,t,r);y===!1;)u=cbe(s,g,r),c=pnt(a,u,i,s),y=u.invm(s).imul(h.add(n.mul(c))).mod(s),y.cmpn(0)===0&&(y=!1,c=new sR(0));return dnt(c,y)}o(lnt,"dsaSign");function dnt(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),ma.from(n)}o(dnt,"toDER");function abe(t,e,r,n){if(t=ma.from(t.toArray()),t.length<e.byteLength()){var i=ma.alloc(e.byteLength()-t.length);t=ma.concat([i,t])}var s=r.length,a=hnt(r,e),c=ma.alloc(s);c.fill(1);var u=ma.alloc(s);return u=jy(n,u).update(c).update(ma.from([0])).update(t).update(a).digest(),c=jy(n,u).update(c).digest(),u=jy(n,u).update(c).update(ma.from([1])).update(t).update(a).digest(),c=jy(n,u).update(c).digest(),{k:u,v:c}}o(abe,"getKey");function fq(t,e){var r=new sR(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}o(fq,"bits2int");function hnt(t,e){t=fq(t,e),t=t.mod(e);var r=ma.from(t.toArray());if(r.length<e.byteLength()){var n=ma.alloc(e.byteLength()-r.length);r=ma.concat([n,r])}return r}o(hnt,"bits2octets");function cbe(t,e,r){var n,i;do{for(n=ma.alloc(0);n.length*8<t.bitLength();)e.v=jy(r,e.k).update(e.v).digest(),n=ma.concat([n,e.v]);i=fq(n,t),e.k=jy(r,e.k).update(e.v).update(ma.from([0])).digest(),e.v=jy(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}o(cbe,"makeKey");function pnt(t,e,r,n){return t.toRed(sR.mont(r)).redPow(e).fromRed().mod(n)}o(pnt,"makeR");aR.exports=fnt;aR.exports.getKey=abe;aR.exports.makeKey=cbe});var hbe=j((u0r,dbe)=>{"use strict";p();m();var uq=mr().Buffer,sE=bb(),mnt=ZI().ec,lbe=oE(),gnt=cq();function ynt(t,e,r,n,i){var s=lbe(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return bnt(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return xnt(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=uq.concat([i,e]);for(var a=s.modulus.byteLength(),c=[1],u=0;e.length+c.length+2<a;)c.push(255),u+=1;c.push(0);for(var h=-1;++h<e.length;)c.push(e[h]);c=uq.from(c);var y=sE.mont(s.modulus);t=new sE(t).toRed(y),t=t.redPow(new sE(s.publicExponent)),t=uq.from(t.fromRed().toArray());var g=u<8?1:0;for(a=Math.min(t.length,c.length),t.length!==c.length&&(g=1),h=-1;++h<a;)g|=t[h]^c[h];return g===0}o(ynt,"verify");function bnt(t,e,r){var n=gnt[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new mnt(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}o(bnt,"ecVerify");function xnt(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,c=lbe.signature.decode(t,"der"),u=c.s,h=c.r;ube(u,i),ube(h,i);var y=sE.mont(n),g=u.invm(i),S=s.toRed(y).redPow(new sE(e).mul(g).mod(i)).fromRed().mul(a.toRed(y).redPow(h.mul(g).mod(i)).fromRed()).mod(n).mod(i);return S.cmp(h)===0}o(xnt,"dsaVerify");function ube(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}o(ube,"checkValue");dbe.exports=ynt});var xbe=j((p0r,bbe)=>{"use strict";p();m();var cR=mr().Buffer,gbe=_y(),fR=Kge(),ybe=Zt(),vnt=fbe(),_nt=hbe(),zy=gF();Object.keys(zy).forEach(function(t){zy[t].id=cR.from(zy[t].id,"hex"),zy[t.toLowerCase()]=zy[t]});function aE(t){fR.Writable.call(this);var e=zy[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=gbe(e.hash),this._tag=e.id,this._signType=e.sign}o(aE,"Sign");ybe(aE,fR.Writable);aE.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");aE.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?cR.from(e,r):e),this},"update");aE.prototype.sign=o(function(e,r){this.end();var n=this._hash.digest(),i=vnt(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i},"signMethod");function cE(t){fR.Writable.call(this);var e=zy[t];if(!e)throw new Error("Unknown message digest");this._hash=gbe(e.hash),this._tag=e.id,this._signType=e.sign}o(cE,"Verify");ybe(cE,fR.Writable);cE.prototype._write=o(function(e,r,n){this._hash.update(e),n()},"_write");cE.prototype.update=o(function(e,r){return this._hash.update(typeof e=="string"?cR.from(e,r):e),this},"update");cE.prototype.verify=o(function(e,r,n){var i=typeof r=="string"?cR.from(r,n):r;this.end();var s=this._hash.digest();return _nt(i,s,e,this._signType,this._tag)},"verifyMethod");function pbe(t){return new aE(t)}o(pbe,"createSign");function mbe(t){return new cE(t)}o(mbe,"createVerify");bbe.exports={Sign:pbe,Verify:mbe,createSign:pbe,createVerify:mbe}});var _be=j((vbe,lq)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof lq>"u"||lq,vbe)});var Sbe=j((_0r,wbe)=>{p();m();var wnt=ZI(),Snt=_be();wbe.exports=o(function(e){return new Ky(e)},"createECDH");var sf={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};sf.p224=sf.secp224r1;sf.p256=sf.secp256r1=sf.prime256v1;sf.p192=sf.secp192r1=sf.prime192v1;sf.p384=sf.secp384r1;sf.p521=sf.secp521r1;function Ky(t){this.curveType=sf[t],this.curveType||(this.curveType={name:t}),this.curve=new wnt.ec(this.curveType.name),this.keys=void 0}o(Ky,"ECDH");Ky.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Ky.prototype.computeSecret=function(t,e,r){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return dq(i,r,this.curveType.byteLength)};Ky.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),dq(r,t)};Ky.prototype.getPrivateKey=function(t){return dq(this.keys.getPrivate(),t)};Ky.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this};Ky.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new Snt(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function dq(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}o(dq,"formatReturnValue")});var pq=j((A0r,Ebe)=>{p();m();var Ent=_y(),hq=mr().Buffer;Ebe.exports=function(t,e){for(var r=hq.alloc(0),n=0,i;r.length<e;)i=Ant(n++),r=hq.concat([r,Ent("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function Ant(t){var e=hq.allocUnsafe(4);return e.writeUInt32BE(t,0),e}o(Ant,"i2ops")});var mq=j((O0r,Abe)=>{p();m();Abe.exports=o(function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},"xor")});var uR=j((Tbe,gq)=>{p();m();(function(t,e){"use strict";function r(E,f){if(!E)throw new Error(f||"Assertion failed")}o(r,"assert");function n(E,f){E.super_=f;var d=o(function(){},"TempCtor");d.prototype=f.prototype,E.prototype=new d,E.prototype.constructor=E}o(n,"inherits");function i(E,f,d){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(E||0,f||10,d||"be"))}o(i,"BN"),typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof self<"u"&&typeof self.Buffer<"u"?s=self.Buffer:s=yb().Buffer}catch{}i.isBN=o(function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},"isBN"),i.max=o(function(f,d){return f.cmp(d)>0?f:d},"max"),i.min=o(function(f,d){return f.cmp(d)<0?f:d},"min"),i.prototype._init=o(function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},"init"),i.prototype._initNumber=o(function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},"_initNumber"),i.prototype._initArray=o(function(f,d,b){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,A,I=0;if(b==="be")for(x=f.length-1,_=0;x>=0;x-=3)A=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(b==="le")for(x=0,_=0;x<f.length;x+=3)A=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[_]|=A<<I&67108863,this.words[_+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()},"_initArray");function a(E,f){var d=E.charCodeAt(f);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}o(a,"parseHex4Bits");function c(E,f,d){var b=a(E,d);return d-1>=f&&(b|=a(E,d-1)<<4),b}o(c,"parseHexByte"),i.prototype._parseHex=o(function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,A=0,I;if(b==="be")for(x=f.length-1;x>=d;x-=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8;else{var v=f.length-d;for(x=v%2===0?d+1:d;x<f.length;x+=2)I=c(f,d,x)<<_,this.words[A]|=I&67108863,_>=18?(_-=18,A+=1,this.words[A]|=I>>>26):_+=8}this.strip()},"_parseHex");function u(E,f,d,b){for(var x=0,_=Math.min(E.length,d),A=f;A<_;A++){var I=E.charCodeAt(A)-48;x*=b,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}o(u,"parseBase"),i.prototype._parseBase=o(function(f,d,b){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=d)x++;x--,_=_/d|0;for(var A=f.length-b,I=A%x,v=Math.min(A,A-I)+b,l=0,w=b;w<v;w+=x)l=u(f,w,w+x,d),this.imuln(_),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(I!==0){var V=1;for(l=u(f,w,f.length,d),w=0;w<I;w++)V*=d;this.imuln(V),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},"_parseBase"),i.prototype.copy=o(function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red},"copy"),i.prototype.clone=o(function(){var f=new i(null);return this.copy(f),f},"clone"),i.prototype._expand=o(function(f){for(;this.length<f;)this.words[this.length++]=0;return this},"_expand"),i.prototype.strip=o(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),i.prototype._normSign=o(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),i.prototype.inspect=o(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=o(function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,_=0,A=0;A<this.length;A++){var I=this.words[A],v=((I<<x|_)&16777215).toString(16);_=I>>>24-x&16777215,_!==0||A!==this.length-1?b=h[6-v.length]+v+b:b=v+b,x+=2,x>=26&&(x-=26,A--)}for(_!==0&&(b=_.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var l=y[f],w=g[f];b="";var V=this.clone();for(V.negative=0;!V.isZero();){var q=V.modn(w).toString(f);V=V.idivn(w),V.isZero()?b=q+b:b=h[l-q.length]+q+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},"toString"),i.prototype.toNumber=o(function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},"toNumber"),i.prototype.toJSON=o(function(){return this.toString(16)},"toJSON"),i.prototype.toBuffer=o(function(f,d){return r(typeof s<"u"),this.toArrayLike(s,f,d)},"toBuffer"),i.prototype.toArray=o(function(f,d){return this.toArrayLike(Array,f,d)},"toArray"),i.prototype.toArrayLike=o(function(f,d,b){var x=this.byteLength(),_=b||Math.max(1,x);r(x<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var A=d==="le",I=new f(_),v,l,w=this.clone();if(A){for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[l]=v;for(;l<_;l++)I[l]=0}else{for(l=0;l<_-x;l++)I[l]=0;for(l=0;!w.isZero();l++)v=w.andln(255),w.iushrn(8),I[_-l-1]=v}return I},"toArrayLike"),Math.clz32?i.prototype._countBits=o(function(f){return 32-Math.clz32(f)},"_countBits"):i.prototype._countBits=o(function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},"_countBits"),i.prototype._zeroBits=o(function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},"_zeroBits"),i.prototype.bitLength=o(function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d},"bitLength");function S(E){for(var f=new Array(E.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=(E.words[b]&1<<x)>>>x}return f}o(S,"toBitArray"),i.prototype.zeroBits=o(function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},"zeroBits"),i.prototype.byteLength=o(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),i.prototype.toTwos=o(function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},"toTwos"),i.prototype.fromTwos=o(function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},"fromTwos"),i.prototype.isNeg=o(function(){return this.negative!==0},"isNeg"),i.prototype.neg=o(function(){return this.clone().ineg()},"neg"),i.prototype.ineg=o(function(){return this.isZero()||(this.negative^=1),this},"ineg"),i.prototype.iuor=o(function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this.strip()},"iuor"),i.prototype.ior=o(function(f){return r((this.negative|f.negative)===0),this.iuor(f)},"ior"),i.prototype.or=o(function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},"or"),i.prototype.uor=o(function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},"uor"),i.prototype.iuand=o(function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this.strip()},"iuand"),i.prototype.iand=o(function(f){return r((this.negative|f.negative)===0),this.iuand(f)},"iand"),i.prototype.and=o(function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},"and"),i.prototype.uand=o(function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},"uand"),i.prototype.iuxor=o(function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this.strip()},"iuxor"),i.prototype.ixor=o(function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},"ixor"),i.prototype.xor=o(function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},"xor"),i.prototype.uxor=o(function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},"uxor"),i.prototype.inotn=o(function(f){r(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this.strip()},"inotn"),i.prototype.notn=o(function(f){return this.clone().inotn(f)},"notn"),i.prototype.setn=o(function(f,d){r(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this.strip()},"setn"),i.prototype.iadd=o(function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var _=0,A=0;A<x.length;A++)d=(b.words[A]|0)+(x.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;for(;_!==0&&A<b.length;A++)d=(b.words[A]|0)+_,this.words[A]=d&67108863,_=d>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},"iadd"),i.prototype.add=o(function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},"add"),i.prototype.isub=o(function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;b>0?(x=this,_=f):(x=f,_=this);for(var A=0,I=0;I<_.length;I++)d=(x.words[I]|0)-(_.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;for(;A!==0&&I<x.length;I++)d=(x.words[I]|0)+A,A=d>>26,this.words[I]=d&67108863;if(A===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},"isub"),i.prototype.sub=o(function(f){return this.clone().isub(f)},"sub");function T(E,f,d){d.negative=f.negative^E.negative;var b=E.length+f.length|0;d.length=b,b=b-1|0;var x=E.words[0]|0,_=f.words[0]|0,A=x*_,I=A&67108863,v=A/67108864|0;d.words[0]=I;for(var l=1;l<b;l++){for(var w=v>>>26,V=v&67108863,q=Math.min(l,f.length-1),U=Math.max(0,l-E.length+1);U<=q;U++){var G=l-U|0;x=E.words[G]|0,_=f.words[U]|0,A=x*_+V,w+=A/67108864|0,V=A&67108863}d.words[l]=V|0,v=w|0}return v!==0?d.words[l]=v|0:d.length--,d.strip()}o(T,"smallMulTo");var O=o(function(f,d,b){var x=f.words,_=d.words,A=b.words,I=0,v,l,w,V=x[0]|0,q=V&8191,U=V>>>13,G=x[1]|0,ee=G&8191,re=G>>>13,Oe=x[2]|0,ae=Oe&8191,le=Oe>>>13,ye=x[3]|0,he=ye&8191,ge=ye>>>13,lr=x[4]|0,Ae=lr&8191,Me=lr>>>13,Kn=x[5]|0,qe=Kn&8191,ke=Kn>>>13,$n=x[6]|0,Ue=$n&8191,Pe=$n>>>13,Gn=x[7]|0,Be=Gn&8191,Le=Gn>>>13,en=x[8]|0,J=en&8191,Q=en>>>13,pe=x[9]|0,ne=pe&8191,de=pe>>>13,yt=_[0]|0,ve=yt&8191,Ee=yt>>>13,tr=_[1]|0,Te=tr&8191,Ne=tr>>>13,ui=_[2]|0,Fe=ui&8191,De=ui>>>13,po=_[3]|0,Ge=po&8191,We=po>>>13,Wn=_[4]|0,He=Wn&8191,Ve=Wn>>>13,ro=_[5]|0,je=ro&8191,ze=ro>>>13,Ao=_[6]|0,Ce=Ao&8191,Ke=Ao>>>13,z=_[7]|0,$=z&8191,K=z>>>13,D=_[8]|0,Y=D&8191,te=D>>>13,me=_[9]|0,se=me&8191,ue=me>>>13;b.negative=f.negative^d.negative,b.length=19,v=Math.imul(q,ve),l=Math.imul(q,Ee),l=l+Math.imul(U,ve)|0,w=Math.imul(U,Ee);var lt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(ee,ve),l=Math.imul(ee,Ee),l=l+Math.imul(re,ve)|0,w=Math.imul(re,Ee),v=v+Math.imul(q,Te)|0,l=l+Math.imul(q,Ne)|0,l=l+Math.imul(U,Te)|0,w=w+Math.imul(U,Ne)|0;var nt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(ae,ve),l=Math.imul(ae,Ee),l=l+Math.imul(le,ve)|0,w=Math.imul(le,Ee),v=v+Math.imul(ee,Te)|0,l=l+Math.imul(ee,Ne)|0,l=l+Math.imul(re,Te)|0,w=w+Math.imul(re,Ne)|0,v=v+Math.imul(q,Fe)|0,l=l+Math.imul(q,De)|0,l=l+Math.imul(U,Fe)|0,w=w+Math.imul(U,De)|0;var Pt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,v=Math.imul(he,ve),l=Math.imul(he,Ee),l=l+Math.imul(ge,ve)|0,w=Math.imul(ge,Ee),v=v+Math.imul(ae,Te)|0,l=l+Math.imul(ae,Ne)|0,l=l+Math.imul(le,Te)|0,w=w+Math.imul(le,Ne)|0,v=v+Math.imul(ee,Fe)|0,l=l+Math.imul(ee,De)|0,l=l+Math.imul(re,Fe)|0,w=w+Math.imul(re,De)|0,v=v+Math.imul(q,Ge)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(U,Ge)|0,w=w+Math.imul(U,We)|0;var st=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(st>>>26)|0,st&=67108863,v=Math.imul(Ae,ve),l=Math.imul(Ae,Ee),l=l+Math.imul(Me,ve)|0,w=Math.imul(Me,Ee),v=v+Math.imul(he,Te)|0,l=l+Math.imul(he,Ne)|0,l=l+Math.imul(ge,Te)|0,w=w+Math.imul(ge,Ne)|0,v=v+Math.imul(ae,Fe)|0,l=l+Math.imul(ae,De)|0,l=l+Math.imul(le,Fe)|0,w=w+Math.imul(le,De)|0,v=v+Math.imul(ee,Ge)|0,l=l+Math.imul(ee,We)|0,l=l+Math.imul(re,Ge)|0,w=w+Math.imul(re,We)|0,v=v+Math.imul(q,He)|0,l=l+Math.imul(q,Ve)|0,l=l+Math.imul(U,He)|0,w=w+Math.imul(U,Ve)|0;var xt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(qe,ve),l=Math.imul(qe,Ee),l=l+Math.imul(ke,ve)|0,w=Math.imul(ke,Ee),v=v+Math.imul(Ae,Te)|0,l=l+Math.imul(Ae,Ne)|0,l=l+Math.imul(Me,Te)|0,w=w+Math.imul(Me,Ne)|0,v=v+Math.imul(he,Fe)|0,l=l+Math.imul(he,De)|0,l=l+Math.imul(ge,Fe)|0,w=w+Math.imul(ge,De)|0,v=v+Math.imul(ae,Ge)|0,l=l+Math.imul(ae,We)|0,l=l+Math.imul(le,Ge)|0,w=w+Math.imul(le,We)|0,v=v+Math.imul(ee,He)|0,l=l+Math.imul(ee,Ve)|0,l=l+Math.imul(re,He)|0,w=w+Math.imul(re,Ve)|0,v=v+Math.imul(q,je)|0,l=l+Math.imul(q,ze)|0,l=l+Math.imul(U,je)|0,w=w+Math.imul(U,ze)|0;var vt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Ue,ve),l=Math.imul(Ue,Ee),l=l+Math.imul(Pe,ve)|0,w=Math.imul(Pe,Ee),v=v+Math.imul(qe,Te)|0,l=l+Math.imul(qe,Ne)|0,l=l+Math.imul(ke,Te)|0,w=w+Math.imul(ke,Ne)|0,v=v+Math.imul(Ae,Fe)|0,l=l+Math.imul(Ae,De)|0,l=l+Math.imul(Me,Fe)|0,w=w+Math.imul(Me,De)|0,v=v+Math.imul(he,Ge)|0,l=l+Math.imul(he,We)|0,l=l+Math.imul(ge,Ge)|0,w=w+Math.imul(ge,We)|0,v=v+Math.imul(ae,He)|0,l=l+Math.imul(ae,Ve)|0,l=l+Math.imul(le,He)|0,w=w+Math.imul(le,Ve)|0,v=v+Math.imul(ee,je)|0,l=l+Math.imul(ee,ze)|0,l=l+Math.imul(re,je)|0,w=w+Math.imul(re,ze)|0,v=v+Math.imul(q,Ce)|0,l=l+Math.imul(q,Ke)|0,l=l+Math.imul(U,Ce)|0,w=w+Math.imul(U,Ke)|0;var It=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(It>>>26)|0,It&=67108863,v=Math.imul(Be,ve),l=Math.imul(Be,Ee),l=l+Math.imul(Le,ve)|0,w=Math.imul(Le,Ee),v=v+Math.imul(Ue,Te)|0,l=l+Math.imul(Ue,Ne)|0,l=l+Math.imul(Pe,Te)|0,w=w+Math.imul(Pe,Ne)|0,v=v+Math.imul(qe,Fe)|0,l=l+Math.imul(qe,De)|0,l=l+Math.imul(ke,Fe)|0,w=w+Math.imul(ke,De)|0,v=v+Math.imul(Ae,Ge)|0,l=l+Math.imul(Ae,We)|0,l=l+Math.imul(Me,Ge)|0,w=w+Math.imul(Me,We)|0,v=v+Math.imul(he,He)|0,l=l+Math.imul(he,Ve)|0,l=l+Math.imul(ge,He)|0,w=w+Math.imul(ge,Ve)|0,v=v+Math.imul(ae,je)|0,l=l+Math.imul(ae,ze)|0,l=l+Math.imul(le,je)|0,w=w+Math.imul(le,ze)|0,v=v+Math.imul(ee,Ce)|0,l=l+Math.imul(ee,Ke)|0,l=l+Math.imul(re,Ce)|0,w=w+Math.imul(re,Ke)|0,v=v+Math.imul(q,$)|0,l=l+Math.imul(q,K)|0,l=l+Math.imul(U,$)|0,w=w+Math.imul(U,K)|0;var At=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(J,ve),l=Math.imul(J,Ee),l=l+Math.imul(Q,ve)|0,w=Math.imul(Q,Ee),v=v+Math.imul(Be,Te)|0,l=l+Math.imul(Be,Ne)|0,l=l+Math.imul(Le,Te)|0,w=w+Math.imul(Le,Ne)|0,v=v+Math.imul(Ue,Fe)|0,l=l+Math.imul(Ue,De)|0,l=l+Math.imul(Pe,Fe)|0,w=w+Math.imul(Pe,De)|0,v=v+Math.imul(qe,Ge)|0,l=l+Math.imul(qe,We)|0,l=l+Math.imul(ke,Ge)|0,w=w+Math.imul(ke,We)|0,v=v+Math.imul(Ae,He)|0,l=l+Math.imul(Ae,Ve)|0,l=l+Math.imul(Me,He)|0,w=w+Math.imul(Me,Ve)|0,v=v+Math.imul(he,je)|0,l=l+Math.imul(he,ze)|0,l=l+Math.imul(ge,je)|0,w=w+Math.imul(ge,ze)|0,v=v+Math.imul(ae,Ce)|0,l=l+Math.imul(ae,Ke)|0,l=l+Math.imul(le,Ce)|0,w=w+Math.imul(le,Ke)|0,v=v+Math.imul(ee,$)|0,l=l+Math.imul(ee,K)|0,l=l+Math.imul(re,$)|0,w=w+Math.imul(re,K)|0,v=v+Math.imul(q,Y)|0,l=l+Math.imul(q,te)|0,l=l+Math.imul(U,Y)|0,w=w+Math.imul(U,te)|0;var _t=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(ne,ve),l=Math.imul(ne,Ee),l=l+Math.imul(de,ve)|0,w=Math.imul(de,Ee),v=v+Math.imul(J,Te)|0,l=l+Math.imul(J,Ne)|0,l=l+Math.imul(Q,Te)|0,w=w+Math.imul(Q,Ne)|0,v=v+Math.imul(Be,Fe)|0,l=l+Math.imul(Be,De)|0,l=l+Math.imul(Le,Fe)|0,w=w+Math.imul(Le,De)|0,v=v+Math.imul(Ue,Ge)|0,l=l+Math.imul(Ue,We)|0,l=l+Math.imul(Pe,Ge)|0,w=w+Math.imul(Pe,We)|0,v=v+Math.imul(qe,He)|0,l=l+Math.imul(qe,Ve)|0,l=l+Math.imul(ke,He)|0,w=w+Math.imul(ke,Ve)|0,v=v+Math.imul(Ae,je)|0,l=l+Math.imul(Ae,ze)|0,l=l+Math.imul(Me,je)|0,w=w+Math.imul(Me,ze)|0,v=v+Math.imul(he,Ce)|0,l=l+Math.imul(he,Ke)|0,l=l+Math.imul(ge,Ce)|0,w=w+Math.imul(ge,Ke)|0,v=v+Math.imul(ae,$)|0,l=l+Math.imul(ae,K)|0,l=l+Math.imul(le,$)|0,w=w+Math.imul(le,K)|0,v=v+Math.imul(ee,Y)|0,l=l+Math.imul(ee,te)|0,l=l+Math.imul(re,Y)|0,w=w+Math.imul(re,te)|0,v=v+Math.imul(q,se)|0,l=l+Math.imul(q,ue)|0,l=l+Math.imul(U,se)|0,w=w+Math.imul(U,ue)|0;var St=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(St>>>26)|0,St&=67108863,v=Math.imul(ne,Te),l=Math.imul(ne,Ne),l=l+Math.imul(de,Te)|0,w=Math.imul(de,Ne),v=v+Math.imul(J,Fe)|0,l=l+Math.imul(J,De)|0,l=l+Math.imul(Q,Fe)|0,w=w+Math.imul(Q,De)|0,v=v+Math.imul(Be,Ge)|0,l=l+Math.imul(Be,We)|0,l=l+Math.imul(Le,Ge)|0,w=w+Math.imul(Le,We)|0,v=v+Math.imul(Ue,He)|0,l=l+Math.imul(Ue,Ve)|0,l=l+Math.imul(Pe,He)|0,w=w+Math.imul(Pe,Ve)|0,v=v+Math.imul(qe,je)|0,l=l+Math.imul(qe,ze)|0,l=l+Math.imul(ke,je)|0,w=w+Math.imul(ke,ze)|0,v=v+Math.imul(Ae,Ce)|0,l=l+Math.imul(Ae,Ke)|0,l=l+Math.imul(Me,Ce)|0,w=w+Math.imul(Me,Ke)|0,v=v+Math.imul(he,$)|0,l=l+Math.imul(he,K)|0,l=l+Math.imul(ge,$)|0,w=w+Math.imul(ge,K)|0,v=v+Math.imul(ae,Y)|0,l=l+Math.imul(ae,te)|0,l=l+Math.imul(le,Y)|0,w=w+Math.imul(le,te)|0,v=v+Math.imul(ee,se)|0,l=l+Math.imul(ee,ue)|0,l=l+Math.imul(re,se)|0,w=w+Math.imul(re,ue)|0;var wt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(ne,Fe),l=Math.imul(ne,De),l=l+Math.imul(de,Fe)|0,w=Math.imul(de,De),v=v+Math.imul(J,Ge)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(Q,Ge)|0,w=w+Math.imul(Q,We)|0,v=v+Math.imul(Be,He)|0,l=l+Math.imul(Be,Ve)|0,l=l+Math.imul(Le,He)|0,w=w+Math.imul(Le,Ve)|0,v=v+Math.imul(Ue,je)|0,l=l+Math.imul(Ue,ze)|0,l=l+Math.imul(Pe,je)|0,w=w+Math.imul(Pe,ze)|0,v=v+Math.imul(qe,Ce)|0,l=l+Math.imul(qe,Ke)|0,l=l+Math.imul(ke,Ce)|0,w=w+Math.imul(ke,Ke)|0,v=v+Math.imul(Ae,$)|0,l=l+Math.imul(Ae,K)|0,l=l+Math.imul(Me,$)|0,w=w+Math.imul(Me,K)|0,v=v+Math.imul(he,Y)|0,l=l+Math.imul(he,te)|0,l=l+Math.imul(ge,Y)|0,w=w+Math.imul(ge,te)|0,v=v+Math.imul(ae,se)|0,l=l+Math.imul(ae,ue)|0,l=l+Math.imul(le,se)|0,w=w+Math.imul(le,ue)|0;var ct=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(ne,Ge),l=Math.imul(ne,We),l=l+Math.imul(de,Ge)|0,w=Math.imul(de,We),v=v+Math.imul(J,He)|0,l=l+Math.imul(J,Ve)|0,l=l+Math.imul(Q,He)|0,w=w+Math.imul(Q,Ve)|0,v=v+Math.imul(Be,je)|0,l=l+Math.imul(Be,ze)|0,l=l+Math.imul(Le,je)|0,w=w+Math.imul(Le,ze)|0,v=v+Math.imul(Ue,Ce)|0,l=l+Math.imul(Ue,Ke)|0,l=l+Math.imul(Pe,Ce)|0,w=w+Math.imul(Pe,Ke)|0,v=v+Math.imul(qe,$)|0,l=l+Math.imul(qe,K)|0,l=l+Math.imul(ke,$)|0,w=w+Math.imul(ke,K)|0,v=v+Math.imul(Ae,Y)|0,l=l+Math.imul(Ae,te)|0,l=l+Math.imul(Me,Y)|0,w=w+Math.imul(Me,te)|0,v=v+Math.imul(he,se)|0,l=l+Math.imul(he,ue)|0,l=l+Math.imul(ge,se)|0,w=w+Math.imul(ge,ue)|0;var dt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(ne,He),l=Math.imul(ne,Ve),l=l+Math.imul(de,He)|0,w=Math.imul(de,Ve),v=v+Math.imul(J,je)|0,l=l+Math.imul(J,ze)|0,l=l+Math.imul(Q,je)|0,w=w+Math.imul(Q,ze)|0,v=v+Math.imul(Be,Ce)|0,l=l+Math.imul(Be,Ke)|0,l=l+Math.imul(Le,Ce)|0,w=w+Math.imul(Le,Ke)|0,v=v+Math.imul(Ue,$)|0,l=l+Math.imul(Ue,K)|0,l=l+Math.imul(Pe,$)|0,w=w+Math.imul(Pe,K)|0,v=v+Math.imul(qe,Y)|0,l=l+Math.imul(qe,te)|0,l=l+Math.imul(ke,Y)|0,w=w+Math.imul(ke,te)|0,v=v+Math.imul(Ae,se)|0,l=l+Math.imul(Ae,ue)|0,l=l+Math.imul(Me,se)|0,w=w+Math.imul(Me,ue)|0;var ot=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ne,je),l=Math.imul(ne,ze),l=l+Math.imul(de,je)|0,w=Math.imul(de,ze),v=v+Math.imul(J,Ce)|0,l=l+Math.imul(J,Ke)|0,l=l+Math.imul(Q,Ce)|0,w=w+Math.imul(Q,Ke)|0,v=v+Math.imul(Be,$)|0,l=l+Math.imul(Be,K)|0,l=l+Math.imul(Le,$)|0,w=w+Math.imul(Le,K)|0,v=v+Math.imul(Ue,Y)|0,l=l+Math.imul(Ue,te)|0,l=l+Math.imul(Pe,Y)|0,w=w+Math.imul(Pe,te)|0,v=v+Math.imul(qe,se)|0,l=l+Math.imul(qe,ue)|0,l=l+Math.imul(ke,se)|0,w=w+Math.imul(ke,ue)|0;var ft=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(ne,Ce),l=Math.imul(ne,Ke),l=l+Math.imul(de,Ce)|0,w=Math.imul(de,Ke),v=v+Math.imul(J,$)|0,l=l+Math.imul(J,K)|0,l=l+Math.imul(Q,$)|0,w=w+Math.imul(Q,K)|0,v=v+Math.imul(Be,Y)|0,l=l+Math.imul(Be,te)|0,l=l+Math.imul(Le,Y)|0,w=w+Math.imul(Le,te)|0,v=v+Math.imul(Ue,se)|0,l=l+Math.imul(Ue,ue)|0,l=l+Math.imul(Pe,se)|0,w=w+Math.imul(Pe,ue)|0;var ut=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(ne,$),l=Math.imul(ne,K),l=l+Math.imul(de,$)|0,w=Math.imul(de,K),v=v+Math.imul(J,Y)|0,l=l+Math.imul(J,te)|0,l=l+Math.imul(Q,Y)|0,w=w+Math.imul(Q,te)|0,v=v+Math.imul(Be,se)|0,l=l+Math.imul(Be,ue)|0,l=l+Math.imul(Le,se)|0,w=w+Math.imul(Le,ue)|0;var rt=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(ne,Y),l=Math.imul(ne,te),l=l+Math.imul(de,Y)|0,w=Math.imul(de,te),v=v+Math.imul(J,se)|0,l=l+Math.imul(J,ue)|0,l=l+Math.imul(Q,se)|0,w=w+Math.imul(Q,ue)|0;var _e=(I+v|0)+((l&8191)<<13)|0;I=(w+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,v=Math.imul(ne,se),l=Math.imul(ne,ue),l=l+Math.imul(de,se)|0,w=Math.imul(de,ue);var we=(I+v|0)+((l&8191)<<13)|0;return I=(w+(l>>>13)|0)+(we>>>26)|0,we&=67108863,A[0]=lt,A[1]=nt,A[2]=Pt,A[3]=st,A[4]=xt,A[5]=vt,A[6]=It,A[7]=At,A[8]=_t,A[9]=St,A[10]=wt,A[11]=ct,A[12]=dt,A[13]=ot,A[14]=ft,A[15]=ut,A[16]=rt,A[17]=_e,A[18]=we,I!==0&&(A[19]=I,b.length++),b},"comb10MulTo");Math.imul||(O=T);function M(E,f,d){d.negative=f.negative^E.negative,d.length=E.length+f.length;for(var b=0,x=0,_=0;_<d.length-1;_++){var A=x;x=0;for(var I=b&67108863,v=Math.min(_,f.length-1),l=Math.max(0,_-E.length+1);l<=v;l++){var w=_-l,V=E.words[w]|0,q=f.words[l]|0,U=V*q,G=U&67108863;A=A+(U/67108864|0)|0,G=G+I|0,I=G&67108863,A=A+(G>>>26)|0,x+=A>>>26,A&=67108863}d.words[_]=I,b=A,A=x}return b!==0?d.words[_]=b:d.length--,d.strip()}o(M,"bigMulTo");function k(E,f,d){var b=new C;return b.mulp(E,f,d)}o(k,"jumboMulTo"),i.prototype.mulTo=o(function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=O(this,f,d):x<63?b=T(this,f,d):x<1024?b=M(this,f,d):b=k(this,f,d),b},"mulTo");function C(E,f){this.x=E,this.y=f}o(C,"FFTM"),C.prototype.makeRBT=o(function(f){for(var d=new Array(f),b=i.prototype._countBits(f)-1,x=0;x<f;x++)d[x]=this.revBin(x,b,f);return d},"makeRBT"),C.prototype.revBin=o(function(f,d,b){if(f===0||f===b-1)return f;for(var x=0,_=0;_<d;_++)x|=(f&1)<<d-_-1,f>>=1;return x},"revBin"),C.prototype.permute=o(function(f,d,b,x,_,A){for(var I=0;I<A;I++)x[I]=d[f[I]],_[I]=b[f[I]]},"permute"),C.prototype.transform=o(function(f,d,b,x,_,A){this.permute(A,f,d,b,x,_);for(var I=1;I<_;I<<=1)for(var v=I<<1,l=Math.cos(2*Math.PI/v),w=Math.sin(2*Math.PI/v),V=0;V<_;V+=v)for(var q=l,U=w,G=0;G<I;G++){var ee=b[V+G],re=x[V+G],Oe=b[V+G+I],ae=x[V+G+I],le=q*Oe-U*ae;ae=q*ae+U*Oe,Oe=le,b[V+G]=ee+Oe,x[V+G]=re+ae,b[V+G+I]=ee-Oe,x[V+G+I]=re-ae,G!==v&&(le=l*q-w*U,U=l*U+w*q,q=le)}},"transform"),C.prototype.guessLen13b=o(function(f,d){var b=Math.max(d,f)|1,x=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+x},"guessLen13b"),C.prototype.conjugate=o(function(f,d,b){if(!(b<=1))for(var x=0;x<b/2;x++){var _=f[x];f[x]=f[b-x-1],f[b-x-1]=_,_=d[x],d[x]=-d[b-x-1],d[b-x-1]=-_}},"conjugate"),C.prototype.normalize13b=o(function(f,d){for(var b=0,x=0;x<d/2;x++){var _=Math.round(f[2*x+1]/d)*8192+Math.round(f[2*x]/d)+b;f[x]=_&67108863,_<67108864?b=0:b=_/67108864|0}return f},"normalize13b"),C.prototype.convert13b=o(function(f,d,b,x){for(var _=0,A=0;A<d;A++)_=_+(f[A]|0),b[2*A]=_&8191,_=_>>>13,b[2*A+1]=_&8191,_=_>>>13;for(A=2*d;A<x;++A)b[A]=0;r(_===0),r((_&-8192)===0)},"convert13b"),C.prototype.stub=o(function(f){for(var d=new Array(f),b=0;b<f;b++)d[b]=0;return d},"stub"),C.prototype.mulp=o(function(f,d,b){var x=2*this.guessLen13b(f.length,d.length),_=this.makeRBT(x),A=this.stub(x),I=new Array(x),v=new Array(x),l=new Array(x),w=new Array(x),V=new Array(x),q=new Array(x),U=b.words;U.length=x,this.convert13b(f.words,f.length,I,x),this.convert13b(d.words,d.length,w,x),this.transform(I,A,v,l,x,_),this.transform(w,A,V,q,x,_);for(var G=0;G<x;G++){var ee=v[G]*V[G]-l[G]*q[G];l[G]=v[G]*q[G]+l[G]*V[G],v[G]=ee}return this.conjugate(v,l,x),this.transform(v,l,U,A,x,_),this.conjugate(U,A,x),this.normalize13b(U,x),b.negative=f.negative^d.negative,b.length=f.length+d.length,b.strip()},"mulp"),i.prototype.mul=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},"mul"),i.prototype.mulf=o(function(f){var d=new i(null);return d.words=new Array(this.length+f.length),k(this,f,d)},"mulf"),i.prototype.imul=o(function(f){return this.clone().mulTo(f,this)},"imul"),i.prototype.imuln=o(function(f){r(typeof f=="number"),r(f<67108864);for(var d=0,b=0;b<this.length;b++){var x=(this.words[b]|0)*f,_=(x&67108863)+(d&67108863);d>>=26,d+=x/67108864|0,d+=_>>>26,this.words[b]=_&67108863}return d!==0&&(this.words[b]=d,this.length++),this},"imuln"),i.prototype.muln=o(function(f){return this.clone().imuln(f)},"muln"),i.prototype.sqr=o(function(){return this.mul(this)},"sqr"),i.prototype.isqr=o(function(){return this.imul(this.clone())},"isqr"),i.prototype.pow=o(function(f){var d=S(f);if(d.length===0)return new i(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var _=b.sqr();x<d.length;x++,_=_.sqr())d[x]!==0&&(b=b.mul(_));return b},"pow"),i.prototype.iushln=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,_;if(d!==0){var A=0;for(_=0;_<this.length;_++){var I=this.words[_]&x,v=(this.words[_]|0)-I<<d;this.words[_]=v|A,A=I>>>26-d}A&&(this.words[_]=A,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},"iushln"),i.prototype.ishln=o(function(f){return r(this.negative===0),this.iushln(f)},"ishln"),i.prototype.iushrn=o(function(f,d,b){r(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var _=f%26,A=Math.min((f-_)/26,this.length),I=67108863^67108863>>>_<<_,v=b;if(x-=A,x=Math.max(0,x),v){for(var l=0;l<A;l++)v.words[l]=this.words[l];v.length=A}if(A!==0)if(this.length>A)for(this.length-=A,l=0;l<this.length;l++)this.words[l]=this.words[l+A];else this.words[0]=0,this.length=1;var w=0;for(l=this.length-1;l>=0&&(w!==0||l>=x);l--){var V=this.words[l]|0;this.words[l]=w<<26-_|V>>>_,w=V&I}return v&&w!==0&&(v.words[v.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),i.prototype.ishrn=o(function(f,d,b){return r(this.negative===0),this.iushrn(f,d,b)},"ishrn"),i.prototype.shln=o(function(f){return this.clone().ishln(f)},"shln"),i.prototype.ushln=o(function(f){return this.clone().iushln(f)},"ushln"),i.prototype.shrn=o(function(f){return this.clone().ishrn(f)},"shrn"),i.prototype.ushrn=o(function(f){return this.clone().iushrn(f)},"ushrn"),i.prototype.testn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var _=this.words[b];return!!(_&x)},"testn"),i.prototype.imaskn=o(function(f){r(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this.strip()},"imaskn"),i.prototype.maskn=o(function(f){return this.clone().imaskn(f)},"maskn"),i.prototype.iaddn=o(function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},"iaddn"),i.prototype._iaddn=o(function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},"_iaddn"),i.prototype.isubn=o(function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},"isubn"),i.prototype.addn=o(function(f){return this.clone().iaddn(f)},"addn"),i.prototype.subn=o(function(f){return this.clone().isubn(f)},"subn"),i.prototype.iabs=o(function(){return this.negative=0,this},"iabs"),i.prototype.abs=o(function(){return this.clone().iabs()},"abs"),i.prototype._ishlnsubmul=o(function(f,d,b){var x=f.length+b,_;this._expand(x);var A,I=0;for(_=0;_<f.length;_++){A=(this.words[_+b]|0)+I;var v=(f.words[_]|0)*d;A-=v&67108863,I=(A>>26)-(v/67108864|0),this.words[_+b]=A&67108863}for(;_<this.length-b;_++)A=(this.words[_+b]|0)+I,I=A>>26,this.words[_+b]=A&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)A=-(this.words[_]|0)+I,I=A>>26,this.words[_]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),i.prototype._wordDiv=o(function(f,d){var b=this.length-f.length,x=this.clone(),_=f,A=_.words[_.length-1]|0,I=this._countBits(A);b=26-I,b!==0&&(_=_.ushln(b),x.iushln(b),A=_.words[_.length-1]|0);var v=x.length-_.length,l;if(d!=="mod"){l=new i(null),l.length=v+1,l.words=new Array(l.length);for(var w=0;w<l.length;w++)l.words[w]=0}var V=x.clone()._ishlnsubmul(_,1,v);V.negative===0&&(x=V,l&&(l.words[v]=1));for(var q=v-1;q>=0;q--){var U=(x.words[_.length+q]|0)*67108864+(x.words[_.length+q-1]|0);for(U=Math.min(U/A|0,67108863),x._ishlnsubmul(_,U,q);x.negative!==0;)U--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);l&&(l.words[q]=U)}return l&&l.strip(),x.strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:l||null,mod:x}},"_wordDiv"),i.prototype.divmod=o(function(f,d,b){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,_,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,d),d!=="mod"&&(x=A.div.neg()),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.iadd(f)),{div:x,mod:_}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),d),d!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),d),d!=="div"&&(_=A.mod.neg(),b&&_.negative!==0&&_.isub(f)),{div:A.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modn(f.words[0]))}:this._wordDiv(f,d)},"divmod"),i.prototype.div=o(function(f){return this.divmod(f,"div",!1).div},"div"),i.prototype.mod=o(function(f){return this.divmod(f,"mod",!1).mod},"mod"),i.prototype.umod=o(function(f){return this.divmod(f,"mod",!0).mod},"umod"),i.prototype.divRound=o(function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),_=f.andln(1),A=b.cmp(x);return A<0||_===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},"divRound"),i.prototype.modn=o(function(f){r(f<=67108863);for(var d=(1<<26)%f,b=0,x=this.length-1;x>=0;x--)b=(d*b+(this.words[x]|0))%f;return b},"modn"),i.prototype.idivn=o(function(f){r(f<=67108863);for(var d=0,b=this.length-1;b>=0;b--){var x=(this.words[b]|0)+d*67108864;this.words[b]=x/f|0,d=x%f}return this.strip()},"idivn"),i.prototype.divn=o(function(f){return this.clone().idivn(f)},"divn"),i.prototype.egcd=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=new i(0),I=new i(1),v=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++v;for(var l=b.clone(),w=d.clone();!d.isZero();){for(var V=0,q=1;!(d.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(l),_.isub(w)),x.iushrn(1),_.iushrn(1);for(var U=0,G=1;!(b.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(b.iushrn(U);U-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(l),I.isub(w)),A.iushrn(1),I.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(A),_.isub(I)):(b.isub(d),A.isub(x),I.isub(_))}return{a:A,b:I,gcd:b.iushln(v)}},"egcd"),i.prototype._invmp=o(function(f){r(f.negative===0),r(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new i(1),_=new i(0),A=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var I=0,v=1;!(d.words[0]&v)&&I<26;++I,v<<=1);if(I>0)for(d.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var l=0,w=1;!(b.words[0]&w)&&l<26;++l,w<<=1);if(l>0)for(b.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(_)):(b.isub(d),_.isub(x))}var V;return d.cmpn(1)===0?V=x:V=_,V.cmpn(0)<0&&V.iadd(f),V},"_invmp"),i.prototype.gcd=o(function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=d.cmp(b);if(_<0){var A=d;d=b,b=A}else if(_===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},"gcd"),i.prototype.invm=o(function(f){return this.egcd(f).a.umod(f)},"invm"),i.prototype.isEven=o(function(){return(this.words[0]&1)===0},"isEven"),i.prototype.isOdd=o(function(){return(this.words[0]&1)===1},"isOdd"),i.prototype.andln=o(function(f){return this.words[0]&f},"andln"),i.prototype.bincn=o(function(f){r(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var _=x,A=b;_!==0&&A<this.length;A++){var I=this.words[A]|0;I+=_,_=I>>>26,I&=67108863,this.words[A]=I}return _!==0&&(this.words[A]=_,this.length++),this},"bincn"),i.prototype.isZero=o(function(){return this.length===1&&this.words[0]===0},"isZero"),i.prototype.cmpn=o(function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var b;if(this.length>1)b=1;else{d&&(f=-f),r(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},"cmpn"),i.prototype.cmp=o(function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},"cmp"),i.prototype.ucmp=o(function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,_=f.words[b]|0;if(x!==_){x<_?d=-1:x>_&&(d=1);break}}return d},"ucmp"),i.prototype.gtn=o(function(f){return this.cmpn(f)===1},"gtn"),i.prototype.gt=o(function(f){return this.cmp(f)===1},"gt"),i.prototype.gten=o(function(f){return this.cmpn(f)>=0},"gten"),i.prototype.gte=o(function(f){return this.cmp(f)>=0},"gte"),i.prototype.ltn=o(function(f){return this.cmpn(f)===-1},"ltn"),i.prototype.lt=o(function(f){return this.cmp(f)===-1},"lt"),i.prototype.lten=o(function(f){return this.cmpn(f)<=0},"lten"),i.prototype.lte=o(function(f){return this.cmp(f)<=0},"lte"),i.prototype.eqn=o(function(f){return this.cmpn(f)===0},"eqn"),i.prototype.eq=o(function(f){return this.cmp(f)===0},"eq"),i.red=o(function(f){return new W(f)},"red"),i.prototype.toRed=o(function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},"toRed"),i.prototype.fromRed=o(function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),i.prototype._forceRed=o(function(f){return this.red=f,this},"_forceRed"),i.prototype.forceRed=o(function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},"forceRed"),i.prototype.redAdd=o(function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},"redAdd"),i.prototype.redIAdd=o(function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},"redIAdd"),i.prototype.redSub=o(function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},"redSub"),i.prototype.redISub=o(function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},"redISub"),i.prototype.redShl=o(function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},"redShl"),i.prototype.redMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},"redMul"),i.prototype.redIMul=o(function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},"redIMul"),i.prototype.redSqr=o(function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),i.prototype.redISqr=o(function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),i.prototype.redSqrt=o(function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),i.prototype.redInvm=o(function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),i.prototype.redNeg=o(function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),i.prototype.redPow=o(function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)},"redPow");var B={k256:null,p224:null,p192:null,p25519:null};function N(E,f){this.name=E,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}o(N,"MPrime"),N.prototype._tmp=o(function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},"_tmp"),N.prototype.ireduce=o(function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},"ireduce"),N.prototype.split=o(function(f,d){f.iushrn(this.n,0,d)},"split"),N.prototype.imulK=o(function(f){return f.imul(this.k)},"imulK");function P(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(P,"K256"),n(P,N),P.prototype.split=o(function(f,d){for(var b=4194303,x=Math.min(f.length,9),_=0;_<x;_++)d.words[_]=f.words[_];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(d.words[d.length++]=A&b,_=10;_<f.length;_++){var I=f.words[_]|0;f.words[_-10]=(I&b)<<4|A>>>22,A=I}A>>>=22,f.words[_-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},"split"),P.prototype.imulK=o(function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f},"imulK");function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(H,"P224"),n(H,N);function F(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,"P192"),n(F,N);function Z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,"P25519"),n(Z,N),Z.prototype.imulK=o(function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,_=x&67108863;x>>>=26,f.words[b]=_,d=x}return d!==0&&(f.words[f.length++]=d),f},"imulK"),i._prime=o(function(f){if(B[f])return B[f];var d;if(f==="k256")d=new P;else if(f==="p224")d=new H;else if(f==="p192")d=new F;else if(f==="p25519")d=new Z;else throw new Error("Unknown prime "+f);return B[f]=d,d},"prime");function W(E){if(typeof E=="string"){var f=i._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}o(W,"Red"),W.prototype._verify1=o(function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},"_verify1"),W.prototype._verify2=o(function(f,d){r((f.negative|d.negative)===0,"red works only with positives"),r(f.red&&f.red===d.red,"red works only with red numbers")},"_verify2"),W.prototype.imod=o(function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},"imod"),W.prototype.neg=o(function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},"neg"),W.prototype.add=o(function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},"add"),W.prototype.iadd=o(function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},"iadd"),W.prototype.sub=o(function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},"sub"),W.prototype.isub=o(function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},"isub"),W.prototype.shl=o(function(f,d){return this._verify1(f),this.imod(f.ushln(d))},"shl"),W.prototype.imul=o(function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},"imul"),W.prototype.mul=o(function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},"mul"),W.prototype.isqr=o(function(f){return this.imul(f,f.clone())},"isqr"),W.prototype.sqr=o(function(f){return this.mul(f,f)},"sqr"),W.prototype.sqrt=o(function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);r(!x.isZero());var A=new i(1).toRed(this),I=A.redNeg(),v=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,v).cmp(I)!==0;)l.redIAdd(I);for(var w=this.pow(l,x),V=this.pow(f,x.addn(1).iushrn(1)),q=this.pow(f,x),U=_;q.cmp(A)!==0;){for(var G=q,ee=0;G.cmp(A)!==0;ee++)G=G.redSqr();r(ee<U);var re=this.pow(w,new i(1).iushln(U-ee-1));V=V.redMul(re),w=re.redSqr(),q=q.redMul(w),U=ee}return V},"sqrt"),W.prototype.invm=o(function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},"invm"),W.prototype.pow=o(function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new i(1).toRed(this),x[1]=f;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],f);var A=x[0],I=0,v=0,l=d.bitLength()%26;for(l===0&&(l=26),_=d.length-1;_>=0;_--){for(var w=d.words[_],V=l-1;V>=0;V--){var q=w>>V&1;if(A!==x[0]&&(A=this.sqr(A)),q===0&&I===0){v=0;continue}I<<=1,I|=q,v++,!(v!==b&&(_!==0||V!==0))&&(A=this.mul(A,x[I]),v=0,I=0)}l=26}return A},"pow"),W.prototype.convertTo=o(function(f){var d=f.umod(this.m);return d===f?d.clone():d},"convertTo"),W.prototype.convertFrom=o(function(f){var d=f.clone();return d.red=null,d},"convertFrom"),i.mont=o(function(f){return new X(f)},"mont");function X(E){W.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(X,"Mont"),n(X,W),X.prototype.convertTo=o(function(f){return this.imod(f.ushln(this.shift))},"convertTo"),X.prototype.convertFrom=o(function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},"convertFrom"),X.prototype.imul=o(function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"imul"),X.prototype.mul=o(function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(x).iushrn(this.shift),A=_;return _.cmp(this.m)>=0?A=_.isub(this.m):_.cmpn(0)<0&&(A=_.iadd(this.m)),A._forceRed(this)},"mul"),X.prototype.invm=o(function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)},"invm")})(typeof gq>"u"||gq,Tbe)});var yq=j((L0r,Rbe)=>{p();m();var Ibe=uR(),Tnt=mr().Buffer;function Int(t,e){return Tnt.from(t.toRed(Ibe.mont(e.modulus)).redPow(new Ibe(e.publicExponent)).fromRed().toArray())}o(Int,"withPublic");Rbe.exports=Int});var Cbe=j((H0r,Nbe)=>{p();m();var Rnt=oE(),bq=uy(),Ont=_y(),Obe=pq(),Mbe=mq(),xq=uR(),Mnt=yq(),Nnt=PI(),il=mr().Buffer;Nbe.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Rnt(e),a;if(i===4)a=Cnt(s,r);else if(i===1)a=knt(s,r,n);else if(i===3){if(a=new xq(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Nnt(a,s):Mnt(a,s)},"publicEncrypt");function Cnt(t,e){var r=t.modulus.byteLength(),n=e.length,i=Ont("sha1").update(il.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var c=il.alloc(r-n-a-2),u=r-s-1,h=bq(s),y=Mbe(il.concat([i,c,il.alloc(1,1),e],u),Obe(h,u)),g=Mbe(h,Obe(y,s));return new xq(il.concat([il.alloc(1),g,y],r))}o(Cnt,"oaep");function knt(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=il.alloc(i-n-3,255):s=Bnt(i-n-3),new xq(il.concat([il.from([0,r?1:2]),s,il.alloc(1),e],i))}o(knt,"pkcs1");function Bnt(t){for(var e=il.allocUnsafe(t),r=0,n=bq(t*2),i=0,s;r<t;)i===n.length&&(n=bq(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}o(Bnt,"nonZero")});var Dbe=j((z0r,Lbe)=>{p();m();var Pnt=oE(),kbe=pq(),Bbe=mq(),Pbe=uR(),Lnt=PI(),Dnt=_y(),Unt=yq(),fE=mr().Buffer;Lbe.exports=o(function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Pnt(e),a=s.modulus.byteLength();if(r.length>a||new Pbe(r).cmp(s.modulus)>=0)throw new Error("decryption error");var c;n?c=Unt(new Pbe(r),s):c=Lnt(r,s);var u=fE.alloc(a-c.length);if(c=fE.concat([u,c],a),i===4)return Fnt(s,c);if(i===1)return Hnt(s,c,n);if(i===3)return c;throw new Error("unknown padding")},"privateDecrypt");function Fnt(t,e){var r=t.modulus.byteLength(),n=Dnt("sha1").update(fE.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),c=Bbe(s,kbe(a,i)),u=Bbe(a,kbe(c,r-i-1));if(qnt(n,u.slice(0,i)))throw new Error("decryption error");for(var h=i;u[h]===0;)h++;if(u[h++]!==1)throw new Error("decryption error");return u.slice(h)}o(Fnt,"oaep");function Hnt(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}o(Hnt,"pkcs1");function qnt(t,e){t=fE.from(t),e=fE.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}o(qnt,"compare")});var Ube=j($y=>{p();m();$y.publicEncrypt=Cbe();$y.privateDecrypt=Dbe();$y.privateEncrypt=o(function(e,r){return $y.publicEncrypt(e,r,!0)},"privateEncrypt");$y.publicDecrypt=o(function(e,r){return $y.privateDecrypt(e,r,!0)},"publicDecrypt")});var Wbe=j(uE=>{"use strict";p();m();function Fbe(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}o(Fbe,"oldBrowser");var qbe=mr(),Hbe=uy(),Vbe=qbe.Buffer,jbe=qbe.kMaxLength,vq=self.crypto||self.msCrypto,zbe=Math.pow(2,32)-1;function Kbe(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>zbe||t<0)throw new TypeError("offset must be a uint32");if(t>jbe||t>e)throw new RangeError("offset out of range")}o(Kbe,"assertOffset");function $be(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>zbe||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>jbe)throw new RangeError("buffer too small")}o($be,"assertSize");vq&&vq.getRandomValues?(uE.randomFill=Vnt,uE.randomFillSync=jnt):(uE.randomFill=Fbe,uE.randomFillSync=Fbe);function Vnt(t,e,r,n){if(!Vbe.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return Kbe(e,t.length),$be(r,e,t.length),Gbe(t,e,r,n)}o(Vnt,"randomFill");function Gbe(t,e,r,n){var i=t.buffer,s=new Uint8Array(i,e,r);if(vq.getRandomValues(s),n){process.nextTick(function(){n(null,t)});return}return t;var a}o(Gbe,"actualFill");function jnt(t,e,r){if(typeof e>"u"&&(e=0),!Vbe.isBuffer(t)&&!(t instanceof self.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Kbe(e,t.length),r===void 0&&(r=t.length-e),$be(r,e,t.length),Gbe(t,e,r)}o(jnt,"randomFillSync")});var Vx=j(Ir=>{"use strict";p();m();Ir.randomBytes=Ir.rng=Ir.pseudoRandomBytes=Ir.prng=uy();Ir.createHash=Ir.Hash=_y();Ir.createHmac=Ir.Hmac=mF();var znt=Q0e(),Knt=Object.keys(znt),$nt=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Knt);Ir.getHashes=function(){return $nt};var Ybe=oI();Ir.pbkdf2=Ybe.pbkdf2;Ir.pbkdf2Sync=Ybe.pbkdf2Sync;var _d=Bme();Ir.Cipher=_d.Cipher;Ir.createCipher=_d.createCipher;Ir.Cipheriv=_d.Cipheriv;Ir.createCipheriv=_d.createCipheriv;Ir.Decipher=_d.Decipher;Ir.createDecipher=_d.createDecipher;Ir.Decipheriv=_d.Decipheriv;Ir.createDecipheriv=_d.createDecipheriv;Ir.getCiphers=_d.getCiphers;Ir.listCiphers=_d.listCiphers;var lE=Yme();Ir.DiffieHellmanGroup=lE.DiffieHellmanGroup;Ir.createDiffieHellmanGroup=lE.createDiffieHellmanGroup;Ir.getDiffieHellman=lE.getDiffieHellman;Ir.createDiffieHellman=lE.createDiffieHellman;Ir.DiffieHellman=lE.DiffieHellman;var lR=xbe();Ir.createSign=lR.createSign;Ir.Sign=lR.Sign;Ir.createVerify=lR.createVerify;Ir.Verify=lR.Verify;Ir.createECDH=Sbe();var dR=Ube();Ir.publicEncrypt=dR.publicEncrypt;Ir.privateEncrypt=dR.privateEncrypt;Ir.publicDecrypt=dR.publicDecrypt;Ir.privateDecrypt=dR.privateDecrypt;var Xbe=Wbe();Ir.randomFill=Xbe.randomFill;Ir.randomFillSync=Xbe.randomFillSync;Ir.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Ir.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var Xq=j(kE=>{"use strict";p();m();Object.defineProperty(kE,"__esModule",{value:!0});kE.SupportedAlgorithm=void 0;var Sst;(function(t){t.sha256="sha256",t.sha512="sha512"})(Sst=kE.SupportedAlgorithm||(kE.SupportedAlgorithm={}))});var Sve=j(GR=>{"use strict";p();m();Object.defineProperty(GR,"__esModule",{value:!0});GR.version=void 0;GR.version="sha2/5.7.0"});var Ave=j(ou=>{"use strict";p();m();var Est=ou&&ou.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ou,"__esModule",{value:!0});ou.computeHmac=ou.sha512=ou.sha256=ou.ripemd160=void 0;var BE=Est(iv()),PE=us(),Ast=Xq(),Eve=Na(),Tst=Sve(),Ist=new Eve.Logger(Tst.version);function Rst(t){return"0x"+BE.default.ripemd160().update((0,PE.arrayify)(t)).digest("hex")}o(Rst,"ripemd160");ou.ripemd160=Rst;function Ost(t){return"0x"+BE.default.sha256().update((0,PE.arrayify)(t)).digest("hex")}o(Ost,"sha256");ou.sha256=Ost;function Mst(t){return"0x"+BE.default.sha512().update((0,PE.arrayify)(t)).digest("hex")}o(Mst,"sha512");ou.sha512=Mst;function Nst(t,e,r){return Ast.SupportedAlgorithm[t]||Ist.throwError("unsupported algorithm "+t,Eve.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+BE.default.hmac(BE.default[t],(0,PE.arrayify)(e)).update((0,PE.arrayify)(r)).digest("hex")}o(Nst,"computeHmac");ou.computeHmac=Nst});var Zq=j(su=>{"use strict";p();m();Object.defineProperty(su,"__esModule",{value:!0});su.SupportedAlgorithm=su.sha512=su.sha256=su.ripemd160=su.computeHmac=void 0;var WR=Ave();Object.defineProperty(su,"computeHmac",{enumerable:!0,get:o(function(){return WR.computeHmac},"get")});Object.defineProperty(su,"ripemd160",{enumerable:!0,get:o(function(){return WR.ripemd160},"get")});Object.defineProperty(su,"sha256",{enumerable:!0,get:o(function(){return WR.sha256},"get")});Object.defineProperty(su,"sha512",{enumerable:!0,get:o(function(){return WR.sha512},"get")});var Cst=Xq();Object.defineProperty(su,"SupportedAlgorithm",{enumerable:!0,get:o(function(){return Cst.SupportedAlgorithm},"get")})});var vV=j((xV,Xve)=>{"use strict";p();m();(function(t){function e(l){return parseInt(l)===l}o(e,"checkInt");function r(l){if(!e(l.length))return!1;for(var w=0;w<l.length;w++)if(!e(l[w])||l[w]<0||l[w]>255)return!1;return!0}o(r,"checkInts");function n(l,w){if(l.buffer&&ArrayBuffer.isView(l)&&l.name==="Uint8Array")return w&&(l.slice?l=l.slice():l=Array.prototype.slice.call(l)),l;if(Array.isArray(l)){if(!r(l))throw new Error("Array contains invalid value: "+l);return new Uint8Array(l)}if(e(l.length)&&r(l))return new Uint8Array(l);throw new Error("unsupported array-like object")}o(n,"coerceArray");function i(l){return new Uint8Array(l)}o(i,"createArray");function s(l,w,V,q,U){(q!=null||U!=null)&&(l.slice?l=l.slice(q,U):l=Array.prototype.slice.call(l,q,U)),w.set(l,V)}o(s,"copyArray");var a=function(){function l(V){var q=[],U=0;for(V=encodeURI(V);U<V.length;){var G=V.charCodeAt(U++);G===37?(q.push(parseInt(V.substr(U,2),16)),U+=2):q.push(G)}return n(q)}o(l,"toBytes");function w(V){for(var q=[],U=0;U<V.length;){var G=V[U];G<128?(q.push(String.fromCharCode(G)),U++):G>191&&G<224?(q.push(String.fromCharCode((G&31)<<6|V[U+1]&63)),U+=2):(q.push(String.fromCharCode((G&15)<<12|(V[U+1]&63)<<6|V[U+2]&63)),U+=3)}return q.join("")}return o(w,"fromBytes"),{toBytes:l,fromBytes:w}}(),c=function(){function l(q){for(var U=[],G=0;G<q.length;G+=2)U.push(parseInt(q.substr(G,2),16));return U}o(l,"toBytes");var w="0123456789abcdef";function V(q){for(var U=[],G=0;G<q.length;G++){var ee=q[G];U.push(w[(ee&240)>>4]+w[ee&15])}return U.join("")}return o(V,"fromBytes"),{toBytes:l,fromBytes:V}}(),u={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],y=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],S=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],O=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],M=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],C=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],B=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],N=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],H=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],F=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Z=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function W(l){for(var w=[],V=0;V<l.length;V+=4)w.push(l[V]<<24|l[V+1]<<16|l[V+2]<<8|l[V+3]);return w}o(W,"convertToInt32");var X=o(function(l){if(!(this instanceof X))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(l,!0)}),this._prepare()},"AES");X.prototype._prepare=function(){var l=u[this.key.length];if(l==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var w=0;w<=l;w++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var V=(l+1)*4,q=this.key.length/4,U=W(this.key),G,w=0;w<q;w++)G=w>>2,this._Ke[G][w%4]=U[w],this._Kd[l-G][w%4]=U[w];for(var ee=0,re=q,Oe;re<V;){if(Oe=U[q-1],U[0]^=y[Oe>>16&255]<<24^y[Oe>>8&255]<<16^y[Oe&255]<<8^y[Oe>>24&255]^h[ee]<<24,ee+=1,q!=8)for(var w=1;w<q;w++)U[w]^=U[w-1];else{for(var w=1;w<q/2;w++)U[w]^=U[w-1];Oe=U[q/2-1],U[q/2]^=y[Oe&255]^y[Oe>>8&255]<<8^y[Oe>>16&255]<<16^y[Oe>>24&255]<<24;for(var w=q/2+1;w<q;w++)U[w]^=U[w-1]}for(var w=0,ae,le;w<q&&re<V;)ae=re>>2,le=re%4,this._Ke[ae][le]=U[w],this._Kd[l-ae][le]=U[w++],re++}for(var ae=1;ae<l;ae++)for(var le=0;le<4;le++)Oe=this._Kd[ae][le],this._Kd[ae][le]=P[Oe>>24&255]^H[Oe>>16&255]^F[Oe>>8&255]^Z[Oe&255]},X.prototype.encrypt=function(l){if(l.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var w=this._Ke.length-1,V=[0,0,0,0],q=W(l),U=0;U<4;U++)q[U]^=this._Ke[0][U];for(var G=1;G<w;G++){for(var U=0;U<4;U++)V[U]=S[q[U]>>24&255]^T[q[(U+1)%4]>>16&255]^O[q[(U+2)%4]>>8&255]^M[q[(U+3)%4]&255]^this._Ke[G][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Ke[w][U],ee[4*U]=(y[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(y[q[(U+1)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(y[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(y[q[(U+3)%4]&255]^re)&255;return ee},X.prototype.decrypt=function(l){if(l.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var w=this._Kd.length-1,V=[0,0,0,0],q=W(l),U=0;U<4;U++)q[U]^=this._Kd[0][U];for(var G=1;G<w;G++){for(var U=0;U<4;U++)V[U]=k[q[U]>>24&255]^C[q[(U+3)%4]>>16&255]^B[q[(U+2)%4]>>8&255]^N[q[(U+1)%4]&255]^this._Kd[G][U];q=V.slice()}for(var ee=i(16),re,U=0;U<4;U++)re=this._Kd[w][U],ee[4*U]=(g[q[U]>>24&255]^re>>24)&255,ee[4*U+1]=(g[q[(U+3)%4]>>16&255]^re>>16)&255,ee[4*U+2]=(g[q[(U+2)%4]>>8&255]^re>>8)&255,ee[4*U+3]=(g[q[(U+1)%4]&255]^re)&255;return ee};var E=o(function(l){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new X(l)},"ModeOfOperationECB");E.prototype.encrypt=function(l){if(l=n(l),l.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(l.length),V=i(16),q=0;q<l.length;q+=16)s(l,V,0,q,q+16),V=this._aes.encrypt(V),s(V,w,q);return w},E.prototype.decrypt=function(l){if(l=n(l),l.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(l.length),V=i(16),q=0;q<l.length;q+=16)s(l,V,0,q,q+16),V=this._aes.decrypt(V),s(V,w,q);return w};var f=o(function(l,w){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(w,!0),this._aes=new X(l)},"ModeOfOperationCBC");f.prototype.encrypt=function(l){if(l=n(l),l.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var w=i(l.length),V=i(16),q=0;q<l.length;q+=16){s(l,V,0,q,q+16);for(var U=0;U<16;U++)V[U]^=this._lastCipherblock[U];this._lastCipherblock=this._aes.encrypt(V),s(this._lastCipherblock,w,q)}return w},f.prototype.decrypt=function(l){if(l=n(l),l.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var w=i(l.length),V=i(16),q=0;q<l.length;q+=16){s(l,V,0,q,q+16),V=this._aes.decrypt(V);for(var U=0;U<16;U++)w[q+U]=V[U]^this._lastCipherblock[U];s(l,this._lastCipherblock,0,q,q+16)}return w};var d=o(function(l,w,V){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");V||(V=1),this.segmentSize=V,this._shiftRegister=n(w,!0),this._aes=new X(l)},"ModeOfOperationCFB");d.prototype.encrypt=function(l){if(l.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var w=n(l,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(w,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w},d.prototype.decrypt=function(l){if(l.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var w=n(l,!0),V,q=0;q<w.length;q+=this.segmentSize){V=this._aes.encrypt(this._shiftRegister);for(var U=0;U<this.segmentSize;U++)w[q+U]^=V[U];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(l,this._shiftRegister,16-this.segmentSize,q,q+this.segmentSize)}return w};var b=o(function(l,w){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!w)w=i(16);else if(w.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(w,!0),this._lastPrecipherIndex=16,this._aes=new X(l)},"ModeOfOperationOFB");b.prototype.encrypt=function(l){for(var w=n(l,!0),V=0;V<w.length;V++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),w[V]^=this._lastPrecipher[this._lastPrecipherIndex++];return w},b.prototype.decrypt=b.prototype.encrypt;var x=o(function(l){if(!(this instanceof x))throw Error("Counter must be instanitated with `new`");l!==0&&!l&&(l=1),typeof l=="number"?(this._counter=i(16),this.setValue(l)):this.setBytes(l)},"Counter");x.prototype.setValue=function(l){if(typeof l!="number"||parseInt(l)!=l)throw new Error("invalid counter value (must be an integer)");for(var w=15;w>=0;--w)this._counter[w]=l%256,l=l>>8},x.prototype.setBytes=function(l){if(l=n(l,!0),l.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=l},x.prototype.increment=function(){for(var l=15;l>=0;l--)if(this._counter[l]===255)this._counter[l]=0;else{this._counter[l]++;break}};var _=o(function(l,w){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",w instanceof x||(w=new x(w)),this._counter=w,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new X(l)},"ModeOfOperationCTR");_.prototype.encrypt=function(l){for(var w=n(l,!0),V=0;V<w.length;V++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),w[V]^=this._remainingCounter[this._remainingCounterIndex++];return w},_.prototype.decrypt=_.prototype.encrypt;function A(l){l=n(l,!0);var w=16-l.length%16,V=i(l.length+w);s(l,V);for(var q=l.length;q<V.length;q++)V[q]=w;return V}o(A,"pkcs7pad");function I(l){if(l=n(l,!0),l.length<16)throw new Error("PKCS#7 invalid length");var w=l[l.length-1];if(w>16)throw new Error("PKCS#7 padding byte out of range");for(var V=l.length-w,q=0;q<w;q++)if(l[V+q]!==w)throw new Error("PKCS#7 invalid padding byte");var U=i(V);return s(l,U,0,0,V),U}o(I,"pkcs7strip");var v={AES:X,Counter:x,ModeOfOperation:{ecb:E,cbc:f,cfb:d,ofb:b,ctr:_},utils:{hex:c,utf8:a},padding:{pkcs7:{pad:A,strip:I}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof xV<"u"?Xve.exports=v:typeof define=="function"&&define.amd?define(v):(t.aesjs&&(v._aesjs=t.aesjs),t.aesjs=v)})(xV)});var e2e=j((IV,Qve)=>{"use strict";p();m();(function(t){function r(T){let O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),M=1779033703,k=3144134277,C=1013904242,B=2773480762,N=1359893119,P=2600822924,H=528734635,F=1541459225,Z=new Uint32Array(64);function W(_){let A=0,I=_.length;for(;I>=64;){let v=M,l=k,w=C,V=B,q=N,U=P,G=H,ee=F,re,Oe,ae,le,ye;for(Oe=0;Oe<16;Oe++)ae=A+Oe*4,Z[Oe]=(_[ae]&255)<<24|(_[ae+1]&255)<<16|(_[ae+2]&255)<<8|_[ae+3]&255;for(Oe=16;Oe<64;Oe++)re=Z[Oe-2],le=(re>>>17|re<<15)^(re>>>19|re<<13)^re>>>10,re=Z[Oe-15],ye=(re>>>7|re<<25)^(re>>>18|re<<14)^re>>>3,Z[Oe]=(le+Z[Oe-7]|0)+(ye+Z[Oe-16]|0)|0;for(Oe=0;Oe<64;Oe++)le=(((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&U^~q&G)|0)+(ee+(O[Oe]+Z[Oe]|0)|0)|0,ye=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&l^v&w^l&w)|0,ee=G,G=U,U=q,q=V+le|0,V=w,w=l,l=v,v=le+ye|0;M=M+v|0,k=k+l|0,C=C+w|0,B=B+V|0,N=N+q|0,P=P+U|0,H=H+G|0,F=F+ee|0,A+=64,I-=64}}o(W,"blocks"),W(T);let X,E=T.length%64,f=T.length/536870912|0,d=T.length<<3,b=E<56?56:120,x=T.slice(T.length-E,T.length);for(x.push(128),X=E+1;X<b;X++)x.push(0);return x.push(f>>>24&255),x.push(f>>>16&255),x.push(f>>>8&255),x.push(f>>>0&255),x.push(d>>>24&255),x.push(d>>>16&255),x.push(d>>>8&255),x.push(d>>>0&255),W(x),[M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255]}o(r,"SHA256");function n(T,O,M){T=T.length<=64?T:r(T);let k=64+O.length+4,C=new Array(k),B=new Array(64),N,P=[];for(N=0;N<64;N++)C[N]=54;for(N=0;N<T.length;N++)C[N]^=T[N];for(N=0;N<O.length;N++)C[64+N]=O[N];for(N=k-4;N<k;N++)C[N]=0;for(N=0;N<64;N++)B[N]=92;for(N=0;N<T.length;N++)B[N]^=T[N];function H(){for(let F=k-1;F>=k-4;F--){if(C[F]++,C[F]<=255)return;C[F]=0}}for(o(H,"incrementCounter");M>=32;)H(),P=P.concat(r(B.concat(r(C)))),M-=32;return M>0&&(H(),P=P.concat(r(B.concat(r(C))).slice(0,M))),P}o(n,"PBKDF2_HMAC_SHA256_OneIter");function i(T,O,M,k,C){let B;for(u(T,(2*M-1)*16,C,0,16),B=0;B<2*M;B++)c(T,B*16,C,16),a(C,k),u(C,0,T,O+B*16,16);for(B=0;B<M;B++)u(T,O+B*2*16,T,B*16,16);for(B=0;B<M;B++)u(T,O+(B*2+1)*16,T,(B+M)*16,16)}o(i,"blockmix_salsa8");function s(T,O){return T<<O|T>>>32-O}o(s,"R");function a(T,O){u(T,0,O,0,16);for(let M=8;M>0;M-=2)O[4]^=s(O[0]+O[12],7),O[8]^=s(O[4]+O[0],9),O[12]^=s(O[8]+O[4],13),O[0]^=s(O[12]+O[8],18),O[9]^=s(O[5]+O[1],7),O[13]^=s(O[9]+O[5],9),O[1]^=s(O[13]+O[9],13),O[5]^=s(O[1]+O[13],18),O[14]^=s(O[10]+O[6],7),O[2]^=s(O[14]+O[10],9),O[6]^=s(O[2]+O[14],13),O[10]^=s(O[6]+O[2],18),O[3]^=s(O[15]+O[11],7),O[7]^=s(O[3]+O[15],9),O[11]^=s(O[7]+O[3],13),O[15]^=s(O[11]+O[7],18),O[1]^=s(O[0]+O[3],7),O[2]^=s(O[1]+O[0],9),O[3]^=s(O[2]+O[1],13),O[0]^=s(O[3]+O[2],18),O[6]^=s(O[5]+O[4],7),O[7]^=s(O[6]+O[5],9),O[4]^=s(O[7]+O[6],13),O[5]^=s(O[4]+O[7],18),O[11]^=s(O[10]+O[9],7),O[8]^=s(O[11]+O[10],9),O[9]^=s(O[8]+O[11],13),O[10]^=s(O[9]+O[8],18),O[12]^=s(O[15]+O[14],7),O[13]^=s(O[12]+O[15],9),O[14]^=s(O[13]+O[12],13),O[15]^=s(O[14]+O[13],18);for(let M=0;M<16;++M)T[M]+=O[M]}o(a,"salsa20_8");function c(T,O,M,k){for(let C=0;C<k;C++)M[C]^=T[O+C]}o(c,"blockxor");function u(T,O,M,k,C){for(;C--;)M[k++]=T[O++]}o(u,"arraycopy");function h(T){if(!T||typeof T.length!="number")return!1;for(let O=0;O<T.length;O++){let M=T[O];if(typeof M!="number"||M%1||M<0||M>=256)return!1}return!0}o(h,"checkBufferish");function y(T,O){if(typeof T!="number"||T%1)throw new Error("invalid "+O);return T}o(y,"ensureInteger");function g(T,O,M,k,C,B,N){if(M=y(M,"N"),k=y(k,"r"),C=y(C,"p"),B=y(B,"dkLen"),M===0||M&M-1)throw new Error("N must be power of 2");if(M>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/C)throw new Error("r too large");if(!h(T))throw new Error("password must be an array or buffer");if(T=Array.prototype.slice.call(T),!h(O))throw new Error("salt must be an array or buffer");O=Array.prototype.slice.call(O);let P=n(T,O,C*128*k),H=new Uint32Array(C*32*k);for(let q=0;q<H.length;q++){let U=q*4;H[q]=(P[U+3]&255)<<24|(P[U+2]&255)<<16|(P[U+1]&255)<<8|(P[U+0]&255)<<0}let F=new Uint32Array(64*k),Z=new Uint32Array(32*k*M),W=32*k,X=new Uint32Array(16),E=new Uint32Array(16),f=C*M*2,d=0,b=null,x=!1,_=0,A=0,I,v,l=N?parseInt(1e3/k):4294967295,w=typeof setImmediate<"u"?setImmediate:setTimeout,V=o(function(){if(x)return N(new Error("cancelled"),d/f);let q;switch(_){case 0:v=A*32*k,u(H,v,F,0,W),_=1,I=0;case 1:q=M-I,q>l&&(q=l);for(let G=0;G<q;G++)u(F,0,Z,(I+G)*W,W),i(F,W,k,X,E);if(I+=q,d+=q,N){let G=parseInt(1e3*d/f);if(G!==b){if(x=N(null,d/f),x)break;b=G}}if(I<M)break;I=0,_=2;case 2:q=M-I,q>l&&(q=l);for(let G=0;G<q;G++){let ee=(2*k-1)*16,re=F[ee]&M-1;c(Z,re*W,F,W),i(F,W,k,X,E)}if(I+=q,d+=q,N){let G=parseInt(1e3*d/f);if(G!==b){if(x=N(null,d/f),x)break;b=G}}if(I<M)break;if(u(F,0,H,v,W),A++,A<C){_=0;break}P=[];for(let G=0;G<H.length;G++)P.push(H[G]>>0&255),P.push(H[G]>>8&255),P.push(H[G]>>16&255),P.push(H[G]>>24&255);let U=n(T,P,B);return N&&N(null,1,U),U}N&&w(V)},"incrementalSMix");if(!N)for(;;){let q=V();if(q!=null)return q}V()}o(g,"_scrypt");let S={scrypt:o(function(T,O,M,k,C,B,N){return new Promise(function(P,H){let F=0;N&&N(0),g(T,O,M,k,C,B,function(Z,W,X){if(Z)H(Z);else if(X)N&&F!==1&&N(1),P(new Uint8Array(X));else if(N&&W!==F)return F=W,N(W)})})},"scrypt"),syncScrypt:o(function(T,O,M,k,C,B){return new Uint8Array(g(T,O,M,k,C,B))},"syncScrypt")};typeof IV<"u"?Qve.exports=S:typeof define=="function"&&define.amd?define(S):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=S)})(IV)});var Wv=j(Gv=>{"use strict";p();m();Object.defineProperty(Gv,"__esModule",{value:!0});Gv.bech32m=Gv.bech32=void 0;var G7="qpzry9x8gf2tvdw0s3jn54khce6mua7l",E_e={};for(let t=0;t<G7.length;t++){let e=G7.charAt(t);E_e[e]=t}function $v(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}o($v,"polymodStep");function S_e(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=$v(e)^n>>5}e=$v(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=$v(e)^n&31}return e}o(S_e,"prefixChk");function kj(t,e,r,n){let i=0,s=0,a=(1<<r)-1,c=[];for(let u=0;u<t.length;++u)for(i=i<<e|t[u],s+=e;s>=r;)s-=r,c.push(i>>s&a);if(n)s>0&&c.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return c}o(kj,"convert");function Vct(t){return kj(t,8,5,!0)}o(Vct,"toWords");function jct(t){let e=kj(t,5,8,!1);if(Array.isArray(e))return e}o(jct,"fromWordsUnsafe");function zct(t){let e=kj(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}o(zct,"fromWords");function A_e(t){let e;t==="bech32"?e=1:e=734539939;function r(a,c,u){if(u=u||90,a.length+7+c.length>u)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let h=S_e(a);if(typeof h=="string")throw new Error(h);let y=a+"1";for(let g=0;g<c.length;++g){let S=c[g];if(S>>5)throw new Error("Non 5-bit word");h=$v(h)^S,y+=G7.charAt(S)}for(let g=0;g<6;++g)h=$v(h);h^=e;for(let g=0;g<6;++g){let S=h>>(5-g)*5&31;y+=G7.charAt(S)}return y}o(r,"encode");function n(a,c){if(c=c||90,a.length<8)return a+" too short";if(a.length>c)return"Exceeds length limit";let u=a.toLowerCase(),h=a.toUpperCase();if(a!==u&&a!==h)return"Mixed-case string "+a;a=u;let y=a.lastIndexOf("1");if(y===-1)return"No separator character for "+a;if(y===0)return"Missing prefix for "+a;let g=a.slice(0,y),S=a.slice(y+1);if(S.length<6)return"Data too short";let T=S_e(g);if(typeof T=="string")return T;let O=[];for(let M=0;M<S.length;++M){let k=S.charAt(M),C=E_e[k];if(C===void 0)return"Unknown character "+k;T=$v(T)^C,!(M+6>=S.length)&&O.push(C)}return T!==e?"Invalid checksum for "+a:{prefix:g,words:O}}o(n,"__decode");function i(a,c){let u=n(a,c);if(typeof u=="object")return u}o(i,"decodeUnsafe");function s(a,c){let u=n(a,c);if(typeof u=="object")return u;throw new Error(u)}return o(s,"decode"),{decodeUnsafe:i,decode:s,encode:r,toWords:Vct,fromWordsUnsafe:jct,fromWords:zct}}o(A_e,"getLibraryFromEncoding");Gv.bech32=A_e("bech32");Gv.bech32m=A_e("bech32m")});var o0=j((F4r,Y7)=>{p();m();(function(t){"use strict";var e=o(function(z){var $,K=new Float64Array(16);if(z)for($=0;$<z.length;$++)K[$]=z[$];return K},"gf"),r=o(function(){throw new Error("no PRNG")},"randombytes"),n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,$,K,D){z[$]=K>>24&255,z[$+1]=K>>16&255,z[$+2]=K>>8&255,z[$+3]=K&255,z[$+4]=D>>24&255,z[$+5]=D>>16&255,z[$+6]=D>>8&255,z[$+7]=D&255}o(T,"ts64");function O(z,$,K,D,Y){var te,me=0;for(te=0;te<Y;te++)me|=z[$+te]^K[D+te];return(1&me-1>>>8)-1}o(O,"vn");function M(z,$,K,D){return O(z,$,K,D,16)}o(M,"crypto_verify_16");function k(z,$,K,D){return O(z,$,K,D,32)}o(k,"crypto_verify_32");function C(z,$,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Pt=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,st=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,xt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,It=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,St=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Xe=xt,Ze=vt,it=It,Ht=At,hr=_t,br=St,pr=wt,ce,Cr=0;Cr<20;Cr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Xe^=ce<<7|ce>>>25,ce=Xe+rt|0,hr^=ce<<9|ce>>>23,ce=hr+Xe|0,dt^=ce<<13|ce>>>19,ce=dt+hr|0,rt^=ce<<18|ce>>>14,ce=Ze+_e|0,br^=ce<<7|ce>>>25,ce=br+Ze|0,ot^=ce<<9|ce>>>23,ce=ot+br|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Ze^=ce<<18|ce>>>14,ce=pr+it|0,ft^=ce<<7|ce>>>25,ce=ft+pr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,pr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Ze+Xe|0,it^=ce<<7|ce>>>25,ce=it+Ze|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Xe^=ce<<13|ce>>>19,ce=Xe+tt|0,Ze^=ce<<18|ce>>>14,ce=pr+br|0,Ht^=ce<<7|ce>>>25,ce=Ht+pr|0,hr^=ce<<9|ce>>>23,ce=hr+Ht|0,br^=ce<<13|ce>>>19,ce=br+hr|0,pr^=ce<<18|ce>>>14;ct=ct+Y|0,dt=dt+te|0,ot=ot+me|0,ft=ft+se|0,ut=ut+ue|0,rt=rt+lt|0,_e=_e+nt|0,we=we+Pt|0,tt=tt+st|0,Xe=Xe+xt|0,Ze=Ze+vt|0,it=it+It|0,Ht=Ht+At|0,hr=hr+_t|0,br=br+St|0,pr=pr+wt|0,z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=dt>>>0&255,z[5]=dt>>>8&255,z[6]=dt>>>16&255,z[7]=dt>>>24&255,z[8]=ot>>>0&255,z[9]=ot>>>8&255,z[10]=ot>>>16&255,z[11]=ot>>>24&255,z[12]=ft>>>0&255,z[13]=ft>>>8&255,z[14]=ft>>>16&255,z[15]=ft>>>24&255,z[16]=ut>>>0&255,z[17]=ut>>>8&255,z[18]=ut>>>16&255,z[19]=ut>>>24&255,z[20]=rt>>>0&255,z[21]=rt>>>8&255,z[22]=rt>>>16&255,z[23]=rt>>>24&255,z[24]=_e>>>0&255,z[25]=_e>>>8&255,z[26]=_e>>>16&255,z[27]=_e>>>24&255,z[28]=we>>>0&255,z[29]=we>>>8&255,z[30]=we>>>16&255,z[31]=we>>>24&255,z[32]=tt>>>0&255,z[33]=tt>>>8&255,z[34]=tt>>>16&255,z[35]=tt>>>24&255,z[36]=Xe>>>0&255,z[37]=Xe>>>8&255,z[38]=Xe>>>16&255,z[39]=Xe>>>24&255,z[40]=Ze>>>0&255,z[41]=Ze>>>8&255,z[42]=Ze>>>16&255,z[43]=Ze>>>24&255,z[44]=it>>>0&255,z[45]=it>>>8&255,z[46]=it>>>16&255,z[47]=it>>>24&255,z[48]=Ht>>>0&255,z[49]=Ht>>>8&255,z[50]=Ht>>>16&255,z[51]=Ht>>>24&255,z[52]=hr>>>0&255,z[53]=hr>>>8&255,z[54]=hr>>>16&255,z[55]=hr>>>24&255,z[56]=br>>>0&255,z[57]=br>>>8&255,z[58]=br>>>16&255,z[59]=br>>>24&255,z[60]=pr>>>0&255,z[61]=pr>>>8&255,z[62]=pr>>>16&255,z[63]=pr>>>24&255}o(C,"core_salsa20");function B(z,$,K,D){for(var Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,te=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,me=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,se=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,ue=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,lt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,nt=$[0]&255|($[1]&255)<<8|($[2]&255)<<16|($[3]&255)<<24,Pt=$[4]&255|($[5]&255)<<8|($[6]&255)<<16|($[7]&255)<<24,st=$[8]&255|($[9]&255)<<8|($[10]&255)<<16|($[11]&255)<<24,xt=$[12]&255|($[13]&255)<<8|($[14]&255)<<16|($[15]&255)<<24,vt=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,It=K[16]&255|(K[17]&255)<<8|(K[18]&255)<<16|(K[19]&255)<<24,At=K[20]&255|(K[21]&255)<<8|(K[22]&255)<<16|(K[23]&255)<<24,_t=K[24]&255|(K[25]&255)<<8|(K[26]&255)<<16|(K[27]&255)<<24,St=K[28]&255|(K[29]&255)<<8|(K[30]&255)<<16|(K[31]&255)<<24,wt=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ct=Y,dt=te,ot=me,ft=se,ut=ue,rt=lt,_e=nt,we=Pt,tt=st,Xe=xt,Ze=vt,it=It,Ht=At,hr=_t,br=St,pr=wt,ce,Cr=0;Cr<20;Cr+=2)ce=ct+Ht|0,ut^=ce<<7|ce>>>25,ce=ut+ct|0,tt^=ce<<9|ce>>>23,ce=tt+ut|0,Ht^=ce<<13|ce>>>19,ce=Ht+tt|0,ct^=ce<<18|ce>>>14,ce=rt+dt|0,Xe^=ce<<7|ce>>>25,ce=Xe+rt|0,hr^=ce<<9|ce>>>23,ce=hr+Xe|0,dt^=ce<<13|ce>>>19,ce=dt+hr|0,rt^=ce<<18|ce>>>14,ce=Ze+_e|0,br^=ce<<7|ce>>>25,ce=br+Ze|0,ot^=ce<<9|ce>>>23,ce=ot+br|0,_e^=ce<<13|ce>>>19,ce=_e+ot|0,Ze^=ce<<18|ce>>>14,ce=pr+it|0,ft^=ce<<7|ce>>>25,ce=ft+pr|0,we^=ce<<9|ce>>>23,ce=we+ft|0,it^=ce<<13|ce>>>19,ce=it+we|0,pr^=ce<<18|ce>>>14,ce=ct+ft|0,dt^=ce<<7|ce>>>25,ce=dt+ct|0,ot^=ce<<9|ce>>>23,ce=ot+dt|0,ft^=ce<<13|ce>>>19,ce=ft+ot|0,ct^=ce<<18|ce>>>14,ce=rt+ut|0,_e^=ce<<7|ce>>>25,ce=_e+rt|0,we^=ce<<9|ce>>>23,ce=we+_e|0,ut^=ce<<13|ce>>>19,ce=ut+we|0,rt^=ce<<18|ce>>>14,ce=Ze+Xe|0,it^=ce<<7|ce>>>25,ce=it+Ze|0,tt^=ce<<9|ce>>>23,ce=tt+it|0,Xe^=ce<<13|ce>>>19,ce=Xe+tt|0,Ze^=ce<<18|ce>>>14,ce=pr+br|0,Ht^=ce<<7|ce>>>25,ce=Ht+pr|0,hr^=ce<<9|ce>>>23,ce=hr+Ht|0,br^=ce<<13|ce>>>19,ce=br+hr|0,pr^=ce<<18|ce>>>14;z[0]=ct>>>0&255,z[1]=ct>>>8&255,z[2]=ct>>>16&255,z[3]=ct>>>24&255,z[4]=rt>>>0&255,z[5]=rt>>>8&255,z[6]=rt>>>16&255,z[7]=rt>>>24&255,z[8]=Ze>>>0&255,z[9]=Ze>>>8&255,z[10]=Ze>>>16&255,z[11]=Ze>>>24&255,z[12]=pr>>>0&255,z[13]=pr>>>8&255,z[14]=pr>>>16&255,z[15]=pr>>>24&255,z[16]=_e>>>0&255,z[17]=_e>>>8&255,z[18]=_e>>>16&255,z[19]=_e>>>24&255,z[20]=we>>>0&255,z[21]=we>>>8&255,z[22]=we>>>16&255,z[23]=we>>>24&255,z[24]=tt>>>0&255,z[25]=tt>>>8&255,z[26]=tt>>>16&255,z[27]=tt>>>24&255,z[28]=Xe>>>0&255,z[29]=Xe>>>8&255,z[30]=Xe>>>16&255,z[31]=Xe>>>24&255}o(B,"core_hsalsa20");function N(z,$,K,D){C(z,$,K,D)}o(N,"crypto_core_salsa20");function P(z,$,K,D){B(z,$,K,D)}o(P,"crypto_core_hsalsa20");var H=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(z,$,K,D,Y,te,me){var se=new Uint8Array(16),ue=new Uint8Array(64),lt,nt;for(nt=0;nt<16;nt++)se[nt]=0;for(nt=0;nt<8;nt++)se[nt]=te[nt];for(;Y>=64;){for(N(ue,se,me,H),nt=0;nt<64;nt++)z[$+nt]=K[D+nt]^ue[nt];for(lt=1,nt=8;nt<16;nt++)lt=lt+(se[nt]&255)|0,se[nt]=lt&255,lt>>>=8;Y-=64,$+=64,D+=64}if(Y>0)for(N(ue,se,me,H),nt=0;nt<Y;nt++)z[$+nt]=K[D+nt]^ue[nt];return 0}o(F,"crypto_stream_salsa20_xor");function Z(z,$,K,D,Y){var te=new Uint8Array(16),me=new Uint8Array(64),se,ue;for(ue=0;ue<16;ue++)te[ue]=0;for(ue=0;ue<8;ue++)te[ue]=D[ue];for(;K>=64;){for(N(me,te,Y,H),ue=0;ue<64;ue++)z[$+ue]=me[ue];for(se=1,ue=8;ue<16;ue++)se=se+(te[ue]&255)|0,te[ue]=se&255,se>>>=8;K-=64,$+=64}if(K>0)for(N(me,te,Y,H),ue=0;ue<K;ue++)z[$+ue]=me[ue];return 0}o(Z,"crypto_stream_salsa20");function W(z,$,K,D,Y){var te=new Uint8Array(32);P(te,D,Y,H);for(var me=new Uint8Array(8),se=0;se<8;se++)me[se]=D[se+16];return Z(z,$,K,me,te)}o(W,"crypto_stream");function X(z,$,K,D,Y,te,me){var se=new Uint8Array(32);P(se,te,me,H);for(var ue=new Uint8Array(8),lt=0;lt<8;lt++)ue[lt]=te[lt+16];return F(z,$,K,D,Y,ue,se)}o(X,"crypto_stream_xor");var E=o(function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var $,K,D,Y,te,me,se,ue;$=z[0]&255|(z[1]&255)<<8,this.r[0]=$&8191,K=z[2]&255|(z[3]&255)<<8,this.r[1]=($>>>13|K<<3)&8191,D=z[4]&255|(z[5]&255)<<8,this.r[2]=(K>>>10|D<<6)&7939,Y=z[6]&255|(z[7]&255)<<8,this.r[3]=(D>>>7|Y<<9)&8191,te=z[8]&255|(z[9]&255)<<8,this.r[4]=(Y>>>4|te<<12)&255,this.r[5]=te>>>1&8190,me=z[10]&255|(z[11]&255)<<8,this.r[6]=(te>>>14|me<<2)&8191,se=z[12]&255|(z[13]&255)<<8,this.r[7]=(me>>>11|se<<5)&8065,ue=z[14]&255|(z[15]&255)<<8,this.r[8]=(se>>>8|ue<<8)&8191,this.r[9]=ue>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8},"poly1305");E.prototype.blocks=function(z,$,K){for(var D=this.fin?0:2048,Y,te,me,se,ue,lt,nt,Pt,st,xt,vt,It,At,_t,St,wt,ct,dt,ot,ft=this.h[0],ut=this.h[1],rt=this.h[2],_e=this.h[3],we=this.h[4],tt=this.h[5],Xe=this.h[6],Ze=this.h[7],it=this.h[8],Ht=this.h[9],hr=this.r[0],br=this.r[1],pr=this.r[2],ce=this.r[3],Cr=this.r[4],tn=this.r[5],rn=this.r[6],wr=this.r[7],Yr=this.r[8],Xr=this.r[9];K>=16;)Y=z[$+0]&255|(z[$+1]&255)<<8,ft+=Y&8191,te=z[$+2]&255|(z[$+3]&255)<<8,ut+=(Y>>>13|te<<3)&8191,me=z[$+4]&255|(z[$+5]&255)<<8,rt+=(te>>>10|me<<6)&8191,se=z[$+6]&255|(z[$+7]&255)<<8,_e+=(me>>>7|se<<9)&8191,ue=z[$+8]&255|(z[$+9]&255)<<8,we+=(se>>>4|ue<<12)&8191,tt+=ue>>>1&8191,lt=z[$+10]&255|(z[$+11]&255)<<8,Xe+=(ue>>>14|lt<<2)&8191,nt=z[$+12]&255|(z[$+13]&255)<<8,Ze+=(lt>>>11|nt<<5)&8191,Pt=z[$+14]&255|(z[$+15]&255)<<8,it+=(nt>>>8|Pt<<8)&8191,Ht+=Pt>>>5|D,st=0,xt=st,xt+=ft*hr,xt+=ut*(5*Xr),xt+=rt*(5*Yr),xt+=_e*(5*wr),xt+=we*(5*rn),st=xt>>>13,xt&=8191,xt+=tt*(5*tn),xt+=Xe*(5*Cr),xt+=Ze*(5*ce),xt+=it*(5*pr),xt+=Ht*(5*br),st+=xt>>>13,xt&=8191,vt=st,vt+=ft*br,vt+=ut*hr,vt+=rt*(5*Xr),vt+=_e*(5*Yr),vt+=we*(5*wr),st=vt>>>13,vt&=8191,vt+=tt*(5*rn),vt+=Xe*(5*tn),vt+=Ze*(5*Cr),vt+=it*(5*ce),vt+=Ht*(5*pr),st+=vt>>>13,vt&=8191,It=st,It+=ft*pr,It+=ut*br,It+=rt*hr,It+=_e*(5*Xr),It+=we*(5*Yr),st=It>>>13,It&=8191,It+=tt*(5*wr),It+=Xe*(5*rn),It+=Ze*(5*tn),It+=it*(5*Cr),It+=Ht*(5*ce),st+=It>>>13,It&=8191,At=st,At+=ft*ce,At+=ut*pr,At+=rt*br,At+=_e*hr,At+=we*(5*Xr),st=At>>>13,At&=8191,At+=tt*(5*Yr),At+=Xe*(5*wr),At+=Ze*(5*rn),At+=it*(5*tn),At+=Ht*(5*Cr),st+=At>>>13,At&=8191,_t=st,_t+=ft*Cr,_t+=ut*ce,_t+=rt*pr,_t+=_e*br,_t+=we*hr,st=_t>>>13,_t&=8191,_t+=tt*(5*Xr),_t+=Xe*(5*Yr),_t+=Ze*(5*wr),_t+=it*(5*rn),_t+=Ht*(5*tn),st+=_t>>>13,_t&=8191,St=st,St+=ft*tn,St+=ut*Cr,St+=rt*ce,St+=_e*pr,St+=we*br,st=St>>>13,St&=8191,St+=tt*hr,St+=Xe*(5*Xr),St+=Ze*(5*Yr),St+=it*(5*wr),St+=Ht*(5*rn),st+=St>>>13,St&=8191,wt=st,wt+=ft*rn,wt+=ut*tn,wt+=rt*Cr,wt+=_e*ce,wt+=we*pr,st=wt>>>13,wt&=8191,wt+=tt*br,wt+=Xe*hr,wt+=Ze*(5*Xr),wt+=it*(5*Yr),wt+=Ht*(5*wr),st+=wt>>>13,wt&=8191,ct=st,ct+=ft*wr,ct+=ut*rn,ct+=rt*tn,ct+=_e*Cr,ct+=we*ce,st=ct>>>13,ct&=8191,ct+=tt*pr,ct+=Xe*br,ct+=Ze*hr,ct+=it*(5*Xr),ct+=Ht*(5*Yr),st+=ct>>>13,ct&=8191,dt=st,dt+=ft*Yr,dt+=ut*wr,dt+=rt*rn,dt+=_e*tn,dt+=we*Cr,st=dt>>>13,dt&=8191,dt+=tt*ce,dt+=Xe*pr,dt+=Ze*br,dt+=it*hr,dt+=Ht*(5*Xr),st+=dt>>>13,dt&=8191,ot=st,ot+=ft*Xr,ot+=ut*Yr,ot+=rt*wr,ot+=_e*rn,ot+=we*tn,st=ot>>>13,ot&=8191,ot+=tt*Cr,ot+=Xe*ce,ot+=Ze*pr,ot+=it*br,ot+=Ht*hr,st+=ot>>>13,ot&=8191,st=(st<<2)+st|0,st=st+xt|0,xt=st&8191,st=st>>>13,vt+=st,ft=xt,ut=vt,rt=It,_e=At,we=_t,tt=St,Xe=wt,Ze=ct,it=dt,Ht=ot,$+=16,K-=16;this.h[0]=ft,this.h[1]=ut,this.h[2]=rt,this.h[3]=_e,this.h[4]=we,this.h[5]=tt,this.h[6]=Xe,this.h[7]=Ze,this.h[8]=it,this.h[9]=Ht},E.prototype.finish=function(z,$){var K=new Uint16Array(10),D,Y,te,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(D=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=D,D=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=D*5,D=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=D,D=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=D,K[0]=this.h[0]+5,D=K[0]>>>13,K[0]&=8191,me=1;me<10;me++)K[me]=this.h[me]+D,D=K[me]>>>13,K[me]&=8191;for(K[9]-=8192,Y=(D^1)-1,me=0;me<10;me++)K[me]&=Y;for(Y=~Y,me=0;me<10;me++)this.h[me]=this.h[me]&Y|K[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,me=1;me<8;me++)te=(this.h[me]+this.pad[me]|0)+(te>>>16)|0,this.h[me]=te&65535;z[$+0]=this.h[0]>>>0&255,z[$+1]=this.h[0]>>>8&255,z[$+2]=this.h[1]>>>0&255,z[$+3]=this.h[1]>>>8&255,z[$+4]=this.h[2]>>>0&255,z[$+5]=this.h[2]>>>8&255,z[$+6]=this.h[3]>>>0&255,z[$+7]=this.h[3]>>>8&255,z[$+8]=this.h[4]>>>0&255,z[$+9]=this.h[4]>>>8&255,z[$+10]=this.h[5]>>>0&255,z[$+11]=this.h[5]>>>8&255,z[$+12]=this.h[6]>>>0&255,z[$+13]=this.h[6]>>>8&255,z[$+14]=this.h[7]>>>0&255,z[$+15]=this.h[7]>>>8&255},E.prototype.update=function(z,$,K){var D,Y;if(this.leftover){for(Y=16-this.leftover,Y>K&&(Y=K),D=0;D<Y;D++)this.buffer[this.leftover+D]=z[$+D];if(K-=Y,$+=Y,this.leftover+=Y,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(K>=16&&(Y=K-K%16,this.blocks(z,$,Y),$+=Y,K-=Y),K){for(D=0;D<K;D++)this.buffer[this.leftover+D]=z[$+D];this.leftover+=K}};function f(z,$,K,D,Y,te){var me=new E(te);return me.update(K,D,Y),me.finish(z,$),0}o(f,"crypto_onetimeauth");function d(z,$,K,D,Y,te){var me=new Uint8Array(16);return f(me,0,K,D,Y,te),M(z,$,me,0)}o(d,"crypto_onetimeauth_verify");function b(z,$,K,D,Y){var te;if(K<32)return-1;for(X(z,0,$,0,K,D,Y),f(z,16,z,32,K-32,z),te=0;te<16;te++)z[te]=0;return 0}o(b,"crypto_secretbox");function x(z,$,K,D,Y){var te,me=new Uint8Array(32);if(K<32||(W(me,0,32,D,Y),d($,16,$,32,K-32,me)!==0))return-1;for(X(z,0,$,0,K,D,Y),te=0;te<32;te++)z[te]=0;return 0}o(x,"crypto_secretbox_open");function _(z,$){var K;for(K=0;K<16;K++)z[K]=$[K]|0}o(_,"set25519");function A(z){var $,K,D=1;for($=0;$<16;$++)K=z[$]+D+65535,D=Math.floor(K/65536),z[$]=K-D*65536;z[0]+=D-1+37*(D-1)}o(A,"car25519");function I(z,$,K){for(var D,Y=~(K-1),te=0;te<16;te++)D=Y&(z[te]^$[te]),z[te]^=D,$[te]^=D}o(I,"sel25519");function v(z,$){var K,D,Y,te=e(),me=e();for(K=0;K<16;K++)me[K]=$[K];for(A(me),A(me),A(me),D=0;D<2;D++){for(te[0]=me[0]-65517,K=1;K<15;K++)te[K]=me[K]-65535-(te[K-1]>>16&1),te[K-1]&=65535;te[15]=me[15]-32767-(te[14]>>16&1),Y=te[15]>>16&1,te[14]&=65535,I(me,te,1-Y)}for(K=0;K<16;K++)z[2*K]=me[K]&255,z[2*K+1]=me[K]>>8}o(v,"pack25519");function l(z,$){var K=new Uint8Array(32),D=new Uint8Array(32);return v(K,z),v(D,$),k(K,0,D,0)}o(l,"neq25519");function w(z){var $=new Uint8Array(32);return v($,z),$[0]&1}o(w,"par25519");function V(z,$){var K;for(K=0;K<16;K++)z[K]=$[2*K]+($[2*K+1]<<8);z[15]&=32767}o(V,"unpack25519");function q(z,$,K){for(var D=0;D<16;D++)z[D]=$[D]+K[D]}o(q,"A");function U(z,$,K){for(var D=0;D<16;D++)z[D]=$[D]-K[D]}o(U,"Z");function G(z,$,K){var D,Y,te=0,me=0,se=0,ue=0,lt=0,nt=0,Pt=0,st=0,xt=0,vt=0,It=0,At=0,_t=0,St=0,wt=0,ct=0,dt=0,ot=0,ft=0,ut=0,rt=0,_e=0,we=0,tt=0,Xe=0,Ze=0,it=0,Ht=0,hr=0,br=0,pr=0,ce=K[0],Cr=K[1],tn=K[2],rn=K[3],wr=K[4],Yr=K[5],Xr=K[6],no=K[7],On=K[8],zi=K[9],Ki=K[10],$i=K[11],To=K[12],Fs=K[13],Hs=K[14],qs=K[15];D=$[0],te+=D*ce,me+=D*Cr,se+=D*tn,ue+=D*rn,lt+=D*wr,nt+=D*Yr,Pt+=D*Xr,st+=D*no,xt+=D*On,vt+=D*zi,It+=D*Ki,At+=D*$i,_t+=D*To,St+=D*Fs,wt+=D*Hs,ct+=D*qs,D=$[1],me+=D*ce,se+=D*Cr,ue+=D*tn,lt+=D*rn,nt+=D*wr,Pt+=D*Yr,st+=D*Xr,xt+=D*no,vt+=D*On,It+=D*zi,At+=D*Ki,_t+=D*$i,St+=D*To,wt+=D*Fs,ct+=D*Hs,dt+=D*qs,D=$[2],se+=D*ce,ue+=D*Cr,lt+=D*tn,nt+=D*rn,Pt+=D*wr,st+=D*Yr,xt+=D*Xr,vt+=D*no,It+=D*On,At+=D*zi,_t+=D*Ki,St+=D*$i,wt+=D*To,ct+=D*Fs,dt+=D*Hs,ot+=D*qs,D=$[3],ue+=D*ce,lt+=D*Cr,nt+=D*tn,Pt+=D*rn,st+=D*wr,xt+=D*Yr,vt+=D*Xr,It+=D*no,At+=D*On,_t+=D*zi,St+=D*Ki,wt+=D*$i,ct+=D*To,dt+=D*Fs,ot+=D*Hs,ft+=D*qs,D=$[4],lt+=D*ce,nt+=D*Cr,Pt+=D*tn,st+=D*rn,xt+=D*wr,vt+=D*Yr,It+=D*Xr,At+=D*no,_t+=D*On,St+=D*zi,wt+=D*Ki,ct+=D*$i,dt+=D*To,ot+=D*Fs,ft+=D*Hs,ut+=D*qs,D=$[5],nt+=D*ce,Pt+=D*Cr,st+=D*tn,xt+=D*rn,vt+=D*wr,It+=D*Yr,At+=D*Xr,_t+=D*no,St+=D*On,wt+=D*zi,ct+=D*Ki,dt+=D*$i,ot+=D*To,ft+=D*Fs,ut+=D*Hs,rt+=D*qs,D=$[6],Pt+=D*ce,st+=D*Cr,xt+=D*tn,vt+=D*rn,It+=D*wr,At+=D*Yr,_t+=D*Xr,St+=D*no,wt+=D*On,ct+=D*zi,dt+=D*Ki,ot+=D*$i,ft+=D*To,ut+=D*Fs,rt+=D*Hs,_e+=D*qs,D=$[7],st+=D*ce,xt+=D*Cr,vt+=D*tn,It+=D*rn,At+=D*wr,_t+=D*Yr,St+=D*Xr,wt+=D*no,ct+=D*On,dt+=D*zi,ot+=D*Ki,ft+=D*$i,ut+=D*To,rt+=D*Fs,_e+=D*Hs,we+=D*qs,D=$[8],xt+=D*ce,vt+=D*Cr,It+=D*tn,At+=D*rn,_t+=D*wr,St+=D*Yr,wt+=D*Xr,ct+=D*no,dt+=D*On,ot+=D*zi,ft+=D*Ki,ut+=D*$i,rt+=D*To,_e+=D*Fs,we+=D*Hs,tt+=D*qs,D=$[9],vt+=D*ce,It+=D*Cr,At+=D*tn,_t+=D*rn,St+=D*wr,wt+=D*Yr,ct+=D*Xr,dt+=D*no,ot+=D*On,ft+=D*zi,ut+=D*Ki,rt+=D*$i,_e+=D*To,we+=D*Fs,tt+=D*Hs,Xe+=D*qs,D=$[10],It+=D*ce,At+=D*Cr,_t+=D*tn,St+=D*rn,wt+=D*wr,ct+=D*Yr,dt+=D*Xr,ot+=D*no,ft+=D*On,ut+=D*zi,rt+=D*Ki,_e+=D*$i,we+=D*To,tt+=D*Fs,Xe+=D*Hs,Ze+=D*qs,D=$[11],At+=D*ce,_t+=D*Cr,St+=D*tn,wt+=D*rn,ct+=D*wr,dt+=D*Yr,ot+=D*Xr,ft+=D*no,ut+=D*On,rt+=D*zi,_e+=D*Ki,we+=D*$i,tt+=D*To,Xe+=D*Fs,Ze+=D*Hs,it+=D*qs,D=$[12],_t+=D*ce,St+=D*Cr,wt+=D*tn,ct+=D*rn,dt+=D*wr,ot+=D*Yr,ft+=D*Xr,ut+=D*no,rt+=D*On,_e+=D*zi,we+=D*Ki,tt+=D*$i,Xe+=D*To,Ze+=D*Fs,it+=D*Hs,Ht+=D*qs,D=$[13],St+=D*ce,wt+=D*Cr,ct+=D*tn,dt+=D*rn,ot+=D*wr,ft+=D*Yr,ut+=D*Xr,rt+=D*no,_e+=D*On,we+=D*zi,tt+=D*Ki,Xe+=D*$i,Ze+=D*To,it+=D*Fs,Ht+=D*Hs,hr+=D*qs,D=$[14],wt+=D*ce,ct+=D*Cr,dt+=D*tn,ot+=D*rn,ft+=D*wr,ut+=D*Yr,rt+=D*Xr,_e+=D*no,we+=D*On,tt+=D*zi,Xe+=D*Ki,Ze+=D*$i,it+=D*To,Ht+=D*Fs,hr+=D*Hs,br+=D*qs,D=$[15],ct+=D*ce,dt+=D*Cr,ot+=D*tn,ft+=D*rn,ut+=D*wr,rt+=D*Yr,_e+=D*Xr,we+=D*no,tt+=D*On,Xe+=D*zi,Ze+=D*Ki,it+=D*$i,Ht+=D*To,hr+=D*Fs,br+=D*Hs,pr+=D*qs,te+=38*dt,me+=38*ot,se+=38*ft,ue+=38*ut,lt+=38*rt,nt+=38*_e,Pt+=38*we,st+=38*tt,xt+=38*Xe,vt+=38*Ze,It+=38*it,At+=38*Ht,_t+=38*hr,St+=38*br,wt+=38*pr,Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=It+Y+65535,Y=Math.floor(D/65536),It=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=St+Y+65535,Y=Math.floor(D/65536),St=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),Y=1,D=te+Y+65535,Y=Math.floor(D/65536),te=D-Y*65536,D=me+Y+65535,Y=Math.floor(D/65536),me=D-Y*65536,D=se+Y+65535,Y=Math.floor(D/65536),se=D-Y*65536,D=ue+Y+65535,Y=Math.floor(D/65536),ue=D-Y*65536,D=lt+Y+65535,Y=Math.floor(D/65536),lt=D-Y*65536,D=nt+Y+65535,Y=Math.floor(D/65536),nt=D-Y*65536,D=Pt+Y+65535,Y=Math.floor(D/65536),Pt=D-Y*65536,D=st+Y+65535,Y=Math.floor(D/65536),st=D-Y*65536,D=xt+Y+65535,Y=Math.floor(D/65536),xt=D-Y*65536,D=vt+Y+65535,Y=Math.floor(D/65536),vt=D-Y*65536,D=It+Y+65535,Y=Math.floor(D/65536),It=D-Y*65536,D=At+Y+65535,Y=Math.floor(D/65536),At=D-Y*65536,D=_t+Y+65535,Y=Math.floor(D/65536),_t=D-Y*65536,D=St+Y+65535,Y=Math.floor(D/65536),St=D-Y*65536,D=wt+Y+65535,Y=Math.floor(D/65536),wt=D-Y*65536,D=ct+Y+65535,Y=Math.floor(D/65536),ct=D-Y*65536,te+=Y-1+37*(Y-1),z[0]=te,z[1]=me,z[2]=se,z[3]=ue,z[4]=lt,z[5]=nt,z[6]=Pt,z[7]=st,z[8]=xt,z[9]=vt,z[10]=It,z[11]=At,z[12]=_t,z[13]=St,z[14]=wt,z[15]=ct}o(G,"M");function ee(z,$){G(z,$,$)}o(ee,"S");function re(z,$){var K=e(),D;for(D=0;D<16;D++)K[D]=$[D];for(D=253;D>=0;D--)ee(K,K),D!==2&&D!==4&&G(K,K,$);for(D=0;D<16;D++)z[D]=K[D]}o(re,"inv25519");function Oe(z,$){var K=e(),D;for(D=0;D<16;D++)K[D]=$[D];for(D=250;D>=0;D--)ee(K,K),D!==1&&G(K,K,$);for(D=0;D<16;D++)z[D]=K[D]}o(Oe,"pow2523");function ae(z,$,K){var D=new Uint8Array(32),Y=new Float64Array(80),te,me,se=e(),ue=e(),lt=e(),nt=e(),Pt=e(),st=e();for(me=0;me<31;me++)D[me]=$[me];for(D[31]=$[31]&127|64,D[0]&=248,V(Y,K),me=0;me<16;me++)ue[me]=Y[me],nt[me]=se[me]=lt[me]=0;for(se[0]=nt[0]=1,me=254;me>=0;--me)te=D[me>>>3]>>>(me&7)&1,I(se,ue,te),I(lt,nt,te),q(Pt,se,lt),U(se,se,lt),q(lt,ue,nt),U(ue,ue,nt),ee(nt,Pt),ee(st,se),G(se,lt,se),G(lt,ue,Pt),q(Pt,se,lt),U(se,se,lt),ee(ue,se),U(lt,nt,st),G(se,lt,c),q(se,se,nt),G(lt,lt,se),G(se,nt,st),G(nt,ue,Y),ee(ue,Pt),I(se,ue,te),I(lt,nt,te);for(me=0;me<16;me++)Y[me+16]=se[me],Y[me+32]=lt[me],Y[me+48]=ue[me],Y[me+64]=nt[me];var xt=Y.subarray(32),vt=Y.subarray(16);return re(xt,xt),G(vt,vt,xt),v(z,vt),0}o(ae,"crypto_scalarmult");function le(z,$){return ae(z,$,i)}o(le,"crypto_scalarmult_base");function ye(z,$){return r($,32),le(z,$)}o(ye,"crypto_box_keypair");function he(z,$,K){var D=new Uint8Array(32);return ae(D,K,$),P(z,n,D,H)}o(he,"crypto_box_beforenm");var ge=b,lr=x;function Ae(z,$,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),ge(z,$,K,D,me)}o(Ae,"crypto_box");function Me(z,$,K,D,Y,te){var me=new Uint8Array(32);return he(me,Y,te),lr(z,$,K,D,me)}o(Me,"crypto_box_open");var Kn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qe(z,$,K,D){for(var Y=new Int32Array(16),te=new Int32Array(16),me,se,ue,lt,nt,Pt,st,xt,vt,It,At,_t,St,wt,ct,dt,ot,ft,ut,rt,_e,we,tt,Xe,Ze,it,Ht=z[0],hr=z[1],br=z[2],pr=z[3],ce=z[4],Cr=z[5],tn=z[6],rn=z[7],wr=$[0],Yr=$[1],Xr=$[2],no=$[3],On=$[4],zi=$[5],Ki=$[6],$i=$[7],To=0;D>=128;){for(ut=0;ut<16;ut++)rt=8*ut+To,Y[ut]=K[rt+0]<<24|K[rt+1]<<16|K[rt+2]<<8|K[rt+3],te[ut]=K[rt+4]<<24|K[rt+5]<<16|K[rt+6]<<8|K[rt+7];for(ut=0;ut<80;ut++)if(me=Ht,se=hr,ue=br,lt=pr,nt=ce,Pt=Cr,st=tn,xt=rn,vt=wr,It=Yr,At=Xr,_t=no,St=On,wt=zi,ct=Ki,dt=$i,_e=rn,we=$i,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=(ce>>>14|On<<18)^(ce>>>18|On<<14)^(On>>>9|ce<<23),we=(On>>>14|ce<<18)^(On>>>18|ce<<14)^(ce>>>9|On<<23),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=ce&Cr^~ce&tn,we=On&zi^~On&Ki,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Kn[ut*2],we=Kn[ut*2+1],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Y[ut%16],we=te[ut%16],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,ot=Ze&65535|it<<16,ft=tt&65535|Xe<<16,_e=ot,we=ft,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=(Ht>>>28|wr<<4)^(wr>>>2|Ht<<30)^(wr>>>7|Ht<<25),we=(wr>>>28|Ht<<4)^(Ht>>>2|wr<<30)^(Ht>>>7|wr<<25),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,_e=Ht&hr^Ht&br^hr&br,we=wr&Yr^wr&Xr^Yr&Xr,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,xt=Ze&65535|it<<16,dt=tt&65535|Xe<<16,_e=lt,we=_t,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=ot,we=ft,tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,lt=Ze&65535|it<<16,_t=tt&65535|Xe<<16,hr=me,br=se,pr=ue,ce=lt,Cr=nt,tn=Pt,rn=st,Ht=xt,Yr=vt,Xr=It,no=At,On=_t,zi=St,Ki=wt,$i=ct,wr=dt,ut%16===15)for(rt=0;rt<16;rt++)_e=Y[rt],we=te[rt],tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=Y[(rt+9)%16],we=te[(rt+9)%16],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,ot=Y[(rt+1)%16],ft=te[(rt+1)%16],_e=(ot>>>1|ft<<31)^(ot>>>8|ft<<24)^ot>>>7,we=(ft>>>1|ot<<31)^(ft>>>8|ot<<24)^(ft>>>7|ot<<25),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,ot=Y[(rt+14)%16],ft=te[(rt+14)%16],_e=(ot>>>19|ft<<13)^(ft>>>29|ot<<3)^ot>>>6,we=(ft>>>19|ot<<13)^(ot>>>29|ft<<3)^(ft>>>6|ot<<26),tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,Y[rt]=Ze&65535|it<<16,te[rt]=tt&65535|Xe<<16;_e=Ht,we=wr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[0],we=$[0],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[0]=Ht=Ze&65535|it<<16,$[0]=wr=tt&65535|Xe<<16,_e=hr,we=Yr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[1],we=$[1],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[1]=hr=Ze&65535|it<<16,$[1]=Yr=tt&65535|Xe<<16,_e=br,we=Xr,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[2],we=$[2],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[2]=br=Ze&65535|it<<16,$[2]=Xr=tt&65535|Xe<<16,_e=pr,we=no,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[3],we=$[3],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[3]=pr=Ze&65535|it<<16,$[3]=no=tt&65535|Xe<<16,_e=ce,we=On,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[4],we=$[4],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[4]=ce=Ze&65535|it<<16,$[4]=On=tt&65535|Xe<<16,_e=Cr,we=zi,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[5],we=$[5],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[5]=Cr=Ze&65535|it<<16,$[5]=zi=tt&65535|Xe<<16,_e=tn,we=Ki,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[6],we=$[6],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[6]=tn=Ze&65535|it<<16,$[6]=Ki=tt&65535|Xe<<16,_e=rn,we=$i,tt=we&65535,Xe=we>>>16,Ze=_e&65535,it=_e>>>16,_e=z[7],we=$[7],tt+=we&65535,Xe+=we>>>16,Ze+=_e&65535,it+=_e>>>16,Xe+=tt>>>16,Ze+=Xe>>>16,it+=Ze>>>16,z[7]=rn=Ze&65535|it<<16,$[7]=$i=tt&65535|Xe<<16,To+=128,D-=128}return D}o(qe,"crypto_hashblocks_hl");function ke(z,$,K){var D=new Int32Array(8),Y=new Int32Array(8),te=new Uint8Array(256),me,se=K;for(D[0]=1779033703,D[1]=3144134277,D[2]=1013904242,D[3]=2773480762,D[4]=1359893119,D[5]=2600822924,D[6]=528734635,D[7]=1541459225,Y[0]=4089235720,Y[1]=2227873595,Y[2]=4271175723,Y[3]=1595750129,Y[4]=2917565137,Y[5]=725511199,Y[6]=4215389547,Y[7]=327033209,qe(D,Y,$,K),K%=128,me=0;me<K;me++)te[me]=$[se-K+me];for(te[K]=128,K=256-128*(K<112?1:0),te[K-9]=0,T(te,K-8,se/536870912|0,se<<3),qe(D,Y,te,K),me=0;me<8;me++)T(z,8*me,D[me],Y[me]);return 0}o(ke,"crypto_hash");function $n(z,$){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e(),lt=e(),nt=e();U(K,z[1],z[0]),U(nt,$[1],$[0]),G(K,K,nt),q(D,z[0],z[1]),q(nt,$[0],$[1]),G(D,D,nt),G(Y,z[3],$[3]),G(Y,Y,h),G(te,z[2],$[2]),q(te,te,te),U(me,D,K),U(se,te,Y),q(ue,te,Y),q(lt,D,K),G(z[0],me,se),G(z[1],lt,ue),G(z[2],ue,se),G(z[3],me,lt)}o($n,"add");function Ue(z,$,K){var D;for(D=0;D<4;D++)I(z[D],$[D],K)}o(Ue,"cswap");function Pe(z,$){var K=e(),D=e(),Y=e();re(Y,$[2]),G(K,$[0],Y),G(D,$[1],Y),v(z,D),z[31]^=w(K)<<7}o(Pe,"pack");function Gn(z,$,K){var D,Y;for(_(z[0],s),_(z[1],a),_(z[2],a),_(z[3],s),Y=255;Y>=0;--Y)D=K[Y/8|0]>>(Y&7)&1,Ue(z,$,D),$n($,z),$n(z,z),Ue(z,$,D)}o(Gn,"scalarmult");function Be(z,$){var K=[e(),e(),e(),e()];_(K[0],y),_(K[1],g),_(K[2],a),G(K[3],y,g),Gn(z,K,$)}o(Be,"scalarbase");function Le(z,$,K){var D=new Uint8Array(64),Y=[e(),e(),e(),e()],te;for(K||r($,32),ke(D,$,32),D[0]&=248,D[31]&=127,D[31]|=64,Be(Y,D),Pe(z,Y),te=0;te<32;te++)$[te+32]=z[te];return 0}o(Le,"crypto_sign_keypair");var en=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function J(z,$){var K,D,Y,te;for(D=63;D>=32;--D){for(K=0,Y=D-32,te=D-12;Y<te;++Y)$[Y]+=K-16*$[D]*en[Y-(D-32)],K=Math.floor(($[Y]+128)/256),$[Y]-=K*256;$[Y]+=K,$[D]=0}for(K=0,Y=0;Y<32;Y++)$[Y]+=K-($[31]>>4)*en[Y],K=$[Y]>>8,$[Y]&=255;for(Y=0;Y<32;Y++)$[Y]-=K*en[Y];for(D=0;D<32;D++)$[D+1]+=$[D]>>8,z[D]=$[D]&255}o(J,"modL");function Q(z){var $=new Float64Array(64),K;for(K=0;K<64;K++)$[K]=z[K];for(K=0;K<64;K++)z[K]=0;J(z,$)}o(Q,"reduce");function pe(z,$,K,D){var Y=new Uint8Array(64),te=new Uint8Array(64),me=new Uint8Array(64),se,ue,lt=new Float64Array(64),nt=[e(),e(),e(),e()];ke(Y,D,32),Y[0]&=248,Y[31]&=127,Y[31]|=64;var Pt=K+64;for(se=0;se<K;se++)z[64+se]=$[se];for(se=0;se<32;se++)z[32+se]=Y[32+se];for(ke(me,z.subarray(32),K+32),Q(me),Be(nt,me),Pe(z,nt),se=32;se<64;se++)z[se]=D[se];for(ke(te,z,K+64),Q(te),se=0;se<64;se++)lt[se]=0;for(se=0;se<32;se++)lt[se]=me[se];for(se=0;se<32;se++)for(ue=0;ue<32;ue++)lt[se+ue]+=te[se]*Y[ue];return J(z.subarray(32),lt),Pt}o(pe,"crypto_sign");function ne(z,$){var K=e(),D=e(),Y=e(),te=e(),me=e(),se=e(),ue=e();return _(z[2],a),V(z[1],$),ee(Y,z[1]),G(te,Y,u),U(Y,Y,z[2]),q(te,z[2],te),ee(me,te),ee(se,me),G(ue,se,me),G(K,ue,Y),G(K,K,te),Oe(K,K),G(K,K,Y),G(K,K,te),G(K,K,te),G(z[0],K,te),ee(D,z[0]),G(D,D,te),l(D,Y)&&G(z[0],z[0],S),ee(D,z[0]),G(D,D,te),l(D,Y)?-1:(w(z[0])===$[31]>>7&&U(z[0],s,z[0]),G(z[3],z[0],z[1]),0)}o(ne,"unpackneg");function de(z,$,K,D){var Y,te=new Uint8Array(32),me=new Uint8Array(64),se=[e(),e(),e(),e()],ue=[e(),e(),e(),e()];if(K<64||ne(ue,D))return-1;for(Y=0;Y<K;Y++)z[Y]=$[Y];for(Y=0;Y<32;Y++)z[Y+32]=D[Y];if(ke(me,z,K),Q(me),Gn(se,ue,me),Be(ue,$.subarray(32)),$n(se,ue),Pe(te,se),K-=64,k($,0,te,0)){for(Y=0;Y<K;Y++)z[Y]=0;return-1}for(Y=0;Y<K;Y++)z[Y]=$[Y+64];return K}o(de,"crypto_sign_open");var yt=32,ve=24,Ee=32,tr=16,Te=32,Ne=32,ui=32,Fe=32,De=32,po=ve,Ge=Ee,We=tr,Wn=64,He=32,Ve=64,ro=32,je=64;t.lowlevel={crypto_core_hsalsa20:P,crypto_stream_xor:X,crypto_stream:W,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:Z,crypto_onetimeauth:f,crypto_onetimeauth_verify:d,crypto_verify_16:M,crypto_verify_32:k,crypto_secretbox:b,crypto_secretbox_open:x,crypto_scalarmult:ae,crypto_scalarmult_base:le,crypto_box_beforenm:he,crypto_box_afternm:ge,crypto_box:Ae,crypto_box_open:Me,crypto_box_keypair:ye,crypto_hash:ke,crypto_sign:pe,crypto_sign_keypair:Le,crypto_sign_open:de,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:ve,crypto_secretbox_ZEROBYTES:Ee,crypto_secretbox_BOXZEROBYTES:tr,crypto_scalarmult_BYTES:Te,crypto_scalarmult_SCALARBYTES:Ne,crypto_box_PUBLICKEYBYTES:ui,crypto_box_SECRETKEYBYTES:Fe,crypto_box_BEFORENMBYTES:De,crypto_box_NONCEBYTES:po,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:We,crypto_sign_BYTES:Wn,crypto_sign_PUBLICKEYBYTES:He,crypto_sign_SECRETKEYBYTES:Ve,crypto_sign_SEEDBYTES:ro,crypto_hash_BYTES:je,gf:e,D:u,L:en,pack25519:v,unpack25519:V,M:G,A:q,S:ee,Z:U,pow2523:Oe,add:$n,set25519:_,modL:J,scalarmult:Gn,scalarbase:Be};function ze(z,$){if(z.length!==yt)throw new Error("bad key size");if($.length!==ve)throw new Error("bad nonce size")}o(ze,"checkLengths");function Ao(z,$){if(z.length!==ui)throw new Error("bad public key size");if($.length!==Fe)throw new Error("bad secret key size")}o(Ao,"checkBoxLengths");function Ce(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}o(Ce,"checkArrayTypes");function Ke(z){for(var $=0;$<z.length;$++)z[$]=0}o(Ke,"cleanup"),t.randomBytes=function(z){var $=new Uint8Array(z);return r($,z),$},t.secretbox=function(z,$,K){Ce(z,$,K),ze(K,$);for(var D=new Uint8Array(Ee+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+Ee]=z[te];return b(Y,D,D.length,$,K),Y.subarray(tr)},t.secretbox.open=function(z,$,K){Ce(z,$,K),ze(K,$);for(var D=new Uint8Array(tr+z.length),Y=new Uint8Array(D.length),te=0;te<z.length;te++)D[te+tr]=z[te];return D.length<32||x(Y,D,D.length,$,K)!==0?null:Y.subarray(Ee)},t.secretbox.keyLength=yt,t.secretbox.nonceLength=ve,t.secretbox.overheadLength=tr,t.scalarMult=function(z,$){if(Ce(z,$),z.length!==Ne)throw new Error("bad n size");if($.length!==Te)throw new Error("bad p size");var K=new Uint8Array(Te);return ae(K,z,$),K},t.scalarMult.base=function(z){if(Ce(z),z.length!==Ne)throw new Error("bad n size");var $=new Uint8Array(Te);return le($,z),$},t.scalarMult.scalarLength=Ne,t.scalarMult.groupElementLength=Te,t.box=function(z,$,K,D){var Y=t.box.before(K,D);return t.secretbox(z,$,Y)},t.box.before=function(z,$){Ce(z,$),Ao(z,$);var K=new Uint8Array(De);return he(K,z,$),K},t.box.after=t.secretbox,t.box.open=function(z,$,K,D){var Y=t.box.before(K,D);return t.secretbox.open(z,$,Y)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var z=new Uint8Array(ui),$=new Uint8Array(Fe);return ye(z,$),{publicKey:z,secretKey:$}},t.box.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Fe)throw new Error("bad secret key size");var $=new Uint8Array(ui);return le($,z),{publicKey:$,secretKey:new Uint8Array(z)}},t.box.publicKeyLength=ui,t.box.secretKeyLength=Fe,t.box.sharedKeyLength=De,t.box.nonceLength=po,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(z,$){if(Ce(z,$),$.length!==Ve)throw new Error("bad secret key size");var K=new Uint8Array(Wn+z.length);return pe(K,z,z.length,$),K},t.sign.open=function(z,$){if(Ce(z,$),$.length!==He)throw new Error("bad public key size");var K=new Uint8Array(z.length),D=de(K,z,z.length,$);if(D<0)return null;for(var Y=new Uint8Array(D),te=0;te<Y.length;te++)Y[te]=K[te];return Y},t.sign.detached=function(z,$){for(var K=t.sign(z,$),D=new Uint8Array(Wn),Y=0;Y<D.length;Y++)D[Y]=K[Y];return D},t.sign.detached.verify=function(z,$,K){if(Ce(z,$,K),$.length!==Wn)throw new Error("bad signature size");if(K.length!==He)throw new Error("bad public key size");var D=new Uint8Array(Wn+z.length),Y=new Uint8Array(Wn+z.length),te;for(te=0;te<Wn;te++)D[te]=$[te];for(te=0;te<z.length;te++)D[te+Wn]=z[te];return de(Y,D,D.length,K)>=0},t.sign.keyPair=function(){var z=new Uint8Array(He),$=new Uint8Array(Ve);return Le(z,$),{publicKey:z,secretKey:$}},t.sign.keyPair.fromSecretKey=function(z){if(Ce(z),z.length!==Ve)throw new Error("bad secret key size");for(var $=new Uint8Array(He),K=0;K<$.length;K++)$[K]=z[32+K];return{publicKey:$,secretKey:new Uint8Array(z)}},t.sign.keyPair.fromSeed=function(z){if(Ce(z),z.length!==ro)throw new Error("bad seed size");for(var $=new Uint8Array(He),K=new Uint8Array(Ve),D=0;D<32;D++)K[D]=z[D];return Le($,K,!0),{publicKey:$,secretKey:K}},t.sign.publicKeyLength=He,t.sign.secretKeyLength=Ve,t.sign.seedLength=ro,t.sign.signatureLength=Wn,t.hash=function(z){Ce(z);var $=new Uint8Array(je);return ke($,z,z.length),$},t.hash.hashLength=je,t.verify=function(z,$){return Ce(z,$),z.length===0||$.length===0||z.length!==$.length?!1:O(z,0,$,0,z.length)===0},t.setPRNG=function(z){r=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var $=65536;t.setPRNG(function(K,D){var Y,te=new Uint8Array(D);for(Y=0;Y<D;Y+=$)z.getRandomValues(te.subarray(Y,Y+Math.min(D-Y,$)));for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)})}else typeof vZ<"u"&&(z=Vx(),z&&z.randomBytes&&t.setPRNG(function(K,D){var Y,te=z.randomBytes(D);for(Y=0;Y<D;Y++)K[Y]=te[Y];Ke(te)}))}()})(typeof Y7<"u"&&Y7.exports?Y7.exports:self.nacl=self.nacl||{})});var M_e=j(e9=>{"use strict";p();m();Object.defineProperty(e9,"__esModule",{value:!0});e9.crypto=void 0;e9.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Kj=j($t=>{"use strict";p();m();Object.defineProperty($t,"__esModule",{value:!0});$t.wrapXOFConstructorWithOpts=$t.wrapConstructorWithOpts=$t.wrapConstructor=$t.Hash=$t.nextTick=$t.swap32IfBE=$t.byteSwapIfBE=$t.swap8IfBE=$t.isLE=void 0;$t.isBytes=C_e;$t.anumber=qj;$t.abytes=Zv;$t.ahash=tft;$t.aexists=rft;$t.aoutput=nft;$t.u8=ift;$t.u32=oft;$t.clean=sft;$t.createView=aft;$t.rotr=cft;$t.rotl=fft;$t.byteSwap=jj;$t.byteSwap32=k_e;$t.bytesToHex=lft;$t.hexToBytes=dft;$t.asyncLoop=pft;$t.utf8ToBytes=zj;$t.bytesToUtf8=mft;$t.toBytes=t9;$t.kdfInputToBytes=gft;$t.concatBytes=yft;$t.checkOpts=bft;$t.createHasher=P_e;$t.createOptHasher=L_e;$t.createXOFer=D_e;$t.randomBytes=xft;var Xv=M_e();function C_e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(C_e,"isBytes");function qj(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(qj,"anumber");function Zv(t,...e){if(!C_e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(Zv,"abytes");function tft(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");qj(t.outputLen),qj(t.blockLen)}o(tft,"ahash");function rft(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(rft,"aexists");function nft(t,e){Zv(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(nft,"aoutput");function ift(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(ift,"u8");function oft(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(oft,"u32");function sft(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(sft,"clean");function aft(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(aft,"createView");function cft(t,e){return t<<32-e|t>>>e}o(cft,"rotr");function fft(t,e){return t<<e|t>>>32-e>>>0}o(fft,"rotl");$t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(jj,"byteSwap");$t.swap8IfBE=$t.isLE?t=>t:t=>jj(t);$t.byteSwapIfBE=$t.swap8IfBE;function k_e(t){for(let e=0;e<t.length;e++)t[e]=jj(t[e]);return t}o(k_e,"byteSwap32");$t.swap32IfBE=$t.isLE?t=>t:k_e;var B_e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",uft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lft(t){if(Zv(t),B_e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=uft[t[r]];return e}o(lft,"bytesToHex");var s0={_0:48,_9:57,A:65,F:70,a:97,f:102};function N_e(t){if(t>=s0._0&&t<=s0._9)return t-s0._0;if(t>=s0.A&&t<=s0.F)return t-(s0.A-10);if(t>=s0.a&&t<=s0.f)return t-(s0.a-10)}o(N_e,"asciiToBase16");function dft(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(B_e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=N_e(t.charCodeAt(s)),c=N_e(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(dft,"hexToBytes");var hft=o(async()=>{},"nextTick");$t.nextTick=hft;async function pft(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,$t.nextTick)(),n+=s)}}o(pft,"asyncLoop");function zj(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(zj,"utf8ToBytes");function mft(t){return new TextDecoder().decode(t)}o(mft,"bytesToUtf8");function t9(t){return typeof t=="string"&&(t=zj(t)),Zv(t),t}o(t9,"toBytes");function gft(t){return typeof t=="string"&&(t=zj(t)),Zv(t),t}o(gft,"kdfInputToBytes");function yft(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Zv(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(yft,"concatBytes");function bft(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(bft,"checkOpts");var Vj=class{static{o(this,"Hash")}};$t.Hash=Vj;function P_e(t){let e=o(n=>t().update(t9(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(P_e,"createHasher");function L_e(t){let e=o((n,i)=>t(i).update(t9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(L_e,"createOptHasher");function D_e(t){let e=o((n,i)=>t(i).update(t9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(D_e,"createXOFer");$t.wrapConstructor=P_e;$t.wrapConstructorWithOpts=L_e;$t.wrapXOFConstructorWithOpts=D_e;function xft(t=32){if(Xv.crypto&&typeof Xv.crypto.getRandomValues=="function")return Xv.crypto.getRandomValues(new Uint8Array(t));if(Xv.crypto&&typeof Xv.crypto.randomBytes=="function")return Uint8Array.from(Xv.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(xft,"randomBytes")});var F_e=j(qa=>{"use strict";p();m();Object.defineProperty(qa,"__esModule",{value:!0});qa.SHA512_IV=qa.SHA384_IV=qa.SHA224_IV=qa.SHA256_IV=qa.HashMD=void 0;qa.setBigUint64=U_e;qa.Chi=vft;qa.Maj=_ft;var Dd=Kj();function U_e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(U_e,"setBigUint64");function vft(t,e,r){return t&e^~t&r}o(vft,"Chi");function _ft(t,e,r){return t&e^t&r^e&r}o(_ft,"Maj");var $j=class extends Dd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Dd.createView)(this.buffer)}update(e){(0,Dd.aexists)(this),e=(0,Dd.toBytes)(e),(0,Dd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=(0,Dd.createView)(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Dd.aexists)(this),(0,Dd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Dd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;U_e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Dd.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};qa.HashMD=$j;qa.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);qa.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);qa.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);qa.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var awe=j(fr=>{"use strict";p();m();Object.defineProperty(fr,"__esModule",{value:!0});fr.toBig=fr.shrSL=fr.shrSH=fr.rotrSL=fr.rotrSH=fr.rotrBL=fr.rotrBH=fr.rotr32L=fr.rotr32H=fr.rotlSL=fr.rotlSH=fr.rotlBL=fr.rotlBH=fr.add5L=fr.add5H=fr.add4L=fr.add4H=fr.add3L=fr.add3H=void 0;fr.add=ewe;fr.fromBig=Wj;fr.split=H_e;var r9=BigInt(2**32-1),Gj=BigInt(32);function Wj(t,e=!1){return e?{h:Number(t&r9),l:Number(t>>Gj&r9)}:{h:Number(t>>Gj&r9)|0,l:Number(t&r9)|0}}o(Wj,"fromBig");function H_e(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=Wj(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(H_e,"split");var q_e=o((t,e)=>BigInt(t>>>0)<<Gj|BigInt(e>>>0),"toBig");fr.toBig=q_e;var V_e=o((t,e,r)=>t>>>r,"shrSH");fr.shrSH=V_e;var j_e=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");fr.shrSL=j_e;var z_e=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");fr.rotrSH=z_e;var K_e=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");fr.rotrSL=K_e;var $_e=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");fr.rotrBH=$_e;var G_e=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");fr.rotrBL=G_e;var W_e=o((t,e)=>e,"rotr32H");fr.rotr32H=W_e;var Y_e=o((t,e)=>t,"rotr32L");fr.rotr32L=Y_e;var X_e=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");fr.rotlSH=X_e;var Z_e=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");fr.rotlSL=Z_e;var J_e=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");fr.rotlBH=J_e;var Q_e=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");fr.rotlBL=Q_e;function ewe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(ewe,"add");var twe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");fr.add3L=twe;var rwe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");fr.add3H=rwe;var nwe=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");fr.add4L=nwe;var iwe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");fr.add4H=iwe;var owe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");fr.add5L=owe;var swe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");fr.add5H=swe;var wft={fromBig:Wj,split:H_e,toBig:q_e,shrSH:V_e,shrSL:j_e,rotrSH:z_e,rotrSL:K_e,rotrBH:$_e,rotrBL:G_e,rotr32H:W_e,rotr32L:Y_e,rotlSH:X_e,rotlSL:Z_e,rotlBH:J_e,rotlBL:Q_e,add:ewe,add3L:twe,add3H:rwe,add4L:nwe,add4H:iwe,add5H:swe,add5L:owe};fr.default=wft});var fwe=j(ii=>{"use strict";p();m();Object.defineProperty(ii,"__esModule",{value:!0});ii.sha512_224=ii.sha512_256=ii.sha384=ii.sha512=ii.sha224=ii.sha256=ii.SHA512_256=ii.SHA512_224=ii.SHA384=ii.SHA512=ii.SHA224=ii.SHA256=void 0;var jt=F_e(),Rr=awe(),vo=Kj(),Sft=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vm=new Uint32Array(64),QE=class extends jt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=jt.SHA256_IV[0]|0,this.B=jt.SHA256_IV[1]|0,this.C=jt.SHA256_IV[2]|0,this.D=jt.SHA256_IV[3]|0,this.E=jt.SHA256_IV[4]|0,this.F=jt.SHA256_IV[5]|0,this.G=jt.SHA256_IV[6]|0,this.H=jt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)vm[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=vm[g-15],T=vm[g-2],O=(0,vo.rotr)(S,7)^(0,vo.rotr)(S,18)^S>>>3,M=(0,vo.rotr)(T,17)^(0,vo.rotr)(T,19)^T>>>10;vm[g]=M+vm[g-7]+O+vm[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=(0,vo.rotr)(c,6)^(0,vo.rotr)(c,11)^(0,vo.rotr)(c,25),T=y+S+(0,jt.Chi)(c,u,h)+Sft[g]+vm[g]|0,M=((0,vo.rotr)(n,2)^(0,vo.rotr)(n,13)^(0,vo.rotr)(n,22))+(0,jt.Maj)(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){(0,vo.clean)(vm)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,vo.clean)(this.buffer)}};ii.SHA256=QE;var n9=class extends QE{static{o(this,"SHA224")}constructor(){super(28),this.A=jt.SHA224_IV[0]|0,this.B=jt.SHA224_IV[1]|0,this.C=jt.SHA224_IV[2]|0,this.D=jt.SHA224_IV[3]|0,this.E=jt.SHA224_IV[4]|0,this.F=jt.SHA224_IV[5]|0,this.G=jt.SHA224_IV[6]|0,this.H=jt.SHA224_IV[7]|0}};ii.SHA224=n9;var cwe=Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Eft=cwe[0],Aft=cwe[1],_m=new Uint32Array(80),wm=new Uint32Array(80),c1=class extends jt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=jt.SHA512_IV[0]|0,this.Al=jt.SHA512_IV[1]|0,this.Bh=jt.SHA512_IV[2]|0,this.Bl=jt.SHA512_IV[3]|0,this.Ch=jt.SHA512_IV[4]|0,this.Cl=jt.SHA512_IV[5]|0,this.Dh=jt.SHA512_IV[6]|0,this.Dl=jt.SHA512_IV[7]|0,this.Eh=jt.SHA512_IV[8]|0,this.El=jt.SHA512_IV[9]|0,this.Fh=jt.SHA512_IV[10]|0,this.Fl=jt.SHA512_IV[11]|0,this.Gh=jt.SHA512_IV[12]|0,this.Gl=jt.SHA512_IV[13]|0,this.Hh=jt.SHA512_IV[14]|0,this.Hl=jt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)_m[N]=e.getUint32(r),wm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=_m[N-15]|0,H=wm[N-15]|0,F=Rr.rotrSH(P,H,1)^Rr.rotrSH(P,H,8)^Rr.shrSH(P,H,7),Z=Rr.rotrSL(P,H,1)^Rr.rotrSL(P,H,8)^Rr.shrSL(P,H,7),W=_m[N-2]|0,X=wm[N-2]|0,E=Rr.rotrSH(W,X,19)^Rr.rotrBH(W,X,61)^Rr.shrSH(W,X,6),f=Rr.rotrSL(W,X,19)^Rr.rotrBL(W,X,61)^Rr.shrSL(W,X,6),d=Rr.add4L(Z,f,wm[N-7],wm[N-16]),b=Rr.add4H(d,F,E,_m[N-7],_m[N-16]);_m[N]=b|0,wm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Rr.rotrSH(g,S,14)^Rr.rotrSH(g,S,18)^Rr.rotrBH(g,S,41),H=Rr.rotrSL(g,S,14)^Rr.rotrSL(g,S,18)^Rr.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=Rr.add5L(B,H,Z,Aft[N],wm[N]),X=Rr.add5H(W,C,P,F,Eft[N],_m[N]),E=W|0,f=Rr.rotrSH(n,i,28)^Rr.rotrBH(n,i,34)^Rr.rotrBH(n,i,39),d=Rr.rotrSL(n,i,28)^Rr.rotrBL(n,i,34)^Rr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=Rr.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=Rr.add3L(E,d,x);n=Rr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Rr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Rr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Rr.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=Rr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=Rr.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=Rr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Rr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Rr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){(0,vo.clean)(_m,wm)}destroy(){(0,vo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ii.SHA512=c1;var i9=class extends c1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=jt.SHA384_IV[0]|0,this.Al=jt.SHA384_IV[1]|0,this.Bh=jt.SHA384_IV[2]|0,this.Bl=jt.SHA384_IV[3]|0,this.Ch=jt.SHA384_IV[4]|0,this.Cl=jt.SHA384_IV[5]|0,this.Dh=jt.SHA384_IV[6]|0,this.Dl=jt.SHA384_IV[7]|0,this.Eh=jt.SHA384_IV[8]|0,this.El=jt.SHA384_IV[9]|0,this.Fh=jt.SHA384_IV[10]|0,this.Fl=jt.SHA384_IV[11]|0,this.Gh=jt.SHA384_IV[12]|0,this.Gl=jt.SHA384_IV[13]|0,this.Hh=jt.SHA384_IV[14]|0,this.Hl=jt.SHA384_IV[15]|0}};ii.SHA384=i9;var xa=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),va=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),o9=class extends c1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=xa[0]|0,this.Al=xa[1]|0,this.Bh=xa[2]|0,this.Bl=xa[3]|0,this.Ch=xa[4]|0,this.Cl=xa[5]|0,this.Dh=xa[6]|0,this.Dl=xa[7]|0,this.Eh=xa[8]|0,this.El=xa[9]|0,this.Fh=xa[10]|0,this.Fl=xa[11]|0,this.Gh=xa[12]|0,this.Gl=xa[13]|0,this.Hh=xa[14]|0,this.Hl=xa[15]|0}};ii.SHA512_224=o9;var s9=class extends c1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=va[0]|0,this.Al=va[1]|0,this.Bh=va[2]|0,this.Bl=va[3]|0,this.Ch=va[4]|0,this.Cl=va[5]|0,this.Dh=va[6]|0,this.Dl=va[7]|0,this.Eh=va[8]|0,this.El=va[9]|0,this.Fh=va[10]|0,this.Fl=va[11]|0,this.Gh=va[12]|0,this.Gl=va[13]|0,this.Hh=va[14]|0,this.Hl=va[15]|0}};ii.SHA512_256=s9;ii.sha256=(0,vo.createHasher)(()=>new QE);ii.sha224=(0,vo.createHasher)(()=>new n9);ii.sha512=(0,vo.createHasher)(()=>new c1);ii.sha384=(0,vo.createHasher)(()=>new i9);ii.sha512_256=(0,vo.createHasher)(()=>new s9);ii.sha512_224=(0,vo.createHasher)(()=>new o9)});var uwe=j(Ud=>{"use strict";p();m();Object.defineProperty(Ud,"__esModule",{value:!0});Ud.sha224=Ud.SHA224=Ud.sha256=Ud.SHA256=void 0;var a9=fwe();Ud.SHA256=a9.SHA256;Ud.sha256=a9.sha256;Ud.SHA224=a9.SHA224;Ud.sha224=a9.sha224});var dwe=j((B5r,lwe)=>{"use strict";p();m();function Tft(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function y(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var O=0,M=0,k=0,C=T.length;k!==C&&T[k]===0;)k++,O++;for(var B=(C-k)*h+1>>>0,N=new Uint8Array(B);k!==C;){for(var P=T[k],H=0,F=B-1;(P!==0||H<M)&&F!==-1;F--,H++)P+=256*N[F]>>>0,N[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");M=H,k++}for(var Z=B-M;Z!==B&&N[Z]===0;)Z++;for(var W=c.repeat(O);Z<B;++Z)W+=t.charAt(N[Z]);return W}o(y,"encode");function g(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;for(var O=0,M=0,k=0;T[O]===c;)M++,O++;for(var C=(T.length-O)*u+1>>>0,B=new Uint8Array(C);T[O];){var N=e[T.charCodeAt(O)];if(N===255)return;for(var P=0,H=C-1;(N!==0||P<k)&&H!==-1;H--,P++)N+=a*B[H]>>>0,B[H]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");k=P,O++}for(var F=C-k;F!==C&&B[F]===0;)F++;for(var Z=new Uint8Array(M+(C-F)),W=M;F!==C;)Z[W++]=B[F++];return Z}o(g,"decodeUnsafe");function S(T){var O=g(T);if(O)return O;throw new Error("Non-base"+a+" character")}return o(S,"decode"),{encode:y,decodeUnsafe:g,decode:S}}o(Tft,"base");lwe.exports=Tft});var pwe=j((U5r,hwe)=>{p();m();var Ift=dwe(),Rft="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";hwe.exports=Ift(Rft)});var gwe=j((q5r,mwe)=>{"use strict";p();m();var Yj=pwe();mwe.exports=function(t){function e(s){var a=Uint8Array.from(s),c=t(a),u=a.length+4,h=new Uint8Array(u);return h.set(a,0),h.set(c.subarray(0,4),a.length),Yj.encode(h,u)}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),u=t(a);if(!(c[0]^u[0]|c[1]^u[1]|c[2]^u[2]|c[3]^u[3]))return a}o(r,"decodeRaw");function n(s){var a=Yj.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=Yj.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Jv=j((K5r,bwe)=>{"use strict";p();m();var{sha256:ywe}=uwe(),Oft=gwe();function Mft(t){return ywe(ywe(t))}o(Mft,"sha256x2");bwe.exports=Oft(Mft)});var vwe=j((Y5r,xwe)=>{"use strict";p();m();var Xj=Mu(),Nft=mr().Buffer;xwe.exports=function(t){function e(s){var a=t(s);return Xj.encode(Nft.concat([s,a],s.length+4))}o(e,"encode");function r(s){var a=s.slice(0,-4),c=s.slice(-4),u=t(a);if(!(c[0]^u[0]|c[1]^u[1]|c[2]^u[2]|c[3]^u[3]))return a}o(r,"decodeRaw");function n(s){var a=Xj.decodeUnsafe(s);if(a)return r(a)}o(n,"decodeUnsafe");function i(s){var a=Xj.decode(s),c=r(a,t);if(!c)throw new Error("Invalid checksum");return c}return o(i,"decode"),{encode:e,decode:i,decodeUnsafe:n}}});var Swe=j((Q5r,wwe)=>{"use strict";p();m();var _we=_y(),Cft=vwe();function kft(t){var e=_we("sha256").update(t).digest();return _we("sha256").update(e).digest()}o(kft,"sha256x2");wwe.exports=Cft(kft)});var Qj=j((nTr,Awe)=>{p();m();var Zj=Swe();function Ewe(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}o(Ewe,"decodeRaw");function Jj(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}o(Jj,"encodeRaw");function Bft(t,e){return Ewe(Zj.decode(t),e)}o(Bft,"decode");function Pft(t,e,r){return typeof t=="number"?Zj.encode(Jj(t,e,r)):Zj.encode(Jj(t.version,t.privateKey,t.compressed))}o(Pft,"encode");Awe.exports={decode:Bft,decodeRaw:Ewe,encode:Pft,encodeRaw:Jj}});var Jwe=j(jr=>{"use strict";p();m();Object.defineProperty(jr,"__esModule",{value:!0});jr.utils=jr.schnorr=jr.verify=jr.signSync=jr.sign=jr.getSharedSecret=jr.recoverPublicKey=jr.getPublicKey=jr.Signature=jr.Point=jr.CURVE=void 0;var Vft=Vx(),$r=BigInt(0),yi=BigInt(1),Am=BigInt(2),t3=BigInt(3),kwe=BigInt(8),jn=Object.freeze({a:$r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});jr.CURVE=jn;var Bwe=o((t,e)=>(t+e/Am)/e,"divNearest"),u9={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=jn,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-yi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=Bwe(s*t,e),u=Bwe(-n*t,e),h=gt(t-c*r-u*i,e),y=gt(-c*n-u*s,e),g=h>a,S=y>a;if(g&&(h=e-h),S&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:S,k2:y}}},yl=32,u1=32,qwe=32,m9=yl+1,g9=2*yl+1;function Pwe(t){let{a:e,b:r}=jn,n=gt(t*t),i=gt(n*t);return gt(i+e*t+r)}o(Pwe,"weierstrass");var l9=jn.a===$r,n3=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function Lwe(t){if(!(t instanceof Va))throw new TypeError("JacobianPoint expected")}o(Lwe,"assertJacPoint");var Va=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof oi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(oi.ZERO)?t.ZERO:new t(e.x,e.y,yi)}static toAffineBatch(e){let r=Gft(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){Lwe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,u=gt(i*i),h=gt(c*c),y=gt(r*h),g=gt(s*u),S=gt(gt(n*c)*h),T=gt(gt(a*i)*u);return y===g&&S===T}negate(){return new t(this.x,gt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=gt(e*e),s=gt(r*r),a=gt(s*s),c=e+s,u=gt(Am*(gt(c*c)-i-a)),h=gt(t3*i),y=gt(h*h),g=gt(y-Am*u),S=gt(h*(u-g)-kwe*a),T=gt(Am*r*n);return new t(g,S,T)}add(e){Lwe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===$r||a===$r)return this;if(r===$r||n===$r)return e;let u=gt(i*i),h=gt(c*c),y=gt(r*h),g=gt(s*u),S=gt(gt(n*c)*h),T=gt(gt(a*i)*u),O=gt(g-y),M=gt(T-S);if(O===$r)return M===$r?this.double():t.ZERO;let k=gt(O*O),C=gt(O*k),B=gt(y*k),N=gt(M*M-C-Am*B),P=gt(M*(B-N)-S*C),H=gt(i*c*O);return new t(N,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===$r)return r;let n=Fwe(e);if(n===yi)return this;if(!l9){let g=r,S=this;for(;n>$r;)n&yi&&(g=g.add(S)),S=S.double(),n>>=yi;return g}let{k1neg:i,k1:s,k2neg:a,k2:c}=u9.splitScalar(n),u=r,h=r,y=this;for(;s>$r||c>$r;)s&yi&&(u=u.add(y)),c&yi&&(h=h.add(y)),y=y.double(),s>>=yi,c>>=yi;return i&&(u=u.negate()),a&&(h=h.negate()),h=new t(gt(h.x*u9.beta),h.y,h.z),u.add(h)}precomputeWindow(e){let r=l9?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=oi.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ez.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),ez.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(l9?128/n:256/n),u=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let S=0;S<c;S++){let T=S*u,O=Number(e&h);e>>=g,O>u&&(O-=y,e+=yi);let M=T,k=T+Math.abs(O)-1,C=S%2!==0,B=O<0;O===0?a=a.add(d9(C,i[M])):s=s.add(d9(B,i[k]))}return{p:s,f:a}}multiply(e,r){let n=Fwe(e),i,s;if(l9){let{k1neg:a,k1:c,k2neg:u,k2:h}=u9.splitScalar(n),{p:y,f:g}=this.wNAF(c,r),{p:S,f:T}=this.wNAF(h,r);y=d9(a,y),S=d9(u,S),S=new t(gt(S.x*u9.beta),S.y,S.z),i=y.add(S),s=g.add(T)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?kwe:i2(i));let a=e,c=gt(a*a),u=gt(c*a),h=gt(r*c),y=gt(n*u),g=gt(i*a);if(s)return oi.ZERO;if(g!==yi)throw new Error("invZ was invalid");return new oi(h,y)}};Va.BASE=new Va(jn.Gx,jn.Gy,yi);Va.ZERO=new Va($r,yi,$r);function d9(t,e){let r=e.negate();return t?r:e}o(d9,"constTimeNegate");var ez=new WeakMap,oi=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ez.delete(this)}hasEvenY(){return this.y%Am===$r}static fromCompressedHex(e){let r=e.length===32,n=pf(r?e:e.subarray(1));if(!p9(n))throw new Error("Point is not on curve");let i=Pwe(n),s=$ft(i),a=(s&yi)===yi;r?a&&(s=gt(-s)):(e[0]&1)===1!==a&&(s=gt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=pf(e.subarray(1,yl+1)),n=pf(e.subarray(yl+1,yl*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Fd(e),n=r.length,i=r[0];if(n===yl)return this.fromCompressedHex(r);if(n===m9&&(i===2||i===3))return this.fromCompressedHex(r);if(n===g9&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${m9} compressed bytes or ${g9} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(l1(e))}static fromSignature(e,r,n){let{r:i,s}=jwe(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=tz(Fd(e)),{n:c}=jn,u=n===2||n===3?i+c:i,h=i2(u,c),y=gt(-a*h,c),g=gt(s*h,c),S=n&1?"03":"02",T=t.fromHex(S+Tm(u)),O=t.BASE.multiplyAndAddUnsafe(T,y,g);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return Im(this.toHex(e))}toHex(e=!1){let r=Tm(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Tm(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!p9(r)||!p9(n))throw new Error(e);let i=gt(n*n),s=Pwe(r);if(gt(i-s)!==$r)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,gt(-this.y))}double(){return Va.fromAffine(this).double().toAffine()}add(e){return Va.fromAffine(this).add(Va.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Va.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Va.fromAffine(this),s=r===$r||r===yi||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Va.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Va.ZERO)?void 0:c.toAffine()}};jr.Point=oi;oi.BASE=new oi(jn.Gx,jn.Gy);oi.ZERO=new oi($r,$r);function Dwe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(Dwe,"sliceDER");function Uwe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${e2(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:pf(r),left:t.subarray(e+2)}}o(Uwe,"parseDERInt");function jft(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${e2(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Uwe(t.subarray(2)),{data:n,left:i}=Uwe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${e2(i)}`);return{r:e,s:n}}o(jft,"parseDERSignature");var f1=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?e2(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(y9(i.slice(0,64)),y9(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=jft(r?e:Im(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!r2(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!r2(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=jn.n>>yi;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,gt(-this.s,jn.n)):this}toDERRawBytes(){return Im(this.toDERHex())}toDERHex(){let e=Dwe(e3(this.s)),r=Dwe(e3(this.r)),n=e.length/2,i=r.length/2,s=e3(n),a=e3(i);return`30${e3(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Im(this.toCompactHex())}toCompactHex(){return Tm(this.r)+Tm(this.s)}};jr.Signature=f1;function Em(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Em,"concatBytes");var zft=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e2(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=zft[t[r]];return e}o(e2,"bytesToHex");var Kft=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Tm(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!($r<=t&&t<Kft))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(Tm,"numTo32bStr");function t2(t){let e=Im(Tm(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(t2,"numTo32b");function e3(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(e3,"numberToHexUnpadded");function y9(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(y9,"hexToNumber");function Im(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(Im,"hexToBytes");function pf(t){return y9(e2(t))}o(pf,"bytesToNumber");function Fd(t){return t instanceof Uint8Array?Uint8Array.from(t):Im(t)}o(Fd,"ensureBytes");function Fwe(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&r2(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(Fwe,"normalizeScalar");function gt(t,e=jn.P){let r=t%e;return r>=$r?r:e+r}o(gt,"mod");function lu(t,e){let{P:r}=jn,n=t;for(;e-- >$r;)n*=n,n%=r;return n}o(lu,"pow2");function $ft(t){let{P:e}=jn,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,y=lu(h,t3)*h%e,g=lu(y,t3)*h%e,S=lu(g,Am)*u%e,T=lu(S,n)*S%e,O=lu(T,i)*T%e,M=lu(O,a)*O%e,k=lu(M,c)*M%e,C=lu(k,a)*O%e,B=lu(C,t3)*h%e,N=lu(B,s)*T%e,P=lu(N,r)*u%e,H=lu(P,Am);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o($ft,"sqrtMod");function i2(t,e=jn.P){if(t===$r||e<=$r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=gt(t,e),n=e,i=$r,s=yi,a=yi,c=$r;for(;r!==$r;){let h=n/r,y=n%r,g=i-a*h,S=s-c*h;n=r,r=y,i=a,s=c,a=g,c=S}if(n!==yi)throw new Error("invert: does not exist");return gt(i,e)}o(i2,"invert");function Gft(t,e=jn.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===$r?s:(r[c]=s,gt(s*a,e)),yi),i=i2(n,e);return t.reduceRight((s,a,c)=>a===$r?s:(r[c]=gt(s*r[c],e),gt(s*a,e)),i),r}o(Gft,"invertBatch");function Wft(t){let e=t.length*8-u1*8,r=pf(t);return e>0?r>>BigInt(e):r}o(Wft,"bits2int_2");function tz(t,e=!1){let r=Wft(t);if(e)return r;let{n}=jn;return r>=n?r-n:r}o(tz,"truncateHash");var Qv,r3,b9=class{static{o(this,"HmacDrbg")}constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return jr.utils.hmacSha256(this.k,...e)}hmacSync(...e){return r3(this.k,...e)}checkSync(){if(typeof r3!="function")throw new n3("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Em(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return Em(...r)}};function r2(t){return $r<t&&t<jn.n}o(r2,"isWithinCurveOrder");function p9(t){return $r<t&&t<jn.P}o(p9,"isValidFieldElement");function Vwe(t,e,r,n=!0){let{n:i}=jn,s=tz(t,!0);if(!r2(s))return;let a=i2(s,i),c=oi.BASE.multiply(s),u=gt(c.x,i);if(u===$r)return;let h=gt(a*gt(e+r*u,i),i);if(h===$r)return;let y=new f1(u,h),g=(c.x===y.r?0:2)|Number(c.y&yi);return n&&y.hasHighS()&&(y=y.normalizeS(),g^=1),{sig:y,recovery:g}}o(Vwe,"kmdToSig");function l1(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*u1)throw new Error("Expected 32 bytes of private key");e=y9(t)}else if(t instanceof Uint8Array){if(t.length!==u1)throw new Error("Expected 32 bytes of private key");e=pf(t)}else throw new TypeError("Expected valid private key");if(!r2(e))throw new Error("Expected private key: 0 < key < n");return e}o(l1,"normalizePrivateKey");function rz(t){return t instanceof oi?(t.assertValidity(),t):oi.fromHex(t)}o(rz,"normalizePublicKey");function jwe(t){if(t instanceof f1)return t.assertValidity(),t;try{return f1.fromDER(t)}catch{return f1.fromCompact(t)}}o(jwe,"normalizeSignature");function Yft(t,e=!1){return oi.fromPrivateKey(t).toRawBytes(e)}o(Yft,"getPublicKey");jr.getPublicKey=Yft;function Xft(t,e,r,n=!1){return oi.fromSignature(t,e,r).toRawBytes(n)}o(Xft,"recoverPublicKey");jr.recoverPublicKey=Xft;function Hwe(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===m9||n===g9:r?n===m9*2||n===g9*2:t instanceof oi}o(Hwe,"isProbPub");function Zft(t,e,r=!1){if(Hwe(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Hwe(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=rz(e);return n.assertValidity(),n.multiply(l1(t)).toRawBytes(r)}o(Zft,"getSharedSecret");jr.getSharedSecret=Zft;function zwe(t){let e=t.length>yl?t.slice(0,yl):t;return pf(e)}o(zwe,"bits2int");function Jft(t){let e=zwe(t),r=gt(e,jn.n);return Kwe(r<$r?e:r)}o(Jft,"bits2octets");function Kwe(t){return t2(t)}o(Kwe,"int2octets");function $we(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Fd(t),i=l1(e),s=[Kwe(i),Jft(n)];if(r!=null){r===!0&&(r=jr.utils.randomBytes(yl));let u=Fd(r);if(u.length!==yl)throw new Error(`sign: Expected ${yl} bytes of extra data`);s.push(u)}let a=Em(...s),c=zwe(n);return{seed:a,m:c,d:i}}o($we,"initSigArgs");function Gwe(t,e){let{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),a=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[a,n]:a}o(Gwe,"finalizeSig");async function Qft(t,e,r={}){let{seed:n,m:i,d:s}=$we(t,e,r.extraEntropy),a=new b9(qwe,u1);await a.reseed(n);let c;for(;!(c=Vwe(await a.generate(),i,s,r.canonical));)await a.reseed();return Gwe(c,r)}o(Qft,"sign");jr.sign=Qft;function eut(t,e,r={}){let{seed:n,m:i,d:s}=$we(t,e,r.extraEntropy),a=new b9(qwe,u1);a.reseedSync(n);let c;for(;!(c=Vwe(a.generateSync(),i,s,r.canonical));)a.reseedSync();return Gwe(c,r)}o(eut,"signSync");jr.signSync=eut;var tut={strict:!0};function rut(t,e,r,n=tut){let i;try{i=jwe(t),e=Fd(e)}catch{return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let c=tz(e),u;try{u=rz(r)}catch{return!1}let{n:h}=jn,y=i2(a,h),g=gt(c*y,h),S=gt(s*y,h),T=oi.BASE.multiplyAndAddUnsafe(u,g,S);return T?gt(T.x,h)===s:!1}o(rut,"verify");jr.verify=rut;function x9(t){return gt(pf(t),jn.n)}o(x9,"schnorrChallengeFinalize");var n2=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Fd(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=pf(r.subarray(0,32)),i=pf(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!p9(e)||!r2(r))throw new Error("Invalid signature")}toHex(){return Tm(this.r)+Tm(this.s)}toRawBytes(){return Im(this.toHex())}};function nut(t){return oi.fromPrivateKey(t).toRawX()}o(nut,"schnorrGetPublicKey");var v9=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=jr.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Fd(e);let{x:i,scalar:s}=this.getScalar(l1(r));if(this.px=i,this.d=s,this.rand=Fd(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=oi.fromPrivateKey(e),n=r.hasEvenY()?e:jn.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return t2(e^pf(r))}finalizeNonce(e){let r=gt(pf(e),jn.n);if(r===$r)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new n2(e.x,gt(r+n*i,jn.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=jr.utils.taggedHash,a=this.initNonce(r,await s(Sm.aux,i)),{R:c,rx:u,k:h}=this.finalizeNonce(await s(Sm.nonce,a,n,e)),y=x9(await s(Sm.challenge,u,n,e)),g=this.finalizeSig(c,h,y,r);return await Xwe(g,e,n)||this.error(),g}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=jr.utils.taggedHashSync,a=this.initNonce(r,s(Sm.aux,i)),{R:c,rx:u,k:h}=this.finalizeNonce(s(Sm.nonce,a,n,e)),y=x9(s(Sm.challenge,u,n,e)),g=this.finalizeSig(c,h,y,r);return Zwe(g,e,n)||this.error(),g}};async function iut(t,e,r){return new v9(t,e,r).calc()}o(iut,"schnorrSign");function out(t,e,r){return new v9(t,e,r).calcSync()}o(out,"schnorrSignSync");function Wwe(t,e,r){let n=t instanceof n2,i=n?t:n2.fromHex(t);return n&&i.assertValidity(),{...i,m:Fd(e),P:rz(r)}}o(Wwe,"initSchnorrVerify");function Ywe(t,e,r,n){let i=oi.BASE.multiplyAndAddUnsafe(e,l1(r),gt(-n,jn.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(Ywe,"finalizeSchnorrVerify");async function Xwe(t,e,r){try{let{r:n,s:i,m:s,P:a}=Wwe(t,e,r),c=x9(await jr.utils.taggedHash(Sm.challenge,t2(n),a.toRawX(),s));return Ywe(n,a,i,c)}catch{return!1}}o(Xwe,"schnorrVerify");function Zwe(t,e,r){try{let{r:n,s:i,m:s,P:a}=Wwe(t,e,r),c=x9(jr.utils.taggedHashSync(Sm.challenge,t2(n),a.toRawX(),s));return Ywe(n,a,i,c)}catch(n){if(n instanceof n3)throw n;return!1}}o(Zwe,"schnorrVerifySync");jr.schnorr={Signature:n2,getPublicKey:nut,sign:iut,verify:Xwe,signSync:out,verifySync:Zwe};oi.BASE._setWindowSize(8);var hf={node:Vft,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Sm={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},h9={};jr.utils={bytesToHex:e2,hexToBytes:Im,concatBytes:Em,mod:gt,invert:i2,isValidPrivateKey(t){try{return l1(t),!0}catch{return!1}},_bigintTo32Bytes:t2,_normalizePrivateKey:l1,hashToPrivateKey:o(t=>{t=Fd(t);let e=u1+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=gt(pf(t),jn.n-yi)+yi;return t2(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(hf.web)return hf.web.getRandomValues(new Uint8Array(t));if(hf.node){let{randomBytes:e}=hf.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>jr.utils.hashToPrivateKey(jr.utils.randomBytes(u1+8)),"randomPrivateKey"),precompute(t=8,e=oi.BASE){let r=e===oi.BASE?e:new oi(e.x,e.y);return r._setWindowSize(t),r.multiply(t3),r},sha256:o(async(...t)=>{if(hf.web){let e=await hf.web.subtle.digest("SHA-256",Em(...t));return new Uint8Array(e)}else if(hf.node){let{createHash:e}=hf.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(hf.web){let r=await hf.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Em(...e),i=await hf.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(hf.node){let{createHmac:r}=hf.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=h9[t];if(r===void 0){let n=await jr.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Em(n,n),h9[t]=r}return jr.utils.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof Qv!="function")throw new n3("sha256Sync is undefined, you need to set it");let r=h9[t];if(r===void 0){let n=Qv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Em(n,n),h9[t]=r}return Qv(r,...e)},"taggedHashSync"),_JacobianPoint:Va};Object.defineProperties(jr.utils,{sha256Sync:{configurable:!1,get(){return Qv},set(t){Qv||(Qv=t)}},hmacSha256Sync:{configurable:!1,get(){return r3},set(t){r3||(r3=t)}}})});var iz=j(ja=>{"use strict";p();m();Object.defineProperty(ja,"__esModule",{value:!0});ja.output=ja.exists=ja.hash=ja.bytes=ja.bool=ja.number=void 0;function _9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(_9,"number");ja.number=_9;function Qwe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(Qwe,"bool");ja.bool=Qwe;function nz(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(nz,"bytes");ja.bytes=nz;function eSe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_9(t.outputLen),_9(t.blockLen)}o(eSe,"hash");ja.hash=eSe;function tSe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(tSe,"exists");ja.exists=tSe;function rSe(t,e){nz(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(rSe,"output");ja.output=rSe;var sut={number:_9,bool:Qwe,bytes:nz,hash:eSe,exists:tSe,output:rSe};ja.default=sut});var nSe=j(w9=>{"use strict";p();m();Object.defineProperty(w9,"__esModule",{value:!0});w9.crypto=void 0;w9.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var E9=j(Or=>{"use strict";p();m();Object.defineProperty(Or,"__esModule",{value:!0});Or.randomBytes=Or.wrapXOFConstructorWithOpts=Or.wrapConstructorWithOpts=Or.wrapConstructor=Or.checkOpts=Or.Hash=Or.concatBytes=Or.toBytes=Or.utf8ToBytes=Or.asyncLoop=Or.nextTick=Or.hexToBytes=Or.bytesToHex=Or.isLE=Or.rotr=Or.createView=Or.u32=Or.u8=void 0;var oz=nSe(),az=o(t=>t instanceof Uint8Array,"u8a"),aut=o(t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),"u8");Or.u8=aut;var cut=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32");Or.u32=cut;var fut=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");Or.createView=fut;var uut=o((t,e)=>t<<32-e|t>>>e,"rotr");Or.rotr=uut;Or.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Or.isLE)throw new Error("Non little-endian hardware is not supported");var lut=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dut(t){if(!az(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=lut[t[r]];return e}o(dut,"bytesToHex");Or.bytesToHex=dut;function hut(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(hut,"hexToBytes");Or.hexToBytes=hut;var put=o(async()=>{},"nextTick");Or.nextTick=put;async function mut(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Or.nextTick)(),n+=s)}}o(mut,"asyncLoop");Or.asyncLoop=mut;function iSe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(iSe,"utf8ToBytes");Or.utf8ToBytes=iSe;function S9(t){if(typeof t=="string"&&(t=iSe(t)),!az(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(S9,"toBytes");Or.toBytes=S9;function gut(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!az(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(gut,"concatBytes");Or.concatBytes=gut;var sz=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};Or.Hash=sz;var yut=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function but(t,e){if(e!==void 0&&(typeof e!="object"||!yut(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(but,"checkOpts");Or.checkOpts=but;function xut(t){let e=o(n=>t().update(S9(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(xut,"wrapConstructor");Or.wrapConstructor=xut;function vut(t){let e=o((n,i)=>t(i).update(S9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(vut,"wrapConstructorWithOpts");Or.wrapConstructorWithOpts=vut;function _ut(t){let e=o((n,i)=>t(i).update(S9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(_ut,"wrapXOFConstructorWithOpts");Or.wrapXOFConstructorWithOpts=_ut;function wut(t=32){if(oz.crypto&&typeof oz.crypto.getRandomValues=="function")return oz.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(wut,"randomBytes");Or.randomBytes=wut});var sSe=j(d1=>{"use strict";p();m();Object.defineProperty(d1,"__esModule",{value:!0});d1.hmac=d1.HMAC=void 0;var A9=iz(),oSe=E9(),i3=class extends oSe.Hash{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,A9.default.hash(e);let n=(0,oSe.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return A9.default.exists(this),this.iHash.update(e),this}digestInto(e){A9.default.exists(this),A9.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};d1.HMAC=i3;var Sut=o((t,e,r)=>new i3(t,e).update(r).digest(),"hmac");d1.hmac=Sut;d1.hmac.create=(t,e)=>new i3(t,e)});var aSe=j(T9=>{"use strict";p();m();Object.defineProperty(T9,"__esModule",{value:!0});T9.SHA2=void 0;var cz=iz(),o3=E9();function Eut(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(Eut,"setBigUint64");var fz=class extends o3.Hash{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o3.createView)(this.buffer)}update(e){cz.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,o3.toBytes)(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=(0,o3.createView)(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cz.default.exists(this),cz.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Eut(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,o3.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};T9.SHA2=fz});var cSe=j(o2=>{"use strict";p();m();Object.defineProperty(o2,"__esModule",{value:!0});o2.sha224=o2.sha256=void 0;var Aut=aSe(),du=E9(),Tut=o((t,e,r)=>t&e^~t&r,"Chi"),Iut=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Rut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Om=new Uint32Array(64),I9=class extends Aut.SHA2{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=Rm[0]|0,this.B=Rm[1]|0,this.C=Rm[2]|0,this.D=Rm[3]|0,this.E=Rm[4]|0,this.F=Rm[5]|0,this.G=Rm[6]|0,this.H=Rm[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)Om[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=Om[g-15],T=Om[g-2],O=(0,du.rotr)(S,7)^(0,du.rotr)(S,18)^S>>>3,M=(0,du.rotr)(T,17)^(0,du.rotr)(T,19)^T>>>10;Om[g]=M+Om[g-7]+O+Om[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=(0,du.rotr)(c,6)^(0,du.rotr)(c,11)^(0,du.rotr)(c,25),T=y+S+Tut(c,u,h)+Rut[g]+Om[g]|0,M=((0,du.rotr)(n,2)^(0,du.rotr)(n,13)^(0,du.rotr)(n,22))+Iut(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){Om.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},uz=class extends I9{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};o2.sha256=(0,du.wrapConstructor)(()=>new I9);o2.sha224=(0,du.wrapConstructor)(()=>new uz)});var yz=j(_o=>{"use strict";p();m();var Out=Jwe(),Mut=sSe(),fSe=cSe();function Nut(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:o(function(){return t[r]},"get")})}}),e.default=t,Object.freeze(e)}o(Nut,"_interopNamespaceDefault");var wn=Nut(Out);wn.utils.hmacSha256Sync=(t,...e)=>Mut.hmac(fSe.sha256,t,wn.utils.concatBytes(...e));wn.utils.sha256Sync=(...t)=>fSe.sha256(wn.utils.concatBytes(...t));var hz=wn.utils._normalizePrivateKey,Cut=32,kut=32,lz=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),But=32;function dz(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}o(dz,"cmpBN32");function s3(t){return!(!(t instanceof Uint8Array)||t.length!==kut||dz(t,lz)>=0)}o(s3,"isTweak");function uSe(t){return t instanceof Uint8Array&&t.length===64&&dz(t.subarray(0,32),lz)<0&&dz(t.subarray(32,64),lz)<0}o(uSe,"isSignature");function R9(t){return t instanceof Uint8Array&&t.length===Cut}o(R9,"isHash");function lSe(t){return t===void 0||t instanceof Uint8Array&&t.length===But}o(lSe,"isExtraData");function dSe(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(dSe,"hexToNumber");function Put(t){return dSe(wn.utils.bytesToHex(t))}o(Put,"bytesToNumber");function pz(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=dSe(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=Put(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}o(pz,"normalizeScalar");var Lut=o((t,e)=>{let r=hz(t),n=pz(e),i=wn.utils._bigintTo32Bytes(wn.utils.mod(r+n,wn.CURVE.n));return wn.utils.isValidPrivateKey(i)?i:null},"_privateAdd"),Dut=o((t,e)=>{let r=hz(t),n=pz(e),i=wn.utils._bigintTo32Bytes(wn.utils.mod(r-n,wn.CURVE.n));return wn.utils.isValidPrivateKey(i)?i:null},"_privateSub"),Uut=o(t=>{let e=hz(t),r=wn.utils._bigintTo32Bytes(wn.CURVE.n-e);return wn.utils.isValidPrivateKey(r)?r:null},"_privateNegate"),hSe=o((t,e,r)=>{let n=wn.Point.fromHex(t),i=pz(e),s=wn.Point.BASE.multiplyAndAddUnsafe(n,i,1n);if(!s)throw new Error("Tweaked point at infinity");return s.toRawBytes(r)},"_pointAddScalar"),Fut=o((t,e,r)=>{let n=wn.Point.fromHex(t),i=typeof e=="string"?e:wn.utils.bytesToHex(e),s=BigInt(`0x${i}`);return n.multiply(s).toRawBytes(r)},"_pointMultiply");function a3(t,e){return t===void 0?e!==void 0?pSe(e):!0:!!t}o(a3,"assumeCompression");function h1(t){try{return t()}catch{return null}}o(h1,"throwToNull");function mz(t,e){if(t.length===32!==e)return!1;try{return!!wn.Point.fromHex(t)}catch{return!1}}o(mz,"_isPoint");function Mm(t){return mz(t,!1)}o(Mm,"isPoint");function pSe(t){return mz(t,!1)&&t.length===33}o(pSe,"isPointCompressed");function Nm(t){return wn.utils.isValidPrivateKey(t)}o(Nm,"isPrivate");function gz(t){return mz(t,!0)}o(gz,"isXOnlyPoint");function Hut(t,e){if(!gz(t))throw new Error("Expected Point");if(!s3(e))throw new Error("Expected Tweak");return h1(()=>{let r=hSe(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}o(Hut,"xOnlyPointAddTweak");function mSe(t){if(!Mm(t))throw new Error("Expected Point");return t.slice(1,33)}o(mSe,"xOnlyPointFromPoint");function gSe(t,e){if(!Nm(t))throw new Error("Expected Private");return h1(()=>wn.getPublicKey(t,a3(e)))}o(gSe,"pointFromScalar");function qut(t){if(!Nm(t))throw new Error("Expected Private");return mSe(gSe(t))}o(qut,"xOnlyPointFromScalar");function Vut(t,e){if(!Mm(t))throw new Error("Expected Point");return wn.Point.fromHex(t).toRawBytes(a3(e,t))}o(Vut,"pointCompress");function jut(t,e,r){if(!Mm(t))throw new Error("Expected Point");if(!s3(e))throw new Error("Expected Tweak");return h1(()=>Fut(t,e,a3(r,t)))}o(jut,"pointMultiply");function zut(t,e,r){if(!Mm(t)||!Mm(e))throw new Error("Expected Point");return h1(()=>{let n=wn.Point.fromHex(t),i=wn.Point.fromHex(e);return n.equals(i.negate())?null:n.add(i).toRawBytes(a3(r,t))})}o(zut,"pointAdd");function Kut(t,e,r){if(!Mm(t))throw new Error("Expected Point");if(!s3(e))throw new Error("Expected Tweak");return h1(()=>hSe(t,e,a3(r,t)))}o(Kut,"pointAddScalar");function $ut(t,e){if(Nm(t)===!1)throw new Error("Expected Private");if(s3(e)===!1)throw new Error("Expected Tweak");return h1(()=>Lut(t,e))}o($ut,"privateAdd");function Gut(t,e){if(Nm(t)===!1)throw new Error("Expected Private");if(s3(e)===!1)throw new Error("Expected Tweak");return h1(()=>Dut(t,e))}o(Gut,"privateSub");function Wut(t){if(Nm(t)===!1)throw new Error("Expected Private");return Uut(t)}o(Wut,"privateNegate");function Yut(t,e,r){if(!Nm(e))throw new Error("Expected Private");if(!R9(t))throw new Error("Expected Scalar");if(!lSe(r))throw new Error("Expected Extra Data (32 bytes)");return wn.signSync(t,e,{der:!1,extraEntropy:r})}o(Yut,"sign");function Xut(t,e,r=Buffer.alloc(32,0)){if(!Nm(e))throw new Error("Expected Private");if(!R9(t))throw new Error("Expected Scalar");if(!lSe(r))throw new Error("Expected Extra Data (32 bytes)");return wn.schnorr.signSync(t,e,r)}o(Xut,"signSchnorr");function Zut(t,e,r,n){if(!Mm(e))throw new Error("Expected Point");if(!uSe(r))throw new Error("Expected Signature");if(!R9(t))throw new Error("Expected Scalar");return wn.verify(r,t,e,{strict:n})}o(Zut,"verify");function Jut(t,e,r){if(!gz(e))throw new Error("Expected Point");if(!uSe(r))throw new Error("Expected Signature");if(!R9(t))throw new Error("Expected Scalar");return wn.schnorr.verifySync(r,t,e)}o(Jut,"verifySchnorr");_o.isPoint=Mm;_o.isPointCompressed=pSe;_o.isPrivate=Nm;_o.isXOnlyPoint=gz;_o.pointAdd=zut;_o.pointAddScalar=Kut;_o.pointCompress=Vut;_o.pointFromScalar=gSe;_o.pointMultiply=jut;_o.privateAdd=$ut;_o.privateNegate=Wut;_o.privateSub=Gut;_o.sign=Yut;_o.signSchnorr=Xut;_o.verify=Zut;_o.verifySchnorr=Jut;_o.xOnlyPointAddTweak=Hut;_o.xOnlyPointFromPoint=mSe;_o.xOnlyPointFromScalar=qut});var hu=j(km=>{"use strict";p();m();Object.defineProperty(km,"__esModule",{value:!0});km.testnet=km.regtest=km.bitcoin=void 0;km.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};km.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};km.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var xz=j(Bm=>{"use strict";p();m();Object.defineProperty(Bm,"__esModule",{value:!0});Bm.encode=Bm.decode=Bm.check=void 0;function alt(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}o(alt,"check");Bm.check=alt;function clt(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}o(clt,"decode");Bm.decode=clt;function flt(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}o(flt,"encode");Bm.encode=flt});var M9=j(s2=>{"use strict";p();m();Object.defineProperty(s2,"__esModule",{value:!0});s2.REVERSE_OPS=s2.OPS=void 0;var vz={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};s2.OPS=vz;var SSe={};s2.REVERSE_OPS=SSe;for(let t of Object.keys(vz)){let e=vz[t];SSe[e]=t}});var ASe=j(Lm=>{"use strict";p();m();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.decode=Lm.encode=Lm.encodingLength=void 0;var Pm=M9();function ESe(t){return t<Pm.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}o(ESe,"encodingLength");Lm.encodingLength=ESe;function ult(t,e,r){let n=ESe(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Pm.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Pm.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Pm.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}o(ult,"encode");Lm.encode=ult;function llt(t,e){let r=t.readUInt8(e),n,i;if(r<Pm.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Pm.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Pm.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Pm.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}o(llt,"decode");Lm.decode=llt});var TSe=j(a2=>{"use strict";p();m();Object.defineProperty(a2,"__esModule",{value:!0});a2.encode=a2.decode=void 0;function dlt(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),a=t.readUInt8(4);return a&128?-((a&-129)*4294967296+s):a*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}o(dlt,"decode");a2.decode=dlt;function hlt(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}o(hlt,"scriptNumSize");function plt(t){let e=Math.abs(t),r=hlt(e),n=Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}o(plt,"encode");a2.encode=plt});var N9=j((FIr,ISe)=>{p();m();var f3={Array:o(function(t){return t!=null&&t.constructor===Array},"Array"),Boolean:o(function(t){return typeof t=="boolean"},"Boolean"),Function:o(function(t){return typeof t=="function"},"Function"),Nil:o(function(t){return t==null},"Nil"),Number:o(function(t){return typeof t=="number"},"Number"),Object:o(function(t){return typeof t=="object"},"Object"),String:o(function(t){return typeof t=="string"},"String"),"":function(){return!0}};f3.Null=f3.Nil;for(_z in f3)f3[_z].toJSON=function(t){return t}.bind(null,_z);var _z;ISe.exports=f3});var Ez=j((jIr,MSe)=>{p();m();var p1=N9();function RSe(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}o(RSe,"getTypeName");function wz(t){return p1.Nil(t)?"":RSe(t.constructor)}o(wz,"getValueTypeName");function mlt(t){return p1.Function(t)?"":p1.String(t)?JSON.stringify(t):t&&p1.Object(t)?"":t}o(mlt,"getValue");function Sz(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}o(Sz,"captureStackTrace");function C9(t){return p1.Function(t)?t.toJSON?t.toJSON():RSe(t):p1.Array(t)?"Array":t&&p1.Object(t)?"Object":t!==void 0?t:""}o(C9,"tfJSON");function OSe(t,e,r){var n=mlt(e);return"Expected "+C9(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}o(OSe,"tfErrorString");function a0(t,e,r){r=r||wz(e),this.message=OSe(t,e,r),Sz(this,a0),this.__type=t,this.__value=e,this.__valueTypeName=r}o(a0,"TfTypeError");a0.prototype=Object.create(Error.prototype);a0.prototype.constructor=a0;function glt(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),OSe('property "'+C9(r)+s+C9(t),n,i)}o(glt,"tfPropertyErrorString");function c2(t,e,r,n,i){t?(i=i||wz(n),this.message=glt(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',Sz(this,a0),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}o(c2,"TfPropertyTypeError");c2.prototype=Object.create(Error.prototype);c2.prototype.constructor=a0;function ylt(t,e){return new a0(t,{},e)}o(ylt,"tfCustomError");function blt(t,e,r){return t instanceof c2?(e=e+"."+t.__property,t=new c2(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof a0&&(t=new c2(t.__type,e,r,t.__value,t.__valueTypeName)),Sz(t),t}o(blt,"tfSubError");MSe.exports={TfTypeError:a0,TfPropertyTypeError:c2,tfCustomError:ylt,tfSubError:blt,tfJSON:C9,getValueTypeName:wz}});var BSe=j((GIr,kSe)=>{p();m();var Rz=N9(),xlt=Ez();function NSe(t){return Buffer.isBuffer(t)}o(NSe,"_Buffer");function CSe(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}o(CSe,"Hex");function k9(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw xlt.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return o(n,"Length"),n.toJSON=function(){return r},n}o(k9,"_LengthN");var vlt=k9.bind(null,Rz.Array),_lt=k9.bind(null,NSe),wlt=k9.bind(null,CSe),Slt=k9.bind(null,Rz.String);function Elt(t,e,r){r=r||Rz.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return o(n,"_range"),n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}o(Elt,"Range");var Tz=Math.pow(2,53)-1;function Alt(t){return typeof t=="number"&&isFinite(t)}o(Alt,"Finite");function Tlt(t){return t<<24>>24===t}o(Tlt,"Int8");function Ilt(t){return t<<16>>16===t}o(Ilt,"Int16");function Rlt(t){return(t|0)===t}o(Rlt,"Int32");function Olt(t){return typeof t=="number"&&t>=-Tz&&t<=Tz&&Math.floor(t)===t}o(Olt,"Int53");function Mlt(t){return(t&255)===t}o(Mlt,"UInt8");function Nlt(t){return(t&65535)===t}o(Nlt,"UInt16");function Clt(t){return t>>>0===t}o(Clt,"UInt32");function klt(t){return typeof t=="number"&&t>=0&&t<=Tz&&Math.floor(t)===t}o(klt,"UInt53");var Iz={ArrayN:vlt,Buffer:NSe,BufferN:_lt,Finite:Alt,Hex:CSe,HexN:wlt,Int8:Tlt,Int16:Ilt,Int32:Rlt,Int53:Olt,Range:Elt,StringN:Slt,UInt8:Mlt,UInt16:Nlt,UInt32:Clt,UInt53:klt};for(Az in Iz)Iz[Az].toJSON=function(t){return t}.bind(null,Az);var Az;kSe.exports=Iz});var FSe=j((ZIr,USe)=>{p();m();var l3=Ez(),Ts=N9(),c0=l3.tfJSON,LSe=l3.TfTypeError,DSe=l3.TfPropertyTypeError,u3=l3.tfSubError,Blt=l3.getValueTypeName,f0={arrayOf:o(function(e,r){e=Hd(e),r=r||{};function n(i,s){return!Ts.Array(i)||Ts.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(a,c){try{return za(e,a,s)}catch(u){throw u3(u,c)}})}return o(n,"_arrayOf"),n.toJSON=function(){var i="["+c0(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},"arrayOf"),maybe:o(function t(e){e=Hd(e);function r(n,i){return Ts.Nil(n)||e(n,i,t)}return o(r,"_maybe"),r.toJSON=function(){return"?"+c0(e)},r},"maybe"),map:o(function(e,r){e=Hd(e),r&&(r=Hd(r));function n(i,s){if(!Ts.Object(i)||Ts.Nil(i))return!1;for(var a in i){try{r&&za(r,a,s)}catch(u){throw u3(u,a,"key")}try{var c=i[a];za(e,c,s)}catch(u){throw u3(u,a)}}return!0}return o(n,"_map"),r?n.toJSON=function(){return"{"+c0(r)+": "+c0(e)+"}"}:n.toJSON=function(){return"{"+c0(e)+"}"},n},"map"),object:o(function(e){var r={};for(var n in e)r[n]=Hd(e[n]);function i(s,a){if(!Ts.Object(s)||Ts.Nil(s))return!1;var c;try{for(c in r){var u=r[c],h=s[c];za(u,h,a)}}catch(y){throw u3(y,c)}if(a){for(c in s)if(!r[c])throw new DSe(void 0,c)}return!0}return o(i,"_object"),i.toJSON=function(){return c0(r)},i},"object"),anyOf:o(function(){var e=[].slice.call(arguments).map(Hd);function r(n,i){return e.some(function(s){try{return za(s,n,i)}catch{return!1}})}return o(r,"_anyOf"),r.toJSON=function(){return e.map(c0).join("|")},r},"anyOf"),allOf:o(function(){var e=[].slice.call(arguments).map(Hd);function r(n,i){return e.every(function(s){try{return za(s,n,i)}catch{return!1}})}return o(r,"_allOf"),r.toJSON=function(){return e.map(c0).join(" & ")},r},"allOf"),quacksLike:o(function(e){function r(n){return e===Blt(n)}return o(r,"_quacksLike"),r.toJSON=function(){return e},r},"quacksLike"),tuple:o(function(){var e=[].slice.call(arguments).map(Hd);function r(n,i){return Ts.Nil(n)||Ts.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,a){try{return za(s,n[a],i)}catch(c){throw u3(c,a)}})}return o(r,"_tuple"),r.toJSON=function(){return"("+e.map(c0).join(", ")+")"},r},"tuple"),value:o(function(e){function r(n){return n===e}return o(r,"_value"),r.toJSON=function(){return e},r},"value")};f0.oneOf=f0.anyOf;function Hd(t){if(Ts.String(t))return t[0]==="?"?f0.maybe(t.slice(1)):Ts[t]||f0.quacksLike(t);if(t&&Ts.Object(t)){if(Ts.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return f0.arrayOf(t[0])}return f0.object(t)}else if(Ts.Function(t))return t;return f0.value(t)}o(Hd,"compile");function za(t,e,r,n){if(Ts.Function(t)){if(t(e,r))return!0;throw new LSe(n||t,e)}return za(Hd(t),e,r)}o(za,"typeforce");for(u0 in Ts)za[u0]=Ts[u0];var u0;for(u0 in f0)za[u0]=f0[u0];var PSe=BSe();for(u0 in PSe)za[u0]=PSe[u0];za.compile=Hd;za.TfTypeError=LSe;za.TfPropertyTypeError=DSe;USe.exports=za});var Is=j(at=>{"use strict";p();m();Object.defineProperty(at,"__esModule",{value:!0});at.oneOf=at.Null=at.BufferN=at.Function=at.UInt32=at.UInt8=at.tuple=at.maybe=at.Hex=at.Buffer=at.String=at.Boolean=at.Array=at.Number=at.Hash256bit=at.Hash160bit=at.Buffer256bit=at.isTaptree=at.isTapleaf=at.TAPLEAF_VERSION_MASK=at.Network=at.ECPoint=at.Satoshi=at.Signer=at.BIP32Path=at.UInt31=at.isPoint=at.typeforce=void 0;var B9=li();at.typeforce=FSe();var HSe=B9.Buffer.alloc(32,0),qSe=B9.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Plt(t){if(!B9.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(HSe)===0||r.compare(qSe)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(HSe)===0||n.compare(qSe)>=0?!1:e===4&&t.length===65}o(Plt,"isPoint");at.isPoint=Plt;var Llt=Math.pow(2,31)-1;function Dlt(t){return at.typeforce.UInt32(t)&&t<=Llt}o(Dlt,"UInt31");at.UInt31=Dlt;function VSe(t){return at.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o(VSe,"BIP32Path");at.BIP32Path=VSe;VSe.toJSON=()=>"BIP32 derivation path";function Ult(t){return(at.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}o(Ult,"Signer");at.Signer=Ult;var Flt=21*1e14;function Hlt(t){return at.typeforce.UInt53(t)&&t<=Flt}o(Hlt,"Satoshi");at.Satoshi=Hlt;at.ECPoint=at.typeforce.quacksLike("Point");at.Network=at.typeforce.compile({messagePrefix:at.typeforce.oneOf(at.typeforce.Buffer,at.typeforce.String),bip32:{public:at.typeforce.UInt32,private:at.typeforce.UInt32},pubKeyHash:at.typeforce.UInt8,scriptHash:at.typeforce.UInt8,wif:at.typeforce.UInt8});at.TAPLEAF_VERSION_MASK=254;function jSe(t){return!t||!("output"in t)||!B9.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&at.TAPLEAF_VERSION_MASK)===t.version:!0}o(jSe,"isTapleaf");at.isTapleaf=jSe;function zSe(t){return(0,at.Array)(t)?t.length!==2?!1:t.every(e=>zSe(e)):jSe(t)}o(zSe,"isTaptree");at.isTaptree=zSe;at.Buffer256bit=at.typeforce.BufferN(32);at.Hash160bit=at.typeforce.BufferN(20);at.Hash256bit=at.typeforce.BufferN(32);at.Number=at.typeforce.Number;at.Array=at.typeforce.Array;at.Boolean=at.typeforce.Boolean;at.String=at.typeforce.String;at.Buffer=at.typeforce.Buffer;at.Hex=at.typeforce.Hex;at.maybe=at.typeforce.maybe;at.tuple=at.typeforce.tuple;at.UInt8=at.typeforce.UInt8;at.UInt32=at.typeforce.UInt32;at.Function=at.typeforce.Function;at.BufferN=at.typeforce.BufferN;at.Null=at.typeforce.Null;at.oneOf=at.typeforce.oneOf});var YSe=j(u2=>{"use strict";p();m();Object.defineProperty(u2,"__esModule",{value:!0});u2.encode=u2.decode=void 0;var{Buffer:f2}=li(),WSe=xz(),Oz=Is(),{typeforce:qlt}=Oz,KSe=f2.alloc(1,0);function $Se(t){let e=0;for(;t[e]===0;)++e;return e===t.length?KSe:(t=t.slice(e),t[0]&128?f2.concat([KSe,t],1+t.length):t)}o($Se,"toDER");function GSe(t){t[0]===0&&(t=t.slice(1));let e=f2.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}o(GSe,"fromDER");function Vlt(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=WSe.decode(t.slice(0,-1)),i=GSe(n.r),s=GSe(n.s);return{signature:f2.concat([i,s],64),hashType:e}}o(Vlt,"decode");u2.decode=Vlt;function jlt(t,e){qlt({signature:Oz.BufferN(64),hashType:Oz.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=f2.allocUnsafe(1);n.writeUInt8(e,0);let i=$Se(t.slice(0,32)),s=$Se(t.slice(32,64));return f2.concat([WSe.encode(i,s),n])}o(jlt,"encode");u2.encode=jlt});var Ka=j(zn=>{"use strict";p();m();Object.defineProperty(zn,"__esModule",{value:!0});zn.signature=zn.number=zn.isCanonicalScriptSignature=zn.isDefinedHashType=zn.isCanonicalPubKey=zn.toStack=zn.fromASM=zn.toASM=zn.decompile=zn.compile=zn.countNonPushOnlyOPs=zn.isPushOnly=zn.OPS=void 0;var zlt=xz(),Oc=M9();Object.defineProperty(zn,"OPS",{enumerable:!0,get:o(function(){return Oc.OPS},"get")});var Mz=ASe(),XSe=TSe(),Klt=YSe(),qd=Is(),{typeforce:d3}=qd,ZSe=Oc.OPS.OP_RESERVED;function $lt(t){return qd.Number(t)&&(t===Oc.OPS.OP_0||t>=Oc.OPS.OP_1&&t<=Oc.OPS.OP_16||t===Oc.OPS.OP_1NEGATE)}o($lt,"isOPInt");function JSe(t){return qd.Buffer(t)||$lt(t)}o(JSe,"isPushOnlyChunk");function QSe(t){return qd.Array(t)&&t.every(JSe)}o(QSe,"isPushOnly");zn.isPushOnly=QSe;function Glt(t){return t.length-t.filter(JSe).length}o(Glt,"countNonPushOnlyOPs");zn.countNonPushOnlyOPs=Glt;function P9(t){if(t.length===0)return Oc.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return ZSe+t[0];if(t[0]===129)return Oc.OPS.OP_1NEGATE}}o(P9,"asMinimalOP");function eEe(t){return Buffer.isBuffer(t)}o(eEe,"chunksIsBuffer");function Wlt(t){return qd.Array(t)}o(Wlt,"chunksIsArray");function L9(t){return Buffer.isBuffer(t)}o(L9,"singleChunkIsBuffer");function tEe(t){if(eEe(t))return t;d3(qd.Array,t);let e=t.reduce((i,s)=>L9(s)?s.length===1&&P9(s)!==void 0?i+1:i+Mz.encodingLength(s.length)+s.length:i+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(L9(i)){let s=P9(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=Mz.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}o(tEe,"compile");zn.compile=tEe;function Nz(t){if(Wlt(t))return t;d3(qd.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Oc.OPS.OP_0&&n<=Oc.OPS.OP_PUSHDATA4){let i=Mz.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let a=P9(s);a!==void 0?e.push(a):e.push(s)}else e.push(n),r+=1}return e}o(Nz,"decompile");zn.decompile=Nz;function Ylt(t){return eEe(t)&&(t=Nz(t)),t.map(e=>{if(L9(e)){let r=P9(e);if(r===void 0)return e.toString("hex");e=r}return Oc.REVERSE_OPS[e]}).join(" ")}o(Ylt,"toASM");zn.toASM=Ylt;function Xlt(t){return d3(qd.String,t),tEe(t.split(" ").map(e=>Oc.OPS[e]!==void 0?Oc.OPS[e]:(d3(qd.Hex,e),Buffer.from(e,"hex"))))}o(Xlt,"fromASM");zn.fromASM=Xlt;function Zlt(t){return t=Nz(t),d3(QSe,t),t.map(e=>L9(e)?e:e===Oc.OPS.OP_0?Buffer.allocUnsafe(0):XSe.encode(e-ZSe))}o(Zlt,"toStack");zn.toStack=Zlt;function Jlt(t){return qd.isPoint(t)}o(Jlt,"isCanonicalPubKey");zn.isCanonicalPubKey=Jlt;function rEe(t){let e=t&-129;return e>0&&e<4}o(rEe,"isDefinedHashType");zn.isDefinedHashType=rEe;function Qlt(t){return!Buffer.isBuffer(t)||!rEe(t[t.length-1])?!1:zlt.check(t.slice(0,-1))}o(Qlt,"isCanonicalScriptSignature");zn.isCanonicalScriptSignature=Qlt;zn.number=XSe;zn.signature=Klt});var l0=j(l2=>{"use strict";p();m();Object.defineProperty(l2,"__esModule",{value:!0});l2.value=l2.prop=void 0;function edt(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}o(edt,"prop");l2.prop=edt;function tdt(t){let e;return()=>(e!==void 0||(e=t()),e)}o(tdt,"value");l2.value=tdt});var oEe=j(U9=>{"use strict";p();m();Object.defineProperty(U9,"__esModule",{value:!0});U9.p2data=void 0;var rdt=hu(),D9=Ka(),d0=Is(),nEe=l0(),iEe=D9.OPS;function ndt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(ndt,"stacksEqual");function idt(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,d0.typeforce)({network:d0.typeforce.maybe(d0.typeforce.Object),output:d0.typeforce.maybe(d0.typeforce.Buffer),data:d0.typeforce.maybe(d0.typeforce.arrayOf(d0.typeforce.Buffer))},t);let n={name:"embed",network:t.network||rdt.bitcoin};if(nEe.prop(n,"output",()=>{if(t.data)return D9.compile([iEe.OP_RETURN].concat(t.data))}),nEe.prop(n,"data",()=>{if(t.output)return D9.decompile(t.output).slice(1)}),e.validate&&t.output){let i=D9.decompile(t.output);if(i[0]!==iEe.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(d0.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!ndt(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}o(idt,"p2data");U9.p2data=idt});var aEe=j(H9=>{"use strict";p();m();Object.defineProperty(H9,"__esModule",{value:!0});H9.p2ms=void 0;var odt=hu(),d2=Ka(),Po=Is(),Dm=l0(),h2=d2.OPS,F9=h2.OP_RESERVED;function sEe(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(sEe,"stacksEqual");function sdt(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(u){return d2.isCanonicalScriptSignature(u)||(e.allowIncomplete&&u===h2.OP_0)!==void 0}o(r,"isAcceptableSignature"),(0,Po.typeforce)({network:Po.typeforce.maybe(Po.typeforce.Object),m:Po.typeforce.maybe(Po.typeforce.Number),n:Po.typeforce.maybe(Po.typeforce.Number),output:Po.typeforce.maybe(Po.typeforce.Buffer),pubkeys:Po.typeforce.maybe(Po.typeforce.arrayOf(Po.isPoint)),signatures:Po.typeforce.maybe(Po.typeforce.arrayOf(r)),input:Po.typeforce.maybe(Po.typeforce.Buffer)},t);let i={network:t.network||odt.bitcoin},s=[],a=!1;function c(u){a||(a=!0,s=d2.decompile(u),i.m=s[0]-F9,i.n=s[s.length-2]-F9,i.pubkeys=s.slice(1,-2))}if(o(c,"decode"),Dm.prop(i,"output",()=>{if(t.m&&i.n&&t.pubkeys)return d2.compile([].concat(F9+t.m,t.pubkeys,F9+i.n,h2.OP_CHECKMULTISIG))}),Dm.prop(i,"m",()=>{if(i.output)return c(i.output),i.m}),Dm.prop(i,"n",()=>{if(i.pubkeys)return i.pubkeys.length}),Dm.prop(i,"pubkeys",()=>{if(t.output)return c(t.output),i.pubkeys}),Dm.prop(i,"signatures",()=>{if(t.input)return d2.decompile(t.input).slice(1)}),Dm.prop(i,"input",()=>{if(t.signatures)return d2.compile([h2.OP_0].concat(t.signatures))}),Dm.prop(i,"witness",()=>{if(i.input)return[]}),Dm.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(c(t.output),!Po.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Po.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==h2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(u=>(0,Po.isPoint)(u)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!sEe(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==h2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!sEe(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}o(sdt,"p2ms");H9.p2ms=sdt});var fEe=j(q9=>{"use strict";p();m();Object.defineProperty(q9,"__esModule",{value:!0});q9.p2pk=void 0;var adt=hu(),m2=Ka(),bl=Is(),p2=l0(),cEe=m2.OPS;function cdt(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bl.typeforce)({network:bl.typeforce.maybe(bl.typeforce.Object),output:bl.typeforce.maybe(bl.typeforce.Buffer),pubkey:bl.typeforce.maybe(bl.isPoint),signature:bl.typeforce.maybe(m2.isCanonicalScriptSignature),input:bl.typeforce.maybe(bl.typeforce.Buffer)},t);let r=p2.value(()=>m2.decompile(t.input)),i={name:"p2pk",network:t.network||adt.bitcoin};if(p2.prop(i,"output",()=>{if(t.pubkey)return m2.compile([t.pubkey,cEe.OP_CHECKSIG])}),p2.prop(i,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),p2.prop(i,"signature",()=>{if(t.input)return r()[0]}),p2.prop(i,"input",()=>{if(t.signature)return m2.compile([t.signature])}),p2.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==cEe.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,bl.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!m2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}o(cdt,"p2pk");q9.p2pk=cdt});var uEe=j(V9=>{"use strict";p();m();Object.defineProperty(V9,"__esModule",{value:!0});V9.crypto=void 0;V9.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var z9=j(Gt=>{"use strict";p();m();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.wrapXOFConstructorWithOpts=Gt.wrapConstructorWithOpts=Gt.wrapConstructor=Gt.Hash=Gt.nextTick=Gt.swap32IfBE=Gt.byteSwapIfBE=Gt.swap8IfBE=Gt.isLE=void 0;Gt.isBytes=dEe;Gt.anumber=Cz;Gt.abytes=y2;Gt.ahash=fdt;Gt.aexists=udt;Gt.aoutput=ldt;Gt.u8=ddt;Gt.u32=hdt;Gt.clean=pdt;Gt.createView=mdt;Gt.rotr=gdt;Gt.rotl=ydt;Gt.byteSwap=Bz;Gt.byteSwap32=hEe;Gt.bytesToHex=xdt;Gt.hexToBytes=vdt;Gt.asyncLoop=wdt;Gt.utf8ToBytes=Pz;Gt.bytesToUtf8=Sdt;Gt.toBytes=j9;Gt.kdfInputToBytes=Edt;Gt.concatBytes=Adt;Gt.checkOpts=Tdt;Gt.createHasher=mEe;Gt.createOptHasher=gEe;Gt.createXOFer=yEe;Gt.randomBytes=Idt;var g2=uEe();function dEe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(dEe,"isBytes");function Cz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Cz,"anumber");function y2(t,...e){if(!dEe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(y2,"abytes");function fdt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Cz(t.outputLen),Cz(t.blockLen)}o(fdt,"ahash");function udt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(udt,"aexists");function ldt(t,e){y2(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(ldt,"aoutput");function ddt(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}o(ddt,"u8");function hdt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(hdt,"u32");function pdt(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(pdt,"clean");function mdt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(mdt,"createView");function gdt(t,e){return t<<32-e|t>>>e}o(gdt,"rotr");function ydt(t,e){return t<<e|t>>>32-e>>>0}o(ydt,"rotl");Gt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bz(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(Bz,"byteSwap");Gt.swap8IfBE=Gt.isLE?t=>t:t=>Bz(t);Gt.byteSwapIfBE=Gt.swap8IfBE;function hEe(t){for(let e=0;e<t.length;e++)t[e]=Bz(t[e]);return t}o(hEe,"byteSwap32");Gt.swap32IfBE=Gt.isLE?t=>t:hEe;var pEe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bdt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xdt(t){if(y2(t),pEe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=bdt[t[r]];return e}o(xdt,"bytesToHex");var h0={_0:48,_9:57,A:65,F:70,a:97,f:102};function lEe(t){if(t>=h0._0&&t<=h0._9)return t-h0._0;if(t>=h0.A&&t<=h0.F)return t-(h0.A-10);if(t>=h0.a&&t<=h0.f)return t-(h0.a-10)}o(lEe,"asciiToBase16");function vdt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(pEe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=lEe(t.charCodeAt(s)),c=lEe(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(vdt,"hexToBytes");var _dt=o(async()=>{},"nextTick");Gt.nextTick=_dt;async function wdt(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,Gt.nextTick)(),n+=s)}}o(wdt,"asyncLoop");function Pz(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Pz,"utf8ToBytes");function Sdt(t){return new TextDecoder().decode(t)}o(Sdt,"bytesToUtf8");function j9(t){return typeof t=="string"&&(t=Pz(t)),y2(t),t}o(j9,"toBytes");function Edt(t){return typeof t=="string"&&(t=Pz(t)),y2(t),t}o(Edt,"kdfInputToBytes");function Adt(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];y2(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(Adt,"concatBytes");function Tdt(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(t,e)}o(Tdt,"checkOpts");var kz=class{static{o(this,"Hash")}};Gt.Hash=kz;function mEe(t){let e=o(n=>t().update(j9(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(mEe,"createHasher");function gEe(t){let e=o((n,i)=>t(i).update(j9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(gEe,"createOptHasher");function yEe(t){let e=o((n,i)=>t(i).update(j9(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(yEe,"createXOFer");Gt.wrapConstructor=mEe;Gt.wrapConstructorWithOpts=gEe;Gt.wrapXOFConstructorWithOpts=yEe;function Idt(t=32){if(g2.crypto&&typeof g2.crypto.getRandomValues=="function")return g2.crypto.getRandomValues(new Uint8Array(t));if(g2.crypto&&typeof g2.crypto.randomBytes=="function")return Uint8Array.from(g2.crypto.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}o(Idt,"randomBytes")});var Dz=j($a=>{"use strict";p();m();Object.defineProperty($a,"__esModule",{value:!0});$a.SHA512_IV=$a.SHA384_IV=$a.SHA224_IV=$a.SHA256_IV=$a.HashMD=void 0;$a.setBigUint64=bEe;$a.Chi=Rdt;$a.Maj=Odt;var Vd=z9();function bEe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(bEe,"setBigUint64");function Rdt(t,e,r){return t&e^~t&r}o(Rdt,"Chi");function Odt(t,e,r){return t&e^t&r^e&r}o(Odt,"Maj");var Lz=class extends Vd.Hash{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,Vd.createView)(this.buffer)}update(e){(0,Vd.aexists)(this),e=(0,Vd.toBytes)(e),(0,Vd.abytes)(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=(0,Vd.createView)(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,Vd.aexists)(this),(0,Vd.aoutput)(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,(0,Vd.clean)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;bEe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=(0,Vd.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};$a.HashMD=Lz;$a.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);$a.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);$a.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);$a.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var Fz=j(Mc=>{"use strict";p();m();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.ripemd160=Mc.RIPEMD160=Mc.md5=Mc.MD5=Mc.sha1=Mc.SHA1=void 0;var m1=Dz(),Rs=z9(),b2=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),Um=new Uint32Array(80),G9=class extends m1.HashMD{static{o(this,"SHA1")}constructor(){super(64,20,8,!1),this.A=b2[0]|0,this.B=b2[1]|0,this.C=b2[2]|0,this.D=b2[3]|0,this.E=b2[4]|0}get(){let{A:e,B:r,C:n,D:i,E:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0}process(e,r){for(let u=0;u<16;u++,r+=4)Um[u]=e.getUint32(r,!1);for(let u=16;u<80;u++)Um[u]=(0,Rs.rotl)(Um[u-3]^Um[u-8]^Um[u-14]^Um[u-16],1);let{A:n,B:i,C:s,D:a,E:c}=this;for(let u=0;u<80;u++){let h,y;u<20?(h=(0,m1.Chi)(i,s,a),y=1518500249):u<40?(h=i^s^a,y=1859775393):u<60?(h=(0,m1.Maj)(i,s,a),y=2400959708):(h=i^s^a,y=3395469782);let g=(0,Rs.rotl)(n,5)+h+c+y+Um[u]|0;c=a,a=s,s=(0,Rs.rotl)(i,30),i=n,n=g}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,this.set(n,i,s,a,c)}roundClean(){(0,Rs.clean)(Um)}destroy(){this.set(0,0,0,0,0),(0,Rs.clean)(this.buffer)}};Mc.SHA1=G9;Mc.sha1=(0,Rs.createHasher)(()=>new G9);var Mdt=Math.pow(2,32),Ndt=Array.from({length:64},(t,e)=>Math.floor(Mdt*Math.abs(Math.sin(e+1)))),K9=b2.slice(0,4),Uz=new Uint32Array(16),W9=class extends m1.HashMD{static{o(this,"MD5")}constructor(){super(64,16,8,!0),this.A=K9[0]|0,this.B=K9[1]|0,this.C=K9[2]|0,this.D=K9[3]|0}get(){let{A:e,B:r,C:n,D:i}=this;return[e,r,n,i]}set(e,r,n,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0}process(e,r){for(let c=0;c<16;c++,r+=4)Uz[c]=e.getUint32(r,!0);let{A:n,B:i,C:s,D:a}=this;for(let c=0;c<64;c++){let u,h,y;c<16?(u=(0,m1.Chi)(i,s,a),h=c,y=[7,12,17,22]):c<32?(u=(0,m1.Chi)(a,i,s),h=(5*c+1)%16,y=[5,9,14,20]):c<48?(u=i^s^a,h=(3*c+5)%16,y=[4,11,16,23]):(u=s^(i|~a),h=7*c%16,y=[6,10,15,21]),u=u+n+Ndt[c]+Uz[h],n=a,a=s,s=i,i=i+(0,Rs.rotl)(u,y[c%4])}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,this.set(n,i,s,a)}roundClean(){(0,Rs.clean)(Uz)}destroy(){this.set(0,0,0,0),(0,Rs.clean)(this.buffer)}};Mc.MD5=W9;Mc.md5=(0,Rs.createHasher)(()=>new W9);var Cdt=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),vEe=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),kdt=vEe.map(t=>(9*t+5)%16),_Ee=(()=>{let r=[[vEe],[kdt]];for(let n=0;n<4;n++)for(let i of r)i.push(i[n].map(s=>Cdt[s]));return r})(),wEe=_Ee[0],SEe=_Ee[1],EEe=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),Bdt=wEe.map((t,e)=>t.map(r=>EEe[e][r])),Pdt=SEe.map((t,e)=>t.map(r=>EEe[e][r])),Ldt=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Ddt=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function xEe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(xEe,"ripemd_f");var $9=new Uint32Array(16),Y9=class extends m1.HashMD{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)$9[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,u=c,h=this.h3|0,y=h,g=this.h4|0,S=g;for(let T=0;T<5;T++){let O=4-T,M=Ldt[T],k=Ddt[T],C=wEe[T],B=SEe[T],N=Bdt[T],P=Pdt[T];for(let H=0;H<16;H++){let F=(0,Rs.rotl)(n+xEe(T,s,c,h)+$9[C[H]]+M,N[H])+g|0;n=g,g=h,h=(0,Rs.rotl)(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=(0,Rs.rotl)(i+xEe(O,a,u,y)+$9[B[H]]+k,P[H])+S|0;i=S,S=y,y=(0,Rs.rotl)(u,10)|0,u=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+S|0,this.h3+g+i|0,this.h4+n+a|0,this.h0+s+u|0)}roundClean(){(0,Rs.clean)($9)}destroy(){this.destroyed=!0,(0,Rs.clean)(this.buffer),this.set(0,0,0,0,0)}};Mc.RIPEMD160=Y9;Mc.ripemd160=(0,Rs.createHasher)(()=>new Y9)});var TEe=j(x2=>{"use strict";p();m();Object.defineProperty(x2,"__esModule",{value:!0});x2.ripemd160=x2.RIPEMD160=void 0;var AEe=Fz();x2.RIPEMD160=AEe.RIPEMD160;x2.ripemd160=AEe.ripemd160});var REe=j(v2=>{"use strict";p();m();Object.defineProperty(v2,"__esModule",{value:!0});v2.sha1=v2.SHA1=void 0;var IEe=Fz();v2.SHA1=IEe.SHA1;v2.sha1=IEe.sha1});var XEe=j(ur=>{"use strict";p();m();Object.defineProperty(ur,"__esModule",{value:!0});ur.toBig=ur.shrSL=ur.shrSH=ur.rotrSL=ur.rotrSH=ur.rotrBL=ur.rotrBH=ur.rotr32L=ur.rotr32H=ur.rotlSL=ur.rotlSH=ur.rotlBL=ur.rotlBH=ur.add5L=ur.add5H=ur.add4L=ur.add4H=ur.add3L=ur.add3H=void 0;ur.add=jEe;ur.fromBig=qz;ur.split=OEe;var X9=BigInt(2**32-1),Hz=BigInt(32);function qz(t,e=!1){return e?{h:Number(t&X9),l:Number(t>>Hz&X9)}:{h:Number(t>>Hz&X9)|0,l:Number(t&X9)|0}}o(qz,"fromBig");function OEe(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=qz(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(OEe,"split");var MEe=o((t,e)=>BigInt(t>>>0)<<Hz|BigInt(e>>>0),"toBig");ur.toBig=MEe;var NEe=o((t,e,r)=>t>>>r,"shrSH");ur.shrSH=NEe;var CEe=o((t,e,r)=>t<<32-r|e>>>r,"shrSL");ur.shrSL=CEe;var kEe=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH");ur.rotrSH=kEe;var BEe=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL");ur.rotrSL=BEe;var PEe=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH");ur.rotrBH=PEe;var LEe=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL");ur.rotrBL=LEe;var DEe=o((t,e)=>e,"rotr32H");ur.rotr32H=DEe;var UEe=o((t,e)=>t,"rotr32L");ur.rotr32L=UEe;var FEe=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH");ur.rotlSH=FEe;var HEe=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL");ur.rotlSL=HEe;var qEe=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH");ur.rotlBH=qEe;var VEe=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");ur.rotlBL=VEe;function jEe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(jEe,"add");var zEe=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L");ur.add3L=zEe;var KEe=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H");ur.add3H=KEe;var $Ee=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L");ur.add4L=$Ee;var GEe=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H");ur.add4H=GEe;var WEe=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L");ur.add5L=WEe;var YEe=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");ur.add5H=YEe;var Udt={fromBig:qz,split:OEe,toBig:MEe,shrSH:NEe,shrSL:CEe,rotrSH:kEe,rotrSL:BEe,rotrBH:PEe,rotrBL:LEe,rotr32H:DEe,rotr32L:UEe,rotlSH:FEe,rotlSL:HEe,rotlBH:qEe,rotlBL:VEe,add:jEe,add3L:zEe,add3H:KEe,add4L:$Ee,add4H:GEe,add5H:YEe,add5L:WEe};ur.default=Udt});var JEe=j(si=>{"use strict";p();m();Object.defineProperty(si,"__esModule",{value:!0});si.sha512_224=si.sha512_256=si.sha384=si.sha512=si.sha224=si.sha256=si.SHA512_256=si.SHA512_224=si.SHA384=si.SHA512=si.SHA224=si.SHA256=void 0;var zt=Dz(),Mr=XEe(),wo=z9(),Fdt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fm=new Uint32Array(64),h3=class extends zt.HashMD{static{o(this,"SHA256")}constructor(e=32){super(64,e,8,!1),this.A=zt.SHA256_IV[0]|0,this.B=zt.SHA256_IV[1]|0,this.C=zt.SHA256_IV[2]|0,this.D=zt.SHA256_IV[3]|0,this.E=zt.SHA256_IV[4]|0,this.F=zt.SHA256_IV[5]|0,this.G=zt.SHA256_IV[6]|0,this.H=zt.SHA256_IV[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)Fm[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=Fm[g-15],T=Fm[g-2],O=(0,wo.rotr)(S,7)^(0,wo.rotr)(S,18)^S>>>3,M=(0,wo.rotr)(T,17)^(0,wo.rotr)(T,19)^T>>>10;Fm[g]=M+Fm[g-7]+O+Fm[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=(0,wo.rotr)(c,6)^(0,wo.rotr)(c,11)^(0,wo.rotr)(c,25),T=y+S+(0,zt.Chi)(c,u,h)+Fdt[g]+Fm[g]|0,M=((0,wo.rotr)(n,2)^(0,wo.rotr)(n,13)^(0,wo.rotr)(n,22))+(0,zt.Maj)(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){(0,wo.clean)(Fm)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,wo.clean)(this.buffer)}};si.SHA256=h3;var Z9=class extends h3{static{o(this,"SHA224")}constructor(){super(28),this.A=zt.SHA224_IV[0]|0,this.B=zt.SHA224_IV[1]|0,this.C=zt.SHA224_IV[2]|0,this.D=zt.SHA224_IV[3]|0,this.E=zt.SHA224_IV[4]|0,this.F=zt.SHA224_IV[5]|0,this.G=zt.SHA224_IV[6]|0,this.H=zt.SHA224_IV[7]|0}};si.SHA224=Z9;var ZEe=Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hdt=ZEe[0],qdt=ZEe[1],Hm=new Uint32Array(80),qm=new Uint32Array(80),g1=class extends zt.HashMD{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=zt.SHA512_IV[0]|0,this.Al=zt.SHA512_IV[1]|0,this.Bh=zt.SHA512_IV[2]|0,this.Bl=zt.SHA512_IV[3]|0,this.Ch=zt.SHA512_IV[4]|0,this.Cl=zt.SHA512_IV[5]|0,this.Dh=zt.SHA512_IV[6]|0,this.Dl=zt.SHA512_IV[7]|0,this.Eh=zt.SHA512_IV[8]|0,this.El=zt.SHA512_IV[9]|0,this.Fh=zt.SHA512_IV[10]|0,this.Fl=zt.SHA512_IV[11]|0,this.Gh=zt.SHA512_IV[12]|0,this.Gl=zt.SHA512_IV[13]|0,this.Hh=zt.SHA512_IV[14]|0,this.Hl=zt.SHA512_IV[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)Hm[N]=e.getUint32(r),qm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=Hm[N-15]|0,H=qm[N-15]|0,F=Mr.rotrSH(P,H,1)^Mr.rotrSH(P,H,8)^Mr.shrSH(P,H,7),Z=Mr.rotrSL(P,H,1)^Mr.rotrSL(P,H,8)^Mr.shrSL(P,H,7),W=Hm[N-2]|0,X=qm[N-2]|0,E=Mr.rotrSH(W,X,19)^Mr.rotrBH(W,X,61)^Mr.shrSH(W,X,6),f=Mr.rotrSL(W,X,19)^Mr.rotrBL(W,X,61)^Mr.shrSL(W,X,6),d=Mr.add4L(Z,f,qm[N-7],qm[N-16]),b=Mr.add4H(d,F,E,Hm[N-7],Hm[N-16]);Hm[N]=b|0,qm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Mr.rotrSH(g,S,14)^Mr.rotrSH(g,S,18)^Mr.rotrBH(g,S,41),H=Mr.rotrSL(g,S,14)^Mr.rotrSL(g,S,18)^Mr.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=Mr.add5L(B,H,Z,qdt[N],qm[N]),X=Mr.add5H(W,C,P,F,Hdt[N],Hm[N]),E=W|0,f=Mr.rotrSH(n,i,28)^Mr.rotrBH(n,i,34)^Mr.rotrBH(n,i,39),d=Mr.rotrSL(n,i,28)^Mr.rotrBL(n,i,34)^Mr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=Mr.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=Mr.add3L(E,d,x);n=Mr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=Mr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Mr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Mr.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=Mr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=Mr.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=Mr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=Mr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=Mr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){(0,wo.clean)(Hm,qm)}destroy(){(0,wo.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};si.SHA512=g1;var J9=class extends g1{static{o(this,"SHA384")}constructor(){super(48),this.Ah=zt.SHA384_IV[0]|0,this.Al=zt.SHA384_IV[1]|0,this.Bh=zt.SHA384_IV[2]|0,this.Bl=zt.SHA384_IV[3]|0,this.Ch=zt.SHA384_IV[4]|0,this.Cl=zt.SHA384_IV[5]|0,this.Dh=zt.SHA384_IV[6]|0,this.Dl=zt.SHA384_IV[7]|0,this.Eh=zt.SHA384_IV[8]|0,this.El=zt.SHA384_IV[9]|0,this.Fh=zt.SHA384_IV[10]|0,this.Fl=zt.SHA384_IV[11]|0,this.Gh=zt.SHA384_IV[12]|0,this.Gl=zt.SHA384_IV[13]|0,this.Hh=zt.SHA384_IV[14]|0,this.Hl=zt.SHA384_IV[15]|0}};si.SHA384=J9;var _a=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),wa=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),Q9=class extends g1{static{o(this,"SHA512_224")}constructor(){super(28),this.Ah=_a[0]|0,this.Al=_a[1]|0,this.Bh=_a[2]|0,this.Bl=_a[3]|0,this.Ch=_a[4]|0,this.Cl=_a[5]|0,this.Dh=_a[6]|0,this.Dl=_a[7]|0,this.Eh=_a[8]|0,this.El=_a[9]|0,this.Fh=_a[10]|0,this.Fl=_a[11]|0,this.Gh=_a[12]|0,this.Gl=_a[13]|0,this.Hh=_a[14]|0,this.Hl=_a[15]|0}};si.SHA512_224=Q9;var eO=class extends g1{static{o(this,"SHA512_256")}constructor(){super(32),this.Ah=wa[0]|0,this.Al=wa[1]|0,this.Bh=wa[2]|0,this.Bl=wa[3]|0,this.Ch=wa[4]|0,this.Cl=wa[5]|0,this.Dh=wa[6]|0,this.Dl=wa[7]|0,this.Eh=wa[8]|0,this.El=wa[9]|0,this.Fh=wa[10]|0,this.Fl=wa[11]|0,this.Gh=wa[12]|0,this.Gl=wa[13]|0,this.Hh=wa[14]|0,this.Hl=wa[15]|0}};si.SHA512_256=eO;si.sha256=(0,wo.createHasher)(()=>new h3);si.sha224=(0,wo.createHasher)(()=>new Z9);si.sha512=(0,wo.createHasher)(()=>new g1);si.sha384=(0,wo.createHasher)(()=>new J9);si.sha512_256=(0,wo.createHasher)(()=>new eO);si.sha512_224=(0,wo.createHasher)(()=>new Q9)});var QEe=j(jd=>{"use strict";p();m();Object.defineProperty(jd,"__esModule",{value:!0});jd.sha224=jd.SHA224=jd.sha256=jd.SHA256=void 0;var tO=JEe();jd.SHA256=tO.SHA256;jd.sha256=tO.sha256;jd.SHA224=tO.SHA224;jd.sha224=tO.sha224});var zd=j(Lo=>{"use strict";p();m();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.taggedHash=Lo.TAGGED_HASH_PREFIXES=Lo.TAGS=Lo.hash256=Lo.hash160=Lo.sha256=Lo.sha1=Lo.ripemd160=void 0;var{Buffer:Ga}=li(),e3e=TEe(),Vdt=REe(),rO=QEe();function jdt(t){return Ga.from((0,e3e.ripemd160)(Uint8Array.from(t)))}o(jdt,"ripemd160");Lo.ripemd160=jdt;function zdt(t){return Ga.from((0,Vdt.sha1)(Uint8Array.from(t)))}o(zdt,"sha1");Lo.sha1=zdt;function t3e(t){return Ga.from((0,rO.sha256)(Uint8Array.from(t)))}o(t3e,"sha256");Lo.sha256=t3e;function Kdt(t){return Ga.from((0,e3e.ripemd160)((0,rO.sha256)(Uint8Array.from(t))))}o(Kdt,"hash160");Lo.hash160=Kdt;function $dt(t){return Ga.from((0,rO.sha256)((0,rO.sha256)(Uint8Array.from(t))))}o($dt,"hash256");Lo.hash256=$dt;Lo.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];Lo.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Ga.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Ga.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Ga.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Ga.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Ga.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Ga.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Ga.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Ga.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Ga.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function Gdt(t,e){return t3e(Ga.concat([Lo.TAGGED_HASH_PREFIXES[t],e]))}o(Gdt,"taggedHash");Lo.taggedHash=Gdt});var n3e=j(nO=>{"use strict";p();m();Object.defineProperty(nO,"__esModule",{value:!0});nO.p2pkh=void 0;var Vz=zd(),Wdt=hu(),_2=Ka(),Wa=Is(),p0=l0(),r3e=Jv(),Vm=_2.OPS;function Ydt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Wa.typeforce)({network:Wa.typeforce.maybe(Wa.typeforce.Object),address:Wa.typeforce.maybe(Wa.typeforce.String),hash:Wa.typeforce.maybe(Wa.typeforce.BufferN(20)),output:Wa.typeforce.maybe(Wa.typeforce.BufferN(25)),pubkey:Wa.typeforce.maybe(Wa.isPoint),signature:Wa.typeforce.maybe(_2.isCanonicalScriptSignature),input:Wa.typeforce.maybe(Wa.typeforce.Buffer)},t);let r=p0.value(()=>{let a=Buffer.from(r3e.decode(t.address)),c=a.readUInt8(0),u=a.slice(1);return{version:c,hash:u}}),n=p0.value(()=>_2.decompile(t.input)),i=t.network||Wdt.bitcoin,s={name:"p2pkh",network:i};if(p0.prop(s,"address",()=>{if(!s.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(i.pubKeyHash,0),s.hash.copy(a,1),r3e.encode(a)}),p0.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return Vz.hash160(t.pubkey||s.pubkey)}),p0.prop(s,"output",()=>{if(s.hash)return _2.compile([Vm.OP_DUP,Vm.OP_HASH160,s.hash,Vm.OP_EQUALVERIFY,Vm.OP_CHECKSIG])}),p0.prop(s,"pubkey",()=>{if(t.input)return n()[1]}),p0.prop(s,"signature",()=>{if(t.input)return n()[0]}),p0.prop(s,"input",()=>{if(t.pubkey&&t.signature)return _2.compile([t.signature,t.pubkey])}),p0.prop(s,"witness",()=>{if(s.input)return[]}),e.validate){let a=Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");a=r().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Vm.OP_DUP||t.output[1]!==Vm.OP_HASH160||t.output[2]!==20||t.output[23]!==Vm.OP_EQUALVERIFY||t.output[24]!==Vm.OP_CHECKSIG)throw new TypeError("Output is invalid");let c=t.output.slice(3,23);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.pubkey){let c=Vz.hash160(t.pubkey);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.input){let c=n();if(c.length!==2)throw new TypeError("Input is invalid");if(!_2.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!(0,Wa.isPoint)(c[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");let u=Vz.hash160(c[1]);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}o(Ydt,"p2pkh");nO.p2pkh=Ydt});var s3e=j(iO=>{"use strict";p();m();Object.defineProperty(iO,"__esModule",{value:!0});iO.p2sh=void 0;var i3e=zd(),Xdt=hu(),$d=Ka(),Ii=Is(),Kd=l0(),o3e=Jv(),p3=$d.OPS;function Zdt(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(Zdt,"stacksEqual");function Jdt(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ii.typeforce)({network:Ii.typeforce.maybe(Ii.typeforce.Object),address:Ii.typeforce.maybe(Ii.typeforce.String),hash:Ii.typeforce.maybe(Ii.typeforce.BufferN(20)),output:Ii.typeforce.maybe(Ii.typeforce.BufferN(23)),redeem:Ii.typeforce.maybe({network:Ii.typeforce.maybe(Ii.typeforce.Object),output:Ii.typeforce.maybe(Ii.typeforce.Buffer),input:Ii.typeforce.maybe(Ii.typeforce.Buffer),witness:Ii.typeforce.maybe(Ii.typeforce.arrayOf(Ii.typeforce.Buffer))}),input:Ii.typeforce.maybe(Ii.typeforce.Buffer),witness:Ii.typeforce.maybe(Ii.typeforce.arrayOf(Ii.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||Xdt.bitcoin);let n={network:r},i=Kd.value(()=>{let c=Buffer.from(o3e.decode(t.address)),u=c.readUInt8(0),h=c.slice(1);return{version:u,hash:h}}),s=Kd.value(()=>$d.decompile(t.input)),a=Kd.value(()=>{let c=s(),u=c[c.length-1];return{network:r,output:u===p3.OP_FALSE?Buffer.from([]):u,input:$d.compile(c.slice(0,-1)),witness:t.witness||[]}});if(Kd.prop(n,"address",()=>{if(!n.hash)return;let c=Buffer.allocUnsafe(21);return c.writeUInt8(n.network.scriptHash,0),n.hash.copy(c,1),o3e.encode(c)}),Kd.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return i3e.hash160(n.redeem.output)}),Kd.prop(n,"output",()=>{if(n.hash)return $d.compile([p3.OP_HASH160,n.hash,p3.OP_EQUAL])}),Kd.prop(n,"redeem",()=>{if(t.input)return a()}),Kd.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return $d.compile([].concat($d.decompile(t.redeem.input),t.redeem.output))}),Kd.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Kd.prop(n,"name",()=>{let c=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&c.push(n.redeem.name),c.join("-")}),e.validate){let c=Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");c=i().hash}if(t.hash){if(c.length>0&&!c.equals(t.hash))throw new TypeError("Hash mismatch");c=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==p3.OP_HASH160||t.output[1]!==20||t.output[22]!==p3.OP_EQUAL)throw new TypeError("Output is invalid");let h=t.output.slice(2,22);if(c.length>0&&!c.equals(h))throw new TypeError("Hash mismatch");c=h}let u=o(h=>{if(h.output){let y=$d.decompile(h.output);if(!y||y.length<1)throw new TypeError("Redeem.output too short");if(h.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if($d.countNonPushOnlyOPs(y)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let g=i3e.hash160(h.output);if(c.length>0&&!c.equals(g))throw new TypeError("Hash mismatch");c=g}if(h.input){let y=h.input.length>0,g=h.witness&&h.witness.length>0;if(!y&&!g)throw new TypeError("Empty input");if(y&&g)throw new TypeError("Input and witness provided");if(y){let S=$d.decompile(h.input);if(!$d.isPushOnly(S))throw new TypeError("Non push-only scriptSig")}}},"checkRedeem");if(t.input){let h=s();if(!h||h.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(a().output))throw new TypeError("Input is invalid");u(a())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let h=a();if(t.redeem.output&&!t.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}u(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!Zdt(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}o(Jdt,"p2sh");iO.p2sh=Jdt});var c3e=j(aO=>{"use strict";p();m();Object.defineProperty(aO,"__esModule",{value:!0});aO.p2wpkh=void 0;var{Buffer:zz}=li(),jz=zd(),Qdt=hu(),sO=Ka(),Do=Is(),jm=l0(),oO=Wv(),a3e=sO.OPS,eht=zz.alloc(0);function tht(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Do.typeforce)({address:Do.typeforce.maybe(Do.typeforce.String),hash:Do.typeforce.maybe(Do.typeforce.BufferN(20)),input:Do.typeforce.maybe(Do.typeforce.BufferN(0)),network:Do.typeforce.maybe(Do.typeforce.Object),output:Do.typeforce.maybe(Do.typeforce.BufferN(22)),pubkey:Do.typeforce.maybe(Do.isPoint),signature:Do.typeforce.maybe(sO.isCanonicalScriptSignature),witness:Do.typeforce.maybe(Do.typeforce.arrayOf(Do.typeforce.Buffer))},t);let r=jm.value(()=>{let s=oO.bech32.decode(t.address),a=s.words.shift(),c=oO.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:zz.from(c)}}),n=t.network||Qdt.bitcoin,i={name:"p2wpkh",network:n};if(jm.prop(i,"address",()=>{if(!i.hash)return;let s=oO.bech32.toWords(i.hash);return s.unshift(0),oO.bech32.encode(n.bech32,s)}),jm.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return jz.hash160(t.pubkey||i.pubkey)}),jm.prop(i,"output",()=>{if(i.hash)return sO.compile([a3e.OP_0,i.hash])}),jm.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),jm.prop(i,"signature",()=>{if(t.witness)return t.witness[0]}),jm.prop(i,"input",()=>{if(i.witness)return eht}),jm.prop(i,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let s=zz.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==a3e.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let a=jz.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");if(s=a,!(0,Do.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!sO.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Do.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let a=jz.hash160(t.witness[1]);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}o(tht,"p2wpkh");aO.p2wpkh=tht});var l3e=j(lO=>{"use strict";p();m();Object.defineProperty(lO,"__esModule",{value:!0});lO.p2wsh=void 0;var{Buffer:uO}=li(),f3e=zd(),rht=hu(),g0=Ka(),bi=Is(),m0=l0(),cO=Wv(),u3e=g0.OPS,Kz=uO.alloc(0);function nht(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(nht,"stacksEqual");function fO(t){return!!(uO.isBuffer(t)&&t.length===65&&t[0]===4&&(0,bi.isPoint)(t))}o(fO,"chunkHasUncompressedPubkey");function iht(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,bi.typeforce)({network:bi.typeforce.maybe(bi.typeforce.Object),address:bi.typeforce.maybe(bi.typeforce.String),hash:bi.typeforce.maybe(bi.typeforce.BufferN(32)),output:bi.typeforce.maybe(bi.typeforce.BufferN(34)),redeem:bi.typeforce.maybe({input:bi.typeforce.maybe(bi.typeforce.Buffer),network:bi.typeforce.maybe(bi.typeforce.Object),output:bi.typeforce.maybe(bi.typeforce.Buffer),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))}),input:bi.typeforce.maybe(bi.typeforce.BufferN(0)),witness:bi.typeforce.maybe(bi.typeforce.arrayOf(bi.typeforce.Buffer))},t);let r=m0.value(()=>{let a=cO.bech32.decode(t.address),c=a.words.shift(),u=cO.bech32.fromWords(a.words);return{version:c,prefix:a.prefix,data:uO.from(u)}}),n=m0.value(()=>g0.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||rht.bitcoin);let s={network:i};if(m0.prop(s,"address",()=>{if(!s.hash)return;let a=cO.bech32.toWords(s.hash);return a.unshift(0),cO.bech32.encode(i.bech32,a)}),m0.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return f3e.sha256(s.redeem.output)}),m0.prop(s,"output",()=>{if(s.hash)return g0.compile([u3e.OP_0,s.hash])}),m0.prop(s,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:Kz,witness:t.witness.slice(0,-1)}}),m0.prop(s,"input",()=>{if(s.witness)return Kz}),m0.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let a=g0.toStack(n());return s.redeem=Object.assign({witness:a},t.redeem),s.redeem.input=Kz,[].concat(a,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),m0.prop(s,"name",()=>{let a=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&a.push(s.redeem.name),a.join("-")}),e.validate){let a=uO.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==u3e.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let c=t.output.slice(2);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let c=g0.decompile(t.redeem.output);if(!c||c.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(g0.countNonPushOnlyOPs(c)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let u=f3e.sha256(t.redeem.output);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch");a=u}if(t.redeem.input&&!g0.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!nht(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(fO)||t.redeem.output&&(g0.decompile(t.redeem.output)||[]).some(fO))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let c=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(fO)||(g0.decompile(c)||[]).some(fO))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}o(iht,"p2wsh");lO.p2wsh=iht});var dO=j(w2=>{"use strict";p();m();Object.defineProperty(w2,"__esModule",{value:!0});w2.getEccLib=w2.initEccLib=void 0;var m3={};function oht(t){t?t!==m3.eccLib&&(aht(t),m3.eccLib=t):m3.eccLib=t}o(oht,"initEccLib");w2.initEccLib=oht;function sht(){if(!m3.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return m3.eccLib}o(sht,"getEccLib");w2.getEccLib=sht;var y0=o(t=>Buffer.from(t,"hex"),"h");function aht(t){pu(typeof t.isXOnlyPoint=="function"),pu(t.isXOnlyPoint(y0("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),pu(t.isXOnlyPoint(y0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),pu(t.isXOnlyPoint(y0("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),pu(t.isXOnlyPoint(y0("0000000000000000000000000000000000000000000000000000000000000001"))),pu(!t.isXOnlyPoint(y0("0000000000000000000000000000000000000000000000000000000000000000"))),pu(!t.isXOnlyPoint(y0("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),pu(typeof t.xOnlyPointAddTweak=="function"),cht.forEach(e=>{let r=t.xOnlyPointAddTweak(y0(e.pubkey),y0(e.tweak));e.result===null?pu(r===null):(pu(r!==null),pu(r.parity===e.parity),pu(Buffer.from(r.xOnlyPubkey).equals(y0(e.result))))})}o(aht,"verifyEcc");function pu(t){if(!t)throw new Error("ecc library invalid")}o(pu,"assert");var cht=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var p3e=j((N7r,h3e)=>{"use strict";p();m();var $z=mr().Buffer,fht=9007199254740991;function Gz(t){if(t<0||t>fht||t%1!==0)throw new RangeError("value out of range")}o(Gz,"checkUInt53");function g3(t,e,r){if(Gz(t),e||(e=$z.allocUnsafe(d3e(t))),!$z.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),g3.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),g3.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),g3.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),g3.bytes=9),e}o(g3,"encode");function y3(t,e){if(!$z.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return y3.bytes=1,r;if(r===253)return y3.bytes=3,t.readUInt16LE(e+1);if(r===254)return y3.bytes=5,t.readUInt32LE(e+1);y3.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return Gz(s),s}o(y3,"decode");function d3e(t){return Gz(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(d3e,"encodingLength");h3e.exports={encode:g3,decode:y3,encodingLength:d3e}});var x3=j(Sa=>{"use strict";p();m();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.BufferReader=Sa.BufferWriter=Sa.cloneBuffer=Sa.reverseBuffer=Sa.writeUInt64LE=Sa.readUInt64LE=Sa.varuint=void 0;var y1=Is(),{typeforce:m3e}=y1,b3=p3e();Sa.varuint=b3;function g3e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(g3e,"verifuint");function y3e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,g3e(n+r,9007199254740991),n+r}o(y3e,"readUInt64LE");Sa.readUInt64LE=y3e;function b3e(t,e,r){return g3e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(b3e,"writeUInt64LE");Sa.writeUInt64LE=b3e;function uht(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(uht,"reverseBuffer");Sa.reverseBuffer=uht;function lht(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}o(lht,"cloneBuffer");Sa.cloneBuffer=lht;var Wz=class t{static{o(this,"BufferWriter")}static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,m3e(y1.tuple(y1.Buffer,y1.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=b3e(this.buffer,e,this.offset)}writeVarInt(e){b3.encode(e,this.buffer,this.offset),this.offset+=b3.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Sa.BufferWriter=Wz;var Yz=class{static{o(this,"BufferReader")}constructor(e,r=0){this.buffer=e,this.offset=r,m3e(y1.tuple(y1.Buffer,y1.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=y3e(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=b3.decode(this.buffer,this.offset);return this.offset+=b3.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};Sa.BufferReader=Yz});var hO=j(Uo=>{"use strict";p();m();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.tweakKey=Uo.tapTweakHash=Uo.tapleafHash=Uo.findScriptPath=Uo.toHashTree=Uo.rootHashFromPath=Uo.MAX_TAPTREE_DEPTH=Uo.LEAF_VERSION_TAPSCRIPT=void 0;var zm=li(),dht=dO(),Qz=zd(),x3e=x3(),hht=Is();Uo.LEAF_VERSION_TAPSCRIPT=192;Uo.MAX_TAPTREE_DEPTH=128;var pht=o(t=>"left"in t&&"right"in t,"isHashBranch");function mht(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=Jz(n,s):n=Jz(s,n)}return n}o(mht,"rootHashFromPath");Uo.rootHashFromPath=mht;function Xz(t){if((0,hht.isTapleaf)(t))return{hash:v3e(t)};let e=[Xz(t[0]),Xz(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:Jz(r.hash,n.hash),left:r,right:n}}o(Xz,"toHashTree");Uo.toHashTree=Xz;function Zz(t,e){if(pht(t)){let r=Zz(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=Zz(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}o(Zz,"findScriptPath");Uo.findScriptPath=Zz;function v3e(t){let e=t.version||Uo.LEAF_VERSION_TAPSCRIPT;return Qz.taggedHash("TapLeaf",zm.Buffer.concat([zm.Buffer.from([e]),yht(t.output)]))}o(v3e,"tapleafHash");Uo.tapleafHash=v3e;function _3e(t,e){return Qz.taggedHash("TapTweak",zm.Buffer.concat(e?[t,e]:[t]))}o(_3e,"tapTweakHash");Uo.tapTweakHash=_3e;function ght(t,e){if(!zm.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=_3e(t,e),n=(0,dht.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:zm.Buffer.from(n.xOnlyPubkey)}}o(ght,"tweakKey");Uo.tweakKey=ght;function Jz(t,e){return Qz.taggedHash("TapBranch",zm.Buffer.concat([t,e]))}o(Jz,"tapBranchHash");function yht(t){let e=x3e.varuint.encodingLength(t.length),r=zm.Buffer.allocUnsafe(e);return x3e.varuint.encode(t.length,r),zm.Buffer.concat([r,t])}o(yht,"serializeScript")});var A3e=j(gO=>{"use strict";p();m();Object.defineProperty(gO,"__esModule",{value:!0});gO.p2tr=void 0;var pO=li(),bht=hu(),eK=Ka(),Ur=Is(),w3e=dO(),Nc=hO(),mu=l0(),mO=Wv(),S3e=eK.OPS,E3e=1,xht=80;function vht(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ur.typeforce)({address:Ur.typeforce.maybe(Ur.typeforce.String),input:Ur.typeforce.maybe(Ur.typeforce.BufferN(0)),network:Ur.typeforce.maybe(Ur.typeforce.Object),output:Ur.typeforce.maybe(Ur.typeforce.BufferN(34)),internalPubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),hash:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),pubkey:Ur.typeforce.maybe(Ur.typeforce.BufferN(32)),signature:Ur.typeforce.maybe(Ur.typeforce.anyOf(Ur.typeforce.BufferN(64),Ur.typeforce.BufferN(65))),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer)),scriptTree:Ur.typeforce.maybe(Ur.isTaptree),redeem:Ur.typeforce.maybe({output:Ur.typeforce.maybe(Ur.typeforce.Buffer),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number),witness:Ur.typeforce.maybe(Ur.typeforce.arrayOf(Ur.typeforce.Buffer))}),redeemVersion:Ur.typeforce.maybe(Ur.typeforce.Number)},t);let r=mu.value(()=>{let c=mO.bech32m.decode(t.address),u=c.words.shift(),h=mO.bech32m.fromWords(c.words);return{version:u,prefix:c.prefix,data:pO.Buffer.from(h)}}),n=mu.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===xht?t.witness.slice(0,-1):t.witness.slice()}),i=mu.value(()=>{if(t.scriptTree)return(0,Nc.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||bht.bitcoin,a={name:"p2tr",network:s};if(mu.prop(a,"address",()=>{if(!a.pubkey)return;let c=mO.bech32m.toWords(a.pubkey);return c.unshift(E3e),mO.bech32m.encode(s.bech32,c)}),mu.prop(a,"hash",()=>{let c=i();if(c)return c.hash;let u=n();if(u&&u.length>1){let h=u[u.length-1],y=h[0]&Ur.TAPLEAF_VERSION_MASK,g=u[u.length-2],S=(0,Nc.tapleafHash)({output:g,version:y});return(0,Nc.rootHashFromPath)(h,S)}return null}),mu.prop(a,"output",()=>{if(a.pubkey)return eK.compile([S3e.OP_1,a.pubkey])}),mu.prop(a,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Nc.LEAF_VERSION_TAPSCRIPT),mu.prop(a,"redeem",()=>{let c=n();if(!(!c||c.length<2))return{output:c[c.length-2],witness:c.slice(0,-2),redeemVersion:c[c.length-1][0]&Ur.TAPLEAF_VERSION_MASK}}),mu.prop(a,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(a.internalPubkey){let c=(0,Nc.tweakKey)(a.internalPubkey,a.hash);if(c)return c.x}}),mu.prop(a,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let c=n();if(c&&c.length>1)return c[c.length-1].slice(1,33)}),mu.prop(a,"signature",()=>{if(t.signature)return t.signature;let c=n();if(!(!c||c.length!==1))return c[0]}),mu.prop(a,"witness",()=>{if(t.witness)return t.witness;let c=i();if(c&&t.redeem&&t.redeem.output&&t.internalPubkey){let u=(0,Nc.tapleafHash)({output:t.redeem.output,version:a.redeemVersion}),h=(0,Nc.findScriptPath)(c,u);if(!h)return;let y=(0,Nc.tweakKey)(t.internalPubkey,c.hash);if(!y)return;let g=pO.Buffer.concat([pO.Buffer.from([a.redeemVersion|y.parity]),t.internalPubkey].concat(h));return[t.redeem.output,g]}if(t.signature)return[t.signature]}),e.validate){let c=pO.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==E3e)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");c=r().data}if(t.pubkey){if(c.length>0&&!c.equals(t.pubkey))throw new TypeError("Pubkey mismatch");c=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==S3e.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(c.length>0&&!c.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");c=t.output.slice(2)}if(t.internalPubkey){let y=(0,Nc.tweakKey)(t.internalPubkey,a.hash);if(c.length>0&&!c.equals(y.x))throw new TypeError("Pubkey mismatch");c=y.x}if(c&&c.length&&!(0,w3e.getEccLib)().isXOnlyPoint(c))throw new TypeError("Invalid pubkey for p2tr");let u=i();if(t.hash&&u&&!t.hash.equals(u.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&u){let y=(0,Nc.tapleafHash)({output:t.redeem.output,version:a.redeemVersion});if(!(0,Nc.findScriptPath)(u,y))throw new TypeError("Redeem script not in tree")}let h=n();if(t.redeem&&a.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==a.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(eK.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(a.redeem.output&&!t.redeem.output.equals(a.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&a.redeem.witness&&!_ht(t.redeem.witness,a.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(h.length===1){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{let y=h[h.length-1];if(y.length<33)throw new TypeError(`The control-block length is too small. Got ${y.length}, expected min 33.`);if((y.length-33)%32!==0)throw new TypeError(`The control-block length of ${y.length} is incorrect!`);let g=(y.length-33)/32;if(g>128)throw new TypeError(`The script path is too long. Got ${g}, expected max 128.`);let S=y.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(S))throw new TypeError("Internal pubkey mismatch");if(!(0,w3e.getEccLib)().isXOnlyPoint(S))throw new TypeError("Invalid internalPubkey for p2tr witness");let T=y[0]&Ur.TAPLEAF_VERSION_MASK,O=h[h.length-2],M=(0,Nc.tapleafHash)({output:O,version:T}),k=(0,Nc.rootHashFromPath)(y,M),C=(0,Nc.tweakKey)(S,k);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(c.length&&!c.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(y[0]&1))throw new Error("Incorrect parity")}}return Object.assign(a,t)}o(vht,"p2tr");gO.p2tr=vht;function _ht(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}o(_ht,"stacksEqual")});var S2=j(os=>{"use strict";p();m();Object.defineProperty(os,"__esModule",{value:!0});os.p2tr=os.p2wsh=os.p2wpkh=os.p2sh=os.p2pkh=os.p2pk=os.p2ms=os.embed=void 0;var wht=oEe();Object.defineProperty(os,"embed",{enumerable:!0,get:o(function(){return wht.p2data},"get")});var Sht=aEe();Object.defineProperty(os,"p2ms",{enumerable:!0,get:o(function(){return Sht.p2ms},"get")});var Eht=fEe();Object.defineProperty(os,"p2pk",{enumerable:!0,get:o(function(){return Eht.p2pk},"get")});var Aht=n3e();Object.defineProperty(os,"p2pkh",{enumerable:!0,get:o(function(){return Aht.p2pkh},"get")});var Tht=s3e();Object.defineProperty(os,"p2sh",{enumerable:!0,get:o(function(){return Tht.p2sh},"get")});var Iht=c3e();Object.defineProperty(os,"p2wpkh",{enumerable:!0,get:o(function(){return Iht.p2wpkh},"get")});var Rht=l3e();Object.defineProperty(os,"p2wsh",{enumerable:!0,get:o(function(){return Rht.p2wsh},"get")});var Oht=A3e();Object.defineProperty(os,"p2tr",{enumerable:!0,get:o(function(){return Oht.p2tr},"get")})});var tK=j(Cc=>{"use strict";p();m();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.toOutputScript=Cc.fromOutputScript=Cc.toBech32=Cc.toBase58Check=Cc.fromBech32=Cc.fromBase58Check=void 0;var T3e=hu(),Gd=S2(),I3e=Ka(),yO=Is(),E2=Wv(),R3e=Jv(),O3e=40,M3e=2,N3e=16,C3e=2,k3e=80,B3e="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Mht(t,e){let r=t.slice(2);if(r.length<M3e||r.length>O3e)throw new TypeError("Invalid program length for segwit address");let n=t[0]-k3e;if(n<C3e||n>N3e)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(B3e),D3e(r,n,e.bech32)}o(Mht,"_toFutureSegwitAddress");function P3e(t){let e=Buffer.from(R3e.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}o(P3e,"fromBase58Check");Cc.fromBase58Check=P3e;function L3e(t){let e,r;try{e=E2.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=E2.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=E2.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}o(L3e,"fromBech32");Cc.fromBech32=L3e;function Nht(t,e){(0,yO.typeforce)((0,yO.tuple)(yO.Hash160bit,yO.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),R3e.encode(r)}o(Nht,"toBase58Check");Cc.toBase58Check=Nht;function D3e(t,e,r){let n=E2.bech32.toWords(t);return n.unshift(e),e===0?E2.bech32.encode(r,n):E2.bech32m.encode(r,n)}o(D3e,"toBech32");Cc.toBech32=D3e;function Cht(t,e){e=e||T3e.bitcoin;try{return Gd.p2pkh({output:t,network:e}).address}catch{}try{return Gd.p2sh({output:t,network:e}).address}catch{}try{return Gd.p2wpkh({output:t,network:e}).address}catch{}try{return Gd.p2wsh({output:t,network:e}).address}catch{}try{return Gd.p2tr({output:t,network:e}).address}catch{}try{return Mht(t,e)}catch{}throw new Error(I3e.toASM(t)+" has no matching Address")}o(Cht,"fromOutputScript");Cc.fromOutputScript=Cht;function kht(t,e){e=e||T3e.bitcoin;let r,n;try{r=P3e(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Gd.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Gd.p2sh({hash:r.hash}).output}else{try{n=L3e(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Gd.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Gd.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Gd.p2tr({pubkey:n.data}).output}else if(n.version>=C3e&&n.version<=N3e&&n.data.length>=M3e&&n.data.length<=O3e)return console.warn(B3e),I3e.compile([n.version+k3e,n.data])}}throw new Error(t+" has no matching Script")}o(kht,"toOutputScript");Cc.toOutputScript=kht});var U3e=j(bO=>{"use strict";p();m();Object.defineProperty(bO,"__esModule",{value:!0});bO.fastMerkleRoot=void 0;function Bht(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let i=0;for(let s=0;s<r;s+=2,++i){let a=n[s],c=s+1===r?a:n[s+1],u=Buffer.concat([a,c]);n[i]=e(u)}r=i}return n[0]}o(Bht,"fastMerkleRoot");bO.fastMerkleRoot=Bht});var A2=j(xO=>{"use strict";p();m();Object.defineProperty(xO,"__esModule",{value:!0});xO.Transaction=void 0;var{Buffer:Ea}=li(),So=x3(),Ya=zd(),F3e=Ka(),Pht=Ka(),an=Is(),{typeforce:Wd}=an;function Yd(t){let e=t.length;return So.varuint.encodingLength(e)+e}o(Yd,"varSliceSize");function Lht(t){let e=t.length;return So.varuint.encodingLength(e)+t.reduce((r,n)=>r+Yd(n),0)}o(Lht,"vectorSize");var Km=Ea.allocUnsafe(0),H3e=[],rK=Ea.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),q3e=Ea.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Dht=Ea.from("ffffffffffffffff","hex"),Uht={script:Km,valueBuffer:Dht};function Fht(t){return t.value!==void 0}o(Fht,"isOutput");var mf=class t{static{o(this,"Transaction")}constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new So.BufferReader(e),i=new t;i.version=n.readInt32();let s=n.readUInt8(),a=n.readUInt8(),c=!1;s===t.ADVANCED_TRANSACTION_MARKER&&a===t.ADVANCED_TRANSACTION_FLAG?c=!0:n.offset-=2;let u=n.readVarInt();for(let y=0;y<u;++y)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:H3e});let h=n.readVarInt();for(let y=0;y<h;++y)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(c){for(let y=0;y<u;++y)i.ins[y].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return t.fromBuffer(Ea.from(e,"hex"),!1)}static isCoinbaseHash(e){Wd(an.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Wd(an.tuple(an.Hash256bit,an.UInt32,an.maybe(an.UInt32),an.maybe(an.Buffer)),arguments),an.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Km,sequence:n,witness:H3e})-1}addOutput(e,r){return Wd(an.tuple(an.Buffer,an.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+So.varuint.encodingLength(this.ins.length)+So.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Yd(i.script),0)+this.outs.reduce((n,i)=>n+8+Yd(i.script),0)+(r?this.ins.reduce((n,i)=>n+Lht(i.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Wd(an.tuple(an.UInt32,an.Buffer,an.Number),arguments),e>=this.ins.length)return q3e;let i=F3e.compile(F3e.decompile(r).filter(c=>c!==Pht.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===t.SIGHASH_NONE)s.outs=[],s.ins.forEach((c,u)=>{u!==e&&(c.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return q3e;s.outs.length=e+1;for(let c=0;c<e;c++)s.outs[c]=Uht;s.ins.forEach((c,u)=>{u!==e&&(c.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(c=>{c.script=Km}),s.ins[e].script=i);let a=Ea.allocUnsafe(s.byteLength(!1)+4);return a.writeInt32LE(n,a.length-4),s.__toBuffer(a,0,!1),Ya.hash256(a)}hashForWitnessV1(e,r,n,i,s,a){if(Wd(an.tuple(an.UInt32,Wd.arrayOf(an.Buffer),Wd.arrayOf(an.Satoshi),an.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let c=i===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:i&t.SIGHASH_OUTPUT_MASK,h=(i&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,y=c===t.SIGHASH_NONE,g=c===t.SIGHASH_SINGLE,S=Km,T=Km,O=Km,M=Km,k=Km;if(!h){let P=So.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(H=>{P.writeSlice(H.hash),P.writeUInt32(H.index)}),S=Ya.sha256(P.end()),P=So.BufferWriter.withCapacity(8*this.ins.length),n.forEach(H=>P.writeUInt64(H)),T=Ya.sha256(P.end()),P=So.BufferWriter.withCapacity(r.map(Yd).reduce((H,F)=>H+F)),r.forEach(H=>P.writeVarSlice(H)),O=Ya.sha256(P.end()),P=So.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(H=>P.writeUInt32(H.sequence)),M=Ya.sha256(P.end())}if(y||g){if(g&&e<this.outs.length){let P=this.outs[e],H=So.BufferWriter.withCapacity(8+Yd(P.script));H.writeUInt64(P.value),H.writeVarSlice(P.script),k=Ya.sha256(H.end())}}else{let P=this.outs.map(F=>8+Yd(F.script)).reduce((F,Z)=>F+Z),H=So.BufferWriter.withCapacity(P);this.outs.forEach(F=>{H.writeUInt64(F.value),H.writeVarSlice(F.script)}),k=Ya.sha256(H.end())}let C=(s?2:0)+(a?1:0),B=174-(h?49:0)-(y?32:0)+(a?32:0)+(s?37:0),N=So.BufferWriter.withCapacity(B);if(N.writeUInt8(i),N.writeInt32(this.version),N.writeUInt32(this.locktime),N.writeSlice(S),N.writeSlice(T),N.writeSlice(O),N.writeSlice(M),y||g||N.writeSlice(k),N.writeUInt8(C),h){let P=this.ins[e];N.writeSlice(P.hash),N.writeUInt32(P.index),N.writeUInt64(n[e]),N.writeVarSlice(r[e]),N.writeUInt32(P.sequence)}else N.writeUInt32(e);if(a){let P=So.BufferWriter.withCapacity(Yd(a));P.writeVarSlice(a),N.writeSlice(Ya.sha256(P.end()))}return g&&N.writeSlice(k),s&&(N.writeSlice(s),N.writeUInt8(0),N.writeUInt32(4294967295)),Ya.taggedHash("TapSighash",Ea.concat([Ea.from([0]),N.end()]))}hashForWitnessV0(e,r,n,i){Wd(an.tuple(an.UInt32,an.Buffer,an.Satoshi,an.UInt32),arguments);let s=Ea.from([]),a,c=rK,u=rK,h=rK;if(i&t.SIGHASH_ANYONECANPAY||(s=Ea.allocUnsafe(36*this.ins.length),a=new So.BufferWriter(s,0),this.ins.forEach(g=>{a.writeSlice(g.hash),a.writeUInt32(g.index)}),u=Ya.hash256(s)),!(i&t.SIGHASH_ANYONECANPAY)&&(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE&&(s=Ea.allocUnsafe(4*this.ins.length),a=new So.BufferWriter(s,0),this.ins.forEach(g=>{a.writeUInt32(g.sequence)}),h=Ya.hash256(s)),(i&31)!==t.SIGHASH_SINGLE&&(i&31)!==t.SIGHASH_NONE){let g=this.outs.reduce((S,T)=>S+8+Yd(T.script),0);s=Ea.allocUnsafe(g),a=new So.BufferWriter(s,0),this.outs.forEach(S=>{a.writeUInt64(S.value),a.writeVarSlice(S.script)}),c=Ya.hash256(s)}else if((i&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let g=this.outs[e];s=Ea.allocUnsafe(8+Yd(g.script)),a=new So.BufferWriter(s,0),a.writeUInt64(g.value),a.writeVarSlice(g.script),c=Ya.hash256(s)}s=Ea.allocUnsafe(156+Yd(r)),a=new So.BufferWriter(s,0);let y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(u),a.writeSlice(h),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(c),a.writeUInt32(this.locktime),a.writeUInt32(i),Ya.hash256(s)}getHash(e){return e&&this.isCoinbase()?Ea.alloc(32,0):Ya.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,So.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Wd(an.tuple(an.Number,an.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Wd(an.tuple(an.Number,[an.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=Ea.allocUnsafe(this.byteLength(n)));let i=new So.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(a=>{i.writeSlice(a.hash),i.writeUInt32(a.index),i.writeVarSlice(a.script),i.writeUInt32(a.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(a=>{Fht(a)?i.writeUInt64(a.value):i.writeSlice(a.valueBuffer),i.writeVarSlice(a.script)}),s&&this.ins.forEach(a=>{i.writeVector(a.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};xO.Transaction=mf;mf.DEFAULT_SEQUENCE=4294967295;mf.SIGHASH_DEFAULT=0;mf.SIGHASH_ALL=1;mf.SIGHASH_NONE=2;mf.SIGHASH_SINGLE=3;mf.SIGHASH_ANYONECANPAY=128;mf.SIGHASH_OUTPUT_MASK=3;mf.SIGHASH_INPUT_MASK=128;mf.ADVANCED_TRANSACTION_MARKER=0;mf.ADVANCED_TRANSACTION_FLAG=1});var K3e=j(vO=>{"use strict";p();m();Object.defineProperty(vO,"__esModule",{value:!0});vO.Block=void 0;var b1=x3(),nK=zd(),Hht=U3e(),qht=A2(),z3e=Is(),{typeforce:Vht}=z3e,iK=new TypeError("Cannot compute merkle root for zero transactions"),V3e=new TypeError("Cannot compute witness commit for non-segwit block"),oK=class t{static{o(this,"Block")}constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new b1.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=o(()=>{let c=qht.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=c.byteLength(),c},"readTransaction"),s=r.readVarInt();n.transactions=[];for(let c=0;c<s;++c){let u=i();n.transactions.push(u)}let a=n.getWitnessCommit();return a&&(n.witnessCommit=a),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(Vht([{getHash:z3e.Function}],e),e.length===0)throw iK;if(r&&!j3e(e))throw V3e;let n=e.map(s=>s.getHash(r)),i=(0,Hht.fastMerkleRoot)(n,nK.hash256);return r?nK.hash256(Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!j3e(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return jht(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+b1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return nK.hash256(this.toBuffer(!0))}getId(){return(0,b1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new b1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(b1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=b1.varuint.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,b1.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw iK;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw iK;if(!this.hasWitnessCommit())throw V3e;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};vO.Block=oK;function j3e(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}o(j3e,"txesHaveWitnessCommit");function jht(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}o(jht,"anyTxHasWitness")});var ss=j(xl=>{"use strict";p();m();Object.defineProperty(xl,"__esModule",{value:!0});var zht;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(zht=xl.GlobalTypes||(xl.GlobalTypes={}));xl.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Kht;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Kht=xl.InputTypes||(xl.InputTypes={}));xl.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var $ht;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})($ht=xl.OutputTypes||(xl.OutputTypes={}));xl.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var G3e=j(x1=>{"use strict";p();m();Object.defineProperty(x1,"__esModule",{value:!0});var $3e=ss(),Ght=o(t=>[...Array(t).keys()],"range");function Wht(t){if(t.key[0]!==$3e.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Ght(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),a=i&2147483647;r.path+="/"+a.toString(10)+(s?"'":"")}return r}o(Wht,"decode");x1.decode=Wht;function Yht(t){let e=Buffer.from([$3e.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(a=>{let c=a.slice(-1)==="'",u=2147483647&parseInt(c?a.slice(0,-1):a,10);c&&(u+=2147483648),i.writeUInt32LE(u,s),s+=4}),{key:r,value:i}}o(Yht,"encode");x1.encode=Yht;x1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Xht(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}o(Xht,"check");x1.check=Xht;function Zht(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}o(Zht,"canAddToArray");x1.canAddToArray=Zht});var W3e=j(sK=>{"use strict";p();m();Object.defineProperty(sK,"__esModule",{value:!0});var Jht=ss();function Qht(t){return{key:Buffer.from([Jht.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}o(Qht,"encode");sK.encode=Qht});var X3e=j(v1=>{"use strict";p();m();Object.defineProperty(v1,"__esModule",{value:!0});var Y3e=ss();function e0t(t){if(t.key[0]!==Y3e.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}o(e0t,"decode");v1.decode=e0t;function t0t(t){return{key:Buffer.from([Y3e.InputTypes.FINAL_SCRIPTSIG]),value:t}}o(t0t,"encode");v1.encode=t0t;v1.expected="Buffer";function r0t(t){return Buffer.isBuffer(t)}o(r0t,"check");v1.check=r0t;function n0t(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}o(n0t,"canAdd");v1.canAdd=n0t});var J3e=j(_1=>{"use strict";p();m();Object.defineProperty(_1,"__esModule",{value:!0});var Z3e=ss();function i0t(t){if(t.key[0]!==Z3e.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}o(i0t,"decode");_1.decode=i0t;function o0t(t){return{key:Buffer.from([Z3e.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}o(o0t,"encode");_1.encode=o0t;_1.expected="Buffer";function s0t(t){return Buffer.isBuffer(t)}o(s0t,"check");_1.check=s0t;function a0t(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}o(a0t,"canAdd");_1.canAdd=a0t});var e6e=j(w1=>{"use strict";p();m();Object.defineProperty(w1,"__esModule",{value:!0});var Q3e=ss();function c0t(t){if(t.key[0]!==Q3e.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}o(c0t,"decode");w1.decode=c0t;function f0t(t){return{key:Buffer.from([Q3e.InputTypes.NON_WITNESS_UTXO]),value:t}}o(f0t,"encode");w1.encode=f0t;w1.expected="Buffer";function u0t(t){return Buffer.isBuffer(t)}o(u0t,"check");w1.check=u0t;function l0t(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}o(l0t,"canAdd");w1.canAdd=l0t});var r6e=j(S1=>{"use strict";p();m();Object.defineProperty(S1,"__esModule",{value:!0});var t6e=ss();function d0t(t){if(t.key[0]!==t6e.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}o(d0t,"decode");S1.decode=d0t;function h0t(t){let e=Buffer.from([t6e.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}o(h0t,"encode");S1.encode=h0t;S1.expected="{ pubkey: Buffer; signature: Buffer; }";function p0t(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&m0t(t.signature)}o(p0t,"check");S1.check=p0t;function m0t(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}o(m0t,"isDerSigWithSighash");function g0t(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}o(g0t,"canAddToArray");S1.canAddToArray=g0t});var i6e=j(E1=>{"use strict";p();m();Object.defineProperty(E1,"__esModule",{value:!0});var n6e=ss();function y0t(t){if(t.key[0]!==n6e.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}o(y0t,"decode");E1.decode=y0t;function b0t(t){return{key:Buffer.from([n6e.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}o(b0t,"encode");E1.encode=b0t;E1.expected="string";function x0t(t){return typeof t=="string"}o(x0t,"check");E1.check=x0t;function v0t(t,e){return!!t&&!!e&&t.porCommitment===void 0}o(v0t,"canAdd");E1.canAdd=v0t});var s6e=j(A1=>{"use strict";p();m();Object.defineProperty(A1,"__esModule",{value:!0});var o6e=ss();function _0t(t){if(t.key[0]!==o6e.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}o(_0t,"decode");A1.decode=_0t;function w0t(t){let e=Buffer.from([o6e.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}o(w0t,"encode");A1.encode=w0t;A1.expected="number";function S0t(t){return typeof t=="number"}o(S0t,"check");A1.check=S0t;function E0t(t,e){return!!t&&!!e&&t.sighashType===void 0}o(E0t,"canAdd");A1.canAdd=E0t});var f6e=j(T1=>{"use strict";p();m();Object.defineProperty(T1,"__esModule",{value:!0});var a6e=ss();function A0t(t){if(t.key[0]!==a6e.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!c6e(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}o(A0t,"decode");T1.decode=A0t;function T0t(t){return{key:Buffer.from([a6e.InputTypes.TAP_KEY_SIG]),value:t}}o(T0t,"encode");T1.encode=T0t;T1.expected="Buffer";function c6e(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}o(c6e,"check");T1.check=c6e;function I0t(t,e){return!!t&&!!e&&t.tapKeySig===void 0}o(I0t,"canAdd");T1.canAdd=I0t});var l6e=j(I1=>{"use strict";p();m();Object.defineProperty(I1,"__esModule",{value:!0});var u6e=ss();function R0t(t){if(t.key[0]!==u6e.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}o(R0t,"decode");I1.decode=R0t;function O0t(t){let e=Buffer.from([u6e.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}o(O0t,"encode");I1.encode=O0t;I1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function M0t(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}o(M0t,"check");I1.check=M0t;function N0t(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}o(N0t,"canAddToArray");I1.canAddToArray=N0t});var p6e=j(R1=>{"use strict";p();m();Object.defineProperty(R1,"__esModule",{value:!0});var d6e=ss();function C0t(t){if(t.key[0]!==d6e.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!h6e(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}o(C0t,"decode");R1.decode=C0t;function k0t(t){return{key:Buffer.from([d6e.InputTypes.TAP_MERKLE_ROOT]),value:t}}o(k0t,"encode");R1.encode=k0t;R1.expected="Buffer";function h6e(t){return Buffer.isBuffer(t)&&t.length===32}o(h6e,"check");R1.check=h6e;function B0t(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}o(B0t,"canAdd");R1.canAdd=B0t});var g6e=j(O1=>{"use strict";p();m();Object.defineProperty(O1,"__esModule",{value:!0});var m6e=ss();function P0t(t){if(t.key[0]!==m6e.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}o(P0t,"decode");O1.decode=P0t;function L0t(t){let e=Buffer.from([m6e.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}o(L0t,"encode");O1.encode=L0t;O1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function D0t(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}o(D0t,"check");O1.check=D0t;function U0t(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}o(U0t,"canAddToArray");O1.canAddToArray=U0t});var $m=j(w3=>{"use strict";p();m();Object.defineProperty(w3,"__esModule",{value:!0});var F0t=9007199254740991;function aK(t){if(t<0||t>F0t||t%1!==0)throw new RangeError("value out of range")}o(aK,"checkUInt53");function v3(t,e,r){if(aK(t),e||(e=Buffer.allocUnsafe(y6e(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(v3,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(v3,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(v3,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(v3,{bytes:9})),e}o(v3,"encode");w3.encode=v3;function _3(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(_3,{bytes:1}),r;if(r===253)return Object.assign(_3,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(_3,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(_3,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return aK(s),s}}o(_3,"decode");w3.decode=_3;function y6e(t){return aK(t),t<253?1:t<=65535?3:t<=4294967295?5:9}o(y6e,"encodingLength");w3.encodingLength=y6e});var wO=j(Gm=>{"use strict";p();m();Object.defineProperty(Gm,"__esModule",{value:!0});var _O=$m();Gm.range=t=>[...Array(t).keys()];function H0t(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}o(H0t,"reverseBuffer");Gm.reverseBuffer=H0t;function q0t(t){let e=t.map(b6e);return e.push(Buffer.from([0])),Buffer.concat(e)}o(q0t,"keyValsToBuffer");Gm.keyValsToBuffer=q0t;function b6e(t){let e=t.key.length,r=t.value.length,n=_O.encodingLength(e),i=_O.encodingLength(r),s=Buffer.allocUnsafe(n+e+i+r);return _O.encode(e,s,0),t.key.copy(s,n),_O.encode(r,s,n+e),t.value.copy(s,n+e+i),s}o(b6e,"keyValToBuffer");Gm.keyValToBuffer=b6e;function x6e(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}o(x6e,"verifuint");function V0t(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,x6e(n+r,9007199254740991),n+r}o(V0t,"readUInt64LE");Gm.readUInt64LE=V0t;function j0t(t,e,r){return x6e(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}o(j0t,"writeUInt64LE");Gm.writeUInt64LE=j0t});var w6e=j(M1=>{"use strict";p();m();Object.defineProperty(M1,"__esModule",{value:!0});var v6e=ss(),_6e=wO(),SO=$m();function z0t(t){if(t.key[0]!==v6e.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=_6e.readUInt64LE(t.value,0),r=8,n=SO.decode(t.value,r);r+=SO.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}o(z0t,"decode");M1.decode=z0t;function K0t(t){let{script:e,value:r}=t,n=SO.encodingLength(e.length),i=Buffer.allocUnsafe(8+n+e.length);return _6e.writeUInt64LE(i,r,0),SO.encode(e.length,i,8),e.copy(i,8+n),{key:Buffer.from([v6e.InputTypes.WITNESS_UTXO]),value:i}}o(K0t,"encode");M1.encode=K0t;M1.expected="{ script: Buffer; value: number; }";function $0t(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}o($0t,"check");M1.check=$0t;function G0t(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}o(G0t,"canAdd");M1.canAdd=G0t});var E6e=j(N1=>{"use strict";p();m();Object.defineProperty(N1,"__esModule",{value:!0});var S6e=ss(),cK=$m();function W0t(t){if(t.key[0]!==S6e.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=cK.decode(t.value,e);e+=cK.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}o(W0t,"decode");N1.decode=W0t;function Y0t(t){let e=Buffer.from([S6e.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),cK.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}o(Y0t,"encode");N1.encode=Y0t;N1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function X0t(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}o(X0t,"check");N1.check=X0t;function Z0t(t,e){return!!t&&!!e&&t.tapTree===void 0}o(Z0t,"canAdd");N1.canAdd=Z0t});var uK=j(fK=>{"use strict";p();m();Object.defineProperty(fK,"__esModule",{value:!0});var J0t=o(t=>[...Array(t).keys()],"range"),Q0t=o(t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4,"isValidDERKey");function ept(t,e=Q0t){function r(c){if(c.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+c.key.toString("hex"));let u=c.key.slice(1);if(!e(u))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+c.key.toString("hex"));if(c.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let h={masterFingerprint:c.value.slice(0,4),pubkey:u,path:"m"};for(let y of J0t(c.value.length/4-1)){let g=c.value.readUInt32LE(y*4+4),S=!!(g&2147483648),T=g&2147483647;h.path+="/"+T.toString(10)+(S?"'":"")}return h}o(r,"decode");function n(c){let u=Buffer.from([t]),h=Buffer.concat([u,c.pubkey]),y=c.path.split("/"),g=Buffer.allocUnsafe(y.length*4);c.masterFingerprint.copy(g,0);let S=4;return y.slice(1).forEach(T=>{let O=T.slice(-1)==="'",M=2147483647&parseInt(O?T.slice(0,-1):T,10);O&&(M+=2147483648),g.writeUInt32LE(M,S),S+=4}),{key:h,value:g}}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(c){return Buffer.isBuffer(c.pubkey)&&Buffer.isBuffer(c.masterFingerprint)&&typeof c.path=="string"&&e(c.pubkey)&&c.masterFingerprint.length===4}o(s,"check");function a(c,u,h){let y=u.pubkey.toString("hex");return h.has(y)?!1:(h.add(y),c.filter(g=>g.pubkey.equals(u.pubkey)).length===0)}return o(a,"canAddToArray"),{decode:r,encode:n,check:s,expected:i,canAddToArray:a}}o(ept,"makeConverter");fK.makeConverter=ept});var A6e=j(lK=>{"use strict";p();m();Object.defineProperty(lK,"__esModule",{value:!0});function tpt(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}o(tpt,"makeChecker");lK.makeChecker=tpt});var T6e=j(dK=>{"use strict";p();m();Object.defineProperty(dK,"__esModule",{value:!0});function rpt(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.redeemScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(rpt,"makeConverter");dK.makeConverter=rpt});var I6e=j(hK=>{"use strict";p();m();Object.defineProperty(hK,"__esModule",{value:!0});var EO=$m(),npt=uK(),ipt=o(t=>t.length===32,"isValidBIP340Key");function opt(t){let e=npt.makeConverter(t,ipt);function r(a){let c=EO.decode(a.value),u=EO.encodingLength(c),h=e.decode({key:a.key,value:a.value.slice(u+c*32)}),y=new Array(c);for(let g=0,S=u;g<c;g++,S+=32)y[g]=a.value.slice(S,S+32);return Object.assign({},h,{leafHashes:y})}o(r,"decode");function n(a){let c=e.encode(a),u=EO.encodingLength(a.leafHashes.length),h=Buffer.allocUnsafe(u);EO.encode(a.leafHashes.length,h);let y=Buffer.concat([h,...a.leafHashes,c.value]);return Object.assign({},c,{value:y})}o(n,"encode");let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(a){return Array.isArray(a.leafHashes)&&a.leafHashes.every(c=>Buffer.isBuffer(c)&&c.length===32)&&e.check(a)}return o(s,"check"),{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}o(opt,"makeConverter");hK.makeConverter=opt});var R6e=j(pK=>{"use strict";p();m();Object.defineProperty(pK,"__esModule",{value:!0});function spt(t){function e(a){if(a.key[0]!==t||a.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+a.key.toString("hex"));if(a.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)&&a.length===32}o(i,"check");function s(a,c){return!!a&&!!c&&a.tapInternalKey===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(spt,"makeConverter");pK.makeConverter=spt});var O6e=j(mK=>{"use strict";p();m();Object.defineProperty(mK,"__esModule",{value:!0});function apt(t){function e(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+a.key.toString("hex"));return a.value}o(e,"decode");function r(a){return{key:Buffer.from([t]),value:a}}o(r,"encode");let n="Buffer";function i(a){return Buffer.isBuffer(a)}o(i,"check");function s(a,c){return!!a&&!!c&&a.witnessScript===void 0}return o(s,"canAdd"),{decode:e,encode:r,check:i,expected:n,canAdd:s}}o(apt,"makeConverter");mK.makeConverter=apt});var AO=j(S3=>{"use strict";p();m();Object.defineProperty(S3,"__esModule",{value:!0});var gf=ss(),cpt=G3e(),fpt=W3e(),upt=X3e(),lpt=J3e(),dpt=e6e(),hpt=r6e(),ppt=i6e(),mpt=s6e(),gpt=f6e(),ypt=l6e(),bpt=p6e(),xpt=g6e(),vpt=w6e(),_pt=E6e(),M6e=uK(),gK=A6e(),N6e=T6e(),C6e=I6e(),k6e=R6e(),B6e=O6e(),wpt={unsignedTx:fpt,globalXpub:cpt,checkPubkey:gK.makeChecker([])};S3.globals=wpt;var Spt={nonWitnessUtxo:dpt,partialSig:hpt,sighashType:mpt,finalScriptSig:upt,finalScriptWitness:lpt,porCommitment:ppt,witnessUtxo:vpt,bip32Derivation:M6e.makeConverter(gf.InputTypes.BIP32_DERIVATION),redeemScript:N6e.makeConverter(gf.InputTypes.REDEEM_SCRIPT),witnessScript:B6e.makeConverter(gf.InputTypes.WITNESS_SCRIPT),checkPubkey:gK.makeChecker([gf.InputTypes.PARTIAL_SIG,gf.InputTypes.BIP32_DERIVATION]),tapKeySig:gpt,tapScriptSig:xpt,tapLeafScript:ypt,tapBip32Derivation:C6e.makeConverter(gf.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:k6e.makeConverter(gf.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:bpt};S3.inputs=Spt;var Ept={bip32Derivation:M6e.makeConverter(gf.OutputTypes.BIP32_DERIVATION),redeemScript:N6e.makeConverter(gf.OutputTypes.REDEEM_SCRIPT),witnessScript:B6e.makeConverter(gf.OutputTypes.WITNESS_SCRIPT),checkPubkey:gK.makeChecker([gf.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:C6e.makeConverter(gf.OutputTypes.TAP_BIP32_DERIVATION),tapTree:_pt,tapInternalKey:k6e.makeConverter(gf.OutputTypes.TAP_INTERNAL_KEY)};S3.outputs=Ept});var D6e=j(E3=>{"use strict";p();m();Object.defineProperty(E3,"__esModule",{value:!0});var xi=AO(),TO=wO(),P6e=$m(),_r=ss();function Apt(t,e){let r=0;function n(){let k=P6e.decode(t,r);r+=P6e.encodingLength(k);let C=t.slice(r,r+k);return r+=k,C}o(n,"varSlice");function i(){let k=t.readUInt32BE(r);return r+=4,k}o(i,"readUInt32BE");function s(){let k=t.readUInt8(r);return r+=1,k}o(s,"readUInt8");function a(){let k=n(),C=n();return{key:k,value:C}}o(a,"getKeyValue");function c(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let k=t.readUInt8(r)===0;return k&&r++,k}if(o(c,"checkEndOfKeyValPairs"),i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let u=[],h={};for(;!c();){let k=a(),C=k.key.toString("hex");if(h[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);h[C]=1,u.push(k)}let y=u.filter(k=>k.key[0]===_r.GlobalTypes.UNSIGNED_TX);if(y.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let g=e(y[0].value),{inputCount:S,outputCount:T}=g.getInputOutputCounts(),O=[],M=[];for(let k of TO.range(S)){let C={},B=[];for(;!c();){let N=a(),P=N.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each input: input index "+k+" key "+P);C[P]=1,B.push(N)}O.push(B)}for(let k of TO.range(T)){let C={},B=[];for(;!c();){let N=a(),P=N.key.toString("hex");if(C[P])throw new Error("Format Error: Keys must be unique for each output: output index "+k+" key "+P);C[P]=1,B.push(N)}M.push(B)}return L6e(g,{globalMapKeyVals:u,inputKeyVals:O,outputKeyVals:M})}o(Apt,"psbtFromBuffer");E3.psbtFromBuffer=Apt;function Os(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}o(Os,"checkKeyBuffer");E3.checkKeyBuffer=Os;function L6e(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let y of e)switch(y.key[0]){case _r.GlobalTypes.UNSIGNED_TX:if(Os("global",y.key,_r.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case _r.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(xi.globals.globalXpub.decode(y));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(y)}let a=r.length,c=n.length,u=[],h=[];for(let y of TO.range(a)){let g={};for(let S of r[y])switch(xi.inputs.checkPubkey(S),S.key[0]){case _r.InputTypes.NON_WITNESS_UTXO:if(Os("input",S.key,_r.InputTypes.NON_WITNESS_UTXO),g.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");g.nonWitnessUtxo=xi.inputs.nonWitnessUtxo.decode(S);break;case _r.InputTypes.WITNESS_UTXO:if(Os("input",S.key,_r.InputTypes.WITNESS_UTXO),g.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");g.witnessUtxo=xi.inputs.witnessUtxo.decode(S);break;case _r.InputTypes.PARTIAL_SIG:g.partialSig===void 0&&(g.partialSig=[]),g.partialSig.push(xi.inputs.partialSig.decode(S));break;case _r.InputTypes.SIGHASH_TYPE:if(Os("input",S.key,_r.InputTypes.SIGHASH_TYPE),g.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");g.sighashType=xi.inputs.sighashType.decode(S);break;case _r.InputTypes.REDEEM_SCRIPT:if(Os("input",S.key,_r.InputTypes.REDEEM_SCRIPT),g.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");g.redeemScript=xi.inputs.redeemScript.decode(S);break;case _r.InputTypes.WITNESS_SCRIPT:if(Os("input",S.key,_r.InputTypes.WITNESS_SCRIPT),g.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");g.witnessScript=xi.inputs.witnessScript.decode(S);break;case _r.InputTypes.BIP32_DERIVATION:g.bip32Derivation===void 0&&(g.bip32Derivation=[]),g.bip32Derivation.push(xi.inputs.bip32Derivation.decode(S));break;case _r.InputTypes.FINAL_SCRIPTSIG:Os("input",S.key,_r.InputTypes.FINAL_SCRIPTSIG),g.finalScriptSig=xi.inputs.finalScriptSig.decode(S);break;case _r.InputTypes.FINAL_SCRIPTWITNESS:Os("input",S.key,_r.InputTypes.FINAL_SCRIPTWITNESS),g.finalScriptWitness=xi.inputs.finalScriptWitness.decode(S);break;case _r.InputTypes.POR_COMMITMENT:Os("input",S.key,_r.InputTypes.POR_COMMITMENT),g.porCommitment=xi.inputs.porCommitment.decode(S);break;case _r.InputTypes.TAP_KEY_SIG:Os("input",S.key,_r.InputTypes.TAP_KEY_SIG),g.tapKeySig=xi.inputs.tapKeySig.decode(S);break;case _r.InputTypes.TAP_SCRIPT_SIG:g.tapScriptSig===void 0&&(g.tapScriptSig=[]),g.tapScriptSig.push(xi.inputs.tapScriptSig.decode(S));break;case _r.InputTypes.TAP_LEAF_SCRIPT:g.tapLeafScript===void 0&&(g.tapLeafScript=[]),g.tapLeafScript.push(xi.inputs.tapLeafScript.decode(S));break;case _r.InputTypes.TAP_BIP32_DERIVATION:g.tapBip32Derivation===void 0&&(g.tapBip32Derivation=[]),g.tapBip32Derivation.push(xi.inputs.tapBip32Derivation.decode(S));break;case _r.InputTypes.TAP_INTERNAL_KEY:Os("input",S.key,_r.InputTypes.TAP_INTERNAL_KEY),g.tapInternalKey=xi.inputs.tapInternalKey.decode(S);break;case _r.InputTypes.TAP_MERKLE_ROOT:Os("input",S.key,_r.InputTypes.TAP_MERKLE_ROOT),g.tapMerkleRoot=xi.inputs.tapMerkleRoot.decode(S);break;default:g.unknownKeyVals||(g.unknownKeyVals=[]),g.unknownKeyVals.push(S)}u.push(g)}for(let y of TO.range(c)){let g={};for(let S of n[y])switch(xi.outputs.checkPubkey(S),S.key[0]){case _r.OutputTypes.REDEEM_SCRIPT:if(Os("output",S.key,_r.OutputTypes.REDEEM_SCRIPT),g.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");g.redeemScript=xi.outputs.redeemScript.decode(S);break;case _r.OutputTypes.WITNESS_SCRIPT:if(Os("output",S.key,_r.OutputTypes.WITNESS_SCRIPT),g.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");g.witnessScript=xi.outputs.witnessScript.decode(S);break;case _r.OutputTypes.BIP32_DERIVATION:g.bip32Derivation===void 0&&(g.bip32Derivation=[]),g.bip32Derivation.push(xi.outputs.bip32Derivation.decode(S));break;case _r.OutputTypes.TAP_INTERNAL_KEY:Os("output",S.key,_r.OutputTypes.TAP_INTERNAL_KEY),g.tapInternalKey=xi.outputs.tapInternalKey.decode(S);break;case _r.OutputTypes.TAP_TREE:Os("output",S.key,_r.OutputTypes.TAP_TREE),g.tapTree=xi.outputs.tapTree.decode(S);break;case _r.OutputTypes.TAP_BIP32_DERIVATION:g.tapBip32Derivation===void 0&&(g.tapBip32Derivation=[]),g.tapBip32Derivation.push(xi.outputs.tapBip32Derivation.decode(S));break;default:g.unknownKeyVals||(g.unknownKeyVals=[]),g.unknownKeyVals.push(S)}h.push(g)}return{globalMap:i,inputs:u,outputs:h}}o(L6e,"psbtFromKeyVals");E3.psbtFromKeyVals=L6e});var H6e=j(IO=>{"use strict";p();m();Object.defineProperty(IO,"__esModule",{value:!0});var yK=AO(),U6e=wO();function Tpt({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=F6e({globalMap:t,inputs:e,outputs:r}),a=U6e.keyValsToBuffer(n),c=o(g=>g.length===0?[Buffer.from([0])]:g.map(U6e.keyValsToBuffer),"keyValsOrEmptyToBuffer"),u=c(i),h=c(s),y=Buffer.allocUnsafe(5);return y.writeUIntBE(482972169471,0,5),Buffer.concat([y,a].concat(u,h))}o(Tpt,"psbtToBuffer");IO.psbtToBuffer=Tpt;var Ipt=o((t,e)=>t.key.compare(e.key),"sortKeyVals");function bK(t,e){let r=new Set,n=Object.entries(t).reduce((s,[a,c])=>{if(a==="unknownKeyVals")return s;let u=e[a];if(u===void 0)return s;let h=(Array.isArray(c)?c:[c]).map(u.encode);return h.map(g=>g.key.toString("hex")).forEach(g=>{if(r.has(g))throw new Error("Serialize Error: Duplicate key: "+g);r.add(g)}),s.concat(h)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(Ipt)}o(bK,"keyValsFromMap");function F6e({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:bK(t,yK.globals),inputKeyVals:e.map(n=>bK(n,yK.inputs)),outputKeyVals:r.map(n=>bK(n,yK.outputs))}}o(F6e,"psbtToKeyVals");IO.psbtToKeyVals=F6e});var xK=j(RO=>{"use strict";p();m();function q6e(t){for(var e in t)RO.hasOwnProperty(e)||(RO[e]=t[e])}o(q6e,"__export");Object.defineProperty(RO,"__esModule",{value:!0});q6e(D6e());q6e(H6e())});var j6e=j(wK=>{"use strict";p();m();Object.defineProperty(wK,"__esModule",{value:!0});var vK=xK();function Rpt(t){let e=t[0],r=vK.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=V6e(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=T2(r.globalKeyVals),a=r.inputKeyVals.map(T2),c=r.outputKeyVals.map(T2);for(let u of n){let h=V6e(u);if(h===void 0||!h.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let y=vK.psbtToKeyVals(u);T2(y.globalKeyVals).forEach(_K(s,r.globalKeyVals,y.globalKeyVals)),y.inputKeyVals.map(T2).forEach((O,M)=>O.forEach(_K(a[M],r.inputKeyVals[M],y.inputKeyVals[M]))),y.outputKeyVals.map(T2).forEach((O,M)=>O.forEach(_K(c[M],r.outputKeyVals[M],y.outputKeyVals[M])))}return vK.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}o(Rpt,"combine");wK.combine=Rpt;function _K(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}o(_K,"keyPusher");function V6e(t){return t.globalMap.unsignedTx}o(V6e,"getTx");function T2(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}o(T2,"getKeySet")});var EK=j(Aa=>{"use strict";p();m();Object.defineProperty(Aa,"__esModule",{value:!0});var Opt=AO();function K6e(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}o(K6e,"checkForInput");Aa.checkForInput=K6e;function $6e(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}o($6e,"checkForOutput");Aa.checkForOutput=$6e;function Mpt(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}o(Mpt,"checkHasKey");Aa.checkHasKey=Mpt;function Npt(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}o(Npt,"getEnumLength");Aa.getEnumLength=Npt;function Cpt(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,c=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&a&&c}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}o(Cpt,"inputCheckUncleanFinalized");Aa.inputCheckUncleanFinalized=Cpt;function z6e(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}o(z6e,"throwForUpdateMaker");function SK(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:a,check:c,expected:u}=Opt[t+"s"][n]||{},h=!!a;if(c)if(h){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(c)||z6e(t,n,u,i);let y=r[n]||[],g=new Set;if(!i.every(S=>a(y,S,g)))throw new Error("Can not add duplicate data to array");r[n]=y.concat(i)}else{if(c(i)||z6e(t,n,u,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}o(SK,"updateMaker");Aa.updateGlobal=SK("global");Aa.updateInput=SK("input");Aa.updateOutput=SK("output");function kpt(t,e){let r=t.length-1,n=K6e(t,r);Aa.updateInput(e,n)}o(kpt,"addInputAttributes");Aa.addInputAttributes=kpt;function Bpt(t,e){let r=t.length-1,n=$6e(t,r);Aa.updateOutput(e,n)}o(Bpt,"addOutputAttributes");Aa.addOutputAttributes=Bpt;function Ppt(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}o(Ppt,"defaultVersionSetter");Aa.defaultVersionSetter=Ppt;function Lpt(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}o(Lpt,"defaultLocktimeSetter");Aa.defaultLocktimeSetter=Lpt});var W6e=j(IK=>{"use strict";p();m();Object.defineProperty(IK,"__esModule",{value:!0});var Dpt=j6e(),G6e=xK(),AK=ss(),Ms=EK(),TK=class{static{o(this,"Psbt")}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=G6e.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return G6e.psbtToBuffer(this)}updateGlobal(e){return Ms.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=Ms.checkForInput(this.inputs,e);return Ms.updateInput(r,n),this}updateOutput(e,r){let n=Ms.checkForOutput(this.outputs,e);return Ms.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return Ms.checkHasKey(e,this.globalMap.unknownKeyVals,Ms.getEnumLength(AK.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=Ms.checkForInput(this.inputs,e);return Ms.checkHasKey(r,n.unknownKeyVals,Ms.getEnumLength(AK.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=Ms.checkForOutput(this.outputs,e);return Ms.checkHasKey(r,n.unknownKeyVals,Ms.getEnumLength(AK.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),Ms.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToOutput(n,i)),Ms.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=Ms.checkForInput(this.inputs,e);Ms.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Dpt.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};IK.Psbt=TK});var MO=j(ai=>{"use strict";p();m();Object.defineProperty(ai,"__esModule",{value:!0});ai.signatureBlocksAction=ai.checkInputForSig=ai.pubkeyInScript=ai.pubkeyPositionInScript=ai.witnessStackToScriptWitness=ai.isP2TR=ai.isP2SHScript=ai.isP2WSHScript=ai.isP2WPKH=ai.isP2PKH=ai.isP2PK=ai.isP2MS=void 0;var Y6e=$m(),A3=Ka(),OO=A2(),Upt=zd(),C1=S2();function k1(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}o(k1,"isPaymentFactory");ai.isP2MS=k1(C1.p2ms);ai.isP2PK=k1(C1.p2pk);ai.isP2PKH=k1(C1.p2pkh);ai.isP2WPKH=k1(C1.p2wpkh);ai.isP2WSHScript=k1(C1.p2wsh);ai.isP2SHScript=k1(C1.p2sh);ai.isP2TR=k1(C1.p2tr);function Fpt(t){let e=Buffer.allocUnsafe(0);function r(a){e=Buffer.concat([e,Buffer.from(a)])}o(r,"writeSlice");function n(a){let c=e.length,u=Y6e.encodingLength(a);e=Buffer.concat([e,Buffer.allocUnsafe(u)]),Y6e.encode(a,e,c)}o(n,"writeVarInt");function i(a){n(a.length),r(a)}o(i,"writeVarSlice");function s(a){n(a.length),a.forEach(i)}return o(s,"writeVector"),s(t),e}o(Fpt,"witnessStackToScriptWitness");ai.witnessStackToScriptWitness=Fpt;function X6e(t,e){let r=(0,Upt.hash160)(t),n=t.slice(1,33),i=A3.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}o(X6e,"pubkeyPositionInScript");ai.pubkeyPositionInScript=X6e;function Hpt(t,e){return X6e(t,e)!==-1}o(Hpt,"pubkeyInScript");ai.pubkeyInScript=Hpt;function qpt(t,e){return Vpt(t).some(n=>Z6e(n,A3.signature.decode,e))}o(qpt,"checkInputForSig");ai.checkInputForSig=qpt;function Z6e(t,e,r){let{hashType:n}=e(t),i=[];switch(n&OO.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case OO.Transaction.SIGHASH_ALL:break;case OO.Transaction.SIGHASH_SINGLE:case OO.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}o(Z6e,"signatureBlocksAction");ai.signatureBlocksAction=Z6e;function Vpt(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=jpt(t)}else e=t.partialSig;return e.map(r=>r.signature)}o(Vpt,"extractPartialSigs");function jpt(t){let e=t.finalScriptSig?A3.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?A3.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&A3.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}o(jpt,"getPsigsFromInputFinalScripts")});var Q6e=j(Ri=>{"use strict";p();m();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.checkTaprootInputForSigs=Ri.tapTreeFromList=Ri.tapTreeToList=Ri.tweakInternalPubKey=Ri.checkTaprootOutputFields=Ri.checkTaprootInputFields=Ri.isTaprootOutput=Ri.isTaprootInput=Ri.serializeTaprootSignature=Ri.tapScriptFinalizer=Ri.toXOnly=void 0;var NK=Is(),zpt=A2(),kO=MO(),Wm=hO(),Kpt=S2(),$pt=MO(),Gpt=o(t=>t.length===32?t:t.slice(1,33),"toXOnly");Ri.toXOnly=Gpt;function Wpt(t,e,r){let n=dmt(e,t,r);try{let s=umt(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,kO.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}o(Wpt,"tapScriptFinalizer");Ri.tapScriptFinalizer=Wpt;function Ypt(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}o(Ypt,"serializeTaprootSignature");Ri.serializeTaprootSignature=Ypt;function NO(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,kO.isP2TR)(t.witnessUtxo.script))}o(NO,"isTaprootInput");Ri.isTaprootInput=NO;function CO(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,kO.isP2TR)(e))}o(CO,"isTaprootOutput");Ri.isTaprootOutput=CO;function Xpt(t,e,r){amt(t,e,r),fmt(t,e,r)}o(Xpt,"checkTaprootInputFields");Ri.checkTaprootInputFields=Xpt;function Zpt(t,e,r){cmt(t,e,r),Jpt(t,e)}o(Zpt,"checkTaprootOutputFields");Ri.checkTaprootOutputFields=Zpt;function Jpt(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=Qpt(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}o(Jpt,"checkTaprootScriptPubkey");function Qpt(t,e){let r=e&&J6e(e.leaves),{output:n}=(0,Kpt.p2tr)({internalPubkey:t,scriptTree:r});return n}o(Qpt,"getTaprootScripPubkey");function emt(t,e){let r=e.tapInternalKey,n=r&&(0,Wm.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}o(emt,"tweakInternalPubKey");Ri.tweakInternalPubKey=emt;function tmt(t){if(!(0,NK.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return OK(t)}o(tmt,"tapTreeToList");Ri.tapTreeToList=tmt;function J6e(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:smt(t)}o(J6e,"tapTreeFromList");Ri.tapTreeFromList=J6e;function rmt(t,e){return imt(t).some(n=>(0,$pt.signatureBlocksAction)(n,nmt,e))}o(rmt,"checkTaprootInputForSigs");Ri.checkTaprootInputForSigs=rmt;function nmt(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||zpt.Transaction.SIGHASH_DEFAULT}}o(nmt,"decodeSchnorrSignature");function imt(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=omt(t.finalScriptWitness);r&&e.push(r)}return e}o(imt,"extractTaprootSigs");function omt(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}o(omt,"getTapKeySigFromWithness");function OK(t,e=[],r=0){if(r>Wm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,NK.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Wm.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&OK(t[0],e,r+1),t[1]&&OK(t[1],e,r+1),e):[]}o(OK,"_tapTreeToList");function smt(t){let e;for(let r of t)if(e=MK(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}o(smt,"instertLeavesInTree");function MK(t,e,r=0){if(r>Wm.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,NK.isTapleaf)(e))return;let n=MK(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=MK(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}o(MK,"instertLeafInTree");function amt(t,e,r){let n=NO(t)&&I2(e),i=I2(t)&&NO(e),s=t===e&&NO(e)&&I2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(amt,"checkMixedTaprootAndNonTaprootInputFields");function cmt(t,e,r){let n=CO(t)&&I2(e),i=I2(t)&&CO(e),s=t===e&&CO(e)&&I2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}o(cmt,"checkMixedTaprootAndNonTaprootOutputFields");function fmt(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>RK(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>RK(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>RK(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}o(fmt,"checkIfTapLeafInTree");function RK(t,e){if(!e)return!0;let r=(0,Wm.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Wm.rootHashFromPath)(t.controlBlock,r).equals(e)}o(RK,"isTapLeafInTree");function umt(t,e){let r=(0,Wm.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>lmt(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}o(umt,"sortSignatures");function lmt(t,e){return Object.assign({positionInScript:(0,kO.pubkeyPositionInScript)(e.pubkey,t)},e)}o(lmt,"addPubkeyPositionInScript");function dmt(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>hmt(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}o(dmt,"findTapLeafToFinalize");function hmt(t,e,r){let n=(0,Wm.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}o(hmt,"canFinalizeLeaf");function I2(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}o(I2,"hasNonTaprootFields")});var SAe=j(HO=>{"use strict";p();m();Object.defineProperty(HO,"__esModule",{value:!0});HO.Psbt=void 0;var eAe=W6e(),tAe=$m(),Xa=EK(),rAe=tK(),PO=x3(),pmt=hu(),gu=S2(),mmt=hO(),b0=Ka(),Ns=A2(),Ui=Q6e(),Eo=MO(),gmt={network:pmt.bitcoin,maximumFeeRate:5e3},kK=class t{static{o(this,"Psbt")}static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=eAe.Psbt.fromBuffer(e,ymt),i=new t(r,n);return wmt(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new eAe.Psbt(new LO)){this.data=r,this.opts=Object.assign({},gmt,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=o((i,s,a,c)=>Object.defineProperty(i,s,{enumerable:a,writable:c}),"dpew");n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,PO.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,rAe.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,PO.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){BO(e),this.opts.maximumFeeRate=e}setVersion(e){BO(e),T3(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){BO(e),T3(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){BO(r),T3(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Ui.checkTaprootInputFields)(e,e,"addInput"),T3(this.data.inputs,"addInput"),e.witnessScript&&DO(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];hAe(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&PK(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");T3(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,rAe.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Ui.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(lAe))throw new Error("Not finalized");let r=this.__CACHE;if(e||xmt(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return xAe(this.data.inputs,n,r,!0),n}getFeeRate(){return aAe("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return aAe("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Xa.checkForInput)(this.data.inputs,0),I3(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Xa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Ui.tapScriptFinalizer){let i=(0,Xa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Smt){let{script:i,isP2SH:s,isP2WSH:a,isSegwit:c}=Imt(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);vmt(r);let{finalScriptSig:u,finalScriptWitness:h}=n(e,r,i,c,s,a);if(u&&this.data.updateInput(e,{finalScriptSig:u}),h&&this.data.updateInput(e,{finalScriptWitness:h}),!u&&!h)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Ui.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=gu.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),a=(0,Eo.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:a})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Xa.checkForInput)(this.data.inputs,e),n=vAe(e,r,this.__CACHE),i=FO(n,e,"input",r.redeemScript||Cmt(r.finalScriptSig),r.witnessScript||kmt(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",a=wAe(i.meaningfulScript);return s+a}inputHasPubkey(e,r){let n=(0,Xa.checkForInput)(this.data.inputs,e);return Mmt(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Xa.checkForInput)(this.data.inputs,e),i=iAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Xa.checkForOutput)(this.data.outputs,e);return Nmt(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Xa.checkForOutput)(this.data.outputs,e),i=iAe(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Xa.checkForInput)(this.data.inputs,0),I3(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Ui.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let a=n?s.filter(g=>g.pubkey.equals(n)):s;if(a.length<1)throw new Error("No signatures for this pubkey");let c=[],u,h,y;for(let g of a){let S=b0.signature.decode(g.signature),{hash:T,script:O}=y!==S.hashType?mAe(e,Object.assign({},i,{sighashType:S.hashType}),this.__CACHE,!0):{hash:u,script:h};y=S.hashType,u=T,h=O,dAe(g.pubkey,O,"verify"),c.push(r(g.pubkey,T,S.signature))}return c.every(g=>g===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,a=(i||{}).tapScriptSig;if(!i&&!s&&!(a&&!a.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Ui.toXOnly)(n);let c=n?BK(e,i,this.data.inputs,n,this.__CACHE):Amt(e,i,this.data.inputs,this.__CACHE);if(!c.length)throw new Error("No signatures for this pubkey");let u=c.find(y=>!y.leafHash),h=0;if(s&&u){if(!r(u.pubkey,u.hash,fAe(s)))return!1;h++}if(a)for(let y of a){let g=c.find(S=>y.pubkey.equals(S.pubkey));if(g){if(!r(y.pubkey,g.hash,fAe(y.signature)))return!1;h++}}return h>0}signAllInputsHD(e,r=[Ns.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of I3(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Ns.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],a=[];for(let c of I3(this.data.inputs.length))a.push(this.signInputHDAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Ns.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return uAe(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Ns.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let c=uAe(e,this.data.inputs,r).map(u=>this.signInputAsync(e,u,n));return Promise.all(c).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of I3(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],a=[];for(let[c]of this.data.inputs.entries())a.push(this.signInputAsync(c,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(a).then(()=>{if(s.every(c=>c===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Xa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(i)?this._signTaprootInput(e,i,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Xa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[Ns.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=cAe(this.data.inputs,e,r.publicKey,this.__CACHE,n),a=[{pubkey:r.publicKey,signature:b0.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:a}),this}_signTaprootInput(e,r,n,i,s=[Ns.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=a.filter(h=>!h.leafHash).map(h=>(0,Ui.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType))[0],u=a.filter(h=>!!h.leafHash).map(h=>({pubkey:(0,Ui.toXOnly)(n.publicKey),signature:(0,Ui.serializeTaprootSignature)(n.signSchnorr(h.hash),r.sighashType),leafHash:h.leafHash}));return c&&this.data.updateInput(e,{tapKeySig:c}),u.length&&this.data.updateInput(e,{tapScriptSig:u}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Xa.checkForInput)(this.data.inputs,e);return(0,Ui.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Xa.checkForInput)(this.data.inputs,e);if((0,Ui.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Ns.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=cAe(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(a=>{let c=[{pubkey:r.publicKey,signature:b0.signature.encode(a,s)}];this.data.updateInput(e,{partialSig:c})})}async _signTaprootInputAsync(e,r,n,i,s=[Ns.Transaction.SIGHASH_DEFAULT]){let a=this.checkTaprootHashesForSig(e,r,n,i,s),c=[],u=a.filter(y=>!y.leafHash)[0];if(u){let y=Promise.resolve(n.signSchnorr(u.hash)).then(g=>({tapKeySig:(0,Ui.serializeTaprootSignature)(g,r.sighashType)}));c.push(y)}let h=a.filter(y=>!!y.leafHash);if(h.length){let y=h.map(g=>Promise.resolve(n.signSchnorr(g.hash)).then(S=>({tapScriptSig:[{pubkey:(0,Ui.toXOnly)(n.publicKey),signature:(0,Ui.serializeTaprootSignature)(S,r.sighashType),leafHash:g.leafHash}]})));c.push(...y)}return Promise.all(c).then(y=>{y.forEach(g=>this.data.updateInput(e,g))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let a=BK(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!a||!a.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return a}toBuffer(){return CK(this.__CACHE),this.data.toBuffer()}toHex(){return CK(this.__CACHE),this.data.toHex()}toBase64(){return CK(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&DO(r.witnessScript),(0,Ui.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&PK(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Ui.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};HO.Psbt=kK;var ymt=o(t=>new LO(t),"transactionFromBuffer"),LO=class{static{o(this,"PsbtTransaction")}constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Ns.Transaction.fromBuffer(e),_mt(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,PO.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function bmt(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return nAe(1,t.partialSig);case"multisig":let n=gu.p2ms({output:e});return nAe(n.m,t.partialSig,n.pubkeys);default:return!1}}o(bmt,"canFinalize");function CK(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}o(CK,"checkCache");function nAe(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Bmt(i);return e.find(a=>a.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}o(nAe,"hasSigs");function lAe(t){return!!t.finalScriptSig||!!t.finalScriptWitness}o(lAe,"isFinalized");function iAe(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}o(iAe,"bip32DerivationIsMine");function BO(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}o(BO,"check32Bit");function xmt(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}o(xmt,"checkFees");function T3(t,e){t.forEach(r=>{if((0,Ui.isTaprootInput)(r)?(0,Ui.checkTaprootInputForSigs)(r,e):(0,Eo.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}o(T3,"checkInputsForPartialSig");function vmt(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=b0.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}o(vmt,"checkPartialSigSighashes");function dAe(t,e,r){if(!(0,Eo.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}o(dAe,"checkScriptForPubkey");function _mt(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}o(_mt,"checkTxEmpty");function wmt(t,e){t.ins.forEach(r=>{hAe(e,r)})}o(wmt,"checkTxForDupeIns");function hAe(t,e){let r=(0,PO.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}o(hAe,"checkTxInputCache");function pAe(t,e){return(r,n,i,s)=>{let a=t({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}o(pAe,"scriptCheckerFactory");var oAe=pAe(gu.p2sh,"Redeem script"),sAe=pAe(gu.p2wsh,"Witness script");function aAe(t,e,r,n){if(!r.every(lAe))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),xAe(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}o(aAe,"getTxCacheValue");function Smt(t,e,r,n,i,s){let a=wAe(r);if(!bmt(e,r,a))throw new Error(`Can not finalize input #${t}`);return Emt(r,a,e.partialSig,n,i,s)}o(Smt,"getFinalScripts");function Emt(t,e,r,n,i,s){let a,c,u=Tmt(t,e,r),h=s?gu.p2wsh({redeem:u}):null,y=i?gu.p2sh({redeem:h||u}):null;return n?(h?c=(0,Eo.witnessStackToScriptWitness)(h.witness):c=(0,Eo.witnessStackToScriptWitness)(u.witness),y&&(a=y.input)):y?a=y.input:a=u.input,{finalScriptSig:a,finalScriptWitness:c}}o(Emt,"prepareFinalScripts");function cAe(t,e,r,n,i){let s=(0,Xa.checkForInput)(t,e),{hash:a,sighashType:c,script:u}=mAe(e,s,n,!1,i);return dAe(r,u,"sign"),{hash:a,sighashType:c}}o(cAe,"getHashAndSighashType");function mAe(t,e,r,n,i){let s=r.__TX,a=e.sighashType||Ns.Transaction.SIGHASH_ALL;yAe(a,i);let c,u;if(e.nonWitnessUtxo){let g=UO(r,e,t),S=s.ins[t].hash,T=g.getHash();if(!S.equals(T))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let O=s.ins[t].index;u=g.outs[O]}else if(e.witnessUtxo)u=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:h,type:y}=FO(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(y)>=0)c=s.hashForWitnessV0(t,h,u.value,a);else if((0,Eo.isP2WPKH)(h)){let g=gu.p2pkh({hash:h.slice(2)}).output;c=s.hashForWitnessV0(t,g,u.value,a)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${h.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),c=s.hashForSignature(t,h,a)}return{script:h,sighashType:a,hash:c}}o(mAe,"getHashForSig");function Amt(t,e,r,n){let i=[];if(e.tapInternalKey){let a=gAe(t,e,n);a&&i.push(a)}if(e.tapScriptSig){let a=e.tapScriptSig.map(c=>c.pubkey);i.push(...a)}return i.map(a=>BK(t,e,r,a,n)).flat()}o(Amt,"getAllTaprootHashesForSig");function gAe(t,e,r){let{script:n}=LK(t,e,r);return(0,Eo.isP2TR)(n)?n.subarray(2,34):null}o(gAe,"getPrevoutTaprootKey");function fAe(t){return t.length===64?t:t.subarray(0,64)}o(fAe,"trimTaprootSig");function BK(t,e,r,n,i,s,a){let c=i.__TX,u=e.sighashType||Ns.Transaction.SIGHASH_DEFAULT;yAe(u,a);let h=r.map((O,M)=>LK(M,O,i)),y=h.map(O=>O.script),g=h.map(O=>O.value),S=[];if(e.tapInternalKey&&!s){let O=gAe(t,e,i)||Buffer.from([]);if((0,Ui.toXOnly)(n).equals(O)){let M=c.hashForWitnessV1(t,y,g,u);S.push({pubkey:n,hash:M})}}let T=(e.tapLeafScript||[]).filter(O=>(0,Eo.pubkeyInScript)(n,O.script)).map(O=>{let M=(0,mmt.tapleafHash)({output:O.script,version:O.leafVersion});return Object.assign({hash:M},O)}).filter(O=>!s||s.equals(O.hash)).map(O=>{let M=c.hashForWitnessV1(t,y,g,Ns.Transaction.SIGHASH_DEFAULT,O.hash);return{pubkey:n,hash:M,leafHash:O.hash}});return S.concat(T)}o(BK,"getTaprootHashesForSig");function yAe(t,e){if(e&&e.indexOf(t)<0){let r=Omt(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}o(yAe,"checkSighashTypeAllowed");function Tmt(t,e,r){let n;switch(e){case"multisig":let i=Rmt(t,r);n=gu.p2ms({output:t,signatures:i});break;case"pubkey":n=gu.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=gu.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=gu.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}o(Tmt,"getPayment");function Imt(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=UO(r,e,t),a=n.ins[t].index;i.script=s.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Eo.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}o(Imt,"getScriptFromInput");function uAe(t,e,r){let n=(0,Xa.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(a=>{if(a.masterFingerprint.equals(r.fingerprint))return a}).filter(a=>!!a);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(a=>{let c=r.derivePath(a.path);if(!a.pubkey.equals(c.publicKey))throw new Error("pubkey did not match bip32Derivation");return c})}o(uAe,"getSignersFromHD");function Rmt(t,e){return gu.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}o(Rmt,"getSortedSigs");function bAe(t){let e=0;function r(a){return e+=a,t.slice(e-a,e)}o(r,"readSlice");function n(){let a=tAe.decode(t,e);return e+=tAe.decode.bytes,a}o(n,"readVarInt");function i(){return r(n())}o(i,"readVarSlice");function s(){let a=n(),c=[];for(let u=0;u<a;u++)c.push(i());return c}return o(s,"readVector"),s()}o(bAe,"scriptWitnessToWitnessStack");function Omt(t){let e=t&Ns.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Ns.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Ns.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Ns.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}o(Omt,"sighashTypeToString");function PK(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Ns.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let a=i.__NON_WITNESS_UTXO_BUF_CACHE[s],c=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(a!==void 0)return a;{let u=c.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=u,u}},set(a){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=a}})}o(PK,"addNonWitnessTxCache");function xAe(t,e,r,n){let i=0;t.forEach((u,h)=>{if(n&&u.finalScriptSig&&(e.ins[h].script=u.finalScriptSig),n&&u.finalScriptWitness&&(e.ins[h].witness=bAe(u.finalScriptWitness)),u.witnessUtxo)i+=u.witnessUtxo.value;else if(u.nonWitnessUtxo){let y=UO(r,u,h),g=e.ins[h].index,S=y.outs[g];i+=S.value}});let s=e.outs.reduce((u,h)=>u+h.value,0),a=i-s;if(a<0)throw new Error("Outputs are spending more than Inputs");let c=e.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(a/c)}o(xAe,"inputFinalizeGetAmts");function UO(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||PK(t,e,r),n[r]}o(UO,"nonWitnessUtxoTxFromCache");function vAe(t,e,r){let{script:n}=LK(t,e,r);return n}o(vAe,"getScriptFromUtxo");function LK(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=UO(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}o(LK,"getScriptAndAmountFromUtxo");function Mmt(t,e,r,n){let i=vAe(r,e,n),{meaningfulScript:s}=FO(i,r,"input",e.redeemScript,e.witnessScript);return(0,Eo.pubkeyInScript)(t,s)}o(Mmt,"pubkeyInInput");function Nmt(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=FO(i,r,"output",e.redeemScript,e.witnessScript);return(0,Eo.pubkeyInScript)(t,s)}o(Nmt,"pubkeyInOutput");function Cmt(t){if(!t)return;let e=b0.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||_Ae(r)||Pmt(r)||!b0.decompile(r)))return r}o(Cmt,"redeemFromFinalScriptSig");function kmt(t){if(!t)return;let e=bAe(t),r=e[e.length-1];if(!(_Ae(r)||!b0.decompile(r)))return r}o(kmt,"redeemFromFinalWitnessScript");function Bmt(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}o(Bmt,"compressPubkey");function _Ae(t){return t.length===33&&b0.isCanonicalPubKey(t)}o(_Ae,"isPubkeyLike");function Pmt(t){return b0.isCanonicalScriptSignature(t)}o(Pmt,"isSigLike");function FO(t,e,r,n,i){let s=(0,Eo.isP2SHScript)(t),a=s&&n&&(0,Eo.isP2WSHScript)(n),c=(0,Eo.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((c||a)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return a?(u=i,oAe(e,t,n,r),sAe(e,n,i,r),DO(u)):c?(u=i,sAe(e,t,i,r),DO(u)):s?(u=n,oAe(e,t,n,r)):u=t,{meaningfulScript:u,type:a?"p2sh-p2wsh":s?"p2sh":c?"p2wsh":"raw"}}o(FO,"getMeaningfulScript");function DO(t){if((0,Eo.isP2WPKH)(t)||(0,Eo.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}o(DO,"checkInvalidP2WSH");function wAe(t){return(0,Eo.isP2WPKH)(t)?"witnesspubkeyhash":(0,Eo.isP2PKH)(t)?"pubkeyhash":(0,Eo.isP2MS)(t)?"multisig":(0,Eo.isP2PK)(t)?"pubkey":"nonstandard"}o(wAe,"classifyScript");function I3(t){return[...Array(t).keys()]}o(I3,"range")});var DK=j(Qi=>{"use strict";p();m();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.initEccLib=Qi.Transaction=Qi.opcodes=Qi.Psbt=Qi.Block=Qi.script=Qi.payments=Qi.networks=Qi.crypto=Qi.address=void 0;var Lmt=tK();Qi.address=Lmt;var Dmt=zd();Qi.crypto=Dmt;var Umt=hu();Qi.networks=Umt;var Fmt=S2();Qi.payments=Fmt;var Hmt=Ka();Qi.script=Hmt;var qmt=K3e();Object.defineProperty(Qi,"Block",{enumerable:!0,get:o(function(){return qmt.Block},"get")});var Vmt=SAe();Object.defineProperty(Qi,"Psbt",{enumerable:!0,get:o(function(){return Vmt.Psbt},"get")});var jmt=M9();Object.defineProperty(Qi,"opcodes",{enumerable:!0,get:o(function(){return jmt.OPS},"get")});var zmt=A2();Object.defineProperty(Qi,"Transaction",{enumerable:!0,get:o(function(){return zmt.Transaction},"get")});var Kmt=dO();Object.defineProperty(Qi,"initEccLib",{enumerable:!0,get:o(function(){return Kmt.initEccLib},"get")})});var E0=j(Wr=>{"use strict";p();m();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.DEFAULT_TLRU_TTL_MS=Wr.BANDIT_ASSIGNMENT_SHARDS=Wr.MAX_EVENT_QUEUE_SIZE=Wr.NULL_SENTINEL=Wr.SESSION_ASSIGNMENT_CONFIG_LOADED=Wr.PRECOMPUTED_FLAGS_ENDPOINT=Wr.PRECOMPUTED_BASE_URL=Wr.BANDIT_ENDPOINT=Wr.UFC_ENDPOINT=Wr.BASE_URL=Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=Wr.POLL_JITTER_PCT=Wr.DEFAULT_POLL_INTERVAL_MS=Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS=void 0;Wr.DEFAULT_REQUEST_TIMEOUT_MS=5e3;Wr.REQUEST_TIMEOUT_MILLIS=Wr.DEFAULT_REQUEST_TIMEOUT_MS;Wr.DEFAULT_POLL_INTERVAL_MS=3e4;Wr.POLL_JITTER_PCT=.1;Wr.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1;Wr.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7;Wr.BASE_URL="https://fscdn.eppo.cloud/api";Wr.UFC_ENDPOINT="/flag-config/v1/config";Wr.BANDIT_ENDPOINT="/flag-config/v1/bandits";Wr.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud";Wr.PRECOMPUTED_FLAGS_ENDPOINT="/assignments";Wr.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded";Wr.NULL_SENTINEL="EPPO_NULL";Wr.MAX_EVENT_QUEUE_SIZE=100;Wr.BANDIT_ASSIGNMENT_SHARDS=1e4;Wr.DEFAULT_TLRU_TTL_MS=6e5});var eN=j(nG=>{"use strict";p();m();Object.defineProperty(nG,"__esModule",{value:!0});var QM=E0(),rG=class{static{o(this,"ApiEndpoints")}constructor(e){this.params=e,this.params.baseUrl=e.baseUrl??QM.BASE_URL}endpoint(e){let r=new URL(this.params.baseUrl+e);return Object.entries(this.params.queryParams??{}).forEach(([n,i])=>r.searchParams.append(n,i)),r}ufcEndpoint(){return this.endpoint(QM.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(QM.BANDIT_ENDPOINT)}precomputedFlagsEndpoint(){return this.endpoint(QM.PRECOMPUTED_FLAGS_ENDPOINT)}};nG.default=rG});var a5e=j((MXr,s5e)=>{"use strict";p();m();function p1t(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}o(p1t,"tryStringify");s5e.exports=m1t;function m1t(t,e,r){var n=r&&r.stringify||p1t,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var c=1;c<s;c++)a[c]=n(e[c]);return a.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var h="",y=1-i,g=-1,S=t&&t.length||0,T=0;T<S;){if(t.charCodeAt(T)===37&&T+1<S){switch(g=g>-1?g:0,t.charCodeAt(T+1)){case 100:case 102:if(y>=u||e[y]==null)break;g<T&&(h+=t.slice(g,T)),h+=Number(e[y]),g=T+2,T++;break;case 105:if(y>=u||e[y]==null)break;g<T&&(h+=t.slice(g,T)),h+=Math.floor(Number(e[y])),g=T+2,T++;break;case 79:case 111:case 106:if(y>=u||e[y]===void 0)break;g<T&&(h+=t.slice(g,T));var O=typeof e[y];if(O==="string"){h+="'"+e[y]+"'",g=T+2,T++;break}if(O==="function"){h+=e[y].name||"<anonymous>",g=T+2,T++;break}h+=n(e[y]),g=T+2,T++;break;case 115:if(y>=u)break;g<T&&(h+=t.slice(g,T)),h+=String(e[y]),g=T+2,T++;break;case 37:g<T&&(h+=t.slice(g,T)),h+="%",g=T+2,T++,y--;break}++y}++T}return g===-1?t:(g<S&&(h+=t.slice(g)),h)}o(m1t,"format")});var h5e=j((BXr,rN)=>{"use strict";p();m();var c5e=a5e();rN.exports=A0;var o6=M1t().console||{},g1t={mapHttpRequest:tN,mapHttpResponse:tN,wrapRequestSerializer:iG,wrapResponseSerializer:iG,wrapErrorSerializer:iG,req:tN,res:tN,err:u5e,errWithCause:u5e};function fg(t,e){return t==="silent"?1/0:e.levels.values[t]}o(fg,"levelToValue");var aG=Symbol("pino.logFuncs"),oG=Symbol("pino.hierarchy"),y1t={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function f5e(t,e){let r={logger:e,parent:t[oG]};e[oG]=r}o(f5e,"appendChildLogger");function b1t(t,e,r){let n={};e.forEach(i=>{n[i]=r[i]?r[i]:o6[i]||o6[y1t[i]||"log"]||Z2}),t[aG]=n}o(b1t,"setupBaseLogFunctions");function x1t(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}o(x1t,"shouldSerialize");function A0(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||o6;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=x1t(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=Object.keys(t.customLevels||{}),c=["error","fatal","warn","info","debug","trace"].concat(a);typeof r=="function"&&c.forEach(function(M){r[M]=r}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");let u=t.level||"info",h=Object.create(r);h.log||(h.log=Z2),b1t(h,c,r),f5e({},h),Object.defineProperty(h,"levelVal",{get:g}),Object.defineProperty(h,"level",{get:S,set:T});let y={transmit:e,serialize:i,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:c,timestamp:I1t(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Z2};h.levels=v1t(t),h.level=u,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=Z2,h.serializers=n,h._serialize=i,h._stdErrSerialize=s,h.child=function(...M){return O.call(this,y,...M)},e&&(h._logEvent=sG());function g(){return fg(this.level,this)}o(g,"getLevelVal");function S(){return this._level}o(S,"getLevel");function T(M){if(M!=="silent"&&!this.levels.values[M])throw Error("unknown level "+M);this._level=M,j1(this,y,h,"error"),j1(this,y,h,"fatal"),j1(this,y,h,"warn"),j1(this,y,h,"info"),j1(this,y,h,"debug"),j1(this,y,h,"trace"),a.forEach(k=>{j1(this,y,h,k)})}o(T,"setLevel");function O(M,k,C){if(!k)throw new Error("missing bindings for child Pino");C=C||{},i&&k.serializers&&(C.serializers=k.serializers);let B=C.serializers;if(i&&B){var N=Object.assign({},n,B),P=t.browser.serialize===!0?Object.keys(N):i;delete k.serializers,cG([k],P,N,this._stdErrSerialize)}function H(Z){this._childLevel=(Z._childLevel|0)+1,this.bindings=k,N&&(this.serializers=N,this._serialize=P),e&&(this._logEvent=sG([].concat(Z._logEvent.bindings,k)))}o(H,"Child"),H.prototype=this;let F=new H(this);return f5e(this,F),F.child=function(...Z){return O.call(this,M,...Z)},F.level=C.level||this.level,M.onChild(F),F}return o(O,"child"),h}o(A0,"pino");function v1t(t){let e=t.customLevels||{},r=Object.assign({},A0.levels.values,e),n=Object.assign({},A0.levels.labels,_1t(e));return{values:r,labels:n}}o(v1t,"getLevels");function _1t(t){let e={};return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}o(_1t,"invertObject");A0.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};A0.stdSerializers=g1t;A0.stdTimeFunctions=Object.assign({},{nullTime:l5e,epochTime:d5e,unixTime:R1t,isoTime:O1t});function w1t(t){let e=[];t.bindings&&e.push(t.bindings);let r=t[oG];for(;r.parent;)r=r.parent,r.logger.bindings&&e.push(r.logger.bindings);return e.reverse()}o(w1t,"getBindingChain");function j1(t,e,r,n){if(Object.defineProperty(t,n,{value:fg(t.level,r)>fg(n,r)?Z2:r[aG][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===Z2){if(!e.transmit)return;let s=e.transmit.level||t.level,a=fg(s,r);if(fg(n,r)<a)return}t[n]=E1t(t,e,r,n);let i=w1t(t);i.length!==0&&(t[n]=S1t(i,t[n]))}o(j1,"set");function S1t(t,e){return function(){return e.apply(this,[...t,...arguments])}}o(S1t,"prependBindingsInArguments");function E1t(t,e,r,n){return function(i){return o(function(){let a=e.timestamp(),c=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===o6?o6:this;for(var h=0;h<c.length;h++)c[h]=arguments[h];var y=!1;if(e.serialize&&(cG(c,this._serialize,this.serializers,this._stdErrSerialize),y=!0),e.asObject||e.formatters?i.call(u,A1t(this,n,c,a,e)):i.apply(u,c),e.transmit){let g=e.transmit.level||t._level,S=fg(g,r),T=fg(n,r);if(T<S)return;T1t(this,{ts:a,methodLevel:n,methodValue:T,transmitLevel:g,transmitValue:r.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:fg(t._level,r)},c,y)}},"LOG")}(t[aG][n])}o(E1t,"createWrap");function A1t(t,e,r,n,i){let{level:s,log:a=o(S=>S,"logObjectFormatter")}=i.formatters||{},c=r.slice(),u=c[0],h={};if(n&&(h.time=n),s){let S=s(e,t.levels.values[e]);Object.assign(h,S)}else h.level=t.levels.values[e];let y=(t._childLevel|0)+1;if(y<1&&(y=1),u!==null&&typeof u=="object"){for(;y--&&typeof c[0]=="object";)Object.assign(h,c.shift());u=c.length?c5e(c.shift(),c):void 0}else typeof u=="string"&&(u=c5e(c.shift(),c));return u!==void 0&&(h[i.messageKey]=u),a(h)}o(A1t,"asObject");function cG(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=A0.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(let s in t[i])e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}o(cG,"applySerializers");function T1t(t,e,r,n=!1){let i=e.send,s=e.ts,a=e.methodLevel,c=e.methodValue,u=e.val,h=t._logEvent.bindings;n||cG(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(y){return h.indexOf(y)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=c,i(a,t._logEvent,u),t._logEvent=sG(h)}o(T1t,"transmit");function sG(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}o(sG,"createLogEventShape");function u5e(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}o(u5e,"asErrValue");function I1t(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?l5e:d5e}o(I1t,"getTimeFunction");function tN(){return{}}o(tN,"mock");function iG(t){return t}o(iG,"passthrough");function Z2(){}o(Z2,"noop");function l5e(){return!1}o(l5e,"nullTime");function d5e(){return Date.now()}o(d5e,"epochTime");function R1t(){return Math.round(Date.now()/1e3)}o(R1t,"unixTime");function O1t(){return new Date(Date.now()).toISOString()}o(O1t,"isoTime");function M1t(){function t(e){return typeof e<"u"&&e}o(t,"defd");try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:o(function(){return delete Object.prototype.globalThis,this.globalThis=this},"get"),configurable:!0}),globalThis}catch{return t(self)||t(self)||t(this)||{}}}o(M1t,"pfGlobalThisOrFallback");rN.exports.default=A0;rN.exports.pino=A0});var th=j(J2=>{"use strict";p();m();Object.defineProperty(J2,"__esModule",{value:!0});J2.logger=J2.loggerPrefix=void 0;var N1t=h5e();J2.loggerPrefix="[Eppo SDK]";J2.logger=(0,N1t.default)({level:R.LOG_LEVEL??(R.NODE_ENV==="production"?"warn":"info"),browser:{disabled:!0}})});var lG=j((fG,uG)=>{p();m();(function(t,e){typeof fG=="object"&&typeof uG<"u"?uG.exports=e():typeof define=="function"&&define.amd?define(e):function(){var r=t.Base64,n=e();n.noConflict=function(){return t.Base64=r,n},t.Meteor&&(Base64=n),t.Base64=n}()})(typeof self<"u"||typeof self<"u"||typeof self<"u"?self:fG,function(){"use strict";var t="3.7.7",e=t,r=typeof Buffer=="function",n=typeof TextDecoder=="function"?new TextDecoder:void 0,i=typeof TextEncoder=="function"?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=Array.prototype.slice.call(s),c=function(U){var G={};return U.forEach(function(ee,re){return G[ee]=re}),G}(a),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),y=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(U){return new Uint8Array(Array.prototype.slice.call(U,0))},g=o(function(U){return U.replace(/=/g,"").replace(/[+\/]/g,function(G){return G=="+"?"-":"_"})},"_mkUriSafe"),S=o(function(U){return U.replace(/[^A-Za-z0-9\+\/]/g,"")},"_tidyB64"),T=o(function(U){for(var G,ee,re,Oe,ae="",le=U.length%3,ye=0;ye<U.length;){if((ee=U.charCodeAt(ye++))>255||(re=U.charCodeAt(ye++))>255||(Oe=U.charCodeAt(ye++))>255)throw new TypeError("invalid character found");G=ee<<16|re<<8|Oe,ae+=a[G>>18&63]+a[G>>12&63]+a[G>>6&63]+a[G&63]}return le?ae.slice(0,le-3)+"===".substring(le):ae},"btoaPolyfill"),O=typeof btoa=="function"?function(U){return btoa(U)}:r?function(U){return Buffer.from(U,"binary").toString("base64")}:T,M=r?function(U){return Buffer.from(U).toString("base64")}:function(U){for(var G=4096,ee=[],re=0,Oe=U.length;re<Oe;re+=G)ee.push(h.apply(null,U.subarray(re,re+G)));return O(ee.join(""))},k=o(function(U,G){return G===void 0&&(G=!1),G?g(M(U)):M(U)},"fromUint8Array"),C=o(function(U){if(U.length<2){var G=U.charCodeAt(0);return G<128?U:G<2048?h(192|G>>>6)+h(128|G&63):h(224|G>>>12&15)+h(128|G>>>6&63)+h(128|G&63)}else{var G=65536+(U.charCodeAt(0)-55296)*1024+(U.charCodeAt(1)-56320);return h(240|G>>>18&7)+h(128|G>>>12&63)+h(128|G>>>6&63)+h(128|G&63)}},"cb_utob"),B=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,N=o(function(U){return U.replace(B,C)},"utob"),P=r?function(U){return Buffer.from(U,"utf8").toString("base64")}:i?function(U){return M(i.encode(U))}:function(U){return O(N(U))},H=o(function(U,G){return G===void 0&&(G=!1),G?g(P(U)):P(U)},"encode"),F=o(function(U){return H(U,!0)},"encodeURI"),Z=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,W=o(function(U){switch(U.length){case 4:var G=(7&U.charCodeAt(0))<<18|(63&U.charCodeAt(1))<<12|(63&U.charCodeAt(2))<<6|63&U.charCodeAt(3),ee=G-65536;return h((ee>>>10)+55296)+h((ee&1023)+56320);case 3:return h((15&U.charCodeAt(0))<<12|(63&U.charCodeAt(1))<<6|63&U.charCodeAt(2));default:return h((31&U.charCodeAt(0))<<6|63&U.charCodeAt(1))}},"cb_btou"),X=o(function(U){return U.replace(Z,W)},"btou"),E=o(function(U){if(U=U.replace(/\s+/g,""),!u.test(U))throw new TypeError("malformed base64.");U+="==".slice(2-(U.length&3));for(var G,ee="",re,Oe,ae=0;ae<U.length;)G=c[U.charAt(ae++)]<<18|c[U.charAt(ae++)]<<12|(re=c[U.charAt(ae++)])<<6|(Oe=c[U.charAt(ae++)]),ee+=re===64?h(G>>16&255):Oe===64?h(G>>16&255,G>>8&255):h(G>>16&255,G>>8&255,G&255);return ee},"atobPolyfill"),f=typeof atob=="function"?function(U){return atob(S(U))}:r?function(U){return Buffer.from(U,"base64").toString("binary")}:E,d=r?function(U){return y(Buffer.from(U,"base64"))}:function(U){return y(f(U).split("").map(function(G){return G.charCodeAt(0)}))},b=o(function(U){return d(_(U))},"toUint8Array"),x=r?function(U){return Buffer.from(U,"base64").toString("utf8")}:n?function(U){return n.decode(d(U))}:function(U){return X(f(U))},_=o(function(U){return S(U.replace(/[-_]/g,function(G){return G=="-"?"+":"/"}))},"_unURI"),A=o(function(U){return x(_(U))},"decode"),I=o(function(U){if(typeof U!="string")return!1;var G=U.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(G)||!/[^\s0-9a-zA-Z\-_]/.test(G)},"isValid"),v=o(function(U){return{value:U,enumerable:!1,writable:!0,configurable:!0}},"_noEnum"),l=o(function(){var U=o(function(G,ee){return Object.defineProperty(String.prototype,G,v(ee))},"_add");U("fromBase64",function(){return A(this)}),U("toBase64",function(G){return H(this,G)}),U("toBase64URI",function(){return H(this,!0)}),U("toBase64URL",function(){return H(this,!0)}),U("toUint8Array",function(){return b(this)})},"extendString"),w=o(function(){var U=o(function(G,ee){return Object.defineProperty(Uint8Array.prototype,G,v(ee))},"_add");U("toBase64",function(G){return k(this,G)}),U("toBase64URI",function(){return k(this,!0)}),U("toBase64URL",function(){return k(this,!0)})},"extendUint8Array"),V=o(function(){l(),w()},"extendBuiltins"),q={version:t,VERSION:e,atob:f,atobPolyfill:E,btoa:O,btoaPolyfill:T,fromBase64:A,toBase64:H,encode:H,encodeURI:F,encodeURL:F,utob:N,btou:X,decode:A,isValid:I,fromUint8Array:k,toUint8Array:b,extendString:l,extendUint8Array:w,extendBuiltins:V};return q.Base64={},Object.keys(q).forEach(function(U){return q.Base64[U]=q[U]}),q})});var g5e=j((p5e,m5e)=>{p();m();(function(t){if(typeof p5e=="object")m5e.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=self}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=o(function(C,B){return C+B&4294967295},"add32"),r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(C,B,N,P,H,F){return B=e(e(B,C),e(P,F)),e(B<<H|B>>>32-H,N)}o(n,"cmn");function i(C,B){var N=C[0],P=C[1],H=C[2],F=C[3];N+=(P&H|~P&F)+B[0]-680876936|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[1]-389564586|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[2]+606105819|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[3]-1044525330|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[4]-176418897|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[5]+1200080426|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[6]-1473231341|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[7]-45705983|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[8]+1770035416|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[9]-1958414417|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[10]-42063|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[11]-1990404162|0,P=(P<<22|P>>>10)+H|0,N+=(P&H|~P&F)+B[12]+1804603682|0,N=(N<<7|N>>>25)+P|0,F+=(N&P|~N&H)+B[13]-40341101|0,F=(F<<12|F>>>20)+N|0,H+=(F&N|~F&P)+B[14]-1502002290|0,H=(H<<17|H>>>15)+F|0,P+=(H&F|~H&N)+B[15]+1236535329|0,P=(P<<22|P>>>10)+H|0,N+=(P&F|H&~F)+B[1]-165796510|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[6]-1069501632|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[11]+643717713|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[0]-373897302|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[5]-701558691|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[10]+38016083|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[15]-660478335|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[4]-405537848|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[9]+568446438|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[14]-1019803690|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[3]-187363961|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[8]+1163531501|0,P=(P<<20|P>>>12)+H|0,N+=(P&F|H&~F)+B[13]-1444681467|0,N=(N<<5|N>>>27)+P|0,F+=(N&H|P&~H)+B[2]-51403784|0,F=(F<<9|F>>>23)+N|0,H+=(F&P|N&~P)+B[7]+1735328473|0,H=(H<<14|H>>>18)+F|0,P+=(H&N|F&~N)+B[12]-1926607734|0,P=(P<<20|P>>>12)+H|0,N+=(P^H^F)+B[5]-378558|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[8]-2022574463|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[11]+1839030562|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[14]-35309556|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[1]-1530992060|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[4]+1272893353|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[7]-155497632|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[10]-1094730640|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[13]+681279174|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[0]-358537222|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[3]-722521979|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[6]+76029189|0,P=(P<<23|P>>>9)+H|0,N+=(P^H^F)+B[9]-640364487|0,N=(N<<4|N>>>28)+P|0,F+=(N^P^H)+B[12]-421815835|0,F=(F<<11|F>>>21)+N|0,H+=(F^N^P)+B[15]+530742520|0,H=(H<<16|H>>>16)+F|0,P+=(H^F^N)+B[2]-995338651|0,P=(P<<23|P>>>9)+H|0,N+=(H^(P|~F))+B[0]-198630844|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[7]+1126891415|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[14]-1416354905|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[5]-57434055|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[12]+1700485571|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[3]-1894986606|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[10]-1051523|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[1]-2054922799|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[8]+1873313359|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[15]-30611744|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[6]-1560198380|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[13]+1309151649|0,P=(P<<21|P>>>11)+H|0,N+=(H^(P|~F))+B[4]-145523070|0,N=(N<<6|N>>>26)+P|0,F+=(P^(N|~H))+B[11]-1120210379|0,F=(F<<10|F>>>22)+N|0,H+=(N^(F|~P))+B[2]+718787259|0,H=(H<<15|H>>>17)+F|0,P+=(F^(H|~N))+B[9]-343485551|0,P=(P<<21|P>>>11)+H|0,C[0]=N+C[0]|0,C[1]=P+C[1]|0,C[2]=H+C[2]|0,C[3]=F+C[3]|0}o(i,"md5cycle");function s(C){var B=[],N;for(N=0;N<64;N+=4)B[N>>2]=C.charCodeAt(N)+(C.charCodeAt(N+1)<<8)+(C.charCodeAt(N+2)<<16)+(C.charCodeAt(N+3)<<24);return B}o(s,"md5blk");function a(C){var B=[],N;for(N=0;N<64;N+=4)B[N>>2]=C[N]+(C[N+1]<<8)+(C[N+2]<<16)+(C[N+3]<<24);return B}o(a,"md5blk_array");function c(C){var B=C.length,N=[1732584193,-271733879,-1732584194,271733878],P,H,F,Z,W,X;for(P=64;P<=B;P+=64)i(N,s(C.substring(P-64,P)));for(C=C.substring(P-64),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C.charCodeAt(P)<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(N,F),P=0;P<16;P+=1)F[P]=0;return Z=B*8,Z=Z.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(Z[2],16),X=parseInt(Z[1],16)||0,F[14]=W,F[15]=X,i(N,F),N}o(c,"md51");function u(C){var B=C.length,N=[1732584193,-271733879,-1732584194,271733878],P,H,F,Z,W,X;for(P=64;P<=B;P+=64)i(N,a(C.subarray(P-64,P)));for(C=P-64<B?C.subarray(P-64):new Uint8Array(0),H=C.length,F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=0;P<H;P+=1)F[P>>2]|=C[P]<<(P%4<<3);if(F[P>>2]|=128<<(P%4<<3),P>55)for(i(N,F),P=0;P<16;P+=1)F[P]=0;return Z=B*8,Z=Z.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(Z[2],16),X=parseInt(Z[1],16)||0,F[14]=W,F[15]=X,i(N,F),N}o(u,"md51_array");function h(C){var B="",N;for(N=0;N<4;N+=1)B+=r[C>>N*8+4&15]+r[C>>N*8&15];return B}o(h,"rhex");function y(C){var B;for(B=0;B<C.length;B+=1)C[B]=h(C[B]);return C.join("")}o(y,"hex"),y(c("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=o(function(C,B){var N=(C&65535)+(B&65535),P=(C>>16)+(B>>16)+(N>>16);return P<<16|N&65535},"add32")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function C(B,N){return B=B|0||0,B<0?Math.max(B+N,0):Math.min(B,N)}o(C,"clamp"),ArrayBuffer.prototype.slice=function(B,N){var P=this.byteLength,H=C(B,P),F=P,Z,W,X,E;return N!==t&&(F=C(N,P)),H>F?new ArrayBuffer(0):(Z=F-H,W=new ArrayBuffer(Z),X=new Uint8Array(W),E=new Uint8Array(this,H,Z),X.set(E),W)}}();function g(C){return/[\u0080-\uFFFF]/.test(C)&&(C=unescape(encodeURIComponent(C))),C}o(g,"toUtf8");function S(C,B){var N=C.length,P=new ArrayBuffer(N),H=new Uint8Array(P),F;for(F=0;F<N;F+=1)H[F]=C.charCodeAt(F);return B?H:P}o(S,"utf8Str2ArrayBuffer");function T(C){return String.fromCharCode.apply(null,new Uint8Array(C))}o(T,"arrayBuffer2Utf8Str");function O(C,B,N){var P=new Uint8Array(C.byteLength+B.byteLength);return P.set(new Uint8Array(C)),P.set(new Uint8Array(B),C.byteLength),N?P:P.buffer}o(O,"concatenateArrayBuffers");function M(C){var B=[],N=C.length,P;for(P=0;P<N-1;P+=2)B.push(parseInt(C.substr(P,2),16));return String.fromCharCode.apply(String,B)}o(M,"hexToBinaryString");function k(){this.reset()}return o(k,"SparkMD5"),k.prototype.append=function(C){return this.appendBinary(g(C)),this},k.prototype.appendBinary=function(C){this._buff+=C,this._length+=C.length;var B=this._buff.length,N;for(N=64;N<=B;N+=64)i(this._hash,s(this._buff.substring(N-64,N)));return this._buff=this._buff.substring(N-64),this},k.prototype.end=function(C){var B=this._buff,N=B.length,P,H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F;for(P=0;P<N;P+=1)H[P>>2]|=B.charCodeAt(P)<<(P%4<<3);return this._finish(H,N),F=y(this._hash),C&&(F=M(F)),this.reset(),F},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function(C){return this._buff=C.buff,this._length=C.length,this._hash=C.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function(C,B){var N=B,P,H,F;if(C[N>>2]|=128<<(N%4<<3),N>55)for(i(this._hash,C),N=0;N<16;N+=1)C[N]=0;P=this._length*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(P[2],16),F=parseInt(P[1],16)||0,C[14]=H,C[15]=F,i(this._hash,C)},k.hash=function(C,B){return k.hashBinary(g(C),B)},k.hashBinary=function(C,B){var N=c(C),P=y(N);return B?M(P):P},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function(C){var B=O(this._buff.buffer,C,!0),N=B.length,P;for(this._length+=C.byteLength,P=64;P<=N;P+=64)i(this._hash,a(B.subarray(P-64,P)));return this._buff=P-64<N?new Uint8Array(B.buffer.slice(P-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function(C){var B=this._buff,N=B.length,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H,F;for(H=0;H<N;H+=1)P[H>>2]|=B[H]<<(H%4<<3);return this._finish(P,N),F=y(this._hash),C&&(F=M(F)),this.reset(),F},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var C=k.prototype.getState.call(this);return C.buff=T(C.buff),C},k.ArrayBuffer.prototype.setState=function(C){return C.buff=S(C.buff,!0),k.prototype.setState.call(this,C)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function(C,B){var N=u(new Uint8Array(C)),P=y(N);return B?M(P):P},k})});var T0=j(ug=>{"use strict";p();m();Object.defineProperty(ug,"__esModule",{value:!0});ug.getMD5Hash=dG;ug.encodeBase64=Al;ug.attributeEncodeBase64=x5e;ug.decodeBase64=k1t;ug.obfuscatePrecomputedBanditMap=B1t;ug.obfuscatePrecomputedFlags=L1t;var b5e=lG(),C1t=g5e();function dG(t,e=""){return new C1t().append(e).append(t).end()}o(dG,"getMD5Hash");function Al(t){return b5e.encode(t)}o(Al,"encodeBase64");function x5e(t){return Al(typeof t!="string"?String(t):t)}o(x5e,"attributeEncodeBase64");function k1t(t){return b5e.decode(t)}o(k1t,"decodeBase64");function B1t(t,e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[dG(r,t),P1t(n)]))}o(B1t,"obfuscatePrecomputedBanditMap");function P1t(t){return{banditKey:Al(t.banditKey),action:Al(t.action),actionProbability:t.actionProbability,optimalityGap:t.optimalityGap,modelVersion:Al(t.modelVersion),actionNumericAttributes:y5e(t.actionNumericAttributes),actionCategoricalAttributes:y5e(t.actionCategoricalAttributes)}}o(P1t,"obfuscatePrecomputedBandit");function y5e(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[Al(e),x5e(r)]))}o(y5e,"encodeAttributes");function L1t(t,e){let r={};return Object.keys(e).forEach(n=>{let i=e[n],s=Object.fromEntries(Object.entries(i.extraLogging??{}).map(c=>c.map(Al))),a=dG(n,t);r[a]={flagKey:a,variationType:i.variationType,extraLogging:s,doLog:i.doLog,allocationKey:Al(i.allocationKey??""),variationKey:Al(i.variationKey??""),variationValue:Al(i.variationValue)}}),r}o(L1t,"obfuscatePrecomputedFlags")});var s6=j(Q2=>{"use strict";p();m();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.AbstractAssignmentCache=void 0;Q2.assignmentCacheKeyToString=hG;Q2.assignmentCacheValueToString=pG;var v5e=T0();function hG({subjectKey:t,flagKey:e}){return(0,v5e.getMD5Hash)([t,e].join(";"))}o(hG,"assignmentCacheKeyToString");function pG(t){return(0,v5e.getMD5Hash)(Object.values(t).join(";"))}o(pG,"assignmentCacheValueToString");var mG=class{static{o(this,"AbstractAssignmentCache")}constructor(e){this.delegate=e}has(e){return this.get(e)===pG(e)}get(e){return this.delegate.get(hG(e))}set(e){this.delegate.set(hG(e),pG(e))}entries(){return this.delegate.entries()}};Q2.AbstractAssignmentCache=mG});var yG=j(nN=>{"use strict";p();m();Object.defineProperty(nN,"__esModule",{value:!0});nN.LRUCache=void 0;var gG=class{static{o(this,"LRUCache")}constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[Symbol.iterator](){return this.cache[Symbol.iterator]()}forEach(e,r){this.cache.forEach(e,r)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let r=this.cache.get(e);return r!==void 0&&(this.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.capacity===0)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,r),this}};nN.LRUCache=gG});var oN=j(iN=>{"use strict";p();m();Object.defineProperty(iN,"__esModule",{value:!0});iN.LRUInMemoryAssignmentCache=void 0;var D1t=s6(),U1t=yG(),bG=class extends D1t.AbstractAssignmentCache{static{o(this,"LRUInMemoryAssignmentCache")}constructor(e){super(new U1t.LRUCache(e))}};iN.LRUInMemoryAssignmentCache=bG});var aN=j(sN=>{"use strict";p();m();Object.defineProperty(sN,"__esModule",{value:!0});sN.NonExpiringInMemoryAssignmentCache=void 0;var F1t=s6(),xG=class extends F1t.AbstractAssignmentCache{static{o(this,"NonExpiringInMemoryAssignmentCache")}constructor(e=new Map){super(e)}};sN.NonExpiringInMemoryAssignmentCache=xG});var _G=j(z1=>{"use strict";p();m();Object.defineProperty(z1,"__esModule",{value:!0});z1.isInstanceOfContextualAttributes=cN;z1.ensureNonContextualSubjectAttributes=H1t;z1.ensureContextualSubjectAttributes=q1t;z1.deduceAttributeContext=vG;z1.ensureActionsWithContextualAttributes=V1t;function cN(t){return!!(typeof t=="object"&&t&&"numericAttributes"in t&&"categoricalAttributes"in t)}o(cN,"isInstanceOfContextualAttributes");function H1t(t){let e;if(cN(t)){let r=t;e={...r.numericAttributes,...r.categoricalAttributes}}else e=t;return e}o(H1t,"ensureNonContextualSubjectAttributes");function q1t(t){return cN(t)?t:vG(t)}o(q1t,"ensureContextualSubjectAttributes");function vG(t){let e={numericAttributes:{},categoricalAttributes:{}};return Object.entries(t).forEach(([r,n])=>{typeof n=="number"?e.numericAttributes[r]=n:e.categoricalAttributes[r]=n}),e}o(vG,"deduceAttributeContext");function V1t(t){let e={};return Array.isArray(t)?t.forEach(r=>{e[r]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(t).every(cN)?e=t:Object.entries(t).forEach(([r,n])=>{e[r]=vG(n)}),e}o(V1t,"ensureActionsWithContextualAttributes")});var EG=j(lg=>{"use strict";p();m();Object.defineProperty(lg,"__esModule",{value:!0});lg.DeterministicSharder=lg.MD5Sharder=lg.Sharder=void 0;var j1t=T0(),a6=class{static{o(this,"Sharder")}};lg.Sharder=a6;var wG=class extends a6{static{o(this,"MD5Sharder")}getShard(e,r){let n=(0,j1t.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%r}};lg.MD5Sharder=wG;var SG=class extends a6{static{o(this,"DeterministicSharder")}constructor(e){super(),this.lookup=e}getShard(e,r){return this.lookup[e]??0}};lg.DeterministicSharder=SG});var _5e=j(fN=>{"use strict";p();m();Object.defineProperty(fN,"__esModule",{value:!0});fN.BanditEvaluator=void 0;var z1t=E0(),K1t=EG(),AG=class{static{o(this,"BanditEvaluator")}constructor(){this.assignmentShards=z1t.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new K1t.MD5Sharder}evaluateBestBanditAction(e,r,n){let i=this.scoreActions(e,r,n),{topAction:s}=this.getTopScore(i);return s}evaluateBandit(e,r,n,i,s){let a=this.scoreActions(n,i,s),c=this.weighActions(a,s.gamma,s.actionProbabilityFloor),u=this.selectAction(e,r,c),y=Object.values(a).reduce((g,S)=>S>g?S:g,-1/0)-a[u];return{flagKey:e,subjectKey:r,subjectAttributes:n,actionKey:u,actionAttributes:i[u],actionScore:a[u],actionWeight:c[u],gamma:s.gamma,optimalityGap:y}}scoreActions(e,r,n){let i={};return Object.entries(r).forEach(([s,a])=>{let c=n.defaultActionScore,u=n.coefficients[s];u&&(c=u.intercept,c+=this.scoreNumericAttributes(u.subjectNumericCoefficients,e.numericAttributes),c+=this.scoreCategoricalAttributes(u.subjectCategoricalCoefficients,e.categoricalAttributes),c+=this.scoreNumericAttributes(u.actionNumericCoefficients,a.numericAttributes),c+=this.scoreCategoricalAttributes(u.actionCategoricalCoefficients,a.categoricalAttributes)),i[s]=c}),i}scoreNumericAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey];return typeof s=="number"&&isFinite(s)?n+=s*i.coefficient:n+=i.missingValueCoefficient,n},0)}scoreCategoricalAttributes(e,r){return e.reduce((n,i)=>{let s=r[i.attributeKey]?.toString(),a=s&&i.valueCoefficients[s];return n+=typeof a=="number"?a:i.missingValueCoefficient,n},0)}weighActions(e,r,n){let i={},s=Object.entries(e);if(!s.length)return i;let{topScore:a,topAction:c}=this.getTopScore(e);if(a===null||c===null)throw new Error("Unable to find top score");let u=a,h=c,y=s.length,g=n/y,S=0;return s.forEach(([T,O])=>{if(T===h)return;let M=1/(y+r*(u-O)),k=Math.max(M,g);S+=k,i[T]=k}),i[h]=Math.max(1-S,0),i}selectAction(e,r,n){let i=Object.entries(n).sort((h,y)=>{let g=this.sharder.getShard(`${e}-${r}-${h[0]}`,this.assignmentShards),S=this.sharder.getShard(`${e}-${r}-${y[0]}`,this.assignmentShards),T=g-S;return T===0&&(T=h[0]<y[0]?-1:1),T}),a=this.sharder.getShard(`${e}-${r}`,this.assignmentShards)/this.assignmentShards,c=0,u=null;for(let h of i)if(c+=h[1],c>a){u=h[0];break}if(u===null)throw new Error(`No bandit action selected for flag "${e}" and subject "${r}"`);return u}getTopScore(e){let r=Object.entries(e),n=null,i=null;return r.forEach(([s,a])=>{(n===null||i===null||a>n||a===n&&s<i)&&(n=a,i=s)}),{topScore:n,topAction:i}}};fN.BanditEvaluator=AG});var w5e=j(uN=>{"use strict";p();m();Object.defineProperty(uN,"__esModule",{value:!0});uN.TLRUCache=void 0;var $1t=yG(),TG=class extends $1t.LRUCache{static{o(this,"TLRUCache")}constructor(e,r){super(e),this.maxSize=e,this.ttl=r,this.cacheEntriesTTLRegistry=new Map}getCacheEntryEvictionTime(){return new Date(Date.now()+this.ttl)}clearCacheEntryEvictionTimeIfExists(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}isCacheEntryValid(e){let r=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return n!==void 0?r<n:!1}setCacheEntryEvictionTime(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}resetCacheEntryEvictionTime(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}evictExpiredCacheEntries(){let e;for(e of this.cache.keys())if(!this.isCacheEntryValid(e))this.delete(e);else break}entries(){return this.evictExpiredCacheEntries(),super.entries()}keys(){return this.evictExpiredCacheEntries(),super.keys()}values(){return this.evictExpiredCacheEntries(),super.values()}delete(e){return this.clearCacheEntryEvictionTimeIfExists(e),super.delete(e)}has(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}get(e){if(!this.isCacheEntryValid(e)){this.delete(e);return}let r=super.get(e);return r!==void 0&&this.resetCacheEntryEvictionTime(e),r}set(e,r){let n=super.set(e,r);return this.resetCacheEntryEvictionTime(e),n}};uN.TLRUCache=TG});var S5e=j(lN=>{"use strict";p();m();Object.defineProperty(lN,"__esModule",{value:!0});lN.TLRUInMemoryAssignmentCache=void 0;var G1t=E0(),W1t=s6(),Y1t=w5e(),IG=class extends W1t.AbstractAssignmentCache{static{o(this,"TLRUInMemoryAssignmentCache")}constructor(e,r=G1t.DEFAULT_TLRU_TTL_MS){super(new Y1t.TLRUCache(e,r))}};lN.TLRUInMemoryAssignmentCache=IG});var I0=j(dg=>{"use strict";p();m();Object.defineProperty(dg,"__esModule",{value:!0});dg.FormatEnum=dg.UNKNOWN_ENVIRONMENT_NAME=dg.VariationType=void 0;var E5e;(function(t){t.STRING="STRING",t.INTEGER="INTEGER",t.NUMERIC="NUMERIC",t.BOOLEAN="BOOLEAN",t.JSON="JSON"})(E5e||(dg.VariationType=E5e={}));dg.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN";var A5e;(function(t){t.SERVER="SERVER",t.CLIENT="CLIENT",t.PRECOMPUTED="PRECOMPUTED"})(A5e||(dg.FormatEnum=A5e={}))});var I5e=j(rh=>{"use strict";p();m();Object.defineProperty(rh,"__esModule",{value:!0});rh.ConfigurationWireV1=rh.ObfuscatedPrecomputedConfigurationResponse=rh.PrecomputedConfigurationResponse=rh.PrecomputedConfiguration=void 0;var X1t=I0(),T5e=T0(),dN=class{static{o(this,"BasePrecomputedConfigurationResponse")}constructor(e,r,n){this.subjectKey=e,this.subjectAttributes=r,this.environment=n,this.format=X1t.FormatEnum.PRECOMPUTED,this.createdAt=new Date().toISOString()}},RG=class t{static{o(this,"PrecomputedConfiguration")}constructor(e,r,n){this.response=e,this.subjectKey=r,this.subjectAttributes=n}static obfuscated(e,r,n,i,s,a){let c=new pN(e,r,n,i,s,a);return new t(JSON.stringify(c),e,s)}static unobfuscated(e,r,n,i,s){let a=new hN(e,r,n,i,s);return new t(JSON.stringify(a),e,i)}};rh.PrecomputedConfiguration=RG;var hN=class extends dN{static{o(this,"PrecomputedConfigurationResponse")}constructor(e,r,n,i,s){super(e,i,s),this.flags=r,this.bandits=n,this.obfuscated=!1}};rh.PrecomputedConfigurationResponse=hN;var pN=class extends dN{static{o(this,"ObfuscatedPrecomputedConfigurationResponse")}constructor(e,r,n,i,s,a){super(e,s,a),this.obfuscated=!0,this.salt=i,this.bandits=(0,T5e.obfuscatePrecomputedBanditMap)(this.salt,n),this.flags=(0,T5e.obfuscatePrecomputedFlags)(this.salt,r)}};rh.ObfuscatedPrecomputedConfigurationResponse=pN;var OG=class{static{o(this,"ConfigurationWireV1")}constructor(e){this.precomputed=e,this.version=1}};rh.ConfigurationWireV1=OG});var NG=j(MG=>{"use strict";p();m();Object.defineProperty(MG,"__esModule",{value:!0});MG.hydrateConfigurationStore=Z1t;async function Z1t(t,e){t&&await t.setEntries(e.entries)&&(t.setEnvironment(e.environment),t.setConfigFetchedAt(new Date().toISOString()),t.setConfigPublishedAt(e.createdAt),t.setFormat(e.format),t.salt=e.salt)}o(Z1t,"hydrateConfigurationStore")});var PG=j(BG=>{"use strict";p();m();Object.defineProperty(BG,"__esModule",{value:!0});var CG=NG(),kG=class{static{o(this,"ConfigurationRequestor")}constructor(e,r,n,i){this.httpClient=e,this.flagConfigurationStore=r,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=i,this.banditModelVersions=[]}async fetchAndStoreConfigurations(){let e=await this.httpClient.getUniversalFlagConfiguration();if(!e?.flags)return;await(0,CG.hydrateConfigurationStore)(this.flagConfigurationStore,{entries:e.flags,environment:e.environment,createdAt:e.createdAt,format:e.format});let r=Object.keys(e.banditReferences??{}).length>0,n=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&n){let i=this.indexBanditVariationsByFlagKey(e.banditReferences);if(await(0,CG.hydrateConfigurationStore)(this.banditVariationConfigurationStore,{entries:i,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,e.banditReferences)){let s=await this.httpClient.getBanditParameters();s?.bandits&&(await(0,CG.hydrateConfigurationStore)(this.banditModelConfigurationStore,{entries:s.bandits,environment:e.environment,createdAt:e.createdAt,format:e.format}),this.banditModelVersions=this.getLoadedBanditModelVersionsFromStore(this.banditModelConfigurationStore))}}}getLoadedBanditModelVersionsFromStore(e){return e===null?[]:Object.values(e.entries()).map(r=>r.modelVersion)}requiresBanditModelConfigurationStoreUpdate(e,r){return!Object.values(r).map(i=>i.modelVersion).every(i=>e.includes(i))}indexBanditVariationsByFlagKey(e){let r={};return Object.values(e).forEach(n=>{n.flagVariations.forEach(i=>{let s=r[i.flagKey];s||(s=[],r[i.flagKey]=s),s.push(i)})}),r}};BG.default=kG});var gN=j(vu=>{"use strict";p();m();Object.defineProperty(vu,"__esModule",{value:!0});vu.decodeFlag=J1t;vu.decodeVariations=R5e;vu.decodeValue=DG;vu.decodeAllocation=O5e;vu.decodeSplit=M5e;vu.decodeShard=N5e;vu.decodeObject=mN;vu.decodeObjectTo=UG;vu.decodePrecomputedFlag=Q1t;vu.decodePrecomputedBandit=ebt;var LG=I0(),Ta=T0();function J1t(t){return{...t,variations:R5e(t.variations,t.variationType),allocations:t.allocations.map(O5e)}}o(J1t,"decodeFlag");function R5e(t,e){return Object.fromEntries(Object.entries(t).map(([,r])=>{let n=(0,Ta.decodeBase64)(r.key);return[n,{key:n,value:DG(r.value,e)}]}))}o(R5e,"decodeVariations");function DG(t,e){switch(e){case LG.VariationType.INTEGER:case LG.VariationType.NUMERIC:return Number((0,Ta.decodeBase64)(t));case LG.VariationType.BOOLEAN:return(0,Ta.decodeBase64)(t)==="true";default:return(0,Ta.decodeBase64)(t)}}o(DG,"decodeValue");function O5e(t){return{...t,key:(0,Ta.decodeBase64)(t.key),splits:t.splits.map(M5e),startAt:t.startAt?new Date((0,Ta.decodeBase64)(t.startAt)).toISOString():void 0,endAt:t.endAt?new Date((0,Ta.decodeBase64)(t.endAt)).toISOString():void 0}}o(O5e,"decodeAllocation");function M5e(t){return{extraLogging:t.extraLogging?mN(t.extraLogging):void 0,variationKey:(0,Ta.decodeBase64)(t.variationKey),shards:t.shards.map(N5e)}}o(M5e,"decodeSplit");function N5e(t){return{...t,salt:(0,Ta.decodeBase64)(t.salt)}}o(N5e,"decodeShard");function mN(t){return UG(t,e=>e)}o(mN,"decodeObject");function UG(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[(0,Ta.decodeBase64)(r),e((0,Ta.decodeBase64)(n))]))}o(UG,"decodeObjectTo");function Q1t(t){return{...t,allocationKey:(0,Ta.decodeBase64)(t.allocationKey??""),variationKey:(0,Ta.decodeBase64)(t.variationKey??""),variationValue:DG(t.variationValue,t.variationType),extraLogging:mN(t.extraLogging??{})}}o(Q1t,"decodePrecomputedFlag");function ebt(t){return{...t,banditKey:(0,Ta.decodeBase64)(t.banditKey),action:(0,Ta.decodeBase64)(t.action),modelVersion:(0,Ta.decodeBase64)(t.modelVersion),actionNumericAttributes:UG(t.actionNumericAttributes??{},e=>+e),actionCategoricalAttributes:mN(t.actionCategoricalAttributes??{})}}o(ebt,"decodePrecomputedBandit")});var C5e=j(e_=>{"use strict";p();m();Object.defineProperty(e_,"__esModule",{value:!0});e_.EppoValue=e_.EppoValueType=void 0;var c6=I0(),tbt=T0(),_u;(function(t){t[t.NullType=0]="NullType",t[t.BoolType=1]="BoolType",t[t.NumericType=2]="NumericType",t[t.StringType=3]="StringType",t[t.JSONType=4]="JSONType"})(_u||(e_.EppoValueType=_u={}));var FG=class t{static{o(this,"EppoValue")}constructor(e,r,n,i,s){this.valueType=e,this.boolValue=r,this.numericValue=n,this.stringValue=i,this.objectValue=s}static valueOf(e,r){if(e==null)return t.Null();switch(r){case c6.VariationType.BOOLEAN:return t.Bool(e);case c6.VariationType.NUMERIC:return t.Numeric(e);case c6.VariationType.INTEGER:return t.Numeric(e);case c6.VariationType.STRING:return t.String(e);case c6.VariationType.JSON:return t.JSON(e);default:return t.String(e)}}toString(){switch(this.valueType){case _u.NullType:return"null";case _u.BoolType:return this.boolValue?"true":"false";case _u.NumericType:return this.numericValue?this.numericValue.toString():"0";case _u.StringType:return this.stringValue??"";case _u.JSONType:try{return JSON.stringify(this.objectValue)??""}catch{return this.stringValue??""}}}toHashedString(){let e=this.toString();return(0,tbt.getMD5Hash)(e)}static Bool(e){return new t(_u.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new t(_u.NumericType,void 0,e,void 0,void 0)}static String(e){return new t(_u.StringType,void 0,void 0,e,void 0)}static JSON(e){return new t(_u.JSONType,void 0,void 0,void 0,typeof e=="string"?JSON.parse(e):e)}static Null(){return new t(_u.NullType,void 0,void 0,void 0,void 0)}};e_.EppoValue=FG});var qG=j(hg=>{"use strict";p();m();Object.defineProperty(hg,"__esModule",{value:!0});hg.FlagEvaluationDetailsBuilder=hg.AllocationEvaluationCode=hg.flagEvaluationCodes=void 0;var rbt=I0();hg.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"];var yN;(function(t){t.UNEVALUATED="UNEVALUATED",t.MATCH="MATCH",t.BEFORE_START_TIME="BEFORE_START_TIME",t.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",t.AFTER_END_TIME="AFTER_END_TIME",t.FAILING_RULE="FAILING_RULE"})(yN||(hg.AllocationEvaluationCode=yN={}));var HG=class{static{o(this,"FlagEvaluationDetailsBuilder")}constructor(e,r,n,i){this.environmentName=e,this.allocations=r,this.configFetchedAt=n,this.configPublishedAt=i,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=s=>{this.unmatchedAllocations.push(s)},this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this),this.setMatch=(s,a,c,u,h)=>(this.variationKey=a.key,this.variationValue=h===rbt.VariationType.JSON&&typeof a.value=="string"?JSON.parse(a.value):a.value,this.matchedRule=u,this.matchedAllocation={key:c.key,allocationEvaluationCode:yN.MATCH,orderPosition:s+1},this),this.buildForNoneResult=(s,a)=>this.setNone().build(s,a),this.build=(s,a)=>({environmentName:this.environmentName,flagEvaluationCode:s,flagEvaluationDescription:a,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.calculateUnevaluatedAllocations()}),this.gracefulBuild=(s,a)=>{try{return this.build(s,a)}catch{return null}},this.calculateUnevaluatedAllocations=()=>{let s=this.matchedAllocation?this.unmatchedAllocations.length+1:this.unmatchedAllocations.length,a=s+1;return this.allocations.slice(s).map((c,u)=>({key:c.key,allocationEvaluationCode:yN.UNEVALUATED,orderPosition:a+u}))},this.setNone()}};hg.FlagEvaluationDetailsBuilder=HG});var jG=j(bN=>{"use strict";p();m();Object.defineProperty(bN,"__esModule",{value:!0});bN.FlagEvaluationError=void 0;var VG=class extends Error{static{o(this,"FlagEvaluationError")}};bN.FlagEvaluationError=VG});var f6=j((uJr,k5e)=>{p();m();var nbt="2.0.0",ibt=Number.MAX_SAFE_INTEGER||9007199254740991,obt=16,sbt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];k5e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:obt,MAX_SAFE_INTEGER:ibt,RELEASE_TYPES:sbt,SEMVER_SPEC_VERSION:nbt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var u6=j((hJr,B5e)=>{p();m();var abt=typeof process=="object"&&R&&R.NODE_DEBUG&&/\bsemver\b/i.test(R.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};B5e.exports=abt});var t_=j((R0,P5e)=>{p();m();var{MAX_SAFE_COMPONENT_LENGTH:zG}=f6(),cbt=u6();R0=P5e.exports={};var fbt=R0.re=[],ubt=R0.safeRe=[],Ct=R0.src=[],kt=R0.t={},lbt=0,Nr=o((t,e,r)=>{let n=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=lbt++;cbt(t,i,e),kt[t]=i,Ct[i]=e,fbt[i]=new RegExp(e,r?"g":void 0),ubt[i]=new RegExp(n,r?"g":void 0)},"createToken");Nr("NUMERICIDENTIFIER","0|[1-9]\\d*");Nr("NUMERICIDENTIFIERLOOSE","[0-9]+");Nr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Nr("MAINVERSION",`(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})\\.(${Ct[kt.NUMERICIDENTIFIER]})`);Nr("MAINVERSIONLOOSE",`(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})\\.(${Ct[kt.NUMERICIDENTIFIERLOOSE]})`);Nr("PRERELEASEIDENTIFIER",`(?:${Ct[kt.NUMERICIDENTIFIER]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASEIDENTIFIERLOOSE",`(?:${Ct[kt.NUMERICIDENTIFIERLOOSE]}|${Ct[kt.NONNUMERICIDENTIFIER]})`);Nr("PRERELEASE",`(?:-(${Ct[kt.PRERELEASEIDENTIFIER]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIER]})*))`);Nr("PRERELEASELOOSE",`(?:-?(${Ct[kt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ct[kt.PRERELEASEIDENTIFIERLOOSE]})*))`);Nr("BUILDIDENTIFIER","[0-9A-Za-z-]+");Nr("BUILD",`(?:\\+(${Ct[kt.BUILDIDENTIFIER]}(?:\\.${Ct[kt.BUILDIDENTIFIER]})*))`);Nr("FULLPLAIN",`v?${Ct[kt.MAINVERSION]}${Ct[kt.PRERELEASE]}?${Ct[kt.BUILD]}?`);Nr("FULL",`^${Ct[kt.FULLPLAIN]}$`);Nr("LOOSEPLAIN",`[v=\\s]*${Ct[kt.MAINVERSIONLOOSE]}${Ct[kt.PRERELEASELOOSE]}?${Ct[kt.BUILD]}?`);Nr("LOOSE",`^${Ct[kt.LOOSEPLAIN]}$`);Nr("GTLT","((?:<|>)?=?)");Nr("XRANGEIDENTIFIERLOOSE",`${Ct[kt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Nr("XRANGEIDENTIFIER",`${Ct[kt.NUMERICIDENTIFIER]}|x|X|\\*`);Nr("XRANGEPLAIN",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:\\.(${Ct[kt.XRANGEIDENTIFIER]})(?:${Ct[kt.PRERELEASE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGEPLAINLOOSE",`[v=\\s]*(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ct[kt.XRANGEIDENTIFIERLOOSE]})(?:${Ct[kt.PRERELEASELOOSE]})?${Ct[kt.BUILD]}?)?)?`);Nr("XRANGE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAIN]}$`);Nr("XRANGELOOSE",`^${Ct[kt.GTLT]}\\s*${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COERCE",`(^|[^\\d])(\\d{1,${zG}})(?:\\.(\\d{1,${zG}}))?(?:\\.(\\d{1,${zG}}))?(?:$|[^\\d])`);Nr("COERCERTL",Ct[kt.COERCE],!0);Nr("LONETILDE","(?:~>?)");Nr("TILDETRIM",`(\\s*)${Ct[kt.LONETILDE]}\\s+`,!0);R0.tildeTrimReplace="$1~";Nr("TILDE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAIN]}$`);Nr("TILDELOOSE",`^${Ct[kt.LONETILDE]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("LONECARET","(?:\\^)");Nr("CARETTRIM",`(\\s*)${Ct[kt.LONECARET]}\\s+`,!0);R0.caretTrimReplace="$1^";Nr("CARET",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAIN]}$`);Nr("CARETLOOSE",`^${Ct[kt.LONECARET]}${Ct[kt.XRANGEPLAINLOOSE]}$`);Nr("COMPARATORLOOSE",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]})$|^$`);Nr("COMPARATOR",`^${Ct[kt.GTLT]}\\s*(${Ct[kt.FULLPLAIN]})$|^$`);Nr("COMPARATORTRIM",`(\\s*)${Ct[kt.GTLT]}\\s*(${Ct[kt.LOOSEPLAIN]}|${Ct[kt.XRANGEPLAIN]})`,!0);R0.comparatorTrimReplace="$1$2$3";Nr("HYPHENRANGE",`^\\s*(${Ct[kt.XRANGEPLAIN]})\\s+-\\s+(${Ct[kt.XRANGEPLAIN]})\\s*$`);Nr("HYPHENRANGELOOSE",`^\\s*(${Ct[kt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ct[kt.XRANGEPLAINLOOSE]})\\s*$`);Nr("STAR","(<|>)?=?\\s*\\*");Nr("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Nr("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var xN=j((xJr,L5e)=>{p();m();var dbt=Object.freeze({loose:!0}),hbt=Object.freeze({}),pbt=o(t=>t?typeof t!="object"?dbt:t:hbt,"parseOptions");L5e.exports=pbt});var KG=j((SJr,F5e)=>{p();m();var D5e=/^[0-9]+$/,U5e=o((t,e)=>{let r=D5e.test(t),n=D5e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),mbt=o((t,e)=>U5e(e,t),"rcompareIdentifiers");F5e.exports={compareIdentifiers:U5e,rcompareIdentifiers:mbt}});var Ia=j((IJr,j5e)=>{p();m();var vN=u6(),{MAX_LENGTH:H5e,MAX_SAFE_INTEGER:_N}=f6(),{safeRe:q5e,t:V5e}=t_(),gbt=xN(),{compareIdentifiers:r_}=KG(),$G=class t{static{o(this,"SemVer")}constructor(e,r){if(r=gbt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>H5e)throw new TypeError(`version is longer than ${H5e} characters`);vN("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?q5e[V5e.LOOSE]:q5e[V5e.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>_N||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_N||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_N||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<_N)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(vN("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),r_(this.major,e.major)||r_(this.minor,e.minor)||r_(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(vN("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return r_(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(vN("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return r_(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),r_(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};j5e.exports=$G});var K1=j((NJr,K5e)=>{p();m();var z5e=Ia(),ybt=o((t,e,r=!1)=>{if(t instanceof z5e)return t;try{return new z5e(t,e)}catch(n){if(!r)return null;throw n}},"parse");K5e.exports=ybt});var G5e=j((PJr,$5e)=>{p();m();var bbt=K1(),xbt=o((t,e)=>{let r=bbt(t,e);return r?r.version:null},"valid");$5e.exports=xbt});var Y5e=j((FJr,W5e)=>{p();m();var vbt=K1(),_bt=o((t,e)=>{let r=vbt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");W5e.exports=_bt});var J5e=j((jJr,Z5e)=>{p();m();var X5e=Ia(),wbt=o((t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new X5e(t instanceof X5e?t.version:t,r).inc(e,n,i).version}catch{return null}},"inc");Z5e.exports=wbt});var tTe=j((GJr,eTe)=>{p();m();var Q5e=K1(),Sbt=o((t,e)=>{let r=Q5e(t,null,!0),n=Q5e(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,c=s?n:r,u=!!a.prerelease.length;if(!!c.prerelease.length&&!u)return!c.patch&&!c.minor?"major":a.patch?"patch":a.minor?"minor":"major";let y=u?"pre":"";return r.major!==n.major?y+"major":r.minor!==n.minor?y+"minor":r.patch!==n.patch?y+"patch":"prerelease"},"diff");eTe.exports=Sbt});var nTe=j((ZJr,rTe)=>{p();m();var Ebt=Ia(),Abt=o((t,e)=>new Ebt(t,e).major,"major");rTe.exports=Abt});var oTe=j((tQr,iTe)=>{p();m();var Tbt=Ia(),Ibt=o((t,e)=>new Tbt(t,e).minor,"minor");iTe.exports=Ibt});var aTe=j((oQr,sTe)=>{p();m();var Rbt=Ia(),Obt=o((t,e)=>new Rbt(t,e).patch,"patch");sTe.exports=Obt});var fTe=j((fQr,cTe)=>{p();m();var Mbt=K1(),Nbt=o((t,e)=>{let r=Mbt(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");cTe.exports=Nbt});var wu=j((hQr,lTe)=>{p();m();var uTe=Ia(),Cbt=o((t,e,r)=>new uTe(t,r).compare(new uTe(e,r)),"compare");lTe.exports=Cbt});var hTe=j((yQr,dTe)=>{p();m();var kbt=wu(),Bbt=o((t,e,r)=>kbt(e,t,r),"rcompare");dTe.exports=Bbt});var mTe=j((_Qr,pTe)=>{p();m();var Pbt=wu(),Lbt=o((t,e)=>Pbt(t,e,!0),"compareLoose");pTe.exports=Lbt});var wN=j((AQr,yTe)=>{p();m();var gTe=Ia(),Dbt=o((t,e,r)=>{let n=new gTe(t,r),i=new gTe(e,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");yTe.exports=Dbt});var xTe=j((OQr,bTe)=>{p();m();var Ubt=wN(),Fbt=o((t,e)=>t.sort((r,n)=>Ubt(r,n,e)),"sort");bTe.exports=Fbt});var _Te=j((kQr,vTe)=>{p();m();var Hbt=wN(),qbt=o((t,e)=>t.sort((r,n)=>Hbt(n,r,e)),"rsort");vTe.exports=qbt});var l6=j((DQr,wTe)=>{p();m();var Vbt=wu(),jbt=o((t,e,r)=>Vbt(t,e,r)>0,"gt");wTe.exports=jbt});var SN=j((qQr,STe)=>{p();m();var zbt=wu(),Kbt=o((t,e,r)=>zbt(t,e,r)<0,"lt");STe.exports=Kbt});var GG=j((KQr,ETe)=>{p();m();var $bt=wu(),Gbt=o((t,e,r)=>$bt(t,e,r)===0,"eq");ETe.exports=Gbt});var WG=j((YQr,ATe)=>{p();m();var Wbt=wu(),Ybt=o((t,e,r)=>Wbt(t,e,r)!==0,"neq");ATe.exports=Ybt});var EN=j((QQr,TTe)=>{p();m();var Xbt=wu(),Zbt=o((t,e,r)=>Xbt(t,e,r)>=0,"gte");TTe.exports=Zbt});var AN=j((nen,ITe)=>{p();m();var Jbt=wu(),Qbt=o((t,e,r)=>Jbt(t,e,r)<=0,"lte");ITe.exports=Qbt});var YG=j((aen,RTe)=>{p();m();var ext=GG(),txt=WG(),rxt=l6(),nxt=EN(),ixt=SN(),oxt=AN(),sxt=o((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ext(t,r,n);case"!=":return txt(t,r,n);case">":return rxt(t,r,n);case">=":return nxt(t,r,n);case"<":return ixt(t,r,n);case"<=":return oxt(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");RTe.exports=sxt});var MTe=j((len,OTe)=>{p();m();var axt=Ia(),cxt=K1(),{safeRe:TN,t:IN}=t_(),fxt=o((t,e)=>{if(t instanceof axt)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(TN[IN.COERCE]);else{let n;for(;(n=TN[IN.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),TN[IN.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;TN[IN.COERCERTL].lastIndex=-1}return r===null?null:cxt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)},"coerce");OTe.exports=fxt});var CTe=j((men,NTe)=>{"use strict";p();m();NTe.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var BTe=j((ben,kTe)=>{"use strict";p();m();kTe.exports=xn;xn.Node=$1;xn.create=xn;function xn(t){var e=this;if(e instanceof xn||(e=new xn),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}o(xn,"Yallist");xn.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};xn.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};xn.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};xn.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)lxt(this,arguments[t]);return this.length};xn.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)dxt(this,arguments[t]);return this.length};xn.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};xn.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};xn.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};xn.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};xn.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};xn.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};xn.prototype.map=function(t,e){e=e||this;for(var r=new xn,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};xn.prototype.mapReverse=function(t,e){e=e||this;for(var r=new xn,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};xn.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};xn.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};xn.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};xn.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};xn.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};xn.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xn;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};xn.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=uxt(this,i,r[n]);return s};xn.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function uxt(t,e,r){var n=e===t.head?new $1(r,null,e,t):new $1(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}o(uxt,"insert");function lxt(t,e){t.tail=new $1(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}o(lxt,"push");function dxt(t,e){t.head=new $1(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}o(dxt,"unshift");function $1(t,e,r,n){if(!(this instanceof $1))return new $1(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o($1,"Node");try{CTe()(xn)}catch{}});var FTe=j((wen,UTe)=>{"use strict";p();m();var hxt=BTe(),G1=Symbol("max"),M0=Symbol("length"),n_=Symbol("lengthCalculator"),h6=Symbol("allowStale"),W1=Symbol("maxAge"),O0=Symbol("dispose"),PTe=Symbol("noDisposeOnSet"),cs=Symbol("lruList"),Tl=Symbol("cache"),DTe=Symbol("updateAgeOnGet"),XG=o(()=>1,"naiveLength"),JG=class{static{o(this,"LRUCache")}constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[G1]=e.max||1/0,n=e.length||XG;if(this[n_]=typeof n!="function"?XG:n,this[h6]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[W1]=e.maxAge||0,this[O0]=e.dispose,this[PTe]=e.noDisposeOnSet||!1,this[DTe]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[G1]=e||1/0,d6(this)}get max(){return this[G1]}set allowStale(e){this[h6]=!!e}get allowStale(){return this[h6]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[W1]=e,d6(this)}get maxAge(){return this[W1]}set lengthCalculator(e){typeof e!="function"&&(e=XG),e!==this[n_]&&(this[n_]=e,this[M0]=0,this[cs].forEach(r=>{r.length=this[n_](r.value,r.key),this[M0]+=r.length})),d6(this)}get lengthCalculator(){return this[n_]}get length(){return this[M0]}get itemCount(){return this[cs].length}rforEach(e,r){r=r||this;for(let n=this[cs].tail;n!==null;){let i=n.prev;LTe(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[cs].head;n!==null;){let i=n.next;LTe(this,e,n,r),n=i}}keys(){return this[cs].toArray().map(e=>e.key)}values(){return this[cs].toArray().map(e=>e.value)}reset(){this[O0]&&this[cs]&&this[cs].length&&this[cs].forEach(e=>this[O0](e.key,e.value)),this[Tl]=new Map,this[cs]=new hxt,this[M0]=0}dump(){return this[cs].map(e=>RN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[cs]}set(e,r,n){if(n=n||this[W1],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[n_](r,e);if(this[Tl].has(e)){if(s>this[G1])return i_(this,this[Tl].get(e)),!1;let u=this[Tl].get(e).value;return this[O0]&&(this[PTe]||this[O0](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[M0]+=s-u.length,u.length=s,this.get(e),d6(this),!0}let a=new QG(e,r,s,i,n);return a.length>this[G1]?(this[O0]&&this[O0](e,r),!1):(this[M0]+=a.length,this[cs].unshift(a),this[Tl].set(e,this[cs].head),d6(this),!0)}has(e){if(!this[Tl].has(e))return!1;let r=this[Tl].get(e).value;return!RN(this,r)}get(e){return ZG(this,e,!0)}peek(e){return ZG(this,e,!1)}pop(){let e=this[cs].tail;return e?(i_(this,e),e.value):null}del(e){i_(this,this[Tl].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let a=s-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[Tl].forEach((e,r)=>ZG(this,r,!1))}},ZG=o((t,e,r)=>{let n=t[Tl].get(e);if(n){let i=n.value;if(RN(t,i)){if(i_(t,n),!t[h6])return}else r&&(t[DTe]&&(n.value.now=Date.now()),t[cs].unshiftNode(n));return i.value}},"get"),RN=o((t,e)=>{if(!e||!e.maxAge&&!t[W1])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[W1]&&r>t[W1]},"isStale"),d6=o(t=>{if(t[M0]>t[G1])for(let e=t[cs].tail;t[M0]>t[G1]&&e!==null;){let r=e.prev;i_(t,e),e=r}},"trim"),i_=o((t,e)=>{if(e){let r=e.value;t[O0]&&t[O0](r.key,r.value),t[M0]-=r.length,t[Tl].delete(r.key),t[cs].removeNode(e)}},"del"),QG=class{static{o(this,"Entry")}constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}},LTe=o((t,e,r,n)=>{let i=r.value;RN(t,i)&&(i_(t,r),t[h6]||(i=void 0)),i&&e.call(n,i.value,i.key,t)},"forEachStep");UTe.exports=JG});var Su=j((Ten,jTe)=>{p();m();var eW=class t{static{o(this,"Range")}constructor(e,r){if(r=mxt(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof tW)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n)).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!qTe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&wxt(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&vxt)|(this.options.loose&&_xt))+":"+e,i=HTe.get(n);if(i)return i;let s=this.options.loose,a=s?Dc[Ja.HYPHENRANGELOOSE]:Dc[Ja.HYPHENRANGE];e=e.replace(a,Cxt(this.options.includePrerelease)),Hi("hyphen replace",e),e=e.replace(Dc[Ja.COMPARATORTRIM],yxt),Hi("comparator trim",e),e=e.replace(Dc[Ja.TILDETRIM],bxt),e=e.replace(Dc[Ja.CARETTRIM],xxt);let c=e.split(" ").map(g=>Sxt(g,this.options)).join(" ").split(/\s+/).map(g=>Nxt(g,this.options));s&&(c=c.filter(g=>(Hi("loose invalid filter",g,this.options),!!g.match(Dc[Ja.COMPARATORLOOSE])))),Hi("range list",c);let u=new Map,h=c.map(g=>new tW(g,this.options));for(let g of h){if(qTe(g))return[g];u.set(g.value,g)}u.size>1&&u.has("")&&u.delete("");let y=[...u.values()];return HTe.set(n,y),y}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>VTe(n,r)&&e.set.some(i=>VTe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new gxt(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(kxt(this.set[r],e,this.options))return!0;return!1}};jTe.exports=eW;var pxt=FTe(),HTe=new pxt({max:1e3}),mxt=xN(),tW=p6(),Hi=u6(),gxt=Ia(),{safeRe:Dc,t:Ja,comparatorTrimReplace:yxt,tildeTrimReplace:bxt,caretTrimReplace:xxt}=t_(),{FLAG_INCLUDE_PRERELEASE:vxt,FLAG_LOOSE:_xt}=f6(),qTe=o(t=>t.value==="<0.0.0-0","isNullSet"),wxt=o(t=>t.value==="","isAny"),VTe=o((t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},"isSatisfiable"),Sxt=o((t,e)=>(Hi("comp",t,e),t=Txt(t,e),Hi("caret",t),t=Ext(t,e),Hi("tildes",t),t=Rxt(t,e),Hi("xrange",t),t=Mxt(t,e),Hi("stars",t),t),"parseComparator"),Qa=o(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),Ext=o((t,e)=>t.trim().split(/\s+/).map(r=>Axt(r,e)).join(" "),"replaceTildes"),Axt=o((t,e)=>{let r=e.loose?Dc[Ja.TILDELOOSE]:Dc[Ja.TILDE];return t.replace(r,(n,i,s,a,c)=>{Hi("tilde",t,n,i,s,a,c);let u;return Qa(i)?u="":Qa(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Qa(a)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:c?(Hi("replaceTilde pr",c),u=`>=${i}.${s}.${a}-${c} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Hi("tilde return",u),u})},"replaceTilde"),Txt=o((t,e)=>t.trim().split(/\s+/).map(r=>Ixt(r,e)).join(" "),"replaceCarets"),Ixt=o((t,e)=>{Hi("caret",t,e);let r=e.loose?Dc[Ja.CARETLOOSE]:Dc[Ja.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,c,u)=>{Hi("caret",t,i,s,a,c,u);let h;return Qa(s)?h="":Qa(a)?h=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Qa(c)?s==="0"?h=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:u?(Hi("replaceCaret pr",u),s==="0"?a==="0"?h=`>=${s}.${a}.${c}-${u} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}-${u} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c}-${u} <${+s+1}.0.0-0`):(Hi("no pr"),s==="0"?a==="0"?h=`>=${s}.${a}.${c}${n} <${s}.${a}.${+c+1}-0`:h=`>=${s}.${a}.${c}${n} <${s}.${+a+1}.0-0`:h=`>=${s}.${a}.${c} <${+s+1}.0.0-0`),Hi("caret return",h),h})},"replaceCaret"),Rxt=o((t,e)=>(Hi("replaceXRanges",t,e),t.split(/\s+/).map(r=>Oxt(r,e)).join(" ")),"replaceXRanges"),Oxt=o((t,e)=>{t=t.trim();let r=e.loose?Dc[Ja.XRANGELOOSE]:Dc[Ja.XRANGE];return t.replace(r,(n,i,s,a,c,u)=>{Hi("xRange",t,n,i,s,a,c,u);let h=Qa(s),y=h||Qa(a),g=y||Qa(c),S=g;return i==="="&&S&&(i=""),u=e.includePrerelease?"-0":"",h?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&S?(y&&(a=0),c=0,i===">"?(i=">=",y?(s=+s+1,a=0,c=0):(a=+a+1,c=0)):i==="<="&&(i="<",y?s=+s+1:a=+a+1),i==="<"&&(u="-0"),n=`${i+s}.${a}.${c}${u}`):y?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:g&&(n=`>=${s}.${a}.0${u} <${s}.${+a+1}.0-0`),Hi("xRange return",n),n})},"replaceXRange"),Mxt=o((t,e)=>(Hi("replaceStars",t,e),t.trim().replace(Dc[Ja.STAR],"")),"replaceStars"),Nxt=o((t,e)=>(Hi("replaceGTE0",t,e),t.trim().replace(Dc[e.includePrerelease?Ja.GTE0PRE:Ja.GTE0],"")),"replaceGTE0"),Cxt=o(t=>(e,r,n,i,s,a,c,u,h,y,g,S,T)=>(Qa(n)?r="":Qa(i)?r=`>=${n}.0.0${t?"-0":""}`:Qa(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Qa(h)?u="":Qa(y)?u=`<${+h+1}.0.0-0`:Qa(g)?u=`<${h}.${+y+1}.0-0`:S?u=`<=${h}.${y}.${g}-${S}`:t?u=`<${h}.${y}.${+g+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),"hyphenReplace"),kxt=o((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Hi(t[n].semver),t[n].semver!==tW.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var p6=j((Men,YTe)=>{p();m();var m6=Symbol("SemVer ANY"),iW=class t{static{o(this,"Comparator")}static get ANY(){return m6}constructor(e,r){if(r=zTe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),nW("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===m6?this.value="":this.value=this.operator+this.semver.version,nW("comp",this)}parse(e){let r=this.options.loose?KTe[$Te.COMPARATORLOOSE]:KTe[$Te.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new GTe(n[2],this.options.loose):this.semver=m6}toString(){return this.value}test(e){if(nW("Comparator.test",e,this.options.loose),this.semver===m6||e===m6)return!0;if(typeof e=="string")try{e=new GTe(e,this.options)}catch{return!1}return rW(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new WTe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new WTe(this.value,r).test(e.semver):(r=zTe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||rW(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||rW(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};YTe.exports=iW;var zTe=xN(),{safeRe:KTe,t:$Te}=t_(),rW=YG(),nW=u6(),GTe=Ia(),WTe=Su()});var g6=j((Ben,XTe)=>{p();m();var Bxt=Su(),Pxt=o((t,e,r)=>{try{e=new Bxt(e,r)}catch{return!1}return e.test(t)},"satisfies");XTe.exports=Pxt});var JTe=j((Uen,ZTe)=>{p();m();var Lxt=Su(),Dxt=o((t,e)=>new Lxt(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");ZTe.exports=Dxt});var eIe=j((Ven,QTe)=>{p();m();var Uxt=Ia(),Fxt=Su(),Hxt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Fxt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Uxt(n,r))}),n},"maxSatisfying");QTe.exports=Hxt});var rIe=j(($en,tIe)=>{p();m();var qxt=Ia(),Vxt=Su(),jxt=o((t,e,r)=>{let n=null,i=null,s=null;try{s=new Vxt(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new qxt(n,r))}),n},"minSatisfying");tIe.exports=jxt});var oIe=j((Xen,iIe)=>{p();m();var oW=Ia(),zxt=Su(),nIe=l6(),Kxt=o((t,e)=>{t=new zxt(t,e);let r=new oW("0.0.0");if(t.test(r)||(r=new oW("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let c=new oW(a.semver.version);switch(a.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||nIe(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||nIe(r,s))&&(r=s)}return r&&t.test(r)?r:null},"minVersion");iIe.exports=Kxt});var aIe=j((etn,sIe)=>{p();m();var $xt=Su(),Gxt=o((t,e)=>{try{return new $xt(t,e).range||"*"}catch{return null}},"validRange");sIe.exports=Gxt});var ON=j((itn,lIe)=>{p();m();var Wxt=Ia(),uIe=p6(),{ANY:Yxt}=uIe,Xxt=Su(),Zxt=g6(),cIe=l6(),fIe=SN(),Jxt=AN(),Qxt=EN(),evt=o((t,e,r,n)=>{t=new Wxt(t,n),e=new Xxt(e,n);let i,s,a,c,u;switch(r){case">":i=cIe,s=Jxt,a=fIe,c=">",u=">=";break;case"<":i=fIe,s=Qxt,a=cIe,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Zxt(t,e,n))return!1;for(let h=0;h<e.set.length;++h){let y=e.set[h],g=null,S=null;if(y.forEach(T=>{T.semver===Yxt&&(T=new uIe(">=0.0.0")),g=g||T,S=S||T,i(T.semver,g.semver,n)?g=T:a(T.semver,S.semver,n)&&(S=T)}),g.operator===c||g.operator===u||(!S.operator||S.operator===c)&&s(t,S.semver))return!1;if(S.operator===u&&a(t,S.semver))return!1}return!0},"outside");lIe.exports=evt});var hIe=j((ctn,dIe)=>{p();m();var tvt=ON(),rvt=o((t,e,r)=>tvt(t,e,">",r),"gtr");dIe.exports=rvt});var mIe=j((dtn,pIe)=>{p();m();var nvt=ON(),ivt=o((t,e,r)=>nvt(t,e,"<",r),"ltr");pIe.exports=ivt});var bIe=j((gtn,yIe)=>{p();m();var gIe=Su(),ovt=o((t,e,r)=>(t=new gIe(t,r),e=new gIe(e,r),t.intersects(e,r)),"intersects");yIe.exports=ovt});var vIe=j((vtn,xIe)=>{p();m();var svt=g6(),avt=wu();xIe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((y,g)=>avt(y,g,r));for(let y of a)svt(y,e,r)?(s=y,i||(i=y)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let c=[];for(let[y,g]of n)y===g?c.push(y):!g&&y===a[0]?c.push("*"):g?y===a[0]?c.push(`<=${g}`):c.push(`${y} - ${g}`):c.push(`>=${y}`);let u=c.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return u.length<h.length?u:e}});var TIe=j((Stn,AIe)=>{p();m();var _Ie=Su(),aW=p6(),{ANY:sW}=aW,y6=g6(),cW=wu(),cvt=o((t,e,r={})=>{if(t===e)return!0;t=new _Ie(t,r),e=new _Ie(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=uvt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),fvt=[new aW(">=0.0.0-0")],wIe=[new aW(">=0.0.0")],uvt=o((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===sW){if(e.length===1&&e[0].semver===sW)return!0;r.includePrerelease?t=fvt:t=wIe}if(e.length===1&&e[0].semver===sW){if(r.includePrerelease)return!0;e=wIe}let n=new Set,i,s;for(let T of t)T.operator===">"||T.operator===">="?i=SIe(i,T,r):T.operator==="<"||T.operator==="<="?s=EIe(s,T,r):n.add(T.semver);if(n.size>1)return null;let a;if(i&&s){if(a=cW(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let T of n){if(i&&!y6(T,String(i),r)||s&&!y6(T,String(s),r))return null;for(let O of e)if(!y6(T,String(O),r))return!1;return!0}let c,u,h,y,g=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,S=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;g&&g.prerelease.length===1&&s.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let T of e){if(y=y||T.operator===">"||T.operator===">=",h=h||T.operator==="<"||T.operator==="<=",i){if(S&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===S.major&&T.semver.minor===S.minor&&T.semver.patch===S.patch&&(S=!1),T.operator===">"||T.operator===">="){if(c=SIe(i,T,r),c===T&&c!==i)return!1}else if(i.operator===">="&&!y6(i.semver,String(T),r))return!1}if(s){if(g&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===g.major&&T.semver.minor===g.minor&&T.semver.patch===g.patch&&(g=!1),T.operator==="<"||T.operator==="<="){if(u=EIe(s,T,r),u===T&&u!==s)return!1}else if(s.operator==="<="&&!y6(s.semver,String(T),r))return!1}if(!T.operator&&(s||i)&&a!==0)return!1}return!(i&&h&&!s&&a!==0||s&&y&&!i&&a!==0||S||g)},"simpleSubset"),SIe=o((t,e,r)=>{if(!t)return e;let n=cW(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),EIe=o((t,e,r)=>{if(!t)return e;let n=cW(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");AIe.exports=cvt});var MIe=j((Itn,OIe)=>{p();m();var fW=t_(),IIe=f6(),lvt=Ia(),RIe=KG(),dvt=K1(),hvt=G5e(),pvt=Y5e(),mvt=J5e(),gvt=tTe(),yvt=nTe(),bvt=oTe(),xvt=aTe(),vvt=fTe(),_vt=wu(),wvt=hTe(),Svt=mTe(),Evt=wN(),Avt=xTe(),Tvt=_Te(),Ivt=l6(),Rvt=SN(),Ovt=GG(),Mvt=WG(),Nvt=EN(),Cvt=AN(),kvt=YG(),Bvt=MTe(),Pvt=p6(),Lvt=Su(),Dvt=g6(),Uvt=JTe(),Fvt=eIe(),Hvt=rIe(),qvt=oIe(),Vvt=aIe(),jvt=ON(),zvt=hIe(),Kvt=mIe(),$vt=bIe(),Gvt=vIe(),Wvt=TIe();OIe.exports={parse:dvt,valid:hvt,clean:pvt,inc:mvt,diff:gvt,major:yvt,minor:bvt,patch:xvt,prerelease:vvt,compare:_vt,rcompare:wvt,compareLoose:Svt,compareBuild:Evt,sort:Avt,rsort:Tvt,gt:Ivt,lt:Rvt,eq:Ovt,neq:Mvt,gte:Nvt,lte:Cvt,cmp:kvt,coerce:Bvt,Comparator:Pvt,Range:Lvt,satisfies:Dvt,toComparators:Uvt,maxSatisfying:Fvt,minSatisfying:Hvt,minVersion:qvt,validRange:Vvt,outside:jvt,gtr:zvt,ltr:Kvt,intersects:$vt,simplifyRange:Gvt,subset:Wvt,SemVer:lvt,re:fW.re,src:fW.src,tokens:fW.t,SEMVER_SPEC_VERSION:IIe.SEMVER_SPEC_VERSION,RELEASE_TYPES:IIe.RELEASE_TYPES,compareIdentifiers:RIe.compareIdentifiers,rcompareIdentifiers:RIe.rcompareIdentifiers}});var DIe=j(X1=>{"use strict";p();m();Object.defineProperty(X1,"__esModule",{value:!0});X1.ObfuscatedOperatorType=X1.OperatorType=void 0;X1.matchesRule=Yvt;var Il=MIe(),Y1=T0(),Cs;(function(t){t.MATCHES="MATCHES",t.NOT_MATCHES="NOT_MATCHES",t.GTE="GTE",t.GT="GT",t.LTE="LTE",t.LT="LT",t.ONE_OF="ONE_OF",t.NOT_ONE_OF="NOT_ONE_OF",t.IS_NULL="IS_NULL"})(Cs||(X1.OperatorType=Cs={}));var ks;(function(t){t.MATCHES="05015086bdd8402218f6aad6528bef08",t.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",t.GTE="32d35312e8f24bc1669bd2b45c00d47c",t.GT="cd6a9bd2a175104eed40f0d33a8b4020",t.LTE="cc981ecc65ecf63ad1673cbec9c64198",t.LT="c562607189d77eb9dfb707464c1e7b0b",t.ONE_OF="27457ce369f2a74203396a35ef537c0b",t.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",t.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"})(ks||(X1.ObfuscatedOperatorType=ks={}));var N0;(function(t){t.PLAIN_STRING="PLAIN_STRING",t.STRING_ARRAY="STRING_ARRAY",t.SEM_VER="SEM_VER",t.NUMERIC="NUMERIC"})(N0||(N0={}));function Yvt(t,e,r){return!Xvt(e,t.conditions,r).includes(!1)}o(Yvt,"matchesRule");function Xvt(t,e,r){return e.map(n=>r?Jvt(Object.entries(t).reduce((i,[s,a])=>({[(0,Y1.getMD5Hash)(s)]:a,...i}),{}),n):Zvt(t,n))}o(Xvt,"evaluateRuleConditions");function Zvt(t,e){let r=t[e.attribute];if(e.operator===Cs.IS_NULL)return e.value?r==null:r!=null;if(r!=null)switch(e.operator){case Cs.GTE:case Cs.GT:case Cs.LTE:case Cs.LT:{if(LIe(e.value)===N0.SEM_VER){let s=e.operator===Cs.GTE?Il.gte:e.operator===Cs.GT?Il.gt:e.operator===Cs.LTE?Il.lte:Il.lt;return PIe(r,e.value,s)}let i=o((s,a)=>e.operator===Cs.GTE?s>=a:e.operator===Cs.GT?s>a:e.operator===Cs.LTE?s<=a:s<a,"comparator");return BIe(r,e.value,i)}case Cs.MATCHES:return new RegExp(e.value).test(r);case Cs.NOT_MATCHES:return!new RegExp(e.value).test(r);case Cs.ONE_OF:return NIe(r.toString(),e.value);case Cs.NOT_ONE_OF:return CIe(r.toString(),e.value)}return!1}o(Zvt,"evaluateCondition");function Jvt(t,e){let r=t[e.attribute];if(e.operator===ks.IS_NULL)return e.value===(0,Y1.getMD5Hash)("true")?r==null:r!=null;if(r!=null)switch(e.operator){case ks.GTE:case ks.GT:case ks.LTE:case ks.LT:{let n=(0,Y1.decodeBase64)(e.value);if(LIe(n)===N0.SEM_VER){let a=e.operator===ks.GTE?Il.gte:e.operator===ks.GT?Il.gt:e.operator===ks.LTE?Il.lte:Il.lt;return PIe(r,n,a)}let s=o((a,c)=>e.operator===ks.GTE?a>=c:e.operator===ks.GT?a>c:e.operator===ks.LTE?a<=c:a<c,"comparator");return BIe(r,Number(n),s)}case ks.MATCHES:return new RegExp((0,Y1.decodeBase64)(e.value)).test(r);case ks.NOT_MATCHES:return!new RegExp((0,Y1.decodeBase64)(e.value)).test(r);case ks.ONE_OF:return NIe((0,Y1.getMD5Hash)(r.toString()),e.value);case ks.NOT_ONE_OF:return CIe((0,Y1.getMD5Hash)(r.toString()),e.value)}return!1}o(Jvt,"evaluateObfuscatedCondition");function NIe(t,e){return kIe(t,e).length>0}o(NIe,"isOneOf");function CIe(t,e){return kIe(t,e).length===0}o(CIe,"isNotOneOf");function kIe(t,e){return e.filter(r=>r===t)}o(kIe,"getMatchingStringValues");function BIe(t,e,r){return r(Number(t),Number(e))}o(BIe,"compareNumber");function PIe(t,e,r){return!!(0,Il.valid)(t)&&!!(0,Il.valid)(e)&&r(t,e)}o(PIe,"compareSemVer");function LIe(t){return typeof t=="number"?N0.NUMERIC:Array.isArray(t)?N0.STRING_ARRAY:typeof t=="string"&&(0,Il.valid)(t)?N0.SEM_VER:isNaN(Number(t))?N0.PLAIN_STRING:N0.NUMERIC}o(LIe,"targetingRuleConditionValuesTypesFromValues")});var qIe=j(pg=>{"use strict";p();m();Object.defineProperty(pg,"__esModule",{value:!0});pg.Evaluator=void 0;pg.isInShardRange=UIe;pg.hashKey=FIe;pg.noneResult=lW;pg.matchesRules=HIe;var Qvt=MN(),b6=qG(),e2t=jG(),t2t=DIe(),r2t=EG(),uW=class{static{o(this,"Evaluator")}constructor(e){this.getMatchedEvaluationCodeAndDescription=(r,n,i,s,a)=>{if(!(0,Qvt.checkValueTypeMatch)(a,r.value)){let{key:g,value:S}=r;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:`Variation (${g}) is configured for type ${a}, but is set to incompatible value (${S})`}}let c=!!n.rules?.length,u=n.splits.length>1,h=i.shards.length>1,y=u||h;return c&&y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}" and ${s} belongs to the range of traffic assigned to "${i.variationKey}".`}:c&&!y?{flagEvaluationCode:"MATCH",flagEvaluationDescription:`Supplied attributes match rules defined in allocation "${n.key}".`}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:`${s} belongs to the range of traffic assigned to "${i.variationKey}" defined in allocation "${n.key}".`}},this.sharder=e??new r2t.MD5Sharder}evaluateFlag(e,r,n,i,s,a){let c=new b6.FlagEvaluationDetailsBuilder(r.configEnvironment.name,e.allocations,r.configFetchedAt,r.configPublishedAt);try{if(!e.enabled)return lW(e.key,n,i,c.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`),r.configFormat);let u=new Date;for(let h=0;h<e.allocations.length;h++){let y=e.allocations[h],g=o(O=>{c.addUnmatchedAllocation({key:y.key,allocationEvaluationCode:O,orderPosition:h+1})},"addUnmatchedAllocation");if(y.startAt&&u<new Date(y.startAt)){g(b6.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(y.endAt&&u>new Date(y.endAt)){g(b6.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:S,matchedRule:T}=HIe(y?.rules??[],{id:n,...i},s);if(S){for(let O of y.splits)if(O.shards.every(M=>this.matchesShard(M,n,e.totalShards))){let M=e.variations[O.variationKey],{flagEvaluationCode:k,flagEvaluationDescription:C}=this.getMatchedEvaluationCodeAndDescription(M,y,O,n,a),B=c.setMatch(h,M,y,T,a).build(k,C);return{flagKey:e.key,format:r.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:y.key,variation:M,extraLogging:O.extraLogging??{},doLog:y.doLog,flagEvaluationDetails:B}}g(b6.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else g(b6.AllocationEvaluationCode.FAILING_RULE)}return lW(e.key,n,i,c.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),r.configFormat)}catch(u){console.error(">>>>",u);let h=c.gracefulBuild("ASSIGNMENT_ERROR",`Assignment Error: ${u.message}`);if(h){let y=new e2t.FlagEvaluationError(u.message);throw y.flagEvaluationDetails=h,y}throw u}}matchesShard(e,r,n){let i=this.sharder.getShard(FIe(e.salt,r),n);return e.ranges.some(s=>UIe(i,s))}};pg.Evaluator=uW;function UIe(t,e){return e.start<=t&&t<e.end}o(UIe,"isInShardRange");function FIe(t,e){return`${t}-${e}`}o(FIe,"hashKey");function lW(t,e,r,n,i){return{flagKey:t,format:i,subjectKey:e,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:n}}o(lW,"noneResult");function HIe(t,e,r){if(!t.length)return{matched:!0,matchedRule:null};let n=null;return t.some(s=>{let a=(0,t2t.matchesRule)(s,e,r);return a&&(n=s),a})?{matched:!0,matchedRule:n}:{matched:!1,matchedRule:null}}o(HIe,"matchesRules")});var hW=j(NN=>{"use strict";p();m();Object.defineProperty(NN,"__esModule",{value:!0});NN.BoundedEventQueue=void 0;var n2t=th(),i2t=E0(),dW=class{static{o(this,"BoundedEventQueue")}constructor(e,r=new Array,n=i2t.MAX_EVENT_QUEUE_SIZE){this.name=e,this.queue=r,this.maxSize=n}get length(){return this.queue.length}splice(e){return this.queue.splice(e)}isEmpty(){return this.queue.length===0}[Symbol.iterator](){return this.queue[Symbol.iterator]()}push(...e){let{name:r,maxSize:n,queue:i}=this;for(;i.length<n&&e.length>0;)i.push(...e.splice(0,1));e.length>0&&n2t.logger.warn(`Dropping ${e.length} events for queue ${r} since maxSize of ${n} reached.`)}flush(){let e=[...this.queue];return this.queue.length=0,e}};NN.BoundedEventQueue=dW});var gW=j(mW=>{"use strict";p();m();Object.defineProperty(mW,"__esModule",{value:!0});var pW=class{static{o(this,"NoOpEventDispatcher")}dispatch(e){}};mW.default=pW});var CN=j(x6=>{"use strict";p();m();Object.defineProperty(x6,"__esModule",{value:!0});x6.HttpRequestError=void 0;var Rl=class extends Error{static{o(this,"HttpRequestError")}constructor(e,r,n){super(e),this.message=e,this.status=r,this.cause=n,n&&(this.cause=n)}};x6.HttpRequestError=Rl;var yW=class{static{o(this,"FetchHttpClient")}constructor(e,r){this.apiEndpoints=e,this.timeout=r}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async getPrecomputedFlags(e){let r=this.apiEndpoints.precomputedFlagsEndpoint();return await this.rawPost(r,e)}async rawGet(e){try{let r=new AbortController,n=r.signal,i=setTimeout(()=>r.abort(),this.timeout),s=await fetch(e.toString(),{signal:n});if(clearTimeout(i),!s?.ok)throw new Rl("Failed to fetch data",s?.status);return await s.json()}catch(r){throw r.name==="AbortError"?new Rl("Request timed out",408,r):r instanceof Rl?r:new Rl("Network error",0,r)}}async rawPost(e,r){try{let n=new AbortController,i=n.signal,s=setTimeout(()=>n.abort(),this.timeout),a=await fetch(e.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:i});if(clearTimeout(s),!a?.ok){let c=await a.text();throw new Rl(c||"Failed to post data",a?.status)}return await a.json()}catch(n){throw n.name==="AbortError"?new Rl("Request timed out",408,n):n instanceof Rl?n:new Rl("Network error",0,n)}}};x6.default=yW});var VIe=j(bW=>{"use strict";p();m();Object.defineProperty(bW,"__esModule",{value:!0});bW.waitForMs=o2t;async function o2t(t){await new Promise(e=>setTimeout(e,t))}o(o2t,"waitForMs")});var vW=j(xW=>{"use strict";p();m();Object.defineProperty(xW,"__esModule",{value:!0});xW.default=a2t;var yf=th(),kN=E0(),s2t=VIe();function a2t(t,e,r){let n=!1,i=0,s=t,a=!1,c,u=o(async()=>{n=!1;let g=!1,S=r?.skipInitialPoll?0:1+(r?.maxStartRetries??kN.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),T=null;for(;!g&&S>0;)try{await e(),g=!0,a=!1,yf.logger.info("Eppo SDK successfully requested initial configuration")}catch(M){if(a=!0,yf.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${M.message}`),--S>0){let k=jIe(t);yf.logger.warn(`Eppo SDK will retry the initial poll again in ${k} ms (${S} attempts remaining)`),await(0,s2t.waitForMs)(k)}else r?.pollAfterFailedStart?yf.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(yf.logger.error("Eppo SDK initial poll failed. Aborting polling"),h()),r?.errorOnFailedStart&&(T=M)}if(!n&&(g&&r?.pollAfterSuccessfulStart||!g&&r?.pollAfterFailedStart)?(yf.logger.info(`Eppo SDK starting regularly polling every ${t} ms`),c=setTimeout(y,t)):yf.logger.info("Eppo SDK will not poll for configuration updates"),T)throw yf.logger.info("Eppo SDK rethrowing start error"),T},"start"),h=o(()=>{n||(n=!0,c&&clearTimeout(c),yf.logger.info("Eppo SDK polling stopped"))},"stop");async function y(){if(!n){try{await e(),i=0,s=t,a&&(a=!1,yf.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(g){a=!0,yf.logger.warn(`Eppo SDK encountered an error polling configurations: ${g.message}`);let S=1+(r?.maxPollRetries??kN.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++i<S){let T=Math.pow(2,i),O=jIe(t);s=T*t+O,yf.logger.warn(`Eppo SDK will try polling again in ${s} ms (${S-i} attempts remaining)`)}else yf.logger.error(`Eppo SDK reached maximum of ${i} failed polling attempts. Stopping polling`),h()}setTimeout(y,s)}}return o(y,"poll"),{start:u,stop:h}}o(a2t,"initPoller");function jIe(t){let e=t*kN.POLL_JITTER_PCT/2,r=Math.max(Math.floor(Math.random()*t*kN.POLL_JITTER_PCT/2),1);return e+r}o(jIe,"randomJitterMs")});var PN=j(v6=>{"use strict";p();m();Object.defineProperty(v6,"__esModule",{value:!0});v6.InvalidArgumentError=void 0;v6.validateNotBlank=c2t;var BN=class extends Error{static{o(this,"InvalidArgumentError")}};v6.InvalidArgumentError=BN;function c2t(t,e){if(t==null||t.length===0)throw new BN(e)}o(c2t,"validateNotBlank")});var zIe=j((crn,f2t)=>{f2t.exports={name:"@eppo/js-client-sdk-common",version:"4.8.4",description:"Common library for Eppo JavaScript SDKs (web, react native, and node)",main:"dist/index.js",files:["/dist","/src","!*.spec.ts"],types:"./dist/index.d.ts",engines:{node:">=18.x"},exports:{".":{types:"./dist/index.d.ts",default:"./dist/index.js"}},scripts:{lint:"eslint '**/*.{ts,tsx}' --cache","lint:fix":"eslint --fix '**/*.{ts,tsx}' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix '**/*.{ts,tsx}' --no-eslintrc --cache",prepare:"make prepare","pre-commit":"lint-staged && tsc",typecheck:"tsc",test:"yarn test:unit","test:unit":"NODE_ENV=test jest '.*\\.spec\\.ts'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},jsdelivr:"dist/eppo-sdk.js",repository:{type:"git",url:"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},author:"",license:"MIT",bugs:{url:"https://github.com/Eppo-exp/js-client-sdk-common/issues"},homepage:"https://github.com/Eppo-exp/js-client-sdk-common#readme",devDependencies:{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0",eslint:"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.0.0","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",lodash:"^4.17.21",prettier:"^3.4.2","terser-webpack-plugin":"^5.3.3",testdouble:"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1",typescript:"^5.7.2",webpack:"^5.73.0","webpack-cli":"^6.0.1"},dependencies:{buffer:"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7",pino:"^9.5.0",semver:"^7.5.4","spark-md5":"^3.0.2",uuid:"^11.0.5"},packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}});var _W=j(LN=>{"use strict";p();m();Object.defineProperty(LN,"__esModule",{value:!0});LN.LIB_VERSION=void 0;var u2t=zIe();LN.LIB_VERSION=u2t.version});var MN=j(w6=>{"use strict";p();m();Object.defineProperty(w6,"__esModule",{value:!0});w6.checkTypeMatch=XIe;w6.checkValueTypeMatch=E2t;var l2t=q4(),d2t=eN(),qi=th(),Z1=_G(),h2t=_5e(),p2t=oN(),KIe=aN(),m2t=S5e(),$Ie=I5e(),g2t=PG(),_6=E0(),y2t=gN(),J1=C5e(),DN=qIe(),GIe=hW(),b2t=gW(),WIe=qG(),x2t=jG(),v2t=CN(),nh=I0(),_2t=T0(),w2t=vW(),YIe=PN(),S2t=_W(),wW=class{static{o(this,"EppoClient")}constructor({eventDispatcher:e=new b2t.default,isObfuscated:r=!1,flagConfigurationStore:n,banditVariationConfigurationStore:i,banditModelConfigurationStore:s,configurationRequestParameters:a}){this.assignmentEventsQueue=new GIe.BoundedEventQueue("assignments"),this.banditEventsQueue=new GIe.BoundedEventQueue("bandit"),this.banditEvaluator=new h2t.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new DN.Evaluator,this.eventDispatcher=e,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=i,this.banditModelConfigurationStore=s,this.configurationRequestParameters=a,this.isObfuscated=r}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setEventDispatcher(e){this.eventDispatcher=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){if(!this.configurationRequestParameters)throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=_6.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=_6.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=_6.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:u=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:g=!1}=this.configurationRequestParameters,{pollingIntervalMs:S=_6.DEFAULT_POLL_INTERVAL_MS}=this.configurationRequestParameters;S<=0&&(qi.logger.error("pollingIntervalMs must be greater than 0. Using default"),S=_6.DEFAULT_POLL_INTERVAL_MS);let T=new d2t.default({baseUrl:i,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),O=new v2t.default(T,s),M=new g2t.default(O,this.flagConfigurationStore,this.banditVariationConfigurationStore??null,this.banditModelConfigurationStore??null),k=o(async()=>{if(await this.flagConfigurationStore.isExpired())return M.fetchAndStoreConfigurations()},"pollingCallback");this.requestPoller=(0,w2t.default)(S,k,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:u,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:g}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,r,n,i){return this.getStringAssignmentDetails(e,r,n,i).variation}getStringAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,J1.EppoValue.String(i),nh.VariationType.STRING);return{variation:s.stringValue??i,action:null,evaluationDetails:a}}getBoolAssignment(e,r,n,i){return this.getBooleanAssignment(e,r,n,i)}getBooleanAssignment(e,r,n,i){return this.getBooleanAssignmentDetails(e,r,n,i).variation}getBooleanAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,J1.EppoValue.Bool(i),nh.VariationType.BOOLEAN);return{variation:s.boolValue??i,action:null,evaluationDetails:a}}getIntegerAssignment(e,r,n,i){return this.getIntegerAssignmentDetails(e,r,n,i).variation}getIntegerAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,J1.EppoValue.Numeric(i),nh.VariationType.INTEGER);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getNumericAssignment(e,r,n,i){return this.getNumericAssignmentDetails(e,r,n,i).variation}getNumericAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,J1.EppoValue.Numeric(i),nh.VariationType.NUMERIC);return{variation:s.numericValue??i,action:null,evaluationDetails:a}}getJSONAssignment(e,r,n,i){return this.getJSONAssignmentDetails(e,r,n,i).variation}getJSONAssignmentDetails(e,r,n,i){let{eppoValue:s,flagEvaluationDetails:a}=this.getAssignmentVariation(e,r,n,J1.EppoValue.JSON(i),nh.VariationType.JSON);return{variation:s.objectValue??i,action:null,evaluationDetails:a}}getBanditAction(e,r,n,i,s){let{variation:a,action:c}=this.getBanditActionDetails(e,r,n,i,s);return{variation:a,action:c}}getBestAction(e,r,n,i){let s=null,c=this.banditVariationConfigurationStore?.get(e)?.at(0)?.key;if(c){let u=this.getBandit(c);if(u){let h=(0,Z1.ensureContextualSubjectAttributes)(r),y=(0,Z1.ensureActionsWithContextualAttributes)(n);s=this.banditEvaluator.evaluateBestBanditAction(h,y,u.modelData)}}return s??i}getBanditActionDetails(e,r,n,i,s){let a=s,c=null,u=this.newFlagEvaluationDetailsBuilder(e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{let h=(0,Z1.ensureNonContextualSubjectAttributes)(n),{variation:y,evaluationDetails:g}=this.getStringAssignmentDetails(e,r,h,s);a=y,u=g;let S=this.findBanditByVariation(e,a);if(!S)return{variation:a,action:null,evaluationDetails:u};u.banditKey=S.banditKey;let T=this.evaluateBanditAction(e,r,n,i,S.modelData);if(T?.actionKey){c=T.actionKey;let O={timestamp:new Date().toISOString(),featureFlag:e,bandit:S.banditKey,subject:r,action:c,actionProbability:T.actionWeight,optimalityGap:T.optimalityGap,modelVersion:S.modelVersion,subjectNumericAttributes:T.subjectAttributes.numericAttributes,subjectCategoricalAttributes:T.subjectAttributes.categoricalAttributes,actionNumericAttributes:T.actionAttributes.numericAttributes,actionCategoricalAttributes:T.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:u};try{this.logBanditAction(O)}catch(M){qi.logger.error("Error logging bandit event",M)}u.banditAction=c}}catch(h){if(qi.logger.error("Error determining bandit action",h),!this.isGracefulFailureMode)throw h;a&&(u.flagEvaluationCode="BANDIT_ERROR"),u.flagEvaluationDescription=`Error evaluating bandit action: ${h.message}`}return{variation:a,action:c,evaluationDetails:u}}getExperimentContainerEntry(e,r,n){let{flagKey:i,controlVariationEntry:s,treatmentVariationEntries:a}=e,c=this.getStringAssignment(i,r,n,"control");if(c==="control")return s;if(!c.startsWith("treatment-"))return qi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s;let u=Number.parseInt(c.split("-")[1])-1;return isNaN(u)?(qi.logger.warn(`Variation '${c}' cannot be mapped to a container. Defaulting to control variation.`),s):u>=a.length?(qi.logger.warn(`Selected treatment variation (${u}) index is out of bounds. Defaulting to control variation.`),s):a[u]}evaluateBanditAction(e,r,n,i,s){if(!Object.keys(i).length)return null;let a=(0,Z1.ensureContextualSubjectAttributes)(n),c=(0,Z1.ensureActionsWithContextualAttributes)(i);return this.banditEvaluator.evaluateBandit(e,r,a,c,s)}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){qi.logger.warn("Error encountered logging bandit action",c)}}getAssignmentVariation(e,r,n,i,s){try{let a=this.getAssignmentDetail(e,r,n,s);return this.parseVariationWithDetails(a,i,s)}catch(a){let c=this.rethrowIfNotGraceful(a,i);if(a instanceof x2t.FlagEvaluationError&&a.flagEvaluationDetails)return{eppoValue:c,flagEvaluationDetails:a.flagEvaluationDetails};{let u=new WIe.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${a.message}`);return{eppoValue:c,flagEvaluationDetails:u}}}}parseVariationWithDetails({flagEvaluationDetails:e,variation:r},n,i){try{return!r||e.flagEvaluationCode!=="MATCH"?{eppoValue:n,flagEvaluationDetails:e}:{eppoValue:J1.EppoValue.valueOf(r.value,i),flagEvaluationDetails:e}}catch(s){return{eppoValue:this.rethrowIfNotGraceful(s,n),flagEvaluationDetails:e}}}rethrowIfNotGraceful(e,r){if(this.isGracefulFailureMode)return qi.logger.error(`${qi.loggerPrefix} Error getting assignment: ${e.message}`),r??J1.EppoValue.Null();throw e}getAllAssignments(e,r={}){let n=this.getConfigDetails(),i=this.getFlagKeys(),s={};return i.forEach(a=>{let c=this.getFlag(a);if(!c){qi.logger.debug(`${qi.loggerPrefix} No assigned variation. Flag does not exist.`);return}let u=this.evaluator.evaluateFlag(c,n,e,r,this.isObfuscated);if(!u.variation||!u.allocationKey){qi.logger.debug(`${qi.loggerPrefix} No assigned variation: ${a}`);return}s[a]={flagKey:a,allocationKey:u.allocationKey,doLog:u.doLog,extraLogging:u.extraLogging,variationKey:u.variation.key,variationType:c.variationType,variationValue:u.variation.value.toString()}}),s}getPrecomputedConfiguration(e,r={},n={},i){let s=this.getConfigDetails(),a=(0,Z1.ensureContextualSubjectAttributes)(r),c=(0,Z1.ensureNonContextualSubjectAttributes)(r),u=this.getAllAssignments(e,c),h=this.computeBanditsForFlags(e,a,n,u),y=$Ie.PrecomputedConfiguration.obfuscated(e,u,h,i??"",a,s.configEnvironment),g=new $Ie.ConfigurationWireV1(y);return JSON.stringify(g)}getAssignmentDetail(e,r,n={},i){(0,YIe.validateNotBlank)(r,"Invalid argument: subjectKey cannot be blank"),(0,YIe.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.newFlagEvaluationDetailsBuilder(e),a=this.getConfigDetails(),c=this.getFlag(e);if(c===null){qi.logger.warn(`${qi.loggerPrefix} No assigned variation. Flag not found: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,DN.noneResult)(e,r,n,h,a.configFormat)}if(!XIe(i,c.variationType)){let h=`Variation value does not have the correct type. Found ${c.variationType}, but expected ${i} for flag ${e}`;if(this.isGracefulFailureMode){let y=s.buildForNoneResult("TYPE_MISMATCH",h);return(0,DN.noneResult)(e,r,n,y,a.configFormat)}throw new TypeError(h)}if(!c.enabled){qi.logger.info(`${qi.loggerPrefix} No assigned variation. Flag is disabled: ${e}`);let h=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,DN.noneResult)(e,r,n,h,a.configFormat)}let u=this.evaluator.evaluateFlag(c,a,r,n,this.isObfuscated,i);this.isObfuscated&&(u.flagKey=e);try{u?.doLog&&this.maybeLogAssignment(u)}catch(h){qi.logger.error(`${qi.loggerPrefix} Error logging assignment event: ${h}`)}return u}track(e,r){this.eventDispatcher.dispatch({uuid:(0,l2t.v4)(),type:e,timestamp:new Date().getTime(),payload:r})}newFlagEvaluationDetailsBuilder(e){let r=this.getFlag(e),n=this.getConfigDetails();return new WIe.FlagEvaluationDetailsBuilder(n.configEnvironment.name,r?.allocations??[],n.configFetchedAt,n.configPublishedAt)}getConfigDetails(){return{configFetchedAt:this.flagConfigurationStore.getConfigFetchedAt()??"",configPublishedAt:this.flagConfigurationStore.getConfigPublishedAt()??"",configEnvironment:this.flagConfigurationStore.getEnvironment()??{name:""},configFormat:this.flagConfigurationStore.getFormat()??""}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let r=this.flagConfigurationStore.get((0,_2t.getMD5Hash)(e));return r?(0,y2t.decodeFlag)(r):null}getBandit(e){return this.banditModelConfigurationStore?.get(e)??null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new KIe.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new p2t.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}disableBanditAssignmentCache(){this.banditAssignmentCache=void 0}useNonExpiringInMemoryBanditAssignmentCache(){this.banditAssignmentCache=new KIe.NonExpiringInMemoryAssignmentCache}useExpiringInMemoryBanditAssignmentCache(e,r){this.banditAssignmentCache=new m2t.TLRUInMemoryAssignmentCache(e,r)}useCustomBanditAssignmentCache(e){this.banditAssignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,r){let n=e.flush();r&&n.forEach(i=>{try{r(i)}catch(s){qi.logger.error(`${qi.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}maybeLogAssignment(e){let{flagKey:r,format:n,subjectKey:i,allocationKey:s,subjectAttributes:a,variation:c}=e,u={...e.extraLogging??{},allocation:s??null,experiment:s?`${r}-${s}`:null,featureFlag:r,format:n,variation:c?.key??null,subject:i,timestamp:new Date().toISOString(),subjectAttributes:a,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails};if(!(c&&s&&this.assignmentCache?.has({flagKey:r,subjectKey:i,allocationKey:s,variationKey:c.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(u):this.assignmentEventsQueue.push(u),this.assignmentCache?.set({flagKey:r,subjectKey:i,allocationKey:s??"__eppo_no_allocation",variationKey:c?.key??"__eppo_no_variation"})}catch(h){qi.logger.error(`${qi.loggerPrefix} Error logging assignment event: ${h.message}`)}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:S2t.LIB_VERSION}}computeBanditsForFlags(e,r,n,i){let s={};return Object.keys(n).forEach(a=>{let c=i[a];if(c){let u=this.getPrecomputedBandit(a,c.variationValue,e,r,n[a]);u&&(s[a]=u)}}),s}findBanditByVariation(e,r){let i=this.banditVariationConfigurationStore?.get(e)?.find(s=>s.variationValue===r)?.key;return i?this.getBandit(i):null}getPrecomputedBandit(e,r,n,i,s){let a=this.findBanditByVariation(e,r);if(!a)return null;let c=this.evaluateBanditAction(e,n,i,s,a.modelData);return c?{banditKey:a.banditKey,action:c.actionKey,actionNumericAttributes:c.actionAttributes.numericAttributes,actionCategoricalAttributes:c.actionAttributes.categoricalAttributes,actionProbability:c.actionWeight,modelVersion:a.modelVersion,optimalityGap:c.optimalityGap}:null}};w6.default=wW;function XIe(t,e){return t===void 0||e===t}o(XIe,"checkTypeMatch");function E2t(t,e){if(t==null)return!0;switch(t){case nh.VariationType.STRING:return typeof e=="string";case nh.VariationType.BOOLEAN:return typeof e=="boolean";case nh.VariationType.INTEGER:return typeof e=="number"&&Number.isInteger(e);case nh.VariationType.NUMERIC:return typeof e=="number";case nh.VariationType.JSON:return typeof e=="string";default:return!1}}o(E2t,"checkValueTypeMatch")});var QIe=j(EW=>{"use strict";p();m();Object.defineProperty(EW,"__esModule",{value:!0});var ZIe=NG(),JIe=I0(),SW=class{static{o(this,"PrecomputedFlagRequestor")}constructor(e,r,n,i,s,a){this.httpClient=e,this.precomputedFlagStore=r,this.subjectKey=n,this.subjectAttributes=i,this.precomputedBanditsStore=s,this.banditActions=a}async fetchAndStorePrecomputedFlags(){let e=await this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});if(!e)return;let r=[];r.push((0,ZIe.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:e.flags,environment:e.environment??{name:JIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt})),this.precomputedBanditsStore&&r.push((0,ZIe.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:e.bandits,environment:e.environment??{name:JIe.UNKNOWN_ENVIRONMENT_NAME},createdAt:e.createdAt,format:e.format,salt:e.salt}))}};EW.default=SW});var nRe=j(TW=>{"use strict";p();m();Object.defineProperty(TW,"__esModule",{value:!0});var A2t=eN(),ci=th(),eRe=_G(),T2t=oN(),I2t=aN(),Q1=E0(),tRe=gN(),R2t=CN(),S6=I0(),rRe=T0(),O2t=vW(),M2t=QIe(),N2t=PN(),C2t=_W(),k2t=MN(),AW=class{static{o(this,"EppoPrecomputedClient")}constructor(e){this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=e.precomputedFlagStore,this.precomputedBanditStore=e.precomputedBanditStore;let{subjectKey:r,subjectAttributes:n}=e.subject;this.subject={subjectKey:r,subjectAttributes:(0,eRe.ensureContextualSubjectAttributes)(n)},this.banditActions=e.banditActions,e.requestParameters?this.requestParameters=e.requestParameters:(this.precomputedFlagStore.isInitialized()||ci.logger.error(`${ci.loggerPrefix} EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&ci.logger.error(`${ci.loggerPrefix} Passing banditOptions without requestParameters requires an initialized precomputedBanditStore`),this.precomputedFlagStore.salt||ci.logger.error(`${ci.loggerPrefix} EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided`),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&ci.logger.warn(`${ci.loggerPrefix} EppoPrecomputedClient missing or empty salt for precomputedBanditStore`))}async fetchPrecomputedFlags(){if(!this.requestParameters)throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");this.requestPoller?.stop();let{apiKey:e,sdkName:r,sdkVersion:n,baseUrl:i,requestTimeoutMs:s=Q1.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:a=Q1.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:c=Q1.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:u=!1,pollAfterFailedInitialization:h=!1,throwOnFailedInitialization:y=!1,skipInitialPoll:g=!1}=this.requestParameters,{subjectKey:S,subjectAttributes:T}=this.subject,{pollingIntervalMs:O=Q1.DEFAULT_POLL_INTERVAL_MS}=this.requestParameters;O<=0&&(ci.logger.error("pollingIntervalMs must be greater than 0. Using default"),O=Q1.DEFAULT_POLL_INTERVAL_MS);let M=new A2t.default({baseUrl:i??Q1.PRECOMPUTED_BASE_URL,queryParams:{apiKey:e,sdkName:r,sdkVersion:n}}),k=new R2t.default(M,s),C=new M2t.default(k,this.precomputedFlagStore,S,T,this.precomputedBanditStore,this.banditActions),B=o(async()=>{if(await this.precomputedFlagStore.isExpired())return C.fetchAndStorePrecomputedFlags()},"pollingCallback");this.requestPoller=(0,O2t.default)(O,B,{maxStartRetries:a,maxPollRetries:c,pollAfterSuccessfulStart:u,pollAfterFailedStart:h,errorOnFailedStart:y,skipInitialPoll:g}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getPrecomputedAssignment(e,r,n,i=s=>s){(0,N2t.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.getPrecomputedFlag(e);if(s==null)return ci.logger.warn(`${ci.loggerPrefix} No assigned variation. Flag not found: ${e}`),r;if(!(0,k2t.checkTypeMatch)(n,s.variationType)){let c=`${ci.loggerPrefix} Type mismatch: expected ${n} but flag ${e} has type ${s.variationType}`;return ci.logger.error(c),r}let a={flagKey:e,format:this.precomputedFlagStore.getFormat()??"",subjectKey:this.subject.subjectKey??"",subjectAttributes:(0,eRe.ensureNonContextualSubjectAttributes)(this.subject.subjectAttributes??{}),variation:{key:s.variationKey??"",value:s.variationValue},allocationKey:s.allocationKey??"",extraLogging:s.extraLogging??{},doLog:s.doLog};try{a?.doLog&&this.logAssignment(a)}catch(c){ci.logger.error(`${ci.loggerPrefix} Error logging assignment event: ${c}`)}try{return a.variation?.value!==void 0?i(a.variation.value):r}catch(c){return ci.logger.error(`${ci.loggerPrefix} Error transforming value: ${c}`),r}}getStringAssignment(e,r){return this.getPrecomputedAssignment(e,r,S6.VariationType.STRING)}getBooleanAssignment(e,r){return this.getPrecomputedAssignment(e,r,S6.VariationType.BOOLEAN)}getIntegerAssignment(e,r){return this.getPrecomputedAssignment(e,r,S6.VariationType.INTEGER)}getNumericAssignment(e,r){return this.getPrecomputedAssignment(e,r,S6.VariationType.NUMERIC)}getJSONAssignment(e,r){return this.getPrecomputedAssignment(e,r,S6.VariationType.JSON,n=>typeof n=="string"?JSON.parse(n):r)}getBanditAction(e,r){let n=this.getPrecomputedBandit(e);if(n==null)return ci.logger.warn(`${ci.loggerPrefix} No assigned variation. Bandit not found: ${e}`),{variation:r,action:null};let i=this.getStringAssignment(e,r),s={timestamp:new Date().toISOString(),featureFlag:e,bandit:n.banditKey,subject:this.subject.subjectKey??"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(s)}catch(a){ci.logger.error(`${ci.loggerPrefix} Error logging bandit action: ${a}`)}return{variation:i,action:s.action}}getPrecomputedFlag(e){return this.getObfuscatedFlag(e)}getObfuscatedFlag(e){let r=this.precomputedFlagStore.salt,n=(0,rRe.getMD5Hash)(e,r),i=this.precomputedFlagStore.get(n);return i?(0,tRe.decodePrecomputedFlag)(i):null}getPrecomputedBandit(e){let r=this.getObfuscatedPrecomputedBandit(e);return r?(0,tRe.decodePrecomputedBandit)(r):null}getObfuscatedPrecomputedBandit(e){let r=this.precomputedBanditStore?.salt,n=(0,rRe.getMD5Hash)(e,r);return this.precomputedBanditStore?.get(n)??null}isInitialized(){return this.precomputedFlagStore.isInitialized()}setAssignmentLogger(e){this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,this.assignmentLogger?.logAssignment)}setBanditLogger(e){this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,this.banditLogger?.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new I2t.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new T2t.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}flushQueuedEvents(e,r){let n=[...e];e.length=0,r&&n.forEach(i=>{try{r(i)}catch(s){ci.logger.error(`${ci.loggerPrefix} Error flushing event to logger: ${s.message}`)}})}logAssignment(e){let{flagKey:r,subjectKey:n,allocationKey:i,subjectAttributes:s,variation:a,format:c}=e,u={...e.extraLogging??{},allocation:i??null,experiment:i?`${r}-${i}`:null,featureFlag:r,format:c,variation:a?.key??null,subject:n,timestamp:new Date().toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null};if(!(a&&i&&this.assignmentCache?.has({flagKey:r,subjectKey:n,allocationKey:i,variationKey:a.key})))try{this.assignmentLogger?this.assignmentLogger.logAssignment(u):this.queuedAssignmentEvents.length<Q1.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(u),this.assignmentCache?.set({flagKey:r,subjectKey:n,allocationKey:i??"__eppo_no_allocation",variationKey:a?.key??"__eppo_no_variation"})}catch(h){ci.logger.error(`${ci.loggerPrefix} Error logging assignment event: ${h.message}`)}}logBanditAction(e){let r=e.subject,n=e.featureFlag,i=e.bandit,s=e.action??"__eppo_no_action",a={flagKey:n,subjectKey:r,banditKey:i,actionKey:s};if(!this.banditAssignmentCache?.has(a))try{this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),this.banditAssignmentCache?.set(a)}catch(c){ci.logger.warn("Error encountered logging bandit action",c)}}buildLoggerMetadata(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:C2t.LIB_VERSION}}};TW.default=AW});var iRe=j(FN=>{"use strict";p();m();Object.defineProperty(FN,"__esModule",{value:!0});FN.HybridConfigurationStore=void 0;var UN=th(),IW=class{static{o(this,"HybridConfigurationStore")}constructor(e,r){this.servingStore=e,this.persistentStore=r,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||UN.logger.warn(`${UN.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){return this.servingStore.isInitialized()&&(this.persistentStore?.isInitialized()??!0)}async isExpired(){return await this.persistentStore?.isExpired()??!0}get(e){return this.servingStore.isInitialized()||UN.logger.warn(`${UN.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};FN.HybridConfigurationStore=IW});var oRe=j(o_=>{"use strict";p();m();Object.defineProperty(o_,"__esModule",{value:!0});o_.MemoryOnlyConfigurationStore=o_.MemoryStore=void 0;var HN=class{static{o(this,"MemoryStore")}constructor(){this.store={},this.initialized=!1}get(e){return this.store[e]??null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store={...e},this.initialized=!0}};o_.MemoryStore=HN;var RW=class{static{o(this,"MemoryOnlyConfigurationStore")}constructor(){this.servingStore=new HN,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}getFormat(){return this.format}setFormat(e){this.format=e}};o_.MemoryOnlyConfigurationStore=RW});var NW=j(MW=>{"use strict";p();m();Object.defineProperty(MW,"__esModule",{value:!0});var B2t=100,P2t=1e4,OW=class{static{o(this,"BatchEventProcessor")}constructor(e,r){this.eventQueue=e,this.batchSize=Math.max(B2t,Math.min(P2t,r))}nextBatch(){return this.eventQueue.splice(this.batchSize)}push(...e){this.eventQueue.push(...e)}isEmpty(){return this.eventQueue.isEmpty()}};MW.default=OW});var sRe=j(BW=>{"use strict";p();m();Object.defineProperty(BW,"__esModule",{value:!0});var CW=th(),kW=class{static{o(this,"BatchRetryManager")}constructor(e,r){this.delivery=e,this.config=r}async retry(e,r=0){let{retryIntervalMs:n,maxRetryDelayMs:i,maxRetries:s}=this.config,a=Math.min(n*Math.pow(2,r),i);CW.logger.info(`[BatchRetryManager] Retrying batch delivery of ${e.length} events in ${a}ms...`),await new Promise(u=>setTimeout(u,a));let{failedEvents:c}=await this.delivery.deliver(e);return c.length===0?(CW.logger.info(`[BatchRetryManager] Batch delivery successfully after ${r+1} tries.`),[]):r<s-1?this.retry(c,r+1):(CW.logger.warn(`[BatchRetryManager] Failed to deliver batch after ${s} tries, bailing`),e)}};BW.default=kW});var aRe=j(LW=>{"use strict";p();m();Object.defineProperty(LW,"__esModule",{value:!0});var qN=th(),PW=class{static{o(this,"EventDelivery")}constructor(e,r){this.sdkKey=e,this.ingestionUrl=r}async deliver(e){try{qN.logger.info(`[EventDispatcher] Delivering batch of ${e.length} events to ${this.ingestionUrl}...`);let r=await fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:e})});return r.ok?await this.parseFailedEvents(r,e):{failedEvents:e}}catch(r){return qN.logger.warn("Failed to upload event batch",r),{failedEvents:e}}}async parseFailedEvents(e,r){qN.logger.info("[EventDispatcher] Batch delivered successfully.");let n=await e.json(),i=new Set(n?.failed_events||[]);return i.size>0?(qN.logger.warn(`[EventDispatcher] ${i.size}/${r.length} events failed ingestion.`),{failedEvents:r.filter(({uuid:s})=>i.has(s))}):{failedEvents:[]}}};LW.default=PW});var fRe=j(UW=>{"use strict";p();m();Object.defineProperty(UW,"__esModule",{value:!0});var L2t=lG(),cRe="v0/i",DW=class{static{o(this,"SdkKeyDecoder")}decodeEventIngestionUrl(e){let r=e.split(".")[1];if(!r)return null;let n=L2t.Base64.decode(r),s=new URLSearchParams(n).get("eh");if(!s)return null;let a=s.endsWith("/")?`${s}${cRe}`:`${s}/${cRe}`;return!a.startsWith("http://")&&!a.startsWith("https://")?`https://${a}`:a}};UW.default=DW});var uRe=j(ih=>{"use strict";p();m();Object.defineProperty(ih,"__esModule",{value:!0});ih.DEFAULT_EVENT_DISPATCHER_CONFIG=ih.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0;ih.newDefaultEventDispatcher=V2t;var s_=th(),D2t=NW(),U2t=sRe(),F2t=aRe(),H2t=gW(),q2t=fRe();ih.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3;ih.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var VN=class{static{o(this,"DefaultEventDispatcher")}constructor(e,r,n){this.batchProcessor=e,this.networkStatusListener=r,this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(n);let{sdkKey:i,ingestionUrl:s,retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:u=3}=n;this.eventDelivery=new F2t.default(i,s),this.retryManager=new U2t.default(this.eventDelivery,{retryIntervalMs:a,maxRetryDelayMs:c,maxRetries:u}),this.deliveryIntervalMs=n.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange(h=>{s_.logger.info(`[EventDispatcher] Network status change, isOffline=${h}.`),this.isOffline=h,h?this.dispatchTimer=null:this.maybeScheduleNextDelivery()})}dispatch(e){this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}async deliverNextBatch(){if(this.isOffline){s_.logger.warn("[EventDispatcher] Skipping delivery; network status is offline.");return}let e=this.batchProcessor.nextBatch();if(e.length===0){this.dispatchTimer=null;return}let{failedEvents:r}=await this.eventDelivery.deliver(e);if(r.length>0){s_.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying...");let n=await this.retryManager.retry(r);n.length>0&&this.batchProcessor.push(...n)}s_.logger.debug(`[EventDispatcher] Delivered batch of ${e.length} events.`),this.dispatchTimer=null,this.maybeScheduleNextDelivery()}maybeScheduleNextDelivery(){!this.isOffline&&!this.batchProcessor.isEmpty()&&!this.dispatchTimer&&(s_.logger.info(`[EventDispatcher] Scheduling next delivery in ${this.deliveryIntervalMs}ms.`),this.dispatchTimer=setTimeout(()=>this.deliverNextBatch(),this.deliveryIntervalMs))}ensureConfigFields(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}};ih.default=VN;function V2t(t,e,r,n=ih.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,i=ih.DEFAULT_EVENT_DISPATCHER_CONFIG){let a=new q2t.default().decodeEventIngestionUrl(r);return a?new VN(new D2t.default(t,n),e,{...i,ingestionUrl:a,sdkKey:r}):(s_.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new H2t.default)}o(V2t,"newDefaultEventDispatcher")});var pRe=j(Ut=>{"use strict";p();m();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.decodePrecomputedFlag=Ut.DefaultEventDispatcher=Ut.BatchEventProcessor=Ut.newDefaultEventDispatcher=Ut.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=Ut.DEFAULT_EVENT_DISPATCHER_CONFIG=Ut.BoundedEventQueue=Ut.FormatEnum=Ut.VariationType=Ut.assignmentCacheValueToString=Ut.assignmentCacheKeyToString=Ut.LRUInMemoryAssignmentCache=Ut.NonExpiringInMemoryAssignmentCache=Ut.MemoryOnlyConfigurationStore=Ut.HybridConfigurationStore=Ut.MemoryStore=Ut.EppoPrecomputedClient=Ut.validation=Ut.HttpClient=Ut.FlagConfigRequestor=Ut.ApiEndpoints=Ut.constants=Ut.EppoClient=Ut.AbstractAssignmentCache=Ut.applicationLogger=Ut.loggerPrefix=void 0;var j2t=eN();Ut.ApiEndpoints=j2t.default;var lRe=th();Object.defineProperty(Ut,"applicationLogger",{enumerable:!0,get:o(function(){return lRe.logger},"get")});Object.defineProperty(Ut,"loggerPrefix",{enumerable:!0,get:o(function(){return lRe.loggerPrefix},"get")});var FW=s6();Object.defineProperty(Ut,"AbstractAssignmentCache",{enumerable:!0,get:o(function(){return FW.AbstractAssignmentCache},"get")});Object.defineProperty(Ut,"assignmentCacheKeyToString",{enumerable:!0,get:o(function(){return FW.assignmentCacheKeyToString},"get")});Object.defineProperty(Ut,"assignmentCacheValueToString",{enumerable:!0,get:o(function(){return FW.assignmentCacheValueToString},"get")});var z2t=oN();Object.defineProperty(Ut,"LRUInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return z2t.LRUInMemoryAssignmentCache},"get")});var K2t=aN();Object.defineProperty(Ut,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:o(function(){return K2t.NonExpiringInMemoryAssignmentCache},"get")});var $2t=MN();Ut.EppoClient=$2t.default;var G2t=nRe();Ut.EppoPrecomputedClient=G2t.default;var W2t=PG();Ut.FlagConfigRequestor=W2t.default;var Y2t=iRe();Object.defineProperty(Ut,"HybridConfigurationStore",{enumerable:!0,get:o(function(){return Y2t.HybridConfigurationStore},"get")});var dRe=oRe();Object.defineProperty(Ut,"MemoryStore",{enumerable:!0,get:o(function(){return dRe.MemoryStore},"get")});Object.defineProperty(Ut,"MemoryOnlyConfigurationStore",{enumerable:!0,get:o(function(){return dRe.MemoryOnlyConfigurationStore},"get")});var X2t=E0();Ut.constants=X2t;var Z2t=gN();Object.defineProperty(Ut,"decodePrecomputedFlag",{enumerable:!0,get:o(function(){return Z2t.decodePrecomputedFlag},"get")});var J2t=NW();Ut.BatchEventProcessor=J2t.default;var Q2t=hW();Object.defineProperty(Ut,"BoundedEventQueue",{enumerable:!0,get:o(function(){return Q2t.BoundedEventQueue},"get")});var jN=uRe();Ut.DefaultEventDispatcher=jN.default;Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:o(function(){return jN.DEFAULT_EVENT_DISPATCHER_CONFIG},"get")});Object.defineProperty(Ut,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:o(function(){return jN.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE},"get")});Object.defineProperty(Ut,"newDefaultEventDispatcher",{enumerable:!0,get:o(function(){return jN.newDefaultEventDispatcher},"get")});var e_t=CN();Ut.HttpClient=e_t.default;var hRe=I0();Object.defineProperty(Ut,"VariationType",{enumerable:!0,get:o(function(){return hRe.VariationType},"get")});Object.defineProperty(Ut,"FormatEnum",{enumerable:!0,get:o(function(){return hRe.FormatEnum},"get")});var t_t=PN();Ut.validation=t_t});var ZRe=j((Won,XRe)=>{p();m();var wwt=_J(),Swt=U_(),Ewt=RCe(),Awt=bCe(),Twt=yCe(),Iwt=Lk(),Rwt=Object.prototype,Owt=Rwt.hasOwnProperty,Mwt=Ewt(function(t,e){if(Twt(e)||Awt(e)){Swt(e,Iwt(e),t);return}for(var r in e)Owt.call(e,r)&&wwt(t,r,e[r])});XRe.exports=Mwt});var QRe=j((JRe,oC)=>{p();m();(function(t,e){typeof define=="function"&&define.amd?define(e):typeof oC=="object"&&oC.exports?oC.exports=e():t.numeral=e()})(JRe,function(){var t,e,r="2.0.6",n={},i={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(u,h){this._input=u,this._value=h}return o(c,"Numeral"),t=o(function(u){var h,y,g,S;if(t.isNumeral(u))h=u.value();else if(u===0||typeof u>"u")h=0;else if(u===null||e.isNaN(u))h=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)h=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)h=null;else{for(y in n)if(S=typeof n[y].regexps.unformat=="function"?n[y].regexps.unformat():n[y].regexps.unformat,S&&u.match(S)){g=n[y].unformat;break}g=g||t._.stringToNumber,h=g(u)}else h=Number(u)||null;return new c(u,h)},"numeral"),t.version=r,t.isNumeral=function(u){return u instanceof c},t._=e={numberToFormat:o(function(u,h,y){var g=i[t.options.currentLocale],S=!1,T=!1,O=0,M="",k=1e12,C=1e9,B=1e6,N=1e3,P="",H=!1,F,Z,W,X,E,f,d,b,x,_;if(u=u||0,Z=Math.abs(u),t._.includes(h,"(")?(S=!0,h=h.replace(/[\(|\)]/g,"")):(t._.includes(h,"+")||t._.includes(h,"-"))&&(b=t._.includes(h,"+")?h.indexOf("+"):u<0?h.indexOf("-"):-1,h=h.replace(/[\+|\-]/g,"")),t._.includes(h,"a")&&(F=h.match(/a(k|m|b|t)?/),F=F?F[1]:!1,t._.includes(h," a")&&(M=" "),h=h.replace(new RegExp(M+"a[kmbt]?"),""),Z>=k&&!F||F==="t"?(M+=g.abbreviations.trillion,u=u/k):Z<k&&Z>=C&&!F||F==="b"?(M+=g.abbreviations.billion,u=u/C):Z<C&&Z>=B&&!F||F==="m"?(M+=g.abbreviations.million,u=u/B):(Z<B&&Z>=N&&!F||F==="k")&&(M+=g.abbreviations.thousand,u=u/N)),t._.includes(h,"[.]")&&(T=!0,h=h.replace("[.]",".")),f=u.toString().split(".")[0],d=h.split(".")[1],x=h.indexOf(","),O=(h.split(".")[0].split(",")[0].match(/0/g)||[]).length,d?(t._.includes(d,"[")?(d=d.replace("]",""),d=d.split("["),P=t._.toFixed(u,d[0].length+d[1].length,y,d[1].length)):P=t._.toFixed(u,d.length,y),f=P.split(".")[0],t._.includes(P,".")?P=g.delimiters.decimal+P.split(".")[1]:P="",T&&Number(P.slice(1))===0&&(P="")):f=t._.toFixed(u,0,y),M&&!F&&Number(f)>=1e3&&M!==g.abbreviations.trillion)switch(f=String(Number(f)/1e3),M){case g.abbreviations.thousand:M=g.abbreviations.million;break;case g.abbreviations.million:M=g.abbreviations.billion;break;case g.abbreviations.billion:M=g.abbreviations.trillion;break}if(t._.includes(f,"-")&&(f=f.slice(1),H=!0),f.length<O)for(var A=O-f.length;A>0;A--)f="0"+f;return x>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g.delimiters.thousands)),h.indexOf(".")===0&&(f=""),_=f+P+(M||""),S?_=(S&&H?"(":"")+_+(S&&H?")":""):b>=0?_=b===0?(H?"-":"+")+_:_+(H?"-":"+"):H&&(_="-"+_),_},"numberToFormat"),stringToNumber:o(function(u){var h=i[a.currentLocale],y=u,g={thousand:3,million:6,billion:9,trillion:12},S,T,O,M;if(a.zeroFormat&&u===a.zeroFormat)T=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)T=null;else{T=1,h.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(h.delimiters.decimal,"."));for(S in g)if(M=new RegExp("[^a-zA-Z]"+h.abbreviations[S]+"(?:\\)|(\\"+h.currency.symbol+")?(?:\\))?)?$"),y.match(M)){T*=Math.pow(10,g[S]);break}T*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),T*=Number(u)}return T},"stringToNumber"),isNaN:o(function(u){return typeof u=="number"&&isNaN(u)},"isNaN"),includes:o(function(u,h){return u.indexOf(h)!==-1},"includes"),insert:o(function(u,h,y){return u.slice(0,y)+h+u.slice(y)},"insert"),reduce:o(function(u,h){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof h!="function")throw new TypeError(h+" is not a function");var y=Object(u),g=y.length>>>0,S=0,T;if(arguments.length===3)T=arguments[2];else{for(;S<g&&!(S in y);)S++;if(S>=g)throw new TypeError("Reduce of empty array with no initial value");T=y[S++]}for(;S<g;S++)S in y&&(T=h(T,y[S],S,y));return T},"reduce"),multiplier:o(function(u){var h=u.toString().split(".");return h.length<2?1:Math.pow(10,h[1].length)},"multiplier"),correctionFactor:o(function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(h,y){var g=e.multiplier(y);return h>g?h:g},1)},"correctionFactor"),toFixed:o(function(u,h,y,g){var S=u.toString().split("."),T=h-(g||0),O,M,k,C;return S.length===2?O=Math.min(Math.max(S[1].length,T),h):O=T,k=Math.pow(10,O),C=(y(u+"e+"+O)/k).toFixed(O),g>h-O&&(M=new RegExp("\\.?0{1,"+(g-(h-O))+"}$"),C=C.replace(M,"")),C},"toFixed")},t.options=a,t.formats=n,t.locales=i,t.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},t.localeData=function(u){if(!u)return i[a.currentLocale];if(u=u.toLowerCase(),!i[u])throw new Error("Unknown locale : "+u);return i[u]},t.reset=function(){for(var u in s)a[u]=s[u]},t.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},t.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},t.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},t.register=function(u,h,y){if(h=h.toLowerCase(),this[u+"s"][h])throw new TypeError(h+" "+u+" already registered.");return this[u+"s"][h]=y,y},t.validate=function(u,h){var y,g,S,T,O,M,k,C;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{k=t.localeData(h)}catch{k=t.localeData(t.locale())}return S=k.currency.symbol,O=k.abbreviations,y=k.delimiters.decimal,k.delimiters.thousands==="."?g="\\.":g=k.delimiters.thousands,C=u.match(/^[^\d]+/),C!==null&&(u=u.substr(1),C[0]!==S)||(C=u.match(/[^\d]+$/),C!==null&&(u=u.slice(0,-1),C[0]!==O.thousand&&C[0]!==O.million&&C[0]!==O.billion&&C[0]!==O.trillion))?!1:(M=new RegExp(g+"{2}"),u.match(/[^\d.,]/g)?!1:(T=u.split(y),T.length>2?!1:T.length<2?!!T[0].match(/^\d+.*\d$/)&&!T[0].match(M):T[0].length===1?!!T[0].match(/^\d+$/)&&!T[0].match(M)&&!!T[1].match(/^\d+$/):!!T[0].match(/^\d+.*\d$/)&&!T[0].match(M)&&!!T[1].match(/^\d+$/)))},t.fn=c.prototype={clone:o(function(){return t(this)},"clone"),format:o(function(u,h){var y=this._value,g=u||a.defaultFormat,S,T,O;if(h=h||Math.round,y===0&&a.zeroFormat!==null)T=a.zeroFormat;else if(y===null&&a.nullFormat!==null)T=a.nullFormat;else{for(S in n)if(g.match(n[S].regexps.format)){O=n[S].format;break}O=O||t._.numberToFormat,T=O(y,g,h)}return T},"format"),value:o(function(){return this._value},"value"),input:o(function(){return this._input},"input"),set:o(function(u){return this._value=Number(u),this},"set"),add:o(function(u){var h=e.correctionFactor.call(null,this._value,u);function y(g,S,T,O){return g+Math.round(h*S)}return o(y,"cback"),this._value=e.reduce([this._value,u],y,0)/h,this},"add"),subtract:o(function(u){var h=e.correctionFactor.call(null,this._value,u);function y(g,S,T,O){return g-Math.round(h*S)}return o(y,"cback"),this._value=e.reduce([u],y,Math.round(this._value*h))/h,this},"subtract"),multiply:o(function(u){function h(y,g,S,T){var O=e.correctionFactor(y,g);return Math.round(y*O)*Math.round(g*O)/Math.round(O*O)}return o(h,"cback"),this._value=e.reduce([this._value,u],h,1),this},"multiply"),divide:o(function(u){function h(y,g,S,T){var O=e.correctionFactor(y,g);return Math.round(y*O)/Math.round(g*O)}return o(h,"cback"),this._value=e.reduce([this._value,u],h),this},"divide"),difference:o(function(u){return Math.abs(t(this._value).subtract(u).value())},"difference")},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:o(function(u){var h=u%10;return~~(u%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th"},"ordinal"),currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:o(function(u,h,y){var g=t._.includes(h," BPS")?" ":"",S;return u=u*1e4,h=h.replace(/\s?BPS/,""),S=t._.numberToFormat(u,h,y),t._.includes(S,")")?(S=S.split(""),S.splice(-1,0,g+"BPS"),S=S.join("")):S=S+g+"BPS",S},"format"),unformat:o(function(u){return+(t._.stringToNumber(u)*1e-4).toFixed(15)},"unformat")})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},h={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},y=u.suffixes.concat(h.suffixes.filter(function(S){return u.suffixes.indexOf(S)<0})),g=y.join("|");g="("+g.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(g)},format:o(function(S,T,O){var M,k=t._.includes(T,"ib")?h:u,C=t._.includes(T," b")||t._.includes(T," ib")?" ":"",B,N,P;for(T=T.replace(/\s?i?b/,""),B=0;B<=k.suffixes.length;B++)if(N=Math.pow(k.base,B),P=Math.pow(k.base,B+1),S===null||S===0||S>=N&&S<P){C+=k.suffixes[B],N>0&&(S=S/N);break}return M=t._.numberToFormat(S,T,O),M+C},"format"),unformat:o(function(S){var T=t._.stringToNumber(S),O,M;if(T){for(O=u.suffixes.length-1;O>=0;O--){if(t._.includes(S,u.suffixes[O])){M=Math.pow(u.base,O);break}if(t._.includes(S,h.suffixes[O])){M=Math.pow(h.base,O);break}}T*=M||1}return T},"unformat")})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:o(function(u,h,y){var g=t.locales[t.options.currentLocale],S={before:h.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:h.match(/([\+|\-|\)|\s|\$]*)$/)[0]},T,O,M;for(h=h.replace(/\s?\$\s?/,""),T=t._.numberToFormat(u,h,y),u>=0?(S.before=S.before.replace(/[\-\(]/,""),S.after=S.after.replace(/[\-\)]/,"")):u<0&&!t._.includes(S.before,"-")&&!t._.includes(S.before,"(")&&(S.before="-"+S.before),M=0;M<S.before.length;M++)switch(O=S.before[M],O){case"$":T=t._.insert(T,g.currency.symbol,M);break;case" ":T=t._.insert(T," ",M+g.currency.symbol.length-1);break}for(M=S.after.length-1;M>=0;M--)switch(O=S.after[M],O){case"$":T=M===S.after.length-1?T+g.currency.symbol:t._.insert(T,g.currency.symbol,-(S.after.length-(1+M)));break;case" ":T=M===S.after.length-1?T+" ":t._.insert(T," ",-(S.after.length-(1+M)+g.currency.symbol.length-1));break}return T},"format")})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:o(function(u,h,y){var g,S=typeof u=="number"&&!t._.isNaN(u)?u.toExponential():"0e+0",T=S.split("e");return h=h.replace(/e[\+|\-]{1}0/,""),g=t._.numberToFormat(Number(T[0]),h,y),g+"e"+T[1]},"format"),unformat:o(function(u){var h=t._.includes(u,"e+")?u.split("e+"):u.split("e-"),y=Number(h[0]),g=Number(h[1]);g=t._.includes(u,"e-")?g*=-1:g;function S(T,O,M,k){var C=t._.correctionFactor(T,O),B=T*C*(O*C)/(C*C);return B}return o(S,"cback"),t._.reduce([y,Math.pow(10,g)],S,1)},"unformat")})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:o(function(u,h,y){var g=t.locales[t.options.currentLocale],S,T=t._.includes(h," o")?" ":"";return h=h.replace(/\s?o/,""),T+=g.ordinal(u),S=t._.numberToFormat(u,h,y),S+T},"format")})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:o(function(u,h,y){var g=t._.includes(h," %")?" ":"",S;return t.options.scalePercentBy100&&(u=u*100),h=h.replace(/\s?\%/,""),S=t._.numberToFormat(u,h,y),t._.includes(S,")")?(S=S.split(""),S.splice(-1,0,g+"%"),S=S.join("")):S=S+g+"%",S},"format"),unformat:o(function(u){var h=t._.stringToNumber(u);return t.options.scalePercentBy100?h*.01:h},"unformat")})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:o(function(u,h,y){var g=Math.floor(u/60/60),S=Math.floor((u-g*60*60)/60),T=Math.round(u-g*60*60-S*60);return g+":"+(S<10?"0"+S:S)+":"+(T<10?"0"+T:T)},"format"),unformat:o(function(u){var h=u.split(":"),y=0;return h.length===3?(y=y+Number(h[0])*60*60,y=y+Number(h[1])*60,y=y+Number(h[2])):h.length===2&&(y=y+Number(h[0])*60,y=y+Number(h[1])),Number(y)},"unformat")})}(),t})});var sC=j((wY,SY)=>{p();m();(function(t,e){typeof wY=="object"&&typeof SY<"u"?SY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(wY,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",a="hour",c="day",u="week",h="month",y="quarter",g="year",S="date",T="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(d){var b=["th","st","nd","rd"],x=d%100;return"["+d+(b[(x-20)%10]||b[x]||b[0])+"]"},"ordinal")},C=o(function(d,b,x){var _=String(d);return!_||_.length>=b?d:""+Array(b+1-_.length).join(x)+d},"m"),B={s:C,z:o(function(d){var b=-d.utcOffset(),x=Math.abs(b),_=Math.floor(x/60),A=x%60;return(b<=0?"+":"-")+C(_,2,"0")+":"+C(A,2,"0")},"z"),m:o(function d(b,x){if(b.date()<x.date())return-d(x,b);var _=12*(x.year()-b.year())+(x.month()-b.month()),A=b.clone().add(_,h),I=x-A<0,v=b.clone().add(_+(I?-1:1),h);return+(-(_+(x-A)/(I?A-v:v-A))||0)},"t"),a:o(function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},"a"),p:o(function(d){return{M:h,y:g,w:u,d:c,D:S,h:a,m:s,s:i,ms:n,Q:y}[d]||String(d||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(d){return d===void 0},"u")},N="en",P={};P[N]=k;var H="$isDayjsObject",F=o(function(d){return d instanceof E||!(!d||!d[H])},"S"),Z=o(function d(b,x,_){var A;if(!b)return N;if(typeof b=="string"){var I=b.toLowerCase();P[I]&&(A=I),x&&(P[I]=x,A=I);var v=b.split("-");if(!A&&v.length>1)return d(v[0])}else{var l=b.name;P[l]=b,A=l}return!_&&A&&(N=A),A||!_&&N},"t"),W=o(function(d,b){if(F(d))return d.clone();var x=typeof b=="object"?b:{};return x.date=d,x.args=arguments,new E(x)},"O"),X=B;X.l=Z,X.i=F,X.w=function(d,b){return W(d,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var E=function(){function d(x){this.$L=Z(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[H]=!0}o(d,"M");var b=d.prototype;return b.parse=function(x){this.$d=function(_){var A=_.date,I=_.utc;if(A===null)return new Date(NaN);if(X.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var v=A.match(O);if(v){var l=v[2]-1||0,w=(v[7]||"0").substring(0,3);return I?new Date(Date.UTC(v[1],l,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)):new Date(v[1],l,v[3]||1,v[4]||0,v[5]||0,v[6]||0,w)}}return new Date(A)}(x),this.init()},b.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},b.$utils=function(){return X},b.isValid=function(){return this.$d.toString()!==T},b.isSame=function(x,_){var A=W(x);return this.startOf(_)<=A&&A<=this.endOf(_)},b.isAfter=function(x,_){return W(x)<this.startOf(_)},b.isBefore=function(x,_){return this.endOf(_)<W(x)},b.$g=function(x,_,A){return X.u(x)?this[_]:this.set(A,x)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(x,_){var A=this,I=!!X.u(_)||_,v=X.p(x),l=o(function(Oe,ae){var le=X.w(A.$u?Date.UTC(A.$y,ae,Oe):new Date(A.$y,ae,Oe),A);return I?le:le.endOf(c)},"l"),w=o(function(Oe,ae){return X.w(A.toDate()[Oe].apply(A.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ae)),A)},"$"),V=this.$W,q=this.$M,U=this.$D,G="set"+(this.$u?"UTC":"");switch(v){case g:return I?l(1,0):l(31,11);case h:return I?l(1,q):l(0,q+1);case u:var ee=this.$locale().weekStart||0,re=(V<ee?V+7:V)-ee;return l(I?U-re:U+(6-re),q);case c:case S:return w(G+"Hours",0);case a:return w(G+"Minutes",1);case s:return w(G+"Seconds",2);case i:return w(G+"Milliseconds",3);default:return this.clone()}},b.endOf=function(x){return this.startOf(x,!1)},b.$set=function(x,_){var A,I=X.p(x),v="set"+(this.$u?"UTC":""),l=(A={},A[c]=v+"Date",A[S]=v+"Date",A[h]=v+"Month",A[g]=v+"FullYear",A[a]=v+"Hours",A[s]=v+"Minutes",A[i]=v+"Seconds",A[n]=v+"Milliseconds",A)[I],w=I===c?this.$D+(_-this.$W):_;if(I===h||I===g){var V=this.clone().set(S,1);V.$d[l](w),V.init(),this.$d=V.set(S,Math.min(this.$D,V.daysInMonth())).$d}else l&&this.$d[l](w);return this.init(),this},b.set=function(x,_){return this.clone().$set(x,_)},b.get=function(x){return this[X.p(x)]()},b.add=function(x,_){var A,I=this;x=Number(x);var v=X.p(_),l=o(function(q){var U=W(I);return X.w(U.date(U.date()+Math.round(q*x)),I)},"y");if(v===h)return this.set(h,this.$M+x);if(v===g)return this.set(g,this.$y+x);if(v===c)return l(1);if(v===u)return l(7);var w=(A={},A[s]=e,A[a]=r,A[i]=t,A)[v]||1,V=this.$d.getTime()+x*w;return X.w(V,this)},b.subtract=function(x,_){return this.add(-1*x,_)},b.format=function(x){var _=this,A=this.$locale();if(!this.isValid())return A.invalidDate||T;var I=x||"YYYY-MM-DDTHH:mm:ssZ",v=X.z(this),l=this.$H,w=this.$m,V=this.$M,q=A.weekdays,U=A.months,G=A.meridiem,ee=o(function(ae,le,ye,he){return ae&&(ae[le]||ae(_,I))||ye[le].slice(0,he)},"h"),re=o(function(ae){return X.s(l%12||12,ae,"0")},"d"),Oe=G||function(ae,le,ye){var he=ae<12?"AM":"PM";return ye?he.toLowerCase():he};return I.replace(M,function(ae,le){return le||function(ye){switch(ye){case"YY":return String(_.$y).slice(-2);case"YYYY":return X.s(_.$y,4,"0");case"M":return V+1;case"MM":return X.s(V+1,2,"0");case"MMM":return ee(A.monthsShort,V,U,3);case"MMMM":return ee(U,V);case"D":return _.$D;case"DD":return X.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return ee(A.weekdaysMin,_.$W,q,2);case"ddd":return ee(A.weekdaysShort,_.$W,q,3);case"dddd":return q[_.$W];case"H":return String(l);case"HH":return X.s(l,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Oe(l,w,!0);case"A":return Oe(l,w,!1);case"m":return String(w);case"mm":return X.s(w,2,"0");case"s":return String(_.$s);case"ss":return X.s(_.$s,2,"0");case"SSS":return X.s(_.$ms,3,"0");case"Z":return v}return null}(ae)||v.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(x,_,A){var I,v=this,l=X.p(_),w=W(x),V=(w.utcOffset()-this.utcOffset())*e,q=this-w,U=o(function(){return X.m(v,w)},"D");switch(l){case g:I=U()/12;break;case h:I=U();break;case y:I=U()/3;break;case u:I=(q-V)/6048e5;break;case c:I=(q-V)/864e5;break;case a:I=q/r;break;case s:I=q/e;break;case i:I=q/t;break;default:I=q}return A?I:X.a(I)},b.daysInMonth=function(){return this.endOf(h).$D},b.$locale=function(){return P[this.$L]},b.locale=function(x,_){if(!x)return this.$L;var A=this.clone(),I=Z(x,_,!0);return I&&(A.$L=I),A},b.clone=function(){return X.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},d}(),f=E.prototype;return W.prototype=f,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",c],["$M",h],["$y",g],["$D",S]].forEach(function(d){f[d[1]]=function(b){return this.$g(b,d[0],d[1])}}),W.extend=function(d,b){return d.$i||(d(b,E,W),d.$i=!0),W},W.locale=Z,W.isDayjs=F,W.unix=function(d){return W(1e3*d)},W.en=P[N],W.Ls=P,W.p={},W})});var s7e=j((EY,AY)=>{p();m();(function(t,e){typeof EY=="object"&&typeof AY<"u"?AY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_duration=e()})(EY,function(){"use strict";var t,e,r=1e3,n=6e4,i=36e5,s=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=31536e6,u=2628e6,h=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,y={years:c,months:u,days:s,hours:i,minutes:n,seconds:r,milliseconds:1,weeks:6048e5},g=o(function(P){return P instanceof B},"c"),S=o(function(P,H,F){return new B(P,F,H.$l)},"f"),T=o(function(P){return e.p(P)+"s"},"m"),O=o(function(P){return P<0},"l"),M=o(function(P){return O(P)?Math.ceil(P):Math.floor(P)},"$"),k=o(function(P){return Math.abs(P)},"y"),C=o(function(P,H){return P?O(P)?{negative:!0,format:""+k(P)+H}:{negative:!1,format:""+P+H}:{negative:!1,format:""}},"v"),B=function(){function P(F,Z,W){var X=this;if(this.$d={},this.$l=W,F===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Z)return S(F*y[T(Z)],this);if(typeof F=="number")return this.$ms=F,this.parseFromMilliseconds(),this;if(typeof F=="object")return Object.keys(F).forEach(function(d){X.$d[T(d)]=F[d]}),this.calMilliseconds(),this;if(typeof F=="string"){var E=F.match(h);if(E){var f=E.slice(2).map(function(d){return d!=null?Number(d):0});return this.$d.years=f[0],this.$d.months=f[1],this.$d.weeks=f[2],this.$d.days=f[3],this.$d.hours=f[4],this.$d.minutes=f[5],this.$d.seconds=f[6],this.calMilliseconds(),this}}return this}o(P,"l");var H=P.prototype;return H.calMilliseconds=function(){var F=this;this.$ms=Object.keys(this.$d).reduce(function(Z,W){return Z+(F.$d[W]||0)*y[W]},0)},H.parseFromMilliseconds=function(){var F=this.$ms;this.$d.years=M(F/c),F%=c,this.$d.months=M(F/u),F%=u,this.$d.days=M(F/s),F%=s,this.$d.hours=M(F/i),F%=i,this.$d.minutes=M(F/n),F%=n,this.$d.seconds=M(F/r),F%=r,this.$d.milliseconds=F},H.toISOString=function(){var F=C(this.$d.years,"Y"),Z=C(this.$d.months,"M"),W=+this.$d.days||0;this.$d.weeks&&(W+=7*this.$d.weeks);var X=C(W,"D"),E=C(this.$d.hours,"H"),f=C(this.$d.minutes,"M"),d=this.$d.seconds||0;this.$d.milliseconds&&(d+=this.$d.milliseconds/1e3,d=Math.round(1e3*d)/1e3);var b=C(d,"S"),x=F.negative||Z.negative||X.negative||E.negative||f.negative||b.negative,_=E.format||f.format||b.format?"T":"",A=(x?"-":"")+"P"+F.format+Z.format+X.format+_+E.format+f.format+b.format;return A==="P"||A==="-P"?"P0D":A},H.toJSON=function(){return this.toISOString()},H.format=function(F){var Z=F||"YYYY-MM-DDTHH:mm:ss",W={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return Z.replace(a,function(X,E){return E||String(W[X])})},H.as=function(F){return this.$ms/y[T(F)]},H.get=function(F){var Z=this.$ms,W=T(F);return W==="milliseconds"?Z%=1e3:Z=W==="weeks"?M(Z/y[W]):this.$d[W],Z||0},H.add=function(F,Z,W){var X;return X=Z?F*y[T(Z)]:g(F)?F.$ms:S(F,this).$ms,S(this.$ms+X*(W?-1:1),this)},H.subtract=function(F,Z){return this.add(F,Z,!0)},H.locale=function(F){var Z=this.clone();return Z.$l=F,Z},H.clone=function(){return S(this.$ms,this)},H.humanize=function(F){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!F)},H.valueOf=function(){return this.asMilliseconds()},H.milliseconds=function(){return this.get("milliseconds")},H.asMilliseconds=function(){return this.as("milliseconds")},H.seconds=function(){return this.get("seconds")},H.asSeconds=function(){return this.as("seconds")},H.minutes=function(){return this.get("minutes")},H.asMinutes=function(){return this.as("minutes")},H.hours=function(){return this.get("hours")},H.asHours=function(){return this.as("hours")},H.days=function(){return this.get("days")},H.asDays=function(){return this.as("days")},H.weeks=function(){return this.get("weeks")},H.asWeeks=function(){return this.as("weeks")},H.months=function(){return this.get("months")},H.asMonths=function(){return this.as("months")},H.years=function(){return this.get("years")},H.asYears=function(){return this.as("years")},P}(),N=o(function(P,H,F){return P.add(H.years()*F,"y").add(H.months()*F,"M").add(H.days()*F,"d").add(H.hours()*F,"h").add(H.minutes()*F,"m").add(H.seconds()*F,"s").add(H.milliseconds()*F,"ms")},"p");return function(P,H,F){t=F,e=F().$utils(),F.duration=function(X,E){var f=F.locale();return S(X,{$l:f},E)},F.isDuration=g;var Z=H.prototype.add,W=H.prototype.subtract;H.prototype.add=function(X,E){return g(X)?N(this,X,1):Z.bind(this)(X,E)},H.prototype.subtract=function(X,E){return g(X)?N(this,X,-1):W.bind(this)(X,E)}}})});var a7e=j((TY,IY)=>{p();m();(function(t,e){typeof TY=="object"&&typeof IY<"u"?IY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_relativeTime=e()})(TY,function(){"use strict";return function(t,e,r){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,u,h,y){return n.fromToBase(c,u,h,y)}o(s,"i"),r.en.relativeTime=i,n.fromToBase=function(c,u,h,y,g){for(var S,T,O,M=h.$locale().relativeTime||i,k=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=k.length,B=0;B<C;B+=1){var N=k[B];N.d&&(S=y?r(c).diff(h,N.d,!0):h.diff(c,N.d,!0));var P=(t.rounding||Math.round)(Math.abs(S));if(O=S>0,P<=N.r||!N.r){P<=1&&B>0&&(N=k[B-1]);var H=M[N.l];g&&(P=g(""+P)),T=typeof H=="string"?H.replace("%d",P):H(P,u,N.l,O);break}}if(u)return T;var F=O?M.future:M.past;return typeof F=="function"?F(T):F.replace("%s",T)},n.to=function(c,u){return s(c,u,this,!0)},n.from=function(c,u){return s(c,u,this)};var a=o(function(c){return c.$u?r.utc():r()},"d");n.toNow=function(c){return this.to(a(this),c)},n.fromNow=function(c){return this.from(a(this),c)}}})});var c7e=j((RY,OY)=>{p();m();(function(t,e){typeof RY=="object"&&typeof OY<"u"?OY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_utc=e()})(RY,function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var a=i.prototype;s.utc=function(T){var O={date:T,utc:!0,args:arguments};return new i(O)},a.utc=function(T){var O=s(this.toDate(),{locale:this.$L,utc:!0});return T?O.add(this.utcOffset(),t):O},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),c.call(this,T)};var u=a.init;a.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else u.call(this)};var h=a.utcOffset;a.utcOffset=function(T,O){var M=this.$utils().u;if(M(T))return this.$u?0:M(this.$offset)?h.call(this):this.$offset;if(typeof T=="string"&&(T=function(N){N===void 0&&(N="");var P=N.match(e);if(!P)return null;var H=(""+P[0]).match(r)||["-",0,0],F=H[0],Z=60*+H[1]+ +H[2];return Z===0?0:F==="+"?Z:-Z}(T),T===null))return this;var k=Math.abs(T)<=16?60*T:T,C=this;if(O)return C.$offset=k,C.$u=T===0,C;if(T!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(k+B,t)).$offset=k,C.$x.$localOffset=B}else C=this.utc();return C};var y=a.format;a.format=function(T){var O=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,O)},a.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var g=a.toDate;a.toDate=function(T){return T==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var S=a.diff;a.diff=function(T,O,M){if(T&&this.$u===T.$u)return S.call(this,T,O,M);var k=this.local(),C=s(T).local();return S.call(k,C,O,M)}}})});var A7e=j((CY,kY)=>{p();m();(function(t,e){typeof CY=="object"&&typeof kY<"u"?kY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=e()})(CY,function(){"use strict";return function(t,e,r){e.prototype.isToday=function(){var n="YYYY-MM-DD",i=r();return this.format(n)===i.format(n)}}})});var T7e=j((BY,PY)=>{p();m();(function(t,e){typeof BY=="object"&&typeof PY<"u"?PY.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isYesterday=e()})(BY,function(){"use strict";return function(t,e,r){e.prototype.isYesterday=function(){var n="YYYY-MM-DD",i=r().subtract(1,"day");return this.format(n)===i.format(n)}}})});var P7e=j((_hn,B7e)=>{p();m();function oSt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}o(oSt,"arrayEach");B7e.exports=oSt});var D7e=j((Ahn,L7e)=>{p();m();var sSt=U_(),aSt=Lk();function cSt(t,e){return t&&sSt(e,aSt(e),t)}o(cSt,"baseAssign");L7e.exports=cSt});var F7e=j((Ohn,U7e)=>{p();m();var fSt=U_(),uSt=Dk();function lSt(t,e){return t&&fSt(e,uSt(e),t)}o(lSt,"baseAssignIn");U7e.exports=lSt});var q7e=j((khn,H7e)=>{p();m();var dSt=U_(),hSt=wJ();function pSt(t,e){return dSt(t,hSt(t),e)}o(pSt,"copySymbols");H7e.exports=pSt});var UY=j((Dhn,V7e)=>{p();m();var mSt=wCe(),gSt=SCe(),ySt=wJ(),bSt=_Ce(),xSt=Object.getOwnPropertySymbols,vSt=xSt?function(t){for(var e=[];t;)mSt(e,ySt(t)),t=gSt(t);return e}:bSt;V7e.exports=vSt});var z7e=j((Hhn,j7e)=>{p();m();var _St=U_(),wSt=UY();function SSt(t,e){return _St(t,wSt(t),e)}o(SSt,"copySymbolsIn");j7e.exports=SSt});var $7e=j((zhn,K7e)=>{p();m();var ESt=ECe(),ASt=UY(),TSt=Dk();function ISt(t){return ESt(t,TSt,ASt)}o(ISt,"getAllKeysIn");K7e.exports=ISt});var W7e=j((Whn,G7e)=>{p();m();var RSt=Object.prototype,OSt=RSt.hasOwnProperty;function MSt(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&OSt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}o(MSt,"initCloneArray");G7e.exports=MSt});var X7e=j((Jhn,Y7e)=>{p();m();var NSt=SJ();function CSt(t,e){var r=e?NSt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}o(CSt,"cloneDataView");Y7e.exports=CSt});var J7e=j((r0n,Z7e)=>{p();m();var kSt=/\w*$/;function BSt(t){var e=new t.constructor(t.source,kSt.exec(t));return e.lastIndex=t.lastIndex,e}o(BSt,"cloneRegExp");Z7e.exports=BSt});var n9e=j((s0n,r9e)=>{p();m();var Q7e=uCe(),e9e=Q7e?Q7e.prototype:void 0,t9e=e9e?e9e.valueOf:void 0;function PSt(t){return t9e?Object(t9e.call(t)):{}}o(PSt,"cloneSymbol");r9e.exports=PSt});var o9e=j((u0n,i9e)=>{p();m();var LSt=SJ(),DSt=X7e(),USt=J7e(),FSt=n9e(),HSt=TCe(),qSt="[object Boolean]",VSt="[object Date]",jSt="[object Map]",zSt="[object Number]",KSt="[object RegExp]",$St="[object Set]",GSt="[object String]",WSt="[object Symbol]",YSt="[object ArrayBuffer]",XSt="[object DataView]",ZSt="[object Float32Array]",JSt="[object Float64Array]",QSt="[object Int8Array]",eEt="[object Int16Array]",tEt="[object Int32Array]",rEt="[object Uint8Array]",nEt="[object Uint8ClampedArray]",iEt="[object Uint16Array]",oEt="[object Uint32Array]";function sEt(t,e,r){var n=t.constructor;switch(e){case YSt:return LSt(t);case qSt:case VSt:return new n(+t);case XSt:return DSt(t,r);case ZSt:case JSt:case QSt:case eEt:case tEt:case rEt:case nEt:case iEt:case oEt:return HSt(t,r);case jSt:return new n;case zSt:case GSt:return new n(t);case KSt:return USt(t);case $St:return new n;case WSt:return FSt(t)}}o(sEt,"initCloneByTag");i9e.exports=sEt});var a9e=j((p0n,s9e)=>{p();m();var aEt=Uk(),cEt=kk(),fEt="[object Map]";function uEt(t){return cEt(t)&&aEt(t)==fEt}o(uEt,"baseIsMap");s9e.exports=uEt});var l9e=j((b0n,u9e)=>{p();m();var lEt=a9e(),dEt=Bk(),c9e=Pk(),f9e=c9e&&c9e.isMap,hEt=f9e?dEt(f9e):lEt;u9e.exports=hEt});var h9e=j((_0n,d9e)=>{p();m();var pEt=Uk(),mEt=kk(),gEt="[object Set]";function yEt(t){return mEt(t)&&pEt(t)==gEt}o(yEt,"baseIsSet");d9e.exports=yEt});var y9e=j((A0n,g9e)=>{p();m();var bEt=h9e(),xEt=Bk(),p9e=Pk(),m9e=p9e&&p9e.isSet,vEt=m9e?xEt(m9e):bEt;g9e.exports=vEt});var w9e=j((R0n,_9e)=>{p();m();var _Et=pCe(),wEt=P7e(),SEt=_J(),EEt=D7e(),AEt=F7e(),TEt=xCe(),IEt=vCe(),REt=q7e(),OEt=z7e(),MEt=ACe(),NEt=$7e(),CEt=Uk(),kEt=W7e(),BEt=o9e(),PEt=ICe(),LEt=mCe(),DEt=gCe(),UEt=l9e(),FEt=hCe(),HEt=y9e(),qEt=Lk(),VEt=Dk(),jEt=1,zEt=2,KEt=4,b9e="[object Arguments]",$Et="[object Array]",GEt="[object Boolean]",WEt="[object Date]",YEt="[object Error]",x9e="[object Function]",XEt="[object GeneratorFunction]",ZEt="[object Map]",JEt="[object Number]",v9e="[object Object]",QEt="[object RegExp]",e3t="[object Set]",t3t="[object String]",r3t="[object Symbol]",n3t="[object WeakMap]",i3t="[object ArrayBuffer]",o3t="[object DataView]",s3t="[object Float32Array]",a3t="[object Float64Array]",c3t="[object Int8Array]",f3t="[object Int16Array]",u3t="[object Int32Array]",l3t="[object Uint8Array]",d3t="[object Uint8ClampedArray]",h3t="[object Uint16Array]",p3t="[object Uint32Array]",fi={};fi[b9e]=fi[$Et]=fi[i3t]=fi[o3t]=fi[GEt]=fi[WEt]=fi[s3t]=fi[a3t]=fi[c3t]=fi[f3t]=fi[u3t]=fi[ZEt]=fi[JEt]=fi[v9e]=fi[QEt]=fi[e3t]=fi[t3t]=fi[r3t]=fi[l3t]=fi[d3t]=fi[h3t]=fi[p3t]=!0;fi[YEt]=fi[x9e]=fi[n3t]=!1;function fC(t,e,r,n,i,s){var a,c=e&jEt,u=e&zEt,h=e&KEt;if(r&&(a=i?r(t,n,i,s):r(t)),a!==void 0)return a;if(!FEt(t))return t;var y=LEt(t);if(y){if(a=kEt(t),!c)return IEt(t,a)}else{var g=CEt(t),S=g==x9e||g==XEt;if(DEt(t))return TEt(t,c);if(g==v9e||g==b9e||S&&!i){if(a=u||S?{}:PEt(t),!c)return u?OEt(t,AEt(a,t)):REt(t,EEt(a,t))}else{if(!fi[g])return i?t:{};a=BEt(t,g,c)}}s||(s=new _Et);var T=s.get(t);if(T)return T;s.set(t,a),HEt(t)?t.forEach(function(k){a.add(fC(k,e,r,k,t,s))}):UEt(t)&&t.forEach(function(k,C){a.set(C,fC(k,e,r,C,t,s))});var O=h?u?NEt:MEt:u?VEt:qEt,M=y?void 0:O(t);return wEt(M||t,function(k,C){M&&(C=k,k=t[C]),SEt(a,C,fC(k,e,r,C,t,s))}),a}o(fC,"baseClone");_9e.exports=fC});var x3t=j((C0n,S9e)=>{p();m();var m3t=w9e(),g3t=1,y3t=4;function b3t(t){return m3t(t,g3t|y3t)}o(b3t,"cloneDeep");S9e.exports=b3t});var WOe=j((ugn,GOe)=>{"use strict";p();m();var zr,hAt=ET(),pAt=AT(),mAt=TT(),gAt=IT(),R_=AS(),I_=Rp(),yAt=RT(),$Oe=Function,LX=o(function(t){try{return $Oe('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),lb=Object.getOwnPropertyDescriptor;if(lb)try{lb({},"")}catch{lb=null}var DX=o(function(){throw new I_},"throwTypeError"),bAt=lb?function(){try{return arguments.callee,DX}catch{try{return lb(arguments,"callee").get}catch{return DX}}}():DX,A_=NT()(),xAt=eF()(),fs=Object.getPrototypeOf||(xAt?function(t){return t.__proto__}:null),T_={},vAt=typeof Uint8Array>"u"||!fs?zr:fs(Uint8Array),db={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?zr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zr:ArrayBuffer,"%ArrayIteratorPrototype%":A_&&fs?fs([][Symbol.iterator]()):zr,"%AsyncFromSyncIteratorPrototype%":zr,"%AsyncFunction%":T_,"%AsyncGenerator%":T_,"%AsyncGeneratorFunction%":T_,"%AsyncIteratorPrototype%":T_,"%Atomics%":typeof Atomics>"u"?zr:Atomics,"%BigInt%":typeof BigInt>"u"?zr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":hAt,"%eval%":eval,"%EvalError%":pAt,"%Float32Array%":typeof Float32Array>"u"?zr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zr:FinalizationRegistry,"%Function%":$Oe,"%GeneratorFunction%":T_,"%Int8Array%":typeof Int8Array>"u"?zr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A_&&fs?fs(fs([][Symbol.iterator]())):zr,"%JSON%":typeof JSON=="object"?JSON:zr,"%Map%":typeof Map>"u"?zr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A_||!fs?zr:fs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zr:Promise,"%Proxy%":typeof Proxy>"u"?zr:Proxy,"%RangeError%":mAt,"%ReferenceError%":gAt,"%Reflect%":typeof Reflect>"u"?zr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A_||!fs?zr:fs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A_&&fs?fs(""[Symbol.iterator]()):zr,"%Symbol%":A_?Symbol:zr,"%SyntaxError%":R_,"%ThrowTypeError%":bAt,"%TypedArray%":vAt,"%TypeError%":I_,"%Uint8Array%":typeof Uint8Array>"u"?zr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zr:Uint32Array,"%URIError%":yAt,"%WeakMap%":typeof WeakMap>"u"?zr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zr:WeakSet};if(fs)try{null.error}catch(t){jOe=fs(fs(t)),db["%Error.prototype%"]=jOe}var jOe,_At=o(function t(e){var r;if(e==="%AsyncFunction%")r=LX("async function () {}");else if(e==="%GeneratorFunction%")r=LX("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=LX("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&fs&&(r=fs(i.prototype))}return db[e]=r,r},"doEval"),zOe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K6=Op(),ek=PT(),wAt=K6.call(Function.call,Array.prototype.concat),SAt=K6.call(Function.apply,Array.prototype.splice),KOe=K6.call(Function.call,String.prototype.replace),tk=K6.call(Function.call,String.prototype.slice),EAt=K6.call(Function.call,RegExp.prototype.exec),AAt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,TAt=/\\(\\)?/g,IAt=o(function(e){var r=tk(e,0,1),n=tk(e,-1);if(r==="%"&&n!=="%")throw new R_("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new R_("invalid intrinsic syntax, expected opening `%`");var i=[];return KOe(e,AAt,function(s,a,c,u){i[i.length]=c?KOe(u,TAt,"$1"):a||s}),i},"stringToPath"),RAt=o(function(e,r){var n=e,i;if(ek(zOe,n)&&(i=zOe[n],n="%"+i[0]+"%"),ek(db,n)){var s=db[n];if(s===T_&&(s=_At(n)),typeof s>"u"&&!r)throw new I_("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new R_("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");GOe.exports=o(function(e,r){if(typeof e!="string"||e.length===0)throw new I_("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new I_('"allowMissing" argument must be a boolean');if(EAt(/^%?[^%]*%?$/,e)===null)throw new R_("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=IAt(e),i=n.length>0?n[0]:"",s=RAt("%"+i+"%",r),a=s.name,c=s.value,u=!1,h=s.alias;h&&(i=h[0],SAt(n,wAt([0,1],h)));for(var y=1,g=!0;y<n.length;y+=1){var S=n[y],T=tk(S,0,1),O=tk(S,-1);if((T==='"'||T==="'"||T==="`"||O==='"'||O==="'"||O==="`")&&T!==O)throw new R_("property names with quotes must have matching quotes");if((S==="constructor"||!g)&&(u=!0),i+="."+S,a="%"+i+"%",ek(db,a))c=db[a];else if(c!=null){if(!(S in c)){if(!r)throw new I_("base intrinsic for "+e+" exists, but the property is not available.");return}if(lb&&y+1>=n.length){var M=lb(c,S);g=!!M,g&&"get"in M&&!("originalValue"in M.get)?c=M.get:c=c[S]}else g=ek(c,S),c=c[S];g&&!u&&(db[a]=c)}}return c},"GetIntrinsic")});var UX=j((pgn,ZOe)=>{"use strict";p();m();var YOe=WOe(),XOe=NS(),OAt=XOe(YOe("String.prototype.indexOf"));ZOe.exports=o(function(e,r){var n=YOe(e,!!r);return typeof n=="function"&&OAt(e,".prototype.")>-1?XOe(n):n},"callBoundIntrinsic")});var eMe=j((bgn,QOe)=>{"use strict";p();m();var MAt=CS()(),NAt=UX(),FX=NAt("Object.prototype.toString"),rk=o(function(e){return MAt&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:FX(e)==="[object Arguments]"},"isArguments"),JOe=o(function(e){return rk(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&FX(e)!=="[object Array]"&&FX(e.callee)==="[object Function]"},"isArguments"),CAt=function(){return rk(arguments)}();rk.isLegacyArguments=JOe;QOe.exports=CAt?rk:JOe});var nMe=j((wgn,rMe)=>{"use strict";p();m();var kAt=Object.prototype.toString,BAt=Function.prototype.toString,PAt=/^\s*(?:function)?\*/,tMe=CS()(),HX=Object.getPrototypeOf,LAt=o(function(){if(!tMe)return!1;try{return Function("return function*() {}")()}catch{}},"getGeneratorFunc"),qX;rMe.exports=o(function(e){if(typeof e!="function")return!1;if(PAt.test(BAt.call(e)))return!0;if(!tMe){var r=kAt.call(e);return r==="[object GeneratorFunction]"}if(!HX)return!1;if(typeof qX>"u"){var n=LAt();qX=n?HX(n):!1}return HX(e)===qX},"isGeneratorFunction")});var oMe=j((Tgn,iMe)=>{p();m();var DAt=Object.prototype.hasOwnProperty,UAt=Object.prototype.toString;iMe.exports=o(function(e,r,n){if(UAt.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)r.call(n,e[s],s,e);else for(var a in e)DAt.call(e,a)&&r.call(n,e[a],a,e)},"forEach")});var aMe=j((Mgn,sMe)=>{"use strict";p();m();var VX=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],FAt=typeof globalThis>"u"?self:globalThis;sMe.exports=o(function(){for(var e=[],r=0;r<VX.length;r++)typeof FAt[VX[r]]=="function"&&(e[e.length]=VX[r]);return e},"availableTypedArrays")});var fMe=j((Bgn,cMe)=>{"use strict";p();m();cMe.exports=gy()});var mMe=j((Dgn,pMe)=>{"use strict";p();m();var uMe=oMe(),HAt=aMe(),zX=UX(),qAt=zX("Object.prototype.toString"),lMe=CS()(),VAt=typeof globalThis>"u"?self:globalThis,dMe=HAt(),jAt=zX("Array.prototype.indexOf",!0)||o(function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},"indexOf"),zAt=zX("String.prototype.slice"),hMe={},nk=fMe(),jX=Object.getPrototypeOf;lMe&&nk&&jX&&uMe(dMe,function(t){var e=new VAt[t];if(Symbol.toStringTag in e){var r=jX(e),n=nk(r,Symbol.toStringTag);if(!n){var i=jX(r);n=nk(i,Symbol.toStringTag)}hMe[t]=n.get}});var KAt=o(function(e){var r=!1;return uMe(hMe,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},"tryAllTypedArrays");pMe.exports=o(function(e){if(!e||typeof e!="object")return!1;if(!lMe||!(Symbol.toStringTag in e)){var r=zAt(qAt(e),8,-1);return jAt(dMe,r)>-1}return nk?KAt(e):!1},"isTypedArray")});var OMe=j(Fr=>{"use strict";p();m();var $At=eMe(),GAt=nMe(),Pl=cF(),gMe=mMe();function O_(t){return t.call.bind(t)}o(O_,"uncurryThis");var yMe=typeof BigInt<"u",bMe=typeof Symbol<"u",Iu=O_(Object.prototype.toString),WAt=O_(Number.prototype.valueOf),YAt=O_(String.prototype.valueOf),XAt=O_(Boolean.prototype.valueOf);yMe&&(xMe=O_(BigInt.prototype.valueOf));var xMe;bMe&&(vMe=O_(Symbol.prototype.valueOf));var vMe;function G6(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}o(G6,"checkBoxedPrimitive");Fr.isArgumentsObject=$At;Fr.isGeneratorFunction=GAt;Fr.isTypedArray=gMe;function ZAt(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(ZAt,"isPromise");Fr.isPromise=ZAt;function JAt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):gMe(t)||wMe(t)}o(JAt,"isArrayBufferView");Fr.isArrayBufferView=JAt;function QAt(t){return Pl(t)==="Uint8Array"}o(QAt,"isUint8Array");Fr.isUint8Array=QAt;function e4t(t){return Pl(t)==="Uint8ClampedArray"}o(e4t,"isUint8ClampedArray");Fr.isUint8ClampedArray=e4t;function t4t(t){return Pl(t)==="Uint16Array"}o(t4t,"isUint16Array");Fr.isUint16Array=t4t;function r4t(t){return Pl(t)==="Uint32Array"}o(r4t,"isUint32Array");Fr.isUint32Array=r4t;function n4t(t){return Pl(t)==="Int8Array"}o(n4t,"isInt8Array");Fr.isInt8Array=n4t;function i4t(t){return Pl(t)==="Int16Array"}o(i4t,"isInt16Array");Fr.isInt16Array=i4t;function o4t(t){return Pl(t)==="Int32Array"}o(o4t,"isInt32Array");Fr.isInt32Array=o4t;function s4t(t){return Pl(t)==="Float32Array"}o(s4t,"isFloat32Array");Fr.isFloat32Array=s4t;function a4t(t){return Pl(t)==="Float64Array"}o(a4t,"isFloat64Array");Fr.isFloat64Array=a4t;function c4t(t){return Pl(t)==="BigInt64Array"}o(c4t,"isBigInt64Array");Fr.isBigInt64Array=c4t;function f4t(t){return Pl(t)==="BigUint64Array"}o(f4t,"isBigUint64Array");Fr.isBigUint64Array=f4t;function ik(t){return Iu(t)==="[object Map]"}o(ik,"isMapToString");ik.working=typeof Map<"u"&&ik(new Map);function u4t(t){return typeof Map>"u"?!1:ik.working?ik(t):t instanceof Map}o(u4t,"isMap");Fr.isMap=u4t;function ok(t){return Iu(t)==="[object Set]"}o(ok,"isSetToString");ok.working=typeof Set<"u"&&ok(new Set);function l4t(t){return typeof Set>"u"?!1:ok.working?ok(t):t instanceof Set}o(l4t,"isSet");Fr.isSet=l4t;function sk(t){return Iu(t)==="[object WeakMap]"}o(sk,"isWeakMapToString");sk.working=typeof WeakMap<"u"&&sk(new WeakMap);function d4t(t){return typeof WeakMap>"u"?!1:sk.working?sk(t):t instanceof WeakMap}o(d4t,"isWeakMap");Fr.isWeakMap=d4t;function $X(t){return Iu(t)==="[object WeakSet]"}o($X,"isWeakSetToString");$X.working=typeof WeakSet<"u"&&$X(new WeakSet);function h4t(t){return $X(t)}o(h4t,"isWeakSet");Fr.isWeakSet=h4t;function ak(t){return Iu(t)==="[object ArrayBuffer]"}o(ak,"isArrayBufferToString");ak.working=typeof ArrayBuffer<"u"&&ak(new ArrayBuffer);function _Me(t){return typeof ArrayBuffer>"u"?!1:ak.working?ak(t):t instanceof ArrayBuffer}o(_Me,"isArrayBuffer");Fr.isArrayBuffer=_Me;function ck(t){return Iu(t)==="[object DataView]"}o(ck,"isDataViewToString");ck.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ck(new DataView(new ArrayBuffer(1),0,1));function wMe(t){return typeof DataView>"u"?!1:ck.working?ck(t):t instanceof DataView}o(wMe,"isDataView");Fr.isDataView=wMe;var KX=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function $6(t){return Iu(t)==="[object SharedArrayBuffer]"}o($6,"isSharedArrayBufferToString");function SMe(t){return typeof KX>"u"?!1:(typeof $6.working>"u"&&($6.working=$6(new KX)),$6.working?$6(t):t instanceof KX)}o(SMe,"isSharedArrayBuffer");Fr.isSharedArrayBuffer=SMe;function p4t(t){return Iu(t)==="[object AsyncFunction]"}o(p4t,"isAsyncFunction");Fr.isAsyncFunction=p4t;function m4t(t){return Iu(t)==="[object Map Iterator]"}o(m4t,"isMapIterator");Fr.isMapIterator=m4t;function g4t(t){return Iu(t)==="[object Set Iterator]"}o(g4t,"isSetIterator");Fr.isSetIterator=g4t;function y4t(t){return Iu(t)==="[object Generator]"}o(y4t,"isGeneratorObject");Fr.isGeneratorObject=y4t;function b4t(t){return Iu(t)==="[object WebAssembly.Module]"}o(b4t,"isWebAssemblyCompiledModule");Fr.isWebAssemblyCompiledModule=b4t;function EMe(t){return G6(t,WAt)}o(EMe,"isNumberObject");Fr.isNumberObject=EMe;function AMe(t){return G6(t,YAt)}o(AMe,"isStringObject");Fr.isStringObject=AMe;function TMe(t){return G6(t,XAt)}o(TMe,"isBooleanObject");Fr.isBooleanObject=TMe;function IMe(t){return yMe&&G6(t,xMe)}o(IMe,"isBigIntObject");Fr.isBigIntObject=IMe;function RMe(t){return bMe&&G6(t,vMe)}o(RMe,"isSymbolObject");Fr.isSymbolObject=RMe;function x4t(t){return EMe(t)||AMe(t)||TMe(t)||IMe(t)||RMe(t)}o(x4t,"isBoxedPrimitive");Fr.isBoxedPrimitive=x4t;function v4t(t){return typeof Uint8Array<"u"&&(_Me(t)||SMe(t))}o(v4t,"isAnyArrayBuffer");Fr.isAnyArrayBuffer=v4t;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Fr,t,{enumerable:!1,value:o(function(){throw new Error(t+" is not supported in userland")},"value")})})});var NMe=j((Kgn,MMe)=>{p();m();MMe.exports=o(function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},"isBuffer")});var N_=j(Hr=>{p();m();var CMe=Object.getOwnPropertyDescriptors||o(function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},"getOwnPropertyDescriptors"),_4t=/%[sdj%]/g;Hr.format=function(t){if(!mk(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Tg(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(_4t,function(c){if(c==="%%")return"%";if(r>=i)return c;switch(c){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return c}}),a=n[r];r<i;a=n[++r])pk(a)||!M_(a)?s+=" "+a:s+=" "+Tg(a);return s};Hr.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return Hr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return o(n,"deprecated"),n};var fk={},kMe=/^$/;R.NODE_DEBUG&&(uk=R.NODE_DEBUG,uk=uk.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),kMe=new RegExp("^"+uk+"$","i"));var uk;Hr.debuglog=function(t){if(t=t.toUpperCase(),!fk[t])if(kMe.test(t)){var e=process.pid;fk[t]=function(){var r=Hr.format.apply(Hr,arguments);console.error("%s %d: %s",t,e,r)}}else fk[t]=function(){};return fk[t]};function Tg(t,e){var r={seen:[],stylize:S4t};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),XX(e)?r.showHidden=e:e&&Hr._extend(r,e),pb(r.showHidden)&&(r.showHidden=!1),pb(r.depth)&&(r.depth=2),pb(r.colors)&&(r.colors=!1),pb(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=w4t),dk(r,t,r.depth)}o(Tg,"inspect");Hr.inspect=Tg;Tg.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Tg.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function w4t(t,e){var r=Tg.styles[e];return r?"\x1B["+Tg.colors[r][0]+"m"+t+"\x1B["+Tg.colors[r][1]+"m":t}o(w4t,"stylizeWithColor");function S4t(t,e){return t}o(S4t,"stylizeNoColor");function E4t(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}o(E4t,"arrayToHash");function dk(t,e,r){if(t.customInspect&&e&&lk(e.inspect)&&e.inspect!==Hr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return mk(n)||(n=dk(t,n,r)),n}var i=A4t(t,e);if(i)return i;var s=Object.keys(e),a=E4t(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Y6(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return GX(e);if(s.length===0){if(lk(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(W6(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(hk(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Y6(e))return GX(e)}var u="",h=!1,y=["{","}"];if(BMe(e)&&(h=!0,y=["[","]"]),lk(e)){var g=e.name?": "+e.name:"";u=" [Function"+g+"]"}if(W6(e)&&(u=" "+RegExp.prototype.toString.call(e)),hk(e)&&(u=" "+Date.prototype.toUTCString.call(e)),Y6(e)&&(u=" "+GX(e)),s.length===0&&(!h||e.length==0))return y[0]+u+y[1];if(r<0)return W6(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return h?S=T4t(t,e,r,a,s):S=s.map(function(T){return YX(t,e,r,a,T,h)}),t.seen.pop(),I4t(S,u,y)}o(dk,"formatValue");function A4t(t,e){if(pb(e))return t.stylize("undefined","undefined");if(mk(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(PMe(e))return t.stylize(""+e,"number");if(XX(e))return t.stylize(""+e,"boolean");if(pk(e))return t.stylize("null","null")}o(A4t,"formatPrimitive");function GX(t){return"["+Error.prototype.toString.call(t)+"]"}o(GX,"formatError");function T4t(t,e,r,n,i){for(var s=[],a=0,c=e.length;a<c;++a)LMe(e,String(a))?s.push(YX(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(YX(t,e,r,n,u,!0))}),s}o(T4t,"formatArray");function YX(t,e,r,n,i,s){var a,c,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?u.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),LMe(n,i)||(a="["+i+"]"),c||(t.seen.indexOf(u.value)<0?(pk(r)?c=dk(t,u.value,null):c=dk(t,u.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):c=`
`+c.split(`
`).map(function(h){return"   "+h}).join(`
`))):c=t.stylize("[Circular]","special")),pb(a)){if(s&&i.match(/^\d+$/))return c;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}o(YX,"formatProperty");function I4t(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}o(I4t,"reduceToSingleString");Hr.types=OMe();function BMe(t){return Array.isArray(t)}o(BMe,"isArray");Hr.isArray=BMe;function XX(t){return typeof t=="boolean"}o(XX,"isBoolean");Hr.isBoolean=XX;function pk(t){return t===null}o(pk,"isNull");Hr.isNull=pk;function R4t(t){return t==null}o(R4t,"isNullOrUndefined");Hr.isNullOrUndefined=R4t;function PMe(t){return typeof t=="number"}o(PMe,"isNumber");Hr.isNumber=PMe;function mk(t){return typeof t=="string"}o(mk,"isString");Hr.isString=mk;function O4t(t){return typeof t=="symbol"}o(O4t,"isSymbol");Hr.isSymbol=O4t;function pb(t){return t===void 0}o(pb,"isUndefined");Hr.isUndefined=pb;function W6(t){return M_(t)&&ZX(t)==="[object RegExp]"}o(W6,"isRegExp");Hr.isRegExp=W6;Hr.types.isRegExp=W6;function M_(t){return typeof t=="object"&&t!==null}o(M_,"isObject");Hr.isObject=M_;function hk(t){return M_(t)&&ZX(t)==="[object Date]"}o(hk,"isDate");Hr.isDate=hk;Hr.types.isDate=hk;function Y6(t){return M_(t)&&(ZX(t)==="[object Error]"||t instanceof Error)}o(Y6,"isError");Hr.isError=Y6;Hr.types.isNativeError=Y6;function lk(t){return typeof t=="function"}o(lk,"isFunction");Hr.isFunction=lk;function M4t(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}o(M4t,"isPrimitive");Hr.isPrimitive=M4t;Hr.isBuffer=NMe();function ZX(t){return Object.prototype.toString.call(t)}o(ZX,"objectToString");function WX(t){return t<10?"0"+t.toString(10):t.toString(10)}o(WX,"pad");var N4t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C4t(){var t=new Date,e=[WX(t.getHours()),WX(t.getMinutes()),WX(t.getSeconds())].join(":");return[t.getDate(),N4t[t.getMonth()],e].join(" ")}o(C4t,"timestamp");Hr.log=function(){console.log("%s - %s",C4t(),Hr.format.apply(Hr,arguments))};Hr.inherits=Zt();Hr._extend=function(t,e){if(!e||!M_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function LMe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(LMe,"hasOwnProperty");var hb=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Hr.promisify=o(function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(hb&&e[hb]){var r=e[hb];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,hb,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(u,h){n=u,i=h}),a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);a.push(function(u,h){u?i(u):n(h)});try{e.apply(this,a)}catch(u){i(u)}return s}return o(r,"fn"),Object.setPrototypeOf(r,Object.getPrototypeOf(e)),hb&&Object.defineProperty(r,hb,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,CMe(e))},"promisify");Hr.promisify.custom=hb;function k4t(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}o(k4t,"callbackifyOnRejected");function B4t(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=o(function(){return i.apply(s,arguments)},"cb");t.apply(this,r).then(function(c){process.nextTick(a.bind(null,null,c))},function(c){process.nextTick(k4t.bind(null,c,a))})}return o(e,"callbackified"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,CMe(t)),e}o(B4t,"callbackify");Hr.callbackify=B4t});var tZ=j((Qgn,FMe)=>{"use strict";p();m();function C_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C_=o(function(r){return typeof r},"_typeof"):C_=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),C_(t)}o(C_,"_typeof");function P4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(P4t,"_classCallCheck");function L4t(t,e){return e&&(C_(e)==="object"||typeof e=="function")?e:D4t(t)}o(L4t,"_possibleConstructorReturn");function D4t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(D4t,"_assertThisInitialized");function QX(t){return QX=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),QX(t)}o(QX,"_getPrototypeOf");function U4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eZ(t,e)}o(U4t,"_inherits");function eZ(t,e){return eZ=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),eZ(t,e)}o(eZ,"_setPrototypeOf");var UMe={},k_,JX;function X6(t,e,r){r||(r=Error);function n(s,a,c){return typeof e=="string"?e:e(s,a,c)}o(n,"getMessage");var i=function(s){U4t(a,s);function a(c,u,h){var y;return P4t(this,a),y=L4t(this,QX(a).call(this,n(c,u,h))),y.code=t,y}return o(a,"NodeError"),a}(r);UMe[t]=i}o(X6,"createErrorType");function DMe(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}o(DMe,"oneOf");function F4t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}o(F4t,"startsWith");function H4t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(H4t,"endsWith");function q4t(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}o(q4t,"includes");X6("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);X6("ERR_INVALID_ARG_TYPE",function(t,e,r){k_===void 0&&(k_=rZ()),k_(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&F4t(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(H4t(t," argument"))i="The ".concat(t," ").concat(n," ").concat(DMe(e,"type"));else{var s=q4t(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(DMe(e,"type"))}return i+=". Received type ".concat(C_(r)),i},TypeError);X6("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";JX===void 0&&(JX=N_());var n=JX.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);X6("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(C_(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);X6("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];k_===void 0&&(k_=rZ()),k_(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError);FMe.exports.codes=UMe});var zMe=j((nyn,jMe)=>{"use strict";p();m();function V4t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){j4t(t,i,r[i])})}return t}o(V4t,"_objectSpread");function j4t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}o(j4t,"_defineProperty");function z4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(z4t,"_classCallCheck");function HMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o(HMe,"_defineProperties");function K4t(t,e,r){return e&&HMe(t.prototype,e),r&&HMe(t,r),t}o(K4t,"_createClass");function B_(t,e){return e&&(Ru(e)==="object"||typeof e=="function")?e:nZ(t)}o(B_,"_possibleConstructorReturn");function nZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}o(nZ,"_assertThisInitialized");function $4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eA(t,e)}o($4t,"_inherits");function iZ(t){var e=typeof Map=="function"?new Map:void 0;return iZ=o(function(n){if(n===null||!W4t(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return gk(n,arguments,Ig(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),eA(i,n)},"_wrapNativeSuper"),iZ(t)}o(iZ,"_wrapNativeSuper");function G4t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}o(G4t,"isNativeReflectConstruct");function gk(t,e,r){return G4t()?gk=Reflect.construct:gk=o(function(i,s,a){var c=[null];c.push.apply(c,s);var u=Function.bind.apply(i,c),h=new u;return a&&eA(h,a.prototype),h},"_construct"),gk.apply(null,arguments)}o(gk,"_construct");function W4t(t){return Function.toString.call(t).indexOf("[native code]")!==-1}o(W4t,"_isNativeFunction");function eA(t,e){return eA=Object.setPrototypeOf||o(function(n,i){return n.__proto__=i,n},"_setPrototypeOf"),eA(t,e)}o(eA,"_setPrototypeOf");function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf:o(function(r){return r.__proto__||Object.getPrototypeOf(r)},"_getPrototypeOf"),Ig(t)}o(Ig,"_getPrototypeOf");function Ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=o(function(r){return typeof r},"_typeof"):Ru=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Ru(t)}o(Ru,"_typeof");var Y4t=N_(),oZ=Y4t.inspect,X4t=tZ(),Z4t=X4t.codes.ERR_INVALID_ARG_TYPE;function qMe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}o(qMe,"endsWith");function J4t(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}o(J4t,"repeat");var Ll="",Z6="",J6="",Us="",mb={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Q4t=10;function VMe(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}o(VMe,"copyError");function Q6(t){return oZ(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}o(Q6,"inspectValue");function e8t(t,e,r){var n="",i="",s=0,a="",c=!1,u=Q6(t),h=u.split(`
`),y=Q6(e).split(`
`),g=0,S="";if(r==="strictEqual"&&Ru(t)==="object"&&Ru(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),h.length===1&&y.length===1&&h[0]!==y[0]){var T=h[0].length+y[0].length;if(T<=Q4t){if((Ru(t)!=="object"||t===null)&&(Ru(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(mb[r],`

`)+"".concat(h[0]," !== ").concat(y[0],`
`)}else if(r!=="strictEqualObject"){var O=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(T<O){for(;h[0][g]===y[0][g];)g++;g>2&&(S=`
  `.concat(J4t(" ",g),"^"),g=0)}}}for(var M=h[h.length-1],k=y[y.length-1];M===k&&(g++<2?a=`
  `.concat(M).concat(a):n=M,h.pop(),y.pop(),!(h.length===0||y.length===0));)M=h[h.length-1],k=y[y.length-1];var C=Math.max(h.length,y.length);if(C===0){var B=u.split(`
`);if(B.length>30)for(B[26]="".concat(Ll,"...").concat(Us);B.length>27;)B.pop();return"".concat(mb.notIdentical,`

`).concat(B.join(`
`),`
`)}g>3&&(a=`
`.concat(Ll,"...").concat(Us).concat(a),c=!0),n!==""&&(a=`
  `.concat(n).concat(a),n="");var N=0,P=mb[r]+`
`.concat(Z6,"+ actual").concat(Us," ").concat(J6,"- expected").concat(Us),H=" ".concat(Ll,"...").concat(Us," Lines skipped");for(g=0;g<C;g++){var F=g-s;if(h.length<g+1)F>1&&g>2&&(F>4?(i+=`
`.concat(Ll,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(y[g-2]),N++),i+=`
  `.concat(y[g-1]),N++),s=g,n+=`
`.concat(J6,"-").concat(Us," ").concat(y[g]),N++;else if(y.length<g+1)F>1&&g>2&&(F>4?(i+=`
`.concat(Ll,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(h[g-2]),N++),i+=`
  `.concat(h[g-1]),N++),s=g,i+=`
`.concat(Z6,"+").concat(Us," ").concat(h[g]),N++;else{var Z=y[g],W=h[g],X=W!==Z&&(!qMe(W,",")||W.slice(0,-1)!==Z);X&&qMe(Z,",")&&Z.slice(0,-1)===W&&(X=!1,W+=","),X?(F>1&&g>2&&(F>4?(i+=`
`.concat(Ll,"...").concat(Us),c=!0):F>3&&(i+=`
  `.concat(h[g-2]),N++),i+=`
  `.concat(h[g-1]),N++),s=g,i+=`
`.concat(Z6,"+").concat(Us," ").concat(W),n+=`
`.concat(J6,"-").concat(Us," ").concat(Z),N+=2):(i+=n,n="",(F===1||g===0)&&(i+=`
  `.concat(W),N++))}if(N>20&&g<C-2)return"".concat(P).concat(H,`
`).concat(i,`
`).concat(Ll,"...").concat(Us).concat(n,`
`)+"".concat(Ll,"...").concat(Us)}return"".concat(P).concat(c?H:"",`
`).concat(i).concat(n).concat(a).concat(S)}o(e8t,"createErrDiff");var t8t=function(t){$4t(e,t);function e(r){var n;if(z4t(this,e),Ru(r)!=="object"||r===null)throw new Z4t("options","Object",r);var i=r.message,s=r.operator,a=r.stackStartFn,c=r.actual,u=r.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=B_(this,Ig(e).call(this,String(i)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Ll="\x1B[34m",Z6="\x1B[32m",Us="\x1B[39m",J6="\x1B[31m"):(Ll="",Z6="",Us="",J6="")),Ru(c)==="object"&&c!==null&&Ru(u)==="object"&&u!==null&&"stack"in c&&c instanceof Error&&"stack"in u&&u instanceof Error&&(c=VMe(c),u=VMe(u)),s==="deepStrictEqual"||s==="strictEqual")n=B_(this,Ig(e).call(this,e8t(c,u,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var y=mb[s],g=Q6(c).split(`
`);if(s==="notStrictEqual"&&Ru(c)==="object"&&c!==null&&(y=mb.notStrictEqualObject),g.length>30)for(g[26]="".concat(Ll,"...").concat(Us);g.length>27;)g.pop();g.length===1?n=B_(this,Ig(e).call(this,"".concat(y," ").concat(g[0]))):n=B_(this,Ig(e).call(this,"".concat(y,`

`).concat(g.join(`
`),`
`)))}else{var S=Q6(c),T="",O=mb[s];s==="notDeepEqual"||s==="notEqual"?(S="".concat(mb[s],`

`).concat(S),S.length>1024&&(S="".concat(S.slice(0,1021),"..."))):(T="".concat(Q6(u)),S.length>512&&(S="".concat(S.slice(0,509),"...")),T.length>512&&(T="".concat(T.slice(0,509),"...")),s==="deepEqual"||s==="equal"?S="".concat(O,`

`).concat(S,`

should equal

`):T=" ".concat(s," ").concat(T)),n=B_(this,Ig(e).call(this,"".concat(S).concat(T)))}return Error.stackTraceLimit=h,n.generatedMessage=!i,Object.defineProperty(nZ(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=c,n.expected=u,n.operator=s,Error.captureStackTrace&&Error.captureStackTrace(nZ(n),a),n.stack,n.name="AssertionError",B_(n)}return o(e,"AssertionError"),K4t(e,[{key:"toString",value:o(function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)},"toString")},{key:oZ.custom,value:o(function(n,i){return oZ(this,V4t({},i,{customInspect:!1,depth:0}))},"value")}]),e}(iZ(Error));jMe.exports=t8t});var GMe=j((ayn,$Me)=>{"use strict";p();m();function KMe(t,e){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s=Object.keys(Object(i)),a=0,c=s.length;a<c;a++){var u=s[a],h=Object.getOwnPropertyDescriptor(i,u);h!==void 0&&h.enumerable&&(r[u]=i[u])}}return r}o(KMe,"assign");function r8t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:KMe})}o(r8t,"polyfill");$Me.exports={assign:KMe,polyfill:r8t}});var sZ=j((lyn,YMe)=>{"use strict";p();m();var WMe=Object.prototype.toString;YMe.exports=o(function(e){var r=WMe.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&WMe.call(e.callee)==="[object Function]"),n},"isArguments")});var iNe=j((myn,nNe)=>{"use strict";p();m();var rNe;Object.keys||(tA=Object.prototype.hasOwnProperty,aZ=Object.prototype.toString,XMe=sZ(),cZ=Object.prototype.propertyIsEnumerable,ZMe=!cZ.call({toString:null},"toString"),JMe=cZ.call(function(){},"prototype"),rA=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],yk=o(function(t){var e=t.constructor;return e&&e.prototype===t},"equalsConstructorPrototype"),QMe={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},eNe=function(){if(typeof self>"u")return!1;for(var t in self)try{if(!QMe["$"+t]&&tA.call(self,t)&&self[t]!==null&&typeof self[t]=="object")try{yk(self[t])}catch{return!0}}catch{return!0}return!1}(),tNe=o(function(t){if(typeof self>"u"||!eNe)return yk(t);try{return yk(t)}catch{return!1}},"equalsConstructorPrototypeIfNotBuggy"),rNe=o(function(e){var r=e!==null&&typeof e=="object",n=aZ.call(e)==="[object Function]",i=XMe(e),s=r&&aZ.call(e)==="[object String]",a=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var c=JMe&&n;if(s&&e.length>0&&!tA.call(e,0))for(var u=0;u<e.length;++u)a.push(String(u));if(i&&e.length>0)for(var h=0;h<e.length;++h)a.push(String(h));else for(var y in e)!(c&&y==="prototype")&&tA.call(e,y)&&a.push(String(y));if(ZMe)for(var g=tNe(e),S=0;S<rA.length;++S)!(g&&rA[S]==="constructor")&&tA.call(e,rA[S])&&a.push(rA[S]);return a},"keys"));var tA,aZ,XMe,cZ,ZMe,JMe,rA,yk,QMe,eNe,tNe;nNe.exports=rNe});var cNe=j((xyn,aNe)=>{"use strict";p();m();var n8t=Array.prototype.slice,i8t=sZ(),oNe=Object.keys,bk=oNe?o(function(e){return oNe(e)},"keys"):iNe(),sNe=Object.keys;bk.shim=o(function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=o(function(n){return i8t(n)?sNe(n8t.call(n)):sNe(n)},"keys"))}else Object.keys=bk;return Object.keys||bk},"shimObjectKeys");aNe.exports=bk});var nA=j((Syn,dNe)=>{"use strict";p();m();var o8t=cNe(),s8t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a8t=Object.prototype.toString,c8t=Array.prototype.concat,fNe=Object.defineProperty,f8t=o(function(t){return typeof t=="function"&&a8t.call(t)==="[object Function]"},"isFunction"),u8t=iF()(),uNe=fNe&&u8t,l8t=o(function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!f8t(n)||!n())return}uNe?fNe(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},"defineProperty"),lNe=o(function(t,e){var r=arguments.length>2?arguments[2]:{},n=o8t(e);s8t&&(n=c8t.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)l8t(t,n[i],e[n[i]],r[n[i]])},"defineProperties");lNe.supportsDescriptors=!!uNe;dNe.exports=lNe});var fZ=j((Iyn,pNe)=>{"use strict";p();m();var hNe=o(function(t){return t!==t},"numberIsNaN");pNe.exports=o(function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||hNe(e)&&hNe(r))},"is")});var uZ=j((Nyn,mNe)=>{"use strict";p();m();var d8t=fZ();mNe.exports=o(function(){return typeof Object.is=="function"?Object.is:d8t},"getPolyfill")});var yNe=j((Pyn,gNe)=>{"use strict";p();m();var h8t=uZ(),p8t=nA();gNe.exports=o(function(){var e=h8t();return p8t(Object,{is:e},{is:o(function(){return Object.is!==e},"testObjectIs")}),e},"shimObjectIs")});var lZ=j((Fyn,vNe)=>{"use strict";p();m();var m8t=nA(),g8t=NS(),y8t=fZ(),bNe=uZ(),b8t=yNe(),xNe=g8t(bNe(),Object);m8t(xNe,{getPolyfill:bNe,implementation:y8t,shim:b8t});vNe.exports=xNe});var dZ=j((Vyn,_Ne)=>{"use strict";p();m();_Ne.exports=o(function(e){return e!==e},"isNaN")});var hZ=j(($yn,wNe)=>{"use strict";p();m();var x8t=dZ();wNe.exports=o(function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:x8t},"getPolyfill")});var ENe=j((Xyn,SNe)=>{"use strict";p();m();var v8t=nA(),_8t=hZ();SNe.exports=o(function(){var e=_8t();return v8t(Number,{isNaN:e},{isNaN:o(function(){return Number.isNaN!==e},"testIsNaN")}),e},"shimNumberIsNaN")});var RNe=j((e1n,INe)=>{"use strict";p();m();var w8t=NS(),S8t=nA(),E8t=dZ(),ANe=hZ(),A8t=ENe(),TNe=w8t(ANe(),Number);S8t(TNe,{getPolyfill:ANe,implementation:E8t,shim:A8t});INe.exports=TNe});var GNe=j((n1n,$Ne)=>{"use strict";p();m();function ONe(t,e){return R8t(t)||I8t(t,e)||T8t()}o(ONe,"_slicedToArray");function T8t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}o(T8t,"_nonIterableRest");function I8t(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),c;!(n=(c=a.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,s=u}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}o(I8t,"_iterableToArrayLimit");function R8t(t){if(Array.isArray(t))return t}o(R8t,"_arrayWithHoles");function Sf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sf=o(function(r){return typeof r},"_typeof"):Sf=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Sf(t)}o(Sf,"_typeof");var O8t=/a/g.flags!==void 0,Ak=o(function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},"arrayFromSet"),MNe=o(function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},"arrayFromMap"),qNe=Object.is?Object.is:lZ(),Sk=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},pZ=Number.isNaN?Number.isNaN:RNe();function gZ(t){return t.call.bind(t)}o(gZ,"uncurryThis");var oA=gZ(Object.prototype.hasOwnProperty),Ek=gZ(Object.prototype.propertyIsEnumerable),NNe=gZ(Object.prototype.toString),tc=N_().types,M8t=tc.isAnyArrayBuffer,N8t=tc.isArrayBufferView,CNe=tc.isDate,xk=tc.isMap,kNe=tc.isRegExp,vk=tc.isSet,C8t=tc.isNativeError,k8t=tc.isBoxedPrimitive,BNe=tc.isNumberObject,PNe=tc.isStringObject,LNe=tc.isBooleanObject,DNe=tc.isBigIntObject,B8t=tc.isSymbolObject,P8t=tc.isFloat32Array,L8t=tc.isFloat64Array;function D8t(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}o(D8t,"isNonIndex");function _k(t){return Object.keys(t).filter(D8t).concat(Sk(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}o(_k,"getOwnNonIndexProperties");function VNe(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}o(VNe,"compare");var wk=void 0,U8t=!0,F8t=!1,mZ=0,yZ=1,jNe=2,zNe=3;function H8t(t,e){return O8t?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}o(H8t,"areSimilarRegExps");function q8t(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}o(q8t,"areSimilarFloatArrays");function V8t(t,e){return t.byteLength!==e.byteLength?!1:VNe(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}o(V8t,"areSimilarTypedArrays");function j8t(t,e){return t.byteLength===e.byteLength&&VNe(new Uint8Array(t),new Uint8Array(e))===0}o(j8t,"areEqualArrayBuffers");function z8t(t,e){return BNe(t)?BNe(e)&&qNe(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):PNe(t)?PNe(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):LNe(t)?LNe(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):DNe(t)?DNe(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):B8t(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}o(z8t,"isEqualBoxedPrimitive");function Ou(t,e,r,n){if(t===e)return t!==0?!0:r?qNe(t,e):!0;if(r){if(Sf(t)!=="object")return typeof t=="number"&&pZ(t)&&pZ(e);if(Sf(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Sf(t)!=="object")return e===null||Sf(e)!=="object"?t==e:!1;if(e===null||Sf(e)!=="object")return!1}var i=NNe(t),s=NNe(e);if(i!==s)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var a=_k(t,wk),c=_k(e,wk);return a.length!==c.length?!1:iA(t,e,r,n,yZ,a)}if(i==="[object Object]"&&(!xk(t)&&xk(e)||!vk(t)&&vk(e)))return!1;if(CNe(t)){if(!CNe(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(kNe(t)){if(!kNe(e)||!H8t(t,e))return!1}else if(C8t(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(N8t(t)){if(!r&&(P8t(t)||L8t(t))){if(!q8t(t,e))return!1}else if(!V8t(t,e))return!1;var u=_k(t,wk),h=_k(e,wk);return u.length!==h.length?!1:iA(t,e,r,n,mZ,u)}else{if(vk(t))return!vk(e)||t.size!==e.size?!1:iA(t,e,r,n,jNe);if(xk(t))return!xk(e)||t.size!==e.size?!1:iA(t,e,r,n,zNe);if(M8t(t)){if(!j8t(t,e))return!1}else if(k8t(t)&&!z8t(t,e))return!1}return iA(t,e,r,n,mZ)}o(Ou,"innerDeepEqual");function UNe(t,e){return e.filter(function(r){return Ek(t,r)})}o(UNe,"getEnumerables");function iA(t,e,r,n,i,s){if(arguments.length===5){s=Object.keys(t);var a=Object.keys(e);if(s.length!==a.length)return!1}for(var c=0;c<s.length;c++)if(!oA(e,s[c]))return!1;if(r&&arguments.length===5){var u=Sk(t);if(u.length!==0){var h=0;for(c=0;c<u.length;c++){var y=u[c];if(Ek(t,y)){if(!Ek(e,y))return!1;s.push(y),h++}else if(Ek(e,y))return!1}var g=Sk(e);if(u.length!==g.length&&UNe(e,g).length!==h)return!1}else{var S=Sk(e);if(S.length!==0&&UNe(e,S).length!==0)return!1}}if(s.length===0&&(i===mZ||i===yZ&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var T=n.val1.get(t);if(T!==void 0){var O=n.val2.get(e);if(O!==void 0)return T===O}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var M=Y8t(t,e,r,s,n,i);return n.val1.delete(t),n.val2.delete(e),M}o(iA,"keyCheck");function FNe(t,e,r,n){for(var i=Ak(t),s=0;s<i.length;s++){var a=i[s];if(Ou(e,a,r,n))return t.delete(a),!0}return!1}o(FNe,"setHasEqualElement");function KNe(t){switch(Sf(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(pZ(t))return!1}return!0}o(KNe,"findLooseMatchingPrimitives");function K8t(t,e,r){var n=KNe(r);return n??(e.has(n)&&!t.has(n))}o(K8t,"setMightHaveLoosePrim");function $8t(t,e,r,n,i){var s=KNe(r);if(s!=null)return s;var a=e.get(s);return a===void 0&&!e.has(s)||!Ou(n,a,!1,i)?!1:!t.has(s)&&Ou(n,a,!1,i)}o($8t,"mapMightHaveLoosePrim");function G8t(t,e,r,n){for(var i=null,s=Ak(t),a=0;a<s.length;a++){var c=s[a];if(Sf(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else if(!e.has(c)){if(r||!K8t(t,e,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var u=Ak(e),h=0;h<u.length;h++){var y=u[h];if(Sf(y)==="object"&&y!==null){if(!FNe(i,y,r,n))return!1}else if(!r&&!t.has(y)&&!FNe(i,y,r,n))return!1}return i.size===0}return!0}o(G8t,"setEquiv");function HNe(t,e,r,n,i,s){for(var a=Ak(t),c=0;c<a.length;c++){var u=a[c];if(Ou(r,u,i,s)&&Ou(n,e.get(u),i,s))return t.delete(u),!0}return!1}o(HNe,"mapHasEqualEntry");function W8t(t,e,r,n){for(var i=null,s=MNe(t),a=0;a<s.length;a++){var c=ONe(s[a],2),u=c[0],h=c[1];if(Sf(u)==="object"&&u!==null)i===null&&(i=new Set),i.add(u);else{var y=e.get(u);if(y===void 0&&!e.has(u)||!Ou(h,y,r,n)){if(r||!$8t(t,e,u,h,n))return!1;i===null&&(i=new Set),i.add(u)}}}if(i!==null){for(var g=MNe(e),S=0;S<g.length;S++){var T=ONe(g[S],2),u=T[0],O=T[1];if(Sf(u)==="object"&&u!==null){if(!HNe(i,t,u,O,r,n))return!1}else if(!r&&(!t.has(u)||!Ou(t.get(u),O,!1,n))&&!HNe(i,t,u,O,!1,n))return!1}return i.size===0}return!0}o(W8t,"mapEquiv");function Y8t(t,e,r,n,i,s){var a=0;if(s===jNe){if(!G8t(t,e,r,i))return!1}else if(s===zNe){if(!W8t(t,e,r,i))return!1}else if(s===yZ)for(;a<t.length;a++)if(oA(t,a)){if(!oA(e,a)||!Ou(t[a],e[a],r,i))return!1}else{if(oA(e,a))return!1;for(var c=Object.keys(t);a<c.length;a++){var u=c[a];if(!oA(e,u)||!Ou(t[u],e[u],r,i))return!1}return c.length===Object.keys(e).length}for(a=0;a<n.length;a++){var h=n[a];if(!Ou(t[h],e[h],r,i))return!1}return!0}o(Y8t,"objEquiv");function X8t(t,e){return Ou(t,e,F8t)}o(X8t,"isDeepEqual");function Z8t(t,e){return Ou(t,e,U8t)}o(Z8t,"isDeepStrictEqual");$Ne.exports={isDeepEqual:X8t,isDeepStrictEqual:Z8t}});var rZ=j((a1n,fCe)=>{"use strict";p();m();function Rg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rg=o(function(r){return typeof r},"_typeof"):Rg=o(function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},"_typeof"),Rg(t)}o(Rg,"_typeof");function J8t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o(J8t,"_classCallCheck");var Q8t=tZ(),aA=Q8t.codes,WNe=aA.ERR_AMBIGUOUS_ARGUMENT,sA=aA.ERR_INVALID_ARG_TYPE,e5t=aA.ERR_INVALID_ARG_VALUE,t5t=aA.ERR_INVALID_RETURN_VALUE,Mg=aA.ERR_MISSING_ARGS,gb=zMe(),r5t=N_(),n5t=r5t.inspect,JNe=N_().types,i5t=JNe.isPromise,bZ=JNe.isRegExp,o5t=Object.assign?Object.assign:GMe().assign,QNe=Object.is?Object.is:lZ(),Og,Tk;function cA(){var t=GNe();Og=t.isDeepEqual,Tk=t.isDeepStrictEqual}o(cA,"lazyLoadComparison");var YNe=!1,Ci=fCe.exports=xZ,Ik={};function Dl(t){throw t.message instanceof Error?t.message:new gb(t)}o(Dl,"innerFail");function eCe(t,e,r,n,i){var s=arguments.length,a;if(s===0)a="Failed";else if(s===1)r=t,t=void 0;else{if(YNe===!1){YNe=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(n="!=")}if(r instanceof Error)throw r;var u={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||eCe};r!==void 0&&(u.message=r);var h=new gb(u);throw a&&(h.message=a,h.generatedMessage=!0),h}o(eCe,"fail");Ci.fail=eCe;Ci.AssertionError=gb;function tCe(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new gb({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw s.generatedMessage=i,s}}o(tCe,"innerOk");function xZ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];tCe.apply(void 0,[xZ,e.length].concat(e))}o(xZ,"ok");Ci.ok=xZ;Ci.equal=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");e!=r&&Dl({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},"equal");Ci.notEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");e==r&&Dl({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},"notEqual");Ci.deepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");Og===void 0&&cA(),Og(e,r)||Dl({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},"deepEqual");Ci.notDeepEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");Og===void 0&&cA(),Og(e,r)&&Dl({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},"notDeepEqual");Ci.deepStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");Og===void 0&&cA(),Tk(e,r)||Dl({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},"deepStrictEqual");Ci.notDeepStrictEqual=rCe;function rCe(t,e,r){if(arguments.length<2)throw new Mg("actual","expected");Og===void 0&&cA(),Tk(t,e)&&Dl({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:rCe})}o(rCe,"notDeepStrictEqual");Ci.strictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");QNe(e,r)||Dl({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},"strictEqual");Ci.notStrictEqual=o(function t(e,r,n){if(arguments.length<2)throw new Mg("actual","expected");QNe(e,r)&&Dl({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})},"notStrictEqual");var XNe=o(function t(e,r,n){var i=this;J8t(this,t),r.forEach(function(s){s in e&&(n!==void 0&&typeof n[s]=="string"&&bZ(e[s])&&e[s].test(n[s])?i[s]=n[s]:i[s]=e[s])})},"Comparison");function s5t(t,e,r,n,i,s){if(!(r in t)||!Tk(t[r],e[r])){if(!n){var a=new XNe(t,i),c=new XNe(e,i,t),u=new gb({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw u.actual=t,u.expected=e,u.operator=s.name,u}Dl({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}o(s5t,"compareExceptionKey");function nCe(t,e,r,n){if(typeof e!="function"){if(bZ(e))return e.test(t);if(arguments.length===2)throw new sA("expected",["Function","RegExp"],e);if(Rg(t)!=="object"||t===null){var i=new gb({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new e5t("error",e,"may not be an empty object");return Og===void 0&&cA(),s.forEach(function(a){typeof t[a]=="string"&&bZ(e[a])&&e[a].test(t[a])||s5t(t,e,a,r,s,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}o(nCe,"expectedException");function iCe(t){if(typeof t!="function")throw new sA("fn","Function",t);try{t()}catch(e){return e}return Ik}o(iCe,"getActual");function ZNe(t){return i5t(t)||t!==null&&Rg(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}o(ZNe,"checkIsPromise");function oCe(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!ZNe(e))throw new t5t("instance of Promise","promiseFn",e)}else if(ZNe(t))e=t;else throw new sA("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return Ik}).catch(function(r){return r})})}o(oCe,"waitForActual");function sCe(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new sA("error",["Object","Error","Function","RegExp"],r);if(Rg(e)==="object"&&e!==null){if(e.message===r)throw new WNe("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new WNe("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Rg(r)!=="object"&&typeof r!="function")throw new sA("error",["Object","Error","Function","RegExp"],r);if(e===Ik){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s=t.name==="rejects"?"rejection":"exception";Dl({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:t})}if(r&&!nCe(e,r,n,t))throw e}o(sCe,"expectsError");function aCe(t,e,r,n){if(e!==Ik){if(typeof r=="string"&&(n=r,r=void 0),!r||nCe(e,r)){var i=n?": ".concat(n):".",s=t.name==="doesNotReject"?"rejection":"exception";Dl({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(s).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}o(aCe,"expectsNoError");Ci.throws=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];sCe.apply(void 0,[t,iCe(e)].concat(n))},"throws");Ci.rejects=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return oCe(e).then(function(s){return sCe.apply(void 0,[t,s].concat(n))})},"rejects");Ci.doesNotThrow=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];aCe.apply(void 0,[t,iCe(e)].concat(n))},"doesNotThrow");Ci.doesNotReject=o(function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return oCe(e).then(function(s){return aCe.apply(void 0,[t,s].concat(n))})},"doesNotReject");Ci.ifError=o(function t(e){if(e!=null){var r="ifError got unwanted exception: ";Rg(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=n5t(e);var n=new gb({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var s=i.split(`
`);s.shift();for(var a=n.stack.split(`
`),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(u!==-1){a=a.slice(0,u);break}}n.stack="".concat(a.join(`
`),`
`).concat(s.join(`
`))}throw n}},"ifError");function cCe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];tCe.apply(void 0,[cCe,e.length].concat(e))}o(cCe,"strict");Ci.strict=o5t(cCe,Ci,{equal:Ci.strictEqual,deepEqual:Ci.deepStrictEqual,notEqual:Ci.notStrictEqual,notDeepEqual:Ci.notDeepStrictEqual});Ci.strict.strict=Ci.strict});p();m();var Yg=$e(li(),1),oo=$e(sL(),1),_h=$e(Mu(),1);p();m();wi.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});p();m();var kFe=o((t,e)=>t+e,"add"),uae=o(t=>t.reduce(kFe,0),"sum");var lae=Yg.Buffer.alloc(64).fill(0),aL=o(t=>If(t)?Yg.Buffer.from(t.message.serialize()):t.serializeMessage(),"transactionToSerializedMessage"),h8=o(t=>_h.default.encode(aL(t)),"transactionToMessageString"),dae=o(t=>{try{return h8(Gb(t,"bs58"))}catch{return h8(Gb(t,"base64"))}},"transactionStringToMessageString"),hae=o(t=>{try{return Gb(t,"bs58").version}catch{return Gb(t,"base64").version}},"transactionStringToVersion"),pae=o(t=>cL(uL(t)),"messageStringToTransactionString"),If=o(t=>t&&"version"in t,"isVersionedTransaction"),p8=o((t,e)=>If(t)?Yg.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),"transactionToSerializedTransaction"),cL=o((t,e)=>_h.default.encode(p8(t,e)),"transactionToBase58TransactionString"),mae=o((t,e)=>p8(t,e).toString("base64"),"transactionToBase64TransactionString"),Gb=o((t,e)=>{let r;if(e==="base64")r=Yg.Buffer.from(t,"base64");else if(e==="bs58")r=_h.default.decode(t);else throw new Error("Unsupported encoding");return oo.VersionedTransaction.deserialize(r)},"transactionStringToTransaction");function fL(t){return If(t)?t.signatures.filter(r=>r.every(i=>i===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(i=>i!==0)!==void 0:!1).length>0}o(fL,"isAlreadySigned");var gae=o(t=>{let e=t.map(r=>oo.VersionedMessage.deserialize(_h.default.decode(r)));return uae(e.map(r=>r.header.numRequiredSignatures))},"getRequiredSignatures"),uL=o(t=>{let e=_h.default.decode(t);if(oo.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let i=oo.Message.from(e);return oo.Transaction.populate(i,[])}let n=oo.VersionedMessage.deserialize(e);return new oo.VersionedTransaction(n)},"messageStringToTransaction"),yae=o((t,e=[])=>{let r=_h.default.decode(t);if(oo.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let i=oo.Message.from(r);return oo.Transaction.populate(i,e.map(s=>s?_h.default.encode(s):_h.default.encode(lae)))}else{let i=oo.VersionedMessage.deserialize(r);return new oo.VersionedTransaction(i,e.map(s=>s||lae))}},"messageAndSignaturesToTransaction"),bae=o(t=>t.compileMessage().accountKeys,"getAccountsFromTransaction"),lL=o(t=>If(t)?t.message.recentBlockhash:t.recentBlockhash,"getRecentBlockhash"),xae=o((t,e)=>{If(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},"setRecentBlockhash"),vae=o(async(t,e)=>{if(lL(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;xae(t,r)},"setRecentBlockhashIfNotExists"),_ae=o(async(t,e)=>{if(fL(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;xae(t,r)},"setRecentBlockhashIfNotSigned"),dL=o((t,e)=>{If(t)||(t.feePayer=e)},"setFeePayer"),hL=o(t=>If(t)?t.message.staticAccountKeys[0]:t.feePayer,"getFeePayer"),wae=o((t,e)=>{hL(t)||dL(t,e)},"setFeePayerIfNotExists"),Sae=o((t,e)=>{If(t)?t.sign(e):t.partialSign(...e)},"signWithAdditionalSigners"),Eae=o(t=>If(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),"getSignaturePubKeys"),Aae=o(t=>If(t)?t.signatures.map(e=>Yg.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null),"getSignatures");function Tae(t){if(!BFe(Yg.Buffer.from(t)))return!1;let e;try{e=oo.Message.from(t)}catch{e=void 0}let r;try{r=oo.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}o(Tae,"isSafeMessage");function BFe(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}o(BFe,"isValidUTF8");var Iae=o(t=>wi(t).dividedBy(oo.LAMPORTS_PER_SOL),"lamportsToSolana"),Rae=o(t=>wi(t).multipliedBy(oo.LAMPORTS_PER_SOL),"solanaToLamports");var Du={};_Z(Du,{BufferLayout:()=>UFe,getAccountsFromTransaction:()=>bae,getFeePayer:()=>hL,getRecentBlockhash:()=>lL,getRequiredSignatures:()=>gae,getSignaturePubKeys:()=>Eae,getSignatures:()=>Aae,isAlreadySigned:()=>fL,isSafeMessage:()=>Tae,isVersionedTransaction:()=>If,lamportsToSolana:()=>Iae,messageAndSignaturesToTransaction:()=>yae,messageStringToTransaction:()=>uL,messageStringToTransactionString:()=>pae,setFeePayer:()=>dL,setFeePayerIfNotExists:()=>wae,setRecentBlockhashIfNotExists:()=>vae,setRecentBlockhashIfNotSigned:()=>_ae,signWithAdditionalSigners:()=>Sae,solanaInstructionEncodeData:()=>Nae,solanaToLamports:()=>Rae,transactionStringToMessageString:()=>dae,transactionStringToTransaction:()=>Gb,transactionStringToVersion:()=>hae,transactionToBase58TransactionString:()=>cL,transactionToBase64TransactionString:()=>mae,transactionToMessageString:()=>h8,transactionToSerializedMessage:()=>aL,transactionToSerializedTransaction:()=>p8});p();m();var UFe=$e(Oae(),1);Ng(Du,$e(sL(),1));p();m();var Mae=$e(li());p();m();var LFe=$e(li()),Zb=$e(kB());function yL(t,e){let r=o(i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return yL({layout:i},e[i.property]);return 0},"getItemAlloc"),n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}o(yL,"getAlloc");function Nae(t,e){let r=t.layout.span>=0?t.layout.span:yL(t,e),n=Mae.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}o(Nae,"encodeData");p();m();var Tt;(function(t){t.Debug="debug",t.Fatal="fatal",t.Error="error",t.Info="info"})(Tt||(Tt={}));var Rf;(function(t){t.PD="PD",t.WP="WP",t.IO="IO",t.PL="PL",t.TRA="TRA",t.SOC="SOC",t.CASH="CASH",t.GROW="GROW"})(Rf||(Rf={}));var Je;(function(t){t.Account="account",t.Auth="Auth",t.ActionBanner="actionBanner",t.Authentication="authentication",t.AutoConfirm="autoConfirm",t.BugReporter="bugReporter",t.Chat="chat",t.Collectibles="collectibles",t.DappBrowser="dappBrowser",t.DappRegistry="dappRegistry",t.DeepLinks="deepLinks",t.FeatureFlags="featureFlags",t.Feed="feed",t.FileLogger="fileLogger",t.Fungibles="fungibles",t.History="history",t.Ledger="ledger",t.MagicEden="magicEden",t.Migration="migration",t.MobileWalletAdapter="mobileWalletAdapter",t.MobileEmbedded="mobileEmbedded",t.PhantomConnect="phantomConnect",t.Network="network",t.Notifications="notifications",t.NotificationCenter="notificationCenter",t.OnRamp="onRamp",t.Performance="performance",t.Perps="perps",t.Prices="prices",t.Profiles="profiles",t.Provider="provider",t.Seedless="se*dless",t.Settings="settings",t.Lock="lock",t.Simulation="simulation",t.Staking="staking",t.Storage="storage",t.StartUp="startUp",t.Swapper="swapper",t.Transaction="transaction",t.Safeguard="safeguard",t.Tokens="tokens",t.TrustedApps="trustedApps",t.UserSearch="userSearch",t.Generic="generic",t.WebTokenPage="webTokenPage",t.WebUserPage="webUserPage",t.WebPortal="webPortal",t.WebExplorePage="webExplorePage",t.WebAppPage="webAppPage",t.WebPublicSite="webPublicSite",t.Stripe="stripe",t.Kyc="kyc",t.Cash="cash",t.WebTokensSitemap="webTokensSitemap",t.Competitions="competitions"})(Je||(Je={}));p();m();p();m();var FFe="Error message ignored by logging middleware.",Cae=o(t=>({beforeEvent:o((...[e,r])=>{for(let n of t)if((e instanceof Error?e.message:e)===n)throw new Error(FFe);return{value:e,...r.data?{data:r.data}:{}}},"beforeEvent"),afterEvent:void 0}),"ignoreMessages");p();m();var HFe="Sensitive data detected by pki scanner. File logging blocked.",qFe=["seed","mnemonic","seedAndMnemonic","ObfuscatedBytes"],kae=new RegExp(`(${qFe.join("|")})`,"mi"),B8={beforeEvent:o((...[t,e])=>{let r=t instanceof Error?t.message:t;if(kae.test(r)||e.data&&kae.test(JSON.stringify(e.data)))throw new Error(HFe);return{value:t,...e.data?{data:e.data}:{}}},"beforeEvent"),afterEvent:void 0};var VFe=["premature close"],jFe=Cae(VFe),Xg=class extends Error{static{o(this,"FileLoggerUninitializedError")}constructor(e="File logger uninitialized. Call fileLogger.init() before calling other functions."){super(e)}};function zFe(t=[]){let e=null;async function r({provider:u}){await u.init(),e={provider:u}}o(r,"init");async function n(u){if(!e)throw new Xg;return e.provider.downloadLog(u)}o(n,"downloadLog");async function i(){if(!e)throw new Xg;return e.provider.getLogFilePaths()}o(i,"getLogFilePaths");async function s(){if(!e)throw new Xg;return e.provider.getRecentLogs()}o(s,"getRecentLogs");async function a(u){if(!e)throw new Xg;return e.provider.sendLogFilesByEmail(u)}o(a,"sendLogFilesByEmail");function c(u,h,y,g){if(!e)throw new Xg;for(let S of t)if(S?.beforeEvent!==void 0)try{S.beforeEvent(u,{featureTag:h,severity:y})}catch(T){Vs()&&T instanceof Error&&console.warn(T.message);return}e.provider.write(u,h,y,g);for(let S of t)if(S?.afterEvent!==void 0)try{S.afterEvent(u,{featureTag:h,severity:y})}catch(T){Vs()&&T instanceof Error&&console.warn(T.message);return}}return o(c,"write"),{init:r,downloadLog:n,getLogFilePaths:i,getRecentLogs:s,sendLogFilesByEmail:a,write:c}}o(zFe,"createFileLogger");var Ow=zFe([jFe,B8]);p();m();p();m();p();m();p();m();p();m();p();m();function Jb(t,e,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return Bae[t]>=Bae[r.getLevel()]&&i.includes(e)}o(Jb,"isAuthorized");var Wt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},Bae={[Wt.ok]:0,[Wt.debug]:1,[Wt.info]:2,[Wt.notice]:4,[Wt.warn]:5,[Wt.error]:6,[Wt.critical]:7,[Wt.alert]:8,[Wt.emerg]:9};p();m();function cp(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}o(cp,"createErrorFieldFromRawError");var KFe=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Zg={console:"console",http:"http",silent:"silent"},Pae=Object.keys(Wt),ta=class{static{o(this,"Logger")}constructor(e,r,n=Zg.http,i=Wt.debug,s={}){this.handleLogStrategy=e,this.handlerType=n,this.level=i,this.contextManager=Ob("logger"),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,r,n=Wt.info,i,s){let a=Tb(r),c;if(i!=null){let u=qZ({stackTrace:jZ(i)?pA(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:js.LOGGER,handling:"handled",startClocks:MZ()});c=Ib({error:cp(u,{includeMessage:!0})},a)}else c=a;this.handleLogStrategy({message:Tb(e),context:c,status:n},this,s)}log(e,r,n=Wt.info,i){let s;Jb(n,Zg.http,this)&&(s=Ck("log")),this.logImplementation(e,r,n,i,s)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,r){this.contextManager.setContextProperty(e,r)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}};KFe([kZ],ta.prototype,"logImplementation",null);ta.prototype.ok=Sh(Wt.ok);ta.prototype.debug=Sh(Wt.debug);ta.prototype.info=Sh(Wt.info);ta.prototype.notice=Sh(Wt.notice);ta.prototype.warn=Sh(Wt.warn);ta.prototype.error=Sh(Wt.error);ta.prototype.critical=Sh(Wt.critical);ta.prototype.alert=Sh(Wt.alert);ta.prototype.emerg=Sh(Wt.emerg);function Sh(t){return function(e,r,n){let i;Jb(t,Zg.http,this)&&(i=Ck("log")),this.logImplementation(e,r,t,n,i)}}o(Sh,"createLoggerMethod");p();m();function Lae(t,e,r){return{view:{referrer:document.referrer,url:self.location.href},context:t.getContext(),user:e.getContext(),account:r.getContext()}}o(Lae,"buildCommonContext");p();m();p();m();var GFe=32*1024;function Uae(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&Ul.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let e=DZ(t),r=Dae(t.forwardConsoleLogs,Nk(mo),"Forward Console Logs"),n=Dae(t.forwardReports,Nk($Z),"Forward Reports");if(!(!e||!r||!n))return t.forwardErrorsToLogs&&!r.includes(mo.error)&&r.push(mo.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:r,forwardReports:n,requestErrorResponseLengthLimit:GFe,...e}}o(Uae,"validateAndBuildLogsConfiguration");function Dae(t,e,r){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(n=>e.includes(n)))){Ul.error(`${r} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:XZ(t)}o(Dae,"validateAndBuildForwardOption");function Fae(t){let e=UZ(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}o(Fae,"serializeLogsConfiguration");function Hae(t,e,r){let n=ZZ(),i,s,a=e.observable.subscribe(c);function c(){if(!s||!i||!e.isGranted())return;a.unsubscribe();let u=r(i,s);n.drain(u)}return o(c,"tryStartLogs"),{init(u){if(!u){Ul.error("Missing configuration");return}if(FZ(u.enableExperimentalFeatures),uh()&&(u=WFe(u)),i=u,s){gA("DD_LOGS",u);return}let h=Uae(u);h&&(s=h,vA().subscribe(Uc),e.tryToInit(h.trackingConsent),c())},get initConfiguration(){return i},getInternalContext:Uc,handleLog(u,h,y,g=t(),S=D0()){n.add(T=>T.handleLog(u,h,y,g,S))}}}o(Hae,"createPreStartStrategy");function WFe(t){return{...t,clientToken:"empty"}}o(WFe,"overrideInitConfigurationForBridge");var bL="logs";function qae(t){let e=Ob("global context"),r=Ob("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),n=Ob("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),i=PZ();function s(){return Lae(e,r,n)}o(s,"getCommonContext");let a=Hae(s,i,(h,y)=>{h.storeContextsAcrossPages&&(_A(y,e,bL,2),_A(y,r,bL,1),_A(y,n,bL,4));let g=t(h,y,s,i);return a=YFe(h,g),g}),c={},u=new ta((...h)=>a.handleLog(...h));return KZ({logger:u,init:di(h=>a.init(h)),setTrackingConsent:di(h=>{i.update(h),rJ({feature:"set-tracking-consent",tracking_consent:h})}),getGlobalContext:di(()=>e.getContext()),setGlobalContext:di(h=>e.setContext(h)),setGlobalContextProperty:di((h,y)=>e.setContextProperty(h,y)),removeGlobalContextProperty:di(h=>e.removeContextProperty(h)),clearGlobalContext:di(()=>e.clearContext()),createLogger:di((h,y={})=>(c[h]=new ta((...g)=>a.handleLog(...g),Tb(h),y.handler,y.level,Tb(y.context)),c[h])),getLogger:di(h=>c[h]),getInitConfiguration:di(()=>YZ(a.initConfiguration)),getInternalContext:di(h=>a.getInternalContext(h)),setUser:di(r.setContext),getUser:di(r.getContext),setUserProperty:di(r.setContextProperty),removeUserProperty:di(r.removeContextProperty),clearUser:di(r.clearContext),setAccount:di(n.setContext),getAccount:di(n.getContext),setAccountProperty:di(n.setContextProperty),removeAccountProperty:di(n.removeContextProperty),clearAccount:di(n.clearContext)})}o(qae,"makeLogsPublicApi");function YFe(t,e){return{init:o(r=>{gA("DD_LOGS",r)},"init"),initConfiguration:t,...e}}o(YFe,"createPostStartStrategy");p();m();p();m();var XFe="logs";function Vae(t,e){let r=nJ(t,XFe,n=>ZFe(t,n),e);return{findTrackedSession:o((n,i={returnInactive:!1})=>{let s=r.findSession(n,i);return s&&s.trackingType==="1"?{id:s.id,anonymousId:s.anonymousId}:void 0},"findTrackedSession"),expireObservable:r.expireObservable}}o(Vae,"startLogsSessionManager");function jae(t){let r=zae(t)==="1"?{}:void 0;return{findTrackedSession:o(()=>r,"findTrackedSession"),expireObservable:new hA}}o(jae,"startLogsSessionManagerStub");function zae(t){return dA(t.sessionSampleRate)?"1":"0"}o(zae,"computeTrackingType");function ZFe(t,e){let r=JFe(e)?e:zae(t);return{trackingType:r,isTracked:r==="1"}}o(ZFe,"computeSessionState");function JFe(t){return t==="0"||t==="1"}o(JFe,"hasValidLoggerSession");p();m();p();m();var Kae=!1;function Qb(t){let e=self;if(wA()){let n=r(e.DD_RUM_SYNTHETICS);return!n&&!Kae&&(Kae=!0,U0("Logs sent before RUM is injected by the synthetics worker",{testId:pJ(),resultId:mJ()})),n}return r(e.DD_RUM);function r(n){if(n&&n.getInternalContext)return n.getInternalContext(t)}}o(Qb,"getRUMInternalContext");function $ae(t,e,r,n,i){let s=Pae.concat(["custom"]),a={};s.forEach(c=>{a[c]=fJ(c,e.eventRateLimiterThreshold,i)}),r.subscribe(0,({rawLogsEvent:c,messageContext:u=void 0,savedCommonContext:h=void 0,domainContext:y})=>{var g,S;let T=NZ(c.date),O=t.findTrackedSession(T);if(!t.findTrackedSession(T,{returnInactive:!0}))return;let k=h||n(),C;!Mk(k.account)&&k.account.id&&(C=k.account),O&&O.anonymousId&&!k.user.anonymous_id&&(k.user.anonymous_id=O.anonymousId);let B=Ib({service:e.service,session_id:O?O.id:void 0,session:O?{id:O.id}:void 0,usr:Mk(k.user)?void 0:k.user,account:C,view:k.view},k.context,Qb(T),c,u);((g=e.beforeSend)===null||g===void 0?void 0:g.call(e,B,y))===!1||B.origin!==js.AGENT&&((S=a[B.status])!==null&&S!==void 0?S:a.custom).isLimitReached()||r.notify(1,B)})}o($ae,"startLogsAssembly");p();m();var QFe={[mo.log]:Wt.info,[mo.debug]:Wt.debug,[mo.info]:Wt.info,[mo.warn]:Wt.warn,[mo.error]:Wt.error};function Gae(t,e){let r=dJ(t.forwardConsoleLogs).subscribe(n=>{var i;let s={rawLogsEvent:{date:D0(),message:n.message,origin:js.CONSOLE,error:n.error&&cp(n.error),status:QFe[n.api]},messageContext:(i=n.error)===null||i===void 0?void 0:i.context,domainContext:{handlingStack:n.handlingStack}};e.notify(0,s)});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(Gae,"startConsoleCollection");p();m();function Wae(t,e){let r=GZ(t,t.forwardReports).subscribe(n=>{let i=n.message,s,a=n.originalError.type==="deprecation"?Wt.warn:Wt.error;a===Wt.error?s=cp(n):n.stack&&(i+=` Found in ${VZ(n.stack)}`),e.notify(0,{rawLogsEvent:{date:D0(),message:i,origin:js.REPORT,error:s,status:a}})});return{stop:o(()=>{r.unsubscribe()},"stop")}}o(Wae,"startReportCollection");p();m();function Yae(t,e){if(!t.forwardErrorsToLogs)return{stop:Uc};let r=lJ(t).subscribe(s=>{s.state==="complete"&&i("xhr",s)}),n=vA().subscribe(s=>{s.state==="resolve"&&i("fetch",s)});function i(s,a){!LZ(a.url)&&(nHe(a)||iJ(a.status))&&("xhr"in a?eHe(a.xhr,t,c):a.response?rHe(a.response,t,c):a.error&&tHe(a.error,t,c));function c(u){let h={isAborted:a.isAborted,handlingStack:a.handlingStack};e.notify(0,{rawLogsEvent:{message:`${iHe(s)} error ${a.method} ${a.url}`,date:a.startClocks.timeStamp,error:{stack:u||"Failed to load",handling:void 0},http:{method:a.method,status_code:a.status,url:a.url},status:Wt.error,origin:js.NETWORK},domainContext:h})}o(c,"onResponseDataAvailable")}return o(i,"handleResponse"),{stop:o(()=>{r.unsubscribe(),n.unsubscribe()},"stop")}}o(Yae,"startNetworkErrorCollection");function eHe(t,e,r){typeof t.response=="string"?r(xL(t.response,e)):r(t.response)}o(eHe,"computeXhrResponseData");function tHe(t,e,r){r(xL(HZ(pA(t)),e))}o(tHe,"computeFetchErrorText");function rHe(t,e,r){let n=oJ(t);!n||!n.body?r():self.TextDecoder?oHe(n.body,e.requestErrorResponseLengthLimit,(i,s)=>{r(i?`Unable to retrieve response: ${i}`:s)}):n.text().then(di(i=>r(xL(i,e))),di(i=>r(`Unable to retrieve response: ${i}`)))}o(rHe,"computeFetchResponseText");function nHe(t){return t.status===0&&t.responseType!=="opaque"}o(nHe,"isRejected");function xL(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}o(xL,"truncateResponseText");function iHe(t){return t==="xhr"?"XHR":"Fetch"}o(iHe,"format");function oHe(t,e,r){hJ(t,(n,i,s)=>{if(n)r(n);else{let a=new TextDecoder().decode(i);s&&(a+="..."),r(void 0,a)}},{bytesLimit:e,collectStreamBody:!0})}o(oHe,"truncateResponseStream");p();m();function Xae(t,e){if(!t.forwardErrorsToLogs)return{stop:Uc};let r=new hA,{stop:n}=zZ(r),i=r.subscribe(s=>{e.notify(0,{rawLogsEvent:{message:s.message,date:s.startClocks.timeStamp,error:cp(s),origin:js.SOURCE,status:Wt.error},messageContext:s.context})});return{stop:o(()=>{n(),i.unsubscribe()},"stop")}}o(Xae,"startRuntimeErrorCollection");p();m();var Zae=cJ;p();m();function Jae(t){function e(r,n,i,s,a){let c=Ib(n.getContext(),r.context);if(Jb(r.status,Zg.console,n)&&aHe(r,c),Jb(r.status,Zg.http,n)){let u={rawLogsEvent:{date:a||D0(),message:r.message,status:r.status,origin:js.LOGGER},messageContext:c,savedCommonContext:s};i&&(u.domainContext={handlingStack:i}),t.notify(0,u)}}return o(e,"handleLog"),{handleLog:e}}o(Jae,"startLoggerCollection");var sHe={[Wt.ok]:mo.debug,[Wt.debug]:mo.debug,[Wt.info]:mo.info,[Wt.notice]:mo.info,[Wt.warn]:mo.warn,[Wt.error]:mo.error,[Wt.critical]:mo.error,[Wt.alert]:mo.error,[Wt.emerg]:mo.error};function aHe({status:t,message:e},r){IZ[sHe[t]].call(TZ,e,r)}o(aHe,"displayInConsole");p();m();function Qae(t,e,r,n,i){let s=xA(t,{endpoint:t.logsEndpointBuilder,encoder:Rb()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:Rb()},r,n,i.expireObservable);return e.subscribe(1,a=>{s.add(a)}),s}o(Qae,"startLogsBatch");p();m();function ece(t){let e=bA();t.subscribe(1,r=>{e.send("log",r)})}o(ece,"startLogsBridge");p();m();function tce(t){return{get:o(e=>{let r=t.findTrackedSession(e);if(r)return{session_id:r.id}},"get")}}o(tce,"startInternalContext");p();m();function rce(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:js.AGENT,status:Wt.error}}),U0("Error reported to customer",{"error.message":e.message})}}o(rce,"startReportError");p();m();function nce(t,e,r,n,i){let s=JZ("browser-logs-sdk",e);s.setContextProvider(()=>{var c,u,h,y,g,S;return{application:{id:(c=Qb())===null||c===void 0?void 0:c.application_id},session:{id:(u=i.findTrackedSession())===null||u===void 0?void 0:u.id},view:{id:(y=(h=Qb())===null||h===void 0?void 0:h.view)===null||y===void 0?void 0:y.id},action:{id:(S=(g=Qb())===null||g===void 0?void 0:g.user_action)===null||S===void 0?void 0:S.id}}});let a=[];if(uh()){let c=bA(),u=s.observable.subscribe(h=>c.send("internal_telemetry",h));a.push(()=>u.unsubscribe())}else{let c=xA(e,{endpoint:e.rumEndpointBuilder,encoder:Rb()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:Rb()},r,n,i.expireObservable);a.push(()=>c.stop());let u=s.observable.subscribe(h=>c.add(h,eJ(e)));a.push(()=>u.unsubscribe())}return QZ(),tJ(Fae(t)),{telemetry:s,stop:o(()=>{a.forEach(c=>c())},"stop")}}o(nce,"startLogsTelemetry");function ice(t,e,r,n){let i=new Zae,s=[];i.subscribe(1,S=>WZ("logs",S));let a=rce(i),c=aJ(e),u=e.sessionStoreStrategyType&&!uh()&&!wA()?Vae(e,n):jae(e),{stop:h}=nce(t,e,a,c,u);s.push(()=>h()),Yae(e,i),Xae(e,i),Gae(e,i),Wae(e,i);let{handleLog:y}=Jae(i);if($ae(u,e,i,r,a),uh())ece(i);else{let{stop:S}=Qae(e,i,a,c,u);s.push(()=>S())}let g=tce(u);return{handleLog:y,getInternalContext:g.get,stop:o(()=>{s.forEach(S=>S())},"stop")}}o(ice,"startLogs");var fp=qae(ice);mA(Ab(),"DD_LOGS",fp);p();m();p();m();p();m();p();m();function Mw(t,e,r){let n=0,i=[],s,a=0,c=[],{stop:u}=D_(t,e,"message",({data:g})=>{if(g.type!=="wrote"||g.streamId!==r)return;n+=g.additionalBytesCount,i.push(g.result),s=g.trailer;let S=c.shift();S&&S.id===g.id?S.writeCallback?S.writeCallback(g.result.byteLength):S.finishCallback&&S.finishCallback():(u(),U0("Worker responses received out of order."))});function h(){let g=i.length===0?new Uint8Array(0):CZ(i.concat(s)),S={rawBytesCount:n,output:g,outputBytesCount:g.byteLength,encoding:"deflate"};return n=0,i=[],S}o(h,"consumeResult");function y(){a>0&&(e.postMessage({action:"reset",streamId:r}),a=0)}return o(y,"sendResetIfNeeded"),{isAsync:!0,get isEmpty(){return a===0},write(g,S){e.postMessage({action:"write",id:a,data:g,streamId:r}),c.push({id:a,writeCallback:S,data:g}),a+=1},finish(g){y(),c.length?(c.forEach(S=>{delete S.writeCallback}),c[c.length-1].finishCallback=()=>g(h())):g(h())},finishSync(){y();let g=c.map(S=>(delete S.writeCallback,delete S.finishCallback,S.data)).join("");return{...h(),pendingData:g}},estimateEncodedBytesCount(g){return g.length/8},stop(){u()}}}o(Mw,"createDeflateEncoder");p();m();p();m();function ex({configuredUrl:t,error:e,source:r,scriptType:n}){if(Ul.error(`${r} failed to start: an error occurred while initializing the ${n}:`,e),e instanceof Event||e instanceof Error&&cHe(e.message)){let i;t?i=`Please make sure the ${n} URL ${t} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",Ul.error(`${i} See documentation at ${RZ}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else n==="worker"&&yA(e)}o(ex,"reportScriptLoadingError");function cHe(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}o(cHe,"isMessageCspRelated");var fHe=30*OZ;function oce(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);var h=Array(60);e(h);var l=Array(512);e(l);var _=Array(256);e(_);var o=Array(29);e(o);var d,u,f,c=Array(30);function p(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(c);var v=function(t){return t<256?l[t]:l[256+(t>>>7)]},w=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},m=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},b=function(t,e,a){m(t,a[2*e],a[2*e+1])},y=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},z=function(t,e,a){var n,r,i=Array(16),s=0;for(n=1;n<=15;n++)i[n]=s=s+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=y(i[h]++,h))}},k=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},x=function(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},A=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},U=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},B=function(t,e,r){var i,s,h,l,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===i?b(t,s,e):(h=_[s],b(t,h+256+1,e),0!==(l=a[h])&&(s-=o[h],m(t,s,l)),i--,h=v(i),b(t,h,r),0!==(l=n[h])&&(i-=c[h],m(t,i,l)))}while(d<t.last_lit);b(t,256,e)},I=function(t,e){var a,n,r,i=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,_=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==i[2*a]?(t.heap[++t.heap_len]=_=a,t.depth[a]=0):i[2*a+1]=0;for(;t.heap_len<2;)i[2*(r=t.heap[++t.heap_len]=_<2?++_:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=_,a=t.heap_len>>1;a>=1;a--)U(t,i,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,i,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,i[2*r]=i[2*a]+i[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,i[2*a+1]=i[2*n+1]=r,t.heap[1]=r++,U(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,i,s,h,l=e.dyn_tree,_=e.max_code,o=e.stat_desc.static_tree,d=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,c=e.stat_desc.max_length,p=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(i=l[2*l[2*(n=t.heap[a])+1]+1]+1)>c&&(i=c,p++),l[2*n+1]=i,n>_||(t.bl_count[i]++,s=0,n>=f&&(s=u[n-f]),h=l[2*n],t.opt_len+=h*(i+s),d&&(t.static_len+=h*(o[2*n+1]+s)));if(0!==p){do{for(i=c-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(i=c;0!==i;i--)for(n=t.bl_count[i];0!==n;)(r=t.heap[--a])>_||(l[2*r+1]!==i&&(t.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),n--)}}(t,e),z(i,_,t.bl_count)},E=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},C=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{b(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(b(t,r,t.bl_tree),h--),b(t,16,t.bl_tree),m(t,h-3,2)):h<=10?(b(t,17,t.bl_tree),m(t,h-3,3)):(b(t,18,t.bl_tree),m(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},D=!1,M=function(t,e,a,n){m(t,0+(n?1:0),3),function(t,e,a){x(t),w(t,a),w(t,~a),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a)},j=M,L=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},S=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),T=function(t,e,a,n){var r=S,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},O={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},q=j,F=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(_[a]+256+1)]++,t.dyn_dtree[2*v(e)]++),t.last_lit===t.lit_bufsize-1},G=-2,H=258,J=262,K=103,N=113,P=666,Q=function(t,e){return t.msg=O[e],e},R=function(t){return(t<<1)-(t>4?9:0)},V=function(t){for(var e=t.length;--e>=0;)t[e]=0},W=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},X=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Y=function(t,e){(function(t,e,a,n){var r,l,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),_=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=r&&(r=l)):r=l=a+5,a+4<=r&&-1!==e?M(t,e,a,n):4===t.strategy||l===r?(m(t,2+(n?1:0),3),B(t,s,h)):(m(t,4+(n?1:0),3),function(t,e,a,n){var r;for(m(t,e-257,5),m(t,a-1,5),m(t,n-4,4),r=0;r<n;r++)m(t,t.bl_tree[2*i[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),B(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&x(t)})(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,X(t.strm)},Z=function(t,e){t.pending_buf[t.pending++]=e},$=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+H,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=H-(u-i),i=u-H,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},et=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-J)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=L(s.adler,h,o,l):2===s.state.wrap&&(s.adler=T(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=W(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=W(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<J&&0!==t.strm.avail_in)},at=function(t,e){for(var a,n;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a)),t.match_length>=3)if(n=F(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=W(t,t.ins_h,t.window[t.strstart+1]);else n=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2},nt=function(t,e){for(var a,n,r;;){if(t.lookahead<J){if(et(t),t.lookahead<J&&0===e)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-J&&(t.match_length=tt(t,a),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=F(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=W(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=F(t,0,t.window[t.strstart-1]))&&Y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2};function rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var it=[new rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(et(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-J&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Y(t,!1),t.strm.avail_out),1)})),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,nt),new rt(8,16,32,32,nt),new rt(8,16,128,128,nt),new rt(8,32,128,256,nt),new rt(32,128,258,1024,nt),new rt(32,258,258,4096,nt)];function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}for(var ht=function(t){var e,i=function(t){if(!t||!t.state)return Q(t,G);t.total_in=t.total_out=0,t.data_type=2;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:N,t.adler=2===e.wrap?0:1,e.last_flush=0,function(t){D||(function(){var t,e,i,g,v,w=Array(16);for(i=0,g=0;g<28;g++)for(o[g]=i,t=0;t<1<<a[g];t++)_[i++]=g;for(_[i-1]=g,v=0,g=0;g<16;g++)for(c[g]=v,t=0;t<1<<n[g];t++)l[v++]=g;for(v>>=7;g<30;g++)for(c[g]=v<<7,t=0;t<1<<n[g]-7;t++)l[256+v++]=g;for(e=0;e<=15;e++)w[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,w[8]++;for(;t<=255;)s[2*t+1]=9,t++,w[9]++;for(;t<=279;)s[2*t+1]=7,t++,w[7]++;for(;t<=287;)s[2*t+1]=8,t++,w[8]++;for(z(s,287,w),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=y(t,5);d=new p(s,a,257,286,15),u=new p(h,n,0,30,15),f=new p([],r,0,19,7)}(),D=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,u),t.bl_desc=new g(t.bl_tree,f),t.bi_buf=0,t.bi_valid=0,k(t)}(e),0}(t);return 0===i&&((e=t.state).window_size=2*e.w_size,V(e.head),e.max_lazy_match=it[e.level].max_lazy,e.good_match=it[e.level].good_length,e.nice_match=it[e.level].nice_length,e.max_chain_length=it[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),i},lt=function(t,e){var a,n;if(!t||!t.state||e>5||e<0)return t?Q(t,G):G;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===P&&4!==e)return Q(t,0===t.avail_out?-5:G);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Z(r,31),Z(r,139),Z(r,8),r.gzhead?(Z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Z(r,255&r.gzhead.time),Z(r,r.gzhead.time>>8&255),Z(r,r.gzhead.time>>16&255),Z(r,r.gzhead.time>>24&255),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Z(r,255&r.gzhead.extra.length),Z(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=T(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,0),Z(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Z(r,3),r.status=N);else{var h=8+(r.w_bits-8<<4)<<8;h|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=N,$(r,h),0!==r.strstart&&($(r,t.adler>>>16),$(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending!==r.pending_buf_size));)Z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),X(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Z(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=T(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=K)}else r.status=K;if(r.status===K&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&X(t),r.pending+2<=r.pending_buf_size&&(Z(r,255&t.adler),Z(r,t.adler>>8&255),t.adler=0,r.status=N)):r.status=N),0!==r.pending){if(X(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&R(e)<=R(i)&&4!==e)return Q(t,-5);if(r.status===P&&0!==t.avail_in)return Q(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&r.status!==P){var l=2===r.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(et(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=H){if(et(t),t.lookahead<=H&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+H;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=H-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=F(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=F(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Y(t,!1),0===t.strm.avail_out)?1:2}(r,e):it[r.level].func(r,e);if(3!==l&&4!==l||(r.status=P),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===l&&(1===e?function(t){m(t,2,3),b(t,256,s),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}(r):5!==e&&(q(r,0,0,!1),3===e&&(V(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),X(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Z(r,255&t.adler),Z(r,t.adler>>8&255),Z(r,t.adler>>16&255),Z(r,t.adler>>24&255),Z(r,255&t.total_in),Z(r,t.total_in>>8&255),Z(r,t.total_in>>16&255),Z(r,t.total_in>>24&255)):($(r,t.adler>>>16),$(r,65535&t.adler)),X(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},_t=function(t){if(!t||!t.state)return G;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==K&&e!==N&&e!==P?Q(t,G):(t.state=null,e===N?Q(t,-3):0)},ot=new Uint8Array(256),dt=0;dt<256;dt++)ot[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;ot[254]=ot[254]=1;var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString;function ct(){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var e,a,n=function(t,e,a,n,r,i){if(!t)return G;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||8!==a||n<8||n>15||e<0||e>9||i<0||i>4)return Q(t,G);8===n&&(n=9);var h=new st;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,ht(t)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw Error(O[n]);if(t.header&&(e=this.strm,a=t.header,e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=a))),t.dictionary){var r;if(r="[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(t,e){var a=e.length;if(!t||!t.state)return G;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return G;if(1===r&&(t.adler=L(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(V(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,et(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=W(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,et(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,0}(this.strm,r)))throw Error(O[n]);this._dict_set=!0}}function pt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:e+"",streamId:a})}}function gt(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}ct.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?4:0,"[object ArrayBuffer]"===ft.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(2===n||3===n)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(1===(a=lt(r,n)))return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=_t(this.strm),this.onEnd(a),this.ended=!0,0===a;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ct.prototype.onData=function(t){this.chunks.push(t)},ct.prototype.onEnd=function(t){0===t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.6.3"};case"write":{let n=e.get(a.streamId);n||(n=new ct,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,2),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:gt(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){pt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){pt(e,t)}}()})();'])))}o(oce,"createDeflateWorker");var so={status:0};function Nw(t,e,r,n=oce){switch(so.status===0&&uHe(t,e,n),so.status){case 1:return so.initializationFailureCallbacks.push(r),so.worker;case 3:return so.worker}}o(Nw,"startDeflateWorker");function P8(){return so.status}o(P8,"getDeflateWorkerStatus");function uHe(t,e,r=oce){try{let n=r(t),{stop:i}=D_(t,n,"error",c=>{vL(t,e,c)}),{stop:s}=D_(t,n,"message",({data:c})=>{c.type==="errored"?vL(t,e,c.error,c.streamId):c.type==="initialized"&&dHe(c.version)});n.postMessage({action:"init"}),BZ(()=>lHe(e),fHe),so={status:1,worker:n,stop:o(()=>{i(),s()},"stop"),initializationFailureCallbacks:[]}}catch(n){vL(t,e,n)}}o(uHe,"doStartDeflateWorker");function lHe(t){so.status===1&&(Ul.error(`${t} failed to start: a timeout occurred while initializing the Worker`),so.initializationFailureCallbacks.forEach(e=>e()),so={status:2})}o(lHe,"onTimeout");function dHe(t){so.status===1&&(so={status:3,worker:so.worker,stop:so.stop,version:t})}o(dHe,"onInitialized");function vL(t,e,r,n){so.status===1||so.status===0?(ex({configuredUrl:t.workerUrl,error:r,source:e,scriptType:"worker"}),so.status===1&&so.initializationFailureCallbacks.forEach(i=>i()),so={status:2}):yA(r,{worker_version:so.status===3&&so.version,stream_id:n})}o(vL,"onError");p();m();function L8(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}o(L8,"isBrowserSupported");p();m();p();m();function sce(t,e,r,n){let i=e.findTrackedSession(),s=hHe(i,n),a=r.findView();return bJ(t,{viewContext:a,errorType:s,session:i})}o(sce,"getSessionReplayLink");function hHe(t,e){if(!L8())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}o(hHe,"getErrorType");function ace(t,e,r,n,i,s){let a=0,c;e.subscribe(9,()=>{(a===2||a===3)&&(y(),a=1)}),e.subscribe(10,()=>{a===1&&h()});let u=o(async()=>{let[g]=await Promise.all([i(),uJ(t,"interactive")]);if(a!==2)return;let S=s();if(!S||!g){a=0;return}({stop:c}=g(e,t,r,n,S)),a=3},"doStart");function h(g){let S=r.findTrackedSession();if(pHe(S,g)){a=1;return}mHe(a)||(a=2,u().catch(L_),gHe(S,g)&&r.setForcedReplay())}o(h,"start");function y(){a===3&&c?.(),a=0}return o(y,"stop"),{start:h,stop:y,getSessionReplayLink(){return sce(t,r,n,a!==0)},isRecording:o(()=>a===3,"isRecording")}}o(ace,"createPostStartStrategy");function pHe(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}o(pHe,"canStartRecording");function mHe(t){return t===2||t===3}o(mHe,"isRecordingInProgress");function gHe(t,e){return e&&e.force&&t.sessionReplay===0}o(gHe,"shouldForceReplay");p();m();function cce(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:Uc},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}o(cce,"createPreStartStrategy");function fce(t,e){if(uh()&&!sJ("records")||!L8())return{start:Uc,stop:Uc,getReplayStats:o(()=>{},"getReplayStats"),onRumStart:Uc,isRecording:o(()=>!1,"isRecording"),getSessionReplayLink:o(()=>{},"getSessionReplayLink")};let{strategy:r,shouldStartImmediately:n}=cce();return{start:o(s=>r.start(s),"start"),stop:o(()=>r.stop(),"stop"),getSessionReplayLink:o(()=>r.getSessionReplayLink(),"getSessionReplayLink"),onRumStart:i,isRecording:o(()=>P8()===3&&r.isRecording(),"isRecording"),getReplayStats:o(s=>P8()===3?xJ(s):void 0,"getReplayStats")};function i(s,a,c,u,h){let y;function g(){return y||(h??(h=Nw(a,"Datadog Session Replay",()=>{r.stop()},e)),h&&(y=Mw(a,h,1))),y}o(g,"getOrCreateDeflateEncoder"),r=ace(a,s,c,u,t,g),n(a)&&r.start()}}o(fce,"makeRecorderApi");p();m();async function uce(t=yHe){try{return await t()}catch(e){ex({error:e,source:"Recorder",scriptType:"module"})}}o(uce,"lazyLoadRecorder");async function yHe(){return(await import("./startRecording-VNARZSRE.js")).startRecording}o(yHe,"importRecorder");p();m();p();m();function lce(){return Ab().Profiler!==void 0}o(lce,"isProfilingSupported");p();m();async function dce(t=bHe){try{return await t()}catch(e){ex({error:e,source:"Profiler",scriptType:"module"})}}o(dce,"lazyLoadProfiler");async function bHe(){return(await import("./profiler-GMKNGWQR.js")).createRumProfiler}o(bHe,"importProfiler");function hce(){let t;function e(r,n,i,s){!lce()||!dA(n.profilingSampleRate)||dce().then(a=>{if(!a){U0("[DD_RUM] Failed to lazy load the RUM Profiler");return}t=a(n,r,i),t.start(s.findView())}).catch(L_)}return o(e,"onRumStart"),{onRumStart:e,stop:o(()=>{t?.stop().catch(L_)},"stop")}}o(hce,"makeProfilerApi");var xHe=fce(uce),vHe=hce(),Jg=gJ(yJ,xHe,vHe,{startDeflateWorker:Nw,createDeflateEncoder:Mw});mA(Ab(),"DD_RUM",Jg);p();m();var tx=o(t=>{switch(t){case Je.Collectibles:case Je.MagicEden:case Je.Fungibles:case Je.Staking:case Je.Swapper:case Je.Perps:case Je.Prices:case Je.WebTokenPage:case Je.WebExplorePage:case Je.Tokens:case Je.WebTokensSitemap:return Rf.PD;case Je.AutoConfirm:case Je.DeepLinks:case Je.DappBrowser:case Je.DappRegistry:case Je.Network:case Je.Transaction:case Je.Provider:case Je.History:case Je.TrustedApps:case Je.Simulation:case Je.MobileEmbedded:return Rf.WP;case Je.WebAppPage:case Je.Account:case Je.Auth:case Je.ActionBanner:case Je.Authentication:case Je.Ledger:case Je.Lock:case Je.Seedless:case Je.PhantomConnect:case Je.Settings:case Je.Migration:case Je.MobileWalletAdapter:case Je.Generic:case Je.StartUp:case Je.WebPortal:case Je.Notifications:case Je.WebPublicSite:return Rf.IO;case Je.BugReporter:case Je.Storage:case Je.FileLogger:case Je.FeatureFlags:case Je.Performance:return Rf.PL;case Je.Safeguard:return Rf.TRA;case Je.Chat:case Je.Profiles:case Je.Feed:case Je.NotificationCenter:case Je.WebUserPage:case Je.UserSearch:return Rf.SOC;case Je.Stripe:case Je.Kyc:case Je.OnRamp:case Je.Cash:return Rf.CASH;case Je.Competitions:return Rf.GROW}},"teamForTag");p();m();var Cw={init:o(async(t,e)=>{},"init"),captureError:o((t,e)=>{},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{},"captureMessage"),addBreadcrumb:o((t,e,r)=>{},"addBreadcrumb"),setUser:o(async t=>{},"setUser"),setTags:o(async t=>{},"setTags"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{},"startInactiveSpan"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();var D8;function pce(){return D8===void 0&&(typeof process<"u"&&R?D8=R.DATADOG_CLIENT_TOKEN:typeof self<"u"&&self.process?.env&&(D8=self.process.env.DATADOG_CLIENT_TOKEN)),D8}o(pce,"getDatadogClientToken");var _He={init:o(async(t,{datadog:e})=>{if(!e.enabled)return;let r=e.clientToken||pce();if(!r)throw new Error("[DatadogProvider#init] Missing client token");let n=t.mode==="debug"?100:e.traceSampleRate,i=t.mode==="debug"?100:e.sessionSampleRate,s=t.mode==="debug"?!0:e.trackUserInteractions,a=t.mode==="debug"?100:e.sessionReplaySampleRate??void 0;Jg.init({applicationId:e.applicationId,clientToken:r,service:e.service,version:P_,env:t.env,allowedTracingUrls:[/https?:\/\/([a-zA-Z0-9.-]+\.)?phantom\.app(\/|$)/],traceSampleRate:n,sessionSampleRate:i,enablePrivacyForActionName:!0,silentMultipleInit:!0,trackAnonymousUser:!1,enableExperimentalFeatures:["feature_flags"],defaultPrivacyLevel:"mask",trackUserInteractions:s,sessionReplaySampleRate:a}),fp.init({clientToken:r,service:e.service,env:t.env,forwardErrorsToLogs:!0,sessionSampleRate:i,version:P_,silentMultipleInit:!0,trackAnonymousUser:!1})},"init"),captureError:o((t,e)=>{_L(t.message,Tt.Error,{feature:e,team:tx(e)},t)},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{_L(t,r,{feature:e,team:tx(e)})},"captureMessage"),addBreadcrumb:o((t,e,r,n={})=>{_L(e,r,{category:t,...n})},"addBreadcrumb"),setUser:o(async t=>{fp.setUser(t),Jg.setUser(t)},"setUser"),setTags:o(async t=>{Jg.setGlobalContext({tags:t}),fp.setGlobalContext({tags:t})},"setTags"),startSpan:o((t,e)=>{let r=e();return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(()=>{},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{Jg.addFeatureFlagEvaluation(t,e)},"trackFeatureFlag")};function _L(t,e,r,n){switch((e===Tt.Error||e===Tt.Fatal)&&Jg.addError(n??t,r),e){case Tt.Fatal:!n&&fp.logger.critical(t,{context:r});break;case Tt.Error:!n&&fp.logger.error(t,{context:r});break;case Tt.Info:fp.logger.info(t,{context:r},n);break;case Tt.Debug:break}}o(_L,"reportToDatadog");function wHe(){return typeof document<"u"}o(wHe,"envSupportsDatadog");var mce=wHe()?_He:Cw;p();m();var gce=o(t=>({beforeEvent:o((...[e,r])=>{let n={value:e,...r.data?{data:r.data}:{}};if(r.data?.skipFileLogger)return n;let i=e instanceof Error?e.message:e;return t.write(i,r.featureTag,r.severity,r.data),n},"beforeEvent"),afterEvent:void 0}),"fileLoggerMiddleware");p();m();p();m();var SHe=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{88}\b/g,EHe=/\b0x[a-fA-F0-9]{64}\b/g,AHe=/\b[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{44}\b/g,THe=/\b0x[a-fA-F0-9]{40}\b/g,yce={SOLANA_SIGNATURE:SHe,EVM_SIGNATURE:EHe,SOLANA_PUBKEY:AHe,EVM_PUBKEY:THe},bce=o(t=>Object.entries(t).reduce((e,[r,n])=>(typeof n=="string"?e[r]=U8(n):e[r]=n,e),{}),"stripSignaturesAndPubkeysFromContextObject"),U8=o(t=>{let e=t;for(let r in yce){let n=yce[r];e=e.replace(n,"")}return e},"stripSignaturesAndPubkeysFromString"),IHe=o(t=>(t.message&&(t.message=U8(t.message)),t.cause&&typeof t.cause=="string"&&(t.cause=U8(t.cause)),t),"stripSignaturesAndPubkeysFromError"),xce=o(t=>t instanceof Error?IHe(t):U8(t),"stripSignaturesAndPubkeysFromStringOrError");var vce={beforeEvent:o((...[t,e])=>({value:xce(t),...e.data?{data:bce(e.data)}:{}}),"beforeEvent"),afterEvent:void 0};p();m();function _ce(t,e){return{init:o(async(r,n)=>{await Promise.allSettled([t.init(r,n),e.init(r,n)])},"init"),captureError:o((r,n)=>{Of(()=>t.captureError(r,n)),Of(()=>e.captureError(r,n))},"captureError"),captureMessage:o((r,n,i=Tt.Info)=>{Of(()=>t.captureMessage(r,n,i)),Of(()=>e.captureMessage(r,n,i))},"captureMessage"),addBreadcrumb:o((r,n,i,s)=>{Of(()=>t.addBreadcrumb(r,n,i,s)),Of(()=>e.addBreadcrumb(r,n,i,s))},"addBreadcrumb"),setUser:o(async r=>{await Promise.allSettled([t.setUser(r),e.setUser(r)])},"setUser"),setTags:o(async r=>{await Promise.allSettled([t.setTags(r),e.setTags(r)])},"setTags"),captureMetric:o(async(r,n,i)=>{Of(()=>e.captureMetric(r,n,i))},"captureMetric"),startSpan:o((r,n)=>t.startSpan(r,()=>e.startSpan(r,n)),"startSpan"),startInactiveSpan:o(r=>{let n=Of(()=>t.startInactiveSpan(r)),i=Of(()=>e.startInactiveSpan(r));if(!(!n&&!i))return Promise.resolve({end:o(()=>RHe(n,i),"end")})},"startInactiveSpan"),trackFeatureFlag:o((r,n)=>{Of(()=>t.trackFeatureFlag(r,n)),Of(()=>e.trackFeatureFlag(r,n))},"trackFeatureFlag")}}o(_ce,"createMultiProvider");function Of(t){try{return t()}catch(e){Vs()&&console.error("[MultiProvider] Error:",e);return}}o(Of,"safeTry");function RHe(...t){for(let e of t)e&&Of(()=>e.then(r=>r.end()))}o(RHe,"endSpans");p();m();p();m();p();m();p();m();p();m();p();m();var Lt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();p();m();var Uu="8.55.0";var Yt=globalThis;function up(t,e,r){let n=r||Yt,i=n.__SENTRY__=n.__SENTRY__||{},s=i[Uu]=i[Uu]||{};return s[t]||(s[t]=e())}o(up,"getGlobalSingleton");p();m();p();m();var uc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();var OHe="Sentry Logger ",kw=["debug","info","warn","error","log","assert","trace"],rx={};function lc(t){if(!("console"in Yt))return t();let e=Yt.console,r={},n=Object.keys(rx);n.forEach(i=>{let s=rx[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}o(lc,"consoleSandbox");function MHe(){let t=!1,e={enable:o(()=>{t=!0},"enable"),disable:o(()=>{t=!1},"disable"),isEnabled:o(()=>t,"isEnabled")};return uc?kw.forEach(r=>{e[r]=(...n)=>{t&&lc(()=>{Yt.console[r](`${OHe}[${r}]:`,...n)})}}):kw.forEach(r=>{e[r]=()=>{}}),e}o(MHe,"makeLogger");var Qe=up("logger",MHe);p();m();var Ql="?",wce=/\(error: (.*)\)/,Sce=/captureMessage|captureException/;function H8(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let s=[],a=r.split(`
`);for(let c=n;c<a.length;c++){let u=a[c];if(u.length>1024)continue;let h=wce.test(u)?u.replace(wce,"$1"):u;if(!h.match(/\S*Error: /)){for(let y of e){let g=y(h);if(g){s.push(g);break}}if(s.length>=50+i)break}}return Ece(s.slice(i))}}o(H8,"createStackParser");function SL(t){return Array.isArray(t)?H8(...t):t}o(SL,"stackParserFromStackParserOptions");function Ece(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(F8(e).function||"")&&e.pop(),e.reverse(),Sce.test(F8(e).function||"")&&(e.pop(),Sce.test(F8(e).function||"")&&e.pop()),e.slice(0,50).map(r=>({...r,filename:r.filename||F8(e).filename,function:r.function||Ql}))}o(Ece,"stripSentryFramesAndReverse");function F8(t){return t[t.length-1]||{}}o(F8,"getLastStackFrame");var wL="<anonymous>";function dc(t){try{return!t||typeof t!="function"?wL:t.name||wL}catch{return wL}}o(dc,"getFunctionName");function q8(t){let e=t.exception;if(e){let r=[];try{return e.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}o(q8,"getFramesFromEvent");var V8={},Ace={};function ra(t,e){V8[t]=V8[t]||[],V8[t].push(e)}o(ra,"addHandler");function na(t,e){if(!Ace[t]){Ace[t]=!0;try{e()}catch(r){uc&&Qe.error(`Error while instrumenting ${t}`,r)}}}o(na,"maybeInstrument");function yo(t,e){let r=t&&V8[t];if(r)for(let n of r)try{n(e)}catch(i){uc&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${dc(n)}
Error:`,i)}}o(yo,"triggerHandlers");var EL=null;function Bw(t){let e="error";ra(e,t),na(e,NHe)}o(Bw,"addGlobalErrorInstrumentationHandler");function NHe(){EL=Yt.onerror,Yt.onerror=function(t,e,r,n,i){return yo("error",{column:n,error:i,line:r,msg:t,url:e}),EL?EL.apply(this,arguments):!1},Yt.onerror.__SENTRY_INSTRUMENTED__=!0}o(NHe,"instrumentError");p();m();var AL=null;function Pw(t){let e="unhandledrejection";ra(e,t),na(e,CHe)}o(Pw,"addGlobalUnhandledRejectionInstrumentationHandler");function CHe(){AL=Yt.onunhandledrejection,Yt.onunhandledrejection=function(t){return yo("unhandledrejection",t),AL?AL.apply(this,arguments):!0},Yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(CHe,"instrumentUnhandledRejection");p();m();p();m();p();m();function Kc(){return Lw(Yt),Yt}o(Kc,"getMainCarrier");function Lw(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Uu,e[Uu]=e[Uu]||{}}o(Lw,"getSentryCarrier");p();m();p();m();p();m();p();m();p();m();p();m();p();m();var Tce=Object.prototype.toString;function Qg(t){switch(Tce.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $c(t,Error)}}o(Qg,"isError");function nx(t,e){return Tce.call(t)===`[object ${e}]`}o(nx,"isBuiltin");function j8(t){return nx(t,"ErrorEvent")}o(j8,"isErrorEvent");function z8(t){return nx(t,"DOMError")}o(z8,"isDOMError");function TL(t){return nx(t,"DOMException")}o(TL,"isDOMException");function Pa(t){return nx(t,"String")}o(Pa,"isString");function ix(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(ix,"isParameterizedString");function ey(t){return t===null||ix(t)||typeof t!="object"&&typeof t!="function"}o(ey,"isPrimitive");function Fu(t){return nx(t,"Object")}o(Fu,"isPlainObject");function ty(t){return typeof Event<"u"&&$c(t,Event)}o(ty,"isEvent");function IL(t){return typeof Element<"u"&&$c(t,Element)}o(IL,"isElement");function RL(t){return nx(t,"RegExp")}o(RL,"isRegExp");function Hu(t){return!!(t&&t.then&&typeof t.then=="function")}o(Hu,"isThenable");function OL(t){return Fu(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(OL,"isSyntheticEvent");function $c(t,e){try{return t instanceof e}catch{return!1}}o($c,"isInstanceOf");function Dw(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}o(Dw,"isVueViewModel");var ox=Yt,kHe=80;function Gc(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],s=0,a=0,c=" > ",u=c.length,h,y=Array.isArray(e)?e:e.keyAttrs,g=!Array.isArray(e)&&e.maxStringLength||kHe;for(;r&&s++<n&&(h=BHe(r,y),!(h==="html"||s>1&&a+i.length*u+h.length>=g));)i.push(h),a+=h.length,r=r.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}o(Gc,"htmlTreeAsString");function BHe(t,e){let r=t,n=[];if(!r||!r.tagName)return"";if(ox.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=e&&e.length?e.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let a=r.className;if(a&&Pa(a)){let c=a.split(/\s+/);for(let u of c)n.push(`.${u}`)}}let s=["aria-label","type","name","title","alt"];for(let a of s){let c=r.getAttribute(a);c&&n.push(`[${a}="${c}"]`)}return n.join("")}o(BHe,"_htmlElementAsString");function ML(){try{return ox.document.location.href}catch{return""}}o(ML,"getLocationHref");function NL(t){return ox.document&&ox.document.querySelector?ox.document.querySelector(t):null}o(NL,"getDomElement");function Uw(t){if(!ox.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(Uw,"getComponentName");p();m();function ed(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(ed,"truncate");function K8(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{Dw(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}o(K8,"safeJoin");function Ice(t,e,r=!1){return Pa(t)?RL(e)?e.test(t):Pa(e)?r?t===e:t.includes(e):!1:!1}o(Ice,"isMatchingPattern");function td(t,e=[],r=!1){return e.some(n=>Ice(t,n,r))}o(td,"stringMatchesSomePattern");function Oo(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&$8(i,n);try{t[e]=i}catch{uc&&Qe.log(`Failed to replace method "${e}" in object`,t)}}o(Oo,"fill");function ao(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{uc&&Qe.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(ao,"addNonEnumerableProperty");function $8(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,ao(t,"__sentry_original__",e)}catch{}}o($8,"markFunctionWrapped");function ry(t){return t.__sentry_original__}o(ry,"getOriginalFunction");function G8(t){if(Qg(t))return{message:t.message,name:t.name,stack:t.stack,...Oce(t)};if(ty(t)){let e={type:t.type,target:Rce(t.target),currentTarget:Rce(t.currentTarget),...Oce(t)};return typeof CustomEvent<"u"&&$c(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(G8,"convertToPlainObject");function Rce(t){try{return IL(t)?Gc(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(Rce,"serializeEventTarget");function Oce(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}o(Oce,"getOwnProperties");function kL(t,e=40){let r=Object.keys(G8(t));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=e)return ed(n,e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:ed(s,e)}return""}o(kL,"extractExceptionKeysForMessage");function Un(t){return CL(t,new Map)}o(Un,"dropUndefinedKeys");function CL(t,e){if(PHe(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(n[i]=CL(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(CL(i,e))}),n}return t}o(CL,"_dropUndefinedKeys");function PHe(t){if(!Fu(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o(PHe,"isPojo");p();m();var Mce=1e3;function rd(){return Date.now()/Mce}o(rd,"dateTimestampInSeconds");function LHe(){let{performance:t}=Yt;if(!t||!t.now)return rd;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/Mce}o(LHe,"createUnixTimestampInSecondsFunc");var Wi=LHe(),Fw,bo=(()=>{let{performance:t}=Yt;if(!t||!t.now){Fw="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+r-n):e,h=u<e;return s||h?i<=u?(Fw="timeOrigin",t.timeOrigin):(Fw="navigationStart",a):(Fw="dateNow",n)})();p();m();function Mo(){let t=Yt,e=t.crypto||t.msCrypto,r=o(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=o(()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}o(Mo,"uuid4");function Nce(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}o(Nce,"getFirstException");function qu(t){let{message:e,event_id:r}=t;if(e)return e;let n=Nce(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}o(qu,"getEventDescription");function sx(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}o(sx,"addExceptionTypeValue");function nd(t,e){let r=Nce(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};r.mechanism.data=s}}o(nd,"addExceptionMechanism");function W8(t){if(DHe(t))return!0;try{ao(t,"__sentry_captured__",!0)}catch{}return!1}o(W8,"checkOrSetAlreadyCaught");function DHe(t){try{return t.__sentry_captured__}catch{}}o(DHe,"isAlreadyCaptured");p();m();var Eh;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(Eh||(Eh={}));function Mf(t){return new Vu(e=>{e(t)})}o(Mf,"resolvedSyncPromise");function lp(t){return new Vu((e,r)=>{r(t)})}o(lp,"rejectedSyncPromise");var Vu=class t{static{o(this,"SyncPromise")}constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=Eh.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(Eh.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Eh.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Eh.PENDING){if(Hu(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Eh.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Eh.RESOLVED&&r[1](this._value),this._state===Eh.REJECTED&&r[2](this._value),r[0]=!0)})}}};function Cce(t){let e=Wi(),r={sid:Mo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>UHe(r),"toJSON")};return t&&Ah(r,t),r}o(Cce,"makeSession");function Ah(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Wi(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Mo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(Ah,"updateSession");function kce(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Ah(t,r)}o(kce,"closeSession");function UHe(t){return Un({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o(UHe,"sessionToJSON");p();m();function hc(){return Mo()}o(hc,"generateTraceId");function pc(){return Mo().substring(16)}o(pc,"generateSpanId");p();m();function ax(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;let n={...t};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=ax(n[i],e[i],r-1));return n}o(ax,"merge");p();m();var BL="_sentrySpan";function Th(t,e){e?ao(t,BL,e):delete t[BL]}o(Th,"_setSpanForScope");function ny(t){return t[BL]}o(ny,"_getSpanForScope");var FHe=100,PL=class t{static{o(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:hc(),spanId:pc()}}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Th(e,ny(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ah(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e,[n,i]=r instanceof Wc?[r.getScopeData(),r.getRequestSession()]:Fu(r)?[e,e.requestSession]:[],{tags:s,extra:a,user:c,contexts:u,level:h,fingerprint:y=[],propagationContext:g}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),h&&(this._level=h),y.length&&(this._fingerprint=y),g&&(this._propagationContext=g),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Th(this,void 0),this._attachments=[],this.setPropagationContext({traceId:hc()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:FHe;if(n<=0)return this;let i={timestamp:rd(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ny(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ax(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:pc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:Mo();if(!this._client)return Qe.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:Mo();if(!this._client)return Qe.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:Mo();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(Qe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}},Wc=PL;function Bce(){return up("defaultCurrentScope",()=>new Wc)}o(Bce,"getDefaultCurrentScope");function Pce(){return up("defaultIsolationScope",()=>new Wc)}o(Pce,"getDefaultIsolationScope");var LL=class{static{o(this,"AsyncContextStack")}constructor(e,r){let n;e?n=e:n=new Wc;let i;r?i=r:i=new Wc,this._stack=[{scope:n}],this._isolationScope=i}withScope(e){let r=this._pushScope(),n;try{n=e(r)}catch(i){throw this._popScope(),i}return Hu(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function cx(){let t=Kc(),e=Lw(t);return e.stack=e.stack||new LL(Bce(),Pce())}o(cx,"getAsyncContextStack");function HHe(t){return cx().withScope(t)}o(HHe,"withScope");function qHe(t,e){let r=cx();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}o(qHe,"withSetScope");function Lce(t){return cx().withScope(()=>t(cx().getIsolationScope()))}o(Lce,"withIsolationScope");function Dce(){return{withIsolationScope:Lce,withScope:HHe,withSetScope:qHe,withSetIsolationScope:o((t,e)=>Lce(e),"withSetIsolationScope"),getCurrentScope:o(()=>cx().getScope(),"getCurrentScope"),getIsolationScope:o(()=>cx().getIsolationScope(),"getIsolationScope")}}o(Dce,"getStackAsyncContextStrategy");function id(t){let e=Lw(t);return e.acs?e.acs:Dce()}o(id,"getAsyncContextStrategy");p();m();function xr(){let t=Kc();return id(t).getCurrentScope()}o(xr,"getCurrentScope");function No(){let t=Kc();return id(t).getIsolationScope()}o(No,"getIsolationScope");function Y8(){return up("globalScope",()=>new Wc)}o(Y8,"getGlobalScope");function dp(...t){let e=Kc(),r=id(e);if(t.length===2){let[n,i]=t;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(t[0])}o(dp,"withScope");function Jt(){return xr().getClient()}o(Jt,"getClient");function DL(t){let e=t.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=e;return Un({trace_id:r,span_id:n,parent_span_id:i})}o(DL,"getTraceContextFromScope");p();m();var VHe="_sentryMetrics";function Hw(t){let e=t[VHe];if(!e)return;let r={};for(let[,[n,i]]of e)(r[n]||(r[n]=[])).push(Un(i));return r}o(Hw,"getMetricSummaryJsonForSpan");p();m();var ia="sentry.source",fx="sentry.sample_rate",La="sentry.op",Fn="sentry.origin",ux="sentry.idle_span_finish_reason",hp="sentry.measurement_unit",pp="sentry.measurement_value",qw="sentry.custom_span_name",UL="sentry.profile_id",iy="sentry.exclusive_time";p();m();function FL(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}o(FL,"getSpanStatusFromHttpCode");function lx(t,e){t.setAttribute("http.response.status_code",e);let r=FL(e);r.message!=="unknown_error"&&t.setStatus(r)}o(lx,"setHttpStatus");p();m();p();m();var X8="sentry-",jHe=/^sentry-/,zHe=8192;function Z8(t){let e=KHe(t);if(!e)return;let r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(jHe)){let a=i.slice(X8.length);n[a]=s}return n},{});if(Object.keys(r).length>0)return r}o(Z8,"baggageHeaderToDynamicSamplingContext");function HL(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${X8}${n}`]=i),r),{});return $He(e)}o(HL,"dynamicSamplingContextToSentryBaggageHeader");function KHe(t){if(!(!t||!Pa(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,r)=>{let n=Uce(r);return Object.entries(n).forEach(([i,s])=>{e[i]=s}),e},{}):Uce(t)}o(KHe,"parseBaggageHeader");function Uce(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(r&&n&&(e[r]=n),e),{})}o(Uce,"baggageHeaderToObject");function $He(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=i===0?s:`${e},${s}`;return a.length>zHe?(uc&&Qe.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}o($He,"objectToBaggageHeader");var J8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Fce(t){if(!t)return;let e=t.match(J8);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}o(Fce,"extractTraceparentData");function qL(t,e){let r=Fce(t),n=Z8(e);if(!r||!r.traceId)return{traceId:hc(),spanId:pc()};let{traceId:i,parentSpanId:s,parentSampled:a}=r,c=pc();return{traceId:i,parentSpanId:s,spanId:c,sampled:a,dsc:n||{}}}o(qL,"propagationContextFromHeaders");function Vw(t=hc(),e=pc(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o(Vw,"generateSentryTraceHeader");var Q8=0,jL=1,Hce=!1;function Vce(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,origin:c}=Qt(t);return Un({parent_span_id:s,span_id:e,trace_id:r,data:n,op:i,status:a,origin:c})}o(Vce,"spanToTransactionTraceContext");function zL(t){let{spanId:e,traceId:r,isRemote:n}=t.spanContext(),i=n?e:Qt(t).parent_span_id,s=n?pc():e;return Un({parent_span_id:i,span_id:s,trace_id:r})}o(zL,"spanToTraceContext");function e5(t){let{traceId:e,spanId:r}=t.spanContext(),n=Nf(t);return Vw(e,r,n)}o(e5,"spanToTraceHeader");function ju(t){return typeof t=="number"?qce(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?qce(t.getTime()):Wi()}o(ju,"spanTimeInputToSeconds");function qce(t){return t>9999999999?t/1e3:t}o(qce,"ensureTimestampInSeconds");function Qt(t){if(XHe(t))return t.getSpanJSON();try{let{spanId:e,traceId:r}=t.spanContext();if(YHe(t)){let{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:c,status:u}=t;return Un({span_id:e,trace_id:r,data:n,description:s,parent_span_id:c,start_timestamp:ju(i),timestamp:ju(a)||void 0,status:t5(u),op:n[La],origin:n[Fn],_metrics_summary:Hw(t)})}return{span_id:e,trace_id:r}}catch{return{}}}o(Qt,"spanToJSON");function YHe(t){let e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(YHe,"spanIsOpenTelemetrySdkTraceBaseSpan");function XHe(t){return typeof t.getSpanJSON=="function"}o(XHe,"spanIsSentrySpan");function Nf(t){let{traceFlags:e}=t.spanContext();return e===jL}o(Nf,"spanIsSampled");function t5(t){if(!(!t||t.code===0))return t.code===1?"ok":t.message||"unknown_error"}o(t5,"getStatusMessage");var oy="_sentryChildSpans",VL="_sentryRootSpan";function r5(t,e){let r=t[VL]||t;ao(e,VL,r),t[oy]?t[oy].add(e):ao(t,oy,new Set([e]))}o(r5,"addChildSpanToSpan");function jce(t,e){t[oy]&&t[oy].delete(e)}o(jce,"removeChildSpanFromSpan");function mp(t){let e=new Set;function r(n){if(!e.has(n)&&Nf(n)){e.add(n);let i=n[oy]?Array.from(n[oy]):[];for(let s of i)r(s)}}return o(r,"addSpanChildren"),r(t),Array.from(e)}o(mp,"getSpanDescendants");function Cn(t){return t[VL]||t}o(Cn,"getRootSpan");function kn(){let t=Kc(),e=id(t);return e.getActiveSpan?e.getActiveSpan():ny(xr())}o(kn,"getActiveSpan");function n5(){Hce||(lc(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Hce=!0)}o(n5,"showSpanDropWarning");var zce=!1;function i5(){zce||(zce=!0,Bw(KL),Pw(KL))}o(i5,"registerSpanErrorInstrumentation");function KL(){let t=kn(),e=t&&Cn(t);if(e){let r="internal_error";Lt&&Qe.log(`[Tracing] Root span: ${r} -> Global error occurred`),e.setStatus({code:2,message:r})}}o(KL,"errorCallback");KL.tag="sentry_tracingErrorCallback";p();m();var Kce="_sentryScope",$ce="_sentryIsolationScope";function Gce(t,e,r){t&&(ao(t,$ce,r),ao(t,Kce,e))}o(Gce,"setCapturedScopesOnSpan");function $L(t){return{scope:t[Kce],isolationScope:t[$ce]}}o($L,"getCapturedScopesOnSpan");p();m();p();m();function Da(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Jt(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}o(Da,"hasTracingEnabled");p();m();var mc=class{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||hc(),this._spanId=e.spanId||pc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Q8}}end(e){}setAttribute(e,r){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,r,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,r){}};p();m();p();m();function Wce(t,e,r=()=>{}){let n;try{n=t()}catch(i){throw e(i),r(),i}return ZHe(n,e,r)}o(Wce,"handleCallbackErrors");function ZHe(t,e,r){return Hu(t)?t.then(n=>(r(),n),n=>{throw e(n),r(),n}):(r(),t)}o(ZHe,"maybeHandlePromiseRejection");p();m();p();m();var dx="production";var Yce="_frozenDsc";function GL(t,e){ao(t,Yce,e)}o(GL,"freezeDscOnSpan");function WL(t,e){let r=e.getOptions(),{publicKey:n}=e.getDsn()||{},i=Un({environment:r.environment||dx,release:r.release,public_key:n,trace_id:t});return e.emit("createDsc",i),i}o(WL,"getDynamicSamplingContextFromClient");function jw(t,e){let r=e.getPropagationContext();return r.dsc||WL(r.traceId,t)}o(jw,"getDynamicSamplingContextFromScope");function Yc(t){let e=Jt();if(!e)return{};let r=Cn(t),n=r[Yce];if(n)return n;let i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&Z8(s);if(a)return a;let c=WL(t.spanContext().traceId,e),u=Qt(r),h=u.data||{},y=h[fx];y!=null&&(c.sample_rate=`${y}`);let g=h[ia],S=u.description;return g!=="url"&&S&&(c.transaction=S),Da()&&(c.sampled=String(Nf(r))),e.emit("createDsc",c,r),c}o(Yc,"getDynamicSamplingContextFromSpan");p();m();function Xce(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Qt(t),{spanId:i}=t.spanContext(),s=Nf(t),a=Cn(t),c=a===t,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,h=[`op: ${r}`,`name: ${e}`,`ID: ${i}`];if(n&&h.push(`parent ID: ${n}`),!c){let{op:y,description:g}=Qt(a);h.push(`root ID: ${a.spanContext().spanId}`),y&&h.push(`root op: ${y}`),g&&h.push(`root description: ${g}`)}Qe.log(`${u}
  ${h.join(`
  `)}`)}o(Xce,"logSpanStart");function Zce(t){if(!Lt)return;let{description:e="< unknown name >",op:r="< unknown op >"}=Qt(t),{spanId:n}=t.spanContext(),s=Cn(t)===t,a=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${e}" with ID ${n}`;Qe.log(a)}o(Zce,"logSpanEnd");p();m();p();m();function o5(t){if(typeof t=="boolean")return Number(t);let e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Lt&&Qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}o(o5,"parseSampleRate");function Jce(t,e){if(!Da(t))return[!1];let r=No().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...e,normalizedRequest:e.normalizedRequest||r},i;typeof t.tracesSampler=="function"?i=t.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;let s=o5(i);return s===void 0?(Lt&&Qe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Lt&&Qe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Lt&&Qe.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}o(Jce,"sampleSpan");p();m();p();m();p();m();var JHe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function QHe(t){return t==="http"||t==="https"}o(QHe,"isValidProtocol");function od(t,e=!1){let{host:r,path:n,pass:i,port:s,projectId:a,protocol:c,publicKey:u}=t;return`${c}://${u}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}o(od,"dsnToString");function Qce(t){let e=JHe.exec(t);if(!e){lc(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",s="",a="",c=""]=e.slice(1),u="",h=c,y=h.split("/");if(y.length>1&&(u=y.slice(0,-1).join("/"),h=y.pop()),h){let g=h.match(/^\d+/);g&&(h=g[0])}return efe({host:s,pass:i,path:u,projectId:h,port:a,protocol:r,publicKey:n})}o(Qce,"dsnFromString");function efe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(efe,"dsnFromComponents");function eqe(t){if(!uc)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Qe.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?QHe(n)?e&&isNaN(parseInt(e,10))?(Qe.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Qe.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Qe.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}o(eqe,"validateDsn");function YL(t){let e=typeof t=="string"?Qce(t):efe(t);if(!(!e||!eqe(e)))return e}o(YL,"makeDsn");p();m();p();m();p();m();function tfe(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}o(r,"memoize");function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return o(n,"unmemoize"),[r,n]}o(tfe,"memoBuilder");function Cf(t,e=100,r=1/0){try{return XL("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}o(Cf,"normalize");function s5(t,e=3,r=100*1024){let n=Cf(t,e);return iqe(n)>r?s5(t,e-1,r):n}o(s5,"normalizeToSize");function XL(t,e,r=1/0,n=1/0,i=tfe()){let[s,a]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;let c=tqe(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return c.replace("object ","");if(s(e))return"[Circular ~]";let h=e;if(h&&typeof h.toJSON=="function")try{let T=h.toJSON();return XL("",T,u-1,n,i)}catch{}let y=Array.isArray(e)?[]:{},g=0,S=G8(e);for(let T in S){if(!Object.prototype.hasOwnProperty.call(S,T))continue;if(g>=n){y[T]="[MaxProperties ~]";break}let O=S[T];y[T]=XL(T,O,u-1,n,i),g++}return a(e),y}o(XL,"visit");function tqe(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof self<"u"&&e===self)return"[Global]";if(typeof self<"u"&&e===self)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Dw(e))return"[VueViewModel]";if(OL(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${dc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=rqe(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}o(tqe,"stringifyValue");function rqe(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}o(rqe,"getConstructorName");function nqe(t){return~-encodeURI(t).split(/%..|./).length}o(nqe,"utf8Length");function iqe(t){return nqe(JSON.stringify(t))}o(iqe,"jsonSize");function zu(t,e=[]){return[t,e]}o(zu,"createEnvelope");function JL(t,e){let[r,n]=t;return[r,[...n,e]]}o(JL,"addItemToEnvelope");function a5(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}o(a5,"forEachEnvelopeItem");function ZL(t){return Yt.__SENTRY__&&Yt.__SENTRY__.encodePolyfill?Yt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}o(ZL,"encodeUTF8");function QL(t){let[e,r]=t,n=JSON.stringify(e);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[ZL(n),s]:n.push(typeof s=="string"?ZL(s):s)}o(i,"append");for(let s of r){let[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Cf(c))}i(u)}}return typeof n=="string"?n:oqe(n)}o(QL,"serializeEnvelope");function oqe(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}o(oqe,"concatBuffers");function eD(t){return[{type:"span"},t]}o(eD,"createSpanEnvelopeItem");function tD(t){let e=typeof t.data=="string"?ZL(t.data):t.data;return[Un({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}o(tD,"createAttachmentEnvelopeItem");var sqe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function c5(t){return sqe[t]}o(c5,"envelopeItemTypeToDataCategory");function f5(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}o(f5,"getSdkMetadataForEnvelopeHeader");function rD(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:od(n)},...i&&{trace:Un({...i})}}}o(rD,"createEventEnvelopeHeaders");function aqe(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}o(aqe,"enhanceEventWithSdkInfo");function rfe(t,e,r,n){let i=f5(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:od(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return zu(s,[a])}o(rfe,"createSessionEnvelope");function nfe(t,e,r,n){let i=f5(r),s=t.type&&t.type!=="replay_event"?t.type:"event";aqe(t,r&&r.sdk);let a=rD(t,i,n,e);return delete t.sdkProcessingMetadata,zu(a,[[{type:s},t]])}o(nfe,"createEventEnvelope");function ife(t,e){function r(y){return!!y.trace_id&&!!y.public_key}o(r,"dscHasRequiredProps");let n=Yc(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,a={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&i&&{dsn:od(i)}},c=e&&e.getOptions().beforeSendSpan,u=c?y=>{let g=c(Qt(y));return g||n5(),g}:y=>Qt(y),h=[];for(let y of t){let g=u(y);g&&h.push(eD(g))}return zu(a,h)}o(ife,"createSpanEnvelope");p();m();function u5(t,e,r,n=kn()){let i=n&&Cn(n);i&&(Lt&&Qe.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${r}`),i.addEvent(t,{[pp]:e,[hp]:r}))}o(u5,"setMeasurement");function l5(t){if(!t||t.length===0)return;let e={};return t.forEach(r=>{let n=r.attributes||{},i=n[hp],s=n[pp];typeof i=="string"&&typeof s=="number"&&(e[r.name]={value:s,unit:i})}),e}o(l5,"timedEventsToMeasurements");var ofe=1e3,hx=class{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||hc(),this._spanId=e.spanId||pc(),this._startTime=e.startTimestamp||Wi(),this._attributes={},this.setAttributes({[Fn]:"manual",[La]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,r){}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?jL:Q8}}setAttribute(e,r){return r===void 0?delete this._attributes[e]:this._attributes[e]=r,this}setAttributes(e){return Object.keys(e).forEach(r=>this.setAttribute(r,e[r])),this}updateStartTime(e){this._startTime=ju(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(ia,"custom"),this}end(e){this._endTime||(this._endTime=ju(e),Zce(this),this._onSpanEnded())}getSpanJSON(){return Un({data:this._attributes,description:this._name,op:this._attributes[La],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:t5(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fn],_metrics_summary:Hw(this),profile_id:this._attributes[UL],exclusive_time:this._attributes[iy],measurements:l5(this._events),is_segment:this._isStandaloneSpan&&Cn(this)===this||void 0,segment_id:this._isStandaloneSpan?Cn(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,r,n){Lt&&Qe.log("[Tracing] Adding an event to span:",e);let i=sfe(r)?r:n||Wi(),s=sfe(r)?{}:r||{},a={name:e,time:ju(i),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=Jt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Cn(this)))return;if(this._isStandaloneSpan){this._sampled?fqe(ife([this],e)):(Lt&&Qe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&($L(this).scope||xr()).captureEvent(n)}_convertSpanToTransaction(){if(!afe(Qt(this)))return;this._name||(Lt&&Qe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:r}=$L(this),i=(e||xr()).getClient()||Jt();if(this._sampled!==!0){Lt&&Qe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let a=mp(this).filter(g=>g!==this&&!cqe(g)).map(g=>Qt(g)).filter(afe),c=this._attributes[ia];delete this._attributes[qw],a.forEach(g=>{g.data&&delete g.data[qw]});let u={contexts:{trace:Vce(this)},spans:a.length>ofe?a.sort((g,S)=>g.start_timestamp-S.start_timestamp).slice(0,ofe):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:r,...Un({dynamicSamplingContext:Yc(this)})},_metrics_summary:Hw(this),...c&&{transaction_info:{source:c}}},h=l5(this._events);return h&&Object.keys(h).length&&(Lt&&Qe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(h,void 0,2)),u.measurements=h),u}};function sfe(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(sfe,"isSpanTimeInput");function afe(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(afe,"isFullFinishedSpan");function cqe(t){return t instanceof hx&&t.isStandaloneSpan()}o(cqe,"isStandaloneSpan");function fqe(t){let e=Jt();if(!e)return;let r=t[1];if(!r||r.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(fqe,"sendSpanEnvelope");var ffe="__SENTRY_SUPPRESS_TRACING__";function d5(t,e){let r=nD();if(r.startSpan)return r.startSpan(t,e);let n=lfe(t),{forceTransaction:i,parentSpan:s}=t;return dp(t.scope,()=>lqe(s)(()=>{let c=xr(),u=dfe(c),y=t.onlyIfParent&&!u?new mc:ufe({parentSpan:u,spanArguments:n,forceTransaction:i,scope:c});return Th(c,y),Wce(()=>e(y),()=>{let{status:g}=Qt(y);y.isRecording()&&(!g||g==="ok")&&y.setStatus({code:2,message:"internal_error"})},()=>y.end())}))}o(d5,"startSpan");function Xc(t){let e=nD();if(e.startInactiveSpan)return e.startInactiveSpan(t);let r=lfe(t),{forceTransaction:n,parentSpan:i}=t;return(t.scope?a=>dp(t.scope,a):i!==void 0?a=>px(i,a):a=>a())(()=>{let a=xr(),c=dfe(a);return t.onlyIfParent&&!c?new mc:ufe({parentSpan:c,spanArguments:r,forceTransaction:n,scope:a})})}o(Xc,"startInactiveSpan");function px(t,e){let r=nD();return r.withActiveSpan?r.withActiveSpan(t,e):dp(n=>(Th(n,t||void 0),e(n)))}o(px,"withActiveSpan");function ufe({parentSpan:t,spanArguments:e,forceTransaction:r,scope:n}){if(!Da())return new mc;let i=No(),s;if(t&&!r)s=uqe(t,n,e),r5(t,s);else if(t){let a=Yc(t),{traceId:c,spanId:u}=t.spanContext(),h=Nf(t);s=cfe({traceId:c,parentSpanId:u,...e},n,h),GL(s,a)}else{let{traceId:a,dsc:c,parentSpanId:u,sampled:h}={...i.getPropagationContext(),...n.getPropagationContext()};s=cfe({traceId:a,parentSpanId:u,...e},n,h),c&&GL(s,c)}return Xce(s),Gce(s,n,i),s}o(ufe,"createChildOrRootSpan");function lfe(t){let r={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...r};return n.startTimestamp=ju(t.startTime),delete n.startTime,n}return r}o(lfe,"parseSentrySpanArguments");function nD(){let t=Kc();return id(t)}o(nD,"getAcs");function cfe(t,e,r){let n=Jt(),i=n&&n.getOptions()||{},{name:s="",attributes:a}=t,[c,u]=e.getScopeData().sdkProcessingMetadata[ffe]?[!1]:Jce(i,{name:s,parentSampled:r,attributes:a,transactionContext:{name:s,parentSampled:r}}),h=new hx({...t,attributes:{[ia]:"custom",...t.attributes},sampled:c});return u!==void 0&&h.setAttribute(fx,u),n&&n.emit("spanStart",h),h}o(cfe,"_startRootSpan");function uqe(t,e,r){let{spanId:n,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[ffe]?!1:Nf(t),a=s?new hx({...r,parentSpanId:n,traceId:i,sampled:s}):new mc({traceId:i});r5(t,a);let c=Jt();return c&&(c.emit("spanStart",a),r.endTimestamp&&c.emit("spanEnd",a)),a}o(uqe,"_startChildSpan");function dfe(t){let e=ny(t);if(!e)return;let r=Jt();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Cn(e):e}o(dfe,"getParentSpan");function lqe(t){return t!==void 0?e=>px(t,e):e=>e()}o(lqe,"getActiveSpanWrapper");var mx={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},dqe="heartbeatFailed",hqe="idleTimeout",pqe="finalTimeout",mqe="externalFinish";function h5(t,e={}){let r=new Map,n=!1,i,s=mqe,a=!e.disableAutoFinish,c=[],{idleTimeout:u=mx.idleTimeout,finalTimeout:h=mx.finalTimeout,childSpanTimeout:y=mx.childSpanTimeout,beforeSpanEnd:g}=e,S=Jt();if(!S||!Da())return new mc;let T=xr(),O=kn(),M=gqe(t);M.end=new Proxy(M.end,{apply(F,Z,W){g&&g(M);let[X,...E]=W,f=X||Wi(),d=ju(f),b=mp(M).filter(v=>v!==M);if(!b.length)return H(d),Reflect.apply(F,Z,[d,...E]);let x=b.map(v=>Qt(v).timestamp).filter(v=>!!v),_=x.length?Math.max(...x):void 0,A=Qt(M).start_timestamp,I=Math.min(A?A+h/1e3:1/0,Math.max(A||-1/0,Math.min(d,_||1/0)));return H(I),Reflect.apply(F,Z,[I,...E])}});function k(){i&&(clearTimeout(i),i=void 0)}o(k,"_cancelIdleTimeout");function C(F){k(),i=setTimeout(()=>{!n&&r.size===0&&a&&(s=hqe,M.end(F))},u)}o(C,"_restartIdleTimeout");function B(F){i=setTimeout(()=>{!n&&a&&(s=dqe,M.end(F))},y)}o(B,"_restartChildSpanTimeout");function N(F){k(),r.set(F,!0);let Z=Wi();B(Z+y/1e3)}o(N,"_pushActivity");function P(F){if(r.has(F)&&r.delete(F),r.size===0){let Z=Wi();C(Z+u/1e3)}}o(P,"_popActivity");function H(F){n=!0,r.clear(),c.forEach(d=>d()),Th(T,O);let Z=Qt(M),{start_timestamp:W}=Z;if(!W)return;(Z.data||{})[ux]||M.setAttribute(ux,s),Qe.log(`[Tracing] Idle span "${Z.op}" finished`);let E=mp(M).filter(d=>d!==M),f=0;E.forEach(d=>{d.isRecording()&&(d.setStatus({code:2,message:"cancelled"}),d.end(F),Lt&&Qe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(d,void 0,2)));let b=Qt(d),{timestamp:x=0,start_timestamp:_=0}=b,A=_<=F,I=(h+u)/1e3,v=x-_<=I;if(Lt){let l=JSON.stringify(d,void 0,2);A?v||Qe.log("[Tracing] Discarding span since it finished after idle span final timeout",l):Qe.log("[Tracing] Discarding span since it happened after idle span was finished",l)}(!v||!A)&&(jce(M,d),f++)}),f>0&&M.setAttribute("sentry.idle_span_discarded_spans",f)}return o(H,"onIdleSpanEnded"),c.push(S.on("spanStart",F=>{if(n||F===M||Qt(F).timestamp)return;mp(M).includes(F)&&N(F.spanContext().spanId)})),c.push(S.on("spanEnd",F=>{n||P(F.spanContext().spanId)})),c.push(S.on("idleSpanEnableAutoFinish",F=>{F===M&&(a=!0,C(),r.size&&B())})),e.disableAutoFinish||C(),setTimeout(()=>{n||(M.setStatus({code:2,message:"deadline_exceeded"}),s=pqe,M.end())},h),M}o(h5,"startIdleSpan");function gqe(t){let e=Xc(t);return Th(xr(),e),Lt&&Qe.log("[Tracing] Started span is an idle span"),e}o(gqe,"_startIdleSpan");p();m();p();m();p();m();function p5(t,e,r,n=0){return new Vu((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let c=a({...e},r);Lt&&a.id&&c===null&&Qe.log(`Event processor "${a.id}" dropped event`),Hu(c)?c.then(u=>p5(t,u,r,n+1).then(i)).then(null,s):p5(t,c,r,n+1).then(i).then(null,s)}})}o(p5,"notifyEventProcessors");p();m();var m5,hfe,g5;function pfe(t){let e=Yt._sentryDebugIds;if(!e)return{};let r=Object.keys(e);return g5&&r.length===hfe||(hfe=r.length,g5=r.reduce((n,i)=>{m5||(m5={});let s=m5[i];if(s)n[s[0]]=s[1];else{let a=t(i);for(let c=a.length-1;c>=0;c--){let u=a[c],h=u&&u.filename,y=e[i];if(h&&y){n[h]=y,m5[i]=[h,y];break}}}return n},{})),g5}o(pfe,"getFilenameToDebugIdMap");p();m();function mfe(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;yqe(t,e),n&&vqe(t,n),_qe(t,r),bqe(t,i),xqe(t,s)}o(mfe,"applyScopeDataToEvent");function iD(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:h,eventProcessors:y,attachments:g,propagationContext:S,transactionName:T,span:O}=e;y5(t,"extra",r),y5(t,"tags",n),y5(t,"user",i),y5(t,"contexts",s),t.sdkProcessingMetadata=ax(t.sdkProcessingMetadata,c,2),a&&(t.level=a),T&&(t.transactionName=T),O&&(t.span=O),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),y.length&&(t.eventProcessors=[...t.eventProcessors,...y]),g.length&&(t.attachments=[...t.attachments,...g]),t.propagationContext={...t.propagationContext,...S}}o(iD,"mergeScopeData");function y5(t,e,r){t[e]=ax(t[e],r,1)}o(y5,"mergeAndOverwriteScopeData");function yqe(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:c}=e,u=Un(r);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});let h=Un(n);h&&Object.keys(h).length&&(t.tags={...h,...t.tags});let y=Un(i);y&&Object.keys(y).length&&(t.user={...y,...t.user});let g=Un(s);g&&Object.keys(g).length&&(t.contexts={...g,...t.contexts}),a&&(t.level=a),c&&t.type!=="transaction"&&(t.transaction=c)}o(yqe,"applyDataToEvent");function bqe(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}o(bqe,"applyBreadcrumbsToEvent");function xqe(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(xqe,"applySdkMetadataToEvent");function vqe(t,e){t.contexts={trace:zL(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Yc(e),...t.sdkProcessingMetadata};let r=Cn(e),n=Qt(r).description;n&&!t.transaction&&t.type==="transaction"&&(t.transaction=n)}o(vqe,"applySpanToEvent");function _qe(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}o(_qe,"applyFingerprintToEvent");function gfe(t,e,r,n,i,s){let{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,u={...e,event_id:e.event_id||r.event_id||Mo(),timestamp:e.timestamp||rd()},h=r.integrations||t.integrations.map(k=>k.name);wqe(u,t),Aqe(u,h),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&Sqe(u,t.stackParser);let y=Iqe(n,r.captureContext);r.mechanism&&nd(u,r.mechanism);let g=i?i.getEventProcessors():[],S=Y8().getScopeData();if(s){let k=s.getScopeData();iD(S,k)}if(y){let k=y.getScopeData();iD(S,k)}let T=[...r.attachments||[],...S.attachments];T.length&&(r.attachments=T),mfe(u,S);let O=[...g,...S.eventProcessors];return p5(O,u,r).then(k=>(k&&Eqe(k),typeof a=="number"&&a>0?Tqe(k,a,c):k))}o(gfe,"prepareEvent");function wqe(t,e){let{environment:r,release:n,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||r||dx,!t.release&&n&&(t.release=n),!t.dist&&i&&(t.dist=i),t.message&&(t.message=ed(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=ed(a.value,s));let c=t.request;c&&c.url&&(c.url=ed(c.url,s))}o(wqe,"applyClientOptions");function Sqe(t,e){let r=pfe(e);try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}o(Sqe,"applyDebugIds");function Eqe(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(e).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}o(Eqe,"applyDebugMeta");function Aqe(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(Aqe,"applyIntegrationsMetadata");function Tqe(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Cf(i.data,e,r)}}))},...t.user&&{user:Cf(t.user,e,r)},...t.contexts&&{contexts:Cf(t.contexts,e,r)},...t.extra&&{extra:Cf(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Cf(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>({...i,...i.data&&{data:Cf(i.data,e,r)}}))),t.contexts&&t.contexts.flags&&n.contexts&&(n.contexts.flags=Cf(t.contexts.flags,3,r)),n}o(Tqe,"normalizeEvent");function Iqe(t,e){if(!e)return t;let r=t?t.clone():new Wc;return r.update(e),r}o(Iqe,"getFinalScope");function yfe(t){if(t)return Rqe(t)?{captureContext:t}:Mqe(t)?{captureContext:t}:t}o(yfe,"parseEventHintOrCaptureContext");function Rqe(t){return t instanceof Wc||typeof t=="function"}o(Rqe,"hintIsScopeOrFunction");var Oqe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Mqe(t){return Object.keys(t).some(e=>Oqe.includes(e))}o(Mqe,"hintIsScopeContext");function gx(t,e){return xr().captureException(t,yfe(e))}o(gx,"captureException");function b5(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return xr().captureMessage(t,r,n)}o(b5,"captureMessage");function zw(t,e){return xr().captureEvent(t,e)}o(zw,"captureEvent");function x5(t,e){No().setContext(t,e)}o(x5,"setContext");function v5(t){No().setTags(t)}o(v5,"setTags");function _5(t){No().setUser(t)}o(_5,"setUser");function oD(){let t=Jt();return!!t&&t.getOptions().enabled!==!1&&!!t.getTransport()}o(oD,"isEnabled");function Kw(t){let e=Jt(),r=No(),n=xr(),{release:i,environment:s=dx}=e&&e.getOptions()||{},{userAgent:a}=Yt.navigator||{},c=Cce({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...t}),u=r.getSession();return u&&u.status==="ok"&&Ah(u,{status:"exited"}),w5(),r.setSession(c),n.setSession(c),c}o(Kw,"startSession");function w5(){let t=No(),e=xr(),r=e.getSession()||t.getSession();r&&kce(r),xfe(),t.setSession(),e.setSession()}o(w5,"endSession");function xfe(){let t=No(),e=xr(),r=Jt(),n=e.getSession()||t.getSession();n&&r&&r.captureSession(n)}o(xfe,"_sendSessionUpdate");function $w(t=!1){if(t){w5();return}xfe()}o($w,"captureSession");p();m();var Nqe="7";function Cqe(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}o(Cqe,"getBaseApiEndpoint");function kqe(t){return`${Cqe(t)}${t.projectId}/envelope/`}o(kqe,"_getIngestEndpoint");function Bqe(t,e){let r={sentry_version:Nqe};return t.publicKey&&(r.sentry_key=t.publicKey),e&&(r.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(r).toString()}o(Bqe,"_encodedAuth");function vfe(t,e,r){return e||`${kqe(t)}?${Bqe(t,r)}`}o(vfe,"getEnvelopeEndpointWithUrlEncodedAuth");p();m();p();m();var _fe=[];function Pqe(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}o(Pqe,"filterDuplicates");function sD(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...e,...r];else if(typeof r=="function"){let a=r(e);n=Array.isArray(a)?a:[a]}else n=e;let i=Pqe(n),s=i.findIndex(a=>a.name==="Debug");if(s>-1){let[a]=i.splice(s,1);i.push(a)}return i}o(sD,"getIntegrationsToSetup");function wfe(t,e){let r={};return e.forEach(n=>{n&&cD(t,n,r)}),r}o(wfe,"setupIntegrations");function aD(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}o(aD,"afterSetupIntegrations");function cD(t,e,r){if(r[e.name]){Lt&&Qe.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,_fe.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),_fe.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>n(i,s,t))}if(typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((s,a)=>n(s,a,t),{id:e.name});t.addEventProcessor(i)}Lt&&Qe.log(`Integration installed: ${e.name}`)}o(cD,"setupIntegration");p();m();function Sfe(t,e,r){let n=[{type:"client_report"},{timestamp:r||rd(),discarded_events:t}];return zu(e?{dsn:e}:{},[n])}o(Sfe,"createClientReportEnvelope");p();m();var oa=class extends Error{static{o(this,"SentryError")}constructor(e,r="warn"){super(e),this.message=e,this.logLevel=r}};var Efe="Not capturing exception because it's already been captured.",Gw=class{static{o(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=YL(e.dsn):Lt&&Qe.warn("No DSN provided, client will not send events."),this._dsn){let i=vfe(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&lc(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,r,n){let i=Mo();if(W8(e))return Lt&&Qe.log(Efe),i;let s={event_id:i,...r};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(e,r,n,i){let s={event_id:Mo(),...n},a=ix(e)?e:String(e),c=ey(e)?this.eventFromMessage(a,r,s):this.eventFromException(e,s);return this._process(c.then(u=>this._captureEvent(u,s,i))),s.event_id}captureEvent(e,r,n){let i=Mo();if(r&&r.originalException&&W8(r.originalException))return Lt&&Qe.log(Efe),i;let s={event_id:i,...r},c=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,c||n)),s.event_id}captureSession(e){typeof e.release!="string"?Lt&&Qe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ah(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):Mf(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let r=this._integrations[e.name];cD(this,e,this._integrations),r||aD(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=nfe(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])n=JL(n,tD(s));let i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=rfe(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,s=`${e}:${r}`;Lt&&Qe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,r){let n=this._hooks[e]=this._hooks[e]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(e,...r){let n=this._hooks[e];n&&n.forEach(i=>i(...r))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,r=>(Lt&&Qe.error("Error while sending envelope:",r),r)):(Lt&&Qe.error("Transport disabled"),Mf({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=wfe(this,e),aD(this,e)}_updateSessionFromEvent(e,r){let n=r.level==="fatal",i=!1,s=r.exception&&r.exception.values;if(s){i=!0;for(let u of s){let h=u.mechanism;if(h&&h.handled===!1){n=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&n)&&(Ah(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Vu(r=>{let n=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n=xr(),i=No()){let s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",e,r),e.type||i.setLastEventId(e.event_id||r.event_id),gfe(s,e,r,n,this,i).then(c=>{if(c===null)return c;c.contexts={trace:DL(n),...c.contexts};let u=jw(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:u,...c.sdkProcessingMetadata},c})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{Lt&&(i instanceof oa&&i.logLevel==="log"?Qe.log(i.message):Qe.warn(i))})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:s}=i,a=Tfe(e),c=Afe(e),u=e.type||"error",h=`before send for type \`${u}\``,y=typeof s>"u"?void 0:o5(s);if(c&&typeof y=="number"&&Math.random()>y)return this.recordDroppedEvent("sample_rate","error",e),lp(new oa(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let g=u==="replay_event"?"replay":u,T=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,n,T).then(O=>{if(O===null)throw this.recordDroppedEvent("event_processor",g,e),new oa("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return O;let k=Dqe(this,i,O,r);return Lqe(k,h)}).then(O=>{if(O===null){if(this.recordDroppedEvent("before_send",g,e),a){let B=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",B)}throw new oa(`${h} returned \`null\`, will not send event.`,"log")}let M=n&&n.getSession();if(!a&&M&&this._updateSessionFromEvent(M,O),a){let C=O.sdkProcessingMetadata&&O.sdkProcessingMetadata.spanCountBeforeProcessing||0,B=O.spans?O.spans.length:0,N=C-B;N>0&&this.recordDroppedEvent("before_send","span",N)}let k=O.transaction_info;if(a&&k&&O.transaction!==e.transaction){let C="custom";O.transaction_info={...k,source:C}}return this.sendEvent(O,r),O}).then(null,O=>{throw O instanceof oa?O:(this.captureException(O,{data:{__sentry__:!0},originalException:O}),new oa(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${O}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([r,n])=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Lt&&Qe.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){Lt&&Qe.log("No outcomes to send");return}if(!this._dsn){Lt&&Qe.log("No dsn provided, will not send outcomes");return}Lt&&Qe.log("Sending outcomes:",e);let r=Sfe(e,this._options.tunnel&&od(this._dsn));this.sendEnvelope(r)}};function Lqe(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Hu(t))return t.then(n=>{if(!Fu(n)&&n!==null)throw new oa(r);return n},n=>{throw new oa(`${e} rejected with ${n}`)});if(!Fu(t)&&t!==null)throw new oa(r);return t}o(Lqe,"_validateBeforeSendResult");function Dqe(t,e,r,n){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=e;if(Afe(r)&&i)return i(r,n);if(Tfe(r)){if(r.spans&&a){let c=[];for(let u of r.spans){let h=a(u);h?c.push(h):(n5(),t.recordDroppedEvent("before_send","span"))}r.spans=c}if(s){if(r.spans){let c=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(r,n)}}return r}o(Dqe,"processBeforeSend");function Afe(t){return t.type===void 0}o(Afe,"isErrorEvent");function Tfe(t){return t.type==="transaction"}o(Tfe,"isTransactionEvent");p();m();function fD(t,e){e.debug===!0&&(Lt?Qe.enable():lc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),xr().update(e.initialScope);let n=new t(e);return uD(n),n.init(),n}o(fD,"initAndBind");function uD(t){xr().setClient(t)}o(uD,"setCurrentClient");p();m();p();m();function Ife(t){let e=[];function r(){return t===void 0||e.length<t}o(r,"isReady");function n(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}o(n,"remove");function i(a){if(!r())return lp(new oa("Not adding Promise because buffer limit was reached."));let c=a();return e.indexOf(c)===-1&&e.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}o(i,"add");function s(a){return new Vu((c,u)=>{let h=e.length;if(!h)return c(!0);let y=setTimeout(()=>{a&&a>0&&c(!1)},a);e.forEach(g=>{Mf(g).then(()=>{--h||(clearTimeout(y),c(!0))},u)})})}return o(s,"drain"),{$:e,add:i,drain:s}}o(Ife,"makePromiseBuffer");p();m();function Uqe(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}o(Uqe,"parseRetryAfterHeader");function Fqe(t,e){return t[e]||t.all||0}o(Fqe,"disabledUntil");function Rfe(t,e,r=Date.now()){return Fqe(t,e)>r}o(Rfe,"isRateLimited");function Ofe(t,{statusCode:e,headers:r},n=Date.now()){let i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let c of s.trim().split(",")){let[u,h,,,y]=c.split(":",5),g=parseInt(u,10),S=(isNaN(g)?60:g)*1e3;if(!h)i.all=n+S;else for(let T of h.split(";"))T==="metric_bucket"?(!y||y.split(";").includes("custom"))&&(i[T]=n+S):i[T]=n+S}else a?i.all=n+Uqe(a,n):e===429&&(i.all=n+60*1e3);return i}o(Ofe,"updateRateLimits");var Hqe=64;function S5(t,e,r=Ife(t.bufferSize||Hqe)){let n={},i=o(a=>r.drain(a),"flush");function s(a){let c=[];if(a5(a,(g,S)=>{let T=c5(S);if(Rfe(n,T)){let O=Mfe(g,S);t.recordDroppedEvent("ratelimit_backoff",T,O)}else c.push(g)}),c.length===0)return Mf({});let u=zu(a[0],c),h=o(g=>{a5(u,(S,T)=>{let O=Mfe(S,T);t.recordDroppedEvent(g,c5(T),O)})},"recordEnvelopeLoss"),y=o(()=>e({body:QL(u)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&Lt&&Qe.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),n=Ofe(n,g),g),g=>{throw h("network_error"),g}),"requestTask");return r.add(y).then(g=>g,g=>{if(g instanceof oa)return Lt&&Qe.error("Skipped sending event because buffer is full."),h("queue_overflow"),Mf({});throw g})}return o(s,"send"),{send:s,flush:i}}o(S5,"createTransport");function Mfe(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}o(Mfe,"getEventForEnvelopeItem");p();m();function Ww(t,e,r=[e],n="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:Uu})),version:Uu}),t._metadata=i}o(Ww,"applySdkMetadata");p();m();function Yw(t={}){let e=Jt();if(!oD()||!e)return{};let r=Kc(),n=id(r);if(n.getTraceData)return n.getTraceData(t);let i=xr(),s=t.span||kn(),a=s?e5(s):qqe(i),c=s?Yc(s):jw(e,i),u=HL(c);return J8.test(a)?{"sentry-trace":a,baggage:u}:(Qe.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}o(Yw,"getTraceData");function qqe(t){let{traceId:e,sampled:r,spanId:n}=t.getPropagationContext();return Vw(e,n,r)}o(qqe,"scopeToTraceHeader");p();m();var Vqe=100;function kf(t,e){let r=Jt(),n=No();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Vqe}=r.getOptions();if(s<=0)return;let c={timestamp:rd(),...t},u=i?lc(()=>i(c,e)):c;u!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",u,e),n.addBreadcrumb(u,s))}o(kf,"addBreadcrumb");p();m();var Nfe,jqe="FunctionToString",Cfe=new WeakMap,zqe=o(()=>({name:jqe,setupOnce(){Nfe=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=ry(this),r=Cfe.has(Jt())&&e!==void 0?e:this;return Nfe.apply(r,t)}}catch{}},setup(t){Cfe.set(t,!0)}}),"_functionToStringIntegration"),E5=zqe;p();m();var Kqe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],$qe="InboundFilters",Gqe=o((t={})=>({name:$qe,processEvent(e,r,n){let i=n.getOptions(),s=Wqe(t,i);return Yqe(e,s)?null:e}}),"_inboundFiltersIntegration"),T5=Gqe;function Wqe(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Kqe],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}o(Wqe,"_mergeOptions");function Yqe(t,e){return e.ignoreInternal&&tVe(t)?(Lt&&Qe.warn(`Event dropped due to being internal Sentry Error.
Event: ${qu(t)}`),!0):Xqe(t,e.ignoreErrors)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${qu(t)}`),!0):nVe(t)?(Lt&&Qe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${qu(t)}`),!0):Zqe(t,e.ignoreTransactions)?(Lt&&Qe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${qu(t)}`),!0):Jqe(t,e.denyUrls)?(Lt&&Qe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${qu(t)}.
Url: ${A5(t)}`),!0):Qqe(t,e.allowUrls)?!1:(Lt&&Qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${qu(t)}.
Url: ${A5(t)}`),!0)}o(Yqe,"_shouldDropEvent");function Xqe(t,e){return t.type||!e||!e.length?!1:eVe(t).some(r=>td(r,e))}o(Xqe,"_isIgnoredError");function Zqe(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?td(r,e):!1}o(Zqe,"_isIgnoredTransaction");function Jqe(t,e){if(!e||!e.length)return!1;let r=A5(t);return r?td(r,e):!1}o(Jqe,"_isDeniedUrl");function Qqe(t,e){if(!e||!e.length)return!0;let r=A5(t);return r?td(r,e):!0}o(Qqe,"_isAllowedUrl");function eVe(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),e}o(eVe,"_getPossibleEventMessages");function tVe(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}o(tVe,"_isSentryError");function rVe(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}o(rVe,"_getLastValidUrl");function A5(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?rVe(e):null}catch{return Lt&&Qe.error(`Cannot extract url for event ${qu(t)}`),null}}o(A5,"_getEventFilterUrl");function nVe(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}o(nVe,"_isUselessError");p();m();function dD(t,e,r=250,n,i,s,a){if(!s.exception||!s.exception.values||!a||!$c(a.originalException,Error))return;let c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=iVe(lD(t,e,i,a.originalException,n,s.exception.values,c,0),r))}o(dD,"applyAggregateErrorsToEvent");function lD(t,e,r,n,i,s,a,c){if(s.length>=r+1)return s;let u=[...s];if($c(n[i],Error)){kfe(a,c);let h=t(e,n[i]),y=u.length;Bfe(h,i,y,c),u=lD(t,e,r,n[i],i,[h,...u],h,y)}return Array.isArray(n.errors)&&n.errors.forEach((h,y)=>{if($c(h,Error)){kfe(a,c);let g=t(e,h),S=u.length;Bfe(g,`errors[${y}]`,S,c),u=lD(t,e,r,h,i,[g,...u],g,S)}}),u}o(lD,"aggregateExceptionsFromError");function kfe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(kfe,"applyExceptionGroupFieldsForParentException");function Bfe(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}o(Bfe,"applyExceptionGroupFieldsForChildException");function iVe(t,e){return t.map(r=>(r.value&&(r.value=ed(r.value,e)),r))}o(iVe,"truncateAggregateExceptions");p();m();function Bf(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}o(Bf,"parseUrl");p();m();function hD(t){let e="console";ra(e,t),na(e,oVe)}o(hD,"addConsoleInstrumentationHandler");function oVe(){"console"in Yt&&kw.forEach(function(t){t in Yt.console&&Oo(Yt.console,t,function(e){return rx[t]=e,function(...r){yo("console",{args:r,level:t});let i=rx[t];i&&i.apply(Yt.console,r)}})})}o(oVe,"instrumentConsole");p();m();function pD(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(pD,"severityLevelFromString");p();m();var sVe="Dedupe",aVe=o(()=>{let t;return{name:sVe,processEvent(e){if(e.type)return e;try{if(cVe(e,t))return Lt&&Qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),I5=aVe;function cVe(t,e){return e?!!(fVe(t,e)||uVe(t,e)):!1}o(cVe,"_shouldDropEvent");function fVe(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!Dfe(t,e)||!Lfe(t,e))}o(fVe,"_isSameMessageEvent");function uVe(t,e){let r=Pfe(e),n=Pfe(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!Dfe(t,e)||!Lfe(t,e))}o(uVe,"_isSameExceptionEvent");function Lfe(t,e){let r=q8(t),n=q8(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}o(Lfe,"_isSameStacktrace");function Dfe(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}o(Dfe,"_isSameFingerprint");function Pfe(t){return t.exception&&t.exception.values&&t.exception.values[0]}o(Pfe,"_getExceptionFromEvent");p();m();function mD(t,e,r,n,i="auto.http.browser"){if(!t.fetchData)return;let s=Da()&&e(t.fetchData.url);if(t.endTimestamp&&s){let S=t.fetchData.__span;if(!S)return;let T=n[S];T&&(hVe(T,t),delete n[S]);return}let{method:a,url:c}=t.fetchData,u=dVe(c),h=u?Bf(u).host:void 0,y=!!kn(),g=s&&y?Xc({name:`${a} ${c}`,attributes:{url:c,type:"fetch","http.method":a,"http.url":u,"server.address":h,[Fn]:i,[La]:"http.client"}}):new mc;if(t.fetchData.__span=g.spanContext().spanId,n[g.spanContext().spanId]=g,r(t.fetchData.url)){let S=t.args[0],T=t.args[1]||{},O=lVe(S,T,Da()&&y?g:void 0);O&&(t.args[1]=T,T.headers=O)}return g}o(mD,"instrumentFetchRequest");function lVe(t,e,r){let n=Yw({span:r}),i=n["sentry-trace"],s=n.baggage;if(!i)return;let a=e.headers||(pVe(t)?t.headers:void 0);if(a)if(mVe(a)){let c=new Headers(a);if(c.set("sentry-trace",i),s){let u=c.get("baggage");if(u){let h=R5(u);c.set("baggage",h?`${h},${s}`:s)}else c.set("baggage",s)}return c}else if(Array.isArray(a)){let c=[...a.filter(u=>!(Array.isArray(u)&&u[0]==="sentry-trace")).map(u=>{if(Array.isArray(u)&&u[0]==="baggage"&&typeof u[1]=="string"){let[h,y,...g]=u;return[h,R5(y),...g]}else return u}),["sentry-trace",i]];return s&&c.push(["baggage",s]),c}else{let c="baggage"in a?a.baggage:void 0,u=[];return Array.isArray(c)?u=c.map(h=>typeof h=="string"?R5(h):h).filter(h=>h===""):c&&u.push(R5(c)),s&&u.push(s),{...a,"sentry-trace":i,baggage:u.length>0?u.join(","):void 0}}else return{...n}}o(lVe,"_addTracingHeadersToFetchRequest");function dVe(t){try{return new URL(t).href}catch{return}}o(dVe,"getFullURL");function hVe(t,e){if(e.response){lx(t,e.response.status);let r=e.response&&e.response.headers&&e.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&t.setAttribute("http.response_content_length",n)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}o(hVe,"endSpan");function R5(t){return t.split(",").filter(e=>!e.split("=")[0].startsWith(X8)).join(",")}o(R5,"stripBaggageHeaderOfSentryBaggageValues");function pVe(t){return typeof Request<"u"&&$c(t,Request)}o(pVe,"isRequest");function mVe(t){return typeof Headers<"u"&&$c(t,Headers)}o(mVe,"isHeaders");p();m();function O5(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(O5,"getBreadcrumbLogLevelFromHttpStatusCode");p();m();p();m();var gD=Yt;function M5(){if(!("fetch"in gD))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}o(M5,"supportsFetch");function Xw(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(Xw,"isNativeFunction");function yD(){if(typeof EdgeRuntime=="string")return!0;if(!M5())return!1;if(Xw(gD.fetch))return!0;let t=!1,e=gD.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Xw(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){uc&&Qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}o(yD,"supportsNativeFetch");function Zw(t,e){let r="fetch";ra(r,t),na(r,()=>Ffe(void 0,e))}o(Zw,"addFetchInstrumentationHandler");function xD(t){let e="fetch-body-resolved";ra(e,t),na(e,()=>Ffe(yVe))}o(xD,"addFetchEndInstrumentationHandler");function Ffe(t,e=!1){e&&!yD()||Oo(Yt,"fetch",function(r){return function(...n){let i=new Error,{method:s,url:a}=bVe(n),c={args:n,fetchData:{method:s,url:a},startTimestamp:Wi()*1e3,virtualError:i};return t||yo("fetch",{...c}),r.apply(Yt,n).then(async u=>(t?t(u):yo("fetch",{...c,endTimestamp:Wi()*1e3,response:u}),u),u=>{throw yo("fetch",{...c,endTimestamp:Wi()*1e3,error:u}),Qg(u)&&u.stack===void 0&&(u.stack=i.stack,ao(u,"framesToPop",1)),u})}})}o(Ffe,"instrumentFetch");async function gVe(t,e){if(t&&t.body){let r=t.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),s=!0;for(;s;){let a;try{a=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:c}=await n.read();clearTimeout(a),c&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}o(gVe,"resolveResponse");function yVe(t){let e;try{e=t.clone()}catch{return}gVe(e,()=>{yo("fetch-body-resolved",{endTimestamp:Wi()*1e3,response:t})})}o(yVe,"streamHandler");function bD(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(bD,"hasProp");function Ufe(t){return typeof t=="string"?t:t?bD(t,"url")?t.url:t.toString?t.toString():"":""}o(Ufe,"getUrlFromResource");function bVe(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:Ufe(r),method:bD(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:Ufe(e),method:bD(e,"method")?String(e.method).toUpperCase():"GET"}}o(bVe,"parseFetchArgs");p();m();function vD(){return"npm"}o(vD,"getSDKSource");p();m();var N5=Yt;function _D(){let t=N5.chrome,e=t&&t.app&&t.app.runtime,r="history"in N5&&!!N5.history.pushState&&!!N5.history.replaceState;return!e&&r}o(_D,"supportsHistory");p();m();var Vt=Yt,wD=0;function SD(){return wD>0}o(SD,"shouldIgnoreOnError");function kVe(){wD++,setTimeout(()=>{wD--})}o(kVe,"ignoreNextOnError");function sy(t,e={}){function r(i){return typeof i=="function"}if(o(r,"isFunction"),!r(t))return t;try{let i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(ry(t))return t}catch{return t}let n=o(function(...i){try{let s=i.map(a=>sy(a,e));return t.apply(this,s)}catch(s){throw kVe(),dp(a=>{a.addEventProcessor(c=>(e.mechanism&&(sx(c,void 0,void 0),nd(c,e.mechanism)),c.extra={...c.extra,arguments:i},c)),gx(s)}),s}},"sentryWrapped");try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}$8(n,t),ao(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}o(sy,"wrap");p();m();p();m();var bs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();function C5(t,e){let r=TD(t,e),n={type:UVe(e),value:FVe(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}o(C5,"exceptionFromError");function BVe(t,e,r,n){let i=Jt(),s=i&&i.getOptions().normalizeDepth,a=VVe(e),c={__serialized__:s5(e,s)};if(a)return{exception:{values:[C5(t,a)]},extra:c};let u={exception:{values:[{type:ty(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:HVe(e,{isUnhandledRejection:n})}]},extra:c};if(r){let h=TD(t,r);h.length&&(u.exception.values[0].stacktrace={frames:h})}return u}o(BVe,"eventFromPlainObject");function ED(t,e){return{exception:{values:[C5(t,e)]}}}o(ED,"eventFromError");function TD(t,e){let r=e.stacktrace||e.stack||"",n=LVe(e),i=DVe(e);try{return t(r,n,i)}catch{}return[]}o(TD,"parseStackFrames");var PVe=/Minified React error #\d+;/i;function LVe(t){return t&&PVe.test(t.message)?1:0}o(LVe,"getSkipFirstStackStringLines");function DVe(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(DVe,"getPopFirstTopFrames");function qfe(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(qfe,"isWebAssemblyException");function UVe(t){let e=t&&t.name;return!e&&qfe(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(UVe,"extractType");function FVe(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:qfe(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}o(FVe,"extractMessage");function Vfe(t,e,r,n){let i=r&&r.syntheticException||void 0,s=k5(t,e,i,n);return nd(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),Mf(s)}o(Vfe,"eventFromException");function jfe(t,e,r="info",n,i){let s=n&&n.syntheticException||void 0,a=AD(t,e,s,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),Mf(a)}o(jfe,"eventFromMessage");function k5(t,e,r,n,i){let s;if(j8(e)&&e.error)return ED(t,e.error);if(z8(e)||TL(e)){let a=e;if("stack"in e)s=ED(t,e);else{let c=a.name||(z8(a)?"DOMError":"DOMException"),u=a.message?`${c}: ${a.message}`:c;s=AD(t,u,r,n),sx(s,u)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return Qg(e)?ED(t,e):Fu(e)||ty(e)?(s=BVe(t,e,r,i),nd(s,{synthetic:!0}),s):(s=AD(t,e,r,n),sx(s,`${e}`,void 0),nd(s,{synthetic:!0}),s)}o(k5,"eventFromUnknownInput");function AD(t,e,r,n){let i={};if(n&&r){let s=TD(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),nd(i,{synthetic:!0})}if(ix(e)){let{__sentry_template_string__:s,__sentry_template_values__:a}=e;return i.logentry={message:s,params:a},i}return i.message=e,i}o(AD,"eventFromString");function HVe(t,{isUnhandledRejection:e}){let r=kL(t),n=e?"promise rejection":"exception";return j8(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:ty(t)?`Event \`${qVe(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}o(HVe,"getNonErrorObjectExceptionValue");function qVe(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(qVe,"getObjectClassName");function VVe(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let r=t[e];if(r instanceof Error)return r}}o(VVe,"getErrorPropertyFromObject");p();m();function zfe(t,{metadata:e,tunnel:r,dsn:n}){let i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:od(n)}},s=jVe(t);return zu(i,[s])}o(zfe,"createUserFeedbackEnvelope");function jVe(t){return[{type:"user_report"},t]}o(jVe,"createUserFeedbackEnvelopeItem");var B5=class extends Gw{static{o(this,"BrowserClient")}constructor(e){let r={parentSpanIsAlwaysRootSpan:!0,...e},n=Vt.SENTRY_SDK_SOURCE||vD();Ww(r,"browser",["browser"],n),super(r),r.sendClientReports&&Vt.document&&Vt.document.addEventListener("visibilitychange",()=>{Vt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return Vfe(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return jfe(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){bs&&Qe.warn("SDK not enabled, will not capture user feedback.");return}let r=zfe(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}};p();m();p();m();p();m();p();m();var yx=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;p();m();p();m();var zVe=o((t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good","getRating"),Pf=o((t,e,r,n)=>{let i,s;return a=>{e.value>=0&&(a||n)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,e.rating=zVe(e.value,r),t(e)))}},"bindReporter");p();m();p();m();var Ot=Yt;p();m();var Kfe=o(()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,"generateUniqueID");p();m();p();m();var Ih=o((t=!0)=>{let e=Ot.performance&&Ot.performance.getEntriesByType&&Ot.performance.getEntriesByType("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},"getNavigationEntry");var sd=o(()=>{let t=Ih();return t&&t.activationStart||0},"getActivationStart");var Lf=o((t,e)=>{let r=Ih(),n="navigate";return r&&(Ot.document&&Ot.document.prerendering||sd()>0?n="prerender":Ot.document&&Ot.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Kfe(),navigationType:n}},"initMetric");p();m();var gc=o((t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},"observe");p();m();var Df=o(t=>{let e=o(r=>{(r.type==="pagehide"||Ot.document&&Ot.document.visibilityState==="hidden")&&t(r)},"onHiddenOrPageHide");Ot.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},"onHidden");p();m();var yp=o(t=>{let e=!1;return()=>{e||(t(),e=!0)}},"runOnce");p();m();p();m();var Qw=-1,KVe=o(()=>Ot.document.visibilityState==="hidden"&&!Ot.document.prerendering?0:1/0,"initHiddenTime"),P5=o(t=>{Ot.document.visibilityState==="hidden"&&Qw>-1&&(Qw=t.type==="visibilitychange"?t.timeStamp:0,GVe())},"onVisibilityUpdate"),$Ve=o(()=>{addEventListener("visibilitychange",P5,!0),addEventListener("prerenderingchange",P5,!0)},"addChangeListeners"),GVe=o(()=>{removeEventListener("visibilitychange",P5,!0),removeEventListener("prerenderingchange",P5,!0)},"removeChangeListeners"),bp=o(()=>(Ot.document&&Qw<0&&(Qw=KVe(),$Ve()),{get firstHiddenTime(){return Qw}}),"getVisibilityWatcher");p();m();var ad=o(t=>{Ot.document&&Ot.document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},"whenActivated");var WVe=[1800,3e3],$fe=o((t,e={})=>{ad(()=>{let r=bp(),n=Lf("FCP"),i,a=gc("paint",o(c=>{c.forEach(u=>{u.name==="first-contentful-paint"&&(a.disconnect(),u.startTime<r.firstHiddenTime&&(n.value=Math.max(u.startTime-sd(),0),n.entries.push(u),i(!0)))})},"handleEntries"));a&&(i=Pf(t,n,WVe,e.reportAllChanges))})},"onFCP");var YVe=[.1,.25],Gfe=o((t,e={})=>{$fe(yp(()=>{let r=Lf("CLS",0),n,i=0,s=[],a=o(u=>{u.forEach(h=>{if(!h.hadRecentInput){let y=s[0],g=s[s.length-1];i&&y&&g&&h.startTime-g.startTime<1e3&&h.startTime-y.startTime<5e3?(i+=h.value,s.push(h)):(i=h.value,s=[h])}}),i>r.value&&(r.value=i,r.entries=s,n())},"handleEntries"),c=gc("layout-shift",a);c&&(n=Pf(t,r,YVe,e.reportAllChanges),Df(()=>{a(c.takeRecords()),n(!0)}),setTimeout(n,0))}))},"onCLS");p();m();var XVe=[100,300],Wfe=o((t,e={})=>{ad(()=>{let r=bp(),n=Lf("FID"),i,s=o(u=>{u.startTime<r.firstHiddenTime&&(n.value=u.processingStart-u.startTime,n.entries.push(u),i(!0))},"handleEntry"),a=o(u=>{u.forEach(s)},"handleEntries"),c=gc("first-input",a);i=Pf(t,n,XVe,e.reportAllChanges),c&&Df(yp(()=>{a(c.takeRecords()),c.disconnect()}))})},"onFID");p();m();p();m();p();m();var Yfe=0,ID=1/0,L5=0,ZVe=o(t=>{t.forEach(e=>{e.interactionId&&(ID=Math.min(ID,e.interactionId),L5=Math.max(L5,e.interactionId),Yfe=L5?(L5-ID)/7+1:0)})},"updateEstimate"),RD,Xfe=o(()=>RD?Yfe:performance.interactionCount||0,"getInteractionCount"),Zfe=o(()=>{"interactionCount"in performance||RD||(RD=gc("event",ZVe,{type:"event",buffered:!0,durationThreshold:0}))},"initInteractionCountPolyfill");var Rh=[],OD=new Map,Jfe=40,JVe=0,QVe=o(()=>Xfe()-JVe,"getInteractionCountForNavigation"),Qfe=o(()=>{let t=Math.min(Rh.length-1,Math.floor(QVe()/50));return Rh[t]},"estimateP98LongestInteraction"),MD=10,eje=[],eue=o(t=>{if(eje.forEach(n=>n(t)),!(t.interactionId||t.entryType==="first-input"))return;let e=Rh[Rh.length-1],r=OD.get(t.interactionId);if(r||Rh.length<MD||e&&t.duration>e.latency){if(r)t.duration>r.latency?(r.entries=[t],r.latency=t.duration):t.duration===r.latency&&t.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(t);else{let n={id:t.interactionId,latency:t.duration,entries:[t]};OD.set(n.id,n),Rh.push(n)}Rh.sort((n,i)=>i.latency-n.latency),Rh.length>MD&&Rh.splice(MD).forEach(n=>OD.delete(n.id))}},"processInteractionEntry");p();m();var D5=o(t=>{let e=Ot.requestIdleCallback||Ot.setTimeout,r=-1;return t=yp(t),Ot.document&&Ot.document.visibilityState==="hidden"?t():(r=e(t),Df(t)),r},"whenIdle");var tje=[200,500],tue=o((t,e={})=>{"PerformanceEventTiming"in Ot&&"interactionId"in PerformanceEventTiming.prototype&&ad(()=>{Zfe();let r=Lf("INP"),n,i=o(a=>{D5(()=>{a.forEach(eue);let c=Qfe();c&&c.latency!==r.value&&(r.value=c.latency,r.entries=c.entries,n())})},"handleEntries"),s=gc("event",i,{durationThreshold:e.durationThreshold!=null?e.durationThreshold:Jfe});n=Pf(t,r,tje,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Df(()=>{i(s.takeRecords()),n(!0)}))})},"onINP");p();m();var rje=[2500,4e3],rue={},nue=o((t,e={})=>{ad(()=>{let r=bp(),n=Lf("LCP"),i,s=o(c=>{e.reportAllChanges||(c=c.slice(-1)),c.forEach(u=>{u.startTime<r.firstHiddenTime&&(n.value=Math.max(u.startTime-sd(),0),n.entries=[u],i())})},"handleEntries"),a=gc("largest-contentful-paint",s);if(a){i=Pf(t,n,rje,e.reportAllChanges);let c=yp(()=>{rue[n.id]||(s(a.takeRecords()),a.disconnect(),rue[n.id]=!0,i(!0))});["keydown","click"].forEach(u=>{Ot.document&&addEventListener(u,()=>D5(c),{once:!0,capture:!0})}),Df(c)}})},"onLCP");p();m();var nje=[800,1800],ND=o(t=>{Ot.document&&Ot.document.prerendering?ad(()=>ND(t)):Ot.document&&Ot.document.readyState!=="complete"?addEventListener("load",()=>ND(t),!0):setTimeout(t,0)},"whenReady"),iue=o((t,e={})=>{let r=Lf("TTFB"),n=Pf(t,r,nje,e.reportAllChanges);ND(()=>{let i=Ih();i&&(r.value=Math.max(i.responseStart-sd(),0),r.entries=[i],n(!0))})},"onTTFB");var eS={},U5={},oue,sue,aue,cue,fue;function tS(t,e=!1){return rS("cls",t,ije,oue,e)}o(tS,"addClsInstrumentationHandler");function CD(t,e=!1){return rS("lcp",t,sje,aue,e)}o(CD,"addLcpInstrumentationHandler");function kD(t){return rS("fid",t,oje,sue)}o(kD,"addFidInstrumentationHandler");function BD(t){return rS("ttfb",t,aje,cue)}o(BD,"addTtfbInstrumentationHandler");function PD(t){return rS("inp",t,cje,fue)}o(PD,"addInpInstrumentationHandler");function Oh(t,e){return uue(t,e),U5[t]||(fje(t),U5[t]=!0),lue(t,e)}o(Oh,"addPerformanceInstrumentationHandler");function bx(t,e){let r=eS[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){yx&&Qe.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${dc(n)}
Error:`,i)}}o(bx,"triggerHandlers");function ije(){return Gfe(t=>{bx("cls",{metric:t}),oue=t},{reportAllChanges:!0})}o(ije,"instrumentCls");function oje(){return Wfe(t=>{bx("fid",{metric:t}),sue=t})}o(oje,"instrumentFid");function sje(){return nue(t=>{bx("lcp",{metric:t}),aue=t},{reportAllChanges:!0})}o(sje,"instrumentLcp");function aje(){return iue(t=>{bx("ttfb",{metric:t}),cue=t})}o(aje,"instrumentTtfb");function cje(){return tue(t=>{bx("inp",{metric:t}),fue=t})}o(cje,"instrumentInp");function rS(t,e,r,n,i=!1){uue(t,e);let s;return U5[t]||(s=r(),U5[t]=!0),n&&e({metric:n}),lue(t,e,i?s:void 0)}o(rS,"addMetricObserver");function fje(t){let e={};t==="event"&&(e.durationThreshold=0),gc(t,r=>{bx(t,{entries:r})},e)}o(fje,"instrumentPerformanceObserver");function uue(t,e){eS[t]=eS[t]||[],eS[t].push(e)}o(uue,"addHandler");function lue(t,e,r){return()=>{r&&r();let n=eS[t];if(!n)return;let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}o(lue,"getCleanupCallback");function due(t){return"duration"in t}o(due,"isPerformanceEventTiming");p();m();p();m();p();m();function F5(t){return typeof t=="number"&&isFinite(t)}o(F5,"isMeasurementValue");function cd(t,e,r,{...n}){let i=Qt(t).start_timestamp;return i&&i>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),px(t,()=>{let s=Xc({startTime:e,...n});return s&&s.end(r),s})}o(cd,"startAndEndSpan");function H5(t){let e=Jt();if(!e)return;let{name:r,transaction:n,attributes:i,startTime:s}=t,{release:a,environment:c}=e.getOptions(),u=e.getIntegrationByName("Replay"),h=u&&u.getReplayId(),y=xr(),g=y.getUser(),S=g!==void 0?g.email||g.id||g.ip_address:void 0,T;try{T=y.getScopeData().contexts.profile.profile_id}catch{}let O={release:a,environment:c,user:S||void 0,profile_id:T||void 0,replay_id:h||void 0,transaction:n,"user_agent.original":Ot.navigator&&Ot.navigator.userAgent,...i};return Xc({name:r,attributes:O,startTime:s,experimental:{standalone:!0}})}o(H5,"startStandaloneWebVitalSpan");function nS(){return Ot&&Ot.addEventListener&&Ot.performance}o(nS,"getBrowserPerformanceAPI");function Ei(t){return t/1e3}o(Ei,"msToSec");function iS(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}o(iS,"extractNetworkProtocol");function hue(){let t=0,e,r;if(!lje())return;let n=!1;function i(){n||(n=!0,r&&uje(t,e,r),s())}o(i,"_collectClsOnce");let s=tS(({metric:a})=>{let c=a.entries[a.entries.length-1];c&&(t=a.value,e=c)},!0);Df(()=>{i()}),setTimeout(()=>{let a=Jt();if(!a)return;let c=a.on("startNavigationSpan",()=>{i(),c&&c()}),u=kn(),h=u&&Cn(u),y=h&&Qt(h);y&&y.op==="pageload"&&(r=h.spanContext().spanId)},0)}o(hue,"trackClsAsStandaloneSpan");function uje(t,e,r){yx&&Qe.log(`Sending CLS span (${t})`);let n=Ei((bo||0)+(e&&e.startTime||0)),i=xr().getScopeData().transactionName,s=e?Gc(e.sources[0]&&e.sources[0].node):"Layout shift",a=Un({[Fn]:"auto.http.browser.cls",[La]:"ui.webvital.cls",[iy]:e&&e.duration||0,"sentry.pageload.span_id":r}),c=H5({name:s,transaction:i,attributes:a,startTime:n});c&&(c.addEvent("cls",{[hp]:"",[pp]:t}),c.end(n))}o(uje,"sendStandaloneClsSpan");function lje(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}o(lje,"supportsLayoutShift");var dje=2147483647,pue=0,xs={},yc,oS;function DD({recordClsStandaloneSpans:t}){let e=nS();if(e&&bo){e.mark&&Ot.performance.mark("sentry-tracing-init");let r=mje(),n=pje(),i=gje(),s=t?hue():hje();return()=>{r(),n(),i(),s&&s()}}return()=>{}}o(DD,"startTrackingWebVitals");function UD(){Oh("longtask",({entries:t})=>{let e=kn();if(!e)return;let{op:r,start_timestamp:n}=Qt(e);for(let i of t){let s=Ei(bo+i.startTime),a=Ei(i.duration);r==="navigation"&&n&&s<n||cd(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Fn]:"auto.ui.browser.metrics"}})}})}o(UD,"startTrackingLongTasks");function FD(){new PerformanceObserver(e=>{let r=kn();if(r)for(let n of e.getEntries()){if(!n.scripts[0])continue;let i=Ei(bo+n.startTime),{start_timestamp:s,op:a}=Qt(r);if(a==="navigation"&&s&&i<s)continue;let c=Ei(n.duration),u={[Fn]:"auto.ui.browser.metrics"},h=n.scripts[0],{invoker:y,invokerType:g,sourceURL:S,sourceFunctionName:T,sourceCharPosition:O}=h;u["browser.script.invoker"]=y,u["browser.script.invoker_type"]=g,S&&(u["code.filepath"]=S),T&&(u["code.function"]=T),O!==-1&&(u["browser.script.source_char_position"]=O),cd(r,i,i+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:u})}}).observe({type:"long-animation-frame",buffered:!0})}o(FD,"startTrackingLongAnimationFrames");function HD(){Oh("event",({entries:t})=>{let e=kn();if(e){for(let r of t)if(r.name==="click"){let n=Ei(bo+r.startTime),i=Ei(r.duration),s={name:Gc(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Fn]:"auto.ui.browser.metrics"}},a=Uw(r.target);a&&(s.attributes["ui.component_name"]=a),cd(e,n,n+i,s)}}})}o(HD,"startTrackingInteractions");function hje(){return tS(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(xs.cls={value:t.value,unit:""},oS=e)},!0)}o(hje,"_trackCLS");function pje(){return CD(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(xs.lcp={value:t.value,unit:"millisecond"},yc=e)},!0)}o(pje,"_trackLCP");function mje(){return kD(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=Ei(bo),n=Ei(e.startTime);xs.fid={value:t.value,unit:"millisecond"},xs["mark.fid"]={value:r+n,unit:"second"}})}o(mje,"_trackFID");function gje(){return BD(({metric:t})=>{t.entries[t.entries.length-1]&&(xs.ttfb={value:t.value,unit:"millisecond"})})}o(gje,"_trackTtfb");function qD(t,e){let r=nS();if(!r||!r.getEntries||!bo)return;let n=Ei(bo),i=r.getEntries(),{op:s,start_timestamp:a}=Qt(t);if(i.slice(pue).forEach(c=>{let u=Ei(c.startTime),h=Ei(Math.max(0,c.duration));if(!(s==="navigation"&&a&&n+u<a))switch(c.entryType){case"navigation":{bje(t,c,n);break}case"mark":case"paint":case"measure":{yje(t,c,u,h,n);let y=bp(),g=c.startTime<y.firstHiddenTime;c.name==="first-paint"&&g&&(xs.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&g&&(xs.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{_je(t,c,c.name,u,h,n);break}}}),pue=Math.max(i.length-1,0),wje(t),s==="pageload"){Eje(xs);let c=xs["mark.fid"];c&&xs.fid&&(cd(t,c.value,c.value+Ei(xs.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Fn]:"auto.ui.browser.metrics"}}),delete xs["mark.fid"]),(!("fcp"in xs)||!e.recordClsOnPageloadSpan)&&delete xs.cls,Object.entries(xs).forEach(([u,h])=>{u5(u,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",n),t.setAttribute("performance.activationStart",sd()),Sje(t)}yc=void 0,oS=void 0,xs={}}o(qD,"addPerformanceEntries");function yje(t,e,r,n,i){let s=Ih(!1),a=Ei(s?s.requestStart:0),c=i+Math.max(r,a),u=i+r,h=u+n,y={[Fn]:"auto.resource.browser.metrics"};return c!==u&&(y["sentry.browser.measure_happened_before_request"]=!0,y["sentry.browser.measure_start_time"]=c),cd(t,c,h,{name:e.name,op:e.entryType,attributes:y}),c}o(yje,"_addMeasureSpans");function bje(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{q5(t,e,n,r)}),q5(t,e,"secureConnection",r,"TLS/SSL"),q5(t,e,"fetch",r,"cache"),q5(t,e,"domainLookup",r,"DNS"),vje(t,e,r)}o(bje,"_addNavigationSpans");function q5(t,e,r,n,i=r){let s=xje(r),a=e[s],c=e[`${r}Start`];!c||!a||cd(t,n+Ei(c),n+Ei(a),{op:`browser.${i}`,name:e.name,attributes:{[Fn]:"auto.ui.browser.metrics"}})}o(q5,"_addPerformanceNavigationTiming");function xje(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}o(xje,"_getEndPropertyNameForNavigationTiming");function vje(t,e,r){let n=r+Ei(e.requestStart),i=r+Ei(e.responseEnd),s=r+Ei(e.responseStart);e.responseEnd&&(cd(t,n,i,{op:"browser.request",name:e.name,attributes:{[Fn]:"auto.ui.browser.metrics"}}),cd(t,s,i,{op:"browser.response",name:e.name,attributes:{[Fn]:"auto.ui.browser.metrics"}}))}o(vje,"_addRequest");function _je(t,e,r,n,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a=Bf(r),c={[Fn]:"auto.resource.browser.metrics"};LD(c,e,"transferSize","http.response_transfer_size"),LD(c,e,"encodedBodySize","http.response_content_length"),LD(c,e,"decodedBodySize","http.decoded_response_content_length");let u=e.deliveryType;u!=null&&(c["http.response_delivery_type"]=u);let h=e.renderBlockingStatus;h&&(c["resource.render_blocking_status"]=h),a.protocol&&(c["url.scheme"]=a.protocol.split(":").pop()),a.host&&(c["server.address"]=a.host),c["url.same_origin"]=r.includes(Ot.location.origin);let{name:y,version:g}=iS(e.nextHopProtocol);c["network.protocol.name"]=y,c["network.protocol.version"]=g;let S=s+n,T=S+i;cd(t,S,T,{name:r.replace(Ot.location.origin,""),op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",attributes:c})}o(_je,"_addResourceSpans");function wje(t){let e=Ot.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&t.setAttribute("connectionType",r.type),F5(r.rtt)&&(xs["connection.rtt"]={value:r.rtt,unit:"millisecond"})),F5(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),F5(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}o(wje,"_trackNavigator");function Sje(t){yc&&(yc.element&&t.setAttribute("lcp.element",Gc(yc.element)),yc.id&&t.setAttribute("lcp.id",yc.id),yc.url&&t.setAttribute("lcp.url",yc.url.trim().slice(0,200)),yc.loadTime!=null&&t.setAttribute("lcp.loadTime",yc.loadTime),yc.renderTime!=null&&t.setAttribute("lcp.renderTime",yc.renderTime),t.setAttribute("lcp.size",yc.size)),oS&&oS.sources&&oS.sources.forEach((e,r)=>t.setAttribute(`cls.source.${r+1}`,Gc(e.node)))}o(Sje,"_setWebVitalAttributes");function LD(t,e,r,n){let i=e[r];i!=null&&i<dje&&(t[n]=i)}o(LD,"setResourceEntrySizeData");function Eje(t){let e=Ih(!1);if(!e)return;let{responseStart:r,requestStart:n}=e;n<=r&&(t["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}o(Eje,"_addTtfbRequestTimeToMeasurements");p();m();var Aje=1e3,mue,VD,jD;function zD(t){let e="dom";ra(e,t),na(e,Tje)}o(zD,"addClickKeypressInstrumentationHandler");function Tje(){if(!Ot.document)return;let t=yo.bind(null,"dom"),e=gue(t,!0);Ot.document.addEventListener("click",e,!1),Ot.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=Ot[r],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Oo(s,"addEventListener",function(a){return function(c,u,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},g=y[c]=y[c]||{refCount:0};if(!g.handler){let S=gue(t);g.handler=S,a.call(this,c,S,h)}g.refCount++}catch{}return a.call(this,c,u,h)}}),Oo(s,"removeEventListener",function(a){return function(c,u,h){if(c==="click"||c=="keypress")try{let y=this.__sentry_instrumentation_handlers__||{},g=y[c];g&&(g.refCount--,g.refCount<=0&&(a.call(this,c,g.handler,h),g.handler=void 0,delete y[c]),Object.keys(y).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,h)}}))})}o(Tje,"instrumentDOM");function Ije(t){if(t.type!==VD)return!1;try{if(!t.target||t.target._sentryId!==jD)return!1}catch{}return!0}o(Ije,"isSimilarToLastCapturedEvent");function Rje(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}o(Rje,"shouldSkipDOMEvent");function gue(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Oje(r);if(Rje(r.type,n))return;ao(r,"_sentryCaptured",!0),n&&!n._sentryId&&ao(n,"_sentryId",Mo());let i=r.type==="keypress"?"input":r.type;Ije(r)||(t({event:r,name:i,global:e}),VD=r.type,jD=n?n._sentryId:void 0),clearTimeout(mue),mue=Ot.setTimeout(()=>{jD=void 0,VD=void 0},Aje)}}o(gue,"makeDOMEventHandler");function Oje(t){try{return t.target}catch{return null}}o(Oje,"getEventTarget");p();m();var V5;function ay(t){let e="history";ra(e,t),na(e,Mje)}o(ay,"addHistoryInstrumentationHandler");function Mje(){if(!_D())return;let t=Ot.onpopstate;Ot.onpopstate=function(...r){let n=Ot.location.href,i=V5;if(V5=n,yo("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let s=V5,a=String(i);V5=a,yo("history",{from:s,to:a})}return r.apply(this,n)}}o(e,"historyReplacementFunction"),Oo(Ot.history,"pushState",e),Oo(Ot.history,"replaceState",e)}o(Mje,"instrumentHistory");p();m();var j5={};function KD(t){let e=j5[t];if(e)return e;let r=Ot[t];if(Xw(r))return j5[t]=r.bind(Ot);let n=Ot.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let s=i.contentWindow;s&&s[t]&&(r=s[t]),n.head.removeChild(i)}catch(i){yx&&Qe.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(j5[t]=r.bind(Ot))}o(KD,"getNativeImplementation");function z5(t){j5[t]=void 0}o(z5,"clearCachedImplementation");p();m();var Mh="__sentry_xhr_v3__";function sS(t){let e="xhr";ra(e,t),na(e,Nje)}o(sS,"addXhrInstrumentationHandler");function Nje(){if(!Ot.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,r,n){let i=new Error,s=Wi()*1e3,a=Pa(n[0])?n[0].toUpperCase():void 0,c=Cje(n[1]);if(!a||!c)return e.apply(r,n);r[Mh]={method:a,url:c,request_headers:{}},a==="POST"&&c.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let u=o(()=>{let h=r[Mh];if(h&&r.readyState===4){try{h.status_code=r.status}catch{}let y={endTimestamp:Wi()*1e3,startTimestamp:s,xhr:r,virtualError:i};yo("xhr",y)}},"onreadystatechangeHandler");return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(h,y,g){return u(),h.apply(y,g)}}):r.addEventListener("readystatechange",u),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(h,y,g){let[S,T]=g,O=y[Mh];return O&&Pa(S)&&Pa(T)&&(O.request_headers[S.toLowerCase()]=T),h.apply(y,g)}}),e.apply(r,n)}}),t.send=new Proxy(t.send,{apply(e,r,n){let i=r[Mh];if(!i)return e.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let s={startTimestamp:Wi()*1e3,xhr:r};return yo("xhr",s),e.apply(r,n)}})}o(Nje,"instrumentXHR");function Cje(t){if(Pa(t))return t;try{return t.toString()}catch{}}o(Cje,"parseUrl");p();m();var $D=[],K5=new Map;function GD(){if(nS()&&bo){let e=kje();return()=>{e()}}return()=>{}}o(GD,"startTrackingINP");var yue={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function kje(){return PD(({metric:t})=>{if(t.value==null)return;let e=t.entries.find(O=>O.duration===t.value&&yue[O.name]);if(!e)return;let{interactionId:r}=e,n=yue[e.name],i=Ei(bo+e.startTime),s=Ei(t.value),a=kn(),c=a?Cn(a):void 0,h=(r!=null?K5.get(r):void 0)||c,y=h?Qt(h).description:xr().getScopeData().transactionName,g=Gc(e.target),S=Un({[Fn]:"auto.http.browser.inp",[La]:`ui.interaction.${n}`,[iy]:e.duration}),T=H5({name:g,transaction:y,attributes:S,startTime:i});T&&(T.addEvent("inp",{[hp]:"millisecond",[pp]:t.value}),T.end(i+s))})}o(kje,"_trackINP");function WD(t){let e=o(({entries:r})=>{let n=kn(),i=n&&Cn(n);r.forEach(s=>{if(!due(s)||!i)return;let a=s.interactionId;if(a!=null&&!K5.has(a)){if($D.length>10){let c=$D.shift();K5.delete(c)}$D.push(a),K5.set(a,i)}})},"handleEntries");Oh("event",e),Oh("first-input",e)}o(WD,"registerInpInteractionListener");function bue(t,e=KD("fetch")){let r=0,n=0;function i(s){let a=s.body.length;r+=a,n++;let c={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};if(!e)return z5("fetch"),lp("No fetch implementation available");try{return e(t.url,c).then(u=>(r-=a,n--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return z5("fetch"),r-=a,n--,lp(u)}}return o(i,"makeRequest"),S5(t,i)}o(bue,"makeFetchTransport");p();m();var Bje=30;var Pje=50;function YD(t,e,r,n){let i={filename:t,function:e==="<anonymous>"?Ql:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}o(YD,"createFrame");var Lje=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Dje=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Uje=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fje=o(t=>{let e=Lje.exec(t);if(e){let[,n,i,s]=e;return YD(n,Ql,+i,+s)}let r=Dje.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){let a=Uje.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}let[i,s]=vue(r[1]||Ql,r[2]);return YD(s,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),Hje=[Bje,Fje],qje=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Vje=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jje=o(t=>{let e=qje.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let s=Vje.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],i=e[1]||Ql;return[i,n]=vue(i,n),YD(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko"),zje=[Pje,jje];var Kje=[Hje,zje],xue=H8(...Kje),vue=o((t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Ql,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails");p();m();p();m();var $5=1024,$je="Breadcrumbs",Gje=o((t={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:$je,setup(r){e.console&&hD(Xje(r)),e.dom&&zD(Yje(r,e.dom)),e.xhr&&sS(Zje(r)),e.fetch&&Zw(Jje(r)),e.history&&ay(Qje(r)),e.sentry&&r.on("beforeSendEvent",Wje(r))}}},"_breadcrumbsIntegration"),aS=Gje;function Wje(t){return o(function(r){Jt()===t&&kf({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:qu(r)},{event:r})},"addSentryBreadcrumb")}o(Wje,"_getSentryBreadcrumbHandler");function Yje(t,e){return o(function(n){if(Jt()!==t)return;let i,s,a=typeof e=="object"?e.serializeAttribute:void 0,c=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;c&&c>$5&&(bs&&Qe.warn(`\`dom.maxStringLength\` cannot exceed ${$5}, but a value of ${c} was configured. Sentry will use ${$5} instead.`),c=$5),typeof a=="string"&&(a=[a]);try{let h=n.event,y=eze(h)?h.target:h;i=Gc(y,{keyAttrs:a,maxStringLength:c}),s=Uw(y)}catch{i="<unknown>"}if(i.length===0)return;let u={category:`ui.${n.name}`,message:i};s&&(u.data={"ui.component_name":s}),kf(u,{event:n.event,name:n.name,global:n.global})},"_innerDomBreadcrumb")}o(Yje,"_getDomBreadcrumbHandler");function Xje(t){return o(function(r){if(Jt()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:pD(r.level),message:K8(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${K8(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;kf(n,{input:r.args,level:r.level})},"_consoleBreadcrumb")}o(Xje,"_getConsoleBreadcrumbHandler");function Zje(t){return o(function(r){if(Jt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,s=r.xhr[Mh];if(!n||!i||!s)return;let{method:a,url:c,status_code:u,body:h}=s,y={method:a,url:c,status_code:u},g={xhr:r.xhr,input:h,startTimestamp:n,endTimestamp:i},S=O5(u);kf({category:"xhr",data:y,type:"http",level:S},g)},"_xhrBreadcrumb")}o(Zje,"_getXhrBreadcrumbHandler");function Jje(t){return o(function(r){if(Jt()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let s=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};kf({category:"fetch",data:s,level:"error",type:"http"},a)}else{let s=r.response,a={...r.fetchData,status_code:s&&s.status},c={input:r.args,response:s,startTimestamp:n,endTimestamp:i},u=O5(a.status_code);kf({category:"fetch",data:a,type:"http",level:u},c)}},"_fetchBreadcrumb")}o(Jje,"_getFetchBreadcrumbHandler");function Qje(t){return o(function(r){if(Jt()!==t)return;let n=r.from,i=r.to,s=Bf(Vt.location.href),a=n?Bf(n):void 0,c=Bf(i);(!a||!a.path)&&(a=s),s.protocol===c.protocol&&s.host===c.host&&(i=c.relative),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),kf({category:"navigation",data:{from:n,to:i}})},"_historyBreadcrumb")}o(Qje,"_getHistoryBreadcrumbHandler");function eze(t){return!!t&&!!t.target}o(eze,"_isEvent");p();m();var tze=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],rze="BrowserApiErrors",nze=o((t={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:rze,setupOnce(){e.setTimeout&&Oo(Vt,"setTimeout",_ue),e.setInterval&&Oo(Vt,"setInterval",_ue),e.requestAnimationFrame&&Oo(Vt,"requestAnimationFrame",ize),e.XMLHttpRequest&&"XMLHttpRequest"in Vt&&Oo(XMLHttpRequest.prototype,"send",oze);let r=e.eventTarget;r&&(Array.isArray(r)?r:tze).forEach(sze)}}},"_browserApiErrorsIntegration"),wue=nze;function _ue(t){return function(...e){let r=e[0];return e[0]=sy(r,{mechanism:{data:{function:dc(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}o(_ue,"_wrapTimeFunction");function ize(t){return function(e){return t.apply(this,[sy(e,{mechanism:{data:{function:"requestAnimationFrame",handler:dc(t)},handled:!1,type:"instrument"}})])}}o(ize,"_wrapRAF");function oze(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Oo(r,i,function(s){let a={mechanism:{data:{function:i,handler:dc(s)},handled:!1,type:"instrument"}},c=ry(s);return c&&(a.mechanism.data.handler=dc(c)),sy(s,a)})}),t.apply(this,e)}}o(oze,"_wrapXHR");function sze(t){let r=Vt[t],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Oo(n,"addEventListener",function(i){return function(s,a,c){try{aze(a)&&(a.handleEvent=sy(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:dc(a),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,sy(a,{mechanism:{data:{function:"addEventListener",handler:dc(a),target:t},handled:!1,type:"instrument"}}),c])}}),Oo(n,"removeEventListener",function(i){return function(s,a,c){try{let u=a.__sentry_wrapped__;u&&i.call(this,s,u,c)}catch{}return i.call(this,s,a,c)}}))}o(sze,"_wrapEventTarget");function aze(t){return typeof t.handleEvent=="function"}o(aze,"isEventListenerObject");p();m();var Sue=()=>({name:"BrowserSession",setupOnce(){if(typeof Vt.document>"u"){bs&&Qe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Kw({ignoreDuration:!0}),$w(),ay(({from:t,to:e})=>{t!==void 0&&t!==e&&(Kw({ignoreDuration:!0}),$w())})}});p();m();var cze="GlobalHandlers",fze=o((t={})=>{let e={onerror:!0,onunhandledrejection:!0,...t};return{name:cze,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(uze(r),Eue("onerror")),e.onunhandledrejection&&(lze(r),Eue("onunhandledrejection"))}}},"_globalHandlersIntegration"),Aue=fze;function uze(t){Bw(e=>{let{stackParser:r,attachStacktrace:n}=Tue();if(Jt()!==t||SD())return;let{msg:i,url:s,line:a,column:c,error:u}=e,h=pze(k5(r,u||i,void 0,n,!1),s,a,c);h.level="error",zw(h,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}o(uze,"_installGlobalOnErrorHandler");function lze(t){Pw(e=>{let{stackParser:r,attachStacktrace:n}=Tue();if(Jt()!==t||SD())return;let i=dze(e),s=ey(i)?hze(i):k5(r,i,void 0,n,!0);s.level="error",zw(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}o(lze,"_installGlobalOnUnhandledRejectionHandler");function dze(t){if(ey(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(dze,"_getUnhandledRejectionError");function hze(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(hze,"_eventFromRejectionWithPrimitive");function pze(t,e,r,n){let i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},u=c.frames=c.frames||[],h=n,y=r,g=Pa(e)&&e.length>0?e:ML();return u.length===0&&u.push({colno:h,filename:g,function:Ql,in_app:!0,lineno:y}),t}o(pze,"_enhanceEventWithInitialFrame");function Eue(t){bs&&Qe.log(`Global Handler attached: ${t}`)}o(Eue,"globalHandlerLog");function Tue(){let t=Jt();return t&&t.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(Tue,"getOptions");p();m();var Iue=()=>({name:"HttpContext",preprocessEvent(t){if(!Vt.navigator&&!Vt.location&&!Vt.document)return;let e=t.request&&t.request.url||Vt.location&&Vt.location.href,{referrer:r}=Vt.document||{},{userAgent:n}=Vt.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}});p();m();var mze="cause",gze=5,yze="LinkedErrors",bze=o((t={})=>{let e=t.limit||gze,r=t.key||mze;return{name:yze,preprocessEvent(n,i,s){let a=s.getOptions();dD(C5,a.stackParser,a.maxValueLength,r,e,n,i)}}},"_linkedErrorsIntegration"),Rue=bze;function Oue(t){let e=[T5(),E5(),wue(),aS(),Aue(),Rue(),I5(),Iue()];return t.autoSessionTracking!==!1&&e.push(Sue()),e}o(Oue,"getDefaultIntegrations");function xze(t={}){let e={defaultIntegrations:Oue(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Vt.SENTRY_RELEASE&&Vt.SENTRY_RELEASE.id?Vt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}o(xze,"applyDefaultOptions");function vze(){let t=typeof Vt.window<"u"&&Vt;if(!t)return!1;let e=t.chrome?"chrome":"browser",r=t[e],n=r&&r.runtime&&r.runtime.id,i=Vt.location&&Vt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!n&&Vt===Vt.top&&s.some(u=>i.startsWith(`${u}//`)),c=typeof t.nw<"u";return!!n&&!a&&!c}o(vze,"shouldShowBrowserExtensionError");function XD(t={}){let e=xze(t);if(!e.skipBrowserExtensionCheck&&vze()){lc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}bs&&(M5()||Qe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...e,stackParser:SL(e.stackParser||xue),integrations:sD(e),transport:e.transport||bue};return fD(B5,r)}o(XD,"init");p();m();var Mue=new WeakMap,ZD=new Map,cS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Cue(t,e){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:c}={traceFetch:cS.traceFetch,traceXHR:cS.traceXHR,trackFetchStreamPerformance:cS.trackFetchStreamPerformance,...e},u=typeof s=="function"?s:g=>!0,h=o(g=>Sze(g,c),"shouldAttachHeadersWithTargets"),y={};r&&(t.addEventProcessor(g=>(g.type==="transaction"&&g.spans&&g.spans.forEach(S=>{if(S.op==="http.client"){let T=ZD.get(S.span_id);T&&(S.timestamp=T/1e3,ZD.delete(S.span_id))}}),g)),i&&xD(g=>{if(g.response){let S=Mue.get(g.response);S&&g.endTimestamp&&ZD.set(S,g.endTimestamp)}}),Zw(g=>{let S=mD(g,u,h,y);if(g.response&&g.fetchData.__span&&Mue.set(g.response,g.fetchData.__span),S){let T=kue(g.fetchData.url),O=T?Bf(T).host:void 0;S.setAttributes({"http.url":T,"server.address":O})}a&&S&&Nue(S)})),n&&sS(g=>{let S=Eze(g,u,h,y);a&&S&&Nue(S)})}o(Cue,"instrumentOutgoingRequests");function _ze(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}o(_ze,"isPerformanceResourceTiming");function Nue(t){let{url:e}=Qt(t).data||{};if(!e||typeof e!="string")return;let r=Oh("resource",({entries:n})=>{n.forEach(i=>{_ze(i)&&i.name.endsWith(e)&&(wze(i).forEach(a=>t.setAttribute(...a)),setTimeout(r))})})}o(Nue,"addHTTPTimings");function fd(t=0){return((bo||performance.timeOrigin)+t)/1e3}o(fd,"getAbsoluteTime");function wze(t){let{name:e,version:r}=iS(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),bo?[...n,["http.request.redirect_start",fd(t.redirectStart)],["http.request.fetch_start",fd(t.fetchStart)],["http.request.domain_lookup_start",fd(t.domainLookupStart)],["http.request.domain_lookup_end",fd(t.domainLookupEnd)],["http.request.connect_start",fd(t.connectStart)],["http.request.secure_connection_start",fd(t.secureConnectionStart)],["http.request.connection_end",fd(t.connectEnd)],["http.request.request_start",fd(t.requestStart)],["http.request.response_start",fd(t.responseStart)],["http.request.response_end",fd(t.responseEnd)]]:n}o(wze,"resourceTimingEntryToSpanData");function Sze(t,e){let r=Vt.location&&Vt.location.href;if(r){let n,i;try{n=new URL(t,r),i=new URL(r).origin}catch{return!1}let s=n.origin===i;return e?td(n.toString(),e)||s&&td(n.pathname,e):s}else{let n=!!t.match(/^\/(?!\/)/);return e?td(t,e):n}}o(Sze,"shouldAttachHeaders");function Eze(t,e,r,n){let i=t.xhr,s=i&&i[Mh];if(!i||i.__sentry_own_request__||!s)return;let a=Da()&&e(s.url);if(t.endTimestamp&&a){let g=i.__sentry_xhr_span_id__;if(!g)return;let S=n[g];S&&s.status_code!==void 0&&(lx(S,s.status_code),S.end(),delete n[g]);return}let c=kue(s.url),u=c?Bf(c).host:void 0,h=!!kn(),y=a&&h?Xc({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[Fn]:"auto.http.browser",[La]:"http.client"}}):new mc;return i.__sentry_xhr_span_id__=y.spanContext().spanId,n[i.__sentry_xhr_span_id__]=y,r(s.url)&&Aze(i,Da()&&h?y:void 0),y}o(Eze,"xhrCallback");function Aze(t,e){let{"sentry-trace":r,baggage:n}=Yw({span:e});r&&Tze(t,r,n)}o(Aze,"addTracingHeadersToXhrRequest");function Tze(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader("baggage",r)}catch{}}o(Tze,"setHeaderOnXhr");function kue(t){try{return new URL(t,Vt.location.origin).href}catch{return}}o(kue,"getFullURL");p();m();p();m();function Bue(){Vt&&Vt.document?Vt.document.addEventListener("visibilitychange",()=>{let t=kn();if(!t)return;let e=Cn(t);if(Vt.document.hidden&&e){let r="cancelled",{op:n,status:i}=Qt(e);bs&&Qe.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||e.setStatus({code:2,message:r}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):bs&&Qe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}o(Bue,"registerBackgroundTabDetection");var Ize="BrowserTracing",Rze={...mx,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...cS},JD=o((t={})=>{i5();let{enableInp:e,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:c,finalTimeout:u,childSpanTimeout:h,markBackgroundSpan:y,traceFetch:g,traceXHR:S,trackFetchStreamPerformance:T,shouldCreateSpanForRequest:O,enableHTTPTimings:M,instrumentPageLoad:k,instrumentNavigation:C}={...Rze,...t},B=DD({recordClsStandaloneSpans:s||!1});e&&GD(),n&&Yt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?FD():r&&UD(),i&&HD();let N={name:void 0,source:void 0};function P(H,F){let Z=F.op==="pageload",W=a?a(F):F,X=W.attributes||{};F.name!==W.name&&(X[ia]="custom",W.attributes=X),N.name=W.name,N.source=X[ia];let E=h5(W,{idleTimeout:c,finalTimeout:u,childSpanTimeout:h,disableAutoFinish:Z,beforeSpanEnd:o(d=>{B(),qD(d,{recordClsOnPageloadSpan:!s})},"beforeSpanEnd")});function f(){["interactive","complete"].includes(Vt.document.readyState)&&H.emit("idleSpanEnableAutoFinish",E)}return o(f,"emitFinish"),Z&&Vt.document&&(Vt.document.addEventListener("readystatechange",()=>{f()}),f()),E}return o(P,"_createRouteSpan"),{name:Ize,afterAllSetup(H){let F,Z=Vt.location&&Vt.location.href;function W(){F&&!Qt(F).timestamp&&(bs&&Qe.log(`[Tracing] Finishing current active span with op: ${Qt(F).op}`),F.end())}o(W,"maybeEndActiveSpan"),H.on("startNavigationSpan",X=>{Jt()===H&&(W(),F=P(H,{op:"navigation",...X}))}),H.on("startPageLoadSpan",(X,E={})=>{if(Jt()!==H)return;W();let f=E.sentryTrace||Pue("sentry-trace"),d=E.baggage||Pue("baggage"),b=qL(f,d);xr().setPropagationContext(b),F=P(H,{op:"pageload",...X})}),H.on("spanEnd",X=>{let E=Qt(X).op;if(X!==Cn(X)||E!=="navigation"&&E!=="pageload")return;let f=xr(),d=f.getPropagationContext();f.setPropagationContext({...d,sampled:d.sampled!==void 0?d.sampled:Nf(X),dsc:d.dsc||Yc(X)})}),Vt.location&&(k&&Lue(H,{name:Vt.location.pathname,startTime:bo?bo/1e3:void 0,attributes:{[ia]:"url",[Fn]:"auto.pageload.browser"}}),C&&ay(({to:X,from:E})=>{if(E===void 0&&Z&&Z.indexOf(X)!==-1){Z=void 0;return}E!==X&&(Z=void 0,Due(H,{name:Vt.location.pathname,attributes:{[ia]:"url",[Fn]:"auto.navigation.browser"}}))})),y&&Bue(),i&&Oze(c,u,h,N),e&&WD(),Cue(H,{traceFetch:g,traceXHR:S,trackFetchStreamPerformance:T,tracePropagationTargets:H.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:O,enableHTTPTimings:M})}}},"browserTracingIntegration");function Lue(t,e,r){t.emit("startPageLoadSpan",e,r),xr().setTransactionName(e.name);let n=kn();return(n&&Qt(n).op)==="pageload"?n:void 0}o(Lue,"startBrowserTracingPageLoadSpan");function Due(t,e){No().setPropagationContext({traceId:hc()}),xr().setPropagationContext({traceId:hc()}),t.emit("startNavigationSpan",e),xr().setTransactionName(e.name);let r=kn();return(r&&Qt(r).op)==="navigation"?r:void 0}o(Due,"startBrowserTracingNavigationSpan");function Pue(t){let e=NL(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}o(Pue,"getMetaContent");function Oze(t,e,r,n){let i,s=o(()=>{let a="ui.action.click",c=kn(),u=c&&Cn(c);if(u){let h=Qt(u).op;if(["navigation","pageload"].includes(h)){bs&&Qe.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(ux,"interactionInterrupted"),i.end(),i=void 0),!n.name){bs&&Qe.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}i=h5({name:n.name,op:a,attributes:{[ia]:n.source||"url"}},{idleTimeout:t,finalTimeout:e,childSpanTimeout:r})},"registerInteractionTransaction");Vt.document&&addEventListener("click",s,{once:!1,capture:!0})}o(Oze,"registerInteractionListener");p();m();var Uue=$e(Zr(),1);function QD(t){let e={...t};return Ww(e,"react"),x5("react",{version:Uue.version}),XD(e)}o(QD,"init");p();m();var eU={op:"function"};var Nze=["The server encountered a temporary error","premature close","The browser is shutting down."],Cze=["/_generated_background_page.html","/background/serviceWorker.js","/service-worker-loader.js"],kze=["Breadcrumbs","GlobalHandlers","TryCatch","HttpContext"],Fue=!1,Hue={init:o(async(t,{appVersion:e,sentry:r})=>{r.enabled&&QD({sampleRate:t.mode==="debug"?1:r.sampleRate,tracesSampler:o(n=>{let i=n.transactionContext.name;return Cze.includes(i)?0:t.mode==="debug"?1:r.tracesSampleRate||!1},"tracesSampler"),beforeSend:o(async(n,i)=>{let s=i?.originalException;for(let a of Nze)if(s instanceof Error&&s.message===a||typeof s=="string"&&s===a)return null;if(s&&!Fue){let c=`${new Date().toISOString()}-logs.txt`,u=await Ow.getRecentLogs();i.attachments=[{filename:c,data:u}],Fue=!0}return n},"beforeSend"),dsn:r.dsn,release:e,environment:t.env,initialScope:r.initialScope,beforeBreadcrumb:o((n,i)=>(n.category==="fetch"||n.category==="xhr")&&!(n.data?.url?new URL(n.data.url):void 0)?.origin.endsWith("phantom.app")?null:n,"beforeBreadcrumb"),integrations:o(function(n){return n.filter(function(s){return!kze.includes(s.name)}).concat([aS({dom:!1,history:!1,console:!1}),JD({traceFetch:!1,traceXHR:!1,enableInp:!0})])},"integrations")})},"init"),captureError:o((t,e)=>{gx(t,{tags:{feature:e,team:tx(e)}})},"captureError"),captureMessage:o((t,e,r=Tt.Info)=>{b5(t,{tags:{feature:e,team:tx(e)},level:r})},"captureMessage"),addBreadcrumb:o((t,e,r,n)=>{kf({category:t,message:e,level:r,data:n})},"addBreadcrumb"),setUser:o(async t=>{_5(t)},"setUser"),setTags:o(async t=>{v5(t)},"setTags"),startSpan:o((t,e)=>{let r=d5({...eU,name:t},e);return Promise.resolve(r)},"startSpan"),startInactiveSpan:o(t=>{let e=Xc({...eU,name:t});return e?Promise.resolve(e):void 0},"startInactiveSpan"),captureMetric:o(async(t,e,r)=>{},"captureMetric"),trackFeatureFlag:o((t,e)=>{},"trackFeatureFlag")};p();m();p();m();p();m();function que(){return Vs()}o(que,"isLocalRun");var Bze=be.enum(["disabled","console","standard","debug"]);function Vue(){let t=R.TELEMETRY_ENV,e=Bze.optional().parse(R.TELEMETRY_MODE),r=que(),n=e??(r?"console":"standard");if(r){if((t==="production"||t==="staging")&&(n==="standard"||n==="debug"))throw new Error("[TelemetryConfig] Cannot submit to production/staging from local dev")}else if(!t&&n!=="disabled"&&n!=="console")throw new Error("[TelemetryConfig] Missing TELEMETRY_ENV env var in production build");let i=t||"dev";switch(n){case"disabled":return{mode:"disabled",shouldLogToConsole:!1,isSubmitEnabled:!1,description:"Telemetry is completely disabled"};case"console":return{mode:"console",shouldLogToConsole:!0,isSubmitEnabled:!1,description:"Telemetry logs to console only (no remote submission)"};case"standard":return{mode:"standard",env:i,shouldLogToConsole:!1,isSubmitEnabled:!0,description:`Telemetry submits to ${i} with app-specific settings`};case"debug":return{mode:"debug",env:i,shouldLogToConsole:!0,isSubmitEnabled:!0,description:`High-frequency telemetry for testing (console + ${i})`}}}o(Vue,"createTelemetryConfig");p();m();var Yue=$e(Wue(),1),Xue=$e(dCe(),1);var G5="[Telemetry Development Log]",W5={[Tt.Debug]:console.log,[Tt.Info]:console.warn,[Tt.Error]:console.error,[Tt.Fatal]:console.error};function Vze(t){return typeof t=="object"&&t!==null&&"toString"in t&&typeof t.toString=="function"}o(Vze,"hasToString");function jze(t){return Object.entries(t).reduce((e,[r,n])=>(typeof n>"u"||((0,Xue.default)(n)||(0,Yue.default)(n)||typeof n=="string"||typeof n=="boolean"||n===null?e[r]=n:Vze(n)&&(e[r]=n.toString())),e),{})}o(jze,"safeBreadcrumbData");function xx(t,e,{featureTag:r,value:n,severity:i,data:s}){let a={value:n,data:s};for(let c of t){let u=c[e];if(u){let h=u(a.value,{featureTag:r,severity:i,data:a.data});a.value=h.value,h.data&&(a.data=h.data)}}return a}o(xx,"runMiddleware");function Zue(t,e){let r,n=Cw;async function i(k){if(!r){if(r=Vue(),n=r.isSubmitEnabled?t.provider:Cw,Vs()){let C=r.isSubmitEnabled?`, env=${r.env}`:"";console.info(`[Telemetry#init] (mode=${r.mode}${C}) ${r.description}`)}r.isSubmitEnabled&&await n.init(r,k)}}o(i,"init");function s(){return r}o(s,"getConfig");function a(k,C){if(r)try{let B=xx(e,"beforeEvent",{value:k,featureTag:C,severity:Tt.Error});r.shouldLogToConsole&&W5[Tt.Error](G5,B.value,B.data),B.value instanceof Error?n.captureError(B.value,C):n.captureError(new Error(B.value),C),xx(e,"afterEvent",{value:B.value,featureTag:C,severity:Tt.Error})}catch(B){Vs()&&console.warn(B)}}o(a,"captureError");function c(k,C,B=Tt.Info){if(r)try{let N=xx(e,"beforeEvent",{value:k,featureTag:C,severity:B});r.shouldLogToConsole&&W5[B](G5,N.value),n.captureMessage(N.value instanceof Error?N.value.message:N.value,C,B),xx(e,"afterEvent",{value:N.value,featureTag:C,severity:B})}catch(N){Vs()&&console.warn(N)}}o(c,"captureMessage");function u(k,C,B,N){if(r)try{let P=xx(e,"beforeEvent",{featureTag:k,value:C,severity:B,data:N});r.shouldLogToConsole&&W5[B](...[G5,P.value,P.data].filter(Boolean)),n.addBreadcrumb(k,P.value instanceof Error?P.value.message:P.value,B,P.data),xx(e,"afterEvent",{featureTag:k,value:P.value,severity:B,data:P.data})}catch(P){Vs()&&console.warn(P)}}o(u,"addBreadcrumb");async function h(k){r&&await n.setUser(k)}o(h,"setUser");async function y(k){r&&await n.setTags(k)}o(y,"setTags");function g(k,C){return r?n.startSpan(k,C):Promise.resolve(C())}o(g,"startSpan");function S(k,C){return r?()=>n.startSpan(k,C):()=>Promise.resolve(C())}o(S,"startSpanCallback");function T(k){if(r)return n.startInactiveSpan(k)}o(T,"startInactiveSpan");async function O(k,C,B){r&&await t.provider.captureMetric(k,C,B)}o(O,"captureMetric");function M(k,C){r&&n.trackFeatureFlag(k,C)}return o(M,"trackFeatureFlag"),{init:i,getConfig:s,captureError:a,captureMessage:c,addBreadcrumb:u,setUser:h,setTags:y,startSpan:g,startSpanCallback:S,startInactiveSpan:T,captureMetric:O,trackFeatureFlag:M}}o(Zue,"createTelemetry");var zze=[B8,vce],Kze=gce(Ow),$ze=[...zze,Kze],rr=Zue({provider:_ce(Hue,mce)},$ze);p();m();p();m();p();m();function Jue(t){let e={...t};if(typeof e.response=="string")try{e.response=JSON.parse(e.response)}catch{}return JSON.stringify(e,null,2)}o(Jue,"formatNetworkRequestInfo");p();m();var Gze="Logger not initialized",Wze="Method not supported on this platform",Que=["publicKey"];var Z5=o(t=>{let{obj:e,depth:r=0,maxDepth:n=20,quoteStrings:i=!0}=t;if(r>=n)return"... (max-depth reached)";let s=ele(e);switch(s){case"Object":return Yze(t);case"Array":return Xze(t);case"function":return Zze(t);case"RegExp":return"/"+e.source+"/"+e.flags;case"Date":case"string":return i?`"${e}"`:e+"";case"boolean":return e?"true":"false";case"number":return e+"";case"null":case"undefined":return s;default:return"?"}},"stringify"),Yze=o(t=>{let{obj:e,indent:r,...n}=t,i="{",s=t.depth;if(tU(e)>0){i+=`
`,s++;let a=0;for(let c in e){i+=X5(s,r),i+=c+": ";let u=Z5({...n,obj:e[c],depth:s,indent:r});u&&(i+=u),a<tU(e)-1&&(i+=","),i+=`
`,a++}s--,i+=X5(s,r)}return i+="}",i},"stringifyObject"),Xze=o(t=>{let{obj:e,indent:r,...n}=t,i="[",s=t.depth,a=!1;if(e.length>0){s++;for(let c=0;c<e.length;c++){let u=ele(e[c]),h=!1;u==="Object"&&tU(e[c])>0&&(h=!0),u==="Array"&&e[c].length>0&&(h=!0),!a&&h&&(i+=`
`);let y=Z5({...n,obj:e[c],depth:s,indent:r});y&&(h&&(i+=X5(s,r)),i+=y,c<e.length-1&&(i+=", "),h&&(i+=`
`)),a=h}s--}return i+="]",i},"stringifyArray"),Zze=o(t=>{let{obj:e,depth:r,indent:n}=t,i=r;return String(e).split(`
`).map(s=>{s.match(/\}/)&&i--;let a=X5(i,n)+s.trim();return s.match(/\{/)&&i++,a}).join(`
`)},"stringifyFunction"),ele=o(t=>{if(t===null)return"null";if(t===void 0)return"undefined";{let e=typeof t;return e==="object"&&(Array.isArray(t)?e="Array":t instanceof Date?e="Date":t instanceof RegExp?e="RegExp":e="Object"),e}},"determineType"),X5=o((t,e)=>e.repeat(Math.max(t,0)),"indentsForDepth"),tU=o(t=>{let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e},"objectSize"),Jze=`======================================================
Application State
======================================================

`,Qze=`======================================================
Network Logs
======================================================

`,eKe=`======================================================
Application Logs
======================================================

`,Y5=`------------------------------------------------
`,tKe=["authorization","x-phantomauthtoken","x-phantomnonce"],rKe=o((t,e=[])=>{let r=Jze;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r+=`${Y5}`,r+=`${n}
${Y5}
`,r+=Z5({obj:t[n],depth:0,maxDepth:20,indent:"  ",quoteStrings:!0}),r+=`

`);if(e.length>0){r+=Qze;for(let n of e){if(n.requestHeaders)for(let i of tKe)delete n.requestHeaders[i.toLowerCase()];r+=`${Y5}`,r+=`${n.id}
${Y5}
`,r+=Jue(n),r+=`

`}}return r+=eKe,r},"formatAppState"),nKe=o(t=>t.replaceAll(/seed/gim,"root").replaceAll(/privateKey/gim,"leaf").replaceAll(/private-key/gim,"leaf").replaceAll(/private key/gim,"leaf").replaceAll(/mnemonic/gim,"stem"),"removeKeywordsFromLogs"),iKe=o(t=>t?JSON.parse(JSON.stringify(t,(e,r)=>Que.includes(e)?void 0:r)):null,"removeKeysFromLogs");p();m();var oKe=be.object({maxRequests:be.number(),ignoredUrls:be.array(be.string()),ignoredHosts:be.array(be.string())});p();m();var Ye;(function(t){t.BitcoinTaproot="bip122_p2tr",t.BitcoinNativeSegwit="bip122_p2wpkh",t.BitcoinNestedSegwit="bip122_p2sh",t.BitcoinLegacy="bip122_p2pkh",t.Solana="solana",t.EVM="eip155",t.Sui="sui"})(Ye||(Ye={}));var J5=[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy],fS=be.enum(J5);p();m();var Et;(function(t){t.Solana="solana",t.Monad="monad",t.Ethereum="ethereum",t.Base="base",t.Arbitrum="arbitrum",t.Polygon="polygon",t.Bitcoin="bitcoin",t.Sui="sui",t.Hypercore="hypercore",t.Hyperevm="hyperevm"})(Et||(Et={}));var Bn;(function(t){t.Ethereum="60",t.Monad="143",t.Polygon="966",t.Base="8453",t.Arbitrum="9001",t.Solana="501",t.Bitcoin="0",t.Sui="784",t.Hypercore="925",t.Hyperevm="60"})(Bn||(Bn={}));p();m();var co;(function(t){t.Mainnet="solana:101",t.Testnet="solana:102",t.Devnet="solana:103",t.Localnet="solana:localnet"})(co||(co={}));var xp=be.union([be.literal(co.Mainnet),be.literal(co.Testnet),be.literal(co.Devnet),be.literal(co.Localnet)]),bc;(function(t){t.Mainnet="eip155:1",t.Sepolia="eip155:11155111"})(bc||(bc={}));var Q5=be.union([be.literal(bc.Mainnet),be.literal(bc.Sepolia)]),Zc;(function(t){t.Mainnet="eip155:137",t.Amoy="eip155:80002"})(Zc||(Zc={}));var rU=be.union([be.literal(Zc.Mainnet),be.literal(Zc.Amoy)]),Jc;(function(t){t.Mainnet="eip155:8453",t.Sepolia="eip155:84532"})(Jc||(Jc={}));var nU=be.union([be.literal(Jc.Mainnet),be.literal(Jc.Sepolia)]),Qc;(function(t){t.Mainnet="eip155:42161",t.Sepolia="eip155:421614"})(Qc||(Qc={}));var iU=be.union([be.literal(Qc.Mainnet),be.literal(Qc.Sepolia)]),ef;(function(t){t.Mainnet="eip155:143",t.Testnet="eip155:10143"})(ef||(ef={}));var oU=be.union([be.literal(ef.Mainnet),be.literal(ef.Testnet)]),xc;(function(t){t.Mainnet="bip122:000000000019d6689c085ae165831e93",t.Testnet="bip122:000000000933ea01ad0ee984209779ba"})(xc||(xc={}));var vp=be.union([be.literal(xc.Mainnet),be.literal(xc.Testnet)]),tf;(function(t){t.Mainnet="sui:mainnet",t.Testnet="sui:testnet"})(tf||(tf={}));var cy=be.union([be.literal(tf.Mainnet),be.literal(tf.Testnet)]),vc;(function(t){t.Mainnet="hypercore:mainnet",t.Testnet="hypercore:testnet"})(vc||(vc={}));var Nh=be.union([be.literal(vc.Mainnet),be.literal(vc.Testnet)]),_c;(function(t){t.Mainnet="eip155:999",t.Testnet="eip155:998"})(_c||(_c={}));var fy=be.union([be.literal(_c.Mainnet),be.literal(_c.Testnet)]),_p=be.union([Q5,rU,nU,oU,iU,Nh,fy]),Ch=be.union([vp,_p,xp,cy,Nh,fy]),Pn={Bitcoin:xc,Ethereum:bc,Polygon:Zc,Solana:co,Sui:tf,Base:Jc,Monad:ef,Arbitrum:Qc,Hypercore:vc,Hyperevm:_c};p();m();p();m();p();m();p();m();p();m();p();m();var Gnt=$e(Vx(),1);var ts=BigInt(0),Qr=BigInt(1),$p=BigInt(2),Wnt=BigInt(8),Zbe=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),pi=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Zbe,n:Zbe,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var rxe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),dE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),opr=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Ynt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Xnt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Znt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Jnt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ko=class t{static{o(this,"ExtendedPoint")}constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof fo))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(fo.ZERO)?t.ZERO:new t(e.x,e.y,Qr,et(e.x*e.y))}static toAffineBatch(e){let r=tit(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Qbe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,u=et(r*c),h=et(s*i),y=et(n*c),g=et(a*i);return u===h&&y===g}negate(){return new t(et(-this.x),this.y,this.z,et(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=pi,s=et(e*e),a=et(r*r),c=et($p*et(n*n)),u=et(i*s),h=e+r,y=et(et(h*h)-s-a),g=u+a,S=g-c,T=u-a,O=et(y*S),M=et(g*T),k=et(y*T),C=et(S*g);return new t(O,M,C,k)}add(e){Qbe(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:c,z:u,t:h}=e,y=et((n-r)*(c+a)),g=et((n+r)*(c-a)),S=et(g-y);if(S===ts)return this.double();let T=et(i*$p*h),O=et(s*$p*u),M=O+T,k=g+y,C=O-T,B=et(M*S),N=et(k*C),P=et(M*C),H=et(S*k);return new t(B,N,H,P)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=fo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Eq.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Eq.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+256/n,u=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let S=0;S<c;S++){let T=S*u,O=Number(e&h);e>>=g,O>u&&(O-=y,e+=Qr);let M=T,k=T+Math.abs(O)-1,C=S%2!==0,B=O<0;O===0?a=a.add(Jbe(C,i[M])):s=s.add(Jbe(B,i[k]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(pR(e,pi.l),r)}multiplyUnsafe(e){let r=pR(e,pi.l,!1),n=t.BASE,i=t.ZERO;if(r===ts)return i;if(this.equals(i)||r===Qr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>ts;)r&Qr&&(s=s.add(a)),a=a.double(),r>>=Qr;return s}isSmallOrder(){return this.multiplyUnsafe(pi.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(pi.l/$p).double();return pi.l%$p&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?Wnt:gR(i));let a=et(r*e),c=et(n*e),u=et(i*e);if(s)return fo.ZERO;if(u!==Qr)throw new Error("invZ was invalid");return new fo(a,c)}fromRistrettoBytes(){wq()}toRistrettoBytes(){wq()}fromRistrettoHash(){wq()}};ko.BASE=new ko(pi.Gx,pi.Gy,Qr,et(pi.Gx*pi.Gy));ko.ZERO=new ko(ts,Qr,Qr,ts);function Jbe(t,e){let r=e.negate();return t?r:e}o(Jbe,"constTimeNegate");function Qbe(t){if(!(t instanceof ko))throw new TypeError("ExtendedPoint expected")}o(Qbe,"assertExtPoint");function _q(t){if(!(t instanceof Gy))throw new TypeError("RistrettoPoint expected")}o(_q,"assertRstPoint");function wq(){throw new Error("Legacy method: switch to RistrettoPoint")}o(wq,"legacyRist");var Gy=class t{static{o(this,"RistrettoPoint")}constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=pi,n=et(dE*e*e),i=et((n+Qr)*Znt),s=BigInt(-1),a=et((s-r*n)*et(n+r)),{isValid:c,value:u}=Tq(i,a),h=et(u*e);Kp(h)||(h=et(-h)),c||(u=h),c||(s=n);let y=et(s*(n-Qr)*Jnt-a),g=u*u,S=et((u+u)*a),T=et(y*Ynt),O=et(Qr-g),M=et(Qr+g);return new ko(et(S*M),et(O*T),et(T*M),et(S*O))}static hashToCurve(e){e=Gp(e,64);let r=Sq(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Sq(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=Gp(e,32);let{a:r,d:n}=pi,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=Sq(e);if(!nit(mE(s),e)||Kp(s))throw new Error(i);let a=et(s*s),c=et(Qr+r*a),u=et(Qr-r*a),h=et(c*c),y=et(u*u),g=et(r*n*h-y),{isValid:S,value:T}=txe(et(g*y)),O=et(T*u),M=et(T*O*g),k=et((s+s)*O);Kp(k)&&(k=et(-k));let C=et(c*M),B=et(k*C);if(!S||Kp(B)||C===ts)throw new Error(i);return new t(new ko(k,C,Qr,B))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=et(et(n+r)*et(n-r)),a=et(e*r),c=et(a*a),{value:u}=txe(et(s*c)),h=et(u*s),y=et(u*a),g=et(h*y*i),S;if(Kp(i*g)){let O=et(r*dE),M=et(e*dE);e=O,r=M,S=et(h*Xnt)}else S=y;Kp(e*g)&&(r=et(-r));let T=et((n-r)*S);return Kp(T)&&(T=et(-T)),mE(T)}toHex(){return gE(this.toRawBytes())}toString(){return this.toHex()}equals(e){_q(e);let r=this.ep,n=e.ep,i=et(r.x*n.y)===et(r.y*n.x),s=et(r.y*n.y)===et(r.x*n.x);return i||s}add(e){return _q(e),new t(this.ep.add(e.ep))}subtract(e){return _q(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Gy.BASE=new Gy(ko.BASE);Gy.ZERO=new Gy(ko.ZERO);var Eq=new WeakMap,fo=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Eq.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=pi;e=Gp(e,32);let s=e.slice();s[31]=e[31]&-129;let a=yE(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=rxe)throw new Error("Expected 0 < hex < 2**256");let c=et(a*a),u=et(c-Qr),h=et(n*c+Qr),{isValid:y,value:g}=Tq(u,h);if(!y)throw new Error("Point.fromHex: invalid y coordinate");let S=(g&Qr)===Qr;return(e[31]&128)!==0!==S&&(g=et(-g)),new t(g,a)}static async fromPrivateKey(e){return(await sxe(e)).point}toRawBytes(){let e=mE(this.y);return e[31]|=this.x&Qr?128:0,e}toHex(){return gE(this.toRawBytes())}toX25519(){let{y:e}=this,r=et((Qr+e)*gR(Qr-e));return mE(r)}isTorsionFree(){return ko.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(et(-this.x),this.y)}add(e){return ko.fromAffine(this).add(ko.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ko.fromAffine(this).multiply(e,this).toAffine()}};fo.BASE=new fo(pi.Gx,pi.Gy);fo.ZERO=new fo(ts,Qr);var pE=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Gp(e,64),n=fo.fromHex(r.slice(0,32),!1),i=yE(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof fo))throw new Error("Expected Point instance");return pR(r,pi.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(mE(this.s),32),e}toHex(){return gE(this.toRawBytes())}};function exe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(exe,"concatBytes");var Qnt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gE(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Qnt[t[r]];return e}o(gE,"bytesToHex");function Aq(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(Aq,"hexToBytes");function nxe(t){let r=t.toString(16).padStart(64,"0");return Aq(r)}o(nxe,"numberTo32BytesBE");function mE(t){return nxe(t).reverse()}o(mE,"numberTo32BytesLE");function Kp(t){return(et(t)&Qr)===Qr}o(Kp,"edIsNegative");function yE(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+gE(Uint8Array.from(t).reverse()))}o(yE,"bytesToNumberLE");var eit=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Sq(t){return et(yE(t)&eit)}o(Sq,"bytes255ToNumberLE");function et(t,e=pi.P){let r=t%e;return r>=ts?r:e+r}o(et,"mod");function gR(t,e=pi.P){if(t===ts||e<=ts)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=et(t,e),n=e,i=ts,s=Qr,a=Qr,c=ts;for(;r!==ts;){let h=n/r,y=n%r,g=i-a*h,S=s-c*h;n=r,r=y,i=a,s=c,a=g,c=S}if(n!==Qr)throw new Error("invert: does not exist");return et(i,e)}o(gR,"invert");function tit(t,e=pi.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===ts?s:(r[c]=s,et(s*a,e)),Qr),i=gR(n,e);return t.reduceRight((s,a,c)=>a===ts?s:(r[c]=et(s*r[c],e),et(s*a,e)),i),r}o(tit,"invertBatch");function wd(t,e){let{P:r}=pi,n=t;for(;e-- >ts;)n*=n,n%=r;return n}o(wd,"pow2");function rit(t){let{P:e}=pi,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),u=t*t%e*t%e,h=wd(u,$p)*u%e,y=wd(h,Qr)*t%e,g=wd(y,r)*y%e,S=wd(g,n)*g%e,T=wd(S,i)*S%e,O=wd(T,s)*T%e,M=wd(O,a)*O%e,k=wd(M,a)*O%e,C=wd(k,n)*g%e;return{pow_p_5_8:wd(C,$p)*t%e,b2:u}}o(rit,"pow_2_252_3");function Tq(t,e){let r=et(e*e*e),n=et(r*r*e),i=rit(t*n).pow_p_5_8,s=et(t*r*i),a=et(e*s*s),c=s,u=et(s*dE),h=a===t,y=a===et(-t),g=a===et(-t*dE);return h&&(s=c),(y||g)&&(s=u),Kp(s)&&(s=et(-s)),{isValid:h||y,value:s}}o(Tq,"uvRatio");function txe(t){return Tq(Qr,t)}o(txe,"invertSqrt");function hR(t){return et(yE(t),pi.l)}o(hR,"modlLE");function nit(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(nit,"equalBytes");function Gp(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Aq(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}o(Gp,"ensureBytes");function pR(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(ts<t)return t}else if(ts<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}o(pR,"normalizeScalar");function iit(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}o(iit,"adjustBytes25519");function ixe(t){if(t=typeof t=="bigint"||typeof t=="number"?nxe(pR(t,rxe)):Gp(t),t.length!==32)throw new Error("Expected 32 bytes");return t}o(ixe,"checkPrivateKey");function oxe(t){let e=iit(t.slice(0,32)),r=t.slice(32,64),n=hR(e),i=fo.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}o(oxe,"getKeyFromHash");var hE;function mR(...t){if(typeof hE!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return hE(...t)}o(mR,"sha512s");async function sxe(t){return oxe(await Gh.sha512(ixe(t)))}o(sxe,"getExtendedPublicKey");function Iq(t){return oxe(mR(ixe(t)))}o(Iq,"getExtendedPublicKeySync");function oit(t){return Iq(t).pointBytes}o(oit,"getPublicKeySync");function sit(t,e){t=Gp(t);let{prefix:r,scalar:n,pointBytes:i}=Iq(e),s=hR(mR(r,t)),a=fo.BASE.multiply(s),c=hR(mR(a.toRawBytes(),i,t)),u=et(s+c*n,pi.l);return new pE(a,u).toRawBytes()}o(sit,"signSync");function ait(t,e,r){e=Gp(e),r instanceof fo||(r=fo.fromHex(r,!1));let{r:n,s:i}=t instanceof pE?t.assertValidity():pE.fromHex(t),s=ko.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}o(ait,"prepareVerification");function cit(t,e,r,n){let i=hR(n),s=ko.fromAffine(t).multiplyUnsafe(i);return ko.fromAffine(e).add(s).subtract(r).multiplyUnsafe(pi.h).equals(ko.ZERO)}o(cit,"finishVerification");function fit(t,e,r){let{r:n,SB:i,msg:s,pub:a}=ait(t,e,r),c=mR(n.toRawBytes(),a.toRawBytes(),s);return cit(a,n,i,c)}o(fit,"verifySync");var yR={getExtendedPublicKey:Iq,getPublicKey:oit,sign:sit,verify:fit};fo.BASE._setWindowSize(8);var zp={node:Gnt,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Gh={bytesToHex:gE,hexToBytes:Aq,concatBytes:exe,getExtendedPublicKey:sxe,mod:et,invert:gR,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:o(t=>{if(t=Gp(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return et(yE(t),pi.l-Qr)+Qr},"hashToPrivateScalar"),randomBytes:o((t=32)=>{if(zp.web)return zp.web.getRandomValues(new Uint8Array(t));if(zp.node){let{randomBytes:e}=zp.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Gh.randomBytes(32),"randomPrivateKey"),sha512:o(async(...t)=>{let e=exe(...t);if(zp.web){let r=await zp.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(zp.node)return Uint8Array.from(zp.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},"sha512"),precompute(t=8,e=fo.BASE){let r=e.equals(fo.BASE)?e:new fo(e.x,e.y);return r._setWindowSize(t),r.multiply($p),r},sha512Sync:void 0};Object.defineProperties(Gh,{sha512Sync:{configurable:!1,get(){return hE},set(t){hE||(hE=t)}}});p();m();p();m();p();m();function Rq(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(Rq,"number");function uit(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}o(uit,"bool");function axe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(axe,"bytes");function lit(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rq(t.outputLen),Rq(t.blockLen)}o(lit,"hash");function dit(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(dit,"exists");function hit(t,e){axe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(hit,"output");var pit={number:Rq,bool:uit,bytes:axe,hash:lit,exists:dit,output:hit},Vn=pit;p();m();p();m();var bE={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var mv=o(t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),"u32"),gv=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),ol=o((t,e)=>t<<32-e|t>>>e,"rotr"),mit=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mit)throw new Error("Non little-endian hardware is not supported");var git=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yit(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=git[t[r]];return e}o(yit,"bytesToHex");function bit(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(bit,"hexToBytes");var xit=o(async()=>{},"nextTick");async function bR(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await xit(),n+=s)}}o(bR,"asyncLoop");function vit(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}o(vit,"utf8ToBytes");function sl(t){if(typeof t=="string"&&(t=vit(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}o(sl,"toBytes");var Wp=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},_it=o(t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object,"isPlainObject");function xR(t,e){if(e!==void 0&&(typeof e!="object"||!_it(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}o(xR,"checkOpts");function Sd(t){let e=o(n=>t().update(sl(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(Sd,"wrapConstructor");function cxe(t){let e=o((n,i)=>t(i).update(sl(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(cxe,"wrapConstructorWithOpts");function Oq(t=32){if(bE.web)return bE.web.getRandomValues(new Uint8Array(t));if(bE.node)return new Uint8Array(bE.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}o(Oq,"randomBytes");function wit(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(wit,"setBigUint64");var yv=class extends Wp{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gv(this.buffer)}update(e){Vn.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=sl(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=gv(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vn.exists(this),Vn.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;wit(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=gv(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();var vR=BigInt(4294967295),Mq=BigInt(32);function fxe(t,e=!1){return e?{h:Number(t&vR),l:Number(t>>Mq&vR)}:{h:Number(t>>Mq&vR)|0,l:Number(t&vR)|0}}o(fxe,"fromBig");function Sit(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=fxe(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(Sit,"split");var Eit=o((t,e)=>BigInt(t>>>0)<<Mq|BigInt(e>>>0),"toBig"),Ait=o((t,e,r)=>t>>>r,"shrSH"),Tit=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),Iit=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),Rit=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),Oit=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),Mit=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),Nit=o((t,e)=>e,"rotr32H"),Cit=o((t,e)=>t,"rotr32L"),kit=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),Bit=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),Pit=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),Lit=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function Dit(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Dit,"add");var Uit=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),Fit=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),Hit=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),qit=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),Vit=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),jit=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H"),zit={fromBig:fxe,split:Sit,toBig:Eit,shrSH:Ait,shrSL:Tit,rotrSH:Iit,rotrSL:Rit,rotrBH:Oit,rotrBL:Mit,rotr32H:Nit,rotr32L:Cit,rotlSH:kit,rotlSL:Bit,rotlBH:Pit,rotlBL:Lit,add:Dit,add3L:Uit,add3H:Fit,add4L:Hit,add4H:qit,add5H:jit,add5L:Vit},er=zit;var[Kit,$it]=er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Yp=new Uint32Array(80),Xp=new Uint32Array(80),bv=class extends yv{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)Yp[N]=e.getUint32(r),Xp[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=Yp[N-15]|0,H=Xp[N-15]|0,F=er.rotrSH(P,H,1)^er.rotrSH(P,H,8)^er.shrSH(P,H,7),Z=er.rotrSL(P,H,1)^er.rotrSL(P,H,8)^er.shrSL(P,H,7),W=Yp[N-2]|0,X=Xp[N-2]|0,E=er.rotrSH(W,X,19)^er.rotrBH(W,X,61)^er.shrSH(W,X,6),f=er.rotrSL(W,X,19)^er.rotrBL(W,X,61)^er.shrSL(W,X,6),d=er.add4L(Z,f,Xp[N-7],Xp[N-16]),b=er.add4H(d,F,E,Yp[N-7],Yp[N-16]);Yp[N]=b|0,Xp[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=er.rotrSH(g,S,14)^er.rotrSH(g,S,18)^er.rotrBH(g,S,41),H=er.rotrSL(g,S,14)^er.rotrSL(g,S,18)^er.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=er.add5L(B,H,Z,$it[N],Xp[N]),X=er.add5H(W,C,P,F,Kit[N],Yp[N]),E=W|0,f=er.rotrSH(n,i,28)^er.rotrBH(n,i,34)^er.rotrBH(n,i,39),d=er.rotrSL(n,i,28)^er.rotrBL(n,i,34)^er.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=er.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=er.add3L(E,d,x);n=er.add3H(_,X,f,b),i=_|0}({h:n,l:i}=er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=er.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=er.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=er.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=er.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=er.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=er.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=er.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){Yp.fill(0),Xp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Nq=class extends bv{static{o(this,"SHA512_224")}constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Cq=class extends bv{static{o(this,"SHA512_256")}constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},kq=class extends bv{static{o(this,"SHA384")}constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Ed=Sd(()=>new bv),Ppr=Sd(()=>new Nq),Lpr=Sd(()=>new Cq),Dpr=Sd(()=>new kq);p();m();var Git=$e(Vx(),1);var gn=BigInt(0),Ai=BigInt(1),Jp=BigInt(2),_E=BigInt(3),uxe=BigInt(8),Ti=Object.freeze({a:gn,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ai,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),lxe=o((t,e)=>(t+e/Jp)/e,"divNearest"),_R={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Ti,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ai*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=lxe(s*t,e),u=lxe(-n*t,e),h=Rt(t-c*r-u*i,e),y=Rt(-c*n-u*s,e),g=h>a,S=y>a;if(g&&(h=e-h),S&&(y=e-y),h>a||y>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:S,k2:y}}},xv=32,SE=32;var dxe=xv+1,hxe=2*xv+1;function pxe(t){let{a:e,b:r}=Ti,n=Rt(t*t),i=Rt(n*t);return Rt(i+e*t+r)}o(pxe,"weierstrass");var wR=Ti.a===gn,TR=class extends Error{static{o(this,"ShaError")}constructor(e){super(e)}};function mxe(t){if(!(t instanceof Fa))throw new TypeError("JacobianPoint expected")}o(mxe,"assertJacPoint");var Fa=class t{static{o(this,"JacobianPoint")}constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof uo))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(uo.ZERO)?t.ZERO:new t(e.x,e.y,Ai)}static toAffineBatch(e){let r=Jit(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){mxe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e,u=Rt(i*i),h=Rt(c*c),y=Rt(r*h),g=Rt(s*u),S=Rt(Rt(n*c)*h),T=Rt(Rt(a*i)*u);return y===g&&S===T}negate(){return new t(this.x,Rt(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=Rt(e*e),s=Rt(r*r),a=Rt(s*s),c=e+s,u=Rt(Jp*(Rt(c*c)-i-a)),h=Rt(_E*i),y=Rt(h*h),g=Rt(y-Jp*u),S=Rt(h*(u-g)-uxe*a),T=Rt(Jp*r*n);return new t(g,S,T)}add(e){mxe(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:c}=e;if(s===gn||a===gn)return this;if(r===gn||n===gn)return e;let u=Rt(i*i),h=Rt(c*c),y=Rt(r*h),g=Rt(s*u),S=Rt(Rt(n*c)*h),T=Rt(Rt(a*i)*u),O=Rt(g-y),M=Rt(T-S);if(O===gn)return M===gn?this.double():t.ZERO;let k=Rt(O*O),C=Rt(O*k),B=Rt(y*k),N=Rt(M*M-C-Jp*B),P=Rt(M*(B-N)-S*C),H=Rt(i*c*O);return new t(N,P,H)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===gn)return r;let n=bxe(e);if(n===Ai)return this;if(!wR){let g=r,S=this;for(;n>gn;)n&Ai&&(g=g.add(S)),S=S.double(),n>>=Ai;return g}let{k1neg:i,k1:s,k2neg:a,k2:c}=_R.splitScalar(n),u=r,h=r,y=this;for(;s>gn||c>gn;)s&Ai&&(u=u.add(y)),c&Ai&&(h=h.add(y)),y=y.double(),s>>=Ai,c>>=Ai;return i&&(u=u.negate()),a&&(h=h.negate()),h=new t(Rt(h.x*_R.beta),h.y,h.z),u.add(h)}precomputeWindow(e){let r=wR?128/e+1:256/e+1,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=uo.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Pq.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),Pq.set(r,i)));let s=t.ZERO,a=t.BASE,c=1+(wR?128/n:256/n),u=2**(n-1),h=BigInt(2**n-1),y=2**n,g=BigInt(n);for(let S=0;S<c;S++){let T=S*u,O=Number(e&h);e>>=g,O>u&&(O-=y,e+=Ai);let M=T,k=T+Math.abs(O)-1,C=S%2!==0,B=O<0;O===0?a=a.add(SR(C,i[M])):s=s.add(SR(B,i[k]))}return{p:s,f:a}}multiply(e,r){let n=bxe(e),i,s;if(wR){let{k1neg:a,k1:c,k2neg:u,k2:h}=_R.splitScalar(n),{p:y,f:g}=this.wNAF(c,r),{p:S,f:T}=this.wNAF(h,r);y=SR(a,y),S=SR(u,S),S=new t(Rt(S.x*_R.beta),S.y,S.z),i=y.add(S),s=g.add(T)}else{let{p:a,f:c}=this.wNAF(n,r);i=a,s=c}return t.normalizeZ([i,s])[0]}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?uxe:MR(i));let a=e,c=Rt(a*a),u=Rt(c*a),h=Rt(r*c),y=Rt(n*u),g=Rt(i*a);if(s)return uo.ZERO;if(g!==Ai)throw new Error("invZ was invalid");return new uo(h,y)}};Fa.BASE=new Fa(Ti.Gx,Ti.Gy,Ai);Fa.ZERO=new Fa(gn,Ai,gn);function SR(t,e){let r=e.negate();return t?r:e}o(SR,"constTimeNegate");var Pq=new WeakMap,uo=class t{static{o(this,"Point")}constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Pq.delete(this)}hasEvenY(){return this.y%Jp===gn}static fromCompressedHex(e){let r=e.length===32,n=ru(r?e:e.subarray(1));if(!AR(n))throw new Error("Point is not on curve");let i=pxe(n),s=Zit(i),a=(s&Ai)===Ai;r?a&&(s=Rt(-s)):(e[0]&1)===1!==a&&(s=Rt(-s));let c=new t(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){let r=ru(e.subarray(1,xv+1)),n=ru(e.subarray(xv+1,xv*2+1)),i=new t(r,n);return i.assertValidity(),i}static fromHex(e){let r=Wy(e),n=r.length,i=r[0];if(n===xv)return this.fromCompressedHex(r);if(n===dxe&&(i===2||i===3))return this.fromCompressedHex(r);if(n===hxe&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${dxe} compressed bytes or ${hxe} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(TE(e))}static fromSignature(e,r,n){let{r:i,s}=rot(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let a=eot(Wy(e)),{n:c}=Ti,u=n===2||n===3?i+c:i,h=MR(u,c),y=Rt(-a*h,c),g=Rt(s*h,c),S=n&1?"03":"02",T=t.fromHex(S+Qp(u)),O=t.BASE.multiplyAndAddUnsafe(T,y,g);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(e=!1){return em(this.toHex(e))}toHex(e=!1){let r=Qp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Qp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!AR(r)||!AR(n))throw new Error(e);let i=Rt(n*n),s=pxe(r);if(Rt(i-s)!==gn)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,Rt(-this.y))}double(){return Fa.fromAffine(this).double().toAffine()}add(e){return Fa.fromAffine(this).add(Fa.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Fa.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Fa.fromAffine(this),s=r===gn||r===Ai||this!==t.BASE?i.multiplyUnsafe(r):i.multiply(r),a=Fa.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(Fa.ZERO)?void 0:c.toAffine()}};uo.BASE=new uo(Ti.Gx,Ti.Gy);uo.ZERO=new uo(gn,gn);function gxe(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}o(gxe,"sliceDER");function yxe(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${_v(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ru(r),left:t.subarray(e+2)}}o(yxe,"parseDERInt");function Wit(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${_v(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=yxe(t.subarray(2)),{data:n,left:i}=yxe(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${_v(i)}`);return{r:e,s:n}}o(Wit,"parseDERSignature");var wE=class t{static{o(this,"Signature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?_v(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(IR(i.slice(0,64)),IR(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Wit(r?e:em(e));return new t(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!AE(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!AE(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Ti.n>>Ai;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,Rt(-this.s,Ti.n)):this}toDERRawBytes(){return em(this.toDERHex())}toDERHex(){let e=gxe(vE(this.s)),r=gxe(vE(this.r)),n=e.length/2,i=r.length/2,s=vE(n),a=vE(i);return`30${vE(i+n+4)}02${a}${r}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return em(this.toCompactHex())}toCompactHex(){return Qp(this.r)+Qp(this.s)}};function xE(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(xE,"concatBytes");var Yit=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _v(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Yit[t[r]];return e}o(_v,"bytesToHex");var Xit=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Qp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(gn<=t&&t<Xit))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}o(Qp,"numTo32bStr");function EE(t){let e=em(Qp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}o(EE,"numTo32b");function vE(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(vE,"numberToHexUnpadded");function IR(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}o(IR,"hexToNumber");function em(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}o(em,"hexToBytes");function ru(t){return IR(_v(t))}o(ru,"bytesToNumber");function Wy(t){return t instanceof Uint8Array?Uint8Array.from(t):em(t)}o(Wy,"ensureBytes");function bxe(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&AE(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}o(bxe,"normalizeScalar");function Rt(t,e=Ti.P){let r=t%e;return r>=gn?r:e+r}o(Rt,"mod");function tu(t,e){let{P:r}=Ti,n=t;for(;e-- >gn;)n*=n,n%=r;return n}o(tu,"pow2");function Zit(t){let{P:e}=Ti,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,y=tu(h,_E)*h%e,g=tu(y,_E)*h%e,S=tu(g,Jp)*u%e,T=tu(S,n)*S%e,O=tu(T,i)*T%e,M=tu(O,a)*O%e,k=tu(M,c)*M%e,C=tu(k,a)*O%e,B=tu(C,_E)*h%e,N=tu(B,s)*T%e,P=tu(N,r)*u%e,H=tu(P,Jp);if(H*H%e!==t)throw new Error("Cannot find square root");return H}o(Zit,"sqrtMod");function MR(t,e=Ti.P){if(t===gn||e<=gn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Rt(t,e),n=e,i=gn,s=Ai,a=Ai,c=gn;for(;r!==gn;){let h=n/r,y=n%r,g=i-a*h,S=s-c*h;n=r,r=y,i=a,s=c,a=g,c=S}if(n!==Ai)throw new Error("invert: does not exist");return Rt(i,e)}o(MR,"invert");function Jit(t,e=Ti.P){let r=new Array(t.length),n=t.reduce((s,a,c)=>a===gn?s:(r[c]=s,Rt(s*a,e)),Ai),i=MR(n,e);return t.reduceRight((s,a,c)=>a===gn?s:(r[c]=Rt(s*r[c],e),Rt(s*a,e)),i),r}o(Jit,"invertBatch");function Qit(t){let e=t.length*8-SE*8,r=ru(t);return e>0?r>>BigInt(e):r}o(Qit,"bits2int_2");function eot(t,e=!1){let r=Qit(t);if(e)return r;let{n}=Ti;return r>=n?r-n:r}o(eot,"truncateHash");var vv,Bq;function AE(t){return gn<t&&t<Ti.n}o(AE,"isWithinCurveOrder");function AR(t){return gn<t&&t<Ti.P}o(AR,"isValidFieldElement");function TE(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*SE)throw new Error("Expected 32 bytes of private key");e=IR(t)}else if(t instanceof Uint8Array){if(t.length!==SE)throw new Error("Expected 32 bytes of private key");e=ru(t)}else throw new TypeError("Expected valid private key");if(!AE(e))throw new Error("Expected private key: 0 < key < n");return e}o(TE,"normalizePrivateKey");function tot(t){return t instanceof uo?(t.assertValidity(),t):uo.fromHex(t)}o(tot,"normalizePublicKey");function rot(t){if(t instanceof wE)return t.assertValidity(),t;try{return wE.fromDER(t)}catch{return wE.fromCompact(t)}}o(rot,"normalizeSignature");function Sv(t,e=!1){return uo.fromPrivateKey(t).toRawBytes(e)}o(Sv,"getPublicKey");function RR(t){return Rt(ru(t),Ti.n)}o(RR,"schnorrChallengeFinalize");var wv=class t{static{o(this,"SchnorrSignature")}constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Wy(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=ru(r.subarray(0,32)),i=ru(r.subarray(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!AR(e)||!AE(r))throw new Error("Invalid signature")}toHex(){return Qp(this.r)+Qp(this.s)}toRawBytes(){return em(this.toHex())}};function not(t){return uo.fromPrivateKey(t).toRawX()}o(not,"schnorrGetPublicKey");var OR=class{static{o(this,"InternalSchnorrSignature")}constructor(e,r,n=Ad.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Wy(e);let{x:i,scalar:s}=this.getScalar(TE(r));if(this.px=i,this.d=s,this.rand=Wy(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=uo.fromPrivateKey(e),n=r.hasEvenY()?e:Ti.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return EE(e^ru(r))}finalizeNonce(e){let r=Rt(ru(e),Ti.n);if(r===gn)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:i,scalar:s}=this.getScalar(r);return{R:n,rx:i,k:s}}finalizeSig(e,r,n,i){return new wv(e.x,Rt(r+n*i,Ti.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,s=Ad.taggedHash,a=this.initNonce(r,await s(Zp.aux,i)),{R:c,rx:u,k:h}=this.finalizeNonce(await s(Zp.nonce,a,n,e)),y=RR(await s(Zp.challenge,u,n,e)),g=this.finalizeSig(c,h,y,r);return await _xe(g,e,n)||this.error(),g}calcSync(){let{m:e,d:r,px:n,rand:i}=this,s=Ad.taggedHashSync,a=this.initNonce(r,s(Zp.aux,i)),{R:c,rx:u,k:h}=this.finalizeNonce(s(Zp.nonce,a,n,e)),y=RR(s(Zp.challenge,u,n,e)),g=this.finalizeSig(c,h,y,r);return wxe(g,e,n)||this.error(),g}};async function iot(t,e,r){return new OR(t,e,r).calc()}o(iot,"schnorrSign");function oot(t,e,r){return new OR(t,e,r).calcSync()}o(oot,"schnorrSignSync");function xxe(t,e,r){let n=t instanceof wv,i=n?t:wv.fromHex(t);return n&&i.assertValidity(),{...i,m:Wy(e),P:tot(r)}}o(xxe,"initSchnorrVerify");function vxe(t,e,r,n){let i=uo.BASE.multiplyAndAddUnsafe(e,TE(r),Rt(-n,Ti.n));return!(!i||!i.hasEvenY()||i.x!==t)}o(vxe,"finalizeSchnorrVerify");async function _xe(t,e,r){try{let{r:n,s:i,m:s,P:a}=xxe(t,e,r),c=RR(await Ad.taggedHash(Zp.challenge,EE(n),a.toRawX(),s));return vxe(n,a,i,c)}catch{return!1}}o(_xe,"schnorrVerify");function wxe(t,e,r){try{let{r:n,s:i,m:s,P:a}=xxe(t,e,r),c=RR(Ad.taggedHashSync(Zp.challenge,EE(n),a.toRawX(),s));return vxe(n,a,i,c)}catch(n){if(n instanceof TR)throw n;return!1}}o(wxe,"schnorrVerifySync");var Vpr={Signature:wv,getPublicKey:not,sign:iot,verify:_xe,signSync:oot,verifySync:wxe};uo.BASE._setWindowSize(8);var af={node:Git,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Zp={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},ER={},Ad={bytesToHex:_v,hexToBytes:em,concatBytes:xE,mod:Rt,invert:MR,isValidPrivateKey(t){try{return TE(t),!0}catch{return!1}},_bigintTo32Bytes:EE,_normalizePrivateKey:TE,hashToPrivateKey:o(t=>{t=Wy(t);let e=SE+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=Rt(ru(t),Ti.n-Ai)+Ai;return EE(r)},"hashToPrivateKey"),randomBytes:o((t=32)=>{if(af.web)return af.web.getRandomValues(new Uint8Array(t));if(af.node){let{randomBytes:e}=af.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},"randomBytes"),randomPrivateKey:o(()=>Ad.hashToPrivateKey(Ad.randomBytes(SE+8)),"randomPrivateKey"),precompute(t=8,e=uo.BASE){let r=e===uo.BASE?e:new uo(e.x,e.y);return r._setWindowSize(t),r.multiply(_E),r},sha256:o(async(...t)=>{if(af.web){let e=await af.web.subtle.digest("SHA-256",xE(...t));return new Uint8Array(e)}else if(af.node){let{createHash:e}=af.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},"sha256"),hmacSha256:o(async(t,...e)=>{if(af.web){let r=await af.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=xE(...e),i=await af.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(af.node){let{createHmac:r}=af.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},"hmacSha256"),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:o(async(t,...e)=>{let r=ER[t];if(r===void 0){let n=await Ad.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=xE(n,n),ER[t]=r}return Ad.sha256(r,...e)},"taggedHash"),taggedHashSync:o((t,...e)=>{if(typeof vv!="function")throw new TR("sha256Sync is undefined, you need to set it");let r=ER[t];if(r===void 0){let n=vv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=xE(n,n),ER[t]=r}return vv(r,...e)},"taggedHashSync"),_JacobianPoint:Fa};Object.defineProperties(Ad,{sha256Sync:{configurable:!1,get(){return vv},set(t){vv||(vv=t)}},hmacSha256Sync:{configurable:!1,get(){return Bq},set(t){Bq||(Bq=t)}}});p();m();var sot=new Error("Unsupported path."),Ss=o((t,e=sot)=>{throw e},"assertNever");p();m();var Sxe=new RegExp("^[0-9]+'?$"),IE=2147483648;p();m();p();m();var NR=class extends Wp{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Vn.hash(e);let n=sl(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Vn.exists(this),this.iHash.update(e),this}digestInto(e){Vn.exists(this),Vn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Wh=o((t,e,r)=>new NR(t,e).update(r).digest(),"hmac");Wh.create=(t,e)=>new NR(t,e);var cmr=new RegExp("^m(\\/[0-9]+')+$");var aot="ed25519 seed",Exe=o(t=>{let e=Buffer.from(Wh(Ed,Buffer.from(aot),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Axe=o(({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=Buffer.concat([Buffer.alloc(1,0),t,n]),s=Buffer.from(Wh(Ed,e,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64);return{key:Buffer.from(a,"hex"),chainCode:Buffer.from(c,"hex")}},"CKDPriv");p();m();var Yh=$e(li());var Ev=$e(us());var cot=Yh.Buffer.from("Bitcoin seed"),Txe=En.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ixe=o(t=>{let e=Yh.Buffer.from(Wh(Ed,Yh.Buffer.from(cot),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Yh.Buffer.from(r,"hex"),chainCode:Yh.Buffer.from(n,"hex")}},"getMasterKeyFromSeed"),Rxe=o((t,e)=>{let{key:r,chainCode:n}=t,i=new Uint8Array(37);if(e&IE)i.set(r,1);else{let g=Sv(r,!0);i.set((0,Ev.arrayify)(g))}for(let g=24;g>=0;g-=8)i[33+(g>>3)]=e>>24-g&255;let s=Yh.Buffer.from(Wh(Ed,n,i)).toString("hex"),a=s.slice(0,64),c=s.slice(64),u=En.from(`0x${a}`);if(u.gte(Txe))throw new Error("Invalid private key");let h=u.add(`0x${r.toString("hex")}`).mod(Txe);if(h.eq(En.from(0)))throw new Error("Invalid private key");let y=(0,Ev.hexZeroPad)((0,Ev.hexlify)(h),32);return{key:Yh.Buffer.from(y.replace("0x",""),"hex"),chainCode:Yh.Buffer.from(c,"hex")}},"CKDPriv");p();m();var Lq=be.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!Sxe.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."}),Se;(function(t){t.BitcoinTaproot="bitcoinTaproot",t.BitcoinNativeSegwit="bitcoinNativeSegwit",t.BitcoinNestedSegwit="bitcoinNestedSegwit",t.BitcoinLegacy="bitcoinLegacy",t.Bip44RootSolana="bip44Root",t.Bip44Solana="bip44",t.Bip44ChangeSolana="bip44Change",t.DeprecatedSolana="deprecated",t.Bip44RootEthereum="bip44RootEthereum",t.Bip44Ethereum="bip44Ethereum",t.Bip44EthereumSecondary="bip44EthereumSecondary",t.Bip44EthereumTertiary="bip44EthereumTertiary",t.Bip44Sui="bip44Sui"})(Se||(Se={}));var fot=be.union([be.literal(Se.BitcoinTaproot),be.literal(Se.BitcoinNativeSegwit),be.literal(Se.BitcoinNestedSegwit),be.literal(Se.BitcoinLegacy)]),uot=be.union([be.literal(Se.Bip44RootEthereum),be.literal(Se.Bip44Ethereum),be.literal(Se.Bip44EthereumSecondary),be.literal(Se.Bip44EthereumTertiary)]),lot=be.union([be.literal(Se.Bip44RootSolana),be.literal(Se.Bip44Solana),be.literal(Se.Bip44ChangeSolana),be.literal(Se.DeprecatedSolana)]),dot=be.literal(Se.Bip44Sui);p();m();var hot=be.union([be.literal(Se.Bip44ChangeSolana),be.literal(Se.Bip44Solana),be.literal(Se.DeprecatedSolana)]),pot=be.union([be.literal(Se.Bip44Ethereum),be.literal(Se.Bip44EthereumSecondary),be.literal(Se.Bip44EthereumTertiary)]),mot=be.union([be.literal(Se.BitcoinTaproot),be.literal(Se.BitcoinNativeSegwit),be.literal(Se.BitcoinNestedSegwit),be.literal(Se.BitcoinLegacy)]),got=be.literal(Se.Bip44Sui),CR=be.number().int().min(0),yot=be.object({pathType:be.literal(Se.Bip44RootSolana),index:be.number().optional()}),bot=be.object({pathType:hot,index:CR}),xot=be.object({pathType:be.literal(Se.Bip44RootEthereum),index:be.number().optional()}),vot=be.object({pathType:pot,index:CR}),_ot=be.object({pathType:mot,index:CR}),wot=be.object({pathType:got,index:CR}),Mxe=be.union([yot,bot,xot,vot,_ot,wot]),RE=new Error("Invalid derivation path."),Nxe=new Error("Unsupported derivation path."),Sot=o(t=>{if(!Mxe.safeParse(t).success)throw RE;switch(t.pathType){case Se.BitcoinTaproot:return`m/86'/0'/0'/0/${t.index}`;case Se.BitcoinNativeSegwit:return`m/84'/0'/0'/0/${t.index}`;case Se.BitcoinNestedSegwit:return`m/46'/0'/0'/0/${t.index}`;case Se.BitcoinLegacy:return`m/44'/0'/0'/0/${t.index}`;case Se.Bip44RootEthereum:return"m/44'/60'";case Se.Bip44Ethereum:return`m/44'/60'/0'/0/${t.index}`;case Se.Bip44EthereumSecondary:return`m/44'/60'/1'/0/${t.index}`;case Se.Bip44EthereumTertiary:return`m/44'/60'/2'/0/${t.index}`;case Se.Bip44RootSolana:return"m/44'/501'";case Se.DeprecatedSolana:return`m/501'/${t.index}'/0/0`;case Se.Bip44Solana:return`m/44'/501'/${t.index}'`;case Se.Bip44ChangeSolana:return`m/44'/501'/${t.index}'/0'`;case Se.Bip44Sui:return`m/44'/784'/${t.index}'/0'/0'`}},"getDerivationPath"),Oxe=1<<31>>>0,Eot=o(t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw RE;let r=parseInt(e[0],16),n="m";for(let i=0;i<r;i++){let s="";for(let u=0;u<4;u++)s+=e[1+i*4+u];let a=parseInt(s,16),c=a>=Oxe;c&&(a-=Oxe),n+=`/${a.toString(10)}${c?"'":""}`}return n}catch{throw RE}},"parseHexEncodedPayload"),Aot=o(t=>{let e,r=Lq.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=Eot(t)}catch{throw RE}if(e==="m/44'/501'")return{pathType:Se.Bip44RootSolana};if(e==="m/44'/60'")return{pathType:Se.Bip44RootEthereum};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinTaproot,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinNativeSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinNestedSegwit,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.BitcoinLegacy,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:Se.Bip44Ethereum,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:Se.Bip44EthereumSecondary,index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:Se.Bip44EthereumTertiary,index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:Se.Bip44ChangeSolana,index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:Se.Bip44Solana,index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:Se.DeprecatedSolana,index:parseInt(n[1],10)}}catch{}throw Nxe},"parseDerivationPath");p();m();var Bmr=new Error("Unsupported path."),Tot=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:return!0;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:case Se.Bip44Sui:return!1}},"isBitcoinDerivationPathType"),Iot=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:return!1;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:return!0;case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:case Se.Bip44Sui:return!1}},"isEVMDerivationPathType"),Rot=o(t=>{switch(t){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44Sui:return!1;case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.DeprecatedSolana:return!0}},"isSolanaDerivationPathType");Gh.sha512Sync=(...t)=>Ed(Gh.concatBytes(...t));var{getPublicKey:Oot}=yR,Td=class{static{o(this,"CachedHDWallet")}#t;#e;constructor(e){this.#t={ellipticCurve:"ed25519",value:Exe(e),nodes:{}},this.#e={ellipticCurve:"secp256k1",value:Ixe(e),nodes:{}}}derivePathType(e,r){switch(e){case Se.BitcoinTaproot:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinNativeSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinNestedSegwit:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.BitcoinLegacy:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case Se.Bip44Ethereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case Se.Bip44EthereumSecondary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case Se.Bip44EthereumTertiary:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case Se.Bip44RootEthereum:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case Se.Bip44ChangeSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case Se.Bip44Solana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case Se.DeprecatedSolana:return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case Se.Bip44RootSolana:return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case Se.Bip44Sui:return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):Ss(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:i}=e,s=n.split("/"),a=this.#t;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let g={ellipticCurve:r,value:Axe(a.value,parseInt(h,10)+IE),nodes:{}};y=g,a.nodes[h]=g}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=Oot(a.value.key),u;switch(i){case 32:return u=new Uint8Array(32),u.set(a.value.key),{publicKey:c,secretKey:u};case 64:return u=new Uint8Array(64),u.set(a.value.key),u.set(c,32),{publicKey:c,secretKey:u}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:i=!1}=e,s=n.split("/"),a=this.#e;for(let h of s){if(h==="m")continue;if(!a)throw new Error("Cannot derive path, no current node.");let y=a.nodes?.[h]??null;if(!y){let g=0;h.endsWith("'")&&(g=IE);let S={ellipticCurve:r,value:Rxe(a.value,parseInt(h,10)+g),nodes:{}};y=S,a.nodes[h]=S}a=y}if(!a)throw new Error(`Unable to derive ${n} on curve ${r}.`);let c=a.value.key;return{publicKey:Sv(c,i),secretKey:new Uint8Array(c)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#t),this.cleanUpTree(this.#e),this.#t=null,this.#e=null}};var kR=class{static{o(this,"BitcoinLegacyAddressType")}type=Ye.BitcoinLegacy;displayName="Legacy";defaultDerivationPathType=Se.BitcoinLegacy;otherDerivationPathType=[]};p();m();var BR=class{static{o(this,"BitcoinNativeSegwitAddressType")}type=Ye.BitcoinNativeSegwit;displayName="Native Segwit";defaultDerivationPathType=Se.BitcoinNativeSegwit;otherDerivationPathType=[]};p();m();var PR=class{static{o(this,"BitcoinNestedSegwitAddressType")}type=Ye.BitcoinNestedSegwit;displayName="Nested Segwit";defaultDerivationPathType=Se.BitcoinNestedSegwit;otherDerivationPathType=[]};p();m();var LR=class{static{o(this,"BitcoinTaprootAddressType")}type=Ye.BitcoinTaproot;displayName="Taproot";defaultDerivationPathType=Se.BitcoinTaproot;otherDerivationPathType=[]};p();m();var DR=class{static{o(this,"EVMAddressType")}type=Ye.EVM;displayName="Ethereum";defaultDerivationPathType=Se.Bip44Ethereum;otherDerivationPathType=[Se.Bip44RootEthereum,Se.Bip44EthereumSecondary,Se.Bip44EthereumTertiary]};p();m();var UR=class{static{o(this,"SolanaAddressType")}type=Ye.Solana;displayName="Solana";defaultDerivationPathType=Se.Bip44ChangeSolana;otherDerivationPathType=[Se.Bip44RootSolana,Se.Bip44Solana,Se.DeprecatedSolana]};p();m();var FR=class{static{o(this,"SuiAddressType")}type=Ye.Sui;displayName="Sui";defaultDerivationPathType=Se.Bip44Sui;otherDerivationPathType=[]};var Dq=class{static{o(this,"AddressTypesClass")}[Ye.BitcoinTaproot]=new LR;[Ye.BitcoinNativeSegwit]=new BR;[Ye.BitcoinNestedSegwit]=new PR;[Ye.BitcoinLegacy]=new kR;[Ye.EVM]=new DR;[Ye.Solana]=new UR;[Ye.Sui]=new FR;allAddressTypes=Object.values(Ye);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},Yy=new Dq;p();m();function Cxe(t){return Buffer.from(t).toString("base64")}o(Cxe,"toBase64");p();m();p();m();p();m();p();m();var kxe="Do not return the plaintext from .fold(), convert it to something else inside the callback first.",nu=class t{static{o(this,"ObfuscatedBytes")}#t;#e;constructor(e){let r=e.length,n=Oq(r),i=Bxe(e,n);this.#e=n,this.#t=i}static from(e){return new t(e)}read=o(e=>{let r=HR(this.#t,this.#e);try{e(r)}finally{this.cleanup(r)}},"read");readAsync=o(async e=>{let r=HR(this.#t,this.#e);try{await e(r)}finally{this.cleanup(r)}},"readAsync");fold=o(e=>{let r=HR(this.#t,this.#e);try{let n=e(r);if(n===r)throw new Error(kxe);return n}finally{this.cleanup(r)}},"fold");foldAsync=o(async e=>{let r=HR(this.#t,this.#e);try{let n=await e(r);if(n===r)throw new Error(kxe);return n}finally{this.cleanup(r)}},"foldAsync");cleanup=o(e=>{let r=Oq(e.length),n=Bxe(e,r);this.#e=r,this.#t=n,e.fill(0)},"cleanup")},Bxe=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"encrypt"),HR=o((t,e)=>{let r=t.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n},"decrypt");p();m();var Not=o(t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),"encodeBase64URL");p();m();p();m();var Uq=/^[A-Za-z0-9-_]*$/;var Fq=o(t=>{if(!t.match(Uq))throw new Error("Invalid base64URL string");return Buffer.from(t.replace(/-/g,"+").replace(/_/g,"/"),"base64")},"decodeBase64URL");p();m();var Pxe=$e(Mu(),1);function Cot(t){let e=Fq(t);return Pxe.default.encode(e)}o(Cot,"base64URLToBase58");p();m();function kot(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}o(kot,"strip0xPrefix");p();m();p();m();p();m();var qR=class{static{o(this,"KeypairGeneratorChainPluginBitcoin")}addressTypes=[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy];generateKeypairFromPrivateKey(e){let r=e.fold(i=>Buffer.from(i));return{publicKey:Sv(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Td(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();var Dxe=$e(Na());p();m();var Lxe="properties/5.7.0";var Bot=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},VR=new Dxe.Logger(Lxe);function Ft(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}o(Ft,"defineReadOnly");function c1r(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}o(c1r,"getStatic");function Xh(t){return Bot(this,void 0,void 0,function*(){let e=Object.keys(t).map(n=>{let i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}o(Xh,"resolveProperties");function Uxe(t,e){(!t||typeof t!="object")&&VR.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||VR.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}o(Uxe,"checkProperties");function ME(t){let e={};for(let r in t)e[r]=t[r];return e}o(ME,"shallowCopy");var Pot={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Fxe(t){if(t==null||Pot[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Fxe(n))return!1}return!0}return VR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(Fxe,"_isFrozen");function Lot(t){if(Fxe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>OE(e)));if(typeof t=="object"){let e={};for(let r in t){let n=t[r];n!==void 0&&Ft(e,r,OE(n))}return e}return VR.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}o(Lot,"_deepCopy");function OE(t){return Lot(t)}o(OE,"deepCopy");var tm=class{static{o(this,"Description")}constructor(e){for(let r in e)this[r]=OE(e[r])}};var Vxe=$e(Na());p();m();var Hxe="abstract-provider/5.7.0";var Dot=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Uot=new Vxe.Logger(Hxe),qxe=class extends tm{static{o(this,"ForkEvent")}static isForkEvent(e){return!!(e&&e._isForkEvent)}};var jR=class t{static{o(this,"Provider")}constructor(){Uot.checkAbstract(new.target,t),Ft(this,"_isProvider",!0)}getFeeData(){return Dot(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield Xh({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)}),n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=En.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};p();m();var Id=$e(Na());p();m();var jxe="abstract-signer/5.7.0";var al=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},iu=new Id.Logger(jxe),Fot=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Hot=[Id.Logger.errors.INSUFFICIENT_FUNDS,Id.Logger.errors.NONCE_EXPIRED,Id.Logger.errors.REPLACEMENT_UNDERPRICED],NE=class t{static{o(this,"Signer")}constructor(){iu.checkAbstract(new.target,t),Ft(this,"_isSigner",!0)}getBalance(e){return al(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return al(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return al(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield Xh(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return al(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield Xh(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return al(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return al(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return al(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return al(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return al(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)Fot.indexOf(n)===-1&&iu.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=ME(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&iu.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return al(this,void 0,void 0,function*(){let r=yield Xh(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>al(this,void 0,void 0,function*(){if(i==null)return null;let s=yield this.resolveName(i);return s==null&&iu.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?iu.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&iu.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&iu.throwError("network does not support EIP-1559",Id.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):iu.throwError("failed to get consistent fee data",Id.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Hot.indexOf(i.code)>=0)throw i;return iu.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Id.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&iu.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Xh(r)})}_checkProvider(e){this.provider||iu.throwError("missing provider",Id.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},zxe=class t extends NE{static{o(this,"VoidSigner")}constructor(e,r){super(),Ft(this,"address",e),Ft(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{iu.throwError(e,Id.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var ul=$e(us());p();m();p();m();p();m();p();m();p();m();var qot="0x0000000000000000000000000000000000000000";p();m();var Vot=En.from(-1),Hq=En.from(0),jot=En.from(1);var zot=En.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");p();m();var Kot="0x0000000000000000000000000000000000000000000000000000000000000000";p();m();var qq=$e(us()),$xe=$e(Na());p();m();var Kxe="strings/5.7.0";var Gxe=new $xe.Logger(Kxe),cl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(cl||(cl={}));var Tc;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Tc||(Tc={}));function $ot(t,e,r,n,i){return Gxe.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}o($ot,"errorFunc");function Wxe(t,e,r,n,i){if(t===Tc.BAD_PREFIX||t===Tc.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===Tc.OVERRUN?r.length-e-1:0}o(Wxe,"ignoreFunc");function Got(t,e,r,n,i){return t===Tc.OVERLONG?(n.push(i),0):(n.push(65533),Wxe(t,e,r,n,i))}o(Got,"replaceFunc");var Yxe=Object.freeze({error:$ot,ignore:Wxe,replace:Got});function Xxe(t,e){e==null&&(e=Yxe.error),t=(0,qq.arrayify)(t);let r=[],n=0;for(;n<t.length;){let i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Tc.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Tc.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Tc.OVERRUN,n-1,t,r);continue}let c=i&(1<<8-s-1)-1;for(let u=0;u<s;u++){let h=t[n];if((h&192)!=128){n+=e(Tc.MISSING_CONTINUE,n,t,r),c=null;break}c=c<<6|h&63,n++}if(c!==null){if(c>1114111){n+=e(Tc.OUT_OF_RANGE,n-1-s,t,r,c);continue}if(c>=55296&&c<=57343){n+=e(Tc.UTF16_SURROGATE,n-1-s,t,r,c);continue}if(c<=a){n+=e(Tc.OVERLONG,n-1-s,t,r,c);continue}r.push(c)}}return r}o(Xxe,"getUtf8CodePoints");function rs(t,e=cl.current){e!=cl.current&&(Gxe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return(0,qq.arrayify)(r)}o(rs,"toUtf8Bytes");function Wot(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}o(Wot,"_toUtf8String");function Zxe(t,e){return Wot(Xxe(t,e))}o(Zxe,"toUtf8String");function Vq(t,e=cl.current){return Xxe(rs(t,e))}o(Vq,"toUtf8CodePoints");function Av(t){return Mn(rs(t))}o(Av,"id");p();m();var Tv=$e(us());var lve=$e(Na());p();m();var zR="hash/5.7.0";p();m();p();m();p();m();p();m();var jq=$e(us());function zq(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,jq.arrayify)(e)}o(zq,"decode");function Yot(t){t=(0,jq.arrayify)(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}o(Yot,"encode");p();m();function Qxe(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=o(function(s,a){n.call(s,function(c){a>0&&Array.isArray(c)?i(c,a-1):r.push(c)})},"flatDeep");return i(t,e),r}o(Qxe,"flat");function Xot(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}o(Xot,"fromEntries");function Zot(t){let e=0;function r(){return t[e++]<<8|t[e++]}o(r,"u16");let n=r(),i=1,s=[0,1];for(let H=1;H<n;H++)s.push(i+=r());let a=r(),c=e;e+=a;let u=0,h=0;function y(){return u==0&&(h=h<<8|t[e++],u=8),h>>--u&1}o(y,"read_bit");let g=31,S=Math.pow(2,g),T=S>>>1,O=T>>1,M=S-1,k=0;for(let H=0;H<g;H++)k=k<<1|y();let C=[],B=0,N=S;for(;;){let H=Math.floor(((k-B+1)*i-1)/N),F=0,Z=n;for(;Z-F>1;){let E=F+Z>>>1;H<s[E]?Z=E:F=E}if(F==0)break;C.push(F);let W=B+Math.floor(N*s[F]/i),X=B+Math.floor(N*s[F+1]/i)-1;for(;!((W^X)&T);)k=k<<1&M|y(),W=W<<1&M,X=X<<1&M|1;for(;W&~X&O;)k=k&T|k<<1&M>>>1|y(),W=W<<1^T,X=(X^T)<<1|T|1;B=W,N=1+X-W}let P=n-4;return C.map(H=>{switch(H-P){case 3:return P+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return P+256+(t[c++]<<8|t[c++]);case 1:return P+t[c++];default:return H-1}})}o(Zot,"decode_arithmetic");function Jot(t){let e=0;return()=>t[e++]}o(Jot,"read_payload");function eve(t){return Jot(Zot(t))}o(eve,"read_compressed_payload");function Qot(t){return t&1?~t>>1:t>>1}o(Qot,"signed");function est(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}o(est,"read_counts");function Jxe(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}o(Jxe,"read_ascending");function tst(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Qot(e());return r}o(tst,"read_deltas");function CE(t,e){let r=Jxe(t(),t),n=t(),i=Jxe(n,t),s=est(n,t);for(let a=0;a<n;a++)for(let c=0;c<s[a];c++)r.push(i[a]+c);return e?r.map(a=>e[a]):r}o(CE,"read_member_array");function tve(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(nst(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(ist(r,t))}return Xot(Qxe(e))}o(tve,"read_mapped_map");function rst(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}o(rst,"read_zero_terminated_array");function rve(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)tst(t,r).forEach((s,a)=>n[a].push(s));return n}o(rve,"read_transposed");function nst(t,e){let r=1+e(),n=e(),i=rst(e),s=rve(i.length,1+t,e);return Qxe(s.map((a,c)=>{let u=a[0],h=a.slice(1);return Array(i[c]).fill(void 0).map((y,g)=>{let S=g*n;return[u+g*r,h.map(T=>T+S)]})}))}o(nst,"read_linear_table");function ist(t,e){let r=1+e();return rve(r,1+t,e).map(i=>[i[0],i.slice(1)])}o(ist,"read_replacement_table");function nve(t){let e=CE(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let h=CE(t,e);if(h.length==0)break;n.push({set:new Set(h),node:r()})}n.sort((h,y)=>y.set.size-h.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let c=i==1,u=i==2;return{branches:n,valid:s,fe0f:a,save:c,check:u}}}o(nve,"read_emoji_trie");function ive(){return eve(zq("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}o(ive,"getData");var KR=ive(),ost=new Set(CE(KR)),sst=new Set(CE(KR)),ast=tve(KR),cst=nve(KR),ove=45,sve=95;function ave(t){return Vq(t)}o(ave,"explode_cp");function fst(t){return t.filter(e=>e!=65039)}o(fst,"filter_fe0f");function cve(t){for(let e of t.split(".")){let r=ave(e);try{for(let n=r.lastIndexOf(sve)-1;n>=0;n--)if(r[n]!==sve)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===ove&&r[3]===ove)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}o(cve,"ens_normalize_post_check");function fve(t){return cve(ust(t,fst))}o(fve,"ens_normalize");function ust(t,e){let r=ave(t).reverse(),n=[];for(;r.length;){let i=dst(r);if(i){n.push(...e(i));continue}let s=r.pop();if(ost.has(s)){n.push(s);continue}if(sst.has(s))continue;let a=ast[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return cve(lst(String.fromCodePoint(...n)))}o(ust,"normalize");function lst(t){return t.normalize("NFC")}o(lst,"nfc");function dst(t,e){var r;let n=cst,i,s,a=[],c=t.length;for(e&&(e.length=0);c;){let u=t[--c];if(n=(r=n.branches.find(h=>h.set.has(u)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=u;else if(n.check&&u===s)break;a.push(u),n.fe0f&&(a.push(65039),c>0&&t[c-1]==65039&&c--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(c).reverse()),t.length=c)}return i}o(dst,"consume_emoji_reversed");var hst=new lve.Logger(zR),dve=new Uint8Array(32);dve.fill(0);function uve(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}o(uve,"checkComponent");function hve(t){let e=rs(fve(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(uve(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(uve(e.slice(n))),r}o(hve,"ensNameSplit");function pst(t){typeof t!="string"&&hst.throwArgumentError("invalid ENS name; not a string","name",t);let e=dve,r=hve(t);for(;r.length;)e=Mn((0,Tv.concat)([e,Mn(r.pop())]));return(0,Tv.hexlify)(e)}o(pst,"namehash");function mst(t){return(0,Tv.hexlify)((0,Tv.concat)(hve(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}o(mst,"dnsEncode");p();m();var pve=$e(us());var mve=`Ethereum Signed Message:
`;function Kq(t){return typeof t=="string"&&(t=rs(t)),Mn((0,pve.concat)([rs(mve),rs(String(t.length)),t]))}o(Kq,"hashMessage");p();m();var Ji=$e(us());var xve=$e(Na());var gst=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},Bi=new xve.Logger(zR),vve=new Uint8Array(32);vve.fill(0);var yst=En.from(-1),_ve=En.from(0),wve=En.from(1),bst=En.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function xst(t){let e=(0,Ji.arrayify)(t),r=e.length%32;return r?(0,Ji.hexConcat)([e,vve.slice(r)]):(0,Ji.hexlify)(e)}o(xst,"hexPadRight");var vst=(0,Ji.hexZeroPad)(wve.toHexString(),32),_st=(0,Ji.hexZeroPad)(_ve.toHexString(),32),gve={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},$q=["name","version","chainId","verifyingContract","salt"];function yve(t){return function(e){return typeof e!="string"&&Bi.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}o(yve,"checkString");var wst={name:yve("name"),version:yve("version"),chainId:o(function(t){try{return En.from(t).toString()}catch{}return Bi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},"chainId"),verifyingContract:o(function(t){try{return ls(t).toLowerCase()}catch{}return Bi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},"verifyingContract"),salt:o(function(t){try{let e=(0,Ji.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Ji.hexlify)(e)}catch{}return Bi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)},"salt")};function Gq(t){{let e=t.match(/^(u?)int(\d*)$/);if(e){let r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Bi.throwArgumentError("invalid numeric width","type",t);let i=bst.mask(r?n-1:n),s=r?i.add(wve).mul(yst):_ve;return function(a){let c=En.from(a);return(c.lt(s)||c.gt(i))&&Bi.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),(0,Ji.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Bi.throwArgumentError("invalid bytes width","type",t),function(n){return(0,Ji.arrayify)(n).length!==r&&Bi.throwArgumentError(`invalid length for ${t}`,"value",n),xst(n)}}}switch(t){case"address":return function(e){return(0,Ji.hexZeroPad)(ls(e),32)};case"bool":return function(e){return e?vst:_st};case"bytes":return function(e){return Mn(e)};case"string":return function(e){return Av(e)}}return null}o(Gq,"getBaseEncoder");function bve(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}o(bve,"encodeType");var Iv=class t{static{o(this,"TypedDataEncoder")}constructor(e){Ft(this,"types",Object.freeze(OE(e))),Ft(this,"_encoderCache",{}),Ft(this,"_types",{});let r={},n={},i={};Object.keys(e).forEach(c=>{r[c]={},n[c]=[],i[c]={}});for(let c in e){let u={};e[c].forEach(h=>{u[h.name]&&Bi.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),u[h.name]=!0;let y=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];y===c&&Bi.throwArgumentError(`circular type reference to ${JSON.stringify(y)}`,"types",e),!Gq(y)&&(n[y]||Bi.throwArgumentError(`unknown type ${JSON.stringify(y)}`,"types",e),n[y].push(c),r[c][y]=!0)})}let s=Object.keys(n).filter(c=>n[c].length===0);s.length===0?Bi.throwArgumentError("missing primary type","types",e):s.length>1&&Bi.throwArgumentError(`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ft(this,"primaryType",s[0]);function a(c,u){u[c]&&Bi.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),u[c]=!0,Object.keys(r[c]).forEach(h=>{n[h]&&(a(h,u),Object.keys(u).forEach(y=>{i[y][h]=!0}))}),delete u[c]}o(a,"checkCircular"),a(this.primaryType,{});for(let c in i){let u=Object.keys(i[c]);u.sort(),this._types[c]=bve(c,e[c])+u.map(h=>bve(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{let i=Gq(e);if(i)return i}let r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){let i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return c=>{a>=0&&c.length!==a&&Bi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let u=c.map(s);return this._types[i]&&(u=u.map(Mn)),Mn((0,Ji.hexConcat)(u))}}let n=this.types[e];if(n){let i=Av(this._types[e]);return s=>{let a=n.map(({name:c,type:u})=>{let h=this.getEncoder(u)(s[c]);return this._types[u]?Mn(h):h});return a.unshift(i),(0,Ji.hexConcat)(a)}}return Bi.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let r=this._types[e];return r||Bi.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Mn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Gq(e))return n(e,r);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let a=i[1],c=parseInt(i[3]);return c>=0&&r.length!==c&&Bi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(u=>this._visit(a,u,n))}let s=this.types[e];return s?s.reduce((a,{name:c,type:u})=>(a[c]=this._visit(u,r[c],n),a),{}):Bi.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){let i=gve[n];i||Bi.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>$q.indexOf(n.name)-$q.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return(0,Ji.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return Mn(t.encode(e,r,n))}static resolveNames(e,r,n,i){return gst(this,void 0,void 0,function*(){e=ME(e);let s={};e.verifyingContract&&!(0,Ji.isHexString)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");let a=t.from(r);a.visit(n,(c,u)=>(c==="address"&&!(0,Ji.isHexString)(u,20)&&(s[u]="0x"),u));for(let c in s)s[c]=yield i(c);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(c,u)=>c==="address"&&s[u]?s[u]:u),{domain:e,value:n}})}static getPayload(e,r,n){t.hashDomain(e);let i={},s=[];$q.forEach(u=>{let h=e[u];h!=null&&(i[u]=wst[u](h),s.push({name:u,type:gve[u]}))});let a=t.from(r),c=ME(r);return c.EIP712Domain?Bi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):c.EIP712Domain=s,a.encode(n),{types:c,domain:i,primaryType:a.primaryType,message:a.visit(n,(u,h)=>{if(u.match(/^bytes(\d*)/))return(0,Ji.hexlify)((0,Ji.arrayify)(h));if(u.match(/^u?int/))return En.from(h).toString();switch(u){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&Bi.throwArgumentError("invalid string","value",h),h}return Bi.throwArgumentError("unsupported type","type",u)})}}};p();m();p();m();var Wq=$e(us());var $R=class{static{o(this,"BaseX")}constructor(e){Ft(this,"alphabet",e),Ft(this,"base",e.length),Ft(this,"_alphabetMap",{}),Ft(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,Wq.arrayify)(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let c=0;c<n.length;++c)a+=n[c]<<8,n[c]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,Wq.arrayify)(new Uint8Array(r.reverse()))}},Exr=new $R("abcdefghijklmnopqrstuvwxyz234567"),Yq=new $R("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var sn=$e(us());p();m();p();m();var rm=$e(us()),Jq=$e(Zq());function Xy(t,e,r,n,i){t=(0,rm.arrayify)(t),e=(0,rm.arrayify)(e);let s,a=1,c=new Uint8Array(n),u=new Uint8Array(e.length+4);u.set(e);let h,y;for(let g=1;g<=a;g++){u[e.length]=g>>24&255,u[e.length+1]=g>>16&255,u[e.length+2]=g>>8&255,u[e.length+3]=g&255;let S=(0,rm.arrayify)((0,Jq.computeHmac)(i,t,u));s||(s=S.length,y=new Uint8Array(s),a=Math.ceil(n/s),h=n-(a-1)*s),y.set(S);for(let M=1;M<r;M++){S=(0,rm.arrayify)((0,Jq.computeHmac)(i,t,S));for(let k=0;k<s;k++)y[k]^=S[k]}let T=(g-1)*s,O=g===a?h:s;c.set((0,rm.arrayify)(y).slice(0,O),T)}return(0,rm.hexlify)(c)}o(Xy,"pbkdf2");p();m();p();m();var dr=$e(bb()),Rd=$e(iv());function Rv(t,e,r){return r={path:e,exports:{},require:o(function(n,i){return kst(n,i??r.path)},"require")},t(r,r.exports),r.exports}o(Rv,"createCommonjsModule");function kst(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}o(kst,"commonjsRequire");var rV=Ive;function Ive(t,e){if(!t)throw new Error(e||"Assertion failed")}o(Ive,"assert");Ive.equal=o(function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)},"assertEqual");var fl=Rv(function(t,e){"use strict";var r=e;function n(a,c){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)u[h]=a[h]|0;return u}if(c==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)u.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var y=a.charCodeAt(h),g=y>>8,S=y&255;g?u.push(g,S):u.push(S)}return u}o(n,"toArray"),r.toArray=n;function i(a){return a.length===1?"0"+a:a}o(i,"zero2"),r.zero2=i;function s(a){for(var c="",u=0;u<a.length;u++)c+=i(a[u].toString(16));return c}o(s,"toHex"),r.toHex=s,r.encode=o(function(c,u){return u==="hex"?s(c):c},"encode")}),cf=Rv(function(t,e){"use strict";var r=e;r.assert=rV,r.toArray=fl.toArray,r.zero2=fl.zero2,r.toHex=fl.toHex,r.encode=fl.encode;function n(u,h,y){var g=new Array(Math.max(u.bitLength(),y)+1);g.fill(0);for(var S=1<<h+1,T=u.clone(),O=0;O<g.length;O++){var M,k=T.andln(S-1);T.isOdd()?(k>(S>>1)-1?M=(S>>1)-k:M=k,T.isubn(M)):M=0,g[O]=M,T.iushrn(1)}return g}o(n,"getNAF"),r.getNAF=n;function i(u,h){var y=[[],[]];u=u.clone(),h=h.clone();for(var g=0,S=0,T;u.cmpn(-g)>0||h.cmpn(-S)>0;){var O=u.andln(3)+g&3,M=h.andln(3)+S&3;O===3&&(O=-1),M===3&&(M=-1);var k;O&1?(T=u.andln(7)+g&7,(T===3||T===5)&&M===2?k=-O:k=O):k=0,y[0].push(k);var C;M&1?(T=h.andln(7)+S&7,(T===3||T===5)&&O===2?C=-M:C=M):C=0,y[1].push(C),2*g===k+1&&(g=1-g),2*S===C+1&&(S=1-S),u.iushrn(1),h.iushrn(1)}return y}o(i,"getJSF"),r.getJSF=i;function s(u,h,y){var g="_"+h;u.prototype[h]=o(function(){return this[g]!==void 0?this[g]:this[g]=y.call(this)},"cachedProperty")}o(s,"cachedProperty"),r.cachedProperty=s;function a(u){return typeof u=="string"?r.toArray(u,"hex"):u}o(a,"parseBytes"),r.parseBytes=a;function c(u){return new dr.default(u,"hex","le")}o(c,"intFromLE"),r.intFromLE=c}),ZR=cf.getNAF,Bst=cf.getJSF,JR=cf.assert;function im(t,e){this.type=t,this.p=new dr.default(e.p,16),this.red=e.prime?dr.default.red(e.prime):dr.default.mont(this.p),this.zero=new dr.default(0).toRed(this.red),this.one=new dr.default(1).toRed(this.red),this.two=new dr.default(2).toRed(this.red),this.n=e.n&&new dr.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}o(im,"BaseCurve");var Zy=im;im.prototype.point=o(function(){throw new Error("Not implemented")},"point");im.prototype.validate=o(function(){throw new Error("Not implemented")},"validate");im.prototype._fixedNafMul=o(function(e,r){JR(e.precomputed);var n=e._getDoubles(),i=ZR(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],c,u;for(c=0;c<i.length;c+=n.step){u=0;for(var h=c+n.step-1;h>=c;h--)u=(u<<1)+i[h];a.push(u)}for(var y=this.jpoint(null,null,null),g=this.jpoint(null,null,null),S=s;S>0;S--){for(c=0;c<a.length;c++)u=a[c],u===S?g=g.mixedAdd(n.points[c]):u===-S&&(g=g.mixedAdd(n.points[c].neg()));y=y.add(g)}return y.toP()},"_fixedNafMul");im.prototype._wnafMul=o(function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=ZR(r,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var h=0;u>=0&&a[u]===0;u--)h++;if(u>=0&&h++,c=c.dblp(h),u<0)break;var y=a[u];JR(y!==0),e.type==="affine"?y>0?c=c.mixedAdd(s[y-1>>1]):c=c.mixedAdd(s[-y-1>>1].neg()):y>0?c=c.add(s[y-1>>1]):c=c.add(s[-y-1>>1].neg())}return e.type==="affine"?c.toP():c},"_wnafMul");im.prototype._wnafMulAdd=o(function(e,r,n,i,s){var a=this._wnafT1,c=this._wnafT2,u=this._wnafT3,h=0,y,g,S;for(y=0;y<i;y++){S=r[y];var T=S._getNAFPoints(e);a[y]=T.wnd,c[y]=T.points}for(y=i-1;y>=1;y-=2){var O=y-1,M=y;if(a[O]!==1||a[M]!==1){u[O]=ZR(n[O],a[O],this._bitLength),u[M]=ZR(n[M],a[M],this._bitLength),h=Math.max(u[O].length,h),h=Math.max(u[M].length,h);continue}var k=[r[O],null,null,r[M]];r[O].y.cmp(r[M].y)===0?(k[1]=r[O].add(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg())):r[O].y.cmp(r[M].y.redNeg())===0?(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].add(r[M].neg())):(k[1]=r[O].toJ().mixedAdd(r[M]),k[2]=r[O].toJ().mixedAdd(r[M].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],B=Bst(n[O],n[M]);for(h=Math.max(B[0].length,h),u[O]=new Array(h),u[M]=new Array(h),g=0;g<h;g++){var N=B[0][g]|0,P=B[1][g]|0;u[O][g]=C[(N+1)*3+(P+1)],u[M][g]=0,c[O]=k}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(y=h;y>=0;y--){for(var Z=0;y>=0;){var W=!0;for(g=0;g<i;g++)F[g]=u[g][y]|0,F[g]!==0&&(W=!1);if(!W)break;Z++,y--}if(y>=0&&Z++,H=H.dblp(Z),y<0)break;for(g=0;g<i;g++){var X=F[g];X!==0&&(X>0?S=c[g][X-1>>1]:X<0&&(S=c[g][-X-1>>1].neg()),S.type==="affine"?H=H.mixedAdd(S):H=H.add(S))}}for(y=0;y<i;y++)c[y]=null;return s?H:H.toP()},"_wnafMulAdd");function cu(t,e){this.curve=t,this.type=e,this.precomputed=null}o(cu,"BasePoint");im.BasePoint=cu;cu.prototype.eq=o(function(){throw new Error("Not implemented")},"eq");cu.prototype.validate=o(function(){return this.curve.validate(this)},"validate");im.prototype.decodePoint=o(function(e,r){e=cf.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?JR(e[e.length-1]%2===0):e[0]===7&&JR(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},"decodePoint");cu.prototype.encodeCompressed=o(function(e){return this.encode(e,!0)},"encodeCompressed");cu.prototype._encode=o(function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},"_encode");cu.prototype.encode=o(function(e,r){return cf.encode(this._encode(r),e)},"encode");cu.prototype.precompute=o(function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},"precompute");cu.prototype._hasDoubles=o(function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},"_hasDoubles");cu.prototype._getDoubles=o(function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},"_getDoubles");cu.prototype._getNAFPoints=o(function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}},"_getNAFPoints");cu.prototype._getBeta=o(function(){return null},"_getBeta");cu.prototype.dblp=o(function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r},"dblp");var nV=Rv(function(t){typeof Object.create=="function"?t.exports=o(function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):t.exports=o(function(r,n){if(n){r.super_=n;var i=o(function(){},"TempCtor");i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}},"inherits")}),Pst=cf.assert;function fu(t){Zy.call(this,"short",t),this.a=new dr.default(t.a,16).toRed(this.red),this.b=new dr.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o(fu,"ShortCurve");nV(fu,Zy);var Lst=fu;fu.prototype._getEndomorphism=o(function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dr.default(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new dr.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Pst(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(c){return{a:new dr.default(c.a,16),b:new dr.default(c.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},"_getEndomorphism");fu.prototype._getEndoRoots=o(function(e){var r=e===this.p?this.red:dr.default.mont(e),n=new dr.default(2).toRed(r).redInvm(),i=n.redNeg(),s=new dr.default(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),c=i.redSub(s).fromRed();return[a,c]},"_getEndoRoots");fu.prototype._getEndoBasis=o(function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new dr.default(1),a=new dr.default(0),c=new dr.default(0),u=new dr.default(1),h,y,g,S,T,O,M,k=0,C,B;n.cmpn(0)!==0;){var N=i.div(n);C=i.sub(N.mul(n)),B=c.sub(N.mul(s));var P=u.sub(N.mul(a));if(!g&&C.cmp(r)<0)h=M.neg(),y=s,g=C.neg(),S=B;else if(g&&++k===2)break;M=C,i=n,n=C,c=s,s=B,u=a,a=P}T=C.neg(),O=B;var H=g.sqr().add(S.sqr()),F=T.sqr().add(O.sqr());return F.cmp(H)>=0&&(T=h,O=y),g.negative&&(g=g.neg(),S=S.neg()),T.negative&&(T=T.neg(),O=O.neg()),[{a:g,b:S},{a:T,b:O}]},"_getEndoBasis");fu.prototype._endoSplit=o(function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),c=s.mul(n.a),u=a.mul(i.a),h=s.mul(n.b),y=a.mul(i.b),g=e.sub(c).sub(u),S=h.add(y).neg();return{k1:g,k2:S}},"_endoSplit");fu.prototype.pointFromX=o(function(e,r){e=new dr.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)},"pointFromX");fu.prototype.validate=o(function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0},"validate");fu.prototype._endoWnafMulAdd=o(function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var c=this._endoSplit(r[a]),u=e[a],h=u._getBeta();c.k1.negative&&(c.k1.ineg(),u=u.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),i[a*2]=u,i[a*2+1]=h,s[a*2]=c.k1,s[a*2+1]=c.k2}for(var y=this._wnafMulAdd(1,i,s,a*2,n),g=0;g<a*2;g++)i[g]=null,s[g]=null;return y},"_endoWnafMulAdd");function ns(t,e,r,n){Zy.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr.default(e,16),this.y=new dr.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}o(ns,"Point");nV(ns,Zy.BasePoint);fu.prototype.point=o(function(e,r,n){return new ns(this,e,r,n)},"point");fu.prototype.pointFromJSON=o(function(e,r){return ns.fromJSON(this,e,r)},"pointFromJSON");ns.prototype._getBeta=o(function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=o(function(s){return n.point(s.x.redMul(n.endo.beta),s.y)},"endoMul");e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}},"_getBeta");ns.prototype.toJSON=o(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON");ns.fromJSON=o(function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(c){return e.point(c[0],c[1],n)}o(s,"obj2point");var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i},"fromJSON");ns.prototype.inspect=o(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect");ns.prototype.isInfinity=o(function(){return this.inf},"isInfinity");ns.prototype.add=o(function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},"add");ns.prototype.dbl=o(function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)},"dbl");ns.prototype.getX=o(function(){return this.x.fromRed()},"getX");ns.prototype.getY=o(function(){return this.y.fromRed()},"getY");ns.prototype.mul=o(function(e){return e=new dr.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},"mul");ns.prototype.mulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},"mulAdd");ns.prototype.jmulAdd=o(function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},"jmulAdd");ns.prototype.eq=o(function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},"eq");ns.prototype.neg=o(function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=o(function(s){return s.neg()},"negate");r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r},"neg");ns.prototype.toJ=o(function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},"toJ");function Es(t,e,r,n){Zy.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr.default(0)):(this.x=new dr.default(e,16),this.y=new dr.default(r,16),this.z=new dr.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(Es,"JPoint");nV(Es,Zy.BasePoint);fu.prototype.jpoint=o(function(e,r,n){return new Es(this,e,r,n)},"jpoint");Es.prototype.toP=o(function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)},"toP");Es.prototype.neg=o(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg");Es.prototype.add=o(function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),h=a.redSub(c);if(u.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=u.redSqr(),g=y.redMul(u),S=i.redMul(y),T=h.redSqr().redIAdd(g).redISub(S).redISub(S),O=h.redMul(S.redISub(T)).redISub(a.redMul(g)),M=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(T,O,M)},"add");Es.prototype.mixedAdd=o(function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),c=n.redSub(i),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),y=h.redMul(c),g=n.redMul(h),S=u.redSqr().redIAdd(y).redISub(g).redISub(g),T=u.redMul(g.redISub(S)).redISub(s.redMul(y)),O=this.z.redMul(c);return this.curve.jpoint(S,T,O)},"mixedAdd");Es.prototype.dblp=o(function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,c=this.y,u=this.z,h=u.redSqr().redSqr(),y=c.redAdd(c);for(r=0;r<e;r++){var g=a.redSqr(),S=y.redSqr(),T=S.redSqr(),O=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(h)),M=a.redMul(S),k=O.redSqr().redISub(M.redAdd(M)),C=M.redISub(k),B=O.redMul(C);B=B.redIAdd(B).redISub(T);var N=y.redMul(u);r+1<e&&(h=h.redMul(T)),a=k,u=N,y=B}return this.curve.jpoint(a,y.redMul(s),u)},"dblp");Es.prototype.dbl=o(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl");Es.prototype._zeroDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var u=i.redAdd(i).redIAdd(i),h=u.redSqr().redISub(c).redISub(c),y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),e=h,r=u.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),S=this.y.redSqr(),T=S.redSqr(),O=this.x.redAdd(S).redSqr().redISub(g).redISub(T);O=O.redIAdd(O);var M=g.redAdd(g).redIAdd(g),k=M.redSqr(),C=T.redIAdd(T);C=C.redIAdd(C),C=C.redIAdd(C),e=k.redISub(O).redISub(O),r=M.redMul(O.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},"_zeroDbl");Es.prototype._threeDbl=o(function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(i).redISub(a);c=c.redIAdd(c);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=u.redSqr().redISub(c).redISub(c);e=h;var y=a.redIAdd(a);y=y.redIAdd(y),y=y.redIAdd(y),r=u.redMul(c.redISub(h)).redISub(y),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),S=this.y.redSqr(),T=this.x.redMul(S),O=this.x.redSub(g).redMul(this.x.redAdd(g));O=O.redAdd(O).redIAdd(O);var M=T.redIAdd(T);M=M.redIAdd(M);var k=M.redAdd(M);e=O.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(S).redISub(g);var C=S.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=O.redMul(M.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)},"_threeDbl");Es.prototype._dbl=o(function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),c=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),h=r.redAdd(r);h=h.redIAdd(h);var y=h.redMul(c),g=u.redSqr().redISub(y.redAdd(y)),S=y.redISub(g),T=c.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=u.redMul(S).redISub(T),M=n.redAdd(n).redMul(i);return this.curve.jpoint(g,O,M)},"_dbl");Es.prototype.trpl=o(function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(a);var u=c.redSqr(),h=i.redIAdd(i);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=s.redIAdd(c).redSqr().redISub(a).redISub(u).redISub(h),g=r.redMul(y);g=g.redIAdd(g),g=g.redIAdd(g);var S=this.x.redMul(u).redISub(g);S=S.redIAdd(S),S=S.redIAdd(S);var T=this.y.redMul(y.redMul(h.redISub(y)).redISub(c.redMul(u)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var O=this.z.redAdd(c).redSqr().redISub(n).redISub(u);return this.curve.jpoint(S,T,O)},"trpl");Es.prototype.mul=o(function(e,r){return e=new dr.default(e,r),this.curve._wnafMul(this,e)},"mul");Es.prototype.eq=o(function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},"eq");Es.prototype.eqXToP=o(function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}},"eqXToP");Es.prototype.inspect=o(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect");Es.prototype.isInfinity=o(function(){return this.z.cmpn(0)===0},"isInfinity");var YR=Rv(function(t,e){"use strict";var r=e;r.base=Zy,r.short=Lst,r.mont=null,r.edwards=null}),XR=Rv(function(t,e){"use strict";var r=e,n=cf.assert;function i(c){c.type==="short"?this.curve=new YR.short(c):c.type==="edwards"?this.curve=new YR.edwards(c):this.curve=new YR.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o(i,"PresetCurve"),r.PresetCurve=i;function s(c,u){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:o(function(){var h=new i(u);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:h}),h},"get")})}o(s,"defineCurve"),s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Rd.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Rd.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Rd.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Rd.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Rd.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Rd.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Rd.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Rd.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function nm(t){if(!(this instanceof nm))return new nm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fl.toArray(t.entropy,t.entropyEnc||"hex"),r=fl.toArray(t.nonce,t.nonceEnc||"hex"),n=fl.toArray(t.pers,t.persEnc||"hex");rV(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}o(nm,"HmacDRBG");var Rve=nm;nm.prototype._init=o(function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},"init");nm.prototype._hmac=o(function(){return new Rd.default.hmac(this.hash,this.K)},"hmac");nm.prototype._update=o(function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},"update");nm.prototype.reseed=o(function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=fl.toArray(e,r),n=fl.toArray(n,i),rV(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},"reseed");nm.prototype.generate=o(function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=fl.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,fl.encode(a,r)},"generate");var tV=cf.assert;function ga(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}o(ga,"KeyPair");var iV=ga;ga.fromPublic=o(function(e,r,n){return r instanceof ga?r:new ga(e,{pub:r,pubEnc:n})},"fromPublic");ga.fromPrivate=o(function(e,r,n){return r instanceof ga?r:new ga(e,{priv:r,privEnc:n})},"fromPrivate");ga.prototype.validate=o(function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate");ga.prototype.getPublic=o(function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},"getPublic");ga.prototype.getPrivate=o(function(e){return e==="hex"?this.priv.toString(16,2):this.priv},"getPrivate");ga.prototype._importPrivate=o(function(e,r){this.priv=new dr.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate");ga.prototype._importPublic=o(function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?tV(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&tV(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},"_importPublic");ga.prototype.derive=o(function(e){return e.validate()||tV(e.validate(),"public point not validated"),e.mul(this.priv).getX()},"derive");ga.prototype.sign=o(function(e,r,n){return this.ec.sign(e,this,r,n)},"sign");ga.prototype.verify=o(function(e,r){return this.ec.verify(e,r,this)},"verify");ga.prototype.inspect=o(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect");var Dst=cf.assert;function QR(t,e){if(t instanceof QR)return t;this._importDER(t,e)||(Dst(t.r&&t.s,"Signature without r or s"),this.r=new dr.default(t.r,16),this.s=new dr.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}o(QR,"Signature");var e7=QR;function Ust(){this.place=0}o(Ust,"Position");function Qq(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}o(Qq,"getLength");function Tve(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}o(Tve,"rmPadding");QR.prototype._importDER=o(function(e,r){e=cf.toArray(e,r);var n=new Ust;if(e[n.place++]!==48)return!1;var i=Qq(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Qq(e,n);if(s===!1)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var c=Qq(e,n);if(c===!1||e.length!==c+n.place)return!1;var u=e.slice(n.place,c+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new dr.default(a),this.s=new dr.default(u),this.recoveryParam=null,!0},"_importDER");function eV(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}o(eV,"constructLength");QR.prototype.toDER=o(function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Tve(r),n=Tve(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];eV(i,r.length),i=i.concat(r),i.push(2),eV(i,n.length);var s=i.concat(n),a=[48];return eV(a,s.length),a=a.concat(s),cf.encode(a,e)},"toDER");var Fst=o(function(){throw new Error("unsupported")},"rand"),Ove=cf.assert;function au(t){if(!(this instanceof au))return new au(t);typeof t=="string"&&(Ove(Object.prototype.hasOwnProperty.call(XR,t),"Unknown curve "+t),t=XR[t]),t instanceof XR.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}o(au,"EC");var Hst=au;au.prototype.keyPair=o(function(e){return new iV(this,e)},"keyPair");au.prototype.keyFromPrivate=o(function(e,r){return iV.fromPrivate(this,e,r)},"keyFromPrivate");au.prototype.keyFromPublic=o(function(e,r){return iV.fromPublic(this,e,r)},"keyFromPublic");au.prototype.genKeyPair=o(function(e){e||(e={});for(var r=new Rve({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Fst(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new dr.default(2));;){var s=new dr.default(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},"genKeyPair");au.prototype._truncateToN=o(function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},"_truncateToN");au.prototype.sign=o(function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new dr.default(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new Rve({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new dr.default(1)),y=0;;y++){var g=i.k?i.k(y):new dr.default(u.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(h)>=0)){var S=this.g.mul(g);if(!S.isInfinity()){var T=S.getX(),O=T.umod(this.n);if(O.cmpn(0)!==0){var M=g.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var k=(S.getY().isOdd()?1:0)|(T.cmp(O)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),k^=1),new e7({r:O,s:M,recoveryParam:k})}}}}}},"sign");au.prototype.verify=o(function(e,r,n,i){e=this._truncateToN(new dr.default(e,16)),n=this.keyFromPublic(n,i),r=new e7(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),u=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(u,n.getPublic(),h),y.isInfinity()?!1:y.eqXToP(s)):(y=this.g.mulAdd(u,n.getPublic(),h),y.isInfinity()?!1:y.getX().umod(this.n).cmp(s)===0)},"verify");au.prototype.recoverPubKey=function(t,e,r,n){Ove((3&r)===r,"The recovery param is more than two bits"),e=new e7(e,n);var i=this.n,s=new dr.default(t),a=e.r,c=e.s,u=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var y=e.r.invm(i),g=i.sub(s).mul(y).umod(i),S=c.mul(y).umod(i);return this.g.mulAdd(g,a,S)};au.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new e7(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var qst=Rv(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=cf,r.rand=function(){throw new Error("unsupported")},r.curve=YR,r.curves=XR,r.ec=Hst,r.eddsa=null}),Mve=qst.ec;var mi=$e(us());var Cve=$e(Na());p();m();var Nve="signing-key/5.7.0";var sV=new Cve.Logger(Nve),oV=null;function Od(){return oV||(oV=new Mve("secp256k1")),oV}o(Od,"getCurve");var Md=class{static{o(this,"SigningKey")}constructor(e){Ft(this,"curve","secp256k1"),Ft(this,"privateKey",(0,mi.hexlify)(e)),(0,mi.hexDataLength)(this.privateKey)!==32&&sV.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Od().keyFromPrivate((0,mi.arrayify)(this.privateKey));Ft(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ft(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ft(this,"_isSigningKey",!0)}_addPoint(e){let r=Od().keyFromPublic((0,mi.arrayify)(this.publicKey)),n=Od().keyFromPublic((0,mi.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Od().keyFromPrivate((0,mi.arrayify)(this.privateKey)),n=(0,mi.arrayify)(e);n.length!==32&&sV.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return(0,mi.splitSignature)({recoveryParam:i.recoveryParam,r:(0,mi.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,mi.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Od().keyFromPrivate((0,mi.arrayify)(this.privateKey)),n=Od().keyFromPublic((0,mi.arrayify)(aV(e)));return(0,mi.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function kve(t,e){let r=(0,mi.splitSignature)(e),n={r:(0,mi.arrayify)(r.r),s:(0,mi.arrayify)(r.s)};return"0x"+Od().recoverPubKey((0,mi.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}o(kve,"recoverPublicKey");function aV(t,e){let r=(0,mi.arrayify)(t);if(r.length===32){let n=new Md(r);return e?"0x"+Od().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,mi.hexlify)(r):"0x"+Od().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Od().keyFromPublic(r).getPublic(!0,"hex"):(0,mi.hexlify)(r)}return sV.throwArgumentError("invalid public or private key","key","[REDACTED]")}o(aV,"computePublicKey");var Ic=$e(Zq());p();m();var cr=$e(us());var t7=$e(Na());p();m();var Bve="transactions/5.7.0";var ba=new t7.Logger(Bve),Pve;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Pve||(Pve={}));function fV(t){return t==="0x"?null:ls(t)}o(fV,"handleAddress");function ya(t){return t==="0x"?Hq:En.from(t)}o(ya,"handleNumber");var Vst=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],jst={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Nd(t){let e=aV(t);return ls((0,cr.hexDataSlice)(Mn((0,cr.hexDataSlice)(e,1)),12))}o(Nd,"computeAddress");function uV(t,e){return Nd(kve((0,cr.arrayify)(t),e))}o(uV,"recoverAddress");function ff(t,e){let r=(0,cr.stripZeros)(En.from(t).toHexString());return r.length>32&&ba.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}o(ff,"formatNumber");function cV(t,e){return{address:ls(t),storageKeys:(e||[]).map((r,n)=>((0,cr.hexDataLength)(r)!==32&&ba.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}o(cV,"accessSetify");function lV(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ba.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),cV(r[0],r[1])):cV(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return cV(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}o(lV,"accessListify");function Lve(t){return lV(t).map(e=>[e.address,e.storageKeys])}o(Lve,"formatAccessList");function Dve(t,e){if(t.gasPrice!=null){let n=En.from(t.gasPrice),i=En.from(t.maxFeePerGas||0);n.eq(i)||ba.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}let r=[ff(t.chainId||0,"chainId"),ff(t.nonce||0,"nonce"),ff(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ff(t.maxFeePerGas||0,"maxFeePerGas"),ff(t.gasLimit||0,"gasLimit"),t.to!=null?ls(t.to):"0x",ff(t.value||0,"value"),t.data||"0x",Lve(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(ff(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x02",xb(r)])}o(Dve,"_serializeEip1559");function Uve(t,e){let r=[ff(t.chainId||0,"chainId"),ff(t.nonce||0,"nonce"),ff(t.gasPrice||0,"gasPrice"),ff(t.gasLimit||0,"gasLimit"),t.to!=null?ls(t.to):"0x",ff(t.value||0,"value"),t.data||"0x",Lve(t.accessList||[])];if(e){let n=(0,cr.splitSignature)(e);r.push(ff(n.recoveryParam,"recoveryParam")),r.push((0,cr.stripZeros)(n.r)),r.push((0,cr.stripZeros)(n.s))}return(0,cr.hexConcat)(["0x01",xb(r)])}o(Uve,"_serializeEip2930");function zst(t,e){Uxe(t,jst);let r=[];Vst.forEach(function(a){let c=t[a.name]||[],u={};a.numeric&&(u.hexPad="left"),c=(0,cr.arrayify)((0,cr.hexlify)(c,u)),a.length&&c.length!==a.length&&c.length>0&&ba.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c),a.maxLength&&(c=(0,cr.stripZeros)(c),c.length>a.maxLength&&ba.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,c)),r.push((0,cr.hexlify)(c))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&ba.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,cr.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,cr.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return xb(r);let i=(0,cr.splitSignature)(e),s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&ba.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ba.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,cr.hexlify)(s)),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.r))),r.push((0,cr.stripZeros)((0,cr.arrayify)(i.s))),xb(r)}o(zst,"_serialize");function dV(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&ba.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),zst(t,e);switch(t.type){case 1:return Uve(t,e);case 2:return Dve(t,e);default:break}return ba.throwError(`unsupported transaction type: ${t.type}`,t7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}o(dV,"serialize");function Fve(t,e,r){try{let n=ya(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ba.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,cr.hexZeroPad)(e[1],32),t.s=(0,cr.hexZeroPad)(e[2],32);try{let n=Mn(r(t));t.from=uV(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}o(Fve,"_parseEipSignature");function Kst(t){let e=fA(t.slice(1));e.length!==9&&e.length!==12&&ba.throwArgumentError("invalid component count for transaction type: 2","payload",(0,cr.hexlify)(t));let r=ya(e[2]),n=ya(e[3]),i={type:2,chainId:ya(e[0]).toNumber(),nonce:ya(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ya(e[4]),to:fV(e[5]),value:ya(e[6]),data:e[7],accessList:lV(e[8])};return e.length===9||(i.hash=Mn(t),Fve(i,e.slice(9),Dve)),i}o(Kst,"_parseEip1559");function $st(t){let e=fA(t.slice(1));e.length!==8&&e.length!==11&&ba.throwArgumentError("invalid component count for transaction type: 1","payload",(0,cr.hexlify)(t));let r={type:1,chainId:ya(e[0]).toNumber(),nonce:ya(e[1]).toNumber(),gasPrice:ya(e[2]),gasLimit:ya(e[3]),to:fV(e[4]),value:ya(e[5]),data:e[6],accessList:lV(e[7])};return e.length===8||(r.hash=Mn(t),Fve(r,e.slice(8),Uve)),r}o($st,"_parseEip2930");function Gst(t){let e=fA(t);e.length!==9&&e.length!==6&&ba.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:ya(e[0]).toNumber(),gasPrice:ya(e[1]),gasLimit:ya(e[2]),to:fV(e[3]),value:ya(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=En.from(e[6]).toNumber()}catch{return r}if(r.r=(0,cr.hexZeroPad)(e[7],32),r.s=(0,cr.hexZeroPad)(e[8],32),En.from(r.r).isZero()&&En.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=e.slice(0,6);r.chainId!==0&&(i.push((0,cr.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);let s=Mn(xb(i));try{r.from=uV(s,{r:(0,cr.hexlify)(r.r),s:(0,cr.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=Mn(t)}return r.type=null,r}o(Gst,"_parse");function wvr(t){let e=(0,cr.arrayify)(t);if(e[0]>127)return Gst(e);switch(e[0]){case 1:return $st(e);case 2:return Kst(e);default:break}return ba.throwError(`unsupported transaction type: ${e[0]}`,t7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}o(wvr,"parse");p();m();p();m();var qve=$e(Na());p();m();var Hve="wordlists/5.7.0";var Wst=!1,Yst=new qve.Logger(Hve),Ov=class t{static{o(this,"Wordlist")}constructor(e){Yst.checkAbstract(new.target,t),Ft(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Av(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),Wst)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||Ft(n._ethers.wordlists,r,e))}catch{}}};p();m();p();m();var Xst="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",LE=null;function Vve(t){if(LE==null&&(LE=Xst.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ov.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw LE=null,new Error("BIP39 Wordlist for en (English) FAILED")}o(Vve,"loadWords");var hV=class extends Ov{static{o(this,"LangEn")}constructor(){super("en")}getWord(e){return Vve(this),LE[e]}getWordIndex(e){return Vve(this),LE.indexOf(e)}},pV=new hV;Ov.register(pV);var r7={en:pV};var Kve=$e(Na());p();m();var jve="hdnode/5.7.0";var i7=new Kve.Logger(jve),Zst=En.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jst=rs("Bitcoin seed"),DE=2147483648;function $ve(t){return(1<<t)-1<<8-t}o($ve,"getUpperMask");function Qst(t){return(1<<t)-1}o(Qst,"getLowerMask");function n7(t){return(0,sn.hexZeroPad)((0,sn.hexlify)(t),32)}o(n7,"bytes32");function zve(t){return Yq.encode((0,sn.concat)([t,(0,sn.hexDataSlice)((0,Ic.sha256)((0,Ic.sha256)(t)),0,4)]))}o(zve,"base58check");function mV(t){if(t==null)return r7.en;if(typeof t=="string"){let e=r7[t];return e==null&&i7.throwArgumentError("unknown locale","wordlist",t),e}return t}o(mV,"getWordlist");var Mv={},Jy="m/44'/60'/0'/0/0",om=class t{static{o(this,"HDNode")}constructor(e,r,n,i,s,a,c,u){if(e!==Mv)throw new Error("HDNode constructor cannot be called directly");if(r){let h=new Md(r);Ft(this,"privateKey",h.privateKey),Ft(this,"publicKey",h.compressedPublicKey)}else Ft(this,"privateKey",null),Ft(this,"publicKey",(0,sn.hexlify)(n));Ft(this,"parentFingerprint",i),Ft(this,"fingerprint",(0,sn.hexDataSlice)((0,Ic.ripemd160)((0,Ic.sha256)(this.publicKey)),0,4)),Ft(this,"address",Nd(this.publicKey)),Ft(this,"chainCode",s),Ft(this,"index",a),Ft(this,"depth",c),u==null?(Ft(this,"mnemonic",null),Ft(this,"path",null)):typeof u=="string"?(Ft(this,"mnemonic",null),Ft(this,"path",u)):(Ft(this,"mnemonic",u),Ft(this,"path",u.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return zve((0,sn.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,sn.hexlify)(this.depth),this.parentFingerprint,(0,sn.hexZeroPad)((0,sn.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,sn.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(Mv,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~DE));let n=new Uint8Array(37);if(e&DE){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,sn.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,sn.arrayify)(this.publicKey));for(let g=24;g>=0;g-=8)n[33+(g>>3)]=e>>24-g&255;let i=(0,sn.arrayify)((0,Ic.computeHmac)(Ic.SupportedAlgorithm.sha512,this.chainCode,n)),s=i.slice(0,32),a=i.slice(32),c=null,u=null;this.privateKey?c=n7(En.from(s).add(this.privateKey).mod(Zst)):u=new Md((0,sn.hexlify)(s))._addPoint(this.publicKey);let h=r,y=this.mnemonic;return y&&(h=Object.freeze({phrase:y.phrase,path:r,locale:y.locale||"en"})),new t(Mv,c,u,this.fingerprint,n7(a),e,this.depth+1,h)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){let s=r[i];if(s.match(/^[0-9]+'$/)){let a=parseInt(s.substring(0,s.length-1));if(a>=DE)throw new Error("invalid path index - "+s);n=n._derive(DE+a)}else if(s.match(/^[0-9]+$/)){let a=parseInt(s);if(a>=DE)throw new Error("invalid path index - "+s);n=n._derive(a)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){let n=(0,sn.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let i=(0,sn.arrayify)((0,Ic.computeHmac)(Ic.SupportedAlgorithm.sha512,Jst,n));return new t(Mv,n7(i.slice(0,32)),null,"0x00000000",n7(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=mV(n),e=UE(gV(e,n),n),t._fromSeed(eat(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=Yq.decode(e);(r.length!==82||zve(r.slice(0,78))!==e)&&i7.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],i=(0,sn.hexlify)(r.slice(5,9)),s=parseInt((0,sn.hexlify)(r.slice(9,13)).substring(2),16),a=(0,sn.hexlify)(r.slice(13,45)),c=r.slice(45,78);switch((0,sn.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(Mv,null,(0,sn.hexlify)(c),i,a,s,n,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new t(Mv,(0,sn.hexlify)(c.slice(1)),null,i,a,s,n,null)}return i7.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function eat(t,e){e||(e="");let r=rs("mnemonic"+e,cl.NFKD);return Xy(rs(t,cl.NFKD),r,2048,64,"sha512")}o(eat,"mnemonicToSeed");function gV(t,e){e=mV(e),i7.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,sn.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0;for(let h=0;h<r.length;h++){let y=e.getWordIndex(r[h].normalize("NFKD"));if(y===-1)throw new Error("invalid mnemonic");for(let g=0;g<11;g++)y&1<<10-g&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=r.length/3,c=$ve(a);if(((0,sn.arrayify)((0,Ic.sha256)(n.slice(0,s/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return(0,sn.hexlify)(n.slice(0,s/8))}o(gV,"mnemonicToEntropy");function UE(t,e){if(e=mV(e),t=(0,sn.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&Qst(8-n)),n+=3);let i=t.length/4,s=(0,sn.arrayify)((0,Ic.sha256)(t))[0]&$ve(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(a=>e.getWord(a)))}o(UE,"entropyToMnemonic");p();m();p();m();var Yve=$e(us()),bV=$e(Na());p();m();var Gve="random/5.7.0";var yV=new bV.Logger(Gve);function tat(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}o(tat,"getGlobal");var Wve=tat(),o7=Wve.crypto||Wve.msCrypto;(!o7||!o7.getRandomValues)&&(yV.warn("WARNING: Missing strong random number source"),o7={getRandomValues:o(function(t){return yV.throwError("no secure random source avaialble",bV.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})},"getRandomValues")});function sm(t){(t<=0||t>1024||t%1||t!=t)&&yV.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return o7.getRandomValues(e),(0,Yve.arrayify)(e)}o(sm,"randomBytes");p();m();p();m();var _V=$e(vV());var wV=$e(us());var Jve=$e(Na());p();m();var s7="json-wallets/5.7.0";p();m();var Nv=$e(us());function Zh(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,Nv.arrayify)(t)}o(Zh,"looseArrayify");function Cv(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}o(Cv,"zpad");function FE(t){return typeof t=="string"?rs(t,cl.NFKC):(0,Nv.arrayify)(t)}o(FE,"getPassword");function Pi(t,e){let r=t,n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(let a in r)if(a.toLowerCase()===n[i]){s=r[a];break}if(s===null)return null;r=s}return r}o(Pi,"searchPath");function Zve(t){let e=(0,Nv.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,Nv.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}o(Zve,"uuidV4");var rat=new Jve.Logger(s7),SV=class extends tm{static{o(this,"CrowdsaleAccount")}isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function EV(t,e){let r=JSON.parse(t);e=FE(e);let n=ls(Pi(r,"ethaddr")),i=Zh(Pi(r,"encseed"));(!i||i.length%16!==0)&&rat.throwArgumentError("invalid encseed","json",t);let s=(0,wV.arrayify)(Xy(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),u=new _V.default.ModeOfOperation.cbc(s,a),h=_V.default.padding.pkcs7.strip((0,wV.arrayify)(u.decrypt(c))),y="";for(let T=0;T<h.length;T++)y+=String.fromCharCode(h[T]);let g=rs(y),S=Mn(g);return new SV({_isCrowdsaleAccount:!0,address:n,privateKey:S})}o(EV,"decrypt");p();m();function AV(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}o(AV,"isCrowdsaleWallet");function TV(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}o(TV,"isKeystoreWallet");p();m();var Jh=$e(vV()),c7=$e(e2e());var Li=$e(us());var a7=$e(Na());var nat=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},RV=new a7.Logger(s7);function t2e(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}o(t2e,"hasMnemonic");var OV=class extends tm{static{o(this,"KeystoreAccount")}isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function iat(t,e,r){if(Pi(t,"crypto/cipher")==="aes-128-ctr"){let i=Zh(Pi(t,"crypto/cipherparams/iv")),s=new Jh.default.Counter(i),a=new Jh.default.ModeOfOperation.ctr(e,s);return(0,Li.arrayify)(a.decrypt(r))}return null}o(iat,"_decrypt");function r2e(t,e){let r=Zh(Pi(t,"crypto/ciphertext"));if((0,Li.hexlify)(Mn((0,Li.concat)([e.slice(16,32),r]))).substring(2)!==Pi(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let i=iat(t,e.slice(0,16),r);i||RV.throwError("unsupported cipher",a7.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let s=e.slice(32,64),a=Nd(i);if(t.address){let u=t.address.toLowerCase();if(u.substring(0,2)!=="0x"&&(u="0x"+u),ls(u)!==a)throw new Error("address mismatch")}let c={_isKeystoreAccount:!0,address:a,privateKey:(0,Li.hexlify)(i)};if(Pi(t,"x-ethers/version")==="0.1"){let u=Zh(Pi(t,"x-ethers/mnemonicCiphertext")),h=Zh(Pi(t,"x-ethers/mnemonicCounter")),y=new Jh.default.Counter(h),g=new Jh.default.ModeOfOperation.ctr(s,y),S=Pi(t,"x-ethers/path")||Jy,T=Pi(t,"x-ethers/locale")||"en",O=(0,Li.arrayify)(g.decrypt(u));try{let M=UE(O,T),k=om.fromMnemonic(M,null,T).derivePath(S);if(k.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=k.mnemonic}catch(M){if(M.code!==a7.Logger.errors.INVALID_ARGUMENT||M.argument!=="wordlist")throw M}}return new OV(c)}o(r2e,"_getAccount");function n2e(t,e,r,n,i){return(0,Li.arrayify)(Xy(t,e,r,n,i))}o(n2e,"pbkdf2Sync");function oat(t,e,r,n,i){return Promise.resolve(n2e(t,e,r,n,i))}o(oat,"pbkdf2");function i2e(t,e,r,n,i){let s=FE(e),a=Pi(t,"crypto/kdf");if(a&&typeof a=="string"){let c=o(function(u,h){return RV.throwArgumentError("invalid key-derivation function parameters",u,h)},"throwError");if(a.toLowerCase()==="scrypt"){let u=Zh(Pi(t,"crypto/kdfparams/salt")),h=parseInt(Pi(t,"crypto/kdfparams/n")),y=parseInt(Pi(t,"crypto/kdfparams/r")),g=parseInt(Pi(t,"crypto/kdfparams/p"));(!h||!y||!g)&&c("kdf",a),h&h-1&&c("N",h);let S=parseInt(Pi(t,"crypto/kdfparams/dklen"));return S!==32&&c("dklen",S),n(s,u,h,y,g,64,i)}else if(a.toLowerCase()==="pbkdf2"){let u=Zh(Pi(t,"crypto/kdfparams/salt")),h=null,y=Pi(t,"crypto/kdfparams/prf");y==="hmac-sha256"?h="sha256":y==="hmac-sha512"?h="sha512":c("prf",y);let g=parseInt(Pi(t,"crypto/kdfparams/c")),S=parseInt(Pi(t,"crypto/kdfparams/dklen"));return S!==32&&c("dklen",S),r(s,u,g,S,h)}}return RV.throwArgumentError("unsupported key-derivation function","kdf",a)}o(i2e,"_computeKdfKey");function o2e(t,e){let r=JSON.parse(t),n=i2e(r,e,n2e,c7.default.syncScrypt);return r2e(r,n)}o(o2e,"decryptSync");function s2e(t,e,r){return nat(this,void 0,void 0,function*(){let n=JSON.parse(t),i=yield i2e(n,e,oat,c7.default.scrypt,r);return r2e(n,i)})}o(s2e,"decrypt");function MV(t,e,r,n){try{if(ls(t.address)!==Nd(t.privateKey))throw new Error("address/privateKey mismatch");if(t2e(t)){let k=t.mnemonic;if(om.fromMnemonic(k.phrase,null,k.locale).derivePath(k.path||Jy).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(k){return Promise.reject(k)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let i=(0,Li.arrayify)(t.privateKey),s=FE(e),a=null,c=null,u=null;if(t2e(t)){let k=t.mnemonic;a=(0,Li.arrayify)(gV(k.phrase,k.locale||"en")),c=k.path||Jy,u=k.locale||"en"}let h=r.client;h||(h="ethers.js");let y=null;r.salt?y=(0,Li.arrayify)(r.salt):y=sm(32);let g=null;if(r.iv){if(g=(0,Li.arrayify)(r.iv),g.length!==16)throw new Error("invalid iv")}else g=sm(16);let S=null;if(r.uuid){if(S=(0,Li.arrayify)(r.uuid),S.length!==16)throw new Error("invalid uuid")}else S=sm(16);let T=1<<17,O=8,M=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&(M=r.scrypt.p)),c7.default.scrypt(s,y,T,O,M,64,n).then(k=>{k=(0,Li.arrayify)(k);let C=k.slice(0,16),B=k.slice(16,32),N=k.slice(32,64),P=new Jh.default.Counter(g),H=new Jh.default.ModeOfOperation.ctr(C,P),F=(0,Li.arrayify)(H.encrypt(i)),Z=Mn((0,Li.concat)([B,F])),W={address:t.address.substring(2).toLowerCase(),id:Zve(S),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Li.hexlify)(g).substring(2)},ciphertext:(0,Li.hexlify)(F).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Li.hexlify)(y).substring(2),n:T,dklen:32,p:M,r:O},mac:Z.substring(2)}};if(a){let X=sm(16),E=new Jh.default.Counter(X),f=new Jh.default.ModeOfOperation.ctr(N,E),d=(0,Li.arrayify)(f.encrypt(a)),b=new Date,x=b.getUTCFullYear()+"-"+Cv(b.getUTCMonth()+1,2)+"-"+Cv(b.getUTCDate(),2)+"T"+Cv(b.getUTCHours(),2)+"-"+Cv(b.getUTCMinutes(),2)+"-"+Cv(b.getUTCSeconds(),2)+".0Z";W["x-ethers"]={client:h,gethFilename:"UTC--"+x+"--"+W.address,mnemonicCounter:(0,Li.hexlify)(X).substring(2),mnemonicCiphertext:(0,Li.hexlify)(d).substring(2),path:c,locale:u,version:"0.1"}}return JSON.stringify(W)})}o(MV,"encrypt");function a2e(t,e,r){if(AV(t)){r&&r(0);let n=EV(t,e);return r&&r(1),Promise.resolve(n)}return TV(t)?s2e(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}o(a2e,"decryptJsonWallet");function c2e(t,e){if(AV(t))return EV(t,e);if(TV(t))return o2e(t,e);throw new Error("invalid JSON wallet")}o(c2e,"decryptJsonWalletSync");var NV=$e(Na());p();m();var f2e="wallet/5.7.0";var u2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})},kv=new NV.Logger(f2e);function sat(t){return t!=null&&(0,ul.isHexString)(t.privateKey,32)&&t.address!=null}o(sat,"isAccount");function aat(t){let e=t.mnemonic;return e&&e.phrase}o(aat,"hasMnemonic");var Bv=class t extends NE{static{o(this,"Wallet")}constructor(e,r){if(super(),sat(e)){let n=new Md(e.privateKey);if(Ft(this,"_signingKey",()=>n),Ft(this,"address",Nd(this.publicKey)),this.address!==ls(e.address)&&kv.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),aat(e)){let i=e.mnemonic;Ft(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Jy,locale:i.locale||"en"}));let s=this.mnemonic,a=om.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Nd(a.privateKey)!==this.address&&kv.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ft(this,"_mnemonic",()=>null)}else{if(Md.isSigningKey(e))e.curve!=="secp256k1"&&kv.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ft(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new Md(e);Ft(this,"_signingKey",()=>n)}Ft(this,"_mnemonic",()=>null),Ft(this,"address",Nd(this.publicKey))}r&&!jR.isProvider(r)&&kv.throwArgumentError("invalid provider","provider",r),Ft(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return Xh(e).then(r=>{r.from!=null&&(ls(r.from)!==this.address&&kv.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest(Mn(dV(r)));return dV(r,n)})}signMessage(e){return u2e(this,void 0,void 0,function*(){return(0,ul.joinSignature)(this._signingKey().signDigest(Kq(e)))})}_signTypedData(e,r,n){return u2e(this,void 0,void 0,function*(){let i=yield Iv.resolveNames(e,r,n,s=>(this.provider==null&&kv.throwError("cannot resolve ENS names without a provider",NV.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return(0,ul.joinSignature)(this._signingKey().signDigest(Iv.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),MV(this,e,r,n)}static createRandom(e){let r=sm(16);e||(e={}),e.extraEntropy&&(r=(0,ul.arrayify)((0,ul.hexDataSlice)(Mn((0,ul.concat)([r,e.extraEntropy])),0,16)));let n=UE(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return a2e(e,r,n).then(i=>new t(i))}static fromEncryptedJsonSync(e,r){return new t(c2e(e,r))}static fromMnemonic(e,r,n){return r||(r=Jy),new t(om.fromMnemonic(e,null,n).derivePath(r))}};var f7=class{static{o(this,"KeypairGeneratorChainPluginEthereum")}addressTypes=[Ye.EVM];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Bv(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Td(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};p();m();p();m();Gh.sha512Sync=(...t)=>Ed(Gh.concatBytes(...t));var{getPublicKey:cat}=yR,CV=o(t=>{let e=cat(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},"getDeprecatedSolanaKeyPairFromPrivateKey");var u7=class{static{o(this,"KeypairGeneratorChainPluginSolana")}addressTypes=[Ye.Solana];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Du.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Td(s));try{let s=i.derivePathType(n,r);switch(n){case Se.BitcoinTaproot:case Se.BitcoinNativeSegwit:case Se.BitcoinNestedSegwit:case Se.BitcoinLegacy:case Se.Bip44RootSolana:case Se.Bip44Solana:case Se.Bip44ChangeSolana:case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:case Se.Bip44Sui:return{publicKey:s.publicKey,privateKey:s.secretKey};case Se.DeprecatedSolana:{let a=CV(s.secretKey);return{publicKey:a.publicKey,privateKey:a.secretKey}}}}finally{i.cleanup()}}};p();m();p();m();p();m();p();m();p();m();p();m();p();m();function fat(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){let y=t.charAt(h),g=y.charCodeAt(0);if(e[g]!==255)throw new TypeError(y+" is ambiguous");e[g]=h}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let y=0,g=0,S=0,T=h.length;for(;S!==T&&h[S]===0;)S++,y++;let O=(T-S)*s+1>>>0,M=new Uint8Array(O);for(;S!==T;){let B=h[S],N=0;for(let P=O-1;(B!==0||N<g)&&P!==-1;P--,N++)B+=256*M[P]>>>0,M[P]=B%r>>>0,B=B/r>>>0;if(B!==0)throw new Error("Non-zero carry");g=N,S++}let k=O-g;for(;k!==O&&M[k]===0;)k++;let C=n.repeat(y);for(;k<O;++k)C+=t.charAt(M[k]);return C}o(a,"encode");function c(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let y=0,g=0,S=0;for(;h[y]===n;)g++,y++;let T=(h.length-y)*i+1>>>0,O=new Uint8Array(T);for(;h[y];){let B=e[h.charCodeAt(y)];if(B===255)return;let N=0;for(let P=T-1;(B!==0||N<S)&&P!==-1;P--,N++)B+=r*O[P]>>>0,O[P]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");S=N,y++}let M=T-S;for(;M!==T&&O[M]===0;)M++;let k=new Uint8Array(g+(T-M)),C=g;for(;M!==T;)k[C++]=O[M++];return k}o(c,"decodeUnsafe");function u(h){let y=c(h);if(y)return y;throw new Error("Non-base"+r+" character")}return o(u,"decode"),{encode:a,decodeUnsafe:c,decode:u}}o(fat,"base");var l2e=fat;var uat="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kV=l2e(uat);var Qy=o(t=>kV.encode(t),"toBase58"),e1=o(t=>kV.decode(t),"fromBase58");p();m();function is(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}o(is,"fromBase64");var BV=8192;function Di(t){if(t.length<BV)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=BV){let n=t.slice(r,r+BV);e+=String.fromCharCode(...n)}return btoa(e)}o(Di,"toBase64");p();m();p();m();function am(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(i=>parseInt(i,16))??[];return Uint8Array.from(n)}o(am,"fromHex");function uu(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}o(uu,"toHex");p();m();p();m();function Pv(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}o(Pv,"ulebEncode");function d2e(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(i&127)<<r,!(i&128))break;r+=7}return{value:e,length:n}}o(d2e,"ulebDecode");var l7=class{static{o(this,"BcsReader")}constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:i}=d2e(r);return this.shift(i),n}readVec(e){let r=this.readULEB(),n=[];for(let i=0;i<r;i++)n.push(e(this,i,r));return n}};p();m();p();m();function PV(t,e){switch(e){case"base58":return Qy(t);case"base64":return Di(t);case"hex":return uu(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}o(PV,"encodeStr");function LV(t,e=["<",">"]){let[r,n]=e,i=[],s="",a=0;for(let c=0;c<t.length;c++){let u=t[c];if(u===r&&a++,u===n&&a--,a===0&&u===","){i.push(s.trim()),s="";continue}s+=u}return i.push(s.trim()),i}o(LV,"splitGenericParameters");var d7=class{static{o(this,"BcsWriter")}constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return DV(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return DV(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return DV(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return Pv(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,i)=>r(this,n,i,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return PV(this.toBytes(),e)}};function DV(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}o(DV,"toLittleEndian");var h2e=o(t=>{throw TypeError(t)},"__typeError"),p2e=o((t,e,r)=>e.has(t)||h2e("Cannot "+r),"__accessCheck"),ll=o((t,e,r)=>(p2e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),p7=o((t,e,r)=>e.has(t)?h2e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),m7=o((t,e,r,n)=>(p2e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),Lv,HE,h7,cm,lat=class m2e{static{o(this,"_BcsType")}constructor(e){p7(this,Lv),p7(this,HE),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),m7(this,Lv,e.write),m7(this,HE,e.serialize??((r,n)=>{let i=new d7({initialSize:this.serializedSize(r)??void 0,...n});return ll(this,Lv).call(this,r,i),i.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),ll(this,Lv).call(this,e,r)}serialize(e,r){return this.validate(e),new UV(this,ll(this,HE).call(this,e,r))}parse(e){let r=new l7(e);return this.read(r)}fromHex(e){return this.parse(am(e))}fromBase58(e){return this.parse(e1(e))}fromBase64(e){return this.parse(is(e))}transform({name:e,input:r,output:n,validate:i}){return new m2e({name:e??this.name,read:o(s=>n(this.read(s)),"read"),write:o((s,a)=>ll(this,Lv).call(this,r(s),a),"write"),serializedSize:o(s=>this.serializedSize(r(s)),"serializedSize"),serialize:o((s,a)=>ll(this,HE).call(this,r(s),a),"serialize"),validate:o(s=>{i?.(s),this.validate(r(s))},"validate")})}};Lv=new WeakMap;HE=new WeakMap;var Cd=lat,dat=Symbol.for("@mysten/serialized-bcs");var UV=class{static{o(this,"SerializedBcs")}constructor(e,r){p7(this,h7),p7(this,cm),m7(this,h7,e),m7(this,cm,r)}get[dat](){return!0}toBytes(){return ll(this,cm)}toHex(){return uu(ll(this,cm))}toBase64(){return Di(ll(this,cm))}toBase58(){return Qy(ll(this,cm))}parse(){return ll(this,h7).parse(ll(this,cm))}};h7=new WeakMap;cm=new WeakMap;function qE({size:t,...e}){return new Cd({...e,serializedSize:o(()=>t,"serializedSize")})}o(qE,"fixedSizeBcsType");function g7({readMethod:t,writeMethod:e,...r}){return qE({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](n),"write"),validate:o(n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)},"validate")})}o(g7,"uIntBcsType");function y7({readMethod:t,writeMethod:e,...r}){return qE({...r,read:o(n=>n[t](),"read"),write:o((n,i)=>i[e](BigInt(n)),"write"),validate:o(n=>{let i=BigInt(n);if(i<0||i>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${i}. Expected value in range 0-${r.maxValue}`);r.validate?.(i)},"validate")})}o(y7,"bigUIntBcsType");function g2e({serialize:t,...e}){let r=new Cd({...e,serialize:t,write:o((n,i)=>{for(let s of r.serialize(n).toBytes())i.write8(s)},"write")});return r}o(g2e,"dynamicSizeBcsType");function y2e({toBytes:t,fromBytes:e,...r}){return new Cd({...r,read:o(n=>{let i=n.readULEB(),s=n.readBytes(i);return e(s)},"read"),write:o((n,i)=>{let s=t(n);i.writeULEB(s.length);for(let a=0;a<s.length;a++)i.write8(s[a])},"write"),serialize:o(n=>{let i=t(n),s=Pv(i.length),a=new Uint8Array(s.length+i.length);return a.set(s,0),a.set(i,s.length),a},"serialize"),validate:o(n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)},"validate")})}o(y2e,"stringLikeBcsType");function b2e(t){let e=null;function r(){return e||(e=t()),e}return o(r,"getType"),new Cd({name:"lazy",read:o(n=>r().read(n),"read"),serializedSize:o(n=>r().serializedSize(n),"serializedSize"),write:o((n,i)=>r().write(n,i),"write"),serialize:o((n,i)=>r().serialize(n,i).toBytes(),"serialize")})}o(b2e,"lazyBcsType");p();m();var ie={u8(t){return g7({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return g7({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return g7({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return y7({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return y7({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return y7({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return qE({name:"bool",size:1,read:o(e=>e.read8()===1,"read"),write:o((e,r)=>r.write8(e?1:0),"write"),...t,validate:o(e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)},"validate")})},uleb128(t){return g2e({name:"uleb128",read:o(e=>e.readULEB(),"read"),serialize:o(e=>Uint8Array.from(Pv(e)),"serialize"),...t})},bytes(t,e){return qE({name:`bytes[${t}]`,size:t,read:o(r=>r.readBytes(t),"read"),write:o((r,n)=>{let i=new Uint8Array(r);for(let s=0;s<t;s++)n.write8(i[s]??0)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)},"validate")})},string(t){return y2e({name:"string",toBytes:o(e=>new TextEncoder().encode(e),"toBytes"),fromBytes:o(e=>new TextDecoder().decode(e),"fromBytes"),...t})},fixedArray(t,e,r){return new Cd({name:`${e.name}[${t}]`,read:o(n=>{let i=new Array(t);for(let s=0;s<t;s++)i[s]=e.read(n);return i},"read"),write:o((n,i)=>{for(let s of n)e.write(s,i)},"write"),...r,validate:o(n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)},"validate")})},option(t){return ie.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:o(e=>e==null?{None:!0}:{Some:e},"input"),output:o(e=>e.$kind==="Some"?e.Some:null,"output")})},vector(t,e){return new Cd({name:`vector<${t.name}>`,read:o(r=>{let n=r.readULEB(),i=new Array(n);for(let s=0;s<n;s++)i[s]=t.read(r);return i},"read"),write:o((r,n)=>{n.writeULEB(r.length);for(let i of r)t.write(i,n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)},"validate")})},tuple(t,e){return new Cd({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:o(r=>{let n=0;for(let i=0;i<t.length;i++){let s=t[i].serializedSize(r[i]);if(s==null)return null;n+=s}return n},"serializedSize"),read:o(r=>{let n=[];for(let i of t)n.push(i.read(r));return n},"read"),write:o((r,n)=>{for(let i=0;i<t.length;i++)t[i].write(r[i],n)},"write"),...e,validate:o(r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)},"validate")})},struct(t,e,r){let n=Object.entries(e);return new Cd({name:t,serializedSize:o(i=>{let s=0;for(let[a,c]of n){let u=c.serializedSize(i[a]);if(u==null)return null;s+=u}return s},"serializedSize"),read:o(i=>{let s={};for(let[a,c]of n)s[a]=c.read(i);return s},"read"),write:o((i,s)=>{for(let[a,c]of n)c.write(i[a],s)},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`)},"validate")})},enum(t,e,r){let n=Object.entries(e);return new Cd({name:t,read:o(i=>{let s=i.readULEB(),a=n[s];if(!a)throw new TypeError(`Unknown value ${s} for enum ${t}`);let[c,u]=a;return{[c]:u?.read(i)??!0,$kind:c}},"read"),write:o((i,s)=>{let[a,c]=Object.entries(i).filter(([u])=>Object.hasOwn(e,u))[0];for(let u=0;u<n.length;u++){let[h,y]=n[u];if(h===a){s.writeULEB(u),y?.write(c,s);return}}},"write"),...r,validate:o(i=>{if(r?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);let s=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(e,c));if(s.length!==1)throw new TypeError(`Expected object with one key, but found ${s.length} for type ${t}}`);let[a]=s;if(!Object.hasOwn(e,a))throw new TypeError(`Invalid enum variant ${a}`)},"validate")})},map(t,e){return ie.vector(ie.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:o(r=>[...r.entries()],"input"),output:o(r=>{let n=new Map;for(let[i,s]of r)n.set(i,s);return n},"output")})},lazy(t){return b2e(t)}};p();m();p();m();p();m();var fm=32;function x2e(t){return hat(t)&&pat(t)===fm}o(x2e,"isValidSuiAddress");function kd(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(fm*2,"0")}`}o(kd,"normalizeSuiAddress");function hat(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}o(hat,"isHex");function pat(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}o(pat,"getHexByteLength");p();m();var mat=/^vector<(.+)>$/,gat=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,VE=class t{static{o(this,"TypeTagSerializer")}static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(mat);if(n)return{vector:t.parseFromStr(n[1],r)};let i=e.match(gat);if(i)return{struct:{address:r?kd(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:t.parseStructTypeArgs(i[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return LV(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function yat(t){return ie.u64({name:"unsafe_u64",...t}).transform({input:o(e=>e,"input"),output:o(e=>Number(e),"output")})}o(yat,"unsafe_u64");function bat(t){return ie.enum("Option",{None:null,Some:t})}o(bat,"optionEnum");var gi=ie.bytes(fm).transform({validate:o(t=>{let e=typeof t=="string"?t:uu(t);if(!e||!x2e(kd(e)))throw new Error(`Invalid Sui address ${e}`)},"validate"),input:o(t=>typeof t=="string"?am(kd(t)):t,"input"),output:o(t=>kd(uu(t)),"output")}),uf=ie.vector(ie.u8()).transform({name:"ObjectDigest",input:o(t=>e1(t),"input"),output:o(t=>Qy(new Uint8Array(t)),"output"),validate:o(t=>{if(e1(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")},"validate")}),Rc=ie.struct("SuiObjectRef",{objectId:gi,version:ie.u64(),digest:uf}),FV=ie.struct("SharedObjectRef",{objectId:gi,initialSharedVersion:ie.u64(),mutable:ie.bool()}),HV=ie.enum("ObjectArg",{ImmOrOwnedObject:Rc,SharedObject:FV,Receiving:Rc}),qV=ie.enum("CallArg",{Pure:ie.struct("Pure",{bytes:ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})}),Object:HV}),VV=ie.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:ie.lazy(()=>VV),struct:ie.lazy(()=>WV),u16:null,u32:null,u256:null}),b7=VV.transform({input:o(t=>typeof t=="string"?VE.parseFromStr(t,!0):t,"input"),output:o(t=>VE.tagToString(t),"output")}),dl=ie.enum("Argument",{GasCoin:null,Input:ie.u16(),Result:ie.u16(),NestedResult:ie.tuple([ie.u16(),ie.u16()])}),jV=ie.struct("ProgrammableMoveCall",{package:gi,module:ie.string(),function:ie.string(),typeArguments:ie.vector(b7),arguments:ie.vector(dl)}),zV=ie.enum("Command",{MoveCall:jV,TransferObjects:ie.struct("TransferObjects",{objects:ie.vector(dl),address:dl}),SplitCoins:ie.struct("SplitCoins",{coin:dl,amounts:ie.vector(dl)}),MergeCoins:ie.struct("MergeCoins",{destination:dl,sources:ie.vector(dl)}),Publish:ie.struct("Publish",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})),dependencies:ie.vector(gi)}),MakeMoveVec:ie.struct("MakeMoveVec",{type:bat(b7).transform({input:o(t=>t===null?{None:!0}:{Some:t},"input"),output:o(t=>t.Some??null,"output")}),elements:ie.vector(dl)}),Upgrade:ie.struct("Upgrade",{modules:ie.vector(ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")})),dependencies:ie.vector(gi),package:gi,ticket:dl})}),KV=ie.struct("ProgrammableTransaction",{inputs:ie.vector(qV),commands:ie.vector(zV)}),$V=ie.enum("TransactionKind",{ProgrammableTransaction:KV,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),GV=ie.enum("TransactionExpiration",{None:null,Epoch:yat()}),WV=ie.struct("StructTag",{address:gi,module:ie.string(),name:ie.string(),typeParams:ie.vector(VV)}),YV=ie.struct("GasData",{payment:ie.vector(Rc),owner:gi,price:ie.u64(),budget:ie.u64()}),XV=ie.struct("TransactionDataV1",{kind:$V,sender:gi,gasData:YV,expiration:GV}),ZV=ie.enum("TransactionData",{V1:XV}),JV=ie.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),QV=ie.enum("IntentVersion",{V0:null}),ej=ie.enum("AppId",{Sui:null}),tj=ie.struct("Intent",{scope:JV,version:QV,appId:ej});function rj(t){return ie.struct(`IntentMessage<${t.name}>`,{intent:tj,value:t})}o(rj,"IntentMessage");var nj=ie.enum("CompressedSignature",{ED25519:ie.fixedArray(64,ie.u8()),Secp256k1:ie.fixedArray(64,ie.u8()),Secp256r1:ie.fixedArray(64,ie.u8()),ZkLogin:ie.vector(ie.u8())}),ij=ie.enum("PublicKey",{ED25519:ie.fixedArray(32,ie.u8()),Secp256k1:ie.fixedArray(33,ie.u8()),Secp256r1:ie.fixedArray(33,ie.u8()),ZkLogin:ie.vector(ie.u8())}),oj=ie.struct("MultiSigPkMap",{pubKey:ij,weight:ie.u8()}),sj=ie.struct("MultiSigPublicKey",{pk_map:ie.vector(oj),threshold:ie.u16()}),v2e=ie.struct("MultiSig",{sigs:ie.vector(nj),bitmap:ie.u16(),multisig_pk:sj}),xat=ie.vector(ie.u8()).transform({input:o(t=>typeof t=="string"?is(t):t,"input"),output:o(t=>Di(new Uint8Array(t)),"output")}),aj=ie.struct("SenderSignedTransaction",{intentMessage:rj(ZV),txSignatures:ie.vector(xat)}),_2e=ie.vector(aj,{name:"SenderSignedData"});p();m();var vat=ie.enum("PackageUpgradeError",{UnableToFetchPackage:ie.struct("UnableToFetchPackage",{packageId:gi}),NotAPackage:ie.struct("NotAPackage",{objectId:gi}),IncompatibleUpgrade:null,DigestDoesNotMatch:ie.struct("DigestDoesNotMatch",{digest:ie.vector(ie.u8())}),UnknownUpgradePolicy:ie.struct("UnknownUpgradePolicy",{policy:ie.u8()}),PackageIDDoesNotMatch:ie.struct("PackageIDDoesNotMatch",{packageId:gi,ticketId:gi})}),_at=ie.struct("ModuleId",{address:gi,name:ie.string()}),w2e=ie.struct("MoveLocation",{module:_at,function:ie.u16(),instruction:ie.u16(),functionName:ie.option(ie.string())}),wat=ie.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:ie.struct("IndexOutOfBounds",{idx:ie.u16()}),SecondaryIndexOutOfBounds:ie.struct("SecondaryIndexOutOfBounds",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidResultArity:ie.struct("InvalidResultArity",{resultIdx:ie.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),Sat=ie.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Eat=ie.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:ie.struct("MoveObjectTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),MovePackageTooBig:ie.struct("MovePackageTooBig",{objectSize:ie.u64(),maxObjectSize:ie.u64()}),CircularObjectOwnership:ie.struct("CircularObjectOwnership",{object:gi}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:ie.option(w2e),MoveAbort:ie.tuple([w2e,ie.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:ie.struct("CommandArgumentError",{argIdx:ie.u16(),kind:wat}),TypeArgumentError:ie.struct("TypeArgumentError",{argumentIdx:ie.u16(),kind:Sat}),UnusedValueWithoutDrop:ie.struct("UnusedValueWithoutDrop",{resultIdx:ie.u16(),secondaryIdx:ie.u16()}),InvalidPublicFunctionReturnType:ie.struct("InvalidPublicFunctionReturnType",{idx:ie.u16()}),InvalidTransferObject:null,EffectsTooLarge:ie.struct("EffectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:ie.struct("PackageUpgradeError",{upgradeError:vat}),WrittenObjectsTooLarge:ie.struct("WrittenObjectsTooLarge",{currentSize:ie.u64(),maxSize:ie.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:ie.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:ie.vector(gi)}),AddressDeniedForCoin:ie.struct("AddressDeniedForCoin",{address:gi,coinType:ie.string()}),CoinTypeGlobalPause:ie.struct("CoinTypeGlobalPause",{coinType:ie.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),S2e=ie.enum("ExecutionStatus",{Success:null,Failed:ie.struct("ExecutionFailed",{error:Eat,command:ie.option(ie.u64())})}),E2e=ie.struct("GasCostSummary",{computationCost:ie.u64(),storageCost:ie.u64(),storageRebate:ie.u64(),nonRefundableStorageFee:ie.u64()}),Dv=ie.enum("Owner",{AddressOwner:gi,ObjectOwner:gi,Shared:ie.struct("Shared",{initialSharedVersion:ie.u64()}),Immutable:null}),Aat=ie.struct("TransactionEffectsV1",{status:S2e,executedEpoch:ie.u64(),gasUsed:E2e,modifiedAtVersions:ie.vector(ie.tuple([gi,ie.u64()])),sharedObjects:ie.vector(Rc),transactionDigest:uf,created:ie.vector(ie.tuple([Rc,Dv])),mutated:ie.vector(ie.tuple([Rc,Dv])),unwrapped:ie.vector(ie.tuple([Rc,Dv])),deleted:ie.vector(Rc),unwrappedThenDeleted:ie.vector(Rc),wrapped:ie.vector(Rc),gasObject:ie.tuple([Rc,Dv]),eventsDigest:ie.option(uf),dependencies:ie.vector(uf)}),cj=ie.tuple([ie.u64(),uf]),Tat=ie.enum("ObjectIn",{NotExist:null,Exist:ie.tuple([cj,Dv])}),Iat=ie.enum("ObjectOut",{NotExist:null,ObjectWrite:ie.tuple([uf,Dv]),PackageWrite:cj}),Rat=ie.enum("IDOperation",{None:null,Created:null,Deleted:null}),Oat=ie.struct("EffectsObjectChange",{inputState:Tat,outputState:Iat,idOperation:Rat}),Mat=ie.enum("UnchangedSharedKind",{ReadOnlyRoot:cj,MutateDeleted:ie.u64(),ReadDeleted:ie.u64(),Cancelled:ie.u64(),PerEpochConfig:null}),Nat=ie.struct("TransactionEffectsV2",{status:S2e,executedEpoch:ie.u64(),gasUsed:E2e,transactionDigest:uf,gasObjectIndex:ie.option(ie.u32()),eventsDigest:ie.option(uf),dependencies:ie.vector(uf),lamportVersion:ie.u64(),changedObjects:ie.vector(ie.tuple([gi,Oat])),unchangedSharedObjects:ie.vector(ie.tuple([gi,Mat])),auxDataDigest:ie.option(uf)}),A2e=ie.enum("TransactionEffects",{V1:Aat,V2:Nat});var Qh={...ie,U8:ie.u8(),U16:ie.u16(),U32:ie.u32(),U64:ie.u64(),U128:ie.u128(),U256:ie.u256(),ULEB128:ie.uleb128(),Bool:ie.bool(),String:ie.string(),Address:gi,AppId:ej,Argument:dl,CallArg:qV,CompressedSignature:nj,GasData:YV,Intent:tj,IntentMessage:rj,IntentScope:JV,IntentVersion:QV,MultiSig:v2e,MultiSigPkMap:oj,MultiSigPublicKey:sj,ObjectArg:HV,ObjectDigest:uf,ProgrammableMoveCall:jV,ProgrammableTransaction:KV,PublicKey:ij,SenderSignedData:_2e,SenderSignedTransaction:aj,SharedObjectRef:FV,StructTag:WV,SuiObjectRef:Rc,Command:zV,TransactionData:ZV,TransactionDataV1:XV,TransactionExpiration:GV,TransactionKind:$V,TypeTag:b7,TransactionEffects:A2e};p();m();p();m();p();m();p();m();p();m();function Cat(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(Cat,"isBytes");function Uv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Uv,"anumber");function t0(t,...e){if(!Cat(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(t0,"abytes");function I2e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Uv(t.outputLen),Uv(t.blockLen)}o(I2e,"ahash");function r0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(r0,"aexists");function x7(t,e){t0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(x7,"aoutput");function jE(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}o(jE,"u32");function hl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}o(hl,"clean");function v7(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}o(v7,"createView");var R2e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function O2e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}o(O2e,"byteSwap");var Bd=R2e?t=>t:t=>O2e(t);function kat(t){for(let e=0;e<t.length;e++)t[e]=O2e(t[e]);return t}o(kat,"byteSwap32");var t1=R2e?t=>t:kat,M2e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Bat=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _7(t){if(t0(t),M2e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Bat[t[r]];return e}o(_7,"bytesToHex");var e0={_0:48,_9:57,A:65,F:70,a:97,f:102};function T2e(t){if(t>=e0._0&&t<=e0._9)return t-e0._0;if(t>=e0.A&&t<=e0.F)return t-(e0.A-10);if(t>=e0.a&&t<=e0.f)return t-(e0.a-10)}o(T2e,"asciiToBase16");function N2e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(M2e)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=T2e(t.charCodeAt(s)),c=T2e(t.charCodeAt(s+1));if(a===void 0||c===void 0){let u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=a*16+c}return n}o(N2e,"hexToBytes");function Pat(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}o(Pat,"utf8ToBytes");function pl(t){return typeof t=="string"&&(t=Pat(t)),t0(t),t}o(pl,"toBytes");var um=class{static{o(this,"Hash")}};function C2e(t){let e=o(n=>t().update(pl(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(C2e,"createHasher");function k2e(t){let e=o((n,i)=>t(i).update(pl(n)).digest(),"hashC"),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}o(k2e,"createOptHasher");var B2e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);p();m();function Lat(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(Lat,"setBigUint64");var w7=class extends um{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=v7(this.buffer)}update(e){r0(this),e=pl(e),t0(e);let{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=v7(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r0(this),x7(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,hl(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Lat(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=v7(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};var As=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);p();m();var S7=BigInt(4294967295),P2e=BigInt(32);function fj(t,e=!1){return e?{h:Number(t&S7),l:Number(t>>P2e&S7)}:{h:Number(t>>P2e&S7)|0,l:Number(t&S7)|0}}o(fj,"fromBig");function L2e(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:a,l:c}=fj(t[s],e);[n[s],i[s]]=[a,c]}return[n,i]}o(L2e,"split");var uj=o((t,e,r)=>t>>>r,"shrSH"),lj=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),Pd=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),Ld=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),r1=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),n1=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),D2e=o((t,e)=>e,"rotr32H"),U2e=o((t,e)=>t,"rotr32L");function lf(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(lf,"add");var zE=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),KE=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),F2e=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),H2e=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),q2e=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),V2e=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Bo=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mt=new Uint32Array(32);function lm(t,e,r,n,i,s){let a=i[s],c=i[s+1],u=mt[2*t],h=mt[2*t+1],y=mt[2*e],g=mt[2*e+1],S=mt[2*r],T=mt[2*r+1],O=mt[2*n],M=mt[2*n+1],k=zE(u,y,a);h=KE(k,h,g,c),u=k|0,{Dh:M,Dl:O}={Dh:M^h,Dl:O^u},{Dh:M,Dl:O}={Dh:D2e(M,O),Dl:U2e(M,O)},{h:T,l:S}=lf(T,S,M,O),{Bh:g,Bl:y}={Bh:g^T,Bl:y^S},{Bh:g,Bl:y}={Bh:Pd(g,y,24),Bl:Ld(g,y,24)},mt[2*t]=u,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=g,mt[2*r]=S,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=M}o(lm,"G1b");function dm(t,e,r,n,i,s){let a=i[s],c=i[s+1],u=mt[2*t],h=mt[2*t+1],y=mt[2*e],g=mt[2*e+1],S=mt[2*r],T=mt[2*r+1],O=mt[2*n],M=mt[2*n+1],k=zE(u,y,a);h=KE(k,h,g,c),u=k|0,{Dh:M,Dl:O}={Dh:M^h,Dl:O^u},{Dh:M,Dl:O}={Dh:Pd(M,O,16),Dl:Ld(M,O,16)},{h:T,l:S}=lf(T,S,M,O),{Bh:g,Bl:y}={Bh:g^T,Bl:y^S},{Bh:g,Bl:y}={Bh:r1(g,y,63),Bl:n1(g,y,63)},mt[2*t]=u,mt[2*t+1]=h,mt[2*e]=y,mt[2*e+1]=g,mt[2*r]=S,mt[2*r+1]=T,mt[2*n]=O,mt[2*n+1]=M}o(dm,"G2b");function Dat(t,e={},r,n,i){if(Uv(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}o(Dat,"checkBlake2Opts");var dj=class extends um{static{o(this,"BLAKE2")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Uv(e),Uv(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=jE(this.buffer)}update(e){r0(this),e=pl(e),t0(e);let{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let u=0;u<s;){this.pos===r&&(t1(i),this.compress(i,0,!1),t1(i),this.pos=0);let h=Math.min(r-this.pos,s-u),y=a+u;if(h===r&&!(y%4)&&u+h<s){let g=new Uint32Array(c,y,Math.floor((s-u)/4));t1(g);for(let S=0;u+r<s;S+=i.length,u+=r)this.length+=r,this.compress(g,S,!1);t1(g);continue}n.set(e.subarray(u,u+h),this.pos),this.pos+=h,this.length+=h,u+=h}return this}digestInto(e){r0(this),x7(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,hl(this.buffer.subarray(r)),t1(n),this.compress(n,0,!0),t1(n);let i=jE(e);this.get().forEach((s,a)=>i[a]=Bd(s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}},E7=class extends dj{static{o(this,"BLAKE2b")}constructor(e={}){let r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Bo[0]|0,this.v0h=Bo[1]|0,this.v1l=Bo[2]|0,this.v1h=Bo[3]|0,this.v2l=Bo[4]|0,this.v2h=Bo[5]|0,this.v3l=Bo[6]|0,this.v3h=Bo[7]|0,this.v4l=Bo[8]|0,this.v4h=Bo[9]|0,this.v5l=Bo[10]|0,this.v5h=Bo[11]|0,this.v6l=Bo[12]|0,this.v6h=Bo[13]|0,this.v7l=Bo[14]|0,this.v7h=Bo[15]|0,Dat(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,a=0;if(n!==void 0&&(n=pl(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=pl(s);let c=jE(s);this.v4l^=Bd(c[0]),this.v4h^=Bd(c[1]),this.v5l^=Bd(c[2]),this.v5h^=Bd(c[3])}if(i!==void 0){i=pl(i);let c=jE(i);this.v6l^=Bd(c[0]),this.v6h^=Bd(c[1]),this.v7l^=Bd(c[2]),this.v7h^=Bd(c[3])}if(n!==void 0){let c=new Uint8Array(this.blockLen);c.set(n),this.update(c)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:c,v3h:u,v4l:h,v4h:y,v5l:g,v5h:S,v6l:T,v6h:O,v7l:M,v7h:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=u|0,this.v4l=h|0,this.v4h=y|0,this.v5l=g|0,this.v5h=S|0,this.v6l=T|0,this.v6h=O|0,this.v7l=M|0,this.v7h=k|0}compress(e,r,n){this.get().forEach((u,h)=>mt[h]=u),mt.set(Bo,16);let{h:i,l:s}=fj(BigInt(this.length));mt[24]=Bo[8]^s,mt[25]=Bo[9]^i,n&&(mt[28]=~mt[28],mt[29]=~mt[29]);let a=0,c=B2e;for(let u=0;u<12;u++)lm(0,4,8,12,e,r+2*c[a++]),dm(0,4,8,12,e,r+2*c[a++]),lm(1,5,9,13,e,r+2*c[a++]),dm(1,5,9,13,e,r+2*c[a++]),lm(2,6,10,14,e,r+2*c[a++]),dm(2,6,10,14,e,r+2*c[a++]),lm(3,7,11,15,e,r+2*c[a++]),dm(3,7,11,15,e,r+2*c[a++]),lm(0,5,10,15,e,r+2*c[a++]),dm(0,5,10,15,e,r+2*c[a++]),lm(1,6,11,12,e,r+2*c[a++]),dm(1,6,11,12,e,r+2*c[a++]),lm(2,7,8,13,e,r+2*c[a++]),dm(2,7,8,13,e,r+2*c[a++]),lm(3,4,9,14,e,r+2*c[a++]),dm(3,4,9,14,e,r+2*c[a++]);this.v0l^=mt[0]^mt[16],this.v0h^=mt[1]^mt[17],this.v1l^=mt[2]^mt[18],this.v1h^=mt[3]^mt[19],this.v2l^=mt[4]^mt[20],this.v2h^=mt[5]^mt[21],this.v3l^=mt[6]^mt[22],this.v3h^=mt[7]^mt[23],this.v4l^=mt[8]^mt[24],this.v4h^=mt[9]^mt[25],this.v5l^=mt[10]^mt[26],this.v5h^=mt[11]^mt[27],this.v6l^=mt[12]^mt[28],this.v6h^=mt[13]^mt[29],this.v7l^=mt[14]^mt[30],this.v7h^=mt[15]^mt[31],hl(mt)}destroy(){this.destroyed=!0,hl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},z2e=k2e(t=>new E7(t));var i1=z2e;p();m();p();m();function A7(t,e){return Qh.IntentMessage(Qh.fixedArray(e.length,Qh.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}o(A7,"messageWithIntent");function hj(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(hj,"bytesEqual");var Fv=class{static{o(this,"PublicKey")}equals(e){return hj(this.toRawBytes(),e.toRawBytes())}toBase64(){return Di(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return Di(e)}verifyWithIntent(e,r,n){let i=A7(n,e),s=i1(i,{dkLen:32});return this.verify(s,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(Qh.vector(Qh.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return kd(_7(i1(this.toSuiBytes(),{dkLen:32})).slice(0,fm*2))}};p();m();var n0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},K2e={ED25519:32,Secp256k1:33,Secp256r1:33},T7={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};p();m();p();m();p();m();function $2e(t,e){if(!!!t)throw new Error(e)}o($2e,"devAssert");p();m();var mj={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Uat=new Set(Object.keys(mj));function gj(t){let e=t?.kind;return typeof e=="string"&&Uat.has(e)}o(gj,"isNode");var pj;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(pj||(pj={}));p();m();var $E;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})($E||($E={}));p();m();p();m();function yj(t){return t===9||t===32}o(yj,"isWhiteSpace");function G2e(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,s=n.length>1&&n.slice(1).every(T=>T.length===0||yj(T.charCodeAt(0))),a=r.endsWith('\\"""'),c=t.endsWith('"')&&!a,u=t.endsWith("\\"),h=c||u,y=!(e!=null&&e.minimize)&&(!i||t.length>70||h||s||a),g="",S=i&&yj(t.charCodeAt(0));return(y&&!S||s)&&(g+=`
`),g+=r,(y||h)&&(g+=`
`),'"""'+g+'"""'}o(G2e,"printBlockString");p();m();function W2e(t){return I7(t,[])}o(W2e,"inspect");function I7(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return Fat(t,e);default:return String(t)}}o(I7,"formatValue");function Fat(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(Hat(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:I7(n,r)}else if(Array.isArray(t))return Vat(t,r);return qat(t,r)}o(Fat,"formatObjectValue");function Hat(t){return typeof t.toJSON=="function"}o(Hat,"isJSONable");function qat(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+jat(t)+"]":"{ "+r.map(([i,s])=>i+": "+I7(s,e)).join(", ")+" }"}o(qat,"formatObject");function Vat(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let s=0;s<r;++s)i.push(I7(t[s],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}o(Vat,"formatArray");function jat(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}o(jat,"getObjectTag");p();m();p();m();function Y2e(t){return`"${t.replace(zat,Kat)}"`}o(Y2e,"printString");var zat=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Kat(t){return $at[t.charCodeAt(0)]}o(Kat,"escapedReplacer");var $at=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];p();m();var X2e=Object.freeze({});function bj(t,e,r=mj){let n=new Map;for(let C of Object.values($E))n.set(C,Z2e(e,C));let i,s=Array.isArray(t),a=[t],c=-1,u=[],h=t,y,g,S=[],T=[];do{c++;let C=c===a.length,B=C&&u.length!==0;if(C){if(y=T.length===0?void 0:S[S.length-1],h=g,g=T.pop(),B)if(s){h=h.slice();let P=0;for(let[H,F]of u){let Z=H-P;F===null?(h.splice(Z,1),P++):h[Z]=F}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(let[P,H]of u)h[P]=H}c=i.index,a=i.keys,u=i.edits,s=i.inArray,i=i.prev}else if(g){if(y=s?c:a[c],h=g[y],h==null)continue;S.push(y)}let N;if(!Array.isArray(h)){var O,M;gj(h)||$2e(!1,`Invalid AST Node: ${W2e(h)}.`);let P=C?(O=n.get(h.kind))===null||O===void 0?void 0:O.leave:(M=n.get(h.kind))===null||M===void 0?void 0:M.enter;if(N=P?.call(e,h,y,g,S,T),N===X2e)break;if(N===!1){if(!C){S.pop();continue}}else if(N!==void 0&&(u.push([y,N]),!C))if(gj(N))h=N;else{S.pop();continue}}if(N===void 0&&B&&u.push([y,h]),C)S.pop();else{var k;i={inArray:s,index:c,keys:a,edits:u,prev:i},s=Array.isArray(h),a=s?h:(k=r[h.kind])!==null&&k!==void 0?k:[],c=-1,u=[],g&&T.push(g),g=h}}while(i!==void 0);return u.length!==0?u[u.length-1][1]:t}o(bj,"visit");function Z2e(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}o(Z2e,"getEnterLeaveForKind");function O7(t){return bj(t,Wat)}o(O7,"print");var Gat=80,Wat={Name:{leave:o(t=>t.value,"leave")},Variable:{leave:o(t=>"$"+t.name,"leave")},Document:{leave:o(t=>Nt(t.definitions,`

`),"leave")},OperationDefinition:{leave(t){let e=Vr("(",Nt(t.variableDefinitions,", "),")"),r=Nt([t.operation,Nt([t.name,e]),Nt(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:o(({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Vr(" = ",r)+Vr(" ",Nt(n," ")),"leave")},SelectionSet:{leave:o(({selections:t})=>ml(t),"leave")},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let s=Vr("",t,": ")+e,a=s+Vr("(",Nt(r,", "),")");return a.length>Gat&&(a=s+Vr(`(
`,R7(Nt(r,`
`)),`
)`)),Nt([a,Nt(n," "),i]," ")}},Argument:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},FragmentSpread:{leave:o(({name:t,directives:e})=>"..."+t+Vr(" ",Nt(e," ")),"leave")},InlineFragment:{leave:o(({typeCondition:t,directives:e,selectionSet:r})=>Nt(["...",Vr("on ",t),Nt(e," "),r]," "),"leave")},FragmentDefinition:{leave:o(({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${Vr("(",Nt(r,", "),")")} on ${e} ${Vr("",Nt(n," ")," ")}`+i,"leave")},IntValue:{leave:o(({value:t})=>t,"leave")},FloatValue:{leave:o(({value:t})=>t,"leave")},StringValue:{leave:o(({value:t,block:e})=>e?G2e(t):Y2e(t),"leave")},BooleanValue:{leave:o(({value:t})=>t?"true":"false","leave")},NullValue:{leave:o(()=>"null","leave")},EnumValue:{leave:o(({value:t})=>t,"leave")},ListValue:{leave:o(({values:t})=>"["+Nt(t,", ")+"]","leave")},ObjectValue:{leave:o(({fields:t})=>"{"+Nt(t,", ")+"}","leave")},ObjectField:{leave:o(({name:t,value:e})=>t+": "+e,"leave")},Directive:{leave:o(({name:t,arguments:e})=>"@"+t+Vr("(",Nt(e,", "),")"),"leave")},NamedType:{leave:o(({name:t})=>t,"leave")},ListType:{leave:o(({type:t})=>"["+t+"]","leave")},NonNullType:{leave:o(({type:t})=>t+"!","leave")},SchemaDefinition:{leave:o(({description:t,directives:e,operationTypes:r})=>Vr("",t,`
`)+Nt(["schema",Nt(e," "),ml(r)]," "),"leave")},OperationTypeDefinition:{leave:o(({operation:t,type:e})=>t+": "+e,"leave")},ScalarTypeDefinition:{leave:o(({description:t,name:e,directives:r})=>Vr("",t,`
`)+Nt(["scalar",e,Nt(r," ")]," "),"leave")},ObjectTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Vr("",t,`
`)+Nt(["type",e,Vr("implements ",Nt(r," & ")),Nt(n," "),ml(i)]," "),"leave")},FieldDefinition:{leave:o(({description:t,name:e,arguments:r,type:n,directives:i})=>Vr("",t,`
`)+e+(J2e(r)?Vr(`(
`,R7(Nt(r,`
`)),`
)`):Vr("(",Nt(r,", "),")"))+": "+n+Vr(" ",Nt(i," ")),"leave")},InputValueDefinition:{leave:o(({description:t,name:e,type:r,defaultValue:n,directives:i})=>Vr("",t,`
`)+Nt([e+": "+r,Vr("= ",n),Nt(i," ")]," "),"leave")},InterfaceTypeDefinition:{leave:o(({description:t,name:e,interfaces:r,directives:n,fields:i})=>Vr("",t,`
`)+Nt(["interface",e,Vr("implements ",Nt(r," & ")),Nt(n," "),ml(i)]," "),"leave")},UnionTypeDefinition:{leave:o(({description:t,name:e,directives:r,types:n})=>Vr("",t,`
`)+Nt(["union",e,Nt(r," "),Vr("= ",Nt(n," | "))]," "),"leave")},EnumTypeDefinition:{leave:o(({description:t,name:e,directives:r,values:n})=>Vr("",t,`
`)+Nt(["enum",e,Nt(r," "),ml(n)]," "),"leave")},EnumValueDefinition:{leave:o(({description:t,name:e,directives:r})=>Vr("",t,`
`)+Nt([e,Nt(r," ")]," "),"leave")},InputObjectTypeDefinition:{leave:o(({description:t,name:e,directives:r,fields:n})=>Vr("",t,`
`)+Nt(["input",e,Nt(r," "),ml(n)]," "),"leave")},DirectiveDefinition:{leave:o(({description:t,name:e,arguments:r,repeatable:n,locations:i})=>Vr("",t,`
`)+"directive @"+e+(J2e(r)?Vr(`(
`,R7(Nt(r,`
`)),`
)`):Vr("(",Nt(r,", "),")"))+(n?" repeatable":"")+" on "+Nt(i," | "),"leave")},SchemaExtension:{leave:o(({directives:t,operationTypes:e})=>Nt(["extend schema",Nt(t," "),ml(e)]," "),"leave")},ScalarTypeExtension:{leave:o(({name:t,directives:e})=>Nt(["extend scalar",t,Nt(e," ")]," "),"leave")},ObjectTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Nt(["extend type",t,Vr("implements ",Nt(e," & ")),Nt(r," "),ml(n)]," "),"leave")},InterfaceTypeExtension:{leave:o(({name:t,interfaces:e,directives:r,fields:n})=>Nt(["extend interface",t,Vr("implements ",Nt(e," & ")),Nt(r," "),ml(n)]," "),"leave")},UnionTypeExtension:{leave:o(({name:t,directives:e,types:r})=>Nt(["extend union",t,Nt(e," "),Vr("= ",Nt(r," | "))]," "),"leave")},EnumTypeExtension:{leave:o(({name:t,directives:e,values:r})=>Nt(["extend enum",t,Nt(e," "),ml(r)]," "),"leave")},InputObjectTypeExtension:{leave:o(({name:t,directives:e,fields:r})=>Nt(["extend input",t,Nt(e," "),ml(r)]," "),"leave")}};function Nt(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}o(Nt,"join");function ml(t){return Vr(`{
`,R7(Nt(t,`
`)),`
}`)}o(ml,"block");function Vr(t,e,r=""){return e!=null&&e!==""?t+e+r:""}o(Vr,"wrap");function R7(t){return Vr("  ",t.replace(/\n/g,`
  `))}o(R7,"indent");function J2e(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}o(J2e,"hasMultilineItems");p();m();var Q2e=o(t=>{throw TypeError(t)},"__typeError"),e_e=o((t,e,r)=>e.has(t)||Q2e("Cannot "+r),"__accessCheck"),M7=o((t,e,r)=>(e_e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),N7=o((t,e,r)=>e.has(t)?Q2e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),C7=o((t,e,r,n)=>(e_e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),k7,B7,P7,L7,xj=class extends Error{static{o(this,"SuiGraphQLRequestError")}},D7=class{static{o(this,"SuiGraphQLClient")}constructor({url:e,fetch:r=fetch,headers:n={},queries:i={}}){N7(this,k7),N7(this,B7),N7(this,P7),N7(this,L7),C7(this,k7,e),C7(this,B7,i),C7(this,P7,n),C7(this,L7,(...s)=>r(...s))}async query(e){let r=await M7(this,L7).call(this,M7(this,k7),{method:"POST",headers:{"Content-Type":"application/json",...M7(this,P7)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):O7(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new xj(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:M7(this,B7)[e]})}};k7=new WeakMap;B7=new WeakMap;P7=new WeakMap;L7=new WeakMap;p();m();p();m();p();m();var GE={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var wj=class extends Error{static{o(this,"GraphQLError")}constructor(e,r,n,i,s,a,c){super(e),this.name="GraphQLError",this.message=e,s&&(this.path=s),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),i&&(this.positions=i),a&&(this.originalError=a);var u=c;if(!u&&a){var h=a.extensions;h&&typeof h=="object"&&(u=h)}this.extensions=u||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},yn,Dt;function lo(t){return new wj(`Syntax Error: Unexpected token at ${Dt} in ${t}`)}o(lo,"error");function df(t){if(t.lastIndex=Dt,t.test(yn))return yn.slice(Dt,Dt=t.lastIndex)}o(df,"advance");var U7=/ +(?=[^\s])/y;function Yat(t){for(var e=t.split(`
`),r="",n=0,i=0,s=e.length-1,a=0;a<e.length;a++)U7.lastIndex=0,U7.test(e[a])&&(a&&(!n||U7.lastIndex<n)&&(n=U7.lastIndex),i=i||a,s=a);for(var c=i;c<=s;c++)c!==i&&(r+=`
`),r+=e[c].slice(n).replace(/\\"""/g,'"""');return r}o(Yat,"blockString");function yr(){for(var t=0|yn.charCodeAt(Dt++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|yn.charCodeAt(Dt++))if(t===35)for(;(t=yn.charCodeAt(Dt++))!==10&&t!==13;);Dt--}o(yr,"ignored");var Ha=/[_A-Za-z]\w*/y,vj=new RegExp("(?:(null|true|false)|\\$("+Ha.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+Ha.source+"))","y"),hm=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(hm||{}),Xat=/\\/;function F7(t){var e,r;if(vj.lastIndex=Dt,yn.charCodeAt(Dt)===91){Dt++,yr();for(var n=[];yn.charCodeAt(Dt)!==93;)n.push(F7(t));return Dt++,yr(),{kind:"ListValue",values:n}}else if(yn.charCodeAt(Dt)===123){Dt++,yr();for(var i=[];yn.charCodeAt(Dt)!==125;){if((e=df(Ha))==null||(yr(),yn.charCodeAt(Dt++)!==58))throw lo("ObjectField");yr(),i.push({kind:"ObjectField",name:{kind:"Name",value:e},value:F7(t)})}return Dt++,yr(),{kind:"ObjectValue",fields:i}}else if((r=vj.exec(yn))!=null){if(Dt=vj.lastIndex,yr(),(e=r[hm.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[hm.Var])!=null){if(t)throw lo("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[hm.Int])!=null){var s;return(s=r[hm.Float])!=null?{kind:"FloatValue",value:e+s}:{kind:"IntValue",value:e}}else{if((e=r[hm.BlockString])!=null)return{kind:"StringValue",value:Yat(e.slice(3,-3)),block:!0};if((e=r[hm.String])!=null)return{kind:"StringValue",value:Xat.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[hm.Enum])!=null)return{kind:"EnumValue",value:e}}}throw lo("Value")}o(F7,"value");function t_e(t){if(yn.charCodeAt(Dt)===40){var e=[];Dt++,yr();var r;do{if((r=df(Ha))==null||(yr(),yn.charCodeAt(Dt++)!==58))throw lo("Argument");yr(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:F7(t)})}while(yn.charCodeAt(Dt)!==41);return Dt++,yr(),e}}o(t_e,"arguments_");function Hv(t){if(yn.charCodeAt(Dt)===64){var e=[],r;do{if(Dt++,(r=df(Ha))==null)throw lo("Directive");yr(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:t_e(t)})}while(yn.charCodeAt(Dt)===64);return e}}o(Hv,"directives");function Zat(){for(var t,e=0;yn.charCodeAt(Dt)===91;)e++,Dt++,yr();if((t=df(Ha))==null)throw lo("NamedType");yr();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(yn.charCodeAt(Dt)===33&&(Dt++,yr(),r={kind:"NonNullType",type:r}),e){if(yn.charCodeAt(Dt++)!==93)throw lo("NamedType");yr(),r={kind:"ListType",type:r}}while(e--);return r}o(Zat,"type");var _j=new RegExp("(?:(\\.{3})|("+Ha.source+"))","y"),Sj=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(Sj||{});function H7(){var t=[],e,r;do if(_j.lastIndex=Dt,(r=_j.exec(yn))!=null){if(Dt=_j.lastIndex,r[Sj.Spread]!=null){yr();var n=df(Ha);if(n!=null&&n!=="on")yr(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:Hv(!1)});else{if(yr(),n==="on"){if((n=df(Ha))==null)throw lo("NamedType");yr()}var i=Hv(!1);if(yn.charCodeAt(Dt++)!==123)throw lo("InlineFragment");yr(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:i,selectionSet:H7()})}}else if((e=r[Sj.Name])!=null){var s=void 0;if(yr(),yn.charCodeAt(Dt)===58){if(Dt++,yr(),s=e,(e=df(Ha))==null)throw lo("Field");yr()}var a=t_e(!1);yr();var c=Hv(!1),u=void 0;yn.charCodeAt(Dt)===123&&(Dt++,yr(),u=H7()),t.push({kind:"Field",alias:s?{kind:"Name",value:s}:void 0,name:{kind:"Name",value:e},arguments:a,directives:c,selectionSet:u})}}else throw lo("SelectionSet");while(yn.charCodeAt(Dt)!==125);return Dt++,yr(),{kind:"SelectionSet",selections:t}}o(H7,"selectionSet");function Jat(){var t,e;if((t=df(Ha))==null||(yr(),df(Ha)!=="on")||(yr(),(e=df(Ha))==null))throw lo("FragmentDefinition");yr();var r=Hv(!1);if(yn.charCodeAt(Dt++)!==123)throw lo("FragmentDefinition");return yr(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:H7()}}o(Jat,"fragmentDefinition");var Qat=/(?:query|mutation|subscription|fragment)/y;function ect(t){var e,r,n;if(t&&(yr(),e=df(Ha),r=o(function(){if(yr(),yn.charCodeAt(Dt)===40){var s=[];Dt++,yr();var a;do{if(yn.charCodeAt(Dt++)!==36||(a=df(Ha))==null)throw lo("Variable");if(yr(),yn.charCodeAt(Dt++)!==58)throw lo("VariableDefinition");yr();var c=Zat(),u=void 0;yn.charCodeAt(Dt)===61&&(Dt++,yr(),u=F7(!0)),yr(),s.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:a}},type:c,defaultValue:u,directives:Hv(!0)})}while(yn.charCodeAt(Dt)!==41);return Dt++,yr(),s}},"variableDefinitions")(),n=Hv(!1)),yn.charCodeAt(Dt)===123)return Dt++,yr(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:H7()}}o(ect,"operationDefinition");function r_e(t,e){return Dt=0,o(function(n,i){var s,a;yr();var c=[];do if((s=df(Qat))==="fragment")yr(),c.push(Jat());else if((a=ect(s))!=null)c.push(a);else throw lo("Document");while(Dt<n.length);if(!i){var u;return{kind:"Document",definitions:c,set loc(h){u=h},get loc(){return u||(u={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),u}}}return{kind:"Document",definitions:c}},"document")(yn=typeof t.body=="string"?t.body:t,e&&e.noLocation)}o(r_e,"parse");var n_e=0,Ej=new Set;function Aj(){function t(e,r){var n=r_e(e).definitions,i=new Set;for(var s of r||[])for(var a of s.definitions)a.kind===GE.FRAGMENT_DEFINITION&&!i.has(a)&&(n.push(a),i.add(a));var c;(c=n[0].kind===GE.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(h=>h.name.value!=="_unmask"));var u;return{kind:GE.DOCUMENT,definitions:n,get loc(){if(!u&&c){var h=e+o(function(g){try{n_e++;var S="";for(var T of g)if(!Ej.has(T)){Ej.add(T);var{loc:O}=T;O&&(S+=O.source.body)}return S}finally{--n_e==0&&Ej.clear()}},"concatLocSources")(r||[]);return{start:0,end:h.length,source:{body:h,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return u},set loc(h){u=h}}}return o(t,"graphql"),t.scalar=o(function(r,n){return n},"scalar"),t.persisted=o(function(r,n){return{kind:GE.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},"persisted"),t}o(Aj,"initGraphQLTada");var E6r=Aj();var i_e=Aj();p();m();function tct(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}o(tct,"base64UrlCharTo6Bits");function rct(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),i=tct(n);e=e.concat(i)}return e}o(rct,"base64UrlStringToBitVector");function nct(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=rct(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let i=(e+t.length-1)%4;if(i!==3)if(i===2)r=r.slice(0,r.length-2);else if(i===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let s=new Uint8Array(Math.floor(r.length/8)),a=0;for(let c=0;c<r.length;c+=8){let u=r.slice(c,c+8),h=parseInt(u.join(""),2);s[a++]=h}return new TextDecoder().decode(s)}o(nct,"decodeBase64URL");function ict(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}o(ict,"verifyExtendedClaim");function o_e(t,e){let r=nct(t.value,t.indexMod4),[n,i]=ict(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return i}o(o_e,"extractClaimValue");p();m();p();m();var s_e=ie.struct("ZkLoginSignature",{inputs:ie.struct("ZkLoginSignatureInputs",{proofPoints:ie.struct("ZkLoginSignatureInputsProofPoints",{a:ie.vector(ie.string()),b:ie.vector(ie.vector(ie.string())),c:ie.vector(ie.string())}),issBase64Details:ie.struct("ZkLoginSignatureInputsClaim",{value:ie.string(),indexMod4:ie.u8()}),headerBase64:ie.string(),addressSeed:ie.string()}),maxEpoch:ie.u64(),userSignature:ie.vector(ie.u8())});function a_e(t){return s_e.parse(typeof t=="string"?is(t):t)}o(a_e,"parseZkLoginSignature");p();m();function oct(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}o(oct,"findFirstNonZeroIndex");function q7(t,e){let r=t.toString(16);return N2e(r.padStart(e*2,"0").slice(-e*2))}o(q7,"toPaddedBigEndianBytes");function Tj(t,e){let r=q7(t,e),n=oct(r);return n===-1?new Uint8Array([0]):r.slice(n)}o(Tj,"toBigEndianBytes");var u_e=o(t=>{throw TypeError(t)},"__typeError"),l_e=o((t,e,r)=>e.has(t)||u_e("Cannot "+r),"__accessCheck"),i0=o((t,e,r)=>(l_e(t,e,"read from private field"),r?r.call(t):e.get(t)),"__privateGet"),Ij=o((t,e,r)=>e.has(t)?u_e("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),"__privateAdd"),qv=o((t,e,r,n)=>(l_e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),"__privateSet"),gl,WE,YE,sct=class Rj extends Fv{static{o(this,"_ZkLoginPublicIdentifier")}constructor(e,{client:r}={}){super(),Ij(this,gl),Ij(this,WE),Ij(this,YE),qv(this,WE,r),typeof e=="string"?qv(this,gl,is(e)):e instanceof Uint8Array?qv(this,gl,e):qv(this,gl,Uint8Array.from(e)),qv(this,YE,i0(this,gl).length!==i0(this,gl)[0]+1+32),i0(this,YE)&&qv(this,gl,c_e(i0(this,gl)))}equals(e){return super.equals(e)}toSuiAddress(){if(i0(this,YE)){let e=c_e(i0(this,gl),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),kd(_7(i1(r,{dkLen:32})).slice(0,fm*2))}return super.toSuiAddress()}toRawBytes(){return i0(this,gl)}flag(){return n0.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=V7(r),i=new Rj(n.publicKey).toSuiAddress();return f_e({address:i,bytes:Di(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:i0(this,WE)})}verifyTransaction(e,r){let n=V7(r),i=new Rj(n.publicKey).toSuiAddress();return f_e({address:i,bytes:Di(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:i0(this,WE)})}};gl=new WeakMap;WE=new WeakMap;YE=new WeakMap;var act=sct;function cct(t,e,r){let n=r?.legacyAddress?Tj(t,32):q7(t,32),i=new TextEncoder().encode(e),s=new Uint8Array(1+i.length+n.length);return s.set([i.length],0),s.set(i,1),s.set(n,1+i.length),new act(s,r)}o(cct,"toZkLoginPublicIdentifier");var fct=i_e(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function c_e(t,e=!1){let r=t[0]+1,n=BigInt(`0x${uu(t.slice(r))}`),i=e?Tj(n,32):q7(n,32),s=new Uint8Array(r+i.length);return s.set(t.slice(0,r),0),s.set(i,r),s}o(c_e,"normalizeZkLoginPublicKeyBytes");async function f_e({address:t,bytes:e,signature:r,intentScope:n,client:i=new D7({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let s=await i.query({query:fct,variables:{bytes:e,signature:r,intentScope:n,author:t}});return s.data?.verifyZkloginSignature.success===!0&&s.data?.verifyZkloginSignature.errors.length===0}o(f_e,"graphqlVerifyZkLoginSignature");function V7(t){let e=typeof t=="string"?is(t):t;if(e[0]!==n0.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:i,userSignature:s}=a_e(r),{issBase64Details:a,addressSeed:c}=n,u=o_e(a,"iss"),h=cct(BigInt(c),u);return{serializedSignature:Di(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:i,userSignature:s,iss:u,addressSeed:BigInt(c)},signature:e,publicKey:h.toRawBytes()}}o(V7,"parseSerializedZkLoginSignature");function d_e({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),i=new Uint8Array(1+t.length+n.length);return i.set([n0[e]]),i.set(t,1),i.set(n,1+t.length),Di(i)}o(d_e,"toSerializedSignature");function h_e(t){let e=is(t),r=T7[e[0]];switch(r){case"MultiSig":let n=Qh.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return V7(t);case"ED25519":case"Secp256k1":case"Secp256r1":let i=K2e[r],s=e.slice(1,e.length-i),a=e.slice(1+s.length);return{serializedSignature:t,signatureScheme:r,signature:s,publicKey:a,bytes:e};default:throw new Error("Unsupported signature scheme")}}o(h_e,"parseSerializedSignature");p();m();p();m();p();m();function Vv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}o(Vv,"anumber");function uct(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}o(uct,"isBytes");function XE(t,...e){if(!uct(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}o(XE,"abytes");function j7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vv(t.outputLen),Vv(t.blockLen)}o(j7,"ahash");function jv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(jv,"aexists");function p_e(t,e){XE(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}o(p_e,"aoutput");p();m();p();m();p();m();var Kv=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView");function lct(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}o(lct,"utf8ToBytes");function pm(t){return typeof t=="string"&&(t=lct(t)),XE(t),t}o(pm,"toBytes");var zv=class{static{o(this,"Hash")}clone(){return this._cloneInto()}};function m_e(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}o(m_e,"checkOpts");function g_e(t){let e=o(n=>t().update(pm(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(g_e,"wrapConstructor");var z7=class extends zv{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,j7(e);let n=pm(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return jv(this),this.iHash.update(e),this}digestInto(e){jv(this),XE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Oj=o((t,e,r)=>new z7(t,e).update(r).digest(),"hmac");Oj.create=(t,e)=>new z7(t,e);function dct(t,e,r,n){j7(t);let i=m_e({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(Vv(s),Vv(a),Vv(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let u=pm(e),h=pm(r),y=new Uint8Array(a),g=Oj.create(t,u),S=g._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:g,PRFSalt:S}}o(dct,"pbkdf2Init");function hct(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(hct,"pbkdf2Output");function y_e(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:u}=dct(t,e,r,n),h,y=new Uint8Array(4),g=Kv(y),S=new Uint8Array(c.outputLen);for(let T=1,O=0;O<s;T++,O+=c.outputLen){let M=a.subarray(O,O+c.outputLen);g.setInt32(0,T,!1),(h=u._cloneInto(h)).update(y).digestInto(S),M.set(S.subarray(0,M.length));for(let k=1;k<i;k++){c._cloneInto(h).update(S).digestInto(S);for(let C=0;C<M.length;C++)M[C]^=S[C]}}return hct(c,u,a,h,S)}o(y_e,"pbkdf2");p();m();function pct(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(pct,"setBigUint64");var K7=class extends zv{static{o(this,"HashMD")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Kv(this.buffer)}update(e){jv(this);let{view:r,buffer:n,blockLen:i}=this;e=pm(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=Kv(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jv(this),p_e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;pct(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=Kv(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};p();m();p();m();var $7=BigInt(4294967295),Mj=BigInt(32);function b_e(t,e=!1){return e?{h:Number(t&$7),l:Number(t>>Mj&$7)}:{h:Number(t>>Mj&$7)|0,l:Number(t&$7)|0}}o(b_e,"fromBig");function mct(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=b_e(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}o(mct,"split");var gct=o((t,e)=>BigInt(t>>>0)<<Mj|BigInt(e>>>0),"toBig"),yct=o((t,e,r)=>t>>>r,"shrSH"),bct=o((t,e,r)=>t<<32-r|e>>>r,"shrSL"),xct=o((t,e,r)=>t>>>r|e<<32-r,"rotrSH"),vct=o((t,e,r)=>t<<32-r|e>>>r,"rotrSL"),_ct=o((t,e,r)=>t<<64-r|e>>>r-32,"rotrBH"),wct=o((t,e,r)=>t>>>r-32|e<<64-r,"rotrBL"),Sct=o((t,e)=>e,"rotr32H"),Ect=o((t,e)=>t,"rotr32L"),Act=o((t,e,r)=>t<<r|e>>>32-r,"rotlSH"),Tct=o((t,e,r)=>e<<r|t>>>32-r,"rotlSL"),Ict=o((t,e,r)=>e<<r-32|t>>>64-r,"rotlBH"),Rct=o((t,e,r)=>t<<r-32|e>>>64-r,"rotlBL");function Oct(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}o(Oct,"add");var Mct=o((t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),"add3L"),Nct=o((t,e,r,n)=>e+r+n+(t/2**32|0)|0,"add3H"),Cct=o((t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),"add4L"),kct=o((t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,"add4H"),Bct=o((t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),"add5L"),Pct=o((t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,"add5H");var Lct={fromBig:b_e,split:mct,toBig:gct,shrSH:yct,shrSL:bct,rotrSH:xct,rotrSL:vct,rotrBH:_ct,rotrBL:wct,rotr32H:Sct,rotr32L:Ect,rotlSH:Act,rotlSL:Tct,rotlBH:Ict,rotlBL:Rct,add:Oct,add3L:Mct,add3H:Nct,add4L:Cct,add4H:kct,add5H:Pct,add5L:Bct},vr=Lct;var[Dct,Uct]=vr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mm=new Uint32Array(80),gm=new Uint32Array(80),Nj=class extends K7{static{o(this,"SHA512")}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)mm[N]=e.getUint32(r),gm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=mm[N-15]|0,H=gm[N-15]|0,F=vr.rotrSH(P,H,1)^vr.rotrSH(P,H,8)^vr.shrSH(P,H,7),Z=vr.rotrSL(P,H,1)^vr.rotrSL(P,H,8)^vr.shrSL(P,H,7),W=mm[N-2]|0,X=gm[N-2]|0,E=vr.rotrSH(W,X,19)^vr.rotrBH(W,X,61)^vr.shrSH(W,X,6),f=vr.rotrSL(W,X,19)^vr.rotrBL(W,X,61)^vr.shrSL(W,X,6),d=vr.add4L(Z,f,gm[N-7],gm[N-16]),b=vr.add4H(d,F,E,mm[N-7],mm[N-16]);mm[N]=b|0,gm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=vr.rotrSH(g,S,14)^vr.rotrSH(g,S,18)^vr.rotrBH(g,S,41),H=vr.rotrSL(g,S,14)^vr.rotrSL(g,S,18)^vr.rotrBL(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=vr.add5L(B,H,Z,Uct[N],gm[N]),X=vr.add5H(W,C,P,F,Dct[N],mm[N]),E=W|0,f=vr.rotrSH(n,i,28)^vr.rotrBH(n,i,34)^vr.rotrBH(n,i,39),d=vr.rotrSL(n,i,28)^vr.rotrBL(n,i,34)^vr.rotrBL(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=vr.add(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=vr.add3L(E,d,x);n=vr.add3H(_,X,f,b),i=_|0}({h:n,l:i}=vr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=vr.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=vr.add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=vr.add(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=vr.add(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=vr.add(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=vr.add(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=vr.add(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){mm.fill(0),gm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var x_e=g_e(()=>new Nj);function v_e(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}o(v_e,"nfkd");function Fct(t){let e=v_e(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}o(Fct,"normalize");var Hct=o(t=>v_e("mnemonic"+t),"salt");function __e(t,e=""){return y_e(x_e,Fct(t).nfkd,Hct(e),{c:2048,dkLen:64})}o(__e,"mnemonicToSeedSync");function Cj(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}o(Cj,"isValidHardenedPath");function qct(t){return __e(t,"")}o(qct,"mnemonicToSeed");function w_e(t){return uu(qct(t))}o(w_e,"mnemonicToSeedHex");p();m();var ZE=$e(Wv(),1);var Yv=32;var Bj="suiprivkey",W7=class{static{o(this,"Signer")}async signWithIntent(e,r){let n=A7(r,e),i=i1(n,{dkLen:32});return{signature:d_e({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Di(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(ie.vector(ie.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:Di(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},JE=class extends W7{static{o(this,"Keypair")}};function o1(t){let{prefix:e,words:r}=ZE.bech32.decode(t);if(e!==Bj)throw new Error("invalid private key prefix");let n=new Uint8Array(ZE.bech32.fromWords(r)),i=n.slice(1);return{schema:T7[n[0]],secretKey:i}}o(o1,"decodeSuiPrivateKey");function Pj(t,e){if(t.length!==Yv)throw new Error("Invalid bytes length");let r=n0[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),ZE.bech32.encode(Bj,ZE.bech32.toWords(n))}o(Pj,"encodeSuiPrivateKey");p();m();p();m();var s1=$e(o0(),1);p();m();p();m();var X7=class extends um{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,I2e(e);let n=pl(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),hl(s)}update(e){return r0(this),this.iHash.update(e),this}digestInto(e){r0(this),t0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Z7=o((t,e,r)=>new X7(t,e).update(r).digest(),"hmac");Z7.create=(t,e)=>new X7(t,e);p();m();p();m();var T_e=L2e(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Kct=T_e[0],$ct=T_e[1],ym=new Uint32Array(80),bm=new Uint32Array(80),J7=class extends w7{static{o(this,"SHA512")}constructor(e=64){super(128,e,16,!1),this.Ah=As[0]|0,this.Al=As[1]|0,this.Bh=As[2]|0,this.Bl=As[3]|0,this.Ch=As[4]|0,this.Cl=As[5]|0,this.Dh=As[6]|0,this.Dl=As[7]|0,this.Eh=As[8]|0,this.El=As[9]|0,this.Fh=As[10]|0,this.Fl=As[11]|0,this.Gh=As[12]|0,this.Gl=As[13]|0,this.Hh=As[14]|0,this.Hl=As[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:y,Fh:g,Fl:S,Gh:T,Gl:O,Hh:M,Hl:k}=this;return[e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k]}set(e,r,n,i,s,a,c,u,h,y,g,S,T,O,M,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=y|0,this.Fh=g|0,this.Fl=S|0,this.Gh=T|0,this.Gl=O|0,this.Hh=M|0,this.Hl=k|0}process(e,r){for(let N=0;N<16;N++,r+=4)ym[N]=e.getUint32(r),bm[N]=e.getUint32(r+=4);for(let N=16;N<80;N++){let P=ym[N-15]|0,H=bm[N-15]|0,F=Pd(P,H,1)^Pd(P,H,8)^uj(P,H,7),Z=Ld(P,H,1)^Ld(P,H,8)^lj(P,H,7),W=ym[N-2]|0,X=bm[N-2]|0,E=Pd(W,X,19)^r1(W,X,61)^uj(W,X,6),f=Ld(W,X,19)^n1(W,X,61)^lj(W,X,6),d=F2e(Z,f,bm[N-7],bm[N-16]),b=H2e(d,F,E,ym[N-7],ym[N-16]);ym[N]=b|0,bm[N]=d|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:h,Dl:y,Eh:g,El:S,Fh:T,Fl:O,Gh:M,Gl:k,Hh:C,Hl:B}=this;for(let N=0;N<80;N++){let P=Pd(g,S,14)^Pd(g,S,18)^r1(g,S,41),H=Ld(g,S,14)^Ld(g,S,18)^n1(g,S,41),F=g&T^~g&M,Z=S&O^~S&k,W=q2e(B,H,Z,$ct[N],bm[N]),X=V2e(W,C,P,F,Kct[N],ym[N]),E=W|0,f=Pd(n,i,28)^r1(n,i,34)^r1(n,i,39),d=Ld(n,i,28)^n1(n,i,34)^n1(n,i,39),b=n&s^n&c^s&c,x=i&a^i&u^a&u;C=M|0,B=k|0,M=T|0,k=O|0,T=g|0,O=S|0,{h:g,l:S}=lf(h|0,y|0,X|0,E|0),h=c|0,y=u|0,c=s|0,u=a|0,s=n|0,a=i|0;let _=zE(E,d,x);n=KE(_,X,f,b),i=_|0}({h:n,l:i}=lf(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=lf(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=lf(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:y}=lf(this.Dh|0,this.Dl|0,h|0,y|0),{h:g,l:S}=lf(this.Eh|0,this.El|0,g|0,S|0),{h:T,l:O}=lf(this.Fh|0,this.Fl|0,T|0,O|0),{h:M,l:k}=lf(this.Gh|0,this.Gl|0,M|0,k|0),{h:C,l:B}=lf(this.Hh|0,this.Hl|0,C|0,B|0),this.set(n,i,s,a,c,u,h,y,g,S,T,O,M,k,C,B)}roundClean(){hl(ym,bm)}destroy(){hl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var I_e=C2e(()=>new J7);var Lj=I_e;var Gct=$e(o0(),1);var Wct="ed25519 seed",Yct=2147483648,Xct=new RegExp("^m(\\/[0-9]+')+$"),R_e=o(t=>t.replace("'",""),"replaceDerive"),Zct=o(t=>{let r=Z7.create(Lj,Wct).update(am(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},"getMasterKeyFromSeed"),Jct=o(({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let a=Z7.create(Lj,e).update(s).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},"CKDPriv");var Qct=o(t=>Xct.test(t)?!t.split("/").slice(1).map(R_e).some(isNaN):!1,"isValidPath"),Dj=o((t,e,r=Yct)=>{if(!Qct(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Zct(e);return t.split("/").slice(1).map(R_e).map(a=>parseInt(a,10)).reduce((a,c)=>Jct(a,c+r),{key:n,chainCode:i})},"derivePath");p();m();var O_e=$e(o0(),1);var Uj=32,xm=class extends Fv{static{o(this,"Ed25519PublicKey")}constructor(e){if(super(),typeof e=="string"?this.data=is(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Uj)throw new Error(`Invalid public key input. Expected ${Uj} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return n0.ED25519}async verify(e,r){let n;if(typeof r=="string"){let i=h_e(r);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!hj(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");n=i.signature}else n=r;return O_e.default.sign.detached.verify(e,n,this.toRawBytes())}};xm.SIZE=Uj;var Fj="m/44'/784'/0'/0'/0'",a1=class t extends JE{static{o(this,"Ed25519Keypair")}constructor(e){super(),e?this.keypair=e:this.keypair=s1.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(s1.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let s=o1(e);if(s.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${s.schema}`);return this.fromSecretKey(s.secretKey,r)}let n=e.length;if(n!==Yv)throw new Error(`Wrong secretKey size. Expected ${Yv} bytes, got ${n}.`);let i=s1.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let a=new TextEncoder().encode("sui validation"),c=s1.default.sign.detached(a,i.secretKey);if(!s1.default.sign.detached.verify(a,c,i.publicKey))throw new Error("provided secretKey is invalid")}return new t(i)}getPublicKey(){return new xm(this.keypair.publicKey)}getSecretKey(){return Pj(this.keypair.secretKey.slice(0,Yv),this.getKeyScheme())}async sign(e){return s1.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=Fj),!Cj(r))throw new Error("Invalid derivation path");let{key:n}=Dj(r,w_e(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=Fj),!Cj(r))throw new Error("Invalid derivation path");let{key:n}=Dj(r,e);return t.fromSecretKey(n)}};var Q7=class{static{o(this,"KeypairGeneratorChainPluginSui")}addressTypes=[Ye.Sui];generateKeypairFromPrivateKey(e){let r=e.fold(a=>new Uint8Array(a)),n=a1.fromSecretKey(r),i=n.getPublicKey().toRawBytes(),s=o1(n.getSecretKey());if(s.schema!=="ED25519")throw new Error(`got unexpected schema ${s.schema} for Sui`);return{publicKey:i,privateKey:s.secretKey}}generateKeypairFromSeed(e,r,n){let i=e.fold(s=>new Td(s));try{let s=i.derivePathType(n,r);return{publicKey:s.publicKey,privateKey:s.secretKey}}finally{i.cleanup()}}};var Hj=class{static{o(this,"KeypairGenerator")}cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new qR),this.registerChainPlugin(new f7),this.registerChainPlugin(new u7),this.registerChainPlugin(new Q7)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let i=Yy.getAddressType(n),s=this.cryptoChainPlugins.get(i);if(!s)throw new Error(`No plugin found for address type ${i}, please register the plugin first.`);return s.generateKeypairFromSeed(e,r,n)}};p();m();function eft(t){return Yy.getAll().includes(t)}o(eft,"isAddressType");p();m();var Twe=$e(Mu()),Iwe=$e(Jv()),f9=$e(o0()),Rwe=$e(Qj());var Owe=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:try{return{key:Lft(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case Ye.EVM:try{return{key:Dft(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case Ye.Solana:try{return Fft(e)}catch{throw new Error("Could not find encoding for Solana private key")}case Ye.Sui:try{return{key:Uft(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return Ss(r)}},"decodePrivateKeyFromString"),Lft=o((t,e)=>{try{let{privateKey:r}=Rwe.decodeRaw(Iwe.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},"decodeBitcoinPrivateKey"),Dft=o(t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new Bv(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},"decodeEthereumPrivateKey"),c9=o(t=>{let e=f9.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=f9.default.sign.detached(r,t);if(!f9.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},"decodeSolanaPrivateKey"),Uft=o(t=>{try{let e=o1(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},"decodeSuiPrivateKey"),Fft=o(t=>{try{let e=JSON.parse(t);return c9(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=Twe.default.decode(t);return c9(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return c9(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return c9(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")},"enumerateSolanaPrivateKeyEncodings");p();m();var Mwe=$e(Mu()),Nwe=$e(Jv()),Cwe=$e(Qj());var Hft=o(t=>{let{privateKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:return Nwe.default.encode(Cwe.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case Ye.EVM:return"0x"+Buffer.from(e).toString("hex");case Ye.Solana:return Mwe.default.encode(e);case Ye.Sui:return a1.fromSecretKey(e).getSecretKey();default:return Ss(r)}},"exportPrivateKeyAsString");p();m();var qft=o(t=>{try{return nu.from(Owe(t).key)}catch(e){return console.error(e),nu.from(Buffer.from(""))}},"getPrivateKeyAsObfuscatedBytes");p();m();var $mt=$e(yz());p();m();var[xSe,vSe,_Se]=[[],[],[]],Qut=BigInt(0),c3=BigInt(1),elt=BigInt(2),tlt=BigInt(7),rlt=BigInt(256),nlt=BigInt(113);for(let t=0,e=c3,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],xSe.push(2*(5*n+r)),vSe.push((t+1)*(t+2)/2%64);let i=Qut;for(let s=0;s<7;s++)e=(e<<c3^(e>>tlt)*nlt)%rlt,e&elt&&(i^=c3<<(c3<<BigInt(s))-c3);_Se.push(i)}var[ilt,olt]=er.split(_Se,!0),ySe=o((t,e,r)=>r>32?er.rotlBH(t,e,r):er.rotlSH(t,e,r),"rotlH"),bSe=o((t,e,r)=>r>32?er.rotlBL(t,e,r):er.rotlSL(t,e,r),"rotlL");function slt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let c=(a+8)%10,u=(a+2)%10,h=r[u],y=r[u+1],g=ySe(h,y,1)^r[c],S=bSe(h,y,1)^r[c+1];for(let T=0;T<50;T+=10)t[a+T]^=g,t[a+T+1]^=S}let i=t[2],s=t[3];for(let a=0;a<24;a++){let c=vSe[a],u=ySe(i,s,c),h=bSe(i,s,c),y=xSe[a];i=t[y],s=t[y+1],t[y]=u,t[y+1]=h}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=ilt[n],t[1]^=olt[n]}r.fill(0)}o(slt,"keccakP");var O9=class t extends Wp{static{o(this,"Keccak")}constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vn.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mv(this.state)}keccak(){slt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Vn.exists(this);let{blockLen:r,state:n}=this;e=sl(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Vn.exists(this,!1),Vn.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vn.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Vn.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}},Cm=o((t,e,r)=>Sd(()=>new O9(e,t,r)),"gen"),cIr=Cm(6,144,224/8),fIr=Cm(6,136,256/8),uIr=Cm(6,104,384/8),lIr=Cm(6,72,512/8),dIr=Cm(1,144,224/8),bz=Cm(1,136,256/8),hIr=Cm(1,104,384/8),pIr=Cm(1,72,512/8),wSe=o((t,e,r)=>cxe((n={})=>new O9(e,t,n.dkLen===void 0?r:n.dkLen,!0)),"genShake"),mIr=wSe(31,168,128/8),gIr=wSe(31,136,256/8);var vl=$e(DK()),EAe=$e(Mu());function Gmt(t){let{publicKey:e,addressType:r}=t;switch(r){case Ye.BitcoinTaproot:case Ye.BitcoinNativeSegwit:case Ye.BitcoinNestedSegwit:case Ye.BitcoinLegacy:return Wmt(e,r,t.networkID);case Ye.EVM:return Ymt(e);case Ye.Solana:return EAe.default.encode(e);case Ye.Sui:return new xm(e).toSuiAddress();default:return Ss(r)}}o(Gmt,"publicKeyToAddress");var Wmt=o((t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?vl.networks.testnet:vl.networks.bitcoin,i;switch(e){case Ye.BitcoinTaproot:vl.initEccLib($mt),i=vl.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case Ye.BitcoinNativeSegwit:i=vl.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case Ye.BitcoinNestedSegwit:{let s=Buffer.from(t),a=vl.payments.p2wpkh({pubkey:s,network:n},{validate:!1});i=vl.payments.p2sh({pubkey:s,network:n,redeem:a},{validate:!1})?.address;break}case Ye.BitcoinLegacy:{i=vl.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:Ss(e)}if(!i)throw new Error("Could not derive Bitcoin address from public key");return i},"getBitcoinAddress"),Ymt=o(t=>{let e=t.slice(1),n=bz(e).slice(12);return Xmt(`0x${Buffer.from(n).toString("hex")}`)},"computeChecksumAddress"),Xmt=o(t=>{if(!wZ.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(bz(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},"toChecksumAddress");p();m();function Zmt(t){return fS.safeParse(t).success}o(Zmt,"isBitcoinAddressType");p();m();function Jmt(t){switch(t){case Se.Bip44RootSolana:case Se.Bip44ChangeSolana:case Se.Bip44Solana:case Se.DeprecatedSolana:return Ye.Solana;case Se.Bip44RootEthereum:case Se.Bip44Ethereum:case Se.Bip44EthereumSecondary:case Se.Bip44EthereumTertiary:return Ye.EVM;case Se.BitcoinLegacy:return Ye.BitcoinLegacy;case Se.BitcoinNativeSegwit:return Ye.BitcoinNativeSegwit;case Se.BitcoinNestedSegwit:return Ye.BitcoinNestedSegwit;case Se.BitcoinTaproot:return Ye.BitcoinTaproot;case Se.Bip44Sui:return Ye.Sui}}o(Jmt,"getAddressTypeFromDerivationPathType");p();m();p();m();var AAe={id:Et.Arbitrum,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/arbitrum.png",name:"Arbitrum",networks:{[Qc.Mainnet]:{id:Qc.Mainnet,name:"Arbitrum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/mainnet",value:42161},[Qc.Sepolia]:{id:Qc.Sepolia,name:"Arbitrum Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/arbitrum/network/sepolia",value:421614}},mainnetID:Qc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Bn.Arbitrum,parentChain:Et.Ethereum};p();m();var TAe={id:Et.Base,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{[Jc.Mainnet]:{id:Jc.Mainnet,name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},[Jc.Sepolia]:{id:Jc.Sepolia,name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:Jc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Bn.Base,parentChain:Et.Ethereum};p();m();var Qmt=$e(yz());var qO=$e(DK());var R2=be.string().refine(t=>{try{return qO.initEccLib(Qmt),qO.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),R3=be.object({networkID:vp,addressType:be.nativeEnum(Ye),address:R2,publicKey:be.instanceof(Uint8Array).optional()}),UK={id:Et.Bitcoin,addressTypes:[Ye.BitcoinTaproot,Ye.BitcoinNativeSegwit],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{[xc.Mainnet]:{id:xc.Mainnet,name:"Bitcoin",value:128},[xc.Testnet]:{id:xc.Testnet,name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:xc.Mainnet,tokenDecimals:8,tokenSymbol:"BTC",slip44:Bn.Bitcoin};p();m();var VO=be.object({networkID:_p,addressType:be.nativeEnum(Ye),address:vb}),IAe={id:Et.Ethereum,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{[bc.Mainnet]:{id:bc.Mainnet,name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},[bc.Sepolia]:{id:bc.Sepolia,name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:bc.Mainnet,tokenDecimals:18,tokenSymbol:"ETH",slip44:Bn.Ethereum};p();m();var RAe={id:Et.Hypercore,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/hypercore.png",name:"Hypercore",networks:{[vc.Mainnet]:{id:vc.Mainnet,name:"Hypercore",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/mainnet",value:"mainnet"},[vc.Testnet]:{id:vc.Testnet,name:"Hypercore Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/hypercore/network/testnet",value:"testnet"}},mainnetID:vc.Mainnet,tokenDecimals:9,tokenSymbol:"ETH",slip44:Bn.Hypercore},OAe=be.object({networkID:Nh,addressType:be.nativeEnum(Ye),address:uA});p();m();var MAe={id:Et.Hyperevm,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/hyperevm.png",name:"HyperEVM",networks:{[_c.Mainnet]:{id:_c.Mainnet,name:"HyperEVM",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/mainnet",value:999},[_c.Testnet]:{id:_c.Testnet,name:"HyperEVM Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/hyperevm/network/testnet",value:998}},mainnetID:_c.Mainnet,tokenDecimals:18,tokenSymbol:"HYPE",slip44:Bn.Hyperevm};p();m();var NAe={id:Et.Monad,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{[ef.Mainnet]:{id:ef.Mainnet,name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143},[ef.Testnet]:{id:ef.Testnet,name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143}},mainnetID:ef.Mainnet,tokenDecimals:18,tokenSymbol:"MON",slip44:Bn.Monad};p();m();var CAe={id:Et.Polygon,addressTypes:[Ye.EVM],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{[Zc.Mainnet]:{id:Zc.Mainnet,name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},[Zc.Amoy]:{id:Zc.Amoy,name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:Zc.Mainnet,tokenDecimals:18,tokenSymbol:"POL",slip44:Bn.Polygon,parentChain:Et.Ethereum};p();m();var jO=be.object({networkID:xp,addressType:be.nativeEnum(Ye),address:_b}),kAe={id:Et.Solana,addressTypes:[Ye.Solana],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{[co.Mainnet]:{id:co.Mainnet,name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},[co.Testnet]:{id:co.Testnet,name:"Solana Testnet",shortName:"Testnet",value:"testnet"},[co.Devnet]:{id:co.Devnet,name:"Solana Devnet",shortName:"Devnet",value:"devnet"},[co.Localnet]:{id:co.Localnet,name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:co.Localnet,mainnetID:co.Mainnet,tokenDecimals:9,tokenSymbol:"SOL",slip44:Bn.Solana};p();m();var BAe={id:Et.Sui,addressTypes:[Ye.Sui],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{[tf.Mainnet]:{id:tf.Mainnet,name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},[tf.Testnet]:{id:tf.Testnet,name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:tf.Mainnet,tokenDecimals:9,tokenSymbol:"SUI",slip44:Bn.Sui},PAe=be.object({networkID:cy,addressType:be.nativeEnum(Ye),address:wb,publicKey:be.instanceof(Uint8Array).optional()});p();m();var FK=class extends Error{static{o(this,"UnsupportedChainFeatureError")}chain;feature;constructor(e,r){super(`${r} is not yet supported for ${e}`),this.chain=e,this.feature=r,this.name="UnsupportedChainFeatureError"}},HK=class extends FK{static{o(this,"UnsupportedSuiChainError")}constructor(e){super(Et.Sui,e)}};p();m();function zO(t){return Object.values(Et).includes(t)}o(zO,"isChain");var as={[Et.Bitcoin]:UK,[Et.Ethereum]:IAe,[Et.Polygon]:CAe,[Et.Monad]:NAe,[Et.Solana]:kAe,[Et.Base]:TAe,[Et.Sui]:BAe,[Et.Arbitrum]:AAe,[Et.Hypercore]:RAe,[Et.Hyperevm]:MAe},KO={[Et.Solana]:1,[Et.Ethereum]:2,[Et.Bitcoin]:3,[Et.Monad]:4,[Et.Base]:5,[Et.Sui]:6,[Et.Polygon]:7,[Et.Arbitrum]:8,[Et.Hypercore]:9,[Et.Hyperevm]:10},egt={[Et.Solana]:!0,[Et.Ethereum]:!0,[Et.Monad]:!0,[Et.Base]:!0,[Et.Polygon]:!0,[Et.Bitcoin]:!0,[Et.Sui]:!0,[Et.Arbitrum]:!1,[Et.Hypercore]:!1,[Et.Hyperevm]:!0},qK=o((t,e)=>{let r=KO[t]-KO[e];return r===0?0:r>0?1:-1},"compareChain"),tgt=o(()=>{let t=Object.values(Et).sort(qK),e=t.map(ye=>as[ye]),r={},n=[],i={},s={},a={};e.forEach(ye=>{let he=Object.fromEntries(Object.entries(ye.networks).filter(([Ae,Me])=>!Me.hidden)),ge=Object.keys(he);n.push(...ge),ge.forEach(Ae=>{r[Ae]=ye});let lr=Object.values(he);i[ye.id]=lr.map(Ae=>Ae.id),lr.forEach(Ae=>{s[Ae.id]=Ae});for(let Ae of ye.addressTypes){let Me=a[Ae];Me?Me.push(ye.id):a[Ae]=[ye.id]}});let c=new Set(n);function u(ye){return ye?.evmOnly?t.filter(he=>as[he].addressTypes.includes(Ye.EVM)):t}o(u,"getAllChainIDs");function h(ye){return egt[ye]}o(h,"isChainDefaultEnabled");function y(ye){return n.filter(he=>r[he].id===ye)}o(y,"getNetworkIDs");function g(ye){if(!ye)return n;let he=n;return ye.evmOnly&&(he=he.filter(ge=>v(ge))),ye.mainnetOnly&&(he=he.filter(ge=>U(ge))),he}o(g,"getAllNetworkIDs");function S(ye){return r[ye]}o(S,"getChainDefinition");function T(ye){return s[ye].rpcProxyUrl}o(T,"getRpcProxyUrl");function O(ye){return r[ye].addressTypes[0]}o(O,"_DO_NOT_USE_getAddressType");function M(ye){let he=r[ye];if(he.addressTypes.length===1){let[ge]=he.addressTypes;return ge}else throw`The chain ${he.id} has multiple address types`}o(M,"getAddressType");function k(ye){return r[ye].addressTypes}o(k,"getAddressTypes");function C(ye){return r[ye].id}o(C,"getChainID");function B(ye){return as[le(ye)].name}o(B,"getChainName");function N(ye){return r[ye].tokenDecimals}o(N,"getTokenDecimals");function P(ye){return(X(ye)?r[ye]:as[ye]).tokenSymbol}o(P,"getTokenSymbol");function H(ye){return(X(ye)?r[ye]:as[ye]).iconUrl}o(H,"getChainIconUrl");function F(ye){return r[ye].slip44}o(F,"getSlip44");function Z(ye){return as[le(ye)].mainnetID}o(Z,"getMainnetNetworkID");function W(ye){let he;if(v(ye)&&(he=s[ye].value),typeof he=="number")return he;throw new Error(`Invalid NetworkID: ${ye}. Must be an EVM NetworkID.`)}o(W,"getEVMNetworkIDValue");function X(ye){return c.has(ye)}o(X,"isNetworkID");function E(ye){return Object.keys(as.bitcoin.networks).includes(ye)}o(E,"isBitcoinNetworkID");function f(ye){return Object.keys(as.ethereum.networks).includes(ye)}o(f,"isEthereumNetworkID");function d(ye){return Object.keys(as.polygon.networks).includes(ye)}o(d,"isPolygonNetworkID");function b(ye){return Object.keys(as.base.networks).includes(ye)}o(b,"isBaseNetworkID");function x(ye){return Object.keys(as.arbitrum.networks).includes(ye)}o(x,"isArbitrumNetworkID");function _(ye){return Object.keys(as.monad.networks).includes(ye)}o(_,"isMonadNetworkID");function A(ye){return Object.keys(as.hypercore.networks).includes(ye)}o(A,"isHypercoreNetworkID");function I(ye){return Object.keys(as.hyperevm.networks).includes(ye)}o(I,"isHyperevmNetworkID");function v(ye){return f(ye)||d(ye)||b(ye)||_(ye)||x(ye)||A(ye)||I(ye)}o(v,"isEVMNetworkID");function l(ye){return Object.keys(as.solana.networks).includes(ye)}o(l,"isSolanaNetworkID");function w(ye){return Object.keys(as.sui.networks).includes(ye)}o(w,"isSuiNetworkID");function V(ye){if(!l(ye))throw new Error(`Invalid NetworkID: ${ye}. Must be a Solana NetworkID.`);return as.solana.networks[ye].value}o(V,"getSolanaNetworkIDValue");function q(ye){return r[ye].localnetID===ye}o(q,"isLocalNetworkID");function U(ye){return r[ye].mainnetID===ye}o(U,"isMainnetNetworkID");function G(ye){return s[ye]}o(G,"getNetworkDefinition");function ee(ye,he=!1){let ge=s[ye];return he&&ge.shortName?ge.shortName:ge.name}o(ee,"getNetworkName");function re(ye){return r[ye].parentChain}o(re,"getParentChain");function Oe(ye){return a[ye]}o(Oe,"getChainIDs");function ae(ye,he){let ge=r[ye].id,lr=r[he].id;return qK(ge,lr)}o(ae,"compareNetworkID");function le(ye){return zO(ye)?ye:X(ye)?Mt.getChainID(ye):Ss(ye)}return o(le,"getChain"),{...as,getAllChainIDs:u,isChainDefaultEnabled:h,getNetworkIDs:y,getAllNetworkIDs:g,getChainDefinition:S,getAddressType:M,getAddressTypes:k,getChainID:C,getChainName:B,getTokenDecimals:N,getTokenSymbol:P,getChainIconUrl:H,getSlip44:F,getMainnetNetworkID:Z,getEVMNetworkIDValue:W,getSolanaNetworkIDValue:V,_DO_NOT_USE_getAddressType:O,isNetworkID:X,isMonadNetworkID:_,isBitcoinNetworkID:E,isEVMNetworkID:v,isSolanaNetworkID:l,isEthereumNetworkID:f,isPolygonNetworkID:d,isBaseNetworkID:b,isArbitrumNetworkID:x,isSuiNetworkID:w,isHypercoreNetworkID:A,isHyperevmNetworkID:I,isLocalNetworkID:q,isMainnetNetworkID:U,getNetworkDefinition:G,getNetworkName:ee,getChainIDs:Oe,compareChain:qK,compareNetworkID:ae,getRpcProxyUrl:T,getParentChain:re}},"createChains"),Mt=tgt();p();m();p();m();var QCr=be.union([R3,VO,jO,PAe,OAe]);var Sn;(function(t){t.address="address",t.tx="tx",t.nativeToken="nativeToken"})(Sn||(Sn={}));var LAe=be.string(),DAe=be.object({chainId:Ch,resourceType:be.nativeEnum(Sn)}),VK=DAe.extend({resourceType:be.literal(Sn.nativeToken),slip44:be.nativeEnum(Bn)}),x0=DAe.extend({resourceType:be.literal(Sn.address),address:be.string()}),jK=x0.extend({chainId:xp,address:_b}),zK=x0.extend({chainId:_p,address:vb,tokenId:be.string().optional()}),KK=x0.extend({chainId:vp,address:R2.or(be.string())}),rgt=x0.extend({chainId:cy,address:wb,tokenId:be.string().optional()}),UAe=x0.extend({chainId:Nh,address:uA,tokenId:be.string().optional()}),FAe=x0.extend({chainId:fy,address:SZ,tokenId:be.string().optional()}),HAe=be.union([VK,x0,jK,zK,KK,rgt]);p();m();var qAe=o(t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(Mt.isEVMNetworkID(r)||Mt.isSolanaNetworkID(r)||Mt.isBitcoinNetworkID(r)||Mt.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[i,s]=n;if(!i||!s)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(Sn).includes(i))throw new Error(`Unsupported resource type '${i}'`);if(i===Sn.nativeToken){if(!Object.values(Bn).includes(s))throw new Error(`Unsupported slip44 '${s}'`);return{chainId:r,resourceType:i,slip44:s}}else if(Mt.isEVMNetworkID(r)){if(i===Sn.address)return e.length===3?{chainId:r,address:s,resourceType:i,tokenId:e[2]}:{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isSolanaNetworkID(r)){if(i===Sn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isBitcoinNetworkID(r)){if(i===Sn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}else if(Mt.isSuiNetworkID(r)){if(i===Sn.address)return{chainId:r,address:s,resourceType:i};throw new Error(`Unsupported resource type ${i} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)},"decodeCaip19");p();m();var VAe=o(t=>{if(t.resourceType===Sn.nativeToken)return`${t.chainId}/${Sn.nativeToken}:${t.slip44}`;if(Mt.isHypercoreNetworkID(t.chainId))return"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${Sn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${Sn.address}:${t.address}`;if(Mt.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${Sn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${Sn.address}:${t.address}`;if(Mt.isSolanaNetworkID(t.chainId))return`${t.chainId}/${Sn.address}:${t.address}`;if(Mt.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/${Sn.address}:${e.address}`}return Mt.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/${Sn.address}:${t.address}/${t.tokenId}`:`${t.chainId}/${Sn.address}:${t.address}`:Ss(t.chainId)},"encodeCaip19");p();m();p();m();var jAe=be.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],i=e[1].split(":");if(i.length<2)return!1;let s=i[0],a=i[1];return typeof t=="string"&&Mt.isNetworkID(r)&&s.match(/^[-a-z0-9]{2,8}/)&&a.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});p();m();function zAe(t){return!t||t.resourceType!==Sn.address?!1:!!Mt.isEVMNetworkID(t.chainId)}o(zAe,"isEvmCaip19Address");p();m();function KAe(t,e){return Mt.isBitcoinNetworkID(e)?R2.safeParse(t).success:Mt.isEVMNetworkID(e)?vb.safeParse(t).success:Mt.isSolanaNetworkID(e)?_b.safeParse(t).success:Mt.isSuiNetworkID(e)?wb.safeParse(t).success:Ss(e)}o(KAe,"validateAddress");p();m();var $Ae=o(t=>{let e=Mt.getNetworkIDs(t),r=Mt.getMainnetNetworkID(e[0]),n=Mt[t].slip44;return{chainId:r,resourceType:Sn.nativeToken,slip44:n}},"getNativeFungibleCaip19ForChain");p();m();p();m();function GAe(t){return R3.safeParse(t).success}o(GAe,"isBitcoinChainAddress");function WAe(t){return jO.safeParse(t).success}o(WAe,"isSolanaChainAddress");function YAe(t){return VO.safeParse(t).success}o(YAe,"isEVMChainAddress");var XAe=be.object({networkID:Ch,addressType:be.nativeEnum(Ye),address:be.string()}),ngt=o(t=>`${t.networkID}-${t.address}`,"toKey"),ZAe={toKey:ngt},JAe=o(t=>{let e={chainId:t.networkID,address:t.address,resourceType:Sn.address};return Mt.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e},"chainAddressToCaip19Address");p();m();function QAe(t){return[Pn.Solana.Devnet,Pn.Solana.Testnet,Pn.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}o(QAe,"hexToCAIP2");p();m();var e4e=be.object({id:Ch,name:be.string(),symbol:be.string(),imageUrl:be.string()});function t4e(t){let{name:e,tokenSymbol:r,iconUrl:n}=Mt.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}o(t4e,"getNetworkMetadata");p();m();function r4e(t){switch(t){case"devnet":return Pn.Solana.Devnet;case"mainnet":return Pn.Solana.Mainnet;case"testnet":return Pn.Solana.Testnet;case"localnet":return Pn.Solana.Localnet}}o(r4e,"solanaNetworkIDToCAIPSolanaNetworkID");function n4e(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}o(n4e,"solanaNetworkIDToClusterID");p();m();var i4e=o((t,e)=>{if(Mt.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return Ye.BitcoinTaproot;case(e.startsWith("bc1q")||e.startsWith("tb1q")):return Ye.BitcoinNativeSegwit;case(e.startsWith("3")||e.startsWith("2")):return Ye.BitcoinNestedSegwit;case(e.startsWith("1")||e.startsWith("m")):return Ye.BitcoinLegacy}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return Mt.isEVMNetworkID(t)?Ye.EVM:Mt.isSolanaNetworkID(t)?Ye.Solana:Mt.isSuiNetworkID(t)?Ye.Sui:Ss(t)},"addressTypeFromAddress");p();m();var igt=Mt.getAllNetworkIDs().filter(t=>Mt.isEVMNetworkID(t)),o4e=o(t=>igt.find(e=>Mt.getNetworkDefinition(e).value===t),"evmNetworkIdForChainIdValue");p();m();var s4e=o(t=>Mt.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return Mt.isMainnetNetworkID(e);if(t==="testnets_only")return!Mt.isMainnetNetworkID(e)}else return!0}).map($K),"getEthSupportedNetworkIds"),$K=o(t=>`0x${Mt.getNetworkDefinition(t).value.toString(16)}`,"networkIDToHex");p();m();p();m();p();m();var GK=class{static{o(this,"WeakRefPolyfill")}value;constructor(e){this.value=e}deref(){return this.value}},a4e=typeof WeakRef=="function"?WeakRef:GK;p();m();p();m();p();m();var ogt=o(t=>{setTimeout(()=>{t()},0)},"_scheduleFlush"),sgt=o(t=>t(),"_runBatch");var WK=o(t=>{ogt(t)},"scheduleFlush"),c4e=o(t=>{sgt(t)},"runBatch");p();m();p();m();p();m();p();m();var f4e;var O2=o(t=>{f4e=t},"setCurrentConsumer"),eo=o(()=>f4e,"getCurrentConsumer");function $O(t){let e=t._state;e!==2&&(t._state=2,e<3&&YK(t))}o($O,"dirtySignal");function YK(t){if(eo()===t)throw new Error("A signal was dirtied after it was consumed by the current function. This can cause race conditions and infinite rerenders and is not allowed.");B1(t)?t.watchCount>0&&WO(t):(t._isListener&&GO(t),O3(t.subs),t.subs=new Map)}o(YK,"propagateDirty");function O3(t){for(let[e,r]of t){let n=e.deref();if(n===void 0||n.computedCount!==r.consumedAt)continue;let i=n._state;switch(i){case 0:n._state=3,n.dirtyHead=r,r.nextDirty=void 0,YK(n);break;case 1:case 3:case 4:{let s=n.dirtyHead,a=r.ord;if(s.ord>a)n.dirtyHead=r,r.nextDirty=s,(i===1||i===4)&&(n._state=3,YK(n));else{let c=s.nextDirty;for(;c!==void 0&&c.ord<a;)s=c,c=s.nextDirty;r.nextDirty=c,s.nextDirty=r}break}}}}o(O3,"dirtySignalConsumers");p();m();var u4e=0;function M3(t,e,r,n,i){return t===void 0?{type:e,dep:r,ord:u4e++,updatedAt:n,consumedAt:i,nextDirty:void 0}:(t.ord=u4e++,t.updatedAt=n,t.consumedAt=i,t.nextDirty=void 0,t)}o(M3,"createEdge");function l4e(t,e){let r=t.dirtyHead;if(r===void 0)return;if(r.dep===e)return t.dirtyHead=r.nextDirty,r;let n=r.nextDirty;for(;n!==void 0;){if(n.dep===e)return r.nextDirty=n.nextDirty,n;r=n,n=r.nextDirty}}o(l4e,"findAndRemoveDirty");p();m();var agt=0,YO=class{static{o(this,"StateSignal")}_value;_equals;_subs=new Map;_desc;_id;_listeners=null;constructor(e,r=(i,s)=>i===s,n="signal"){this._value=e,this._equals=r,this._id=agt++,this._desc=n}get value(){return this.consume(),this._value}update(e){this.value=e(this._value)}set value(e){this._equals(e,this._value)||(this._value=e,this.notify())}consume(){let e=eo(),r=_l();e!==void 0&&(r?.emit({type:yu.ConsumeState,id:e.tracerMeta.id,name:this._desc,childId:this._id,value:this._value,setValue:o(n=>{this.value=n},"setValue")}),this._subs.set(e.ref,e.computedCount))}notify(){let{_subs:e}=this;for(let[r,n]of e.entries()){let i=r.deref();i===void 0||n!==i.computedCount||$O(i)}this._subs=new Map,XO(this)}addListener(e){let r=this._listeners;return r===null&&(this._listeners=r=new Set),r.add(e),()=>r.delete(e)}};function d4e(t){let e=t._listeners;if(e!==null)for(let r of e)r()}o(d4e,"runListeners");var h4e=o(()=>!1,"FALSE_EQUALS");function Ym(t,e){let r=e?.equals===!1?h4e:e?.equals??((n,i)=>n===i);return new YO(t,r,e?.desc)}o(Ym,"signal");var cgt=o(t=>new YO(void 0,h4e,t?.desc),"notifier");p();m();var N3=o((t,e)=>t===e,"DEFAULT_EQUALS"),fgt=o(()=>!1,"FALSE_EQUALS"),C3=o(t=>t===!1?fgt:t??N3,"equalsFrom");p();m();p();m();p();m();var ugt=function*(){}().constructor;function ZO(t){return t.constructor===ugt}o(ZO,"isGeneratorResult");function M2(t){return t.constructor===Promise}o(M2,"isPromise");function p4e(t,e){function r(n){return typeof n=="object"&&n!==null&&(M2(n)||wl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,g){let S=eo();try{O2(e);let T=y(g);T.done?n(T.value):r(T.value).then(u,h)}catch(T){i(T)}finally{O2(S)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function u(y){s(a,y)}o(u,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(p4e,"generatorResultToPromiseWithConsumer");function m4e(t,e){function r(n){return typeof n=="object"&&n!==null&&(M2(n)||wl(n))?n:Promise.resolve(n)}return o(r,"adopt"),new Promise((n,i)=>{function s(y,g){let S=JO();try{N2(e);let T=y(g);T.done?n(T.value):r(T.value).then(u,h)}catch(T){i(T)}finally{N2(S)}}o(s,"step");let a=t.next.bind(t),c=t.throw.bind(t);function u(y){s(a,y)}o(u,"fulfilled");function h(y){s(c,y)}o(h,"rejected"),s(a)})}o(m4e,"generatorResultToPromiseWithScope");var k3,XK=class{static{o(this,"Callback")}scope;deps;_callbacks;fn;constructor(e,r,n){this.deps=n,this.scope=r,this.setFn(e)}get callbacks(){return this._callbacks??(this._callbacks=[])}setFn(e){this.fn=(...r)=>{let n=this.scope,i=JO(),s=k3;try{k3=this,N2(n);let a=e(...r);return typeof a=="object"&&a!==null&&ZO(a)?m4e(a,n):a}finally{k3=s,N2(i)}}}};function ZK(t,e,r){return new XK(t,e,r)}o(ZK,"createCallback");function ho(t,e,r){let n;if(k3!==void 0)n=k3.callbacks;else{let s=eo();if(s===void 0)throw new Error("callback must be used within a reactive function, component, or nested callback");n=s.callbacks??(s.callbacks=[])}let i=n[e];return i===void 0?i=n[e]=ZK(t,v0(),r):r&&i.deps?.findIndex((s,a)=>s!==r[a])!==-1&&(i.setFn(t),i.deps=r),i.fn}o(ho,"callback");var QO=Array.from;function lgt(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}o(lgt,"isThenable");function eM(t,e,r){lgt(t)?t.then(e,r):e(t)}o(eM,"thenLoop");var C2=class t{static{o(this,"ReactivePromiseImpl")}_value=void 0;_error=void 0;_flags=1;_signal=void 0;_equals=N3;_promise;_pending=[];_stateSubs=new Map;_awaitSubs=new Map;_updatedCount=0;_version=Ym(0);run=void 0;constructor(e){if(y4e(this),e){let r=o(i=>{i&&typeof i.then=="function"?this._setPromise(i):this._setValue(i)},"resolve"),n=o(i=>{this._setError(i)},"reject");try{e(r,n)}catch(i){n(i)}}}static all(e){let r=new t,n=QO(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=!1,u=o(y=>g=>{c||(s[y]=g,--a===0&&r._setValue(s))},"onFulfillAt"),h=o(y=>{c||(c=!0,r._setError(y))},"onReject");for(let y=0;y<i;y++)eM(n[y],u(y),h);return r}static race(e){let r=new t,n=QO(e),i=n.length;if(i===0)return r;let s=!1,a=o(u=>{s||(s=!0,r._setValue(u))},"onFulfill"),c=o(u=>{s||(s=!0,r._setError(u))},"onReject");for(let u=0;u<i;u++)eM(n[u],a,c);return r}static any(e){let r=new t,n=QO(e),i=n.length;if(i===0)return r._setError(new AggregateError([],"No promises were provided to ReactivePromise.any")),r;let s=i,a=new Array(i),c=!1,u=o(y=>{c||(c=!0,r._setValue(y))},"onFulfill"),h=o(y=>g=>{c||(a[y]=g,--s===0&&r._setError(new AggregateError(a,"All promises were rejected in ReactivePromise.any")))},"onRejectAt");for(let y=0;y<i;y++)eM(n[y],u,h(y));return r}static allSettled(e){let r=new t,n=QO(e),i=n.length;if(i===0)return r._setValue([]),r;let s=new Array(i),a=i,c=o(h=>y=>{s[h]={status:"fulfilled",value:y},--a===0&&r._setValue(s)},"onFulfillAt"),u=o(h=>y=>{s[h]={status:"rejected",reason:y},--a===0&&r._setValue(s)},"onRejectAt");for(let h=0;h<i;h++)eM(n[h],c(h),u(h));return r}static resolve(e){return e instanceof t?e:new t(r=>r(e))}static reject(e){return new t((r,n)=>n(e))}static withResolvers(){let e=new t;return e._equals=N3,e._initFlags(1),{promise:e,resolve:o(i=>{i&&typeof i.then=="function"?e._setPromise(i):e._setValue(i)},"resolve"),reject:o(i=>{e._setError(i)},"reject")}}_initFlags(e){let r=_l();r!==void 0&&this._signal!==void 0&&e&1&&r.emit({type:yu.StartLoading,id:this._signal.tracerMeta.id}),this._flags=e}_consumeFlags(e){let r=eo();if(r===void 0)return;this._flags&128&&this._connect();let n=r.ref,i=this._stateSubs,s=i.get(n)??0;i.set(n,s|e)}_connect(){let e=this._signal,r=eo();if(r?.watchCount===0){let{ref:n,computedCount:i,deps:s}=r,a=s.get(e);if(a?.consumedAt!==i){let c=M3(a,0,e,e.updatedCount,i);e.subs.set(n,c),s.set(e,c)}}else B3(e)}_setFlags(e,r=0,n=0){let i=this._flags,s=i&~r|e,a=i^s|n;if(this._flags=s,a===0)return;a&48&&this._updatedCount++;let c=this._stateSubs;for(let[h,y]of c)if(y&a){let g=h.deref();g&&$O(g),c.delete(h)}this._version.update(h=>h+1);let u=_l();u!==void 0&&this._signal!==void 0&&(e&1&&a&1?u.emit({type:yu.StartLoading,id:this._signal.tracerMeta.id}):r&1&&a&1&&u.emit({type:yu.EndLoading,id:this._signal.tracerMeta.id,value:JK(this)?"...":this._value}))}_setPending(){return this._setFlags(1),O3(this._awaitSubs),this._awaitSubs=new Map}_clearPending(){this._setFlags(0,1)}async _setPromise(e){this._promise=e;let r=this._flags,n=this._awaitSubs;r&1||(n=this._setPending());try{let i=await e;if(e!==this._promise)return;this._setValue(i,n)}catch(i){if(e!==this._promise)return;this._setError(i,n)}}_setValue(e,r=this._awaitSubs){let n=this._flags,i=this._value,s=0;(!(n&8)||this._equals(i,e)===!1)&&(this._value=i=e,s=16),n&2&&(s=32,this._error=void 0),n&1?this._scheduleSubs(r,s!==0):s!==0&&O3(r),this._awaitSubs=r=new Map,this._setFlags(12,3,s);let a=this._pending;this._pending=[];let c=this._updatedCount;for(let{ref:h,edge:y,resolve:g}of a)g?.(i),h!==void 0&&(y.updatedAt=c,r.set(h,y));let u=this._signal;u!==void 0&&tM(u)}_setError(e,r=this._awaitSubs){let n=this._error,i=0;n!==e&&(this._error=n=e,i=32),this._flags&1?this._scheduleSubs(r,i!==0):i!==0&&O3(r),this._awaitSubs=r=new Map,this._setFlags(2,5,i);let s=this._pending;this._pending=[];let a=this._updatedCount;for(let{ref:u,edge:h,reject:y}of s)y?.(n),u!==void 0&&(h.updatedAt=a,r.set(u,h));let c=this._signal;c!==void 0&&tM(c)}_scheduleSubs(e,r){let n=r?2:4;for(let i of e.keys()){let s=i.deref();s!==void 0&&(s._state=n,WO(s))}}get value(){return this._consumeFlags(16),this._value}get error(){return this._consumeFlags(32),this._error}get isPending(){return this._consumeFlags(1),(this._flags&1)!==0}get isRejected(){return this._consumeFlags(2),(this._flags&2)!==0}get isResolved(){return this._consumeFlags(4),(this._flags&4)!==0}get isReady(){return this._consumeFlags(8),(this._flags&8)!==0}get isSettled(){return this._consumeFlags(6),(this._flags&6)!==0}then(e,r){let n=this._flags;return new Promise((i,s)=>{let a,c,u=eo();if(u!==void 0){n&128&&(this._connect(),n=this._flags),a=u.ref;let g=this._awaitSubs.get(a)??l4e(u,this);c=M3(g,1,this,this._updatedCount,u.computedCount)}let h=e?g=>{try{let S=e(g);i(S)}catch(S){s(S)}}:i,y=r?g=>{try{let S=r(g);i(S)}catch(S){s(S)}}:s;n&1?this._pending.push({ref:a,edge:c,resolve:h,reject:y}):(n&4?h(this._value):n&2&&y(this._error),a&&this._awaitSubs.set(a,c))})}catch(e){return this.then(null,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}get[Symbol.toStringTag](){return"ReactivePromise"}},g4e=new WeakSet;function y4e(t){g4e.add(t)}o(y4e,"setReactivePromise");function wl(t){return g4e.has(t)}o(wl,"isReactivePromise");function JK(t){return wl(t)&&(t._flags&128)!==0}o(JK,"isRelay");function b4e(t,e){let r=new C2;return r._signal=e,r._equals=e.def.equals,r._initFlags(1),r._setPromise(t),r}o(b4e,"createPromise");function x4e(t,e,r){let n=new C2,i=!1,s,a=o(()=>{typeof s=="function"?s():s!==void 0&&s.deactivate?.();let h=n._signal;h.subs=new Map,h._state=2,h.watchCount=0,i=!1,s=void 0},"unsubscribe"),c={get value(){return n._value},set value(h){n._setValue(h)},setPromise:o(h=>{n._setPromise(h)},"setPromise"),setError:o(h=>{n._setError(h)},"setError")},u={compute:o(()=>(i===!1?(s=t(c),i=!0):typeof s=="function"||s===void 0?(s?.(),s=t(c)):s.update?.(),a),"compute"),equals:N3,isRelay:!0,paramKey:r?.paramKey,id:r?.id,desc:r?.desc,tracer:void 0};return n._signal=Xm(u,[],void 0,e),n._equals=C3(r?.equals),n._initFlags(129),n}o(x4e,"createRelay");function v4e(t,e,r){let n=new C2,{fn:i}=ZK(t,e);return n._equals=C3(r?.equals),n._initFlags(64),n.run=(...s)=>(n._setPromise(i(...s)),n),n}o(v4e,"createTask");var dgt=C2;p();m();function P1(t){let{watchCount:e}=t,r=e+1;if(t.watchCount=r,!(e>0)){t.scope?.removeFromGc(t);for(let n of t.deps.keys())P1(n);B1(t)&&_0(t)}}o(P1,"watchSignal");function rM(t,e=1){let{watchCount:r}=t,n=Math.max(r-e,0);if(t.watchCount=n,!(n>0)){for(let i of t.deps.keys())rM(i);B1(t)&&t._value?.(),n===0&&t.scope&&t.scope.markForGc(t)}}o(rM,"unwatchSignal");function B3(t){let e=eo();if(e!==void 0){let{ref:r,computedCount:n,deps:i}=e,s=i.get(t);if(s?.consumedAt!==n){s===void 0&&(_l()?.emit({type:yu.Connected,id:e.tracerMeta.id,childId:t.tracerMeta.id,name:t.tracerMeta.desc,params:t.tracerMeta.params,nodeType:iM.Reactive}),e.watchCount>0&&P1(t));let c=_0(t),u=M3(s,0,t,c,n);t.subs.set(r,u),i.set(t,u)}else{let c=_0(t);s!==void 0&&(s.updatedAt=c)}}else _0(t);return t._value}o(B3,"getSignal");function _0(t){let{ref:e,_state:r}=t;if(r<2)return t.updatedCount;if(r>=3){let i=t.dirtyHead;for(;i!==void 0;){if(i.type===1){let c=i.dep;if(c.isPending){let u=t._value;return c._awaitSubs.set(e,i),u._setPending(),t._state=1,t.dirtyHead=i,t.updatedCount}else if(i.updatedAt===i.dep._updatedCount)c._awaitSubs.set(e,i);else{t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty;continue}let s=i.dep,a=_0(s);if(s.subs.set(e,i),i.updatedAt!==a){t.dirtyHead=i.nextDirty,t._state=2;break}i=i.nextDirty}}let n=t._state;return n===2?t._isLazy?t.updatedCount++:_4e(t):n===4&&t._value._clearPending(),t._state=0,t.dirtyHead=void 0,_l()!==void 0&&t.tracerMeta?.tracer&&QK(t.tracerMeta.tracer),t.updatedCount}o(_0,"checkSignal");function _4e(t){let e=_l();e?.emit({type:yu.StartUpdate,id:t.tracerMeta.id});let r=eo(),n=t.updatedCount,i=++t.computedCount;try{O2(t);let s=n!==0,a=t._value,c=t.def.compute(...t.args),u=!1;c!==null&&typeof c=="object"&&(ZO(c)?(c=p4e(c,t),u=!0):M2(c)&&(u=!0)),u?a!==null&&typeof a=="object"&&wl(a)?a._setPromise(c):(t._value=b4e(c,t),t.updatedCount=n+1):((!s||!t.def.equals(a,c))&&(t._value=c,t.updatedCount=t._isLazy?n:n+1),tM(t,i))}finally{O2(r),e?.emit({type:yu.EndUpdate,id:t.tracerMeta.id,value:B1(t)?"...":t._value})}}o(_4e,"runSignal");function tM(t,e=t.computedCount){let{ref:r,deps:n}=t;for(let[i,s]of n)s.consumedAt!==e&&(nM(i),i.subs.delete(r),n.delete(i))}o(tM,"disconnectSignal");function w4e(t){let e=t.listeners,r=_0(t);return e!==null&&e.updatedAt!==r&&(e.updatedAt=r,XO(t)),r}o(w4e,"checkAndRunListeners");var hgt=typeof requestIdleCallback=="function"?requestIdleCallback:t=>WK(t),P3=new Set,sM=[],aM=new Map,e$=[],t$=[],oM=new Set,pgt=o(()=>Promise.resolve(),"microtask"),cM=null,L3=o(t=>{if(cM)return;let e;cM={promise:new Promise(n=>e=n),resolve:e},WK(k2)},"scheduleFlush"),GO=o(t=>{P3.add(t),L3(k2)},"schedulePull"),S4e=o(t=>{P3.delete(t)},"cancelPull"),WO=o(t=>{sM.push(t),L3(k2)},"scheduleAsyncPull"),nM=o(t=>{let e=aM.get(t)??0;aM.set(t,e+1),L3(k2)},"scheduleUnwatch"),XO=o(t=>{e$.push(t),L3(k2)},"scheduleListeners"),QK=o(t=>{t$.push(t),L3(k2)},"scheduleTracer"),E4e=o(t=>{oM.add(t),!(oM.size>1)&&hgt(()=>{for(let e of oM)e.sweepGc();oM.clear()})},"scheduleGcSweep"),k2=o(async()=>{let t=cM;for(;sM.length>0||P3.size>0;){let e=sM;sM=[];for(let n of e)_0(n);let r=P3;P3=new Set;for(let n of r)w4e(n);await pgt()}cM=null,c4e(()=>{for(let[e,r]of aM)rM(e,r);for(let e of e$)e instanceof D3?A4e(e):d4e(e);for(let e of t$)e.flush();aM.clear(),e$=[],t$=[]}),t.resolve()},"flushWatchers");var mgt,_l=o(()=>mgt,"getTracerProxy"),yu;(function(t){t.StartUpdate="StartUpdate",t.EndUpdate="EndUpdate",t.StartLoading="StartLoading",t.EndLoading="EndLoading",t.Connected="Connected",t.Disconnected="Disconnected",t.ConsumeState="ConsumeState"})(yu||(yu={}));var iM;(function(t){t.State="state",t.Reactive="reactive",t.Watcher="watcher"})(iM||(iM={}));p();m();var ggt=0,T4e=new Map;function I4e(t){let e=T4e.get(t);return e===void 0&&(e=`unknownSignal${ggt++}`,T4e.set(t,e)),e}o(I4e,"getUnknownSignalFnName");p();m();var{log:R4e,floor:O4e,imul:Fo,abs:ygt}=Math;function bu(t,e=0){let r=e^t.length,n=3432918353,i=461845907,s=0;for(;s+4<=t.length;){let c=t.charCodeAt(s)&255|(t.charCodeAt(s+1)&255)<<8|(t.charCodeAt(s+2)&255)<<16|(t.charCodeAt(s+3)&255)<<24;c=Fo(c,n),c=c<<15|c>>>17,c=Fo(c,i),r^=c,r=r<<13|r>>>19,r=Fo(r,5)+3864292196,s+=4}let a=0;switch(t.length&3){case 3:a^=(t.charCodeAt(s+2)&255)<<16;case 2:a^=(t.charCodeAt(s+1)&255)<<8;case 1:a^=t.charCodeAt(s)&255,a=Fo(a,n),a=a<<15|a>>>17,a=Fo(a,i),r^=a}return r^=t.length,r^=r>>>16,r=Fo(r,2246822507),r^=r>>>13,r=Fo(r,3266489909),r^=r>>>16,r>>>0}o(bu,"hashStr");function N4e(t,e=0){t=ygt(t);let r=e,n=3432918353,i=461845907;for(;t>=4294967295;){let a=t&4294967295;t=O4e(t/4294967296),a=Fo(a,n),a=a<<15|a>>>17,a=Fo(a,i),r^=a,r=r<<13|r>>>19,r=Fo(r,5)+3864292196}if(t>0){let a=t&4294967295;a=Fo(a,n),a=a<<15|a>>>17,a=Fo(a,i),r^=a}let s=t===0?1:O4e(R4e(t)/R4e(256))+1;return r^=s,r^=r>>>16,r=Fo(r,2246822507),r^=r>>>13,r=Fo(r,3266489909),r^=r>>>16,r>>>0}o(N4e,"hashNumber");function n$(t){let e=7,r=3432918353,n=461845907;for(let i of t){let s=xu(i);s=Fo(s,r),s=s<<15|s>>>17,s=Fo(s,n),e^=s,e=e<<13|e>>>19,e=Fo(e,5)+3864292196}return e^=t.length,e^=e>>>16,e=Fo(e,2246822507),e^=e>>>13,e=Fo(e,3266489909),e^=e>>>16,e>>>0}o(n$,"hashArray");function bgt(t){let e=Igt,r=Object.keys(t);for(let n of r)e+=xu(n)^xu(t[n]);return e>>>0}o(bgt,"hashObject");function xgt(t){let e=13;for(let r of t)e+=xu(r);return e>>>0}o(xgt,"hashSet");function vgt(t){let e=12;for(let[r,n]of t)e+=xu(r)^xu(n);return e>>>0}o(vgt,"hashMap");function _gt(t){return N4e(t.getTime(),14)}o(_gt,"hashDate");function wgt(t){return(bu(t.source+t.flags,15)^t.lastIndex)>>>0}o(wgt,"hashRegExp");var Sgt=bu("undefined",0),Egt=bu("null",1),Agt=bu("true",2),Tgt=bu("false",3),mDr=bu("array",7),Igt=bu("object",8),Rgt=Object.getPrototypeOf,Ogt=new Map([[Object.prototype,bgt],[Array.prototype,n$],[Map.prototype,vgt],[Set.prototype,xgt],[Date.prototype,_gt],[RegExp.prototype,wgt]]);function xu(t,e=[]){switch(typeof t){case"undefined":return Sgt;case"boolean":return t?Agt:Tgt;case"number":return bu(String(t),4);case"string":return bu(t,5);case"bigint":return bu(t.toString(),6);case"object":{if(t===null)return Egt;let r=e.indexOf(t);if(r!==-1)return bu(String(r),11);let n=Ogt.get(Rgt(t));if(n){e.push(t);let i=n(t);return e.pop(),i}return r$(t)}case"function":return r$(t);case"symbol":return bu(t.toString(),10)}}o(xu,"hashValue");var M4e=new WeakMap,Mgt=1;function r$(t){let e=M4e.get(t);return e===void 0&&(e=N4e(Mgt++,9),M4e.set(t,e)),e}o(r$,"getObjectHash");var Ngt=n$([]);function C4e(t,e){return r$(t)^(e.length>0?n$(e):Ngt)}o(C4e,"hashReactiveFn");p();m();var k4e=new WeakMap,Cgt=1;function i$(t){let e=k4e.get(t);return e===void 0&&(e=`obj-${Cgt++}`,k4e.set(t,e)),e}o(i$,"getObjectId");function kgt(t){return Object.getPrototypeOf(t)===Object.prototype}o(kgt,"isPOJO");function Bgt(t){return Array.isArray(t)}o(Bgt,"isPlainArray");function fM(t){if(t===null)return"null";if(t===void 0)return"undefined";switch(typeof t){case"number":case"boolean":case"string":return String(t);case"bigint":return t.toString();case"symbol":return String(t);case"object":return t instanceof Date?t.toISOString():Bgt(t)?`[${t.map(fM).join(",")}]`:kgt(t)?`{ ${[...Object.entries(t),...Object.getOwnPropertySymbols(t).map(r=>[r,t[r]])].sort(([r],[n])=>String(r)<String(n)?-1:String(r)>String(n)?1:0).map(([r,n])=>`${String(r)}: ${fM(n)}`).join(", ")} }`:i$(t);case"function":return i$(t);default:return i$(t)}}o(fM,"stringifyValue");var B4e=0;function U3(t,e,r,n,i,s,a){return{id:t,desc:e,compute:r,equals:C3(n),isRelay:i,paramKey:s,tracer:a}}o(U3,"createReactiveDefinition");var D3=class{static{o(this,"ReactiveSignal")}flags;scope=void 0;id=++B4e;subs=new Map;deps=new Map;ref=new a4e(this);dirtyHead=void 0;updatedCount=0;computedCount=0;watchCount=0;key;args;callbacks=void 0;_listeners=null;_value=void 0;tracerMeta;def;constructor(e,r,n,i){this.flags=(e.isRelay?8:0)|2,this.scope=i,this.key=n,this.args=r,this.def=e,_l()!==void 0&&(this.tracerMeta={id:e.id??n??xu([e.compute,B4e++]),desc:e.desc??e.compute.name??I4e(e.compute),params:r.map(s=>fM(s)).join(", "),tracer:e.tracer})}get _state(){return this.flags&7}set _state(e){this.flags=this.flags&-8|e}get _isListener(){return(this.flags&16)!==0}set _isListener(e){e?this.flags|=16:this.flags&=-17}get _isLazy(){return(this.flags&32)!==0}set _isLazy(e){e?this.flags|=32:this.flags&=-33}get listeners(){return this._listeners??(this._listeners={updatedAt:0,current:new Set,cachedBoundAdd:this.addListener.bind(this)})}get value(){return B3(this)}addListener(e){let{current:r}=this.listeners;return r.has(e)||(this._isListener||(P1(this),this.flags|=16),GO(this),r.add(e)),()=>{r.has(e)&&(r.delete(e),r.size===0&&(S4e(this),nM(this),this.flags&=-17))}}addListenerLazy(){return this._isListener||(P1(this),this.flags|=16),this.listeners.cachedBoundAdd}},A4e=o(t=>{let{listeners:e}=t;if(e===null)return;let{current:r}=e;for(let n of r)n()},"runListeners"),B1=o(t=>(t.flags&8)!==0,"isRelay");function Xm(t,e=[],r,n){return new D3(t,e,r,n)}o(Xm,"createReactiveSignal");var Pgt=0,o$=class{static{o(this,"ContextImpl")}defaultValue;_key;_description;constructor(e,r){this.defaultValue=e,this._description=r??`context:${Pgt++}`,this._key=Symbol(this._description)}},L1=o((t,e)=>new o$(t,e),"context");var F3=o(t=>{let e=dM??eo()?.scope;if(e===void 0)throw new Error("getContext must be used within a reactive function, a withContext, or within a framework-specific context provider.");return e.getContext(t)??t.defaultValue},"getContext"),Zm=class t{static{o(this,"SignalScope")}parentScope;constructor(e,r){this.parentScope=r,this.contexts=Object.create(r?.contexts||null),this.setContexts(e)}contexts;children=new Map;signals=new Map;gcCandidates=new Set;setContexts(e){for(let[r,n]of e)this.contexts[r._key]=n,typeof n=="object"&&n!==null&&uM.set(n,this);this.signals.clear()}getChild(e){let r=xu(e),n=this.children.get(r);return n===void 0&&(n=new t(e,this),this.children.set(r,n)),n}getContext(e){let r=e;return this.contexts[r._key]}get(e,r){let n=e.paramKey?.(...r),i=C4e(e.compute,n?[n]:r),s=this.signals.get(i);return s===void 0&&(s=Xm(e,r,i,this),this.signals.set(i,s)),s}markForGc(e){this.gcCandidates.has(e)||(this.gcCandidates.add(e),E4e(this))}removeFromGc(e){this.gcCandidates.delete(e);let{key:r}=e;r&&this.signals.set(r,e)}forceGc(e){this.signals.delete(e.key)}sweepGc(){let e=this.signals;for(let r of this.gcCandidates)r.watchCount===0&&e.delete(r.key);this.gcCandidates=new Set}},a$=new Zm([]),lM=o(()=>a$,"getGlobalScope");function c$(t){a$.setContexts(t)}o(c$,"setGlobalContexts");var dM,N2=o(t=>{dM=t},"setCurrentScope"),JO=o(()=>dM,"getInternalCurrentScope"),v0=o((t=a$)=>dM??eo()?.scope??t,"getCurrentScope"),uM=new WeakMap,s$=new WeakMap,f$=o((t,e)=>{if(s$.has(t))throw new Error("Object already has a scope owner, owners cannot be dynamic");s$.set(t,e)},"setScopeOwner"),P4e=o(t=>{let e=s$.get(t);if(!e)throw new Error("Object has no scope owner, reactiveMethod must be attached to an owned context object");let r=uM.get(e)??P4e(e);return uM.set(t,r),r},"reifyScopeOwner"),L4e=o(t=>{let e=uM.get(t);return e||(e=P4e(t)),e},"getScopeOwner");p();m();p();m();var u$=new Map;function l$(t,e){let r=u$.get(t);if(!r){let n=U3(e?.id,e?.desc,t,e?.equals,!1,e?.paramKey,void 0),i=v0();r=[o((...a)=>v0(i).get(n,a).value,"reactiveFn"),n],u$.set(t,r)}return r}o(l$,"getReactiveFnAndDefinition");function vi(t,e){return l$(t,e)[0]}o(vi,"reactive");var d$=o((t,e,r)=>{let n=U3(r?.id,r?.desc,e,r?.equals,!1,r?.paramKey,void 0),i=o((...s)=>L4e(t).get(n,s).value,"reactiveFn");return u$.set(i,[i,n]),i},"reactiveMethod");function Lgt(t,e){let r=v0();return x4e(t,r,e)}o(Lgt,"relay");var H3=o((t,e)=>{let r=v0();return v4e(t,r,e)},"task");function D4e(t,e){let r=U3(e?.id,e?.desc,t,e?.equals,!1,void 0,e?.tracer),n=e?.isolate?new Zm([]):v0();return Xm(r,void 0,void 0,n)}o(D4e,"watcher");var h$=o((t,e)=>{let r=U3(e?.id,e?.desc,t,e?.equals,!1,void 0,void 0),n=e?.isolate?new Zm([]):v0();return Xm(r,void 0,void 0,n)},"reactiveSignal");p();m();p();m();p();m();p();m();var D1=o(()=>{let t=Ym(void 0,{equals:o(()=>!1,"equals")});return{consume:o(()=>t.value,"consume"),notify:o(()=>t.value=void 0,"notify")}},"createNotifier");p();m();var U4e=$e(Cg(),1),F4e=$e(Zr(),1);p();m();var hM=$e(Zr(),1);var pM=(0,hM.createContext)(void 0);function mM(){return(0,hM.useContext)(pM)}o(mM,"useScope");function Jm(t){let e=eo()?.scope??mM();if(!e)throw new Error("useContext must be used within a signal hook, a withContext, or a component");return e.getContext(t)??t.defaultValue}o(Jm,"useContext");function Dgt({children:t,contexts:e=[],inherit:r=!0}){let n=(0,F4e.useContext)(pM)??lM(),i=new Zm(e,r?n:void 0);return(0,U4e.jsx)(pM.Provider,{value:i,children:t})}o(Dgt,"ContextProvider");p();m();p();m();var Fgt=$e(Cg(),1),p$=$e(Zr(),1);p();m();var gM=$e(Zr(),1);var H4e=(0,gM.createContext)(!1),Ugt=H4e.Provider;function yM(){return(0,gM.useContext)(H4e)}o(yM,"useSignalsSuspended");p();m();var Hgt=$e(Zr(),1);p();m();var q3=$e(Zr(),1);var q4e=o(t=>{let e=yM();return(0,q3.useSyncExternalStore)((0,q3.useCallback)(e?()=>()=>{}:r=>t.addListener(r),[t,e]),()=>t.value,()=>t.value)},"useStateSignal"),V4e=o(t=>{let e=yM();return(0,q3.useSyncExternalStore)(e?()=>()=>{}:t.addListenerLazy(),()=>t.value,()=>t.value)},"useReactiveFnSignal"),j4e=o(t=>(JK(t)&&V4e(t._signal),q4e(t._version),t),"useReactivePromise"),qgt=o((t,...e)=>{let[,r]=l$(t),i=(mM()??lM()).get(r,e),s=V4e(i);return typeof s=="object"&&s!==null&&wl(s)?j4e(s):s},"useReactiveFn"),Vgt=o(t=>typeof t=="object"&&t!==null&&wl(t),"isNonNullishAsyncSignal");function Za(t,...e){return eo()?typeof t=="function"?t(...e):Vgt(t)?t:t.value:typeof t=="function"?qgt(t,...e):typeof t=="object"&&t!==null&&wl(t)?j4e(t):q4e(t)}o(Za,"useReactive");p();m();var z4e=$e(Zr(),1);p();m();p();m();function B2(t){if(Array.isArray(t))return t.map(B2);if(t&&typeof t=="object"){if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(t instanceof Map)return new Map(Array.from(t.entries()).map(([r,n])=>[B2(r),B2(n)]));if(t instanceof Set)return new Set(Array.from(t).map(B2));let e=Object.create(Object.getPrototypeOf(t));for(let r of Object.keys(t))e[r]=B2(t[r]);return e}return t}o(B2,"cloneDeep");var jgt=vi(t=>B2(t.value)),zgt=vi((t,...e)=>{let r=t(...e);return new Proxy(r,{get(n,i,s){return i==="value"?jgt(n):Reflect.get(n,i,s)}})});function Kgt(t,...e){let r=Za(zgt,t,...e);return Za(()=>r.value),r}o(Kgt,"useQuery");function qFr(t,e){return(0,z4e.useMemo)(()=>{let r=t.value?e?e(t.value):t.value:void 0;return{value:t.value,data:r,isLoading:t.isPending,isSuccess:t.isResolved,isFetching:t.isPending,isError:t.isRejected,isFetched:t.isSettled,status:t.isPending?"pending":t.isResolved?"success":"error",error:t.error}},[t.value,t.isPending,t.isResolved,t.isRejected,t.isSettled,t.error,e])}o(qFr,"useToQueryResult");p();m();var $gt={days:o(t=>t*864e5,"days"),hours:o(t=>t*36e5,"hours"),minutes:o(t=>t*6e4,"minutes"),seconds:o(t=>t*1e3,"seconds"),milliseconds:o(t=>t,"milliseconds"),microseconds:o(t=>t/1e3,"microseconds"),nanoseconds:o(t=>t/1e6,"nanoseconds")};function V3(t){let e=0;for(let[r,n]of Object.entries(t)){let i=$gt[r];e+=i(n)}return e}o(V3,"toMilliseconds");p();m();var m$=L1(null);function K4e(){let t=Jm(m$);if(!t)throw new Error("useStorage must be used within a ContextProvider with StorageContext set");return t}o(K4e,"useStorage");p();m();var $4e=L1(null);function g$(){let t=Jm($4e),e=Jm(m$);if(!e)throw new Error("useSyncedStorage must be used within a ContextProvider with StorageContext set");return t||e}o(g$,"useSyncedStorage");p();m();var Fi;(function(t){t.AuthEnabled="authEnabled",t.BalanceHiddenStatus="balanceHiddenStatus",t.BuyFormValues="buyFormValues",t.CachedBlocklistDiff="cachedBlocklistDiff",t.CachedBloomFilter="cachedBloomFilter",t.CachedBloomFilterHash="cachedBloomFilterHash",t.CachedScanDataCursor="cachedScanDataCursor",t.CachedScanDataRecents="cachedScanDataRecents",t.CustomGasControls="customGasControls",t.DappBrowserBookmarks="dAppBrowserBookmarks",t.DeviceId="deviceId",t.DevicePerformanceInfo="devicePerformanceInfo",t.ExploreFilters="exploreFilters",t.LatestCleanedStorageVersion="latestCleanedStorageVersion",t.LockTimerMs="lockTimerMs",t.MaxWalletIndex="maxWalletIndex",t.MinedTransactionsForAnalytics="minedTransactionsForAnalytics",t.OnboardingDone="onboardingDone",t.OwnerToClusterToLamportBalance="ownerToClusterToLamportBalance",t.OwnerToHiddenMints="ownerToHiddenMints",t.PendingTransactions="pendingTransactions",t.PriceMap="priceMap",t.RecentlyViewedSearchItems="RecentlyViewedSearchItems",t.SeedlessPinVerificationLockTimerInMs="seedlessPinVerificationLockTimerInMs",t.SeedlessDeviceID="seedlessDeviceID",t.SettingReduceMotion="settingReduceMotion",t.SettingMotionLevel="settingMotionLevel",t.UserExplorerPreferenceV2="userExplorerPreferenceV2",t.UserIdCache="userIdCache",t.UserPropsCache="userPropsCache",t.UserRecentAddresses="userRecentAddresses",t.UserSavedAddresses="userSavedAddresses",t.UserTrustedApps="userTrustedApps",t.UserWhitelistSubdomains="userWhitelistedSubdomains",t.UserWhitelistedOrigins="userWhitelistedOrigins",t.RudderstackIdentifyData="rudderstackIdentifyData",t.Cluster="cluster",t.EncryptedMnemonic="encryptedMnemonic",t.EncryptedSeedAndMnemonic="encryptedSeedAndMnemonic",t.MainnetRpcUrl="mainnetRpcEndpoint",t.SwapQuoteFromAsset="swapQuoteFromAsset",t.SwapQuoteSlippage="swapQuoteSlippage",t.SwapQuoteToAsset="swapQuoteToAsset",t.TokenList="tokenList",t.TrustedApplicationsByOwnerBrowser="trustedApplicationsByOwner",t.TrustedApplicationsByOwnerBrowserV2="trustedApplicationsByOwnerBrowser",t.TrustedApplicationsByOwnerMobile="trustedApplicationsByOwnerMobile",t.UnencryptedSeedAndMnemonic="unencryptedSeedAndMnemonic",t.UserExplorerPreference="userExplorerPreference"})(Fi||(Fi={}));var y$;(function(t){t.DeleteStorageValue="deleteStorageValue",t.LockExtension="lockExtension"})(y$||(y$={}));var Ggt={recipientError:void 0,amountError:void 0};p();m();p();m();p();m();p();m();var G4e="REACT_QUERY_OFFLINE_CACHE";function j3(t,e,...r){t&&console.log(e,...r)}o(j3,"debugLog");var Wgt=o(({underlyingStorage:t,throttleMs:e,cacheKey:r=G4e,maxCacheSizeBytes:n=5242880,enableDebugLogs:i=!1})=>{let s=null,a=o(async()=>{if(s)try{let c=JSON.stringify(s),u=c.length;u<n?await t.set(r,c):(await t.remove(r),j3(i,"[React Query Offline Cache] Removed offline cache. Size:",u,"bytes")),s=null}catch{}},"persistCache");return setInterval(()=>{a()},e),{persistClient:o(c=>{s=c},"persistClient"),restoreClient:o(async()=>{try{let c=await t.get(r);if(!c){j3(i,"[React Query Offline Cache] No offline cache restored.");return}let u=JSON.parse(c),h=c.length;return j3(i,"[React Query Offline Cache] Restored RQ offline cache. Size:",h,"bytes"),u}catch{j3(i,"[React Query Offline Cache] Error restoring offline cache.");return}},"restoreClient"),removeClient:o(async()=>(j3(i,"[React Query Offline Cache] Removed offline cache."),t.remove(r)),"removeClient")}},"createReactQueryCache");p();m();p();m();p();m();p();m();var kc=class{static{o(this,"Subscribable")}constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};p();m();p();m();var Ygt={setTimeout:o((t,e)=>setTimeout(t,e),"setTimeout"),clearTimeout:o(t=>clearTimeout(t),"clearTimeout"),setInterval:o((t,e)=>setInterval(t,e),"setInterval"),clearInterval:o(t=>clearInterval(t),"clearInterval")},Xgt=class{static{o(this,"TimeoutManager")}#t=Ygt;#e=!1;setTimeoutProvider(t){R.NODE_ENV!=="production"&&this.#e&&t!==this.#t&&console.error("[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.",{previous:this.#t,provider:t}),this.#t=t,R.NODE_ENV!=="production"&&(this.#e=!1)}setTimeout(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return R.NODE_ENV!=="production"&&(this.#e=!0),this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Xd=new Xgt;function W4e(t){setTimeout(t,0)}o(W4e,"systemSetTimeoutZero");var Bc=typeof self>"u"||"Deno"in globalThis;function Zn(){}o(Zn,"noop");function Z4e(t,e){return typeof t=="function"?t(e):t}o(Z4e,"functionalUpdate");function z3(t){return typeof t=="number"&&t>=0&&t!==1/0}o(z3,"isValidTimeout");function bM(t,e){return Math.max(t+(e||0)-Date.now(),0)}o(bM,"timeUntilStale");function Sl(t,e){return typeof t=="function"?t(e):t}o(Sl,"resolveStaleTime");function Pc(t,e){return typeof t=="function"?t(e):t}o(Pc,"resolveEnabled");function xM(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:c}=t;if(a){if(n){if(e.queryHash!==K3(a,e.options))return!1}else if(!U1(e.queryKey,a))return!1}if(r!=="all"){let u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||s&&!s(e))}o(xM,"matchQuery");function vM(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Zd(e.options.mutationKey)!==Zd(s))return!1}else if(!U1(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}o(vM,"matchMutation");function K3(t,e){return(e?.queryKeyHashFn||Zd)(t)}o(K3,"hashQueryKeyByOptions");function Zd(t){return JSON.stringify(t,(e,r)=>b$(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}o(Zd,"hashKey");function U1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>U1(t[r],e[r])):!1}o(U1,"partialMatchKey");var Zgt=Object.prototype.hasOwnProperty;function P2(t,e){if(t===e)return t;let r=Y4e(t)&&Y4e(e);if(!r&&!(b$(t)&&b$(e)))return e;let i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,c=r?new Array(a):{},u=0;for(let h=0;h<a;h++){let y=r?h:s[h],g=t[y],S=e[y];if(g===S){c[y]=g,(r?h<i:Zgt.call(t,y))&&u++;continue}if(g===null||S===null||typeof g!="object"||typeof S!="object"){c[y]=S;continue}let T=P2(g,S);c[y]=T,T===g&&u++}return i===a&&u===i?t:c}o(P2,"replaceEqualDeep");function eg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}o(eg,"shallowEqualObjects");function Y4e(t){return Array.isArray(t)&&t.length===Object.keys(t).length}o(Y4e,"isPlainArray");function b$(t){if(!X4e(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!X4e(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}o(b$,"isPlainObject");function X4e(t){return Object.prototype.toString.call(t)==="[object Object]"}o(X4e,"hasObjectPrototype");function J4e(t){return new Promise(e=>{Xd.setTimeout(e,t)})}o(J4e,"sleep");function $3(t,e,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(t,e);if(r.structuralSharing!==!1){if(R.NODE_ENV!=="production")try{return P2(t,e)}catch(n){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${n}`),n}return P2(t,e)}return e}o($3,"replaceData");function Q4e(t){return t}o(Q4e,"keepPreviousData");function e8e(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}o(e8e,"addToEnd");function t8e(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}o(t8e,"addToStart");var Qm=Symbol();function _M(t,e){return R.NODE_ENV!=="production"&&t.queryFn===Qm&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${t.queryHash}'`),!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Qm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}o(_M,"ensureQueryFn");function G3(t,e){return typeof t=="function"?t(...e):!!t}o(G3,"shouldThrowError");var Jgt=class extends kc{static{o(this,"FocusManager")}#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Bc&&self.addEventListener){let e=o(()=>t(),"listener");return self.addEventListener("visibilitychange",e,!1),()=>{self.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},L2=new Jgt;p();m();p();m();function W3(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return o(n,"finalize"),r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}o(W3,"pendingThenable");function r8e(t){let e;if(t.then(r=>(e=r,r),Zn)?.catch(Zn),e!==void 0)return{data:e}}o(r8e,"tryResolveSync");function n8e(t){return t}o(n8e,"defaultTransformerFn");function Qgt(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}o(Qgt,"dehydrateMutation");function eyt(t,e,r){return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>r(n)?(R.NODE_ENV!=="production"&&console.error(`A query that was dehydrated as pending ended up rejecting. [${t.queryHash}]: ${n}; The error will be redacted in production builds`),Promise.reject(new Error("redacted"))):Promise.reject(n))},...t.meta&&{meta:t.meta}}}o(eyt,"dehydrateQuery");function i8e(t){return t.state.isPaused}o(i8e,"defaultShouldDehydrateMutation");function o8e(t){return t.state.status==="success"}o(o8e,"defaultShouldDehydrateQuery");function tyt(t){return!0}o(tyt,"defaultShouldRedactErrors");function wM(t,e={}){let r=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??i8e,n=t.getMutationCache().getAll().flatMap(u=>r(u)?[Qgt(u)]:[]),i=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??o8e,s=e.shouldRedactErrors??t.getDefaultOptions().dehydrate?.shouldRedactErrors??tyt,a=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??n8e,c=t.getQueryCache().getAll().flatMap(u=>i(u)?[eyt(u,a,s)]:[]);return{mutations:n,queries:c}}o(wM,"dehydrate");function x$(t,e,r){if(typeof e!="object"||e===null)return;let n=t.getMutationCache(),i=t.getQueryCache(),s=r?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??n8e,a=e.mutations||[],c=e.queries||[];a.forEach(({state:u,...h})=>{n.build(t,{...t.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...h},u)}),c.forEach(({queryKey:u,state:h,queryHash:y,meta:g,promise:S,dehydratedAt:T})=>{let O=S?r8e(S):void 0,M=h.data===void 0?O?.data:h.data,k=M===void 0?M:s(M),C=i.get(y),B=C?.state.status==="pending",N=C?.state.fetchStatus==="fetching";if(C){let P=O&&T!==void 0&&T>C.state.dataUpdatedAt;if(h.dataUpdatedAt>C.state.dataUpdatedAt||P){let{fetchStatus:H,...F}=h;C.setState({...F,data:k})}}else C=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:u,queryHash:y,meta:g},{...h,data:k,fetchStatus:"idle",status:k!==void 0?"success":h.status});S&&!B&&!N&&(T===void 0||T>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(S).then(s)})})}o(x$,"hydrate");p();m();p();m();p();m();var s8e=W4e;function ryt(){let t=[],e=0,r=o(c=>{c()},"notifyFn"),n=o(c=>{c()},"batchNotifyFn"),i=s8e,s=o(c=>{e?t.push(c):i(()=>{r(c)})},"schedule"),a=o(()=>{let c=t;t=[],c.length&&i(()=>{n(()=>{c.forEach(u=>{r(u)})})})},"flush");return{batch:o(c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},"batch"),batchCalls:o(c=>(...u)=>{s(()=>{c(...u)})},"batchCalls"),schedule:s,setNotifyFunction:o(c=>{r=c},"setNotifyFunction"),setBatchNotifyFunction:o(c=>{n=c},"setBatchNotifyFunction"),setScheduler:o(c=>{i=c},"setScheduler")}}o(ryt,"createNotifyManager");var Gr=ryt();p();m();p();m();p();m();var nyt=class extends kc{static{o(this,"OnlineManager")}#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Bc&&self.addEventListener){let e=o(()=>t(!0),"onlineListener"),r=o(()=>t(!1),"offlineListener");return self.addEventListener("online",e,!1),self.addEventListener("offline",r,!1),()=>{self.removeEventListener("online",e),self.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},D2=new nyt;function iyt(t){return Math.min(1e3*2**t,3e4)}o(iyt,"defaultRetryDelay");function v$(t){return(t??"online")==="online"?D2.isOnline():!0}o(v$,"canFetch");var SM=class extends Error{static{o(this,"CancelledError")}constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function EM(t){let e=!1,r=0,n,i=W3(),s=o(()=>i.status!=="pending","isResolved"),a=o(M=>{if(!s()){let k=new SM(M);S(k),t.onCancel?.(k)}},"cancel"),c=o(()=>{e=!0},"cancelRetry"),u=o(()=>{e=!1},"continueRetry"),h=o(()=>L2.isFocused()&&(t.networkMode==="always"||D2.isOnline())&&t.canRun(),"canContinue"),y=o(()=>v$(t.networkMode)&&t.canRun(),"canStart"),g=o(M=>{s()||(n?.(),i.resolve(M))},"resolve"),S=o(M=>{s()||(n?.(),i.reject(M))},"reject"),T=o(()=>new Promise(M=>{n=o(k=>{(s()||h())&&M(k)},"continueFn"),t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),"pause"),O=o(()=>{if(s())return;let M,k=r===0?t.initialPromise:void 0;try{M=k??t.fn()}catch(C){M=Promise.reject(C)}Promise.resolve(M).then(g).catch(C=>{if(s())return;let B=t.retry??(Bc?0:3),N=t.retryDelay??iyt,P=typeof N=="function"?N(r,C):N,H=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,C);if(e||!H){S(C);return}r++,t.onFail?.(r,C),J4e(P).then(()=>h()?void 0:T()).then(()=>{e?S(C):O()})})},"run");return{promise:i,status:o(()=>i.status,"status"),cancel:a,continue:o(()=>(n?.(),i),"continue"),cancelRetry:c,continueRetry:u,canStart:y,start:o(()=>(y()?O():T().then(O),i),"start")}}o(EM,"createRetryer");p();m();var AM=class{static{o(this,"Removable")}#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z3(this.gcTime)&&(this.#t=Xd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bc?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(Xd.clearTimeout(this.#t),this.#t=void 0)}};var c8e=class extends AM{static{o(this,"Query")}#t;#e;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=a8e(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){let e=a8e(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=$3(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Pc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Sl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!bM(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}R.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));let r=new AbortController,n=o(c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:o(()=>(this.#a=!0,r.signal),"get")})},"addSignalProperty"),i=o(()=>{let c=_M(this.options,e),h=o(()=>{let y={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(y),y},"createQueryFnContext")();return this.#a=!1,this.options.persister?this.options.persister(c,h,this):c(h)},"fetchFn"),a=o(()=>{let c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(c),c},"createFetchContext")();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=EM({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o(c=>{c instanceof SM&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},"onCancel"),onFail:o((c,u)=>{this.#o({type:"failed",failureCount:c,error:u})},"onFail"),onPause:o(()=>{this.#o({type:"pause"})},"onPause"),onContinue:o(()=>{this.#o({type:"continue"})},"onContinue"),retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:o(()=>!0,"canRun")});try{let c=await this.#i.start();if(c===void 0)throw R.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof SM){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#o({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#o(t){let e=o(r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._$(r.data,this.options),fetchMeta:t.meta??null};case"success":let n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":let i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function _$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}o(_$,"fetchState");function a8e(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}o(a8e,"getDefaultState");var Jd=class extends kc{static{o(this,"QueryObserver")}constructor(t,e){super(),this.options=e,this.#t=t,this.#o=null,this.#a=W3(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#c;#d;#h;#u;#l;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),f8e(this.#e,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return w$(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return w$(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#_(),this.#e.removeObserver(this)}setOptions(t){let e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pc(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!eg(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});let n=this.hasListeners();n&&u8e(this.#e,r,this.options,e)&&this.#p(),this.updateResult(),n&&(this.#e!==r||Pc(this.options.enabled,this.#e)!==Pc(e.enabled,this.#e)||Sl(this.options.staleTime,this.#e)!==Sl(e.staleTime,this.#e))&&this.#g();let i=this.#y();n&&(this.#e!==r||Pc(this.options.enabled,this.#e)!==Pc(e.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return syt(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:o((r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,n)),"get")})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Zn)),e}#g(){this.#v();let t=Sl(this.options.staleTime,this.#e);if(Bc||this.#n.isStale||!z3(t))return;let r=bM(this.#n.dataUpdatedAt,t)+1;this.#u=Xd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(t){this.#_(),this.#f=t,!(Bc||Pc(this.options.enabled,this.#e)===!1||!z3(this.#f)||this.#f===0)&&(this.#l=Xd.setInterval(()=>{(this.options.refetchIntervalInBackground||L2.isFocused())&&this.#p()},this.#f))}#x(){this.#g(),this.#b(this.#y())}#v(){this.#u&&(Xd.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#l&&(Xd.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){let r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#s,u=t!==r?t.state:this.#r,{state:h}=t,y={...h},g=!1,S;if(e._optimisticResults){let W=this.hasListeners(),X=!W&&f8e(t,e),E=W&&u8e(t,r,e,n);(X||E)&&(y={...y,..._$(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:T,errorUpdatedAt:O,status:M}=y;S=y.data;let k=!1;if(e.placeholderData!==void 0&&S===void 0&&M==="pending"){let W;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(W=i.data,k=!0):W=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,W!==void 0&&(M="success",S=$3(i?.data,W,e),g=!0)}if(e.select&&S!==void 0&&!k)if(i&&S===s?.data&&e.select===this.#c)S=this.#d;else try{this.#c=e.select,S=e.select(S),S=$3(i?.data,S,e),this.#d=S,this.#o=null}catch(W){this.#o=W}this.#o&&(T=this.#o,S=this.#d,O=Date.now(),M="error");let C=y.fetchStatus==="fetching",B=M==="pending",N=M==="error",P=B&&C,H=S!==void 0,Z={status:M,fetchStatus:y.fetchStatus,isPending:B,isSuccess:M==="success",isError:N,isInitialLoading:P,isLoading:P,data:S,dataUpdatedAt:y.dataUpdatedAt,error:T,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>u.dataUpdateCount||y.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!B,isLoadingError:N&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&H,isStale:S$(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Pc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){let W=o(f=>{Z.status==="error"?f.reject(Z.error):Z.data!==void 0&&f.resolve(Z.data)},"finalizeThenableIfPossible"),X=o(()=>{let f=this.#a=Z.promise=W3();W(f)},"recreateThenable"),E=this.#a;switch(E.status){case"pending":t.queryHash===r.queryHash&&W(E);break;case"fulfilled":(Z.status==="error"||Z.data!==E.value)&&X();break;case"rejected":(Z.status!=="error"||Z.error!==E.reason)&&X();break}}return Z}updateResult(){let t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),eg(e,t))return;this.#n=e;let r=o(()=>{if(!t)return!0;let{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;let s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{let c=a;return this.#n[c]!==t[c]&&s.has(c)})},"shouldNotifyListeners");this.#S({listeners:r()})}#w(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;let e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function oyt(t,e){return Pc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}o(oyt,"shouldLoadOnMount");function f8e(t,e){return oyt(t,e)||t.state.data!==void 0&&w$(t,e,e.refetchOnMount)}o(f8e,"shouldFetchOnMount");function w$(t,e,r){if(Pc(e.enabled,t)!==!1&&Sl(e.staleTime,t)!=="static"){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&S$(t,e)}return!1}o(w$,"shouldFetchOn");function u8e(t,e,r,n){return(t!==e||Pc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&S$(t,r)}o(u8e,"shouldFetchOptionally");function S$(t,e){return Pc(e.enabled,t)!==!1&&t.isStaleByTime(Sl(e.staleTime,t))}o(S$,"isStale");function syt(t,e){return!eg(t.getCurrentResult(),e)}o(syt,"shouldAssignObserverCurrentProperties");p();m();function U2(t){return{onFetch:o((e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],c={pages:[],pageParams:[]},u=0,h=o(async()=>{let y=!1,g=o(O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:o(()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal),"get")})},"addSignalProperty"),S=_M(e.options,e.fetchOptions),T=o(async(O,M,k)=>{if(y)return Promise.reject();if(M==null&&O.pages.length)return Promise.resolve(O);let B=o(()=>{let F={client:e.client,queryKey:e.queryKey,pageParam:M,direction:k?"backward":"forward",meta:e.options.meta};return g(F),F},"createQueryFnContext")(),N=await S(B),{maxPages:P}=e.options,H=k?t8e:e8e;return{pages:H(O.pages,N,P),pageParams:H(O.pageParams,M,P)}},"fetchPage");if(i&&s.length){let O=i==="backward",M=O?l8e:E$,k={pages:s,pageParams:a},C=M(n,k);c=await T(k,C,O)}else{let O=t??s.length;do{let M=u===0?a[0]??n.initialPageParam:E$(n,c);if(u>0&&M==null)break;c=await T(c,M),u++}while(u<O)}return c},"fetchFn");e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h},"onFetch")}}o(U2,"infiniteQueryBehavior");function E$(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}o(E$,"getNextPageParam");function l8e(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}o(l8e,"getPreviousPageParam");function d8e(t,e){return e?E$(t,e)!=null:!1}o(d8e,"hasNextPage");function h8e(t,e){return!e||!t.getPreviousPageParam?!1:l8e(t,e)!=null}o(h8e,"hasPreviousPage");var A$=class extends Jd{static{o(this,"InfiniteQueryObserver")}constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:U2()})}getOptimisticResult(t){return t.behavior=U2(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:a,isRefetchError:c}=n,u=r.fetchMeta?.fetchMore?.direction,h=a&&u==="forward",y=i&&u==="forward",g=a&&u==="backward",S=i&&u==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:d8e(e,r.data),hasPreviousPage:h8e(e,r.data),isFetchNextPageError:h,isFetchingNextPage:y,isFetchPreviousPageError:g,isFetchingPreviousPage:S,isRefetchError:c&&!h&&!g,isRefetching:s&&!y&&!S}}};p();m();p();m();var p8e=class extends AM{static{o(this,"Mutation")}#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||T$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){let e=o(()=>{this.#n({type:"continue"})},"onContinue");this.#r=EM({fn:o(()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),"fn"),onFail:o((i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},"onFail"),onPause:o(()=>{this.#n({type:"pause"})},"onPause"),onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:o(()=>this.#e.canRun(this),"canRun")});let r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}let i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){let e=o(r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}},"reducer");this.state=e(this.state),Gr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function T$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}o(T$,"getDefaultState");var m8e=class extends kc{static{o(this,"MutationCache")}constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){let n=new p8e({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);let e=TM(t);if(typeof e=="string"){let r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){let e=TM(t);if(typeof e=="string"){let r=this.#e.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=TM(t);if(typeof e=="string"){let n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=TM(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>vM(e,r))}findAll(t={}){return this.getAll().filter(e=>vM(t,e))}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return Gr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Zn))))}};function TM(t){return t.options.scope?.id}o(TM,"scopeFor");p();m();var I$=class extends kc{static{o(this,"MutationObserver")}#t;#e=void 0;#r;#n;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),eg(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&Zd(e.mutationKey)!==Zd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??T$();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Gr.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#e)})})}};p();m();function g8e(t,e){let r=new Set(e);return t.filter(n=>!r.has(n))}o(g8e,"difference");function ayt(t,e,r){let n=t.slice(0);return n[e]=r,n}o(ayt,"replaceAt");var R$=class extends kc{static{o(this,"QueriesObserver")}#t;#e;#r;#n;#i;#s;#a;#o;#c=[];constructor(t,e,r){super(),this.#t=t,this.#n=r,this.#r=[],this.#i=[],this.#e=[],this.setQueries(e)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(t=>{t.subscribe(e=>{this.#l(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e){if(this.#r=t,this.#n=e,R.NODE_ENV!=="production"){let r=t.map(n=>this.#t.defaultQueryOptions(n).queryHash);new Set(r).size!==r.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}Gr.batch(()=>{let r=this.#i,n=this.#u(this.#r);this.#c=n,n.forEach(u=>u.observer.setOptions(u.defaultedQueryOptions));let i=n.map(u=>u.observer),s=i.map(u=>u.getCurrentResult()),a=i.some((u,h)=>u!==r[h]),c=r.length===i.length&&!a?s.some((u,h)=>{let y=this.#e[h];return!y||!eg(u,y)}):!0;!a&&!c||(a&&(this.#i=i),this.#e=s,this.hasListeners()&&(a&&(g8e(r,i).forEach(u=>{u.destroy()}),g8e(i,r).forEach(u=>{u.subscribe(h=>{this.#l(u,h)})})),this.#f()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#u(t),n=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[n,i=>this.#h(i??n,e),()=>this.#d(n,r)]}#d(t,e){return e.map((r,n)=>{let i=t[n];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,s=>{e.forEach(a=>{a.observer.trackProp(s)})})})}#h(t,e){return e?((!this.#s||this.#e!==this.#o||e!==this.#a)&&(this.#a=e,this.#o=this.#e,this.#s=P2(this.#s,e(t))),this.#s):t}#u(t){let e=new Map(this.#i.map(n=>[n.options.queryHash,n])),r=[];return t.forEach(n=>{let i=this.#t.defaultQueryOptions(n),s=e.get(i.queryHash);s?r.push({defaultedQueryOptions:i,observer:s}):r.push({defaultedQueryOptions:i,observer:new Jd(this.#t,i)})}),r}#l(t,e){let r=this.#i.indexOf(t);r!==-1&&(this.#e=ayt(this.#e,r,e),this.#f())}#f(){if(this.hasListeners()){let t=this.#s,e=this.#d(this.#e,this.#c),r=this.#h(e,this.#n?.combine);t!==r&&Gr.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}};p();m();var y8e=class extends kc{static{o(this,"QueryCache")}constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let n=e.queryKey,i=e.queryHash??K3(n,e),s=this.get(i);return s||(s=new c8e({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>xM(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>xM(t,r)):e}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};p();m();var b8e=class{static{o(this,"QueryClient")}#t;#e;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#t=t.queryCache||new y8e,this.#e=t.mutationCache||new m8e,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=L2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=D2.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Sl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,a=Z4e(e,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Gr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){let e=this.#t;Gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t;return Gr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=Gr.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return Gr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=Gr.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Zn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(Sl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=U2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=U2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return D2.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Zd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{U1(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Zd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{U1(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=K3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}};p();m();var Qd=$e(Zr(),1);p();m();var F2=$e(Zr(),1),x8e=$e(Cg(),1);var O$=F2.createContext(void 0),tg=o(t=>{let e=F2.useContext(O$);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},"useQueryClient"),IM=o(({client:t,children:e})=>(F2.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,x8e.jsx)(O$.Provider,{value:t,children:e})),"QueryClientProvider");p();m();var RM=$e(Zr(),1);var v8e=RM.createContext(!1),Y3=o(()=>RM.useContext(v8e),"useIsRestoring"),M$=v8e.Provider;p();m();var X3=$e(Zr(),1),cyt=$e(Cg(),1);function fyt(){let t=!1;return{clearReset:o(()=>{t=!1},"clearReset"),reset:o(()=>{t=!0},"reset"),isReset:o(()=>t,"isReset")}}o(fyt,"createValue");var uyt=X3.createContext(fyt()),OM=o(()=>X3.useContext(uyt),"useQueryErrorResetBoundary");p();m();var _8e=$e(Zr(),1);var MM=o((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},"ensurePreventErrorBoundaryRetry"),NM=o(t=>{_8e.useEffect(()=>{t.clearReset()},[t])},"useClearResetErrorBoundary"),CM=o(({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||G3(r,[t.error,n])),"getHasError");p();m();var kM=o(t=>{if(t.suspense){let r=o(i=>i==="static"?i:Math.max(i??1e3,1e3),"clamp"),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},"ensureSuspenseTimers"),BM=o((t,e)=>t.isLoading&&t.isFetching&&!e,"willFetch"),Z3=o((t,e)=>t?.suspense&&e.isPending,"shouldSuspend"),H2=o((t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),"fetchOptimistic");function w8e({queries:t,...e},r){let n=tg(r),i=Y3(),s=OM(),a=Qd.useMemo(()=>t.map(M=>{let k=n.defaultQueryOptions(M);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[t,n,i]);a.forEach(M=>{kM(M),MM(M,s)}),NM(s);let[c]=Qd.useState(()=>new R$(n,a,e)),[u,h,y]=c.getOptimisticResult(a,e.combine),g=!i&&e.subscribed!==!1;Qd.useSyncExternalStore(Qd.useCallback(M=>g?c.subscribe(Gr.batchCalls(M)):Zn,[c,g]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Qd.useEffect(()=>{c.setQueries(a,e)},[a,e,c]);let T=u.some((M,k)=>Z3(a[k],M))?u.flatMap((M,k)=>{let C=a[k];if(C){let B=new Jd(n,C);if(Z3(C,M))return H2(C,B,s);BM(M,i)&&H2(C,B,s)}return[]}):[];if(T.length>0)throw Promise.all(T);let O=u.find((M,k)=>{let C=a[k];return C&&CM({result:M,errorResetBoundary:s,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(O?.error)throw O.error;return h(y())}o(w8e,"useQueries");p();m();p();m();var rg=$e(Zr(),1);function PM(t,e,r){if(R.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');let n=Y3(),i=OM(),s=tg(r),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),R.NODE_ENV!=="production"&&(a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`)),a._optimisticResults=n?"isRestoring":"optimistic",kM(a),MM(a,i),NM(i);let c=!s.getQueryCache().get(a.queryHash),[u]=rg.useState(()=>new e(s,a)),h=u.getOptimisticResult(a),y=!n&&t.subscribed!==!1;if(rg.useSyncExternalStore(rg.useCallback(g=>{let S=y?u.subscribe(Gr.batchCalls(g)):Zn;return u.updateResult(),S},[u,y]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),rg.useEffect(()=>{u.setOptions(a)},[a,u]),Z3(a,h))throw H2(a,u,i);if(CM({result:h,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!Bc&&BM(h,n)&&(c?H2(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(Zn).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?h:u.trackResult(h)}o(PM,"useBaseQuery");function N$(t,e){return PM(t,Jd,e)}o(N$,"useQuery");p();m();var w0=$e(Zr(),1);function S8e(t,e){let r=tg(e),[n]=w0.useState(()=>new I$(r,t));w0.useEffect(()=>{n.setOptions(t)},[n,t]);let i=w0.useSyncExternalStore(w0.useCallback(a=>n.subscribe(Gr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=w0.useCallback((a,c)=>{n.mutate(a,c).catch(Zn)},[n]);if(i.error&&G3(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}o(S8e,"useMutation");p();m();function E8e(t,e){return PM(t,A$,e)}o(E8e,"useInfiniteQuery");p();m();var lyt=["added","removed","updated"];function A8e(t){return lyt.includes(t)}o(A8e,"isCacheEventType");async function I8e({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{let s=await e.restoreClient();if(s)if(s.timestamp){let a=Date.now()-s.timestamp>r,c=s.buster!==n;if(a||c)return e.removeClient();x$(t,s.clientState,i)}else return e.removeClient()}catch(s){throw R.NODE_ENV!=="production"&&(console.error(s),console.warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.")),await e.removeClient(),s}}o(I8e,"persistQueryClientRestore");async function T8e({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:wM(t,n)};await e.persistClient(i)}o(T8e,"persistQueryClientSave");function R8e(t){let e=t.queryClient.getQueryCache().subscribe(n=>{A8e(n.type)&&T8e(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{A8e(n.type)&&T8e(t)});return()=>{e(),r()}}o(R8e,"persistQueryClientSubscribe");p();m();var ng=$e(Zr(),1);var C$=$e(Cg(),1);var dyt=o(({children:t,persistOptions:e,onSuccess:r,onError:n,...i})=>{let[s,a]=ng.useState(!0),c=ng.useRef({persistOptions:e,onSuccess:r,onError:n}),u=ng.useRef(!1);return ng.useEffect(()=>{c.current={persistOptions:e,onSuccess:r,onError:n}}),ng.useEffect(()=>{let h={...c.current.persistOptions,queryClient:i.client};return u.current||(u.current=!0,I8e(h).then(()=>c.current.onSuccess?.()).catch(()=>c.current.onError?.()).finally(()=>{a(!1)})),s?void 0:R8e(h)},[i.client,s]),(0,C$.jsx)(IM,{...i,children:(0,C$.jsx)(M$,{value:s,children:t})})},"PersistQueryClientProvider");p();m();p();m();var hyt=$e(Cg(),1),LM=$e(Zr(),1);var pyt=LM.default.createContext(!1);function O8e(){return(0,LM.useContext)(pyt)}o(O8e,"useIsInert");var M8e=$e(Zr());function k$(t,e){let r=O8e(),n=(0,M8e.useMemo)(()=>{if(r){let i=t?.refetchInterval!==void 0&&t?.refetchInterval!==!1,s=t?.enabled===!1;if(i&&!s)return{...t,refetchInterval:!1}}return t},[r,t]);return N$(n,e)}o(k$,"useQuery");p();m();var N8e="__STORAGE_RESET_KEY__",C8e=[Fi.AuthEnabled,Fi.BalanceHiddenStatus,Fi.BuyFormValues,Fi.CustomGasControls,Fi.DappBrowserBookmarks,Fi.DeviceId,Fi.LatestCleanedStorageVersion,Fi.LockTimerMs,Fi.MaxWalletIndex,Fi.OnboardingDone,Fi.OwnerToHiddenMints,Fi.PendingTransactions,Fi.PriceMap,Fi.UserExplorerPreferenceV2,Fi.UserRecentAddresses,Fi.UserSavedAddresses,Fi.UserTrustedApps,Fi.UserWhitelistSubdomains,Fi.UserWhitelistedOrigins];var myt="Error processing storage data",gyt="Error getting storage data",yyt=["export-storage"],byt=o((t,e)=>{let r=[...C8e,...e];return k$({queryKey:yyt,queryFn:o(()=>xyt(t,r),"queryFn"),gcTime:0,staleTime:0})},"useStorageExport"),xyt=o(async(t,e)=>{try{let r={};for(let{key:n,storage:i}of t){let s=await i.getAll();r[n]=vyt(s,e)}return r}catch(r){throw new Error(`${gyt}: ${JSON.stringify(r)}`)}},"getStorageExport"),vyt=o((t,e)=>{try{let r={};for(let n of e)t[n]&&(r[n]=t[n]);return r}catch(r){throw new Error(`${myt}: ${JSON.stringify(r)}`)}},"cleanUpStorageData");p();m();var q2=class{static{o(this,"StorageNotifierCache")}notifierCache=new Map;constructor(e){this.storage=e,e.subscribe(r=>{r===N8e?this.notifierCache.forEach(n=>{n.notify()}):this.getNotifier(r).notify()})}getNotifier(e){let r=this.notifierCache.get(e);return r||(r=D1(),this.notifierCache.set(e,r)),r}async get(e){return this.getNotifier(e).consume(),this.storage.get(e)}async set(e,r){await this.storage.set(e,r),this.getNotifier(e).notify()}},k8e=new WeakMap,J3=o(()=>{let t=K4e(),e=k8e.get(t);return e===void 0&&(e=new q2(t),k8e.set(t,e)),e},"useStorageSignalProxy");var _yt=vi(t=>J3().get(t));var wyt=vi(t=>{let e=J3();return H3(function*(r){return e.set(t,r)})});p();m();p();m();p();m();p();m();p();m();var H$=$e(Mu()),D8e=$e(o0());p();m();p();m();p();m();var Syt=o((t,e,r)=>t&e^~t&r,"Chi"),Eyt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Ayt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ig=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),og=new Uint32Array(64),DM=class extends yv{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=ig[0]|0,this.B=ig[1]|0,this.C=ig[2]|0,this.D=ig[3]|0,this.E=ig[4]|0,this.F=ig[5]|0,this.G=ig[6]|0,this.H=ig[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)og[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=og[g-15],T=og[g-2],O=ol(S,7)^ol(S,18)^S>>>3,M=ol(T,17)^ol(T,19)^T>>>10;og[g]=M+og[g-7]+O+og[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=ol(c,6)^ol(c,11)^ol(c,25),T=y+S+Syt(c,u,h)+Ayt[g]+og[g]|0,M=(ol(n,2)^ol(n,13)^ol(n,22))+Eyt(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){og.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},B$=class extends DM{static{o(this,"SHA224")}constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},P$=Sd(()=>new DM),NKr=Sd(()=>new B$);p();m();function Tyt(t,e,r,n){Vn.hash(t);let i=xR({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:c}=i;if(Vn.number(s),Vn.number(a),Vn.number(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let u=sl(e),h=sl(r),y=new Uint8Array(a),g=Wh.create(t,u),S=g._cloneInto().update(h);return{c:s,dkLen:a,asyncTick:c,DK:y,PRF:g,PRFSalt:S}}o(Tyt,"pbkdf2Init");function Iyt(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}o(Iyt,"pbkdf2Output");function L$(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:c,PRFSalt:u}=Tyt(t,e,r,n),h,y=new Uint8Array(4),g=gv(y),S=new Uint8Array(c.outputLen);for(let T=1,O=0;O<s;T++,O+=c.outputLen){let M=a.subarray(O,O+c.outputLen);g.setInt32(0,T,!1),(h=u._cloneInto(h)).update(y).digestInto(S),M.set(S.subarray(0,M.length));for(let k=1;k<i;k++){c._cloneInto(h).update(S).digestInto(S);for(let C=0;C<M.length;C++)M[C]^=S[C]}}return Iyt(c,u,a,h,S)}o(L$,"pbkdf2");var bn=o((t,e)=>t<<e|t>>>32-e,"rotl");function B8e(t,e,r,n,i,s){let a=t[e++]^r[n++],c=t[e++]^r[n++],u=t[e++]^r[n++],h=t[e++]^r[n++],y=t[e++]^r[n++],g=t[e++]^r[n++],S=t[e++]^r[n++],T=t[e++]^r[n++],O=t[e++]^r[n++],M=t[e++]^r[n++],k=t[e++]^r[n++],C=t[e++]^r[n++],B=t[e++]^r[n++],N=t[e++]^r[n++],P=t[e++]^r[n++],H=t[e++]^r[n++],F=a,Z=c,W=u,X=h,E=y,f=g,d=S,b=T,x=O,_=M,A=k,I=C,v=B,l=N,w=P,V=H;for(let q=0;q<8;q+=2)E^=bn(F+v|0,7),x^=bn(E+F|0,9),v^=bn(x+E|0,13),F^=bn(v+x|0,18),_^=bn(f+Z|0,7),l^=bn(_+f|0,9),Z^=bn(l+_|0,13),f^=bn(Z+l|0,18),w^=bn(A+d|0,7),W^=bn(w+A|0,9),d^=bn(W+w|0,13),A^=bn(d+W|0,18),X^=bn(V+I|0,7),b^=bn(X+V|0,9),I^=bn(b+X|0,13),V^=bn(I+b|0,18),Z^=bn(F+X|0,7),W^=bn(Z+F|0,9),X^=bn(W+Z|0,13),F^=bn(X+W|0,18),d^=bn(f+E|0,7),b^=bn(d+f|0,9),E^=bn(b+d|0,13),f^=bn(E+b|0,18),I^=bn(A+_|0,7),x^=bn(I+A|0,9),_^=bn(x+I|0,13),A^=bn(_+x|0,18),v^=bn(V+w|0,7),l^=bn(v+V|0,9),w^=bn(l+v|0,13),V^=bn(w+l|0,18);i[s++]=a+F|0,i[s++]=c+Z|0,i[s++]=u+W|0,i[s++]=h+X|0,i[s++]=y+E|0,i[s++]=g+f|0,i[s++]=S+d|0,i[s++]=T+b|0,i[s++]=O+x|0,i[s++]=M+_|0,i[s++]=k+A|0,i[s++]=C+I|0,i[s++]=B+v|0,i[s++]=N+l|0,i[s++]=P+w|0,i[s++]=H+V|0}o(B8e,"XorAndSalsa");function D$(t,e,r,n,i){let s=n+0,a=n+16*i;for(let c=0;c<16;c++)r[a+c]=t[e+(2*i-1)*16+c];for(let c=0;c<i;c++,s+=16,e+=16)B8e(r,a,t,e,r,s),c>0&&(a+=16),B8e(r,s,t,e+=16,r,a)}o(D$,"BlockMix");function Ryt(t,e,r){let n=xR({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:a,dkLen:c,asyncTick:u,maxmem:h,onProgress:y}=n;if(Vn.number(i),Vn.number(s),Vn.number(a),Vn.number(c),Vn.number(u),Vn.number(h),y!==void 0&&typeof y!="function")throw new Error("progressCb should be function");let g=128*s,S=g/4;if(i<=1||i&i-1||i>=2**(g/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/g)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let T=g*(i+a);if(T>h)throw new Error(`Scrypt: parameters too large, ${T} (128 * r * (N + p)) > ${h} (maxmem)`);let O=L$(P$,t,e,{c:1,dkLen:g*a}),M=mv(O),k=mv(new Uint8Array(g*i)),C=mv(new Uint8Array(g)),B=o(()=>{},"blockMixCb");if(y){let N=2*i*a,P=Math.max(Math.floor(N/1e4),1),H=0;B=o(()=>{H++,y&&(!(H%P)||H===N)&&y(H/N)},"blockMixCb")}return{N:i,r:s,p:a,dkLen:c,blockSize32:S,V:k,B32:M,B:O,tmp:C,blockMixCb:B,asyncTick:u}}o(Ryt,"scryptInit");function Oyt(t,e,r,n,i){let s=L$(P$,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}o(Oyt,"scryptOutput");async function P8e(t,e,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:c,V:u,B32:h,B:y,tmp:g,blockMixCb:S,asyncTick:T}=Ryt(t,e,r);for(let O=0;O<s;O++){let M=c*O;for(let C=0;C<c;C++)u[C]=h[M+C];let k=0;await bR(n-1,T,C=>{D$(u,k,u,k+=c,i),S()}),D$(u,(n-1)*c,h,M,i),S(),await bR(n,T,C=>{let B=h[M+c-16]%n;for(let N=0;N<c;N++)g[N]=h[M+N]^u[B*c+N];D$(g,0,h,M,i),S()})}return Oyt(t,a,y,u,g)}o(P8e,"scryptAsync");var U$=$e(Mu()),L8e=$e(oI()),F$=$e(o0());var UM=o(async(t,e)=>{switch(e.kdf){case"scrypt":return Buffer.from(await P8e(t,U$.default.decode(e.salt),{N:2**12,r:8,p:1,dkLen:F$.secretbox.keyLength}));case"pbkdf2":return new Promise((r,n)=>(0,L8e.pbkdf2)(t,U$.default.decode(e.salt),e.iterations,F$.secretbox.keyLength,e.digest,(i,s)=>i?n(i):r(s)))}throw new Error(`Unable to derive encryption key: ${e.kdf}`)},"deriveEncryptionKeyAsync");var q$=o(async(t,e)=>{let r=D8e.secretbox.open(H$.default.decode(t.encrypted),H$.default.decode(t.nonce),await UM(e,t));if(!r)throw new Error("Unable to open secretbox: Incorrect Password");return r},"openSecretBoxAsync");async function V2(t,e){try{return await q$(t,e)}catch{let r=Buffer.from(e).toString("utf-8"),n=Buffer.from(r),i=await q$(t,n);return i&&rr.addBreadcrumb(Je.Storage,"DecryptEncryptedText: Legacy decryption successful \u2705",Tt.Info),i}}o(V2,"decryptEncryptedTextAsync");p();m();var Q3=$e(Mu()),j2=$e(o0());var z2=o(async(t,e)=>{let r={kdf:"scrypt",salt:Q3.default.encode((0,j2.randomBytes)(16)),nonce:Q3.default.encode((0,j2.randomBytes)(j2.secretbox.nonceLength)),iterations:1e4,digest:"sha256"},n=await UM(e,r),i=(0,j2.secretbox)(t,Q3.default.decode(r.nonce),n);return{...r,encrypted:Q3.default.encode(i)}},"generateEncryptedText");p();m();async function FM(t,e){return z2(Buffer.from(t),e)}o(FM,"generateEncryptedTextAsync");p();m();var V$=be.object({encrypted:be.string(),nonce:be.string(),kdf:be.string(),salt:be.string(),iterations:be.number(),digest:be.string()});var U8e=be.object({version:be.literal(1),content:V$}),Lc;(function(t){t.Plain="plain",t.Secure="secure"})(Lc||(Lc={}));var j$=class{static{o(this,"EncryptedStorage")}storage;storageEncryptionKeyManager;static fromStorage(e,r){return new this({store:e,type:Lc.Plain},r)}static fromSecureStorage(e,r){return new this({store:e,type:Lc.Secure},r)}constructor(e,r){this.storage=e,this.storageEncryptionKeyManager=r}async rotateEncryptionKey(e){return this.storageEncryptionKeyManager.rotateEncryptionKey(async(r,n)=>{let i=await this.getAllSecureValues(),s={};for(let[a,c]of Object.entries(i)){let u=await this.encrypt(c,r);s[a]=u}return n(s,e)})}async getSecureValue(e){let r;switch(this.storage.type){case Lc.Plain:{r=await this.storage.store.get(e);break}case Lc.Secure:{r=await this.storage.store.getSecureValue(e);break}}return r?this.decrypt(r):null}async getAllSecureValues(e){let r={},n;switch(this.storage.type){case Lc.Plain:{n=await this.storage.store.getAll(e);break}case Lc.Secure:{n=await this.storage.store.getAllSecureValues(e);break}}for(let[i,s]of Object.entries(n)){let a=U8e.safeParse(s);if(a.success){let c=await this.decrypt(a.data);r[i]=c}}return r}async removeSecureValue(e){switch(this.storage.type){case Lc.Plain:{await this.storage.store.remove(e);break}case Lc.Secure:{await this.storage.store.removeSecureValue(e);break}}}async setSecureValue(e,r){let n=await this.encrypt(r);switch(this.storage.type){case Lc.Plain:{await this.storage.store.set(e,n);break}case Lc.Secure:{await this.storage.store.setSecureValue(e,n);break}}}async setAllSecureValues(e){let r={};for(let[n,i]of Object.entries(e)){let s=await this.encrypt(i);r[n]=s}switch(this.storage.type){case Lc.Plain:{await this.storage.store.setAll(r);break}case Lc.Secure:{await this.storage.store.setAllSecureValues(r);break}}}async encrypt(e,r){let n=JSON.stringify(e),i=r??await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!i)throw new Error("[EncryptedStorage.encrypt] Failed to get valid encryption key");return{version:1,content:await i.foldAsync(a=>FM(n,a))}}async decrypt(e){let r=await this.storageEncryptionKeyManager.getDeviceEncryptionKey();if(!r)throw new Error("[EncryptedStorage.decrypt] Failed to get valid encryption key");let n=await r.foldAsync(i=>V2(e.content,i));return JSON.parse(Buffer.from(n).toString())}};p();m();var F8e=$e(o0());var t6=class extends Error{static{o(this,"StorageEncryptionKeyErrorMissingPassword")}message="Failed to get the encryption password"},HM=class extends Error{static{o(this,"StorageEncryptionKeyErrorPasswordNeverSet")}message="Failed to update password that has never been set"},z$=class extends Error{static{o(this,"StorageEncryptionKeyErrorInvalidPassword")}message="Failed to decrypt using the password"},e6=".phantom-labs.encryption.encryptionKey",K$=class{static{o(this,"MiddleEncryptionKeyManager")}tempEncryptionKey;encryptionKey;deps;constructor(e){this.deps=e,this.encryptionKey=null,this.tempEncryptionKey=null}async getDeviceEncryptionKey(){let e=await this.fetchAndDecryptExistingKey();return e?nu.from(e):(this.tempEncryptionKey||(this.tempEncryptionKey=nu.from(this.randomEncryptionKey())),this.tempEncryptionKey)}async persistDeviceEncryptionKey(){if(await this.hasPersistedDeviceEncryptionKey())return!0;this.tempEncryptionKey||(this.tempEncryptionKey=nu.from(this.randomEncryptionKey()));let e=this.tempEncryptionKey,r=this.getPassword(),n=o(async s=>await this.encrypt(s,r),"encryptionCallback"),i=await e.foldAsync(n);return await this.saveExistingKey(i),this.encryptionKey=i,this.tempEncryptionKey=null,!0}async hasPersistedDeviceEncryptionKey(){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),!!this.encryptionKey}async deletePersistedDeviceEncryptionKey(){return this.encryptionKey=null,this.deleteExistingKey().then(()=>!0).catch(()=>!1)}async updatePassword(e){if(!this.deps.getPassword())throw new t6;let n=await this.fetchAndDecryptExistingKey();if(!n)throw new HM;let i=await this.encrypt(n,e);await this.saveExistingKey(i),this.encryptionKey=i}async rotateEncryptionKey(e){let r=this.deps.getPassword();if(!r)throw new t6;if(!await this.fetchAndDecryptExistingKey())throw new HM;let i=nu.from(this.randomEncryptionKey());return e(i,async(s,a)=>{let c=a??r,u=await i.foldAsync(h=>this.encrypt(h,c));return await this.saveExistingKey(u,s),this.encryptionKey=u,this.tempEncryptionKey=null,!0})}async verifyPassword(e){return this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey?!!await this.decrypt(this.encryptionKey,e).catch(()=>!1):(rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",Tt.Info),!1)}async fetchAndDecryptExistingKey(){if(this.encryptionKey||(this.encryptionKey=await this.fetchExistingKey()),this.encryptionKey){let e=this.getPassword();return this.decrypt(this.encryptionKey,e)}return rr.addBreadcrumb(Je.Storage,"Failed to get existing encryption key!",Tt.Info),null}getPassword(){let e=this.deps.getPassword();if(!e)throw new t6;return e}async fetchExistingKey(){return this.deps.storage.get(e6)}async saveExistingKey(e,r){if(r){let n={...r,[e6]:e};return this.deps.storage.setAll(n)}else return this.deps.storage.set(e6,e)}async deleteExistingKey(){return this.deps.storage.remove(e6)}randomEncryptionKey(){return(0,F8e.randomBytes)(32)}async encrypt(e,r){return r.foldAsync(n=>z2(e,n)).then(n=>({version:1,encryptedKey:n}))}async decrypt(e,r){return r.foldAsync(n=>V2(e.encryptedKey,n)).catch(()=>{throw new z$})}};p();m();p();m();p();m();p();m();p();m();var H8e=null;function Myt(t){H8e=t}o(Myt,"registerRequestAnonymousId");function q8e(){return H8e}o(q8e,"getCachedAnonymousId");function V8e(t){let e=q8e();if(e){let r=new Headers(t);return r.set("X-Phantom-AnonymousId",e),r}return t}o(V8e,"withAnonymousId");p();m();var $$=null;function Nyt(t){$$=t}o(Nyt,"registerFetchBearerToken");async function F1(t){if(!$$)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return $$(t)}o(F1,"getBearerToken");p();m();p();m();function j8e(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}o(j8e,"mergeSignals");var Cyt=2*60*1e3,kyt=[];async function z8e(t,e){let{fetchTimeout:r,retryDelays:n,retryOnAuthTokenExpiration:i,onAuthRetry:s,...a}=e||{},c=e?.fetchTimeout??Cyt,u=e?.retryDelays??kyt,h=0,y=0,g=a;return new Promise((S,T)=>{function O(){h++,y=Date.now();let C=!0,B=new AbortController,N=fetch(t,{...g,signal:j8e(...a.signal?[a.signal,B.signal]:[B.signal])}),P=setTimeout(()=>{B.abort(),C=!1,k(h)?M():T(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${c} ms, tried ${h} times.`))},c);N.then(H=>{clearTimeout(P),C&&(H.status>=200&&H.status<300?S(H):k(h,H.status)?H.status===401&&i&&s?s(g).then(F=>{g=F,M()}).catch(F=>{T(F)}):M():S(H))}).catch(H=>{clearTimeout(P),k(h)?M():T(H)})}o(O,"sendTimedRequest");function M(){let C=u[h-1],B=y+C;setTimeout(O,Math.max(B-Date.now(),0))}o(M,"retryRequest");function k(C,B){if(B===401&&i)return C<=u.length;let N=B?B>=400&&B<=499:!1;return C<=u.length&&!N}o(k,"shouldRetry"),O()})}o(z8e,"fetchWithTimeoutAndRetry");p();m();var r6=o((t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[i,s]of n.entries())s===void 0||s==="undefined"?r.delete(i):r.set(i,s);return r},"mergeHeaders");p();m();var G2=$e(li(),1);p();m();p();m();function K8e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(K8e,"number");function G$(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(G$,"bytes");function $8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");K8e(t.outputLen),K8e(t.blockLen)}o($8e,"hash");function K2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(K2,"exists");function G8e(t,e){G$(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(G8e,"output");p();m();var Byt=o(t=>t instanceof Uint8Array,"u8a");var qM=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),El=o((t,e)=>t<<32-e|t>>>e,"rotr"),Pyt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pyt)throw new Error("Non little-endian hardware is not supported");function Lyt(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(Lyt,"utf8ToBytes");function n6(t){if(typeof t=="string"&&(t=Lyt(t)),!Byt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(n6,"toBytes");var $2=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},CGr={}.toString;function W8e(t){let e=o(n=>t().update(n6(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(W8e,"wrapConstructor");var VM=class extends $2{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,$8e(e);let n=n6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return K2(this),this.iHash.update(e),this}digestInto(e){K2(this),G$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},W$=o((t,e,r)=>new VM(t,e).update(r).digest(),"hmac");W$.create=(t,e)=>new VM(t,e);p();m();p();m();function Dyt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(Dyt,"setBigUint64");var jM=class extends $2{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qM(this.buffer)}update(e){K2(this);let{view:r,buffer:n,blockLen:i}=this;e=n6(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=qM(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){K2(this),G8e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;Dyt(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=qM(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var Uyt=o((t,e,r)=>t&e^~t&r,"Chi"),Fyt=o((t,e,r)=>t&e^t&r^e&r,"Maj"),Hyt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ag=new Uint32Array(64),Y$=class extends jM{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=sg[0]|0,this.B=sg[1]|0,this.C=sg[2]|0,this.D=sg[3]|0,this.E=sg[4]|0,this.F=sg[5]|0,this.G=sg[6]|0,this.H=sg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)ag[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=ag[g-15],T=ag[g-2],O=El(S,7)^El(S,18)^S>>>3,M=El(T,17)^El(T,19)^T>>>10;ag[g]=M+ag[g-7]+O+ag[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=El(c,6)^El(c,11)^El(c,25),T=y+S+Uyt(c,u,h)+Hyt[g]+ag[g]|0,M=(El(n,2)^El(n,13)^El(n,22))+Fyt(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){ag.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Y8e=W8e(()=>new Y$);var qyt=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],Vyt=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],jyt=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function zyt(t){let e=new URL(t);return e.pathname+e.search}o(zyt,"getPathAndQuery");function X$(t,e){let r=zyt(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),i=r+n,s=W$(Y8e,G2.Buffer.from(String.fromCharCode(...qyt)),G2.Buffer.from(i)),a=new Headers(e);return a.set(G2.Buffer.from(String.fromCharCode(...Vyt),"base64").toString(),encodeURIComponent(G2.Buffer.from(s).toString("base64"))),a.set(G2.Buffer.from(String.fromCharCode(...jyt),"base64").toString(),n),a}o(X$,"withAuthHeaders");var Y2=class extends Error{static{o(this,"RequestBuilderError")}constructor(e,r){super(e),this.response=r}response},Kyt={"X-Phantom-Version":P_,"X-Phantom-Platform":AZ};function $yt(t){return t===new URL(Sb.Production).hostname||t===new URL(Sb.Staging).hostname||t===new URL(Rk.prod).hostname||t===new URL(Rk.staging).hostname?!0:t.endsWith(".phantom.app")}o($yt,"isPhantomDomain");var W2=o(async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:i}=t;return{blob:r,data:e,status:n,statusText:i}},"makeResponse"),zM=class t{static{o(this,"RequestBuilder")}config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Kyt,withApiEnvironment:"none",fetchBearerToken:void 0,...e}}fetch=o(async(e,r={})=>{try{if(typeof e=="function"){let h=Ok()===Sb.Production?"prod":"staging";e=e({apiEnv:h})}let n="";this.config.withApiEnvironment==="prod"?n=Sb.Production:this.config.withApiEnvironment==="staging"?n=Sb.Staging:this.config.withApiEnvironment==="default"?n=Ok():this.config.withApiEnvironment==="custom"&&this.config.customApiEnv&&(n=this.config.customApiEnv);let i=new URL(`${n}${e}`);r?.params&&(i.search=new URLSearchParams(r.params).toString()),r.headers=r6(this.config.headers,r.headers),r.headers=V8e(r.headers),this.config.withClientAuth&&(r.headers=X$(i.toString(),r.headers));let s={...r,onAuthRetry:o(async h=>{let y=await F1({refresh:!0});if(y){let g=new Headers(h.headers);return g.set("authorization",`Bearer ${y}`),{...h,headers:g}}return h},"onAuthRetry")},{validateStatus:a}=this.config;if(r?.validateStatus!==void 0&&(a=r?.validateStatus),s.body&&typeof s.body!="string"){s.body=JSON.stringify(s.body);let h=new Headers(s.headers);h.has("Content-Type")||(h.set("Content-Type","application/json"),s.headers=h)}this.config.timeoutMs&&(s.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(s.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs));let c=this.config.fetchBearerToken;if(c===void 0){let h=this.config.withApiEnvironment!=="none";c=$yt(i.hostname)||h}if(c){let h=await F1({skipAutoLogin:!0});h&&(s.retryOnAuthTokenExpiration=!0,s.headers=r6(s.headers,{authorization:`Bearer ${h}`}))}let u=await z8e(i.toString(),s);if(a&&!u.ok)throw new Y2(`Request failed with status code ${u.status}`,await W2(u));return u}catch(n){throw n instanceof Y2?n:new Y2(n?.message,n?.response)}},"fetch");auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,validateStatus:!0,fetchBearerToken:!0,numRetries:1}):this}noBearer(){return new t({...this.config,fetchBearerToken:!1})}headers(e,r){let n=r?.mergeHeaders===!1?e:r6(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default",r){return new t({...this.config,withApiEnvironment:e,customApiEnv:e==="custom"?r:void 0})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return W2(n)}async post(e,r,n={}){n.method="POST";let i=await this.fetch(e,{...n,body:r});return W2(i)}async put(e,r,n={}){n.method="PUT";let i=await this.fetch(e,{...n,body:r});return W2(i)}async patch(e,r,n={}){n.method="PATCH";let i=await this.fetch(e,{...n,body:r});return W2(i)}async delete(e,r,n={}){n.method="DELETE";let i=await this.fetch(e,{...n,body:r});return W2(i)}},eh=new zM;function Gyt(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},s=(await eh.post(t,n)).data;if("error"in s)throw new Error(JSON.stringify(s.error));return s.result}}o(Gyt,"getFetchFunc");async function Wyt(t,e={}){return eh.fetch(t,e)}o(Wyt,"rpcNodeFetchFn");function cg(t){return t.status>199&&t.status<400}o(cg,"responseIsOkay");function Yyt(t){return t instanceof Y2}o(Yyt,"isRequestBuilderError");p();m();var KM=o((t,e)=>`/user/v1/users/${t}/wallet-storage${e?`/${encodeURIComponent(e)}`:""}`,"syncedStorageEndpoint");p();m();p();m();function H1(){return(t,e)=>e??t}o(H1,"REMOTE_OVER_LOCAL");var X8e=o(async({storage:t,keyRegistry:e,allRemoteData:r})=>{let i=Object.keys(r).filter(a=>Object.prototype.hasOwnProperty.call(e,a)),s=await t.getAll();try{await t.setAll(i.reduce((a,c)=>{let u=s[c],h=r[c];if(h!=null){let{resolver:y=H1}=e[c];a[c]=y(u,h)}return a},{})).then(()=>{rr.addBreadcrumb(Je.Storage,"\u2705 Synced remote data to disk!",Tt.Info)})}catch{try{for(let c of i){let u=s[c],h=r[c];if(h==null)continue;let{resolver:y=H1}=e[c];await t.set(c,y(u,h)).then(()=>{rr.addBreadcrumb(Je.Storage,`\u2705 Synced remote data to disk: ${c}`,Tt.Info)}).catch(g=>{rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c} => Error: ${g}`,Tt.Info)})}}catch(c){rr.addBreadcrumb(Je.Storage,`\u274C Failed to sync remote data to disk: ${c}`,Tt.Info)}}},"persistRemoteStorageToDisk");var Z$=2,J$=500,i6=class t{static{o(this,"SyncedStorage")}static#t;#e;#r={};#n={};#i=null;#s=null;#a;#o=null;#c=!1;constructor({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){this.#e=e,this.#n=r,this.#s=n,this.#i=i,this.#a=s}static getInstance({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s}){return this.#t||(this.#t=new t({storage:e,keyRegistry:r,authRepository:n,queryClient:i,isOnboardingDone:s})),this.#t}clear(){this.#o=null,this.#r={},this.#c=!1,rr.addBreadcrumb(Je.Storage,"\u{1F5D1}\uFE0F  Legacy synced storage: Cleared!",Tt.Info)}async hydrateIfNeeded(e=!0){if(lA())return;if(!this.#s||!this.#e||!this.#n){rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: Not initialized!",Tt.Info);return}let r=await this.#a();if(r.status!=="done"){rr.addBreadcrumb(Je.Storage,`\u{1F7E0} Legacy synced storage: Not onboarded (status: ${r.status})`,Tt.Info);return}try{let n=await this.#s.getUser({skipAutoLogin:!0});if(!n){rr.addBreadcrumb(Je.Storage,"\u{1F7E0} Legacy synced storage: No user found",Tt.Info);return}if(n?.userID===this.#o)return;this.#o=n.userID;let i=await this.syncFromCloud();if(i){rr.addBreadcrumb(Je.Storage,"\u2705 Legacy synced storage: Found!",Tt.Info),this.#r=i,e&&(await X8e({storage:this.#e,keyRegistry:this.#n,allRemoteData:i}),this.#c=!0);let s=Object.values(this.#n).map(a=>a.queryKey).flat();await this.#i?.invalidateQueries({queryKey:s})}}catch(n){rr.captureError(new Error(`\u274C Legacy synced storage: Failed to initialize: ${n}`),Je.Storage)}}async syncFromCloud(e){if(this.#o)try{let r=KM(this.#o,e),n=await eh.api().bearer(!0).retry(Z$,J$).get(r);if(cg(n))return n.data;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(n)}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync from cloud: ${JSON.stringify(r)}`,Tt.Info)}}async syncToCloud(e,r){if(this.#r[e]=r,!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return!1;try{let n=KM(this.#o,e),i=await eh.api().bearer(!0).retry(Z$,J$).put(n,{value:r});if(cg(i))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Synced to cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(i)}`,Tt.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Tt.Info)}return!1}async removeFromCloud(e){if(delete this.#r[e],!this.#o)return!1;try{let r=KM(this.#o,e),n=await eh.api().bearer(!0).retry(Z$,J$).delete(r);if(cg(n))return rr.addBreadcrumb(Je.Storage,`\u2705 Legacy synced storage: Removed from cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${e} => Error: ${JSON.stringify(n)}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C Legacy synced storage: Failed to remove from cloud: ${JSON.stringify(r)}`,Tt.Info)}return!1}async get(e){let r=await this.#e.get(e);if(!this.#o||!this.#n||!Object.prototype.hasOwnProperty.call(this.#n,e))return r;let{resolver:n=H1,fetchLatestRemote:i=!1}=this.#n[e];if(!i&&this.#c)return r;let s=i?await this.syncFromCloud(e):this.#r[e];return n(r,s)}async getAll(e){return this.#e.getAll(e)}async remove(e){await this.#e.remove(e),Array.isArray(e)?Promise.all(e.map(async r=>this.removeFromCloud(r))):this.removeFromCloud(e)}async set(e,r){await this.#e.set(e,r),this.syncToCloud(e,r)}async setAll(e){await this.#e.setAll(e),Promise.all(Object.entries(e).map(async([r,n])=>this.syncToCloud(r,n)))}subscribe(e){return this.#e.subscribe(e)}async update(e,r){await this.#e.update(e,r);let n=await this.get(e);this.syncToCloud(e,n)}};p();m();var $M=o((t,e,r=H1(),n=!1)=>({[t]:{queryKey:e,resolver:r,fetchLatestRemote:n}}),"generateKeyRegistry");p();m();var Z8e=new WeakMap,J8e=o(()=>{let t=J3(),e=g$();if(e instanceof i6){let r=Z8e.get(e);return r===void 0&&(r=new q2(e),Z8e.set(e,r)),r}return t},"useSyncedStorageSignalProxy"),Xyt=vi(t=>J8e().get(t)),Zyt=o(t=>Za(Xyt,t),"useSyncedStorageValue"),Jyt=vi(t=>{let e=J8e();return H3(function*(r){return e.set(t,r)})}),Qyt=o(t=>Za(Jyt,t),"useSetSyncedStorageValue");p();m();var e1t={[Pn.Monad.Mainnet]:1,[Pn.Monad.Testnet]:1,[Pn.Ethereum.Mainnet]:6,[Pn.Ethereum.Sepolia]:6,[Pn.Polygon.Mainnet]:128,[Pn.Polygon.Amoy]:128,[Pn.Base.Mainnet]:3,[Pn.Base.Sepolia]:3,[Pn.Arbitrum.Mainnet]:1,[Pn.Arbitrum.Sepolia]:1,[Pn.Hypercore.Mainnet]:1,[Pn.Hypercore.Testnet]:1,[Pn.Hyperevm.Mainnet]:1,[Pn.Hyperevm.Testnet]:1},t1t={[Pn.Bitcoin.Mainnet]:1,[Pn.Bitcoin.Testnet]:1};var r1t="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",n1t=100;p();m();p();m();p();m();p();m();p();m();var GM=class{static{o(this,"MMKVStorage")}namespaces=new Map;constructor(e){this.options=e;let{namespaces:r}=this;for(let n of e.namespaces){if(r.has(n.key))throw new Error(`Duplicate namespace key: ${n.key}`);r.set(n.key,n),f$(n,this)}}async init(){return this._initPromise||(this._initPromise=this._init()),this._initPromise}async _init(){let e=this.options.backingStore,r=Array.from(this.namespaces.values());await e.init?.(r),await Promise.all(r.map(n=>n.init(e,this.options.initDeadline??500)))}getNamespace(e){let r=this.namespaces.get(e.key);if(!r)throw new Error(`Namespace ${e.key} not found, make sure it was passed to the MMKVStorage constructor`);return r}get(e,r){return this.getNamespace(e).get(r)}async set(e,r,n){return this.getNamespace(e).set(r,n)}async delete(e,r){return this.getNamespace(e).delete(r)}async sendEvent(e){await Promise.all(Array.from(this.namespaces.values()).map(r=>r.sendEvent(e)))}async reset(){for(let e of this.namespaces.values())e.reset();await this.options.backingStore.clear(),this._initPromise=void 0,await this.init()}},q1=L1(null);function Q$(){let t=Jm(q1);if(!t)throw new Error("useMMKVStorage must be used within a ContextProvider with MMKVStorageContext set");return t}o(Q$,"useMMKVStorage");var i1t=o(async t=>{let e=new GM({backingStore:t.backingStore,initDeadline:t.initDeadline,namespaces:t.namespaces});return c$([[q1,e]]),await e.init(),Q8e(),e},"initMMKVStorage"),Q8e,o1t=new Promise(t=>{Q8e=t}),WM=o(async(t,e)=>(await o1t,t(e)),"waitForMMKV");var s1t=o(t=>{switch(t){case"boolean":return be.boolean();case"number":return be.number();case"string":return be.string();case"array":return be.array(be.any());default:return be.object({}).passthrough()}},"zodValidatorFromValue"),a1t=o((t,e)=>{let r=new Map;for(let n of e){let i=n.type;if(i===void 0){let a=typeof n.defaultValue;if(a!=="undefined"&&a!=="function")i=typeof n.defaultValue;else throw new Error(`Item ${n.key} has no type and no default value, or the default value is a function. You must provide a type for this item.`)}let s=n.validator??s1t(i);n.nullable&&(s=s.nullish().default(null)),r.set(n.key,{...n,schema:t,type:i,validator:s,nullable:n.nullable??!1,updateOn:n.updateOn??"idle"})}return n=>{let i=r.get(n);if(!i)throw new Error(`Item ${n} not found in schema ${t}`);return i}},"createItemMap");function S0(t,e,r){let n=a1t(e,r),i=vi(c=>{let u=F3(q1);if(!u)throw new Error("MMKVStorage is not initialized");return u.get(t,n(c))}),s=vi(c=>{let u=F3(q1);return ho(h=>{if(!u)throw new Error("MMKVStorage is not initialized");return u.set(t,n(c),h)},0,[u,t,n,c])}),a=vi(function*(c){let u=F3(q1);if(!u)throw new Error("MMKVStorage is not initialized");return yield u.init(),u.get(t,n(c))});return[i,s,a]}o(S0,"defineMMKVSchema");p();m();var YM=o((t,e)=>{if(!t)throw new Error(e);return t},"expect"),eG=class t{static{o(this,"MMKVNamespace")}_stateFactorySignals=new Map;_removeStoreListener=void 0;onChangeCallbacks=[];localNotifier=D1();eventNotifiers={change:D1(),idle:D1()};constructor(e,r){this.key=e.key,this.disableCache=e.disableCache??!1,this.readonly=e.readonly??!1,this.disableRemoteUpdates=e.disableRemoteUpdates??!1,this._init=e.init??void 0,this._deps=r}get state(){return YM(this._state,`Namespace ${this.key} is not initialized`)}get hooks(){return YM(this._hooks,`Namespace ${this.key} is not initialized`)}get deps(){return YM(this._deps,`Namespace ${this.key} is not initialized`)}get store(){return YM(this._store,`Namespace ${this.key} is not initialized`)}withDeps(e){return new t({key:this.key,disableCache:this.disableCache,readonly:this.readonly,init:this._init},e)}onStoreChange=o(e=>{let{state:r}=this;if(r.remoteState=e.remoteState,this.onChangeCallbacks.forEach(n=>n(r.remoteState)),this.state.localVersion<e.localVersion)r.localVersion=e.localVersion,this.localNotifier.notify();else if(r.remoteVersion<e.remoteVersion){r.remoteVersion=e.remoteVersion;for(let[n,i]of Object.entries(r.eventVersions)){let s=e.eventVersions[n];i<s&&(r.eventVersions[n]=s,this.eventNotifiers[n].notify())}}},"onStoreChange");async init(e,r){this._state=e.getNamespace(this.key)??{localVersion:0,remoteVersion:0,remoteState:null,eventVersions:{change:0,idle:0}},this._store=e,this._removeStoreListener=e.onNamespaceChange?.(this.key,this.onStoreChange);let n={get:o(()=>this.state.remoteState,"get"),set:o(i=>{this.setRemoteState(i)},"set"),onChange:o(i=>{this.onChangeCallbacks.push(i)},"onChange")};this._hooks=await this._init?.(this.deps,n,r)??{},this._stateFactorySignals.clear(),this.localNotifier.notify()}getRemoteState(){return this.eventNotifiers.change.consume(),this.state.remoteState}setRemoteState(e){this.state.remoteState=e,this.state.remoteVersion++,this.sendEvent("change")}updateRemoteState(e){this.setRemoteState(e(this.state.remoteState))}getState(e){let r=this._stateFactorySignals.get(e);return r===void 0&&(r=h$(()=>{let n=this.store.getItem(this.key,e.schema,e.key)??{value:null,version:-1},i=this.disableRemoteUpdates,s=e.updateOn,a=i?0:this.state.eventVersions[s],c=i?void 0:this.eventNotifiers[s];if(n.version<a||this.disableCache){if(this.hooks.getValue){n.value=this.hooks.getValue(e,n.value);let u=e.validator.safeParse(n.value);n.value=u.success?u.data:null}n.value===null&&(n.value=typeof e.defaultValue=="function"?e.defaultValue():e.defaultValue??null),n.version=a,this.store.setItem(this.key,e.schema,e.key,n)}if(n.value===null&&!e.nullable)throw new Error(`MMKVStorage: Item ${e.key} on namespace ${this.key} is not nullable and has no default value`);return c?.consume(),this.localNotifier.consume(),Ym(n.value)}),this._stateFactorySignals.set(e,r)),r.value}get=d$(this,e=>this.getState(e).value);async set(e,r){if(this.readonly)throw new Error(`Cannot set value on read-only namespace: ${this.key}`);let n=e.validator.parse(r),i=this.getState(e),s=await this.hooks.setValue?.(e,i.value,n)??n;i.value=s,await this.store.setItem(this.key,e.schema,e.key,{value:s,version:this.state.remoteVersion}),this.state.localVersion++,await this.store.setNamespace(this.key,this.state)}async delete(e){if(this.readonly)throw new Error(`Cannot delete value on read-only namespace: ${this.key}`);await this.store.deleteItem(this.key,e.schema,e.key),this._stateFactorySignals.delete(e),this.state.localVersion++,await this.store.setNamespace(this.key,this.state),this.localNotifier.notify()}async sendEvent(e){this.state.eventVersions[e]!==this.state.remoteVersion&&(this.state.eventVersions[e]=this.state.remoteVersion,this.eventNotifiers[e].notify(),await this.store.setNamespace(this.key,this.state))}async invalidate(){let r=this.state.remoteVersion+1;this.state.eventVersions.change=r,this.state.eventVersions.idle=r,this.state.remoteVersion=r,this.eventNotifiers.change.notify(),this.eventNotifiers.idle.notify(),await this.store.setNamespace(this.key,this.state)}reset(){this._hooks?.destroy?.(),this._removeStoreListener?.(),this._removeStoreListener=void 0,this.onChangeCallbacks=[]}};function V1(t){return new eG(t)}o(V1,"createMMKVNamespace");p();m();p();m();var XM=o(async(t,e)=>{let r={};if(!t||!e||e.length===0)return r;let n=new Set;for(let i of e)for(let s of i.legacyKeys)n.add(s);if(n.size>0)try{let i=await t.getAll(Array.from(n));Object.assign(r,i)}catch(i){rr.captureError(new Error(`Failed to load legacy values for migration: ${JSON.stringify(i)}`),Je.Storage)}return r},"preloadLegacyValues"),X2=o((t,e)=>`${t}:${e}`,"getResolverKey"),ZM=o((t,e,r)=>{if(!r||r.length===0)return null;let n=r.find(a=>X2(a.targetSchema,a.targetKey)===t);if(!n)return null;let i={},s=!1;for(let a of n.legacyKeys){let c=e[a];c!=null&&(i[a]=c,s=!0)}if(!s)return null;try{return n.migrate(i)}catch(a){return rr.captureError(new Error(`Failed to migrate from legacy storage: ${JSON.stringify(a)}`),Je.Storage),null}},"tryMigrateValue");var e5e=V1({key:"localStorage",disableRemoteUpdates:!0,init:o(async t=>{let{legacyStorage:e,migrations:r}=t,n=await XM(e,r);return{getValue:o((i,s)=>{let a=X2(i.schema,i.key);if(s===null&&e){let c=ZM(a,n,r);if(c!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} Migrated from legacy storage: ${i.key} (schema: ${i.schema})`,Tt.Info),c}return s},"getValue")}},"init")}),c1t=o((t,e)=>S0(e5e,t,e),"defineLocalStorageItems");p();m();var t5e=o((t,e)=>{let r=e?`/${encodeURIComponent(e)}`:"";return`/user/v1/users/${t}/wallet-storage${r}`},"syncedStorageEndpoint"),r5e=2,n5e=500,f1t=V3({minutes:5}),u1t=o(async(t,e)=>{try{if(!await F1({skipAutoLogin:!0}))return null;let n=t5e(t,e),i=await eh.api().retry(r5e,n5e).get(n);if(cg(i))return i.data;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - bad response: ${i}`,Tt.Info)}catch(r){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to fetch from cloud - error: ${r}`,Tt.Info)}return null},"fetchFromCloud"),l1t=o(async(t,e,r)=>{try{if(!await F1({skipAutoLogin:!0}))return!1;let i=t5e(t,e),s=await eh.api().retry(r5e,n5e).put(i,{value:r});if(cg(s))return rr.addBreadcrumb(Je.Storage,`\u2705 MMKV synced storage: Synced to cloud: ${e}`,Tt.Info),!0;rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${e} => Error: ${JSON.stringify(s)}`,Tt.Info)}catch(n){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Failed to sync to cloud: ${JSON.stringify(n)}`,Tt.Info)}return!1},"syncToCloud"),i5e=new Map,d1t=o((t,e,r)=>{i5e.set(X2(t,e),r)},"registerResolver"),o5e=V1({key:"syncedStorage",init:o(async(t,e,r)=>{let{authRepository:n,pollingInterval:i=f1t,legacyStorage:s,migrations:a}=t,c=null,u=await XM(s,a),h=o(async()=>{if(!c)try{c=(await n.getUser({skipAutoLogin:!0}))?.userID??null}catch(S){rr.addBreadcrumb(Je.Storage,`\u274C MMKV synced storage: Error fetching userID (skipAutoLogin=true): ${S}`,Tt.Info);return}if(!c)return;let g=await u1t(c);g&&(rr.addBreadcrumb(Je.Storage,"\u2705 MMKV synced storage: Fetched synced storage from cloud",Tt.Info),e.set(g))},"fetchAndUpdateRemoteState"),y=setInterval(()=>{h()},i);try{if(r>0){let g=new Promise(S=>{setTimeout(()=>{rr.addBreadcrumb(Je.Storage,`\u23F1\uFE0F MMKV synced storage: Initialization timed out after ${r}ms`,Tt.Info),S()},r)});await Promise.race([h(),g])}else rr.addBreadcrumb(Je.Storage,"\u23F1\uFE0F MMKV synced storage: Initialization skipped - deadline is 0 or negative",Tt.Info)}catch(g){rr.captureError(new Error(`\u274C MMKV synced storage: Failed to initialize: ${g}`),Je.Storage)}return{getValue:o((g,S)=>{let O=e.get()?.[g.key]??null,M=X2(g.schema,g.key),k=i5e.get(M),C=null;if(k?C=k(S,O):C=O??S,C===null&&s){let B=ZM(M,u,a);if(B!==null)return rr.addBreadcrumb(Je.Storage,`\u{1F504} MMKV synced storage: Migrated from legacy storage: ${g.key} (schema: ${g.schema})`,Tt.Info),B}return C},"getValue"),setValue:o(async(g,S,T)=>(c&&l1t(c,g.key,T),T),"setValue"),destroy:o(()=>{clearInterval(y)},"destroy")}},"init")}),tG=o((t,e)=>{for(let r of e)r.resolver&&d1t(t,r.key,r.resolver);return S0(o5e,t,e)},"defineSyncedStorageItems");p();m();var JM=class{static{o(this,"EppoAssignmentLogger")}analytics;constructor(e){this.analytics=e}logAssignment(e){try{let{allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,subjectAttributes:c}=e,{holdoutKey:u,holdoutVariation:h}=h1t(e);if(r!==null&&s!==null&&n!==null){let g={allocation:r,experiment:n,featureFlag:i,variation:s,subject:a,timestamp:new Date().toISOString(),subjectAttributes:c,...u&&{holdoutKey:u},...h&&{holdoutVariation:h}};this.analytics.capture("eppoRandomizationEvent",{data:{distinctId:a,properties:g}})}}catch(r){console.warn("EppoAssignmentLogger: Failed to log assignment event",r)}}};function h1t(t){let e,r;return t.holdout&&typeof t.holdout=="string"&&(e=t.holdout??void 0),t.holdout_variation&&typeof t.holdout_variation=="string"&&(r=t.holdout_variation??void 0),{holdoutKey:e,holdoutVariation:r}}o(h1t,"parseHoldoutLogging");p();m();var KN=$e(pRe(),1);var r_t="eppo-phantom",n_t="0.0.1",i_t="https://eppo-proxy.phantom.app/api",HW=class extends KN.MemoryOnlyConfigurationStore{static{o(this,"PhantomStorageFlagConfigurationStore")}state;constructor(e){super(),this.state=e;let r=this.state.get();r&&super.setEntries(r),this.state.onChange(n=>{super.setEntries(n)})}setEntries(e){return this.state.set(e),super.setEntries(e)}},zN=null;async function o_t({apiKey:t,pollingEnabled:e,state:r,logTelemetry:n,initDeadline:i,pollingIntervalMs:s}){let a=new HW(r),c=new KN.EppoClient({flagConfigurationStore:a}),u={apiKey:t,sdkName:r_t,sdkVersion:n_t,baseUrl:i_t,pollAfterSuccessfulInitialization:e,pollAfterFailedInitialization:e,pollingIntervalMs:s};c.setConfigurationRequestParameters(u);let h=performance.now();n?.("Eppo: Initializing Eppo provider ..."),await a.init();let y=c.fetchFlagConfigurations();a.getKeys().length===0?(n?.("Eppo: No initial values in the configuration store, waiting for the first fetch"),await Promise.race([y,new Promise(S=>setTimeout(S,i))])):n?.("Eppo: Initial values in the configuration store, serving from store and skipping initial fetch");let g=performance.now()-h;return n?.(`Eppo: Initialized Eppo provider in ${g.toFixed(2)}ms`),c}o(o_t,"_initEppo");async function mRe(t){return zN||(zN=o_t(t),zN)}o(mRe,"initEppo");var gRe={getBooleanAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getBooleanAssignmentDetails"),getStringAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getStringAssignmentDetails"),getNumericAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getNumericAssignmentDetails"),getJSONAssignmentDetails:o((t,e,r,n)=>({variation:n,action:null}),"getJSONAssignmentDetails"),setAssignmentLogger:o(t=>{},"setAssignmentLogger"),useNonExpiringInMemoryAssignmentCache:o(()=>{},"useNonExpiringInMemoryAssignmentCache"),stopPolling:o(()=>{},"stopPolling")};var s_t=o(async(t,e,r)=>{let{eppoClient:n}=t;if(t.logTelemetry?.("Eppo: Initializing Eppo provider ..."),!n)if((!Eb()||lA())&&!EZ())n=gRe;else{let i={get:o(()=>e.get()?.eppoConfig??null,"get"),set:o(s=>{let a=e.get();e.set({overrides:a?.overrides??{},eppoConfig:s,userId:a?.userId??void 0})},"set"),onChange:o(s=>e.onChange(({eppoConfig:a})=>s(a)),"onChange")};if(n=await mRe({apiKey:t.apiKey,pollingEnabled:t.pollingEnabled,state:i,logTelemetry:t.logTelemetry,initDeadline:r,pollingIntervalMs:3e5}),t.analytics){let s=new JM(t.analytics);n.setAssignmentLogger(s),n.useNonExpiringInMemoryAssignmentCache()}}return{getValue:o((i,s)=>{try{let a,c,u=i.key,{deviceId:h,subjectAttributes:y}=t,g=e.get(),S=i.subjectAssignment??"user";if(S==="user"&&!g?.userId)return i.defaultValue??null;let T;switch(S){case"user":T=g?.userId??h;break;case"device":T=h;break}if(g?.overrides[u]!==void 0)return g.overrides[u]??null;if(i.isLegacyStringBoolean)a=n.getStringAssignmentDetails(u,T,y,"DEFAULT"),a.variation==="DEFAULT"?c=i.defaultValue??null:c=a.variation==="variant";else{switch(i.type){case"boolean":a=n.getBooleanAssignmentDetails(u,T,y,i.defaultValue);break;case"string":a=n.getStringAssignmentDetails(u,T,y,i.defaultValue);break;case"number":a=n.getNumericAssignmentDetails(u,T,y,i.defaultValue);break;default:a=n.getJSONAssignmentDetails(u,T,y,i.defaultValue)}c=a.variation}return t.telemetry&&a.evaluationDetails&&t.telemetry.trackFeatureFlag(u,c),c??null}catch(a){return console.error("Error fetching feature flag",a),i.defaultValue??null}},"getValue"),destroy:o(()=>{n.stopPolling()},"destroy")}},"flagNamespaceInit"),E6=V1({key:"flags",init:s_t,disableCache:Vs()}),a_t=o(()=>Za(c_t),"useFlagOverrides"),c_t=vi(()=>{let e=Q$().getNamespace(E6);return[e.getRemoteState()?.overrides,ho(r=>{let n=typeof r=="function"?r(e.getRemoteState()?.overrides??{}):r;e.updateRemoteState(ho(i=>({eppoConfig:i?.eppoConfig??{},overrides:n,userId:i?.userId}),0,[n])),e.sendEvent("idle")},0,[e])]}),qW=new WeakMap,VW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:Eb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=S0(E6,`feature:${t}`,r);return qW.set(n,e),n},"defineFeatureFlags"),jW=o((t,e)=>{let r=e.map(s=>({key:typeof s=="string"?s:s.key,defaultValue:!1,type:"boolean",updateOn:"change",isLegacyStringBoolean:typeof s=="object"?s.isLegacyStringBoolean:!1,subjectAssignment:typeof s=="object"?s.subjectAssignment:void 0})),[n]=S0(E6,`kill-switch:${t}`,r),i=o(s=>{try{return n(s)}catch{return!1}},"useValueWrapper");return qW.set(i,r),i},"defineKillSwitches"),zW=o((t,e)=>{let r=e.map(i=>({...i,defaultValue:Eb()?i.defaultValue:i.devDefaultValue??i.defaultValue})),[n]=S0(E6,`config:${t}`,r);return qW.set(n,e),n},"defineRemoteConfigs");var KW=o(t=>Za(oh,t),"useFeatureFlag"),oh=VW("general",[{key:"enable-fungible-categories",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-token-badge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-psol-welcome-modal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-trusted-as-enum-trusted-badge",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-fungible-position",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-portfolio-token-balances",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-live-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-social-per-actor-notifications-toggle",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-chat",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-chat-tab",defaultValue:!1,devDefaultValue:!0},{key:"enable-chat-admin",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"user"},{key:"enable-home-tab-price-streaming",defaultValue:!1,devDefaultValue:!0},{key:"enable-follow-module",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-token-gated-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat",defaultValue:!1,devDefaultValue:!0},{key:"enable-prediction-market-chat-system-messages",defaultValue:!1,devDefaultValue:!0},{key:"enable-notification-center",defaultValue:!1,devDefaultValue:!0},{key:"enable-profile-fungibles-holdings",defaultValue:!1,devDefaultValue:!0},{key:"enable-internal-perps-actions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ext-swap-commands",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-custom-tips",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-ngs-bridging",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-extension-perps",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-leaderboard",defaultValue:!1,devDefaultValue:!0},{key:"enable-perps-competitions",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"user"},{key:"enable-perps-relay-bridge",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-relay-withdrawal",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-perps-warm-leverage",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-be-swapper-max-amount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-exact-out",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-swapper-presence-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-hip3-testnet-dogfood-filter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-new-launches-ui",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-replace-classic-ngs",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-markets",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-internal-predictions-actions",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-prediction-arbitrary-mints",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-swapper-coozie",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-bitcoin-swap",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-terminal-cta",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-predictions-api-debug",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-live-feed",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-user-stats",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quick-claim",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-prediction-quote-streaming",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-swapper-fresh-balance-check",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-force-upgrade",defaultValue:!1,isLegacyStringBoolean:!0,subjectAssignment:"device"},{key:"enable-seedless-pin-verification-interstitial",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-delete-seedless-bundle-security-settings",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-fiat-ramp-provider-quotes",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cleanup-on-not-registered-error",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-onboarding-auth-bypass-fix",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-auth-blur-remount",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-withdraw-sol",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-liquid-staking-rewards-card",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-disclaimers",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-uk-staking-override",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-phantom-login",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"spending_limits_cumulative",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-kms-vault-account",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-vault-account-ext",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-kms-authenticator-mapping",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"always-show-all-sites-permissions",defaultValue:!1,subjectAssignment:"device"},{key:"enable-arbitrum",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-hyperevm",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-home-redesign",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-open-access-cash-lite",defaultValue:!0,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-general-access",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-bug-reporter",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-buy-flow-warning",defaultValue:!1,subjectAssignment:"device"},{key:"enable-onboarding-aa",defaultValue:!1,subjectAssignment:"device"},{key:"enable-bypass-utxo-protection",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-cash-cards",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-new-activity",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-app-icon",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-mainnet",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-monad-swapper",defaultValue:!1,devDefaultValue:!0,subjectAssignment:"device"},{key:"enable-feature-flag-invalidate-test",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"enable-signalium-query-price-streaming",defaultValue:!1,devDefaultValue:!0}]),$N=zW("general",[{key:"token-chat-leaderboard-config",type:"string",nullable:!0,devDefaultValue:"banner-badges",subjectAssignment:"device"},{key:"seedless-pin-verification-timer-in-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"latest-terms-of-service-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"latest-notification-updated-version-number",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enable-implicit-terms-agreement",type:"boolean",defaultValue:!1,devDefaultValue:!1,subjectAssignment:"device"},{key:"sui-gas-budget-multiplier",type:"string",nullable:!0,subjectAssignment:"device"},{key:"frontend-transaction-sharing-delay-ms",type:"number",nullable:!0,subjectAssignment:"device"},{key:"psol-popup-copy-test",type:"string",nullable:!0,subjectAssignment:"device"},{key:"swapper-poll-interval-json",type:"object",nullable:!0,subjectAssignment:"device"},{key:"swapper-high-slippage-threshold",type:"string",nullable:!0,subjectAssignment:"device"},{key:"enabled-ugc-programs",type:"object",nullable:!0,subjectAssignment:"device"},{key:"trade-hub-variant",type:"string",nullable:!0,devDefaultValue:"",subjectAssignment:"device"},{key:"predictions-gas-additional-sol",type:"number",nullable:!0,defaultValue:.004,devDefaultValue:.004,subjectAssignment:"device"},{key:"blocked-swapper-chains",type:"object",nullable:!0,subjectAssignment:"device"},{key:"funds-in-transit-amounts",type:"object",nullable:!0,subjectAssignment:"device"},{key:"transactions-simulation-interval-ms",type:"string",nullable:!0,subjectAssignment:"device"},{key:"home-section-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"launches-config",type:"object",nullable:!0,subjectAssignment:"device"},{key:"explore-discover-home-tokens-limit",type:"number",nullable:!1,defaultValue:10,subjectAssignment:"device"},{key:"auto-confirm-session-duration",type:"number",nullable:!1,defaultValue:7200,subjectAssignment:"device"},{key:"predictions-geo-restriction-help-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-home-disclosures-urls",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-learn-more-url",type:"string",nullable:!0,defaultValue:"https://help.phantom.com",devDefaultValue:"https://help.phantom.com",subjectAssignment:"device"},{key:"predictions-trending-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-tag-section-items-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-home-featured-poll-interval-ms",type:"number",nullable:!0,devDefaultValue:6e4,subjectAssignment:"device"},{key:"predictions-home-positions-count",type:"number",nullable:!1,defaultValue:3,devDefaultValue:3,subjectAssignment:"device"},{key:"predictions-countdown-threshold-hours",type:"number",nullable:!1,defaultValue:6,devDefaultValue:6,subjectAssignment:"device"},{key:"wallet-balance-background-foreground-timer",type:"string",nullable:!0,subjectAssignment:"device"},{key:"network-logger-config-json",type:"object",nullable:!0,subjectAssignment:"device"}]),$W=o(t=>Za($N,t),"useRemoteConfig"),f_t=o(t=>Za(a_,t),"useKillSwitch"),a_=jW("general",["kill-action-banners","kill-frontend-server-time","kill-frontend-local-check",{key:"kill-automatic-approval",isLegacyStringBoolean:!0},"kill-clickjack-protection","kill-validators-v2","kill-base-history","kill-blowfish-blocklist-cursor","kill-collectibles","kill-explore","kill-extension-storage-integrity-check","kill-dynamic-price-in-explore","kill-ledger-xpub-derivation","kill-phantom-validator",{key:"kill-previous-blocklist",isLegacyStringBoolean:!0},"kill-send-simulation","kill-swapper",{key:"kill-swapper-simulation",isLegacyStringBoolean:!0},"kill-vault-secure-cache","kill-liquid-staking-convert","kill-suins","kill-perps-cash-funding","kill-perps-funding","kill-perps-withdrawal","kill-predictions-trading","kill-add-to-wallet","kill-cash-feedback-form","kill-cash-fees","kill-cash-fiat-ramp","kill-cash-fiat-ramp-apple-pay","kill-cash-fiat-ramp-bank","kill-cash-fiat-ramp-card","kill-cash-invalidate-auth-bandaid","kill-cash-open-cash-cta","kill-cash-out-disable","kill-cash-out-rent-exemption","kill-cash-out-tx-simulation","kill-cash-perps-quote-chain-addresses","kill-cash-balance-optimistic-update","kill-cash-swap-listener","kill-welcome-cash-modal","kill-cash-waitlist-activation-interstitial","kill-cash-general-access-activation-interstitial"]);p();m();var u_t=o(t=>Za(l_t,t),"useFeatureFlags"),l_t=vi(t=>({data:t.map(ho(r=>r.startsWith("kill-")?a_(r):oh(r),0)),isLoading:!1,isFetched:!0})),A6={isFeatureEnabled(t){return t==="enabled-ugc-programs"?!0:t.startsWith("kill-")?a_(t):oh(t)},isFeatureEnabledAsync(t){return t.startsWith("kill-")?WM(a_,t):WM(oh,t)},getMultivariateAssignment(t,e){let r=$N(t);return typeof r=="string"||r===null?r:JSON.stringify(r)}};p();m();p();m();var d_t=R.EPPO_API_KEY;p();m();function h_t(){let t=$W("trade-hub-variant");return KW("enable-replace-classic-ngs")||!!t}o(h_t,"useIsTradeHubText");p();m();p();m();function p_t(t,e){return e.getSupportedChains().includes(t)}o(p_t,"isChainSupported");function yRe(t,e){if(zO(t))return e.get(t);if(Mt.isNetworkID(t)){let r=Mt.getChainID(t);if(p_t(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}o(yRe,"get");function GW(t){return{get:o(e=>yRe(e,t),"get"),supportedChains:t.getSupportedChains()}}o(GW,"createChainConfig");p();m();var WW=class{static{o(this,"ChainConfigRegistry")}chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};p();m();p();m();var eb="@phantom/chains",T6={enabledChains:[`${eb}:enabled-chains`],enabledAddressTypes:[`${eb}:enabled-address-types`],enabledNetworkIDs(t){return[`${eb}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${eb}:chain-availability`,t]}};var c_=".phantom-labs.internal.enabledChainsOverrideSettings",YW=vi(()=>{try{return XW(c_)?.settings}catch{return null}});var bRe=vi(()=>{let t=[],e;try{e=YW(),e&&Object.entries(e).forEach(ho(([r,n])=>{n||t.push(r)},0,[t]))}catch{}try{Mt.getAllChainIDs().forEach(ho(r=>{e&&e[r]||Mt.isChainDefaultEnabled(r)||t.push(r)},1,[e,t]))}catch{}return[...new Set(t)]});var m_t=o(async t=>{let e=await YW(),r=GN(c_),n=t.reduce((i,s)=>(i[s]=!0,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"enableChainIDs"),g_t=o(async t=>{let e=await YW(),r=GN(c_),n=t.reduce((i,s)=>(i[s]=!1,i),{});return r({version:1,settings:{...e!=null&&e,...n}})},"disableChainIDs"),mg=".phantom-labs.internal.disabledAddressTypes",y_t=be.object({version:be.literal(1),settings:be.record(be.boolean())}),b_t=be.object({version:be.literal(1),addressTypes:be.array(be.nativeEnum(Ye))}),x_t=o((t,e)=>{let r=t,n=e;return!r&&!n?null:{version:1,settings:{...r?.settings??{},...n?.settings??{}}}},"enabledChainsOverridesResolver"),v_t=o((t,e)=>{let r=t,n=e;if(!r&&!n)return null;let i=new Set([...r?.addressTypes??[],...n?.addressTypes??[]]);return{version:1,addressTypes:Array.from(i)}},"disabledAddressTypesResolver"),[XW,GN,xRe]=tG("chains",[{key:c_,type:"object",validator:y_t,nullable:!0,resolver:x_t,updateOn:"change"},{key:mg,type:"object",validator:b_t,nullable:!0,resolver:v_t,updateOn:"change"}]);var __t=vi(()=>{let t;try{t=XW(mg)!==null}catch{t=!1}return t}),vRe=vi(()=>{let t;try{t=XW(mg)?.addressTypes??[]}catch{t=[]}return[...new Set([...t,Ye.BitcoinNestedSegwit,Ye.BitcoinLegacy])]}),w_t=o(async t=>{let e=await xRe(mg),r=new Set(e?.addressTypes??[]);return r.delete(t),GN(mg)({version:1,addressTypes:Array.from(r)})},"enableAddressType"),S_t=o(async t=>{let e=await xRe(mg),r=new Set(e?.addressTypes??[]);return r.add(t),GN(mg)({version:1,addressTypes:Array.from(r)})},"disableAddressType"),E_t=o((t,e)=>({version:1,settings:{...t?.settings,...e?.settings}}),"syncedEnabledChainsOverridesResolver"),A_t={...$M(c_,[`${eb}:chain-availability`,`${eb}:enabled-network-ids`,...T6.enabledChains],E_t),...$M(mg,[...T6.enabledAddressTypes])};p();m();var _Re=$e(Cg()),YN=$e(Zr());var WN={async deriveAddresses(){},getUIConfig:o(()=>({}),"getUIConfig"),supportedUIConfigChains:[]},wRe=(0,YN.createContext)(WN);function T_t({children:t,registry:e,effects:r}){let n=e?GW(e):void 0,i={deriveAddresses:r?.deriveAddresses??WN.deriveAddresses,getUIConfig:o(s=>n?n.get(s):WN.getUIConfig(s),"getUIConfig"),supportedUIConfigChains:n?n.supportedChains:WN.supportedUIConfigChains};return(0,_Re.jsx)(wRe.Provider,{value:i,children:t})}o(T_t,"ChainDependencyProvider");function I_t(){return(0,YN.useContext)(wRe)}o(I_t,"useChainDependencies");p();m();var SRe=!1,R_t=vi(()=>{let t=oh("enable-arbitrum"),e=oh("enable-hyperevm"),r=oh("enable-monad-mainnet"),n=!Eb();SRe||(rr.addBreadcrumb(Je.Network,"Fetched chain availability",Tt.Info,{skipFileLogger:!0}),SRe=!0);let i=Mt.getAllChainIDs().filter(ho(N=>(N!==Et.Arbitrum||t)&&(N!==Et.Hypercore||n)&&(N!==Et.Hyperevm||e),0,[t,n,e])),s=bRe(),a=new Set(s),c=i.filter(ho(N=>!a.has(N),1,[a])),u=ho(N=>{let P=Mt.getChainID(N);return!r&&P===Et.Monad&&Mt.isMainnetNetworkID(N)?!1:c.includes(P)},2,[r,c]),h=Mt.getAllNetworkIDs({mainnetOnly:!1}).filter(u),y=Mt.getAllNetworkIDs({mainnetOnly:!0}).filter(u),g=new Set(s.flatMap(ho(N=>Mt.getNetworkIDs(N),3))),S=h.filter(ho(N=>!g.has(N),4,[g])),T=y.filter(ho(N=>!g.has(N),5,[g])),O=S.filter(ho(N=>!Mt.isMainnetNetworkID(N),6)),M=Yy.getAll(),k=vRe(),C=new Set(k);for(let N of M){let P=Mt.getChainIDs(N);if(!P){C.add(N);continue}P.every(ho(F=>a.has(F),7,[a]))&&C.add(N)}let B=M.filter(ho(N=>!C.has(N),8,[C]));return{supportedChainIDs:i,supportedAddressTypes:M,disabledChainIDs:s,enabledChainIDs:c,enabledAddressTypes:B,enabledNetworkIDs:S,enabledMainnetOnlyNetworkIDs:T,enabledTestnetOnlyNetworkIDs:O}});p();m();var ERe=[],O_t=o(t=>{ERe.push(t)},"registerExtraChainAvailabilityInvalidator"),M_t=o(async t=>{let e=A6.isFeatureEnabled("enable-arbitrum"),r=A6.isFeatureEnabled("enable-hyperevm"),n=A6.isFeatureEnabled("enable-monad-mainnet");await t.invalidateQueries({queryKey:T6.chainAvailability({isArbitrumEnabled:e,isHyperevmEnabled:r,isMonadMainnetEnabled:n})}),await Promise.all(ERe.map(i=>i(t)))},"invalidateChainAvailability");p();m();var ARe=class{static{o(this,"TTLCache")}storage;ttlMs;asyncFunction;cacheKey;cacheExpirationKey;constructor(e,r,n,i){this.storage=e,this.ttlMs=r,this.asyncFunction=n,this.cacheKey=`${i}-data`,this.cacheExpirationKey=`${i}-expiration`,this.updateCache()}async updateCache(){try{let e=await this.asyncFunction();await this.storage.set(this.cacheKey,e),await this.storage.set(this.cacheExpirationKey,Date.now()+this.ttlMs)}catch(e){throw new Error("error updating cache: "+e?.message,{cause:e})}}async get(){let e=await this.storage.get(this.cacheKey);try{return e||(await this.updateCache(),await this.storage.get(this.cacheKey))}finally{let r=await this.storage.get(this.cacheExpirationKey);(typeof r!="number"||r<Date.now())&&await this.updateCache()}}};p();m();var f_=$e(Zr(),1);function bon(t,e=100){let[r,n]=(0,f_.useState)(t),i=(0,f_.useRef)(null);return(0,f_.useEffect)(()=>(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{n(t)},e),()=>{i.current&&clearTimeout(i.current)}),[n,t,e]),r}o(bon,"useDebouncedState");p();m();p();m();function C0(t){return Array.isArray?Array.isArray(t):kRe(t)==="[object Array]"}o(C0,"isArray");var N_t=1/0;function C_t(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-N_t?"-0":e}o(C_t,"baseToString");function k_t(t){return t==null?"":C_t(t)}o(k_t,"toString");function sh(t){return typeof t=="string"}o(sh,"isString");function NRe(t){return typeof t=="number"}o(NRe,"isNumber");function B_t(t){return t===!0||t===!1||P_t(t)&&kRe(t)=="[object Boolean]"}o(B_t,"isBoolean");function CRe(t){return typeof t=="object"}o(CRe,"isObject");function P_t(t){return CRe(t)&&t!==null}o(P_t,"isObjectLike");function bf(t){return t!=null}o(bf,"isDefined");function ZW(t){return!t.trim().length}o(ZW,"isBlank");function kRe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(kRe,"getTag");var L_t="Incorrect 'index' type",D_t=o(t=>`Invalid value for key ${t}`,"LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY"),U_t=o(t=>`Pattern length exceeds max of ${t}.`,"PATTERN_LENGTH_TOO_LARGE"),F_t=o(t=>`Missing ${t} property in key`,"MISSING_KEY_PROPERTY"),H_t=o(t=>`Property 'weight' in key '${t}' must be a positive integer`,"INVALID_KEY_WEIGHT_VALUE"),TRe=Object.prototype.hasOwnProperty,JW=class{static{o(this,"KeyStore")}constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=BRe(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function BRe(t){let e=null,r=null,n=null,i=1,s=null;if(sh(t)||C0(t))n=t,e=IRe(t),r=QW(t);else{if(!TRe.call(t,"name"))throw new Error(F_t("name"));let a=t.name;if(n=a,TRe.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(H_t(a));e=IRe(a),r=QW(a),s=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:s}}o(BRe,"createKey");function IRe(t){return C0(t)?t:t.split(".")}o(IRe,"createKeyPath");function QW(t){return C0(t)?t.join("."):t}o(QW,"createKeyId");function q_t(t,e){let r=[],n=!1,i=o((s,a,c)=>{if(bf(s))if(!a[c])r.push(s);else{let u=a[c],h=s[u];if(!bf(h))return;if(c===a.length-1&&(sh(h)||NRe(h)||B_t(h)))r.push(k_t(h));else if(C0(h)){n=!0;for(let y=0,g=h.length;y<g;y+=1)i(h[y],a,c+1)}else a.length&&i(h,a,c+1)}},"deepGet");return i(t,sh(e)?e.split("."):e,0),n?r:r[0]}o(q_t,"get");var V_t={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},j_t={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:o((t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,"sortFn")},z_t={location:0,threshold:.6,distance:100},K_t={useExtendedSearch:!1,getFn:q_t,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},nr={...j_t,...V_t,...z_t,...K_t},$_t=/[^ ]+/g;function G_t(t=1,e=3){let r=new Map,n=Math.pow(10,e);return{get(i){let s=i.match($_t).length;if(r.has(s))return r.get(s);let a=1/Math.pow(s,.5*t),c=parseFloat(Math.round(a*n)/n);return r.set(s,c),c},clear(){r.clear()}}}o(G_t,"norm");var I6=class{static{o(this,"FuseIndex")}constructor({getFn:e=nr.getFn,fieldNormWeight:r=nr.fieldNormWeight}={}){this.norm=G_t(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,sh(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();sh(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!bf(e)||ZW(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(bf(a)){if(C0(a)){let c=[],u=[{nestedArrIndex:-1,value:a}];for(;u.length;){let{nestedArrIndex:h,value:y}=u.pop();if(bf(y))if(sh(y)&&!ZW(y)){let g={v:y,i:h,n:this.norm.get(y)};c.push(g)}else C0(y)&&y.forEach((g,S)=>{u.push({nestedArrIndex:S,value:g})})}n.$[s]=c}else if(sh(a)&&!ZW(a)){let c={v:a,n:this.norm.get(a)};n.$[s]=c}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function PRe(t,e,{getFn:r=nr.getFn,fieldNormWeight:n=nr.fieldNormWeight}={}){let i=new I6({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(BRe)),i.setSources(e),i.create(),i}o(PRe,"createIndex");function W_t(t,{getFn:e=nr.getFn,fieldNormWeight:r=nr.fieldNormWeight}={}){let{keys:n,records:i}=t,s=new I6({getFn:e,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}o(W_t,"parseIndex");function XN(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=nr.distance,ignoreLocation:s=nr.ignoreLocation}={}){let a=e/t.length;if(s)return a;let c=Math.abs(n-r);return i?a+c/i:c?1:a}o(XN,"computeScore$1");function Y_t(t=[],e=nr.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let a=t.length;s<a;s+=1){let c=t[s];c&&n===-1?n=s:!c&&n!==-1&&(i=s-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[s-1]&&s-n>=e&&r.push([n,s-1]),r}o(Y_t,"convertMaskToIndices");var tb=32;function X_t(t,e,r,{location:n=nr.location,distance:i=nr.distance,threshold:s=nr.threshold,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,includeMatches:u=nr.includeMatches,ignoreLocation:h=nr.ignoreLocation}={}){if(e.length>tb)throw new Error(U_t(tb));let y=e.length,g=t.length,S=Math.max(0,Math.min(n,g)),T=s,O=S,M=c>1||u,k=M?Array(g):[],C;for(;(C=t.indexOf(e,O))>-1;){let Z=XN(e,{currentLocation:C,expectedLocation:S,distance:i,ignoreLocation:h});if(T=Math.min(Z,T),O=C+y,M){let W=0;for(;W<y;)k[C+W]=1,W+=1}}O=-1;let B=[],N=1,P=y+g,H=1<<y-1;for(let Z=0;Z<y;Z+=1){let W=0,X=P;for(;W<X;)XN(e,{errors:Z,currentLocation:S+X,expectedLocation:S,distance:i,ignoreLocation:h})<=T?W=X:P=X,X=Math.floor((P-W)/2+W);P=X;let E=Math.max(1,S-X+1),f=a?g:Math.min(S+X,g)+y,d=Array(f+2);d[f+1]=(1<<Z)-1;for(let x=f;x>=E;x-=1){let _=x-1,A=r[t.charAt(_)];if(M&&(k[_]=+!!A),d[x]=(d[x+1]<<1|1)&A,Z&&(d[x]|=(B[x+1]|B[x])<<1|1|B[x+1]),d[x]&H&&(N=XN(e,{errors:Z,currentLocation:_,expectedLocation:S,distance:i,ignoreLocation:h}),N<=T)){if(T=N,O=_,O<=S)break;E=Math.max(1,2*S-O)}}if(XN(e,{errors:Z+1,currentLocation:S,expectedLocation:S,distance:i,ignoreLocation:h})>T)break;B=d}let F={isMatch:O>=0,score:Math.max(.001,N)};if(M){let Z=Y_t(k,c);Z.length?u&&(F.indices=Z):F.isMatch=!1}return F}o(X_t,"search");function Z_t(t){let e={};for(let r=0,n=t.length;r<n;r+=1){let i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}o(Z_t,"createPatternAlphabet");var ZN=class{static{o(this,"BitapSearch")}constructor(e,{location:r=nr.location,threshold:n=nr.threshold,distance:i=nr.distance,includeMatches:s=nr.includeMatches,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,isCaseSensitive:u=nr.isCaseSensitive,ignoreLocation:h=nr.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:h},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let y=o((S,T)=>{this.chunks.push({pattern:S,alphabet:Z_t(S),startIndex:T})},"addChunk"),g=this.pattern.length;if(g>tb){let S=0,T=g%tb,O=g-T;for(;S<O;)y(this.pattern.substr(S,tb),S),S+=tb;if(T){let M=g-tb;y(this.pattern.substr(M),M)}}else y(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let O={isMatch:!0,score:0};return n&&(O.indices=[[0,e.length-1]]),O}let{location:i,distance:s,threshold:a,findAllMatches:c,minMatchCharLength:u,ignoreLocation:h}=this.options,y=[],g=0,S=!1;this.chunks.forEach(({pattern:O,alphabet:M,startIndex:k})=>{let{isMatch:C,score:B,indices:N}=X_t(e,O,M,{location:i+k,distance:s,threshold:a,findAllMatches:c,minMatchCharLength:u,includeMatches:n,ignoreLocation:h});C&&(S=!0),g+=B,C&&N&&(y=[...y,...N])});let T={isMatch:S,score:S?g/this.chunks.length:1};return S&&n&&(T.indices=y),T}},ah=class{static{o(this,"BaseMatch")}constructor(e){this.pattern=e}static isMultiMatch(e){return RRe(e,this.multiRegex)}static isSingleMatch(e){return RRe(e,this.singleRegex)}search(){}};function RRe(t,e){let r=t.match(e);return r?r[1]:null}o(RRe,"getMatch");var eY=class extends ah{static{o(this,"ExactMatch")}constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},tY=class extends ah{static{o(this,"InverseExactMatch")}constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},rY=class extends ah{static{o(this,"PrefixExactMatch")}constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},nY=class extends ah{static{o(this,"InversePrefixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},iY=class extends ah{static{o(this,"SuffixExactMatch")}constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},oY=class extends ah{static{o(this,"InverseSuffixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},JN=class extends ah{static{o(this,"FuzzyMatch")}constructor(e,{location:r=nr.location,threshold:n=nr.threshold,distance:i=nr.distance,includeMatches:s=nr.includeMatches,findAllMatches:a=nr.findAllMatches,minMatchCharLength:c=nr.minMatchCharLength,isCaseSensitive:u=nr.isCaseSensitive,ignoreLocation:h=nr.ignoreLocation}={}){super(e),this._bitapSearch=new ZN(e,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},QN=class extends ah{static{o(this,"IncludeMatch")}constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n,i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);let a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}},sY=[eY,QN,rY,nY,oY,iY,tY,JN],ORe=sY.length,J_t=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Q_t="|";function ewt(t,e={}){return t.split(Q_t).map(r=>{let n=r.trim().split(J_t).filter(s=>s&&!!s.trim()),i=[];for(let s=0,a=n.length;s<a;s+=1){let c=n[s],u=!1,h=-1;for(;!u&&++h<ORe;){let y=sY[h],g=y.isMultiMatch(c);g&&(i.push(new y(g,e)),u=!0)}if(!u)for(h=-1;++h<ORe;){let y=sY[h],g=y.isSingleMatch(c);if(g){i.push(new y(g,e));break}}}return i})}o(ewt,"parseQuery");var twt=new Set([JN.type,QN.type]),aY=class{static{o(this,"ExtendedSearch")}constructor(e,{isCaseSensitive:r=nr.isCaseSensitive,includeMatches:n=nr.includeMatches,minMatchCharLength:i=nr.minMatchCharLength,ignoreLocation:s=nr.ignoreLocation,findAllMatches:a=nr.findAllMatches,location:c=nr.location,threshold:u=nr.threshold,distance:h=nr.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:a,ignoreLocation:s,location:c,threshold:u,distance:h},this.pattern=r?e:e.toLowerCase(),this.query=ewt(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,a=[],c=0;for(let u=0,h=r.length;u<h;u+=1){let y=r[u];a.length=0,s=0;for(let g=0,S=y.length;g<S;g+=1){let T=y[g],{isMatch:O,indices:M,score:k}=T.search(e);if(O){if(s+=1,c+=k,n){let C=T.constructor.type;twt.has(C)?a=[...a,...M]:a.push(M)}}else{c=0,s=0,a.length=0;break}}if(s){let g={isMatch:!0,score:c/s};return n&&(g.indices=a),g}}return{isMatch:!1,score:1}}},cY=[];function rwt(...t){cY.push(...t)}o(rwt,"register");function fY(t,e){for(let r=0,n=cY.length;r<n;r+=1){let i=cY[r];if(i.condition(t,e))return new i(t,e)}return new ZN(t,e)}o(fY,"createSearcher");var eC={AND:"$and",OR:"$or"},uY={PATH:"$path",PATTERN:"$val"},lY=o(t=>!!(t[eC.AND]||t[eC.OR]),"isExpression"),nwt=o(t=>!!t[uY.PATH],"isPath"),iwt=o(t=>!C0(t)&&CRe(t)&&!lY(t),"isLeaf"),MRe=o(t=>({[eC.AND]:Object.keys(t).map(e=>({[e]:t[e]}))}),"convertToExplicit");function LRe(t,e,{auto:r=!0}={}){let n=o(i=>{let s=Object.keys(i),a=nwt(i);if(!a&&s.length>1&&!lY(i))return n(MRe(i));if(iwt(i)){let u=a?i[uY.PATH]:s[0],h=a?i[uY.PATTERN]:i[u];if(!sh(h))throw new Error(D_t(u));let y={keyId:QW(u),pattern:h};return r&&(y.searcher=fY(h,e)),y}let c={children:[],operator:s[0]};return s.forEach(u=>{let h=i[u];C0(h)&&h.forEach(y=>{c.children.push(n(y))})}),c},"next");return lY(t)||(t=MRe(t)),n(t)}o(LRe,"parse");function owt(t,{ignoreFieldNorm:e=nr.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:a})=>{let c=i?i.weight:null;n*=Math.pow(a===0&&c?Number.EPSILON:a,(c||1)*(e?1:s))}),r.score=n})}o(owt,"computeScore");function swt(t,e){let r=t.matches;e.matches=[],bf(r)&&r.forEach(n=>{if(!bf(n.indices)||!n.indices.length)return;let{indices:i,value:s}=n,a={indices:i,value:s};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),e.matches.push(a)})}o(swt,"transformMatches");function awt(t,e){e.score=t.score}o(awt,"transformScore");function cwt(t,e,{includeMatches:r=nr.includeMatches,includeScore:n=nr.includeScore}={}){let i=[];return r&&i.push(swt),n&&i.push(awt),t.map(s=>{let{idx:a}=s,c={item:e[a],refIndex:a};return i.length&&i.forEach(u=>{u(s,c)}),c})}o(cwt,"format");var k0=class{static{o(this,"Fuse")}constructor(e,r={},n){this.options={...nr,...r},this.options.useExtendedSearch,this._keyStore=new JW(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof I6))throw new Error(L_t);this._myIndex=r||PRe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){bf(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let n=0,i=this._docs.length;n<i;n+=1){let s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:s,sortFn:a,ignoreFieldNorm:c}=this.options,u=sh(e)?sh(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return owt(u,{ignoreFieldNorm:c}),s&&u.sort(a),NRe(r)&&r>-1&&(u=u.slice(0,r)),cwt(u,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){let r=fY(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:a,n:c})=>{if(!bf(s))return;let{isMatch:u,score:h,indices:y}=r.searchIn(s);u&&i.push({item:s,idx:a,matches:[{score:h,value:s,norm:c,indices:y}]})}),i}_searchLogical(e){let r=LRe(e,this.options),n=o((c,u,h)=>{if(!c.children){let{keyId:g,searcher:S}=c,T=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(u,g),searcher:S});return T&&T.length?[{idx:h,item:u,matches:T}]:[]}let y=[];for(let g=0,S=c.children.length;g<S;g+=1){let T=c.children[g],O=n(T,u,h);if(O.length)y.push(...O);else if(c.operator===eC.AND)return[]}return y},"evaluate"),i=this._myIndex.records,s={},a=[];return i.forEach(({$:c,i:u})=>{if(bf(c)){let h=n(r,c,u);h.length&&(s[u]||(s[u]={idx:u,item:c,matches:[]},a.push(s[u])),h.forEach(({matches:y})=>{s[u].matches.push(...y)}))}}),a}_searchObjectList(e){let r=fY(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:a,i:c})=>{if(!bf(a))return;let u=[];n.forEach((h,y)=>{u.push(...this._findMatches({key:h,value:a[y],searcher:r}))}),u.length&&s.push({idx:c,item:a,matches:u})}),s}_findMatches({key:e,value:r,searcher:n}){if(!bf(r))return[];let i=[];if(C0(r))r.forEach(({v:s,i:a,n:c})=>{if(!bf(s))return;let{isMatch:u,score:h,indices:y}=n.searchIn(s);u&&i.push({score:h,key:e,value:s,idx:a,norm:c,indices:y})});else{let{v:s,n:a}=r,{isMatch:c,score:u,indices:h}=n.searchIn(s);c&&i.push({score:u,key:e,value:s,norm:a,indices:h})}return i}};k0.version="7.0.0";k0.createIndex=PRe;k0.parseIndex=W_t;k0.config=nr;k0.parseQuery=LRe;rwt(aY);p();m();function nC(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return o(i,"adopt"),new(r||(r=Promise))(function(s,a){function c(y){try{h(n.next(y))}catch(g){a(g)}}o(c,"fulfilled");function u(y){try{h(n.throw(y))}catch(g){a(g)}}o(u,"rejected");function h(y){y.done?s(y.value):i(y.value).then(c,u)}o(h,"step"),h((n=n.apply(t,e||[])).next())})}o(nC,"__awaiter");var fwt="ENTRIES",qRe="KEYS",VRe="VALUES",Bs="",R6=class{static{o(this,"TreeIterator")}constructor(e,r){let n=e._tree,i=Array.from(n.keys());this.set=e,this._type=r,this._path=i.length>0?[{node:n,keys:i}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:r}=u_(this._path);if(u_(r)===Bs)return{done:!1,value:this.result()};let n=e.get(u_(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=u_(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>u_(e)).filter(e=>e!==Bs).join("")}value(){return u_(this._path).node.get(Bs)}result(){switch(this._type){case VRe:return this.value();case qRe:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},u_=o(t=>t[t.length-1],"last$1"),uwt=o((t,e,r)=>{let n=new Map;if(e===void 0)return n;let i=e.length+1,s=i+r,a=new Uint8Array(s*i).fill(r+1);for(let c=0;c<i;++c)a[c]=c;for(let c=1;c<s;++c)a[c*i]=c;return jRe(t,e,r,n,a,1,i,""),n},"fuzzySearch"),jRe=o((t,e,r,n,i,s,a,c)=>{let u=s*a;e:for(let h of t.keys())if(h===Bs){let y=i[u-1];y<=r&&n.set(c,[t.get(h),y])}else{let y=s;for(let g=0;g<h.length;++g,++y){let S=h[g],T=a*y,O=T-a,M=i[T],k=Math.max(0,y-r-1),C=Math.min(a-1,y+r);for(let B=k;B<C;++B){let N=S!==e[B],P=i[O+B]+ +N,H=i[O+B+1]+1,F=i[T+B]+1,Z=i[T+B+1]=Math.min(P,H,F);Z<M&&(M=Z)}if(M>r)continue e}jRe(t.get(h),e,r,n,i,y,a,c+h)}},"recurse"),O6=class t{static{o(this,"SearchableMap")}constructor(e=new Map,r=""){this._size=void 0,this._tree=e,this._prefix=r}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");let[r,n]=iC(this._tree,e.slice(this._prefix.length));if(r===void 0){let[i,s]=xY(n);for(let a of i.keys())if(a!==Bs&&a.startsWith(s)){let c=new Map;return c.set(a.slice(s.length),i.get(a)),new t(c,e)}}return new t(r,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,lwt(this._tree,e)}entries(){return new R6(this,fwt)}forEach(e){for(let[r,n]of this)e(r,n,this)}fuzzyGet(e,r){return uwt(this._tree,e,r)}get(e){let r=gY(this._tree,e);return r!==void 0?r.get(Bs):void 0}has(e){let r=gY(this._tree,e);return r!==void 0&&r.has(Bs)}keys(){return new R6(this,qRe)}set(e,r){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,dY(this._tree,e).set(Bs,r),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=dY(this._tree,e);return n.set(Bs,r(n.get(Bs))),this}fetch(e,r){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let n=dY(this._tree,e),i=n.get(Bs);return i===void 0&&n.set(Bs,i=r()),i}values(){return new R6(this,VRe)}[Symbol.iterator](){return this.entries()}static from(e){let r=new t;for(let[n,i]of e)r.set(n,i);return r}static fromObject(e){return t.from(Object.entries(e))}},iC=o((t,e,r=[])=>{if(e.length===0||t==null)return[t,r];for(let n of t.keys())if(n!==Bs&&e.startsWith(n))return r.push([t,n]),iC(t.get(n),e.slice(n.length),r);return r.push([t,e]),iC(void 0,"",r)},"trackDown"),gY=o((t,e)=>{if(e.length===0||t==null)return t;for(let r of t.keys())if(r!==Bs&&e.startsWith(r))return gY(t.get(r),e.slice(r.length))},"lookup"),dY=o((t,e)=>{let r=e.length;e:for(let n=0;t&&n<r;){for(let s of t.keys())if(s!==Bs&&e[n]===s[0]){let a=Math.min(r-n,s.length),c=1;for(;c<a&&e[n+c]===s[c];)++c;let u=t.get(s);if(c===s.length)t=u;else{let h=new Map;h.set(s.slice(c),u),t.set(e.slice(n,n+c),h),t.delete(s),t=h}n+=c;continue e}let i=new Map;return t.set(e.slice(n),i),i}return t},"createPath"),lwt=o((t,e)=>{let[r,n]=iC(t,e);if(r!==void 0){if(r.delete(Bs),r.size===0)zRe(n);else if(r.size===1){let[i,s]=r.entries().next().value;KRe(n,i,s)}}},"remove"),zRe=o(t=>{if(t.length===0)return;let[e,r]=xY(t);if(e.delete(r),e.size===0)zRe(t.slice(0,-1));else if(e.size===1){let[n,i]=e.entries().next().value;n!==Bs&&KRe(t.slice(0,-1),n,i)}},"cleanup"),KRe=o((t,e,r)=>{if(t.length===0)return;let[n,i]=xY(t);n.set(i+e,r),n.delete(i)},"merge"),xY=o(t=>t[t.length-1],"last"),vY="or",$Re="and",dwt="and_not",M6=class t{static{o(this,"MiniSearch")}constructor(e){if(e?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let r=e.autoVacuum==null||e.autoVacuum===!0?mY:e.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},pY),e),{autoVacuum:r,searchOptions:Object.assign(Object.assign({},DRe),e.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},ywt),e.autoSuggestOptions||{})}),this._index=new O6,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=bY,this.addFields(this._options.fields)}add(e){let{extractField:r,tokenize:n,processTerm:i,fields:s,idField:a}=this._options,c=r(e,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(c))throw new Error(`MiniSearch: duplicate ID ${c}`);let u=this.addDocumentId(c);this.saveStoredFields(u,e);for(let h of s){let y=r(e,h);if(y==null)continue;let g=n(y.toString(),h),S=this._fieldIds[h],T=new Set(g).size;this.addFieldLength(u,S,this._documentCount-1,T);for(let O of g){let M=i(O,h);if(Array.isArray(M))for(let k of M)this.addTerm(S,u,k);else M&&this.addTerm(S,u,M)}}}addAll(e){for(let r of e)this.add(r)}addAllAsync(e,r={}){let{chunkSize:n=10}=r,i={chunk:[],promise:Promise.resolve()},{chunk:s,promise:a}=e.reduce(({chunk:c,promise:u},h,y)=>(c.push(h),(y+1)%n===0?{chunk:[],promise:u.then(()=>new Promise(g=>setTimeout(g,0))).then(()=>this.addAll(c))}:{chunk:c,promise:u}),i);return a.then(()=>this.addAll(s))}remove(e){let{tokenize:r,processTerm:n,extractField:i,fields:s,idField:a}=this._options,c=i(e,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);let u=this._idToShortId.get(c);if(u==null)throw new Error(`MiniSearch: cannot remove document with ID ${c}: it is not in the index`);for(let h of s){let y=i(e,h);if(y==null)continue;let g=r(y.toString(),h),S=this._fieldIds[h],T=new Set(g).size;this.removeFieldLength(u,S,this._documentCount,T);for(let O of g){let M=n(O,h);if(Array.isArray(M))for(let k of M)this.removeTerm(S,u,k);else M&&this.removeTerm(S,u,M)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(c),this._fieldLength.delete(u),this._documentCount-=1}removeAll(e){if(e)for(let r of e)this.remove(r);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new O6,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){let r=this._idToShortId.get(e);if(r==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach((n,i)=>{this.removeFieldLength(r,i,this._documentCount,n)}),this._fieldLength.delete(r),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:e,minDirtCount:r,batchSize:n,batchWait:i}=this._options.autoVacuum;this.conditionalVacuum({batchSize:n,batchWait:i},{minDirtCount:r,minDirtFactor:e})}discardAll(e){let r=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let n of e)this.discard(n)}finally{this._options.autoVacuum=r}this.maybeAutoVacuum()}replace(e){let{idField:r,extractField:n}=this._options,i=n(e,r);this.discard(i),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,r){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&r,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let n=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=bY,this.performVacuuming(e,n)}),this._enqueuedVacuum)):this.vacuumConditionsMet(r)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}performVacuuming(e,r){return nC(this,void 0,void 0,function*(){let n=this._dirtCount;if(this.vacuumConditionsMet(r)){let i=e.batchSize||yY.batchSize,s=e.batchWait||yY.batchWait,a=1;for(let[c,u]of this._index){for(let[h,y]of u)for(let[g]of y)this._documentIds.has(g)||(y.size<=1?u.delete(h):y.delete(g));this._index.get(c).size===0&&this._index.delete(c),a%i===0&&(yield new Promise(h=>setTimeout(h,s))),a+=1}this._dirtCount-=n}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:r,minDirtFactor:n}=e;return r=r||mY.minDirtCount,n=n||mY.minDirtFactor,this.dirtCount>=r&&this.dirtFactor>=n}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let r=this._idToShortId.get(e);if(r!=null)return this._storedFields.get(r)}search(e,r={}){let{searchOptions:n}=this._options,i=Object.assign(Object.assign({},n),r),s=this.executeQuery(e,r),a=[];for(let[c,{score:u,terms:h,match:y}]of s){let g=h.length||1,S={id:this._documentIds.get(c),score:u*g,terms:Object.keys(y),queryTerms:h,match:y};Object.assign(S,this._storedFields.get(c)),(i.filter==null||i.filter(S))&&a.push(S)}return e===t.wildcard&&i.boostDocument==null||a.sort(FRe),a}autoSuggest(e,r={}){r=Object.assign(Object.assign({},this._options.autoSuggestOptions),r);let n=new Map;for(let{score:s,terms:a}of this.search(e,r)){let c=a.join(" "),u=n.get(c);u!=null?(u.score+=s,u.count+=1):n.set(c,{score:s,terms:a,count:1})}let i=[];for(let[s,{score:a,terms:c,count:u}]of n)i.push({suggestion:s,terms:c,score:a/u});return i.sort(FRe),i}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,r){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),r)}static loadJSONAsync(e,r){return nC(this,void 0,void 0,function*(){if(r==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),r)})}static getDefault(e){if(pY.hasOwnProperty(e))return hY(pY,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,r){let{index:n,documentIds:i,fieldLength:s,storedFields:a,serializationVersion:c}=e,u=this.instantiateMiniSearch(e,r);u._documentIds=tC(i),u._fieldLength=tC(s),u._storedFields=tC(a);for(let[h,y]of u._documentIds)u._idToShortId.set(y,h);for(let[h,y]of n){let g=new Map;for(let S of Object.keys(y)){let T=y[S];c===1&&(T=T.ds),g.set(parseInt(S,10),tC(T))}u._index.set(h,g)}return u}static loadJSAsync(e,r){return nC(this,void 0,void 0,function*(){let{index:n,documentIds:i,fieldLength:s,storedFields:a,serializationVersion:c}=e,u=this.instantiateMiniSearch(e,r);u._documentIds=yield rC(i),u._fieldLength=yield rC(s),u._storedFields=yield rC(a);for(let[y,g]of u._documentIds)u._idToShortId.set(g,y);let h=0;for(let[y,g]of n){let S=new Map;for(let T of Object.keys(g)){let O=g[T];c===1&&(O=O.ds),S.set(parseInt(T,10),yield rC(O))}++h%1e3===0&&(yield GRe(0)),u._index.set(y,S)}return u})}static instantiateMiniSearch(e,r){let{documentCount:n,nextId:i,fieldIds:s,averageFieldLength:a,dirtCount:c,serializationVersion:u}=e;if(u!==1&&u!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let h=new t(r);return h._documentCount=n,h._nextId=i,h._idToShortId=new Map,h._fieldIds=s,h._avgFieldLength=a,h._dirtCount=c||0,h._index=new O6,h}executeQuery(e,r={}){if(e===t.wildcard)return this.executeWildcardQuery(r);if(typeof e!="string"){let S=Object.assign(Object.assign(Object.assign({},r),e),{queries:void 0}),T=e.queries.map(O=>this.executeQuery(O,S));return this.combineResults(T,S.combineWith)}let{tokenize:n,processTerm:i,searchOptions:s}=this._options,a=Object.assign(Object.assign({tokenize:n,processTerm:i},s),r),{tokenize:c,processTerm:u}=a,g=c(e).flatMap(S=>u(S)).filter(S=>!!S).map(gwt(a)).map(S=>this.executeQuerySpec(S,a));return this.combineResults(g,a.combineWith)}executeQuerySpec(e,r){let n=Object.assign(Object.assign({},this._options.searchOptions),r),i=(n.fields||this._options.fields).reduce((M,k)=>Object.assign(Object.assign({},M),{[k]:hY(n.boost,k)||1}),{}),{boostDocument:s,weights:a,maxFuzzy:c,bm25:u}=n,{fuzzy:h,prefix:y}=Object.assign(Object.assign({},DRe.weights),a),g=this._index.get(e.term),S=this.termResults(e.term,e.term,1,e.termBoost,g,i,s,u),T,O;if(e.prefix&&(T=this._index.atPrefix(e.term)),e.fuzzy){let M=e.fuzzy===!0?.2:e.fuzzy,k=M<1?Math.min(c,Math.round(e.term.length*M)):M;k&&(O=this._index.fuzzyGet(e.term,k))}if(T)for(let[M,k]of T){let C=M.length-e.term.length;if(!C)continue;O?.delete(M);let B=y*M.length/(M.length+.3*C);this.termResults(e.term,M,B,e.termBoost,k,i,s,u,S)}if(O)for(let M of O.keys()){let[k,C]=O.get(M);if(!C)continue;let B=h*M.length/(M.length+C);this.termResults(e.term,M,B,e.termBoost,k,i,s,u,S)}return S}executeWildcardQuery(e){let r=new Map,n=Object.assign(Object.assign({},this._options.searchOptions),e);for(let[i,s]of this._documentIds){let a=n.boostDocument?n.boostDocument(s,"",this._storedFields.get(i)):1;r.set(i,{score:a,terms:[],match:{}})}return r}combineResults(e,r=vY){if(e.length===0)return new Map;let n=r.toLowerCase(),i=hwt[n];if(!i)throw new Error(`Invalid combination operator: ${r}`);return e.reduce(i)||new Map}toJSON(){let e=[];for(let[r,n]of this._index){let i={};for(let[s,a]of n)i[s]=Object.fromEntries(a);e.push([r,i])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,r,n,i,s,a,c,u,h=new Map){if(s==null)return h;for(let y of Object.keys(a)){let g=a[y],S=this._fieldIds[y],T=s.get(S);if(T==null)continue;let O=T.size,M=this._avgFieldLength[S];for(let k of T.keys()){if(!this._documentIds.has(k)){this.removeTerm(S,k,r),O-=1;continue}let C=c?c(this._documentIds.get(k),r,this._storedFields.get(k)):1;if(!C)continue;let B=T.get(k),N=this._fieldLength.get(k)[S],P=mwt(B,O,this._documentCount,N,M,u),H=n*i*g*C*P,F=h.get(k);if(F){F.score+=H,bwt(F.terms,e);let Z=hY(F.match,r);Z?Z.push(y):F.match[r]=[y]}else h.set(k,{score:H,terms:[e],match:{[r]:[y]}})}}return h}addTerm(e,r,n){let i=this._index.fetch(n,HRe),s=i.get(e);if(s==null)s=new Map,s.set(r,1),i.set(e,s);else{let a=s.get(r);s.set(r,(a||0)+1)}}removeTerm(e,r,n){if(!this._index.has(n)){this.warnDocumentChanged(r,e,n);return}let i=this._index.fetch(n,HRe),s=i.get(e);s==null||s.get(r)==null?this.warnDocumentChanged(r,e,n):s.get(r)<=1?s.size<=1?i.delete(e):s.delete(r):s.set(r,s.get(r)-1),this._index.get(n).size===0&&this._index.delete(n)}warnDocumentChanged(e,r,n){for(let i of Object.keys(this._fieldIds))if(this._fieldIds[i]===r){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${n}" was not present in field "${i}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){let r=this._nextId;return this._idToShortId.set(e,r),this._documentIds.set(r,e),this._documentCount+=1,this._nextId+=1,r}addFields(e){for(let r=0;r<e.length;r++)this._fieldIds[e[r]]=r}addFieldLength(e,r,n,i){let s=this._fieldLength.get(e);s==null&&this._fieldLength.set(e,s=[]),s[r]=i;let c=(this._avgFieldLength[r]||0)*n+i;this._avgFieldLength[r]=c/(n+1)}removeFieldLength(e,r,n,i){if(n===1){this._avgFieldLength[r]=0;return}let s=this._avgFieldLength[r]*n-i;this._avgFieldLength[r]=s/(n-1)}saveStoredFields(e,r){let{storeFields:n,extractField:i}=this._options;if(n==null||n.length===0)return;let s=this._storedFields.get(e);s==null&&this._storedFields.set(e,s={});for(let a of n){let c=i(r,a);c!==void 0&&(s[a]=c)}}};M6.wildcard=Symbol("*");var hY=o((t,e)=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,"getOwnProperty"),hwt={[vY]:(t,e)=>{for(let r of e.keys()){let n=t.get(r);if(n==null)t.set(r,e.get(r));else{let{score:i,terms:s,match:a}=e.get(r);n.score=n.score+i,n.match=Object.assign(n.match,a),URe(n.terms,s)}}return t},[$Re]:(t,e)=>{let r=new Map;for(let n of e.keys()){let i=t.get(n);if(i==null)continue;let{score:s,terms:a,match:c}=e.get(n);URe(i.terms,a),r.set(n,{score:i.score+s,terms:i.terms,match:Object.assign(i.match,c)})}return r},[dwt]:(t,e)=>{for(let r of e.keys())t.delete(r);return t}},pwt={k:1.2,b:.7,d:.5},mwt=o((t,e,r,n,i,s)=>{let{k:a,b:c,d:u}=s;return Math.log(1+(r-e+.5)/(e+.5))*(u+t*(a+1)/(t+a*(1-c+c*n/i)))},"calcBM25Score"),gwt=o(t=>(e,r,n)=>{let i=typeof t.fuzzy=="function"?t.fuzzy(e,r,n):t.fuzzy||!1,s=typeof t.prefix=="function"?t.prefix(e,r,n):t.prefix===!0,a=typeof t.boostTerm=="function"?t.boostTerm(e,r,n):1;return{term:e,fuzzy:i,prefix:s,termBoost:a}},"termToQuerySpec"),pY={idField:"id",extractField:o((t,e)=>t[e],"extractField"),tokenize:o(t=>t.split(xwt),"tokenize"),processTerm:o(t=>t.toLowerCase(),"processTerm"),fields:void 0,searchOptions:void 0,storeFields:[],logger:o((t,e)=>{typeof console?.[t]=="function"&&console[t](e)},"logger"),autoVacuum:!0},DRe={combineWith:vY,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:pwt},ywt={combineWith:$Re,prefix:o((t,e,r)=>e===r.length-1,"prefix")},yY={batchSize:1e3,batchWait:10},bY={minDirtFactor:.1,minDirtCount:20},mY=Object.assign(Object.assign({},yY),bY),bwt=o((t,e)=>{t.includes(e)||t.push(e)},"assignUniqueTerm"),URe=o((t,e)=>{for(let r of e)t.includes(r)||t.push(r)},"assignUniqueTerms"),FRe=o(({score:t},{score:e})=>e-t,"byScore"),HRe=o(()=>new Map,"createMap"),tC=o(t=>{let e=new Map;for(let r of Object.keys(t))e.set(parseInt(r,10),t[r]);return e},"objectToNumericMap"),rC=o(t=>nC(void 0,void 0,void 0,function*(){let e=new Map,r=0;for(let n of Object.keys(t))e.set(parseInt(n,10),t[n]),++r%1e3===0&&(yield GRe(0));return e}),"objectToNumericMapAsync"),GRe=o(t=>new Promise(e=>setTimeout(e,t)),"wait"),xwt=/[\n\r\p{Z}\p{P}]+/u;var N6=$e(Zr(),1);var kon=o((t,e,r,n=!1)=>{let i=(0,N6.useMemo)(()=>n?null:new k0(t,r),[t,r,n]);return(0,N6.useMemo)(()=>n||!i?t:e?i.search(e).map(s=>s.item):t,[i,t,e,n])},"useFuse"),Bon=o((t,e,r,n=!1)=>{let i=(0,N6.useMemo)(()=>{if(n)return null;let s=new M6(r);return s.addAll(t),s},[t,r,n]);return(0,N6.useMemo)(()=>n||!i?t:e?i.search(e).map(s=>s):t,[i,t,e,n])},"useMiniSearch");p();m();var _Y=$e(Zr(),1);p();m();var WRe=$e(Zr(),1);function YRe(){let t=(0,WRe.useRef)(!0);return t.current?(t.current=!1,!0):t.current}o(YRe,"useFirstMountState");var vwt=o((t,e)=>t===e,"strictEquals");function _wt(t,e=vwt){let r=(0,_Y.useRef)(void 0),n=(0,_Y.useRef)(t);return!YRe()&&!e(n.current,t)&&(r.current=n.current,n.current=t),r.current}o(_wt,"usePreviousDistinct");p();m();p();m();var e7e=$e(ZRe(),1),gg=$e(QRe(),1);(0,e7e.default)(gg.default.localeData("en"),{abbreviations:{thousand:"K",million:"M",billion:"B",trillion:"T"}});var t7e=1e-5,r7e="0,0.[00000]",Nwt="0,0.[00]a",Cwt=1e6,n7e=o((t,e=r7e)=>{let r=new wi(t);if(r.abs().isGreaterThan(0)&&r.abs().isLessThan(t7e))return`< ${r.isLessThan(0)?"-":""}${t7e}`;let n=(0,gg.default)(r.toNumber());return e===r7e&&r.isGreaterThanOrEqualTo(Cwt)?n.format(Nwt):n.format(e)},"formatTokenAmount");p();m();p();m();p();m();p();m();var i7e=kwt;function kwt(t,e){if(typeof t!="function")throw new Error("`callback` should be a function");if(e!==void 0&&typeof e!="function")throw new Error("`resolver` should be a function");var r={},n=o(function(){var i=Array.prototype.slice.call(arguments),s=e?e.apply(this,i):JSON.stringify(i);return s in r||(r[s]=t.apply(this,i)),r[s]},"memoized");return n.cache=r,n}o(kwt,"memoize");var Bwt=o((...t)=>{let e=t.map(r=>r instanceof Map||r instanceof Set?Array.from(r):r);return JSON.stringify(e)},"defaultResolver"),o7e=o((t,e={forceRefresh:!1})=>{let{resolver:r=Bwt}=e,n=i7e(t,r),i=o(function(...s){if(e.forceRefresh){let a=r(...s);delete n.cache[a]}return n.apply(this,s)},"wrapped");return i.cache=n.cache,i},"memoize");var Pwt=o(t=>new wi(10).pow(t),"_tenPow"),yg=o7e(Pwt);var Isn=o((t,e)=>{let r=new wi(t).div(yg(e)).toNumber();return n7e(r)},"amountToFormattedAmount");p();m();var ksn=o((t,e)=>{let r=e?.format??"0,0.00%";return`${(e?.includePlusPrefix??!1)&&t>0?"+":""}${(0,gg.default)(t).format(t===0?"0%":r)}`},"formatPercentage");p();m();var Usn=o(t=>t.replace(/^(^[\w-_]*:\/\/)?(?:www\.)?/i,"").split("/")[0],"removeWebPrefixes");p();m();var jsn=o((t,e)=>{let r=t,n=`${r.substring(0,e)}...`;return n.length>=t.length?t:r.length>e?n:r},"truncateString");p();m();p();m();p();m();var C6=$e(sC(),1),f7e=$e(s7e(),1),u7e=$e(a7e(),1),l7e=$e(c7e(),1);C6.default.extend(u7e.default);C6.default.extend(f7e.default);C6.default.extend(l7e.default);var rb=C6.default,oan=new Date().getTimezoneOffset()*6e4;var gan=o((t,e)=>{let r=rb(t),n=r.format("MMM D, YYYY"),i=r.format("h:mm a");return`${n} ${e||""} ${i}`},"formatTimestampAsDate");p();m();var MY=$e(sC(),1);var wan=o((t,e)=>{let{compact:r=!1}=e??{},i=new Intl.DateTimeFormat(void 0,{hour:"numeric"}).resolvedOptions().hour12??!0?"h:mm a":"HH:mm",s=(0,MY.default)(),a=(0,MY.default)(t),c=a.format(i),u=s.startOf("day"),y=a.startOf("day").diff(u,"day");if(y===0)return c;if(y===1)return`${c} ${vJ.t("tomorrow")}`;if(y>=2&&y<=7)return`${new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(a.toDate())} ${c}`;let S=!r||a.diff(s,"year",!0)>=1?"MMM D, YYYY":"MMM D";return`${a.format(S)} ${c}`},"formatUntil");p();m();var Ian=o(t=>{if(t)try{return new URL(t).origin}catch{return}},"getOrigin");p();m();p();m();var Can=o((t,e)=>Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e)),"chunks");p();m();var d7e=o(t=>!!t,"filterBoolean");p();m();var qan=o(t=>{if(t.length!==0)return t[t.length-1]},"getLast");p();m();function $an(t){return t!=null}o($an,"nonNullable");p();m();var Zan=o(t=>[...Array(t).keys()],"range");p();m();var h7e=class t{static{o(this,"RingBuffer")}static fromArray(e,r=0){let n=new t(r);return n.fromArray(e,r===0),n}buffer=[];size;pos=0;constructor(e){if(e<0)throw new RangeError("Invalid size.");this.size=e}getSize(){return this.size}getPos(){return this.pos}getBufferLength(){return this.buffer.length}add(...e){e.forEach(r=>{this.buffer[this.pos]=r,this.pos=(this.pos+1)%this.size})}get(e){if(e<0&&(e+=this.buffer.length),!(e<0||e>this.buffer.length))return this.buffer.length<this.size?this.buffer[e]:this.buffer[(this.pos+e)%this.size]}getFirst(){return this.get(0)}getLast(){return this.get(-1)}getFirstN(e){return e===0?[]:e<0?this.getLastN(-e):this.toArray().slice(0,e)}getLastN(e){return e===0?[]:e<0?this.getFirstN(-e):this.toArray().slice(-e)}remove(e,r=1){if(e<0&&(e+=this.buffer.length),e<0||e>this.buffer.length)return[];let n=this.toArray(),i=n.splice(e,r);return this.fromArray(n),i}removeFirst(){return this.remove(0)[0]}removeLast(){return this.remove(-1)[0]}toArray(){return this.buffer.slice(this.pos).concat(this.buffer.slice(0,this.pos))}fromArray(e,r=!1){if(!Array.isArray(e))throw new TypeError("Input value is not an array.");r&&this.resize(e.length),this.size!==0&&(this.buffer=e.slice(-this.size),this.pos=this.buffer.length%this.size)}clear(){this.buffer=[],this.pos=0}resize(e){if(e<0)throw new RangeError("The size does not allow negative values.");if(e===0)this.clear();else if(e!==this.size){let r=this.toArray();this.fromArray(r.slice(-e)),this.pos=this.buffer.length%e}this.size=e}isFull(){return this.buffer.length===this.size}isEmpty(){return this.buffer.length===0}};p();m();var Lwt=o((t,e)=>t+e,"add"),scn=o(t=>t.reduce(Lwt,0),"sum");p();m();function hcn(t){return be.any().array().transform(e=>e.map(r=>{let n=t.safeParse(r);return n.success?n.data:void 0}).filter(d7e)).catch([])}o(hcn,"zodArray");p();m();var nb=$e(Zr(),1);var bcn=o((t,e=1e3)=>{let r=(0,nb.useRef)(!1),n=(0,nb.useRef)(null);return(0,nb.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),(0,nb.useCallback)((...i)=>{r.current||(r.current=!0,t(...i),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current=!1},e))},[t,e])},"useDebouncedCallback");p();m();function Scn(t,e){let r=new WeakMap;return()=>{let n=t();if(n===void 0)return;let i=r.get(n);return i===void 0&&(i=e(n),r.set(n,i)),i}}o(Scn,"createUseDerivedContext");p();m();var l_=$e(Zr(),1);var Rcn=o((t,e=1e3)=>{let r=(0,l_.useRef)(void 0);return(0,l_.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),(0,l_.useCallback)(()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{r.current=void 0,t()},e)},[t,e])},"useThrottledCallback");p();m();var p7e=$e(Zr(),1);function m7e(t){(0,p7e.useEffect)(t,[])}o(m7e,"useEffectOnce");p();m();var g7e=$e(Zr(),1);function NY(t){let e=(0,g7e.useRef)(t);e.current=t,m7e(()=>()=>e.current())}o(NY,"useUnmount");p();m();var aC=$e(Zr(),1);function Dwt(t){let e=(0,aC.useRef)(void 0);return(0,aC.useEffect)(()=>{e.current=t}),e.current}o(Dwt,"usePrevious");p();m();var y7e=$e(Zr(),1);var Uwt=o(t=>(t+1)%1e6,"updateReducer");function b7e(){let[,t]=(0,y7e.useReducer)(Uwt,0);return t}o(b7e,"useUpdate");p();m();var Ol=$e(Zr(),1);function x7e(t,e=0){let r=(0,Ol.useRef)(!1),n=(0,Ol.useRef)(void 0),i=(0,Ol.useRef)(t),s=(0,Ol.useCallback)(()=>r.current,[]),a=(0,Ol.useCallback)(()=>{r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current=!0,i.current()},e)},[e]),c=(0,Ol.useCallback)(()=>{r.current=null,n.current&&clearTimeout(n.current)},[]);return(0,Ol.useEffect)(()=>{i.current=t},[t]),(0,Ol.useEffect)(()=>(a(),c),[e]),[s,c,a]}o(x7e,"useTimeoutFn");p();m();function Fwt(t=0){let e=b7e();return x7e(e,t)}o(Fwt,"useTimeout");p();m();var _7e=$e(Zr(),1);p();m();var d_=$e(Zr(),1);function v7e(t){let e=(0,d_.useRef)(0),[r,n]=(0,d_.useState)(t),i=(0,d_.useCallback)(s=>{cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{n(s)})},[]);return NY(()=>{cancelAnimationFrame(e.current)}),[r,i]}o(v7e,"useRafState");function Hwt(t){Vs()&&(typeof t!="object"||typeof t.current>"u")&&console.error("`useScroll` expects a single ref argument.");let[e,r]=v7e({x:0,y:0});return(0,_7e.useEffect)(()=>{let n=t.current,i=o(()=>{n&&r({x:n.scrollLeft,y:n.scrollTop})},"handler");return n&&n.addEventListener("scroll",i,{capture:!1,passive:!0}),()=>{n&&n.removeEventListener("scroll",i)}},[r]),e}o(Hwt,"useScroll");p();m();var k6=$e(Zr(),1);function qwt(t,e,r=["mousedown","touchstart"]){let n=(0,k6.useRef)(e);(0,k6.useEffect)(()=>{n.current=e},[e]),(0,k6.useEffect)(()=>{let i=o(s=>{let a=t.current;a&&!a.contains(s.target)&&n.current(s)},"handler");for(let s of r)document.addEventListener(s,i);return()=>{for(let s of r)document.removeEventListener(s,i)}},[t,r])}o(qwt,"useClickAway");p();m();var ib=$e(Zr(),1);var Vwt={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function jwt(){let[t,e]=(0,ib.useState)(null),[r,n]=(0,ib.useState)(Vwt),i=(0,ib.useMemo)(()=>new ResizeObserver(s=>{if(s[0]){let{x:a,y:c,width:u,height:h,top:y,left:g,bottom:S,right:T}=s[0].contentRect;n({x:a,y:c,width:u,height:h,top:y,left:g,bottom:S,right:T})}}),[]);return(0,ib.useLayoutEffect)(()=>{if(t)return i.observe(t),()=>{i.disconnect()}},[t,i]),[e,r]}o(jwt,"useMeasure");p();m();function Afn(t){return`https://www.google.com/s2/favicons?domain=${t}&sz=256`}o(Afn,"getFaviconURL");p();m();var Cfn=o((t,e)=>new wi(t).div(yg(e)),"amountToUiAmount");p();m();var Ffn=o((t,e)=>new wi(t).div(yg(e)).toString(),"amountToUiAmountString");p();m();p();m();p();m();var w7e=o(t=>{let e=t?Math.floor(Math.log10(t)):0,r=e<0?Math.pow(10,1-e):100;return Math.round(t*r)/r},"roundToTwoTrailingDecimals");var zwt=o(t=>{let e=Math.abs(t);if(e<1e3)return t;let r=Math.floor(Math.log10(e)),n=r>=6?1e5:r>=5?1e3:100;return Math.sign(t)*Math.floor(e/n)*n},"floorForDisplay"),S7e=o((t,e={})=>{let r=typeof t=="number"?t:wi(t).toNumber(),{includePlusPrefix:n=!1,prefix:i="",infix:s="",suffix:a="",extendedDecimalsForSmallNumbers:c=!1,minimumAmount:u=.01,format:h="0,0.[00]",decimalFormatSmallNumbers:y="0.[00]",roundDecimals:g=!1}=e,S=r<0?"-":"",T=n&&r>0?"+":S,O=g?w7e(Math.abs(r)):Math.abs(r);if(e.compact&&O>=1e3&&(O=Math.abs(zwt(r))),Math.abs(r)>=u||r===0){let M=Math.abs(r)>1?e.compact?"0.[00]a":h:y,k=(0,gg.default)(O).format(M);return`${i}${T}${s}${k}${a}`}else if(c){let M=new wi(O).abs().toFormat();return`${i}${T}${s}${M}${a}`}else return`${i}${T}<${s}${new wi(u).toFormat()}${a}`},"formatNumber");var run=o((t,e={})=>S7e(t,{...e,infix:"$",format:e.compact?"0.[00]a":e.format??"0,0.00",decimalFormatSmallNumbers:e.decimalFormatSmallNumbers??"0.00"}),"formatDollarAmount");p();m();var aun=o(t=>t.replace(/,|\.{2,}/g,".").replace(/^[0]+/g,"0").replace(/^\./g,"0.").replace(/[^\d.]/g,""),"formatTokenAmountInputs");p();m();var hun=o((t,e=9)=>{let r=(t.match(/\./g)||[]).length;return t.endsWith(".")&&r>1?t.substring(0,t.length-1):t.length===0||t.endsWith(".")||t.endsWith("0")?t:new wi(t).decimalPlaces(e).toString()},"formatTokenAmountToMaxDecimals");p();m();var vun=o((t,e)=>e===0?new wi(t):new wi(t).multipliedBy(yg(e)),"uiAmountToAmount");p();m();function Aun(t,e,r){let n=e.split("."),i=t;for(let s of n)if(i&&typeof i=="object"&&s in i)i=i[s];else return;return r?r(i):i}o(Aun,"getValueByPath");p();m();function Mun(t,e){return t in e}o(Mun,"hasKey");p();m();function E7e(t){return new Promise(e=>setTimeout(e,t))}o(E7e,"delayAsync");p();m();function Kwt(t,e){let r=typeof e.interval=="function"?e.interval:()=>e.interval;if(typeof t!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function i(){try{return await t()}catch(s){if(n++<e.times&&e.errorFilter(s))return await E7e(r(n-1)),i();throw s}}return o(i,"retryAttempt"),i()}o(Kwt,"retryInternal");async function $wt(t,e,r=3,n=2e3,i){return Kwt(t,{times:r,interval:i?()=>n:s=>n*Math.pow(2,s-1),errorFilter:e})}o($wt,"withRetry");p();m();var Gwt=o(async(t,e)=>new Promise((r,n)=>{let i=setTimeout(()=>{n("Promise timed out")},e);t.then(s=>{r(s),clearTimeout(i)}).catch(n)}),"withTimeout");p();m();function Wun(t,e,r){let n="...",i=e+r+n.length;if(t.length<=i)return t;let s=t.substring(0,e),a=t.substring(t.length-r);return`${s}${n}${a}`}o(Wun,"ellipsize");p();m();var Wwt=o(t=>t.replace(/\s/g,""),"removeWhitespace");p();m();function nln(t){return t.toLowerCase().replace(/(^|\s|\.)(\w)/g,(e,r,n)=>r+n.toUpperCase())}o(nln,"toTitleCase");p();m();function Ywt(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}o(Ywt,"removeDiacritics");p();m();var B6=$e(sC(),1),I7e=$e(A7e(),1),R7e=$e(T7e(),1);B6.default.extend(I7e.default);B6.default.extend(R7e.default);var gln=o(t=>{let e={Today:[],Yesterday:[],"Last Week":[],Earlier:[]};for(let r of t){let n=r.timestamp??0,i=B6.default.unix(n/1e3),s="Earlier";i.isToday()?s="Today":i.isYesterday()?s="Yesterday":i.isAfter((0,B6.default)().subtract(1,"week"))&&(s="Last Week"),e[s].push(r)}return Object.keys(e).reduce((r,n)=>({...r,[n]:e[n].sort((i,s)=>(i.timestamp==null&&(i.timestamp=0),s.timestamp==null&&(s.timestamp=0),i.timestamp<s.timestamp?1:i.timestamp>s.timestamp?-1:0)).map(i=>i.data)}),{})},"bucketByTime");p();m();var wln=V3({seconds:10}),Sln=V3({seconds:5});p();m();p();m();var O7e=o(t=>t/6e4,"msToMin");var Cln=o((t,e)=>{if(!e||e===0)return t("requireAuthImmediately");let r=O7e(e);return r===1?`1 ${t("timeUnitMinute")}`:r===60?`1 ${t("timeUnitHour")}`:r===1440?`1 ${t("timeUnitDay")}`:r>60?`${r/60} ${t("timeUnitHours")}`:`${r} ${t("timeUnitMinutes")}`},"formatLockTimer");p();m();var Dln=o((t,e)=>{let r=Math.floor(t/3600),n=Math.floor((t-r*3600)/60),i=t%60;return r>0?e("pendingTransactionEstimatedTimeHM",{hours:r,minutes:n}):n>0?e("pendingTransactionEstimatedTimeMS",{minutes:n,seconds:i}):e("pendingTransactionEstimatedTimeS",{seconds:i})},"formatSecondsAsTime");p();m();var jln=o((t,e=!1)=>{let r=rb.duration(rb().diff(rb(t))),n=[[r.years(),"y"],[r.months(),"mo"],[r.days(),"d"],[r.hours(),"h"],[r.minutes(),"m"],[r.seconds(),"s"],[r.milliseconds(),"ms"]].find(a=>a[0]!==0);if(!n)return"";let[i,s]=n;return e&&(s==="ms"||s==="s")?"< 1m":s==="ms"?"now":s==="s"?i<15?"now":"< 1m":`${i}${s}`},"formatTimestampFromNow");p();m();var Wln=o(t=>t*6e4,"minToMs");p();m();var Qln=o(t=>{if(t!=null&&!(t.constructor===Object&&Object.keys(t).length===0))return t},"toUndefined");p();m();p();m();var Xwt=/^(https?:\/\/)?(localhost(:\d+)|[\w-]+(\.[\w-]+)+(:\d+)?)(\/\S*)?/;function M7e(t){return t?Xwt.test(t):!1}o(M7e,"isValidUrl");var Zwt=["localhost","127.0.0.1"],Jwt={google:o(t=>`https://www.google.com/search?q=${t}`,"google")},fdn=o(t=>{try{let e=/^https?:\/\//i.test(t),r=M7e(t);if(r&&e)return t;if(!r)throw new Error("Query is not a valid URL");let n=e?t:`http://${t}`,i=new URL(n);if(Zwt.includes(i.hostname))return n;if(!t.includes("."))throw new Error("missing tld");return i.toString().replace(/^http:\/\//i,"https://").replace(/\/$/,"")}catch{let e=encodeURIComponent(t);return Jwt.google(e)}},"formatSearchURI");p();m();var pdn=o(({url:t,format:e})=>{if(!t)return null;!t.startsWith("http")&&t.split(".").length===2&&(t=`http://${t}`),t.startsWith("www.")&&(t=`https://${t}`),!t.startsWith("http")&&!t.startsWith("https")&&(t=`https://${t}`);try{let{hostname:r,href:n}=new URL(t);switch(e){case"hostname":return r.replace("www.","");case"root":return r.split(".").slice(-2).join(".");case"domain":return r.split(".").slice(-2)[0];case"full":return n;default:return r}}catch{return null}},"formatURL");p();m();var xdn=o(t=>{if(t)try{return new URL(t).hostname}catch{return}},"getHostname");p();m();p();m();var Qwt=["http:","https:","phantom:","solana:"],N7e=o((t,{restrictProtocols:e=!0,supportedProtocols:r=Qwt}={})=>{if(!t)return null;let n=null;if(/^https?:/i.test(t)&&!t.includes("://"))return null;let i=/^(?<specifiedProtocol>[a-zA-Z0-9-]+:)/.exec(t),s=i?.groups?.specifiedProtocol.toLowerCase();if(e&&s&&!r.includes(s))return null;try{if(n=new URL(i?t:`https://${t}`),n&&n.protocol==="http:"&&(n.protocol="https:"),n&&e&&!r.some(a=>a===n?.protocol))return null;if(n.protocol!=="http:"&&n.protocol!=="https:"&&n.protocol!=="phantom:"&&n.protocol!=="solana:"&&n.protocol!=="solana-wallet:"){let a=new URL(t.replace(n.protocol,"https:"));n=new URL(a.toString().replace(a.protocol,n.protocol))}}catch{}return n},"parseURL");var C7e={origin:void 0,hostname:void 0},Odn=o(t=>{if(!t)return C7e;let e=N7e(t,{restrictProtocols:!1});if(!e)return C7e;let r=`${e.protocol}//${e.host}`,n=e.hostname;return{origin:r,hostname:n}},"getOriginAndHostname");p();m();var eSt=["localhost","127.0.0.1"];function Bdn(t){try{let e=t.trim();if(!e||e.startsWith("//"))return!1;let r=decodeURIComponent(e),i=/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//.test(r)?r:`http://${r}`,s=new URL(i);if(s.protocol!=="http:"&&s.protocol!=="https:")return!1;let a=s.hostname.toLowerCase();return eSt.some(c=>a===c.toLowerCase())}catch{return!1}}o(Bdn,"isLocalhost");p();m();p();m();var tSt=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),LY={randomUUID:tSt};p();m();var cC,rSt=new Uint8Array(16);function DY(){if(!cC&&(cC=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!cC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cC(rSt)}o(DY,"rng");p();m();var Ps=[];for(let t=0;t<256;++t)Ps.push((t+256).toString(16).slice(1));function k7e(t,e=0){return Ps[t[e+0]]+Ps[t[e+1]]+Ps[t[e+2]]+Ps[t[e+3]]+"-"+Ps[t[e+4]]+Ps[t[e+5]]+"-"+Ps[t[e+6]]+Ps[t[e+7]]+"-"+Ps[t[e+8]]+Ps[t[e+9]]+"-"+Ps[t[e+10]]+Ps[t[e+11]]+Ps[t[e+12]]+Ps[t[e+13]]+Ps[t[e+14]]+Ps[t[e+15]]}o(k7e,"unsafeStringify");function nSt(t,e,r){if(LY.randomUUID&&!e&&!t)return LY.randomUUID();t=t||{};let n=t.random||(t.rng||DY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return k7e(n)}o(nSt,"v4");var iSt=nSt;p();m();p();m();p();m();p();m();p();m();p();m();function E9e(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}o(E9e,"number");function FY(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(FY,"bytes");function A9e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");E9e(t.outputLen),E9e(t.blockLen)}o(A9e,"hash");function h_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(h_,"exists");function T9e(t,e){FY(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(T9e,"output");p();m();p();m();var uC=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var I9e=o(t=>t instanceof Uint8Array,"u8a");var lC=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Ml=o((t,e)=>t<<32-e|t>>>e,"rotr"),v3t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!v3t)throw new Error("Non little-endian hardware is not supported");function _3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(_3t,"utf8ToBytes");function P6(t){if(typeof t=="string"&&(t=_3t(t)),!I9e(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(P6,"toBytes");function R9e(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!I9e(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(R9e,"concatBytes");var p_=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},z0n={}.toString;function O9e(t){let e=o(n=>t().update(P6(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(O9e,"wrapConstructor");function dC(t=32){if(uC&&typeof uC.getRandomValues=="function")return uC.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}o(dC,"randomBytes");function w3t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(w3t,"setBigUint64");var hC=class extends p_{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lC(this.buffer)}update(e){h_(this);let{view:r,buffer:n,blockLen:i}=this;e=P6(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=lC(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){h_(this),T9e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;w3t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=lC(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var S3t=o((t,e,r)=>t&e^~t&r,"Chi"),E3t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),A3t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xg=new Uint32Array(64),HY=class extends hC{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=bg[0]|0,this.B=bg[1]|0,this.C=bg[2]|0,this.D=bg[3]|0,this.E=bg[4]|0,this.F=bg[5]|0,this.G=bg[6]|0,this.H=bg[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)xg[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=xg[g-15],T=xg[g-2],O=Ml(S,7)^Ml(S,18)^S>>>3,M=Ml(T,17)^Ml(T,19)^T>>>10;xg[g]=M+xg[g-7]+O+xg[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=Ml(c,6)^Ml(c,11)^Ml(c,25),T=y+S+S3t(c,u,h)+A3t[g]+xg[g]|0,M=(Ml(n,2)^Ml(n,13)^Ml(n,22))+E3t(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){xg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var pC=O9e(()=>new HY);p();m();var zY={};_Z(zY,{bitGet:()=>C3t,bitLen:()=>N3t,bitMask:()=>L6,bitSet:()=>k3t,bytesToHex:()=>ob,bytesToNumberBE:()=>Ls,bytesToNumberLE:()=>yC,concatBytes:()=>B0,createHmacDrbg:()=>jY,ensureBytes:()=>Ho,equalBytes:()=>O3t,hexToBytes:()=>sb,hexToNumber:()=>VY,numberToBytesBE:()=>Nl,numberToBytesLE:()=>bC,numberToHexUnpadded:()=>C9e,numberToVarBytesBE:()=>R3t,utf8ToBytes:()=>M3t,validateObject:()=>vg});p();m();var N9e=BigInt(0),mC=BigInt(1),T3t=BigInt(2),gC=o(t=>t instanceof Uint8Array,"u8a"),I3t=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ob(t){if(!gC(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=I3t[t[r]];return e}o(ob,"bytesToHex");function C9e(t){let e=t.toString(16);return e.length&1?`0${e}`:e}o(C9e,"numberToHexUnpadded");function VY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}o(VY,"hexToNumber");function sb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}o(sb,"hexToBytes");function Ls(t){return VY(ob(t))}o(Ls,"bytesToNumberBE");function yC(t){if(!gC(t))throw new Error("Uint8Array expected");return VY(ob(Uint8Array.from(t).reverse()))}o(yC,"bytesToNumberLE");function Nl(t,e){return sb(t.toString(16).padStart(e*2,"0"))}o(Nl,"numberToBytesBE");function bC(t,e){return Nl(t,e).reverse()}o(bC,"numberToBytesLE");function R3t(t){return sb(C9e(t))}o(R3t,"numberToVarBytesBE");function Ho(t,e,r){let n;if(typeof e=="string")try{n=sb(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(gC(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}o(Ho,"ensureBytes");function B0(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!gC(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}o(B0,"concatBytes");function O3t(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(O3t,"equalBytes");function M3t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(M3t,"utf8ToBytes");function N3t(t){let e;for(e=0;t>N9e;t>>=mC,e+=1);return e}o(N3t,"bitLen");function C3t(t,e){return t>>BigInt(e)&mC}o(C3t,"bitGet");var k3t=o((t,e,r)=>t|(r?mC:N9e)<<BigInt(e),"bitSet"),L6=o(t=>(T3t<<BigInt(t-1))-mC,"bitMask"),qY=o(t=>new Uint8Array(t),"u8n"),M9e=o(t=>Uint8Array.from(t),"u8fr");function jY(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=qY(t),i=qY(t),s=0,a=o(()=>{n.fill(1),i.fill(0),s=0},"reset"),c=o((...g)=>r(i,n,...g),"h"),u=o((g=qY())=>{i=c(M9e([0]),g),n=c(),g.length!==0&&(i=c(M9e([1]),g),n=c())},"reseed"),h=o(()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,S=[];for(;g<e;){n=c();let T=n.slice();S.push(T),g+=n.length}return B0(...S)},"gen");return o((g,S)=>{a(),u(g);let T;for(;!(T=S(h()));)u();return a(),T},"genUntil")}o(jY,"createHmacDrbg");var B3t={bigint:o(t=>typeof t=="bigint","bigint"),function:o(t=>typeof t=="function","function"),boolean:o(t=>typeof t=="boolean","boolean"),string:o(t=>typeof t=="string","string"),stringOrUint8Array:o(t=>typeof t=="string"||t instanceof Uint8Array,"stringOrUint8Array"),isSafeInteger:o(t=>Number.isSafeInteger(t),"isSafeInteger"),array:o(t=>Array.isArray(t),"array"),field:o((t,e)=>e.Fp.isValid(t),"field"),hash:o(t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen),"hash")};function vg(t,e,r={}){let n=o((i,s,a)=>{let c=B3t[s];if(typeof c!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)},"checkField");for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}o(vg,"validateObject");var Vo=BigInt(0),to=BigInt(1),ab=BigInt(2),P3t=BigInt(3),KY=BigInt(4),k9e=BigInt(5),B9e=BigInt(8),L3t=BigInt(9),D3t=BigInt(16);function qo(t,e){let r=t%e;return r>=Vo?r:e+r}o(qo,"mod");function U3t(t,e,r){if(r<=Vo||e<Vo)throw new Error("Expected power/modulo > 0");if(r===to)return Vo;let n=to;for(;e>Vo;)e&to&&(n=n*t%r),t=t*t%r,e>>=to;return n}o(U3t,"pow");function xf(t,e,r){let n=t;for(;e-- >Vo;)n*=n,n%=r;return n}o(xf,"pow2");function xC(t,e){if(t===Vo||e<=Vo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=qo(t,e),n=e,i=Vo,s=to,a=to,c=Vo;for(;r!==Vo;){let h=n/r,y=n%r,g=i-a*h,S=s-c*h;n=r,r=y,i=a,s=c,a=g,c=S}if(n!==to)throw new Error("invert: does not exist");return qo(i,e)}o(xC,"invert");function F3t(t){let e=(t-to)/ab,r,n,i;for(r=t-to,n=0;r%ab===Vo;r/=ab,n++);for(i=ab;i<t&&U3t(i,e,t)!==t-to;i++);if(n===1){let a=(t+to)/KY;return o(function(u,h){let y=u.pow(h,a);if(!u.eql(u.sqr(y),h))throw new Error("Cannot find square root");return y},"tonelliFast")}let s=(r+to)/ab;return o(function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=n,y=c.pow(c.mul(c.ONE,i),r),g=c.pow(u,s),S=c.pow(u,r);for(;!c.eql(S,c.ONE);){if(c.eql(S,c.ZERO))return c.ZERO;let T=1;for(let M=c.sqr(S);T<h&&!c.eql(M,c.ONE);T++)M=c.sqr(M);let O=c.pow(y,to<<BigInt(h-T-1));y=c.sqr(O),g=c.mul(g,O),S=c.mul(S,y),h=T}return g},"tonelliSlow")}o(F3t,"tonelliShanks");function H3t(t){if(t%KY===P3t){let e=(t+to)/KY;return o(function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s},"sqrt3mod4")}if(t%B9e===k9e){let e=(t-k9e)/B9e;return o(function(n,i){let s=n.mul(i,ab),a=n.pow(s,e),c=n.mul(i,a),u=n.mul(n.mul(c,ab),a),h=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(h),i))throw new Error("Cannot find square root");return h},"sqrt5mod8")}return t%D3t,F3t(t)}o(H3t,"FpSqrt");var q3t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $Y(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=q3t.reduce((n,i)=>(n[i]="function",n),e);return vg(t,r)}o($Y,"validateField");function V3t(t,e,r){if(r<Vo)throw new Error("Expected power > 0");if(r===Vo)return t.ONE;if(r===to)return e;let n=t.ONE,i=e;for(;r>Vo;)r&to&&(n=t.mul(n,i)),i=t.sqr(i),r>>=to;return n}o(V3t,"FpPow");function j3t(t,e){let r=new Array(e.length),n=e.reduce((s,a,c)=>t.is0(a)?s:(r[c]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,c)=>t.is0(a)?s:(r[c]=t.mul(s,r[c]),t.mul(s,a)),i),r}o(j3t,"FpInvertBatch");function GY(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}o(GY,"nLength");function P9e(t,e,r=!1,n={}){if(t<=Vo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=GY(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=H3t(t),c=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:L6(i),ZERO:Vo,ONE:to,create:o(u=>qo(u,t),"create"),isValid:o(u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Vo<=u&&u<t},"isValid"),is0:o(u=>u===Vo,"is0"),isOdd:o(u=>(u&to)===to,"isOdd"),neg:o(u=>qo(-u,t),"neg"),eql:o((u,h)=>u===h,"eql"),sqr:o(u=>qo(u*u,t),"sqr"),add:o((u,h)=>qo(u+h,t),"add"),sub:o((u,h)=>qo(u-h,t),"sub"),mul:o((u,h)=>qo(u*h,t),"mul"),pow:o((u,h)=>V3t(c,u,h),"pow"),div:o((u,h)=>qo(u*xC(h,t),t),"div"),sqrN:o(u=>u*u,"sqrN"),addN:o((u,h)=>u+h,"addN"),subN:o((u,h)=>u-h,"subN"),mulN:o((u,h)=>u*h,"mulN"),inv:o(u=>xC(u,t),"inv"),sqrt:n.sqrt||(u=>a(c,u)),invertBatch:o(u=>j3t(c,u),"invertBatch"),cmov:o((u,h,y)=>y?h:u,"cmov"),toBytes:o(u=>r?bC(u,s):Nl(u,s),"toBytes"),fromBytes:o(u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?yC(u):Ls(u)},"fromBytes")});return Object.freeze(c)}o(P9e,"Field");function L9e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}o(L9e,"getFieldBytesLength");function WY(t){let e=L9e(t);return e+Math.ceil(e/2)}o(WY,"getMinHashLength");function D9e(t,e,r=!1){let n=t.length,i=L9e(e),s=WY(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=r?Ls(t):yC(t),c=qo(a,e-to)+to;return r?bC(c,i):Nl(c,i)}o(D9e,"mapHashToField");p();m();p();m();var K3t=BigInt(0),YY=BigInt(1);function U9e(t,e){let r=o((i,s)=>{let a=s.negate();return i?a:s},"constTimeNegate"),n=o(i=>{let s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}},"opts");return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,c=i;for(;s>K3t;)s&YY&&(a=a.add(c)),c=c.double(),s>>=YY;return a},precomputeWindow(i,s){let{windows:a,windowSize:c}=n(s),u=[],h=i,y=h;for(let g=0;g<a;g++){y=h,u.push(y);for(let S=1;S<c;S++)y=y.add(h),u.push(y);h=y.double()}return u},wNAF(i,s,a){let{windows:c,windowSize:u}=n(i),h=t.ZERO,y=t.BASE,g=BigInt(2**i-1),S=2**i,T=BigInt(i);for(let O=0;O<c;O++){let M=O*u,k=Number(a&g);a>>=T,k>u&&(k-=S,a+=YY);let C=M,B=M+Math.abs(k)-1,N=O%2!==0,P=k<0;k===0?y=y.add(r(N,s[C])):h=h.add(r(P,s[B]))}return{p:h,f:y}},wNAFCached(i,s,a,c){let u=i._WINDOW_SIZE||1,h=s.get(i);return h||(h=this.precomputeWindow(i,u),u!==1&&s.set(i,c(h))),this.wNAF(u,h,a)}}}o(U9e,"wNAF");function XY(t){return $Y(t.Fp),vg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}o(XY,"validateBasic");function $3t(t){let e=XY(t);vg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}o($3t,"validatePointOpts");var{bytesToNumberBE:G3t,hexToBytes:W3t}=zY,cb={Err:class extends Error{static{o(this,"DERErr")}constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=cb;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:G3t(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=cb,r=typeof t=="string"?W3t(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=cb._parseInt(r.subarray(2)),{d:a,l:c}=cb._parseInt(s);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){let e=o(h=>Number.parseInt(h[0],16)&8?"00"+h:h,"slice"),r=o(h=>{let y=h.toString(16);return y.length&1?`0${y}`:y},"h"),n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,c=r(s),u=r(a);return`30${r(a+s+4)}02${u}${i}02${c}${n}`}},P0=BigInt(0),Eu=BigInt(1),Spn=BigInt(2),F9e=BigInt(3),Epn=BigInt(4);function Y3t(t){let e=$3t(t),{Fp:r}=e,n=e.toBytes||((O,M,k)=>{let C=M.toAffine();return B0(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(O=>{let M=O.subarray(1),k=r.fromBytes(M.subarray(0,r.BYTES)),C=r.fromBytes(M.subarray(r.BYTES,2*r.BYTES));return{x:k,y:C}});function s(O){let{a:M,b:k}=e,C=r.sqr(O),B=r.mul(C,O);return r.add(r.add(B,r.mul(O,M)),k)}if(o(s,"weierstrassEquation"),!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(O){return typeof O=="bigint"&&P0<O&&O<e.n}o(a,"isWithinCurveOrder");function c(O){if(!a(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}o(c,"assertGE");function u(O){let{allowedPrivateKeyLengths:M,nByteLength:k,wrapPrivateKey:C,n:B}=e;if(M&&typeof O!="bigint"){if(O instanceof Uint8Array&&(O=ob(O)),typeof O!="string"||!M.includes(O.length))throw new Error("Invalid key");O=O.padStart(k*2,"0")}let N;try{N=typeof O=="bigint"?O:Ls(Ho("private key",O,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof O}`)}return C&&(N=qo(N,B)),c(N),N}o(u,"normPrivateKeyToScalar");let h=new Map;function y(O){if(!(O instanceof g))throw new Error("ProjectivePoint expected")}o(y,"assertPrjPoint");class g{static{o(this,"Point")}constructor(M,k,C){if(this.px=M,this.py=k,this.pz=C,M==null||!r.isValid(M))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(M){let{x:k,y:C}=M||{};if(!M||!r.isValid(k)||!r.isValid(C))throw new Error("invalid affine point");if(M instanceof g)throw new Error("projective point not allowed");let B=o(N=>r.eql(N,r.ZERO),"is0");return B(k)&&B(C)?g.ZERO:new g(k,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){let k=r.invertBatch(M.map(C=>C.pz));return M.map((C,B)=>C.toAffine(k[B])).map(g.fromAffine)}static fromHex(M){let k=g.fromAffine(i(Ho("pointHex",M)));return k.assertValidity(),k}static fromPrivateKey(M){return g.BASE.multiply(u(M))}_setWindowSize(M){this._WINDOW_SIZE=M,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:M,y:k}=this.toAffine();if(!r.isValid(M)||!r.isValid(k))throw new Error("bad point: x or y not FE");let C=r.sqr(k),B=s(M);if(!r.eql(C,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:M}=this.toAffine();if(r.isOdd)return!r.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){y(M);let{px:k,py:C,pz:B}=this,{px:N,py:P,pz:H}=M,F=r.eql(r.mul(k,H),r.mul(N,B)),Z=r.eql(r.mul(C,H),r.mul(P,B));return F&&Z}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:M,b:k}=e,C=r.mul(k,F9e),{px:B,py:N,pz:P}=this,H=r.ZERO,F=r.ZERO,Z=r.ZERO,W=r.mul(B,B),X=r.mul(N,N),E=r.mul(P,P),f=r.mul(B,N);return f=r.add(f,f),Z=r.mul(B,P),Z=r.add(Z,Z),H=r.mul(M,Z),F=r.mul(C,E),F=r.add(H,F),H=r.sub(X,F),F=r.add(X,F),F=r.mul(H,F),H=r.mul(f,H),Z=r.mul(C,Z),E=r.mul(M,E),f=r.sub(W,E),f=r.mul(M,f),f=r.add(f,Z),Z=r.add(W,W),W=r.add(Z,W),W=r.add(W,E),W=r.mul(W,f),F=r.add(F,W),E=r.mul(N,P),E=r.add(E,E),W=r.mul(E,f),H=r.sub(H,W),Z=r.mul(E,X),Z=r.add(Z,Z),Z=r.add(Z,Z),new g(H,F,Z)}add(M){y(M);let{px:k,py:C,pz:B}=this,{px:N,py:P,pz:H}=M,F=r.ZERO,Z=r.ZERO,W=r.ZERO,X=e.a,E=r.mul(e.b,F9e),f=r.mul(k,N),d=r.mul(C,P),b=r.mul(B,H),x=r.add(k,C),_=r.add(N,P);x=r.mul(x,_),_=r.add(f,d),x=r.sub(x,_),_=r.add(k,B);let A=r.add(N,H);return _=r.mul(_,A),A=r.add(f,b),_=r.sub(_,A),A=r.add(C,B),F=r.add(P,H),A=r.mul(A,F),F=r.add(d,b),A=r.sub(A,F),W=r.mul(X,_),F=r.mul(E,b),W=r.add(F,W),F=r.sub(d,W),W=r.add(d,W),Z=r.mul(F,W),d=r.add(f,f),d=r.add(d,f),b=r.mul(X,b),_=r.mul(E,_),d=r.add(d,b),b=r.sub(f,b),b=r.mul(X,b),_=r.add(_,b),f=r.mul(d,_),Z=r.add(Z,f),f=r.mul(A,_),F=r.mul(x,F),F=r.sub(F,f),f=r.mul(x,d),W=r.mul(A,W),W=r.add(W,f),new g(F,Z,W)}subtract(M){return this.add(M.negate())}is0(){return this.equals(g.ZERO)}wNAF(M){return T.wNAFCached(this,h,M,k=>{let C=r.invertBatch(k.map(B=>B.pz));return k.map((B,N)=>B.toAffine(C[N])).map(g.fromAffine)})}multiplyUnsafe(M){let k=g.ZERO;if(M===P0)return k;if(c(M),M===Eu)return this;let{endo:C}=e;if(!C)return T.unsafeLadder(this,M);let{k1neg:B,k1:N,k2neg:P,k2:H}=C.splitScalar(M),F=k,Z=k,W=this;for(;N>P0||H>P0;)N&Eu&&(F=F.add(W)),H&Eu&&(Z=Z.add(W)),W=W.double(),N>>=Eu,H>>=Eu;return B&&(F=F.negate()),P&&(Z=Z.negate()),Z=new g(r.mul(Z.px,C.beta),Z.py,Z.pz),F.add(Z)}multiply(M){c(M);let k=M,C,B,{endo:N}=e;if(N){let{k1neg:P,k1:H,k2neg:F,k2:Z}=N.splitScalar(k),{p:W,f:X}=this.wNAF(H),{p:E,f}=this.wNAF(Z);W=T.constTimeNegate(P,W),E=T.constTimeNegate(F,E),E=new g(r.mul(E.px,N.beta),E.py,E.pz),C=W.add(E),B=X.add(f)}else{let{p:P,f:H}=this.wNAF(k);C=P,B=H}return g.normalizeZ([C,B])[0]}multiplyAndAddUnsafe(M,k,C){let B=g.BASE,N=o((H,F)=>F===P0||F===Eu||!H.equals(B)?H.multiplyUnsafe(F):H.multiply(F),"mul"),P=N(this,k).add(N(M,C));return P.is0()?void 0:P}toAffine(M){let{px:k,py:C,pz:B}=this,N=this.is0();M==null&&(M=N?r.ONE:r.inv(B));let P=r.mul(k,M),H=r.mul(C,M),F=r.mul(B,M);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:P,y:H}}isTorsionFree(){let{h:M,isTorsionFree:k}=e;if(M===Eu)return!0;if(k)return k(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:M,clearCofactor:k}=e;return M===Eu?this:k?k(g,this):this.multiplyUnsafe(e.h)}toRawBytes(M=!0){return this.assertValidity(),n(g,this,M)}toHex(M=!0){return ob(this.toRawBytes(M))}}g.BASE=new g(e.Gx,e.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let S=e.nBitLength,T=U9e(g,e.endo?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:a}}o(Y3t,"weierstrassPoints");function X3t(t){let e=XY(t);return vg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}o(X3t,"validateOpts");function H9e(t){let e=X3t(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(_){return P0<_&&_<r.ORDER}o(a,"isValidFieldElement");function c(_){return qo(_,n)}o(c,"modN");function u(_){return xC(_,n)}o(u,"invN");let{ProjectivePoint:h,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:S}=Y3t({...e,toBytes(_,A,I){let v=A.toAffine(),l=r.toBytes(v.x),w=B0;return I?w(Uint8Array.from([A.hasEvenY()?2:3]),l):w(Uint8Array.from([4]),l,r.toBytes(v.y))},fromBytes(_){let A=_.length,I=_[0],v=_.subarray(1);if(A===i&&(I===2||I===3)){let l=Ls(v);if(!a(l))throw new Error("Point is not on curve");let w=g(l),V=r.sqrt(w),q=(V&Eu)===Eu;return(I&1)===1!==q&&(V=r.neg(V)),{x:l,y:V}}else if(A===s&&I===4){let l=r.fromBytes(v.subarray(0,r.BYTES)),w=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:l,y:w}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),T=o(_=>ob(Nl(_,e.nByteLength)),"numToNByteStr");function O(_){let A=n>>Eu;return _>A}o(O,"isBiggerThanHalfOrder");function M(_){return O(_)?c(-_):_}o(M,"normalizeS");let k=o((_,A,I)=>Ls(_.slice(A,I)),"slcNum");class C{static{o(this,"Signature")}constructor(A,I,v){this.r=A,this.s=I,this.recovery=v,this.assertValidity()}static fromCompact(A){let I=e.nByteLength;return A=Ho("compactSignature",A,I*2),new C(k(A,0,I),k(A,I,2*I))}static fromDER(A){let{r:I,s:v}=cb.toSig(Ho("DER",A));return new C(I,v)}assertValidity(){if(!S(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!S(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new C(this.r,this.s,A)}recoverPublicKey(A){let{r:I,s:v,recovery:l}=this,w=Z(Ho("msgHash",A));if(l==null||![0,1,2,3].includes(l))throw new Error("recovery id invalid");let V=l===2||l===3?I+e.n:I;if(V>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=l&1?"03":"02",U=h.fromHex(q+T(V)),G=u(V),ee=c(-w*G),re=c(v*G),Oe=h.BASE.multiplyAndAddUnsafe(U,ee,re);if(!Oe)throw new Error("point at infinify");return Oe.assertValidity(),Oe}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return sb(this.toDERHex())}toDERHex(){return cb.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return sb(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let B={isValidPrivateKey(_){try{return y(_),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:o(()=>{let _=WY(e.n);return D9e(e.randomBytes(_),e.n)},"randomPrivateKey"),precompute(_=8,A=h.BASE){return A._setWindowSize(_),A.multiply(BigInt(3)),A}};function N(_,A=!0){return h.fromPrivateKey(_).toRawBytes(A)}o(N,"getPublicKey");function P(_){let A=_ instanceof Uint8Array,I=typeof _=="string",v=(A||I)&&_.length;return A?v===i||v===s:I?v===2*i||v===2*s:_ instanceof h}o(P,"isProbPub");function H(_,A,I=!0){if(P(_))throw new Error("first arg must be private key");if(!P(A))throw new Error("second arg must be public key");return h.fromHex(A).multiply(y(_)).toRawBytes(I)}o(H,"getSharedSecret");let F=e.bits2int||function(_){let A=Ls(_),I=_.length*8-e.nBitLength;return I>0?A>>BigInt(I):A},Z=e.bits2int_modN||function(_){return c(F(_))},W=L6(e.nBitLength);function X(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(P0<=_&&_<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Nl(_,e.nByteLength)}o(X,"int2octets");function E(_,A,I=f){if(["recovered","canonical"].some(le=>le in I))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:l}=e,{lowS:w,prehash:V,extraEntropy:q}=I;w==null&&(w=!0),_=Ho("msgHash",_),V&&(_=Ho("prehashed msgHash",v(_)));let U=Z(_),G=y(A),ee=[X(G),X(U)];if(q!=null){let le=q===!0?l(r.BYTES):q;ee.push(Ho("extraEntropy",le))}let re=B0(...ee),Oe=U;function ae(le){let ye=F(le);if(!S(ye))return;let he=u(ye),ge=h.BASE.multiply(ye).toAffine(),lr=c(ge.x);if(lr===P0)return;let Ae=c(he*c(Oe+lr*G));if(Ae===P0)return;let Me=(ge.x===lr?0:2)|Number(ge.y&Eu),Kn=Ae;return w&&O(Ae)&&(Kn=M(Ae),Me^=1),new C(lr,Kn,Me)}return o(ae,"k2sig"),{seed:re,k2sig:ae}}o(E,"prepSig");let f={lowS:e.lowS,prehash:!1},d={lowS:e.lowS,prehash:!1};function b(_,A,I=f){let{seed:v,k2sig:l}=E(_,A,I),w=e;return jY(w.hash.outputLen,w.nByteLength,w.hmac)(v,l)}o(b,"sign"),h.BASE._setWindowSize(8);function x(_,A,I,v=d){let l=_;if(A=Ho("msgHash",A),I=Ho("publicKey",I),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:w,prehash:V}=v,q,U;try{if(typeof l=="string"||l instanceof Uint8Array)try{q=C.fromDER(l)}catch(ge){if(!(ge instanceof cb.Err))throw ge;q=C.fromCompact(l)}else if(typeof l=="object"&&typeof l.r=="bigint"&&typeof l.s=="bigint"){let{r:ge,s:lr}=l;q=new C(ge,lr)}else throw new Error("PARSE");U=h.fromHex(I)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&q.hasHighS())return!1;V&&(A=e.hash(A));let{r:G,s:ee}=q,re=Z(A),Oe=u(ee),ae=c(re*Oe),le=c(G*Oe),ye=h.BASE.multiplyAndAddUnsafe(U,ae,le)?.toAffine();return ye?c(ye.x)===G:!1}return o(x,"verify"),{CURVE:e,getPublicKey:N,getSharedSecret:H,sign:b,verify:x,ProjectivePoint:h,Signature:C,utils:B}}o(H9e,"weierstrass");p();m();p();m();var vC=class extends p_{static{o(this,"HMAC")}constructor(e,r){super(),this.finished=!1,this.destroyed=!1,A9e(e);let n=P6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return h_(this),this.iHash.update(e),this}digestInto(e){h_(this),FY(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ZY=o((t,e,r)=>new vC(t,e).update(r).digest(),"hmac");ZY.create=(t,e)=>new vC(t,e);function Z3t(t){return{hash:t,hmac:o((e,...r)=>ZY(t,e,R9e(...r)),"hmac"),randomBytes:dC}}o(Z3t,"getHash");function q9e(t,e){let r=o(n=>H9e({...t,...Z3t(n)}),"create");return Object.freeze({...r(e),create:r})}o(q9e,"createCurve");var EC=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_C=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),z9e=BigInt(1),wC=BigInt(2),V9e=o((t,e)=>(t+e/wC)/e,"divNearest");function K9e(t){let e=EC,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),h=t*t*t%e,y=h*h*t%e,g=xf(y,r,e)*y%e,S=xf(g,r,e)*y%e,T=xf(S,wC,e)*h%e,O=xf(T,i,e)*T%e,M=xf(O,s,e)*O%e,k=xf(M,c,e)*M%e,C=xf(k,u,e)*k%e,B=xf(C,c,e)*M%e,N=xf(B,r,e)*y%e,P=xf(N,a,e)*O%e,H=xf(P,n,e)*h%e,F=xf(H,wC,e);if(!QY.eql(QY.sqr(F),t))throw new Error("Cannot find square root");return F}o(K9e,"sqrtMod");var QY=P9e(EC,void 0,void 0,{sqrt:K9e}),m_=q9e({a:BigInt(0),b:BigInt(7),Fp:QY,n:_C,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o(t=>{let e=_C,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-z9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=V9e(s*t,e),u=V9e(-n*t,e),h=qo(t-c*r-u*i,e),y=qo(-c*n-u*s,e),g=h>a,S=y>a;if(g&&(h=e-h),S&&(y=e-y),h>a||y>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:S,k2:y}},"splitScalar")}},pC),AC=BigInt(0),$9e=o(t=>typeof t=="bigint"&&AC<t&&t<EC,"fe"),J3t=o(t=>typeof t=="bigint"&&AC<t&&t<_C,"ge"),j9e={};function SC(t,...e){let r=j9e[t];if(r===void 0){let n=pC(Uint8Array.from(t,i=>i.charCodeAt(0)));r=B0(n,n),j9e[t]=r}return pC(B0(r,...e))}o(SC,"taggedHash");var rX=o(t=>t.toRawBytes(!0).slice(1),"pointToBytes"),eX=o(t=>Nl(t,32),"numTo32b"),JY=o(t=>qo(t,EC),"modP"),D6=o(t=>qo(t,_C),"modN"),nX=m_.ProjectivePoint,Q3t=o((t,e,r)=>nX.BASE.multiplyAndAddUnsafe(t,e,r),"GmulAdd");function tX(t){let e=m_.utils.normPrivateKeyToScalar(t),r=nX.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:D6(-e),bytes:rX(r)}}o(tX,"schnorrGetExtPubKey");function G9e(t){if(!$9e(t))throw new Error("bad x: need 0 < x < p");let e=JY(t*t),r=JY(e*t+BigInt(7)),n=K9e(r);n%wC!==AC&&(n=JY(-n));let i=new nX(t,n,z9e);return i.assertValidity(),i}o(G9e,"lift_x");function W9e(...t){return D6(Ls(SC("BIP0340/challenge",...t)))}o(W9e,"challenge");function e6t(t){return tX(t).bytes}o(e6t,"schnorrGetPublicKey");function t6t(t,e,r=dC(32)){let n=Ho("message",t),{bytes:i,scalar:s}=tX(e),a=Ho("auxRand",r,32),c=eX(s^Ls(SC("BIP0340/aux",a))),u=SC("BIP0340/nonce",c,i,n),h=D6(Ls(u));if(h===AC)throw new Error("sign failed: k is zero");let{bytes:y,scalar:g}=tX(h),S=W9e(y,i,n),T=new Uint8Array(64);if(T.set(y,0),T.set(eX(D6(g+S*s)),32),!Y9e(T,n,i))throw new Error("sign: Invalid signature produced");return T}o(t6t,"schnorrSign");function Y9e(t,e,r){let n=Ho("signature",t,64),i=Ho("message",e),s=Ho("publicKey",r,32);try{let a=G9e(Ls(s)),c=Ls(n.subarray(0,32));if(!$9e(c))return!1;let u=Ls(n.subarray(32,64));if(!J3t(u))return!1;let h=W9e(eX(c),rX(a),i),y=Q3t(a,u,D6(-h));return!(!y||!y.hasEvenY()||y.toAffine().x!==c)}catch{return!1}}o(Y9e,"schnorrVerify");var vf={getPublicKey:e6t,sign:t6t,verify:Y9e,utils:{randomPrivateKey:m_.utils.randomPrivateKey,lift_x:G9e,pointToBytes:rX,numberToBytesBE:Nl,bytesToNumberBE:Ls,taggedHash:SC,mod:qo}};p();m();p();m();p();m();function r6t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(r6t,"isBytes");function n6t(t,...e){if(!r6t(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}o(n6t,"bytes");function iX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}o(iX,"exists");function X9e(t,e){n6t(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}o(X9e,"output");p();m();function i6t(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(i6t,"isBytes");var IC=o(t=>new DataView(t.buffer,t.byteOffset,t.byteLength),"createView"),Cl=o((t,e)=>t<<32-e|t>>>e,"rotr"),o6t=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o6t)throw new Error("Non little-endian hardware is not supported");function s6t(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}o(s6t,"utf8ToBytes");function oX(t){if(typeof t=="string"&&(t=s6t(t)),!i6t(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}o(oX,"toBytes");var TC=class{static{o(this,"Hash")}clone(){return this._cloneInto()}},tmn={}.toString;function RC(t){let e=o(n=>t().update(oX(n)).digest(),"hashC"),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}o(RC,"wrapConstructor");function a6t(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),c=Number(r&s),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,c,n)}o(a6t,"setBigUint64");var g_=class extends TC{static{o(this,"SHA2")}constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=IC(this.buffer)}update(e){iX(this);let{view:r,buffer:n,blockLen:i}=this;e=oX(e);let s=e.length;for(let a=0;a<s;){let c=Math.min(i-this.pos,s-a);if(c===i){let u=IC(e);for(;i<=s-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){iX(this),X9e(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let g=a;g<i;g++)r[g]=0;a6t(n,i-8,BigInt(this.length*8),s),this.process(n,0);let c=IC(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,y=this.get();if(h>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)c.setUint32(4*g,y[g],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};var c6t=o((t,e,r)=>t&e^~t&r,"Chi"),f6t=o((t,e,r)=>t&e^t&r^e&r,"Maj"),u6t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_g=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wg=new Uint32Array(64),sX=class extends g_{static{o(this,"SHA256")}constructor(){super(64,32,8,!1),this.A=_g[0]|0,this.B=_g[1]|0,this.C=_g[2]|0,this.D=_g[3]|0,this.E=_g[4]|0,this.F=_g[5]|0,this.G=_g[6]|0,this.H=_g[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:c,H:u}=this;return[e,r,n,i,s,a,c,u]}set(e,r,n,i,s,a,c,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)wg[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){let S=wg[g-15],T=wg[g-2],O=Cl(S,7)^Cl(S,18)^S>>>3,M=Cl(T,17)^Cl(T,19)^T>>>10;wg[g]=M+wg[g-7]+O+wg[g-16]|0}let{A:n,B:i,C:s,D:a,E:c,F:u,G:h,H:y}=this;for(let g=0;g<64;g++){let S=Cl(c,6)^Cl(c,11)^Cl(c,25),T=y+S+c6t(c,u,h)+u6t[g]+wg[g]|0,M=(Cl(n,2)^Cl(n,13)^Cl(n,22))+f6t(n,i,s)|0;y=h,h=u,u=c,c=a+T|0,a=s,s=i,i=n,n=T+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,y=y+this.H|0,this.set(n,i,s,a,c,u,h,y)}roundClean(){wg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Au=RC(()=>new sX);p();m();var l6t=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),J9e=Uint8Array.from({length:16},(t,e)=>e),d6t=J9e.map(t=>(9*t+5)%16),cX=[J9e],fX=[d6t];for(let t=0;t<4;t++)for(let e of[cX,fX])e.push(e[t].map(r=>l6t[r]));var Q9e=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),h6t=cX.map((t,e)=>t.map(r=>Q9e[e][r])),p6t=fX.map((t,e)=>t.map(r=>Q9e[e][r])),m6t=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),g6t=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),OC=o((t,e)=>t<<e|t>>>32-e,"rotl");function Z9e(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}o(Z9e,"f");var MC=new Uint32Array(16),aX=class extends g_{static{o(this,"RIPEMD160")}constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let T=0;T<16;T++,r+=4)MC[T]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,a=s,c=this.h2|0,u=c,h=this.h3|0,y=h,g=this.h4|0,S=g;for(let T=0;T<5;T++){let O=4-T,M=m6t[T],k=g6t[T],C=cX[T],B=fX[T],N=h6t[T],P=p6t[T];for(let H=0;H<16;H++){let F=OC(n+Z9e(T,s,c,h)+MC[C[H]]+M,N[H])+g|0;n=g,g=h,h=OC(c,10)|0,c=s,s=F}for(let H=0;H<16;H++){let F=OC(i+Z9e(O,a,u,y)+MC[B[H]]+k,P[H])+S|0;i=S,S=y,y=OC(u,10)|0,u=a,a=F}}this.set(this.h1+c+y|0,this.h2+h+S|0,this.h3+g+i|0,this.h4+n+a|0,this.h0+s+u|0)}roundClean(){MC.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},eOe=RC(()=>new aX);p();m();function y_(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}o(y_,"assertNumber");function NC(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}o(NC,"isBytes");function kC(...t){let e=o(s=>s,"id"),r=o((s,a)=>c=>s(a(c)),"wrap"),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}o(kC,"chain");function dX(t){return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})},"decode")}}o(dX,"alphabet");function hX(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},"encode"),decode:o(e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)},"decode")}}o(hX,"join");function y6t(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:o(e=>e,"encode"),decode:o(e=>t(e),"decode")}}o(y6t,"normalize");function tOe(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(a=>{if(a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,c=!0;for(let u=n;u<s.length;u++){let h=s[u],y=e*a+h;if(!Number.isSafeInteger(y)||e*a/e!==a||y-h!==e*a)throw new Error("convertRadix: carry overflow");a=y%r;let g=Math.floor(y/r);if(s[u]=g,!Number.isSafeInteger(g)||g*r+a!==y)throw new Error("convertRadix: carry overflow");if(c)g?c=!1:n=u;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}o(tOe,"convertRadix");var oOe=o((t,e)=>e?oOe(e,t%e):t,"gcd"),CC=o((t,e)=>t+(e-oOe(t,e)),"radix2carry");function uX(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(CC(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${CC(e,r)}`);let i=0,s=0,a=2**r-1,c=[];for(let u of t){if(u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}o(uX,"convertRadix2");function b6t(t){return{encode:o(e=>{if(!NC(e))throw new Error("radix.encode input should be Uint8Array");return tOe(Array.from(e),2**8,t)},"encode"),decode:o(e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(tOe(e,t,2**8))},"decode")}}o(b6t,"radix");function sOe(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(CC(8,t)>32||CC(t,8)>32)throw new Error("radix2: carry overflow");return{encode:o(r=>{if(!NC(r))throw new Error("radix2.encode input should be Uint8Array");return uX(Array.from(r),8,t,!e)},"encode"),decode:o(r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(uX(r,t,8,e))},"decode")}}o(sOe,"radix2");function rOe(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}o(rOe,"unsafeWrapper");function x6t(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!NC(r))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!NC(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let a=0;a<t;a++)if(i[a]!==s[a])throw new Error("Invalid checksum");return n}}}o(x6t,"checksum");var v6t=o(t=>kC(b6t(58),dX(t),hX("")),"genBase58"),_6t=v6t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var w6t=o(t=>kC(x6t(4,e=>t(t(e))),_6t),"createBase58check"),aOe=w6t,lX=kC(dX("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),hX("")),nOe=[996825010,642813549,513874426,1027748829,705979059];function U6(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<nOe.length;n++)(e>>n&1)===1&&(r^=nOe[n]);return r}o(U6,"bech32Polymod");function iOe(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let a=t.charCodeAt(s);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);i=U6(i)^a>>5}i=U6(i);for(let s=0;s<n;s++)i=U6(i)^t.charCodeAt(s)&31;for(let s of e)i=U6(i)^s;for(let s=0;s<6;s++)i=U6(i);return i^=r,lX.encode(uX([i%2**30],30,5,!1))}o(iOe,"bechChecksum");function cOe(t){let e=t==="bech32"?1:734539939,r=sOe(5),n=r.decode,i=r.encode,s=rOe(n);function a(y,g,S=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);if(y.length===0)throw new TypeError(`Invalid prefix length ${y.length}`);let T=y.length+7+g.length;if(S!==!1&&T>S)throw new TypeError(`Length ${T} exceeds limit ${S}`);let O=y.toLowerCase(),M=iOe(O,g,e);return`${O}1${lX.encode(g)}${M}`}o(a,"encode");function c(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);let S=y.toLowerCase();if(y!==S&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");let T=S.lastIndexOf("1");if(T===0||T===-1)throw new Error('Letter "1" must be present between prefix and data only');let O=S.slice(0,T),M=S.slice(T+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");let k=lX.decode(M).slice(0,-6),C=iOe(O,k,e);if(!M.endsWith(C))throw new Error(`Invalid checksum in ${y}: expected "${C}"`);return{prefix:O,words:k}}o(c,"decode");let u=rOe(c);function h(y){let{prefix:g,words:S}=c(y,!1);return{prefix:g,words:S,bytes:n(S)}}return o(h,"decodeToBytes"),{encode:a,decode:c,decodeToBytes:h,decodeUnsafe:u,fromWords:n,fromWordsUnsafe:s,toWords:i}}o(cOe,"genBech32");var BC=cOe("bech32"),pX=cOe("bech32m"),mX={encode:o(t=>new TextDecoder().decode(t),"encode"),decode:o(t=>new TextEncoder().encode(t),"decode")},Vi=kC(sOe(4),dX("0123456789abcdef"),hX(""),y6t(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));p();m();var ji=new Uint8Array,HC=new Uint8Array([0]);function _i(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}o(_i,"equalBytes");function PC(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}o(PC,"concatBytes");var _f=o(t=>t instanceof Uint8Array,"isBytes"),LC=class{static{o(this,"Reader")}constructor(e,r=[],n=[]){this.data=e,this.path=r,this.fieldPath=n,this.pos=0,this.hasPtr=!1,this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Reader(${this.fieldPath.join("/")}): ${e}`)}absBytes(e){if(e>this.data.length)throw new Error("absBytes: Unexpected end of buffer");return this.data.subarray(e)}bytes(e,r=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(e))throw this.err(`readBytes: wrong length=${e}`);if(this.pos+e>this.data.length)throw this.err("readBytes: Unexpected end of buffer");let n=this.data.subarray(this.pos,this.pos+e);return r||(this.pos+=e),n}byte(e=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");return this.data[e?this.pos:this.pos++]}get leftBytes(){return this.data.length-this.pos}isEnd(){return this.pos>=this.data.length&&!this.bitPos}length(e){let r;if(Sg(e)?r=Number(e.decodeStream(this)):typeof e=="number"?r=e:typeof e=="string"&&(r=FC(this.path,e.split("/"))),typeof r=="bigint"&&(r=Number(r)),typeof r!="number")throw this.err(`Wrong length: ${r}`);return r}bits(e){if(e>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let r=0;for(;e;){this.bitPos||(this.bitBuf=this.data[this.pos++],this.bitPos=8);let n=Math.min(e,this.bitPos);this.bitPos-=n,r=r<<n|this.bitBuf>>this.bitPos&2**n-1,this.bitBuf&=2**this.bitPos-1,e-=n}return r>>>0}find(e,r=this.pos){if(!_f(e))throw this.err(`find: needle is not bytes! ${e}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!e.length)throw this.err("find: needle is empty");for(let n=r;(n=this.data.indexOf(e[0],n))!==-1;n++){if(n===-1||this.data.length-n<e.length)return;if(_i(e,this.data.subarray(n,n+e.length)))return n}}finish(){if(!(this.isEnd()||this.hasPtr))throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${Vi.encode(this.data.slice(this.pos))}`)}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},DC=class{static{o(this,"Writer")}constructor(e=[],r=[]){this.path=e,this.fieldPath=r,this.buffers=[],this.pos=0,this.ptrs=[],this.bitBuf=0,this.bitPos=0}err(e){return new Error(`Writer(${this.fieldPath.join("/")}): ${e}`)}bytes(e){if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(e),this.pos+=e.length}byte(e){if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([e])),this.pos++}get buffer(){if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");let e=PC(...this.buffers);for(let r of this.ptrs){let n=e.length;e=PC(e,r.buffer);let i=r.ptr.encode(n);for(let s=0;s<i.length;s++)e[r.pos+s]=i[s]}return e}length(e,r){if(e===null)return;if(Sg(e))return e.encodeStream(this,r);let n;if(typeof e=="number"?n=e:typeof e=="string"&&(n=FC(this.path,e.split("/"))),typeof n=="bigint"&&(n=Number(n)),n===void 0||n!==r)throw this.err(`Wrong length: ${n} len=${e} exp=${r}`)}bits(e,r){if(r>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(e>=2**r)throw this.err(`writeBits: value (${e}) >= 2**bits (${r})`);for(;r;){let n=Math.min(r,8-this.bitPos);this.bitBuf=this.bitBuf<<n|e>>r-n,this.bitPos+=n,r-=n,e&=2**r-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}fieldPathPush(e){this.fieldPath.push(e)}fieldPathPop(){this.fieldPath.pop()}},UC=o(t=>Uint8Array.from(t).reverse(),"swap");function fOe(t,e,r,n){if(n){let i=2n**(r-1n);if(e<-i||e>=i)throw t.err("sInt: value out of bounds")}else if(0n>e||e>=2n**r)throw t.err("uInt: value out of bounds")}o(fOe,"checkBounds");function jo(t){return{...t,encode:o(e=>{let r=new DC;return t.encodeStream(r,e),r.buffer},"encode"),decode:o(e=>{let r=new LC(e),n=t.decodeStream(r);return r.finish(),n},"decode")}}o(jo,"wrap");function FC(t,e){t=Array.from(t);let r=0;for(;r<e.length&&e[r]==="..";r++)t.pop();let n=t.pop();for(;r<e.length;r++){if(!n||n[e[r]]===void 0)return;n=n[e[r]]}return n}o(FC,"getPath");function Sg(t){return typeof t.encode=="function"&&typeof t.encodeStream=="function"&&typeof t.decode=="function"&&typeof t.decodeStream=="function"}o(Sg,"isCoder");function E6t(){return{encode:o(t=>{let e={};for(let[r,n]of t){if(e[r]!==void 0)throw new Error(`coders.dict: same key(${r}) appears twice in struct`);e[r]=n}return e},"encode"),decode:o(t=>Object.entries(t),"decode")}}o(E6t,"dict");var A6t={encode:o(t=>{if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`coders.number: element bigger than MAX_SAFE_INTEGER=${t}`);return Number(t)},"encode"),decode:o(t=>BigInt(t),"decode")};function T6t(t){return{encode:o(e=>t[e],"encode"),decode:o(e=>t[e],"decode")}}o(T6t,"tsEnum");function I6t(t){let e=10n**BigInt(t);return{encode:o(r=>{let n=(r<0n?-r:r).toString(10),i=n.length-t;i<0&&(n=n.padStart(n.length-i,"0"),i=0);let s=n.length-1;for(;s>=i&&n[s]==="0";s--);let[a,c]=[n.slice(0,i),n.slice(i,s+1)];return a||(a="0"),r<0n&&(a="-"+a),c?`${a}.${c}`:a},"encode"),decode:o(r=>{let n=!1;r.startsWith("-")&&(n=!0,r=r.slice(1));let i=r.indexOf(".");i=i===-1?r.length:i;let[s,a]=[r.slice(0,i),r.slice(i+1)],c=BigInt(s)*e,u=Math.min(a.length,t),h=BigInt(a.slice(0,u))*10n**BigInt(t-u),y=c+h;return n?-y:y},"decode")}}o(I6t,"decimal");function R6t(t){return{encode:o(e=>{for(let r of t){let n=r.encode(e);if(n!==void 0)return n}throw new Error(`match/encode: cannot find match in ${e}`)},"encode"),decode:o(e=>{for(let r of t){let n=r.decode(e);if(n!==void 0)return n}throw new Error(`match/decode: cannot find match in ${e}`)},"decode")}}o(R6t,"match");var b_={dict:E6t,number:A6t,tsEnum:T6t,decimal:I6t,match:R6t};var wf=o((t,e=!1,r=!1)=>jo({size:t,encodeStream:o((n,i)=>{if(typeof i!="number"&&typeof i!="bigint")throw n.err(`bigint: invalid value: ${i}`);let s=BigInt(i),a=BigInt(t);fOe(n,s,8n*a,!!r);let c=2n**(8n*a-1n);r&&s<0&&(s=s|c);let u=[];for(let y=0;y<t;y++)u.push(Number(s&255n)),s>>=8n;let h=new Uint8Array(u).reverse();n.bytes(e?h.reverse():h)},"encodeStream"),decodeStream:o(n=>{let i=BigInt(t),s=n.bytes(t);e&&(s=UC(s));let a=UC(s),c=2n**(8n*i-1n),u=0n;for(let h=0;h<a.length;h++)u|=BigInt(a[h])<<8n*BigInt(h);return r&&u&c&&(u=(u^c)-c),fOe(n,u,8n*i,!!r),u},"decodeStream")}),"bigint"),Mmn=wf(32,!0),uOe=wf(32,!1),Nmn=wf(32,!0,!0),Cmn=wf(32,!1,!0),kmn=wf(16,!0),Bmn=wf(16,!1),Pmn=wf(16,!0,!0),Lmn=wf(16,!1,!0),F6=wf(8,!0),Dmn=wf(8,!1),lOe=wf(8,!0,!0),Umn=wf(8,!1,!0),ch=o((t,e=!1,r=!1)=>{if(t>6)throw new Error("int supports size up to 6 bytes (48 bits), for other use bigint");return q6(wf(t,e,r),b_.number)},"int"),Jn=ch(4,!0),dOe=ch(4,!1),x_=ch(4,!0,!0),Fmn=ch(4,!1,!0),gX=ch(2,!0),Hmn=ch(2,!1),qmn=ch(2,!0,!0),Vmn=ch(2,!1,!0),L0=ch(1,!1),jmn=ch(1,!1,!0),zmn=jo({size:1,encodeStream:o((t,e)=>t.byte(e?1:0),"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e!==0&&e!==1)throw t.err(`bool: invalid value ${e}`);return e===1},"decodeStream")}),Oi=o((t,e=!1)=>jo({size:typeof t=="number"?t:void 0,encodeStream:o((r,n)=>{if(!_f(n))throw r.err(`bytes: invalid value ${n}`);_f(t)||r.length(t,n.length),r.bytes(e?UC(n):n),_f(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n;if(_f(t)){let i=r.find(t);if(!i)throw r.err("bytes: cannot find terminator");n=r.bytes(i-r.pos),r.bytes(t.length)}else n=r.bytes(t===null?r.leftBytes:r.length(t));return e?UC(n):n},"decodeStream")}),"bytes"),H6=o((t,e=!1)=>{let r=Oi(t,e);return jo({size:r.size,encodeStream:o((n,i)=>r.encodeStream(n,mX.decode(i)),"encodeStream"),decodeStream:o(n=>mX.encode(r.decodeStream(n)),"decodeStream")})},"string"),Kmn=H6(HC),hOe=o((t,e=!1,r=!1)=>{let n=Oi(t,e);return jo({size:n.size,encodeStream:o((i,s)=>{if(r&&!s.startsWith("0x"))throw new Error("hex(withZero=true).encode input should start with 0x");let a=Vi.decode(r?s.slice(2):s);return n.encodeStream(i,a)},"encodeStream"),decodeStream:o(i=>(r?"0x":"")+Vi.encode(n.decodeStream(i)),"decodeStream")})},"hex");function q6(t,e){if(!Sg(t))throw new Error(`apply: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((r,n)=>{let i;try{i=e.decode(n)}catch(s){throw r.err(""+s)}return t.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=t.decodeStream(r);try{return e.encode(n)}catch(i){throw r.err(""+i)}},"decodeStream")})}o(q6,"apply");function Tu(t,e){if(!Sg(t))throw new Error(`validate: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((r,n)=>t.encodeStream(r,e(n)),"encodeStream"),decodeStream:o(r=>e(t.decodeStream(r)),"decodeStream")})}o(Tu,"validate");var pOe=o((t,e=!1)=>jo({size:t.length,encodeStream:o((r,n)=>{!!n!==e&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes>=t.length;return n&&(n=_i(r.bytes(t.length,!0),t),n&&r.bytes(t.length)),n!==e},"decodeStream")}),"flag");function mOe(t,e,r){if(!Sg(e))throw new Error(`flagged: invalid inner value ${e}`);return jo({encodeStream:o((n,i)=>{typeof t=="string"?FC(n.path,t.split("/"))?e.encodeStream(n,i):r&&e.encodeStream(n,r):(t.encodeStream(n,!!i),i?e.encodeStream(n,i):r&&e.encodeStream(n,r))},"encodeStream"),decodeStream:o(n=>{let i=!1;if(typeof t=="string"?i=FC(n.path,t.split("/")):i=t.decodeStream(n),i)return e.decodeStream(n);r&&e.decodeStream(n)},"decodeStream")})}o(mOe,"flagged");function V6(t,e,r=!0){if(!Sg(t))throw new Error(`flagged: invalid inner value ${t}`);return jo({size:t.size,encodeStream:o((n,i)=>t.encodeStream(n,e),"encodeStream"),decodeStream:o(n=>{let i=t.decodeStream(n);if(r&&typeof i!="object"&&i!==e||_f(e)&&!_i(e,i))throw n.err(`magic: invalid value: ${i} !== ${e}`)},"decodeStream")})}o(V6,"magic");function gOe(t){let e=0;for(let r of t){if(!r.size)return;e+=r.size}return e}o(gOe,"sizeof");function Ra(t){if(Array.isArray(t))throw new Error("Packed.Struct: got array instead of object");return jo({size:gOe(Object.values(t)),encodeStream:o((e,r)=>{if(typeof r!="object"||r===null)throw e.err(`struct: invalid value ${r}`);e.path.push(r);for(let n in t)e.fieldPathPush(n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r={};e.path.push(r);for(let n in t)e.fieldPathPush(n),r[n]=t[n].decodeStream(e),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(Ra,"struct");function yOe(t){if(!Array.isArray(t))throw new Error(`Packed.Tuple: got ${typeof t} instead of array`);return jo({size:gOe(t),encodeStream:o((e,r)=>{if(!Array.isArray(r))throw e.err(`tuple: invalid value ${r}`);e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),t[n].encodeStream(e,r[n]),e.fieldPathPop();e.path.pop()},"encodeStream"),decodeStream:o(e=>{let r=[];e.path.push(r);for(let n=0;n<t.length;n++)e.fieldPathPush(""+n),r.push(t[n].decodeStream(e)),e.fieldPathPop();return e.path.pop(),r},"decodeStream")})}o(yOe,"tuple");function bOe(t,e){if(!Sg(e))throw new Error(`prefix: invalid inner value ${e}`);if(_f(t))throw new Error("prefix: len cannot be Uint8Array");let r=Oi(t);return jo({size:typeof t=="number"?t:void 0,encodeStream:o((n,i)=>{let s=new DC(n.path,n.fieldPath);e.encodeStream(s,i),r.encodeStream(n,s.buffer)},"encodeStream"),decodeStream:o(n=>{let i=r.decodeStream(n);return e.decodeStream(new LC(i,n.path,n.fieldPath))},"decodeStream")})}o(bOe,"prefix");function ec(t,e){if(!Sg(e))throw new Error(`array: invalid inner value ${e}`);return jo({size:typeof t=="number"&&e.size?t*e.size:void 0,encodeStream:o((r,n)=>{if(!Array.isArray(n))throw r.err(`array: invalid value ${n}`);_f(t)||r.length(t,n.length),r.path.push(n);for(let i=0;i<n.length;i++){r.fieldPathPush(""+i);let s=n[i],a=r.pos;if(e.encodeStream(r,s),_f(t)){if(t.length>r.pos-a)continue;let c=r.buffer.subarray(a,r.pos);if(_i(c.subarray(0,t.length),t))throw r.err(`array: inner element encoding same as separator. elm=${s} data=${c}`)}r.fieldPathPop()}r.path.pop(),_f(t)&&r.bytes(t)},"encodeStream"),decodeStream:o(r=>{let n=[];if(t===null){let i=0;for(r.path.push(n);!r.isEnd()&&(r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop(),!(e.size&&r.leftBytes<e.size)););r.path.pop()}else if(_f(t)){let i=0;for(r.path.push(n);;){if(_i(r.bytes(t.length,!0),t)){r.bytes(t.length);break}r.fieldPathPush(""+i++),n.push(e.decodeStream(r)),r.fieldPathPop()}r.path.pop()}else{r.fieldPathPush("arrayLen");let i=r.length(t);r.fieldPathPop(),r.path.push(n);for(let s=0;s<i;s++)r.fieldPathPush(""+s),n.push(e.decodeStream(r)),r.fieldPathPop();r.path.pop()}return n},"decodeStream")})}o(ec,"array");var $mn=V6(Oi(0),ji);var{ProjectivePoint:YC,sign:xOe,getPublicKey:M6t}=m_,zC=m_.CURVE.n,z6=o((t,e)=>t===void 0?e:t,"def"),Ni=_f,XC=o(t=>eOe(Au(t)),"hash160"),Eg=o((...t)=>Au(Au(Ag(...t))),"sha256x2"),Ag=PC,kOe=aOe(Au);function KC(t){if(Array.isArray(t))return t.map(e=>KC(e));if(t instanceof Uint8Array)return Uint8Array.from(t);if(["number","bigint","boolean","string","undefined"].includes(typeof t))return t;if(t===null)return t;if(typeof t=="object")return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,KC(r)]));throw new Error(`cloneDeep: unknown type=${t} (${typeof t})`)}o(KC,"cloneDeep");var Ma;(function(t){t[t.ecdsa=0]="ecdsa",t[t.schnorr=1]="schnorr"})(Ma||(Ma={}));function S_(t,e){let r=t.length;if(e===Ma.ecdsa){if(r===32)throw new Error("Expected non-Schnorr key");return YC.fromHex(t),t}else if(e===Ma.schnorr){if(r!==32)throw new Error("Expected 32-byte Schnorr key");return vf.utils.lift_x(vf.utils.bytesToNumberBE(t)),t}else throw new Error("Unknown key type")}o(S_,"validatePubkey");function ub(t,e){try{return S_(t,e),!0}catch{return!1}}o(ub,"isValidPubkey");var vOe=o(t=>t.r<zC/2n,"hasLowR");function N6t(t,e,r=!1){let n=xOe(t,e);if(r&&!vOe(n)){let i=new Uint8Array(32);for(let s=0;s<Number.MAX_SAFE_INTEGER&&(i.set(Jn.encode(s)),n=xOe(t,e,{extraEntropy:i}),!vOe(n));s++);}return n.toDERRawBytes()}o(N6t,"signECDSA");function BOe(t,e){let r=vf.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=zC)throw new Error("tweak higher than curve order");return i}o(BOe,"tapTweak");function C6t(t,e=new Uint8Array){let r=vf.utils,n=r.bytesToNumberBE(t),i=YC.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,zC),a=r.pointToBytes(i),c=BOe(a,e);return r.numberToBytesBE(r.mod(s+c,zC),32)}o(C6t,"taprootTweakPrivKey");function POe(t,e){let r=vf.utils,n=BOe(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(YC.fromPrivateKey(n)),a=s.hasEvenY()?0:1;return[r.pointToBytes(s),a]}o(POe,"taprootTweakPubkey");var _X=Tu(Oi(null),t=>S_(t,Ma.ecdsa)),$C=Tu(Oi(32),t=>S_(t,Ma.schnorr)),_Oe=Tu(Oi(null),t=>{if(t.length!==64&&t.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return t});var E_={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128};var k6t=8,B6t=2,fb=0,LOe=4294967295,qC=new Uint8Array(32),egn=b_.decimal(k6t);function wX(t,e){if(!Ni(t)||!Ni(e))throw new Error(`cmp: wrong type a=${typeof t} b=${typeof e}`);let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!=e[n])return Math.sign(t[n]-e[n]);return Math.sign(t.length-e.length)}o(wX,"_cmpBytes");var zo;(function(t){t[t.OP_0=0]="OP_0",t[t.PUSHDATA1=76]="PUSHDATA1",t[t.PUSHDATA2=77]="PUSHDATA2",t[t.PUSHDATA4=78]="PUSHDATA4",t[t["1NEGATE"]=79]="1NEGATE",t[t.RESERVED=80]="RESERVED",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.NOP=97]="NOP",t[t.VER=98]="VER",t[t.IF=99]="IF",t[t.NOTIF=100]="NOTIF",t[t.VERIF=101]="VERIF",t[t.VERNOTIF=102]="VERNOTIF",t[t.ELSE=103]="ELSE",t[t.ENDIF=104]="ENDIF",t[t.VERIFY=105]="VERIFY",t[t.RETURN=106]="RETURN",t[t.TOALTSTACK=107]="TOALTSTACK",t[t.FROMALTSTACK=108]="FROMALTSTACK",t[t["2DROP"]=109]="2DROP",t[t["2DUP"]=110]="2DUP",t[t["3DUP"]=111]="3DUP",t[t["2OVER"]=112]="2OVER",t[t["2ROT"]=113]="2ROT",t[t["2SWAP"]=114]="2SWAP",t[t.IFDUP=115]="IFDUP",t[t.DEPTH=116]="DEPTH",t[t.DROP=117]="DROP",t[t.DUP=118]="DUP",t[t.NIP=119]="NIP",t[t.OVER=120]="OVER",t[t.PICK=121]="PICK",t[t.ROLL=122]="ROLL",t[t.ROT=123]="ROT",t[t.SWAP=124]="SWAP",t[t.TUCK=125]="TUCK",t[t.CAT=126]="CAT",t[t.SUBSTR=127]="SUBSTR",t[t.LEFT=128]="LEFT",t[t.RIGHT=129]="RIGHT",t[t.SIZE=130]="SIZE",t[t.INVERT=131]="INVERT",t[t.AND=132]="AND",t[t.OR=133]="OR",t[t.XOR=134]="XOR",t[t.EQUAL=135]="EQUAL",t[t.EQUALVERIFY=136]="EQUALVERIFY",t[t.RESERVED1=137]="RESERVED1",t[t.RESERVED2=138]="RESERVED2",t[t["1ADD"]=139]="1ADD",t[t["1SUB"]=140]="1SUB",t[t["2MUL"]=141]="2MUL",t[t["2DIV"]=142]="2DIV",t[t.NEGATE=143]="NEGATE",t[t.ABS=144]="ABS",t[t.NOT=145]="NOT",t[t["0NOTEQUAL"]=146]="0NOTEQUAL",t[t.ADD=147]="ADD",t[t.SUB=148]="SUB",t[t.MUL=149]="MUL",t[t.DIV=150]="DIV",t[t.MOD=151]="MOD",t[t.LSHIFT=152]="LSHIFT",t[t.RSHIFT=153]="RSHIFT",t[t.BOOLAND=154]="BOOLAND",t[t.BOOLOR=155]="BOOLOR",t[t.NUMEQUAL=156]="NUMEQUAL",t[t.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",t[t.NUMNOTEQUAL=158]="NUMNOTEQUAL",t[t.LESSTHAN=159]="LESSTHAN",t[t.GREATERTHAN=160]="GREATERTHAN",t[t.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",t[t.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",t[t.MIN=163]="MIN",t[t.MAX=164]="MAX",t[t.WITHIN=165]="WITHIN",t[t.RIPEMD160=166]="RIPEMD160",t[t.SHA1=167]="SHA1",t[t.SHA256=168]="SHA256",t[t.HASH160=169]="HASH160",t[t.HASH256=170]="HASH256",t[t.CODESEPARATOR=171]="CODESEPARATOR",t[t.CHECKSIG=172]="CHECKSIG",t[t.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",t[t.CHECKMULTISIG=174]="CHECKMULTISIG",t[t.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",t[t.NOP1=176]="NOP1",t[t.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",t[t.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",t[t.NOP4=179]="NOP4",t[t.NOP5=180]="NOP5",t[t.NOP6=181]="NOP6",t[t.NOP7=182]="NOP7",t[t.NOP8=183]="NOP8",t[t.NOP9=184]="NOP9",t[t.NOP10=185]="NOP10",t[t.CHECKSIGADD=186]="CHECKSIGADD",t[t.INVALID=255]="INVALID"})(zo||(zo={}));var Oa=jo({encodeStream:o((t,e)=>{for(let r of e){if(typeof r=="string"){if(zo[r]===void 0)throw new Error(`Unknown opcode=${r}`);t.byte(zo[r]);continue}else if(typeof r=="number"){if(r===0){t.byte(0);continue}else if(1<=r&&r<=16){t.byte(zo.OP_1-1+r);continue}}if(typeof r=="number"&&(r=DOe().encode(BigInt(r))),!Ni(r))throw new Error(`Wrong Script OP=${r} (${typeof r})`);let n=r.length;n<zo.PUSHDATA1?t.byte(n):n<=255?(t.byte(zo.PUSHDATA1),t.byte(n)):n<=65535?(t.byte(zo.PUSHDATA2),t.bytes(gX.encode(n))):(t.byte(zo.PUSHDATA4),t.bytes(Jn.encode(n))),t.bytes(r)}},"encodeStream"),decodeStream:o(t=>{let e=[];for(;!t.isEnd();){let r=t.byte();if(zo.OP_0<r&&r<=zo.PUSHDATA4){let n;if(r<zo.PUSHDATA1)n=r;else if(r===zo.PUSHDATA1)n=L0.decodeStream(t);else if(r===zo.PUSHDATA2)n=gX.decodeStream(t);else if(r===zo.PUSHDATA4)n=Jn.decodeStream(t);else throw new Error("Should be not possible");e.push(t.bytes(n))}else if(r===0)e.push(0);else if(zo.OP_1<=r&&r<=zo.OP_16)e.push(r-(zo.OP_1-1));else{let n=zo[r];if(n===void 0)throw new Error(`Unknown opcode=${r.toString(16)}`);e.push(n)}}return e},"decodeStream")});function DOe(t=6,e=!1){return jo({encodeStream:o((r,n)=>{if(n===0n)return;let i=n<0,s=BigInt(n),a=[];for(let c=i?-s:s;c;c>>=8n)a.push(Number(c&0xffn));a[a.length-1]>=128?a.push(i?128:0):i&&(a[a.length-1]|=128),r.bytes(new Uint8Array(a))},"encodeStream"),decodeStream:o(r=>{let n=r.leftBytes;if(n>t)throw new Error(`ScriptNum: number (${n}) bigger than limit=${t}`);if(n===0)return 0n;if(e&&!(r.data[n-1]&127)&&(n<=1||!(r.data[n-2]&128)))throw new Error("Non-minimally encoded ScriptNum");let i=0,s=0n;for(let a=0;a<n;++a)i=r.byte(),s|=BigInt(i)<<8n*BigInt(a);return i>=128&&(s&=2n**BigInt(n*8)-1n>>1n,s=-s),s},"decodeStream")})}o(DOe,"ScriptNum");function P6t(t,e=4,r=!0){if(typeof t=="number")return t;if(Ni(t))try{let n=DOe(e,r).decode(t);return n>Number.MAX_SAFE_INTEGER?void 0:Number(n)}catch{return}}o(P6t,"OpToNum");var wOe={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]},ZC=jo({encodeStream:o((t,e)=>{if(typeof e=="number"&&(e=BigInt(e)),0n<=e&&e<=252n)return t.byte(Number(e));for(let[r,n,i,s]of Object.values(wOe))if(!(i>e||e>s)){t.byte(r);for(let a=0;a<n;a++)t.byte(Number(e>>8n*BigInt(a)&0xffn));return}throw t.err(`VarInt too big: ${e}`)},"encodeStream"),decodeStream:o(t=>{let e=t.byte();if(e<=252)return BigInt(e);let[r,n,i]=wOe[e],s=0n;for(let a=0;a<n;a++)s|=BigInt(t.byte())<<8n*BigInt(a);if(s<i)throw t.err(`Wrong CompactSize(${8*n})`);return s},"decodeStream")}),Bl=q6(ZC,b_.number),SOe=o(t=>ec(ZC,t),"BTCArray"),kl=Oi(ZC),L6t=Ra({txid:Oi(32,!0),index:Jn,finalScriptSig:kl,sequence:Jn}),__=Ra({amount:F6,script:kl}),D6t={amount:0xffffffffffffffffn,script:ji},NX=ec(Bl,kl),U6t=Ra({version:x_,segwitFlag:pOe(new Uint8Array([0,1])),inputs:SOe(L6t),outputs:SOe(__),witnesses:mOe("segwitFlag",ec("inputs/length",NX)),lockTime:Jn});function F6t(t){if(t.segwitFlag&&t.witnesses&&!t.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return t}o(F6t,"validateRawTx");var fh=Tu(U6t,F6t);function SX(t){let[e,r,n,i,s,a]=t;return{type:e,kc:r,vc:n,reqInc:i,allowInc:s,silentIgnore:a}}o(SX,"PSBTKeyInfo");var JC=Ra({fingerprint:dOe,path:ec(null,Jn)}),H6t=Ra({version:L0,internalKey:Oi(32),merklePath:ec(null,Oi(32))}),w_=Tu(H6t,t=>{if(t.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return t}),UOe=Ra({hashes:ec(Bl,Oi(32)),der:JC}),q6t=Oi(78),V6t=Ra({pubKey:$C,leafHash:Oi(32)}),j6t=ec(null,Ra({depth:L0,version:L0,script:kl})),Ko=Oi(null),EOe=Oi(20),j6=Oi(32),CX={unsignedTx:[0,!1,fh,[0],[0],!1],xpub:[1,q6t,JC,[],[0,2],!1],txVersion:[2,!1,Jn,[2],[2],!1],fallbackLocktime:[3,!1,Jn,[],[2],!1],inputCount:[4,!1,Bl,[2],[2],!1],outputCount:[5,!1,Bl,[2],[2],!1],txModifiable:[6,!1,L0,[],[2],!1],version:[251,!1,Jn,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},GC={nonWitnessUtxo:[0,!1,fh,[],[0,2],!1],witnessUtxo:[1,!1,__,[],[0,2],!1],partialSig:[2,_X,Ko,[],[0,2],!1],sighashType:[3,!1,Jn,[],[0,2],!1],redeemScript:[4,!1,Ko,[],[0,2],!1],witnessScript:[5,!1,Ko,[],[0,2],!1],bip32Derivation:[6,_X,JC,[],[0,2],!1],finalScriptSig:[7,!1,Ko,[],[0,2],!1],finalScriptWitness:[8,!1,NX,[],[0,2],!1],porCommitment:[9,!1,Ko,[],[0,2],!1],ripemd160:[10,EOe,Ko,[],[0,2],!1],sha256:[11,j6,Ko,[],[0,2],!1],hash160:[12,EOe,Ko,[],[0,2],!1],hash256:[13,j6,Ko,[],[0,2],!1],txid:[14,!1,j6,[2],[2],!0],index:[15,!1,Jn,[2],[2],!0],sequence:[16,!1,Jn,[],[2],!0],requiredTimeLocktime:[17,!1,Jn,[],[2],!1],requiredHeightLocktime:[18,!1,Jn,[],[2],!1],tapKeySig:[19,!1,_Oe,[],[0,2],!1],tapScriptSig:[20,V6t,_Oe,[],[0,2],!1],tapLeafScript:[21,w_,Ko,[],[0,2],!1],tapBip32Derivation:[22,j6,UOe,[],[0,2],!1],tapInternalKey:[23,!1,$C,[],[0,2],!1],tapMerkleRoot:[24,!1,j6,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},z6t=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],K6t=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],WC={redeemScript:[0,!1,Ko,[],[0,2],!1],witnessScript:[1,!1,Ko,[],[0,2],!1],bip32Derivation:[2,_X,JC,[],[0,2],!1],amount:[3,!1,lOe,[2],[2],!0],script:[4,!1,Ko,[2],[2],!0],tapInternalKey:[5,!1,$C,[],[0,2],!1],tapTree:[6,!1,j6t,[],[0,2],!1],tapBip32Derivation:[7,$C,UOe,[],[0,2],!1],proprietary:[252,Ko,Ko,[],[0,2],!1]},$6t=[],AOe=ec(HC,Ra({key:bOe(Bl,Ra({type:Bl,key:Oi(null)})),value:Oi(Bl)})),tgn=Ra({type:Bl,key:Oi(null)});function kX(t){let e={};for(let r in t){let[n,i,s]=t[r];e[n]=[r,i,s]}return jo({encodeStream:o((r,n)=>{let i=[];for(let s in t){let a=n[s];if(a===void 0)continue;let[c,u,h]=t[s];if(!u)i.push({key:{type:c,key:ji},value:h.encode(a)});else{let y=a.map(([g,S])=>[u.encode(g),h.encode(S)]);y.sort((g,S)=>wX(g[0],S[0]));for(let[g,S]of y)i.push({key:{key:g,type:c},value:S})}}if(n.unknown){n.unknown.sort((s,a)=>wX(s[0].key,a[0].key));for(let[s,a]of n.unknown)i.push({key:s,value:a})}AOe.encodeStream(r,i)},"encodeStream"),decodeStream:o(r=>{let n=AOe.decodeStream(r),i={},s={};for(let a of n){let c="unknown",u=a.key.key,h=a.value;if(e[a.key.type]){let[y,g,S]=e[a.key.type];if(c=y,!g&&u.length)throw new Error(`PSBT: Non-empty key for ${c} (key=${Vi.encode(u)} value=${Vi.encode(h)}`);if(u=g?g.decode(u):void 0,h=S.decode(h),!g){if(i[c])throw new Error(`PSBT: Same keys: ${c} (key=${u} value=${h})`);i[c]=h,s[c]=!0;continue}}else u={type:a.key.type,key:a.key.key};if(s[c])throw new Error(`PSBT: Key type with empty key and no key=${c} val=${h}`);i[c]||(i[c]=[]),i[c].push([u,h])}return i},"decodeStream")})}o(kX,"PSBTKeyMap");function TOe(t,e){if(!_i(t.hash,Au(e)))throw new Error("checkScript: wsh wrong witnessScript hash");let r=Ds.decode(e);if(r.type==="tr"||r.type==="tr_ns"||r.type==="tr_ms")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2SH`);if(r.type==="wpkh"||r.type==="sh")throw new Error(`checkScript: P2${r.type} cannot be wrapped in P2WSH`)}o(TOe,"checkWSH");function EX(t,e,r){if(t){let n=Ds.decode(t);if(n.type==="tr_ns"||n.type==="tr_ms"||n.type==="ms"||n.type=="pk")throw new Error(`checkScript: non-wrapped ${n.type}`);if(n.type==="sh"&&e){if(!_i(n.hash,XC(e)))throw new Error("checkScript: sh wrong redeemScript hash");let i=Ds.decode(e);if(i.type==="tr"||i.type==="tr_ns"||i.type==="tr_ms")throw new Error(`checkScript: P2${i.type} cannot be wrapped in P2SH`);if(i.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}n.type==="wsh"&&r&&TOe(n,r)}if(e){let n=Ds.decode(e);n.type==="wsh"&&r&&TOe(n,r)}}o(EX,"checkScript");var BX=Tu(kX(GC),t=>{if(t.finalScriptWitness&&!t.finalScriptWitness.length)throw new Error("validateInput: wmpty finalScriptWitness");if(t.partialSig&&!t.partialSig.length)throw new Error("Empty partialSig");if(t.partialSig)for(let[e]of t.partialSig)S_(e,Ma.ecdsa);if(t.bip32Derivation)for(let[e]of t.bip32Derivation)S_(e,Ma.ecdsa);if(t.requiredTimeLocktime!==void 0&&t.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${t.requiredTimeLocktime}`);if(t.requiredHeightLocktime!==void 0&&(t.requiredHeightLocktime<=0||t.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${t.requiredHeightLocktime}`);if(t.nonWitnessUtxo&&t.index!==void 0){let e=t.nonWitnessUtxo.outputs.length-1;if(t.index>e)throw new Error(`validateInput: index(${t.index}) not in nonWitnessUtxo`);let r=t.nonWitnessUtxo.outputs[t.index];if(t.witnessUtxo&&(!_i(t.witnessUtxo.script,r.script)||t.witnessUtxo.amount!==r.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo")}if(t.tapLeafScript)for(let[e,r]of t.tapLeafScript){if((e.version&254)!==r[r.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(r[r.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}if(t.nonWitnessUtxo&&t.index&&t.txid){if(t.nonWitnessUtxo.outputs.length-1<t.index)throw new Error("nonWitnessUtxo: incorect output index");let r=MX.fromRaw(fh.encode(t.nonWitnessUtxo)),n=Vi.encode(t.txid);if(r.id!==n)throw new Error(`nonWitnessUtxo: wrong txid, exp=${n} got=${r.id}`)}return t}),PX=Tu(kX(WC),t=>{if(t.bip32Derivation)for(let[e]of t.bip32Derivation)S_(e,Ma.ecdsa);return t}),FOe=Tu(kX(CX),t=>{if((t.version||0)===0){if(!t.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");if(t.unsignedTx.segwitFlag||t.unsignedTx.witnesses)throw new Error("PSBTv0: witness in unsingedTx");for(let r of t.unsignedTx.inputs)if(r.finalScriptSig&&r.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return t}),G6t=Ra({magic:V6(H6(new Uint8Array([255])),"psbt"),global:FOe,inputs:ec("global/unsignedTx/inputs/length",BX),outputs:ec(null,PX)}),W6t=Ra({magic:V6(H6(new Uint8Array([255])),"psbt"),global:FOe,inputs:ec("global/inputCount",BX),outputs:ec("global/outputCount",PX)}),rgn=Ra({magic:V6(H6(new Uint8Array([255])),"psbt"),items:ec(null,q6(ec(HC,yOe([hOe(Bl),Oi(ZC)])),b_.dict()))});function yX(t,e,r){for(let n in r){if(n==="unknown"||!e[n])continue;let{allowInc:i}=SX(e[n]);if(!i.includes(t))throw new Error(`PSBTv${t}: field ${n} is not allowed`)}for(let n in e){let{reqInc:i}=SX(e[n]);if(i.includes(t)&&r[n]===void 0)throw new Error(`PSBTv${t}: missing required field ${n}`)}}o(yX,"validatePSBTFields");function IOe(t,e,r){let n={};for(let i in r){let s=i;if(s!=="unknown"){if(!e[s])continue;let{allowInc:a,silentIgnore:c}=SX(e[s]);if(!a.includes(t)){if(c)continue;throw new Error(`Failed to serialize in PSBTv${t}: ${s} but versions allows inclusion=${a}`)}}n[s]=r[s]}return n}o(IOe,"cleanPSBTFields");function HOe(t){let e=t&&t.global&&t.global.version||0;yX(e,CX,t.global);for(let a of t.inputs)yX(e,GC,a);for(let a of t.outputs)yX(e,WC,a);let r=e?t.global.inputCount:t.global.unsignedTx.inputs.length;if(t.inputs.length<r)throw new Error("Not enough inputs");let n=t.inputs.slice(r);if(n.length>1||n.length&&Object.keys(n[0]).length)throw new Error(`Unexpected inputs left in tx=${n}`);let i=e?t.global.outputCount:t.global.unsignedTx.outputs.length;if(t.outputs.length<i)throw new Error("Not outputs inputs");let s=t.outputs.slice(i);if(s.length>1||s.length&&Object.keys(s[0]).length)throw new Error(`Unexpected outputs left in tx=${s}`);return t}o(HOe,"validatePSBT");function bX(t,e,r,n){let i={...r,...e};for(let s in t){let a=s,[c,u,h]=t[a],y=n&&!n.includes(s);if(e[s]===void 0&&s in e){if(y)throw new Error(`Cannot remove signed field=${s}`);delete i[s]}else if(u){let g=r&&r[s]?r[s]:[],S=e[a];if(S){if(!Array.isArray(S))throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);S=S.map(M=>{if(M.length!==2)throw new Error(`keyMap(${s}): KV pairs should be [k, v][]`);return[typeof M[0]=="string"?u.decode(Vi.decode(M[0])):M[0],typeof M[1]=="string"?h.decode(Vi.decode(M[1])):M[1]]});let T={},O=o((M,k,C)=>{if(T[M]===void 0){T[M]=[k,C];return}let B=Vi.encode(h.encode(T[M][1])),N=Vi.encode(h.encode(C));if(B!==N)throw new Error(`keyMap(${a}): same key=${M} oldVal=${B} newVal=${N}`)},"add");for(let[M,k]of g){let C=Vi.encode(u.encode(M));O(C,M,k)}for(let[M,k]of S){let C=Vi.encode(u.encode(M));if(k===void 0){if(y)throw new Error(`Cannot remove signed field=${a}/${M}`);delete T[C]}else O(C,M,k)}i[a]=Object.values(T)}}else if(typeof i[s]=="string")i[s]=h.decode(Vi.decode(i[s]));else if(y&&s in e&&r&&r[s]!==void 0&&!_i(h.encode(e[s]),h.encode(r[s])))throw new Error(`Cannot change signed field=${s}`)}for(let s in i)t[s]||delete i[s];return i}o(bX,"mergeKeyMap");var ROe=Tu(G6t,HOe),OOe=Tu(W6t,HOe),xX=Ra({txid:Oi(32,!0),index:Jn}),Y6t={encode(t){if(!(t.length!==2||!Ni(t[0])||!ub(t[0],Ma.ecdsa)||t[1]!=="CHECKSIG"))return{type:"pk",pubkey:t[0]}},decode:o(t=>t.type==="pk"?[t.pubkey,"CHECKSIG"]:void 0,"decode")};var X6t={encode(t){if(!(t.length!==5||t[0]!=="DUP"||t[1]!=="HASH160"||!Ni(t[2]))&&!(t[3]!=="EQUALVERIFY"||t[4]!=="CHECKSIG"))return{type:"pkh",hash:t[2]}},decode:o(t=>t.type==="pkh"?["DUP","HASH160",t.hash,"EQUALVERIFY","CHECKSIG"]:void 0,"decode")};var Z6t={encode(t){if(!(t.length!==3||t[0]!=="HASH160"||!Ni(t[1])||t[2]!=="EQUAL"))return{type:"sh",hash:t[1]}},decode:o(t=>t.type==="sh"?["HASH160",t.hash,"EQUAL"]:void 0,"decode")},ngn=o((t,e=E_)=>{let r=t.script;if(!Ni(r))throw new Error(`Wrong script: ${typeof t.script}, expected Uint8Array`);let n=XC(r),i=Ds.encode({type:"sh",hash:n});EX(i,r,t.witnessScript);let s={type:"sh",redeemScript:r,script:Ds.encode({type:"sh",hash:n}),address:QC(e).encode({type:"sh",hash:n})};return t.witnessScript&&(s.witnessScript=t.witnessScript),s},"p2sh"),J6t={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===32)return{type:"wsh",hash:t[1]}},decode:o(t=>t.type==="wsh"?[0,t.hash]:void 0,"decode")};var Q6t={encode(t){if(!(t.length!==2||t[0]!==0||!Ni(t[1]))&&t[1].length===20)return{type:"wpkh",hash:t[1]}},decode:o(t=>t.type==="wpkh"?[0,t.hash]:void 0,"decode")},ign=o((t,e=E_)=>{if(!ub(t,Ma.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(t.length===65)throw new Error("P2WPKH: uncompressed public key");let r=XC(t);return{type:"wpkh",script:Ds.encode({type:"wpkh",hash:r}),address:QC(e).encode({type:"wpkh",hash:r})}},"p2wpkh"),eAt={encode(t){let e=t.length-1;if(t[e]!=="CHECKMULTISIG")return;let r=t[0],n=t[e-1];if(typeof r!="number"||typeof n!="number")return;let i=t.slice(1,-2);if(n===i.length){for(let s of i)if(!Ni(s))return;return{type:"ms",m:r,pubkeys:i}}},decode:o(t=>t.type==="ms"?[t.m,...t.pubkeys,t.pubkeys.length,"CHECKMULTISIG"]:void 0,"decode")};var tAt={encode(t){if(!(t.length!==2||t[0]!==1||!Ni(t[1])))return{type:"tr",pubkey:t[1]}},decode:o(t=>t.type==="tr"?[1,t.pubkey]:void 0,"decode")};function rAt(t){let e=Array.from(t);for(;e.length>=2;){e.sort((a,c)=>(c.weight||1)-(a.weight||1));let n=e.pop(),i=e.pop(),s=(i?.weight||1)+(n?.weight||1);e.push({weight:s,childs:[i?.childs||i,n?.childs||n]})}let r=e[0];return r?.childs||r}o(rAt,"taprootListToTree");function nAt(t,e,r=!1){let n=Ds.decode(t);if(n.type==="unknown"&&r)return;if(!["tr_ns","tr_ms"].includes(n.type))throw new Error(`P2TR: invalid leaf script=${n.type}`);let i=n;if(!r&&i.pubkeys)for(let s of i.pubkeys){if(_i(s,qOe))throw new Error("Unspendable taproot key in leaf script");if(_i(s,e))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}o(nAt,"checkTaprootScript");function AX(t,e,r=!1){if(!t)throw new Error("taprootHashTree: empty tree");if(Array.isArray(t)&&t.length===1&&(t=t[0]),!Array.isArray(t)){let{leafVersion:c,script:u}=t;if(t.tapLeafScript||t.tapMerkleRoot&&!_i(t.tapMerkleRoot,ji))throw new Error("P2TR: tapRoot leafScript cannot have tree");let h=typeof u=="string"?Vi.decode(u):u;if(!Ni(h))throw new Error(`checkScript: wrong script type=${h}`);return nAt(h,e,r),{type:"leaf",version:c,script:h,hash:jC(h,c)}}if(t.length!==2&&(t=rAt(t)),t.length!==2)throw new Error("hashTree: non binary tree!");let n=AX(t[0],e,r),i=AX(t[1],e,r),[s,a]=[n.hash,i.hash];return wX(a,s)===-1&&([s,a]=[a,s]),{type:"branch",left:n,right:i,hash:vf.utils.taggedHash("TapBranch",s,a)}}o(AX,"taprootHashTree");function TX(t,e=[]){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return{...t,path:e};if(t.type!=="branch")throw new Error(`taprootAddPath: wrong type=${t}`);return{...t,path:e,left:TX(t.left,[t.right.hash,...e]),right:TX(t.right,[t.left.hash,...e])}}o(TX,"taprootAddPath");function IX(t){if(!t)throw new Error("taprootAddPath: empty tree");if(t.type==="leaf")return[t];if(t.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${t}`);return[...IX(t.left),...IX(t.right)]}o(IX,"taprootWalkTree");var qOe=Au(YC.BASE.toRawBytes(!1));function ogn(t,e,r=E_,n=!1){if(!t&&!e)throw new Error("p2tr: should have pubKey or scriptTree (or both)");let i=typeof t=="string"?Vi.decode(t):t||qOe;if(!ub(i,Ma.schnorr))throw new Error("p2tr: non-schnorr pubkey");let s=e?TX(AX(e,i,n)):void 0,a=s?s.hash:void 0,[c,u]=POe(i,a||ji),h;s&&(h=IX(s).map(S=>({...S,controlBlock:w_.encode({version:(S.version||OX)+u,internalKey:i,merklePath:S.path})})));let y;h&&(y=h.map(S=>[w_.decode(S.controlBlock),Ag(S.script,new Uint8Array([S.version||OX]))]));let g={type:"tr",script:Ds.encode({type:"tr",pubkey:c}),address:QC(r).encode({type:"tr",pubkey:c}),tweakedPubkey:c,tapInternalKey:i};return h&&(g.leaves=h),y&&(g.tapLeafScript=y),a&&(g.tapMerkleRoot=a),g}o(ogn,"p2tr");var iAt={encode(t){let e=t.length-1;if(t[e]!=="CHECKSIG")return;let r=[];for(let n=0;n<e;n++){let i=t[n];if(n&1){if(i!=="CHECKSIGVERIFY"||n===e-1)return;continue}if(!Ni(i))return;r.push(i)}return{type:"tr_ns",pubkeys:r}},decode:o(t=>{if(t.type!=="tr_ns")return;let e=[];for(let r=0;r<t.pubkeys.length-1;r++)e.push(t.pubkeys[r],"CHECKSIGVERIFY");return e.push(t.pubkeys[t.pubkeys.length-1],"CHECKSIG"),e},"decode")};var oAt={encode(t){let e=t.length-1;if(t[e]!=="NUMEQUAL"||t[1]!=="CHECKSIG")return;let r=[],n=P6t(t[e-1]);if(typeof n=="number"){for(let i=0;i<e-1;i++){let s=t[i];if(i&1){if(s!==(i===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!Ni(s))throw new Error("OutScript.encode/tr_ms: wrong key element");r.push(s)}return{type:"tr_ms",pubkeys:r,m:n}}},decode:o(t=>{if(t.type!=="tr_ms")return;let e=[t.pubkeys[0],"CHECKSIG"];for(let r=1;r<t.pubkeys.length;r++)e.push(t.pubkeys[r],"CHECKSIGADD");return e.push(t.m,"NUMEQUAL"),e},"decode")};var sAt={encode(t){return{type:"unknown",script:Oa.encode(t)}},decode:o(t=>t.type==="unknown"?Oa.decode(t.script):void 0,"decode")},aAt=[Y6t,X6t,Z6t,J6t,Q6t,eAt,tAt,iAt,oAt,sAt],cAt=q6(Oa,b_.match(aAt)),Ds=Tu(cAt,t=>{if(t.type==="pk"&&!ub(t.pubkey,Ma.ecdsa))throw new Error("OutScript/pk: wrong key");if((t.type==="pkh"||t.type==="sh"||t.type==="wpkh")&&(!Ni(t.hash)||t.hash.length!==20))throw new Error(`OutScript/${t.type}: wrong hash`);if(t.type==="wsh"&&(!Ni(t.hash)||t.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(t.type==="tr"&&(!Ni(t.pubkey)||!ub(t.pubkey,Ma.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((t.type==="ms"||t.type==="tr_ns"||t.type==="tr_ms")&&!Array.isArray(t.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(t.type==="ms"){let e=t.pubkeys.length;for(let r of t.pubkeys)if(!ub(r,Ma.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(t.m<=0||e>16||t.m>e)throw new Error("OutScript/multisig: invalid params")}if(t.type==="tr_ns"||t.type==="tr_ms"){for(let e of t.pubkeys)if(!ub(e,Ma.schnorr))throw new Error(`OutScript/${t.type}: wrong pubkey`)}if(t.type==="tr_ms"){let e=t.pubkeys.length;if(t.m<=0||e>999||t.m>e)throw new Error("OutScript/tr_ms: invalid params")}return t});function VOe(t,e){if(e.length<2||e.length>40)throw new Error("Witness: invalid length");if(t>16)throw new Error("Witness: invalid version");if(t===0&&!(e.length===20||e.length===32))throw new Error("Witness: invalid length for version")}o(VOe,"validateWitness");function vX(t,e,r=E_){VOe(t,e);let n=t===0?BC:pX;return n.encode(r.bech32,[t].concat(n.toWords(e)))}o(vX,"programToWitness");function MOe(t,e){return kOe.encode(Ag(Uint8Array.from(e),t))}o(MOe,"formatKey");function QC(t=E_){return{encode(e){let{type:r}=e;if(r==="wpkh")return vX(0,e.hash,t);if(r==="wsh")return vX(0,e.hash,t);if(r==="tr")return vX(1,e.pubkey,t);if(r==="pkh")return MOe(e.hash,[t.pubKeyHash]);if(r==="sh")return MOe(e.hash,[t.scriptHash]);throw new Error(`Unknown address type=${r}`)},decode(e){if(e.length<14||e.length>74)throw new Error("Invalid address length");if(t.bech32&&e.toLowerCase().startsWith(t.bech32)){let n;try{if(n=BC.decode(e),n.words[0]!==0)throw new Error(`bech32: wrong version=${n.words[0]}`)}catch{if(n=pX.decode(e),n.words[0]===0)throw new Error(`bech32m: wrong version=${n.words[0]}`)}if(n.prefix!==t.bech32)throw new Error(`wrong bech32 prefix=${n.prefix}`);let[i,...s]=n.words,a=BC.fromWords(s);if(VOe(i,a),i===0&&a.length===32)return{type:"wsh",hash:a};if(i===0&&a.length===20)return{type:"wpkh",hash:a};if(i===1&&a.length===32)return{type:"tr",pubkey:a};throw new Error("Unknown witness program")}let r=kOe.decode(e);if(r.length!==21)throw new Error("Invalid base58 address");if(r[0]===t.pubKeyHash)return{type:"pkh",hash:r.slice(1)};if(r[0]===t.scriptHash)return{type:"sh",hash:r.slice(1)};throw new Error(`Invalid address prefix=${r[0]}`)}}}o(QC,"Address");var Mi;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY"})(Mi||(Mi={}));var RX;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",t[t.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",t[t.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",t[t.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(RX||(RX={}));function fAt(t){if(typeof t!="number"||typeof RX[t]!="string")throw new Error(`Invalid SigHash=${t}`);return t}o(fAt,"validateSigHash");function NOe(t){let e=t&31;return{isAny:!!(t&Mi.ANYONECANPAY),isNone:e===Mi.NONE,isSingle:e===Mi.SINGLE}}o(NOe,"unpackSighash");function VC(t){if(t.txid===void 0||t.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:t.txid,index:t.index,sequence:z6(t.sequence,LOe),finalScriptSig:z6(t.finalScriptSig,ji)}}o(VC,"inputBeforeSign");function COe(t){for(let e in t){let r=e;z6t.includes(r)||delete t[r]}}o(COe,"cleanFinalInput");function v_(t){if(t.script===void 0||t.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:t.script,amount:t.amount}}o(v_,"outputBeforeSign");var OX=192,jC=o((t,e=OX)=>vf.utils.taggedHash("TapLeaf",new Uint8Array([e]),kl.encode(t)),"tapLeafHash");function uAt(t,e,r,n=ji){return _i(r,e)&&(t=C6t(t,n),e=vf.getPublicKey(t)),{privKey:t,pubKey:e}}o(uAt,"getTaprootKeys");var lAt={}.toString;function dAt(t){if(t!==void 0&&lAt.call(t)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${t}`);let e={...t,version:z6(t.version,B6t),lockTime:z6(t.lockTime,0),PSBTVersion:z6(t.PSBTVersion,0)};if(typeof e.allowUnknowInput<"u"&&(t.allowUnknownInputs=e.allowUnknowInput),typeof e.allowUnknowOutput<"u"&&(t.allowUnknownOutputs=e.allowUnknowOutput),![-1,0,1,2].includes(e.version))throw new Error(`Unknown version: ${e.version}`);if(typeof e.lockTime!="number")throw new Error("Transaction lock time should be number");if(Jn.encode(e.lockTime),e.PSBTVersion!==0&&e.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${e.PSBTVersion}`);for(let r of["allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){let n=e[r];if(n!==void 0&&typeof n!="boolean")throw new Error(`Transation options wrong type: ${r}=${n} (${typeof n})`)}return Object.freeze(e)}o(dAt,"validateOpts");var MX=class t{static{o(this,"Transaction")}constructor(e={}){this.global={},this.inputs=[],this.outputs=[];let r=this.opts=dAt(e);r.lockTime!==fb&&(this.global.fallbackLocktime=r.lockTime),this.global.txVersion=r.version}static fromRaw(e,r={}){let n=fh.decode(e),i=new t({...r,version:n.version,lockTime:n.lockTime});for(let s of n.outputs)i.addOutput(s);if(i.outputs=n.outputs,i.inputs=n.inputs,n.witnesses)for(let s=0;s<n.witnesses.length;s++)i.inputs[s].finalScriptWitness=n.witnesses[s];return i}static fromPSBT(e,r={}){let n;try{n=ROe.decode(e)}catch(g){try{n=OOe.decode(e)}catch{throw g}}let i=n.global.version||0;if(i!==0&&i!==2)throw new Error(`Wrong PSBT version=${i}`);let s=n.global.unsignedTx,a=i===0?s?.version:n.global.txVersion,c=i===0?s?.lockTime:n.global.fallbackLocktime,u=new t({...r,version:a,lockTime:c,PSBTVersion:i}),h=i===0?s?.inputs.length:n.global.inputCount;u.inputs=n.inputs.slice(0,h).map((g,S)=>({finalScriptSig:ji,...n.global.unsignedTx?.inputs[S],...g}));let y=i===0?s?.outputs.length:n.global.outputCount;return u.outputs=n.outputs.slice(0,y).map((g,S)=>({...g,...n.global.unsignedTx?.outputs[S]})),u.global={...n.global,txVersion:a},c!==fb&&(u.global.fallbackLocktime=c),u}toPSBT(e=this.opts.PSBTVersion){if(e!==0&&e!==2)throw new Error(`Wrong PSBT version=${e}`);let r=this.inputs.map(s=>IOe(e,GC,s));for(let s of r)s.partialSig&&!s.partialSig.length&&delete s.partialSig,s.finalScriptSig&&!s.finalScriptSig.length&&delete s.finalScriptSig,s.finalScriptWitness&&!s.finalScriptWitness.length&&delete s.finalScriptWitness;let n=this.outputs.map(s=>IOe(e,WC,s)),i={...this.global};return e===0?(i.unsignedTx=fh.decode(this.unsignedTx),delete i.fallbackLocktime,delete i.txVersion):(i.version=e,i.txVersion=this.version,i.inputCount=this.inputs.length,i.outputCount=this.outputs.length,i.fallbackLocktime&&i.fallbackLocktime===fb&&delete i.fallbackLocktime),this.opts.bip174jsCompat&&(r.length||r.push({}),n.length||n.push({})),(e===0?ROe:OOe).encode({global:i,inputs:r,outputs:n})}get lockTime(){let e=fb,r=0,n=fb,i=0;for(let s of this.inputs)s.requiredHeightLocktime&&(e=Math.max(e,s.requiredHeightLocktime),r++),s.requiredTimeLocktime&&(n=Math.max(n,s.requiredTimeLocktime),i++);return r&&r>=i?e:n!==fb?n:this.global.fallbackLocktime||fb}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(e){this.checkInputIdx(e);let r=this.inputs[e];return r.finalScriptSig&&r.finalScriptSig.length||r.finalScriptWitness&&r.finalScriptWitness.length?"finalized":r.tapKeySig||r.tapScriptSig&&r.tapScriptSig.length||r.partialSig&&r.partialSig.length?"signed":"unsigned"}inputSighash(e){this.checkInputIdx(e);let r=this.inputType(this.inputs[e]).sighash,n=r===Mi.DEFAULT?Mi.ALL:r&3;return{sigInputs:r&Mi.ANYONECANPAY,sigOutputs:n}}signStatus(){let e=!0,r=!0,n=[],i=[];for(let s=0;s<this.inputs.length;s++){if(this.inputStatus(s)==="unsigned")continue;let{sigInputs:c,sigOutputs:u}=this.inputSighash(s);if(c===Mi.ANYONECANPAY?n.push(s):e=!1,u===Mi.ALL)r=!1;else if(u===Mi.SINGLE)i.push(s);else if(u!==Mi.NONE)throw new Error(`Wrong signature hash output type: ${u}`)}return{addInput:e,addOutput:r,inputs:n,outputs:i}}get isFinal(){for(let e=0;e<this.inputs.length;e++)if(this.inputStatus(e)!=="finalized")return!1;return!0}get hasWitnesses(){let e=!1;for(let r of this.inputs)r.finalScriptWitness&&r.finalScriptWitness.length&&(e=!0);return e}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let e=32,r=this.outputs.map(v_);this.hasWitnesses&&(e+=2),e+=4*Bl.encode(this.inputs.length).length,e+=4*Bl.encode(this.outputs.length).length;for(let n of this.inputs)e+=160+4*kl.encode(n.finalScriptSig||ji).length;for(let n of r)e+=32+4*kl.encode(n.script).length;if(this.hasWitnesses)for(let n of this.inputs)n.finalScriptWitness&&(e+=NX.encode(n.finalScriptWitness).length);return e}get vsize(){return Math.ceil(this.weight/4)}toBytes(e=!1,r=!1){return fh.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map(VC).map(n=>({...n,finalScriptSig:e&&n.finalScriptSig||ji})),outputs:this.outputs.map(v_),witnesses:this.inputs.map(n=>n.finalScriptWitness||[]),segwitFlag:r&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return Vi.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Vi.encode(Eg(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return Vi.encode(Eg(this.toBytes(!0)).reverse())}checkInputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.inputs.length)throw new Error(`Wrong input index=${e}`)}getInput(e){return this.checkInputIdx(e),KC(this.inputs[e])}get inputsLength(){return this.inputs.length}normalizeInput(e,r,n){let{nonWitnessUtxo:i,txid:s}=e;typeof i=="string"&&(i=Vi.decode(i)),Ni(i)&&(i=fh.decode(i)),i===void 0&&(i=r?.nonWitnessUtxo),typeof s=="string"&&(s=Vi.decode(s)),s===void 0&&(s=r?.txid);let a={...r,...e,nonWitnessUtxo:i,txid:s};a.nonWitnessUtxo===void 0&&delete a.nonWitnessUtxo,a.sequence===void 0&&(a.sequence=LOe),a.tapMerkleRoot===null&&delete a.tapMerkleRoot,a=bX(GC,a,r,n),BX.encode(a);let c;return a.nonWitnessUtxo&&a.index!==void 0?c=a.nonWitnessUtxo.outputs[a.index]:a.witnessUtxo&&(c=a.witnessUtxo),c&&!this.opts.disableScriptCheck&&EX(c&&c.script,a.redeemScript,a.witnessScript),a}addInput(e,r=!1){if(!r&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(this.normalizeInput(e)),this.inputs.length-1}updateInput(e,r,n=!1){this.checkInputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addInput||s.inputs.includes(e))&&(i=K6t)}this.inputs[e]=this.normalizeInput(r,this.inputs[e],i)}checkOutputIdx(e){if(!Number.isSafeInteger(e)||0>e||e>=this.outputs.length)throw new Error(`Wrong output index=${e}`)}getOutput(e){return this.checkOutputIdx(e),KC(this.outputs[e])}get outputsLength(){return this.outputs.length}normalizeOutput(e,r,n){let{amount:i,script:s}=e;if(i===void 0&&(i=r?.amount),typeof i!="bigint")throw new Error("amount must be bigint sats");typeof s=="string"&&(s=Vi.decode(s)),s===void 0&&(s=r?.script);let a={...r,...e,amount:i,script:s};if(a.amount===void 0&&delete a.amount,a=bX(WC,a,r,n),PX.encode(a),a.script&&!this.opts.allowUnknownOutputs&&Ds.decode(a.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownScript=true, if you sure");return this.opts.disableScriptCheck||EX(a.script,a.redeemScript,a.witnessScript),a}addOutput(e,r=!1){if(!r&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(e)),this.outputs.length-1}updateOutput(e,r,n=!1){this.checkOutputIdx(e);let i;if(!n){let s=this.signStatus();(!s.addOutput||s.outputs.includes(e))&&(i=$6t)}this.outputs[e]=this.normalizeOutput(r,this.outputs[e],i)}addOutputAddress(e,r,n=E_){return this.addOutput({script:Ds.encode(QC(n).decode(e)),amount:r})}get fee(){let e=0n;for(let n of this.inputs){let i=this.prevOut(n);if(!i)throw new Error("Empty input amount");e+=i.amount}let r=this.outputs.map(v_);for(let n of r)e-=n.amount;return e}preimageLegacy(e,r,n){let{isAny:i,isNone:s,isSingle:a}=NOe(n);if(e<0||!Number.isSafeInteger(e))throw new Error(`Invalid input idx=${e}`);if(a&&e>=this.outputs.length||e>=this.inputs.length)return uOe.encode(1n);r=Oa.encode(Oa.decode(r).filter(y=>y!=="CODESEPARATOR"));let c=this.inputs.map(VC).map((y,g)=>({...y,finalScriptSig:g===e?r:ji}));i?c=[c[e]]:(s||a)&&(c=c.map((y,g)=>({...y,sequence:g===e?y.sequence:0})));let u=this.outputs.map(v_);s?u=[]:a&&(u=u.slice(0,e).fill(D6t).concat([u[e]]));let h=fh.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:c,outputs:u});return Eg(h,x_.encode(n))}preimageWitnessV0(e,r,n,i){let{isAny:s,isNone:a,isSingle:c}=NOe(n),u=qC,h=qC,y=qC,g=this.inputs.map(VC),S=this.outputs.map(v_);s||(u=Eg(...g.map(xX.encode))),!s&&!c&&!a&&(h=Eg(...g.map(O=>Jn.encode(O.sequence)))),!c&&!a?y=Eg(...S.map(__.encode)):c&&e<S.length&&(y=Eg(__.encode(S[e])));let T=g[e];return Eg(x_.encode(this.version),u,h,Oi(32,!0).encode(T.txid),Jn.encode(T.index),kl.encode(r),F6.encode(i),Jn.encode(T.sequence),y,Jn.encode(this.lockTime),Jn.encode(n))}preimageWitnessV1(e,r,n,i,s=-1,a,c=192,u){if(!Array.isArray(i)||this.inputs.length!==i.length)throw new Error(`Invalid amounts array=${i}`);if(!Array.isArray(r)||this.inputs.length!==r.length)throw new Error(`Invalid prevOutScript array=${r}`);let h=[L0.encode(0),L0.encode(n),x_.encode(this.version),Jn.encode(this.lockTime)],y=n===Mi.DEFAULT?Mi.ALL:n&3,g=n&Mi.ANYONECANPAY,S=this.inputs.map(VC),T=this.outputs.map(v_);g!==Mi.ANYONECANPAY&&h.push(...[S.map(xX.encode),i.map(F6.encode),r.map(kl.encode),S.map(M=>Jn.encode(M.sequence))].map(M=>Au(Ag(...M)))),y===Mi.ALL&&h.push(Au(Ag(...T.map(__.encode))));let O=(u?1:0)|(a?2:0);if(h.push(new Uint8Array([O])),g===Mi.ANYONECANPAY){let M=S[e];h.push(xX.encode(M),F6.encode(i[e]),kl.encode(r[e]),Jn.encode(M.sequence))}else h.push(Jn.encode(e));return O&1&&h.push(Au(kl.encode(u||ji))),y===Mi.SINGLE&&h.push(e<T.length?Au(__.encode(T[e])):qC),a&&h.push(jC(a,c),L0.encode(0),x_.encode(s)),vf.utils.taggedHash("TapSighash",...h)}prevOut(e){if(e.nonWitnessUtxo){if(e.index===void 0)throw new Error("Unknown input index");return e.nonWitnessUtxo.outputs[e.index]}else{if(e.witnessUtxo)return e.witnessUtxo;throw new Error("Cannot find previous output info")}}inputType(e){let r="legacy",n=Mi.ALL,i=this.prevOut(e),s=Ds.decode(i.script),a=s.type,c=s,u=[s];if(s.type==="tr")return n=Mi.DEFAULT,{txType:"taproot",type:"tr",last:s,lastScript:i.script,defaultSighash:n,sighash:e.sighashType||n};{if((s.type==="wpkh"||s.type==="wsh")&&(r="segwit"),s.type==="sh"){if(!e.redeemScript)throw new Error("inputType: sh without redeemScript");let S=Ds.decode(e.redeemScript);(S.type==="wpkh"||S.type==="wsh")&&(r="segwit"),u.push(S),c=S,a+=`-${S.type}`}if(c.type==="wsh"){if(!e.witnessScript)throw new Error("inputType: wsh without witnessScript");let S=Ds.decode(e.witnessScript);S.type==="wsh"&&(r="segwit"),u.push(S),c=S,a+=`-${S.type}`}let h=u[u.length-1];if(h.type==="sh"||h.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");let y=Ds.encode(h),g={type:a,txType:r,last:h,lastScript:y,defaultSighash:n,sighash:e.sighashType||n};if(r==="legacy"&&!this.opts.allowLegacyWitnessUtxo&&!e.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return g}}signIdx(e,r,n,i){this.checkInputIdx(r);let s=this.inputs[r],a=this.inputType(s);if(!Ni(e)){if(!s.bip32Derivation||!s.bip32Derivation.length)throw new Error("bip32Derivation: empty");let y=s.bip32Derivation.filter(S=>S[1].fingerprint==e.fingerprint).map(([S,{path:T}])=>{let O=e;for(let M of T)O=O.deriveChild(M);if(!_i(O.publicKey,S))throw new Error("bip32Derivation: wrong pubKey");if(!O.privateKey)throw new Error("bip32Derivation: no privateKey");return O});if(!y.length)throw new Error(`bip32Derivation: no items with fingerprint=${e.fingerprint}`);let g=!1;for(let S of y)this.signIdx(S.privateKey,r)&&(g=!0);return g}n?n.forEach(fAt):n=[a.defaultSighash];let c=a.sighash;if(!n.includes(c))throw new Error(`Input with not allowed sigHash=${c}. Allowed: ${n.join(", ")}`);let{sigOutputs:u}=this.inputSighash(r);if(u===Mi.SINGLE&&r>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${r}`);let h=this.prevOut(s);if(a.txType==="taproot"){if(s.tapBip32Derivation)throw new Error("tapBip32Derivation unsupported");let y=this.inputs.map(this.prevOut),g=y.map(k=>k.script),S=y.map(k=>k.amount),T=!1,O=vf.getPublicKey(e),M=s.tapMerkleRoot||ji;if(s.tapInternalKey){let{pubKey:k,privKey:C}=uAt(e,O,s.tapInternalKey,M),[B,N]=POe(s.tapInternalKey,M);if(_i(B,k)){let P=this.preimageWitnessV1(r,g,c,S),H=Ag(vf.sign(P,C,i),c!==Mi.DEFAULT?new Uint8Array([c]):ji);this.updateInput(r,{tapKeySig:H},!0),T=!0}}if(s.tapLeafScript){s.tapScriptSig=s.tapScriptSig||[];for(let[k,C]of s.tapLeafScript){let B=C.subarray(0,-1),N=Oa.decode(B),P=C[C.length-1],H=jC(B,P);if(N.findIndex(X=>Ni(X)&&_i(X,O))===-1)continue;let Z=this.preimageWitnessV1(r,g,c,S,void 0,B,P),W=Ag(vf.sign(Z,e,i),c!==Mi.DEFAULT?new Uint8Array([c]):ji);this.updateInput(r,{tapScriptSig:[[{pubKey:O,leafHash:H},W]]},!0),T=!0}}if(!T)throw new Error("No taproot scripts signed");return!0}else{let y=M6t(e),g=!1,S=XC(y);for(let M of Oa.decode(a.lastScript))Ni(M)&&(_i(M,y)||_i(M,S))&&(g=!0);if(!g)throw new Error(`Input script doesn't have pubKey: ${a.lastScript}`);let T;if(a.txType==="legacy")T=this.preimageLegacy(r,a.lastScript,c);else if(a.txType==="segwit"){let M=a.lastScript;a.last.type==="wpkh"&&(M=Ds.encode({type:"pkh",hash:a.last.hash})),T=this.preimageWitnessV0(r,M,c,h.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${a.txType}`);let O=N6t(T,e,this.opts.lowR);this.updateInput(r,{partialSig:[[y,Ag(O,new Uint8Array([c]))]]},!0)}return!0}sign(e,r,n){let i=0;for(let s=0;s<this.inputs.length;s++)try{this.signIdx(e,s,r,n)&&i++}catch{}if(!i)throw new Error("No inputs signed");return i}finalizeIdx(e){if(this.checkInputIdx(e),this.fee<0n)throw new Error("Outputs spends more than inputs amount");let r=this.inputs[e],n=this.inputType(r);if(n.txType==="taproot"){if(r.tapKeySig)r.finalScriptWitness=[r.tapKeySig];else if(r.tapLeafScript&&r.tapScriptSig){let u=r.tapLeafScript.sort((h,y)=>w_.encode(h[0]).length-w_.encode(y[0]).length);for(let[h,y]of u){let g=y.slice(0,-1),S=y[y.length-1],T=Ds.decode(g),O=jC(g,S),M=r.tapScriptSig.filter(C=>_i(C[0].leafHash,O)),k=[];if(T.type==="tr_ms"){let C=T.m,B=T.pubkeys,N=0;for(let P of B){let H=M.findIndex(F=>_i(F[0].pubKey,P));if(N===C||H===-1){k.push(ji);continue}k.push(M[H][1]),N++}if(N!==C)continue}else if(T.type==="tr_ns"){for(let C of T.pubkeys){let B=M.findIndex(N=>_i(N[0].pubKey,C));B!==-1&&k.push(M[B][1])}if(k.length!==T.pubkeys.length)continue}else if(T.type==="unknown"&&this.opts.allowUnknownInputs){let C=Oa.decode(g);if(k=M.map(([{pubKey:B},N])=>{let P=C.findIndex(H=>Ni(H)&&_i(H,B));if(P===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:N,pos:P}}).sort((B,N)=>B.pos-N.pos).map(B=>B.signature),!k.length)continue}else throw new Error("Finalize: Unknown tapLeafScript");r.finalScriptWitness=k.reverse().concat([g,w_.encode(h)]);break}if(!r.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");r.finalScriptSig=ji,COe(r);return}if(!r.partialSig||!r.partialSig.length)throw new Error("Not enough partial sign");let i=ji,s=[];if(n.last.type==="ms"){let u=n.last.m,h=n.last.pubkeys,y=[];for(let g of h){let S=r.partialSig.find(T=>_i(g,T[0]));S&&y.push(S[1])}if(y=y.slice(0,u),y.length!==u)throw new Error(`Multisig: wrong signatures count, m=${u} n=${h.length} signatures=${y.length}`);i=Oa.encode([0,...y])}else if(n.last.type==="pk")i=Oa.encode([r.partialSig[0][1]]);else if(n.last.type==="pkh")i=Oa.encode([r.partialSig[0][1],r.partialSig[0][0]]);else if(n.last.type==="wpkh")i=ji,s=[r.partialSig[0][1],r.partialSig[0][0]];else if(n.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let a,c;if(n.type.includes("wsh-")&&(i.length&&n.lastScript.length&&(s=Oa.decode(i).map(u=>{if(u===0)return ji;if(Ni(u))return u;throw new Error(`Wrong witness op=${u}`)})),s=s.concat(n.lastScript)),n.txType==="segwit"&&(c=s),n.type.startsWith("sh-wsh-")?a=Oa.encode([Oa.encode([0,Au(n.lastScript)])]):n.type.startsWith("sh-")?a=Oa.encode([...Oa.decode(i),n.lastScript]):n.type.startsWith("wsh-")||n.txType!=="segwit"&&(a=i),!a&&!c)throw new Error("Unknown error finalizing input");a&&(r.finalScriptSig=a),c&&(r.finalScriptWitness=c),COe(r)}finalize(){for(let e=0;e<this.inputs.length;e++)this.finalizeIdx(e)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(e){for(let i of["PSBTVersion","version","lockTime"])if(this.opts[i]!==e.opts[i])throw new Error(`Transaction/combine: different ${i} this=${this.opts[i]} other=${e.opts[i]}`);for(let i of["inputs","outputs"])if(this[i].length!==e[i].length)throw new Error(`Transaction/combine: different ${i} length this=${this[i].length} other=${e[i].length}`);let r=this.global.unsignedTx?fh.encode(this.global.unsignedTx):ji,n=e.global.unsignedTx?fh.encode(e.global.unsignedTx):ji;if(!_i(r,n))throw new Error("Transaction/combine: different unsigned tx");this.global=bX(CX,this.global,e.global);for(let i=0;i<this.inputs.length;i++)this.updateInput(i,e.inputs[i],!0);for(let i=0;i<this.outputs.length;i++)this.updateOutput(i,e.outputs[i],!0);return this}clone(){return t.fromPSBT(this.toPSBT(2),this.opts)}};export{yee as a,sL as b,Oae as c,Nae as d,aL as e,dae as f,If as g,cL as h,Gb as i,fL as j,uL as k,vae as l,_ae as m,wae as n,Sae as o,Eae as p,Aae as q,Tae as r,Iae as s,Rae as t,UFe as u,Du as v,Myt as w,q8e as x,Nyt as y,r6 as z,X$ as A,eh as B,Gyt as C,Wyt as D,cg as E,Yyt as F,iSt as G,Tt as H,Je as I,Ow as J,jze as K,rr as L,Gze as M,Wze as N,Z5 as O,rKe as P,nKe as Q,iKe as R,oKe as S,uy as T,_x as U,ode as V,_y as W,oI as X,ZI as Y,Vx as Z,yit as _,bit as $,vit as aa,Oq as ba,Ed as ca,Sv as da,Vpr as ea,Ss as fa,Se as ga,fot as ha,uot as ia,lot as ja,Mxe as ka,Sot as la,Aot as ma,Tot as na,Iot as oa,Rot as pa,Td as qa,Ye as ra,J5 as sa,fS as ta,Et as ua,Bn as va,co as wa,xp as xa,bc as ya,Zc as za,Jc as Aa,Qc as Ba,ef as Ca,xc as Da,vp as Ea,tf as Fa,cy as Ga,vc as Ha,Nh as Ia,_p as Ja,Ch as Ka,Pn as La,Yy as Ma,Ft as Na,c1r as Oa,Xh as Pa,Uxe as Qa,ME as Ra,OE as Sa,tm as Ta,qxe as Ua,jR as Va,NE as Wa,zxe as Xa,qot as Ya,Vot as Za,Hq as _a,jot as $a,zot as ab,Kot as bb,rs as cb,Zxe as db,Av as eb,zq as fb,Yot as gb,pst as hb,mst as ib,Iv as jb,Yq as kb,Zq as lb,Md as mb,aV as nb,lV as ob,dV as pb,wvr as qb,om as rb,CV as sb,Qy as tb,e1 as ub,is as vb,Di as wb,am as xb,uu as yb,LV as zb,ie as Ab,O7 as Bb,Aj as Cb,__e as Db,Wv as Eb,o0 as Fb,Hj as Gb,eft as Hb,Jv as Ib,Qj as Jb,Hft as Kb,nu as Lb,Cxe as Mb,Not as Nb,Uq as Ob,Fq as Pb,Cot as Qb,kot as Rb,qft as Sb,yz as Tb,FSe as Ub,Ka as Vb,p3e as Wb,tK as Xb,Q6e as Yb,DK as Zb,Gmt as _b,Zmt as $b,Jmt as ac,R2 as bc,HK as cc,Mt as dc,jAe as ec,Sn as fc,LAe as gc,x0 as hc,HAe as ic,qAe as jc,VAe as kc,zAe as lc,GAe as mc,WAe as nc,YAe as oc,XAe as pc,ZAe as qc,JAe as rc,QAe as sc,e4e as tc,t4e as uc,r4e as vc,n4e as wc,KAe as xc,i4e as yc,$Ae as zc,o4e as Ac,s4e as Bc,$K as Cc,GW as Dc,WW as Ec,Ym as Fc,cgt as Gc,ho as Hc,y4e as Ic,dgt as Jc,xu as Kc,L1 as Lc,F3 as Mc,c$ as Nc,f$ as Oc,vi as Pc,d$ as Qc,Lgt as Rc,D4e as Sc,h$ as Tc,Dgt as Uc,Za as Vc,Kgt as Wc,qFr as Xc,i1t as Yc,e5e as Zc,c1t as _c,V3 as $c,o5e as ad,tG as bd,i6 as cd,$M as dd,m$ as ed,K4e as fd,$4e as gd,g$ as hd,Wgt as id,Q4e as jd,Qm as kd,wM as ld,Gr as md,Jd as nd,A$ as od,b8e as pd,tg as qd,w8e as rd,S8e as sd,E8e as td,dyt as ud,k$ as vd,Fi as wd,y$ as xd,Ggt as yd,byt as zd,P$ as Ad,L$ as Bd,U8e as Cd,j$ as Dd,K$ as Ed,Zyt as Fd,Qyt as Gd,c_ as Hd,m_t as Id,g_t as Jd,__t as Kd,w_t as Ld,S_t as Md,A_t as Nd,e1t as Od,t1t as Pd,r1t as Qd,n1t as Rd,T_t as Sd,I_t as Td,MIe as Ud,E6 as Vd,a_t as Wd,qW as Xd,KW as Yd,oh as Zd,$N as _d,$W as $d,f_t as ae,a_ as be,d_t as ce,u_t as de,A6 as ee,h_t as fe,R_t as ge,O_t as he,M_t as ie,Mun as je,x3t as ke,Can as le,d7e as me,qan as ne,$an as oe,Zan as pe,h7e as qe,scn as re,hcn as se,ARe as te,sC as ue,s7e as ve,c7e as we,rb as xe,bcn as ye,bon as ze,Scn as Ae,kon as Be,Bon as Ce,Rcn as De,NY as Ee,Dwt as Fe,_wt as Ge,Fwt as He,Hwt as Ie,qwt as Je,jwt as Ke,Afn as Le,o7e as Me,QRe as Ne,n7e as Oe,yg as Pe,Isn as Qe,Cfn as Re,Ffn as Se,S7e as Te,run as Ue,ksn as Ve,aun as We,hun as Xe,vun as Ye,Aun as Ze,E7e as _e,$wt as $e,Gwt as af,Wun as bf,Usn as cf,Wwt as df,nln as ef,jsn as ff,Ywt as gf,gln as hf,Sln as if,O7e as jf,Cln as kf,Dln as lf,gan as mf,jln as nf,Wln as of,wan as pf,Qln as qf,fdn as rf,pdn as sf,xdn as tf,Ian as uf,N7e as vf,Odn as wf,Bdn as xf,rZ as yf,E_ as zf,Oa as Af,ngn as Bf,ign as Cf,ogn as Df,Ds as Ef,MX as Ff};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/abstract/montgomery.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/curves/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

numeral/numeral.js:
  (*! @preserve
   * numeral.js
   * version : 2.0.6
   * author : Adam Draper
   * license : MIT
   * http://adamwdraper.github.com/Numeral-js/
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/btc-signer/index.js:
  (*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-DJGGVTSJ.js.map
