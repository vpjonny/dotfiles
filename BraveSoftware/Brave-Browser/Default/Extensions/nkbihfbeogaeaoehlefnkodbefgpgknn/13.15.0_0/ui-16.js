LavaPack.loadBundle([[7876,{"../../../../../shared/lib/translate":5902,"../../../../components/component-library":6529,"../../../../components/multichain":6764,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":6830,"../../../../helpers/constants/design-system":7083,"../../../../helpers/utils/notification.util":7126,"../node-guard":7871,"../types/notifications/notifications":7877,"@metamask/notification-services-controller":2393,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../../shared/lib/translate"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.METAMASK_SWAP_COMPLETED]),h=e=>(0,p.createTextItems)([e.payload.data.token_out.symbol],m.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.payload.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,l.t)("notificationItemSwapped")??"",n.payload.data.token_in.symbol,(0,l.t)("notificationItemSwappedFor")??""],m.TextVariant.bodySm)),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.payload.data.token_out.amount,e.payload.data.token_out.decimals,{shouldEllipse:!0})} ${e.payload.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:`${(0,l.t)("notificationItemSwapped")??""} ${e.payload.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.payload.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")??"",address:e.payload.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.payload.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.payload.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemSwapped")??"",detail:e.payload.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.payload.data.token_in.amount,e.payload.data.token_in.decimals,e.payload.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.payload.data.token_in.amount,e.payload.data.token_in.decimals,{shouldEllipse:!0})} ${e.payload.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.payload.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.payload.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemTo")??"",detail:e.payload.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.payload.data.token_out.amount,e.payload.data.token_out.decimals,e.payload.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.payload.data.token_out.amount,e.payload.data.token_out.decimals,{shouldEllipse:!0})} ${e.payload.data.token_out.symbol}`})},Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")??"",detail:(0,l.t)("notificationItemConfirmed")??"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.payload.tx_hash,displayText:(0,l.t)("notificationItemTransactionId")??""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.payload.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:n},label:(0,l.t)("notificationItemNetwork")??"",detail:t})},Rate:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:m.TextColor.infoDefault,backgroundColor:m.BackgroundColor.infoMuted},label:(0,l.t)("notificationItemRate")||"",detail:`1 ${e.payload.data.token_out.symbol} â‰ˆ ${(1/parseFloat(e.payload.data.rate)).toFixed(5)} ${e.payload.data.token_in.symbol}`}),NetworkFee:({notification:e})=>o.default.createElement(c.NotificationDetailNetworkFee,{notification:e})},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.payload.chain_id,txHash:e.payload.tx_hash})}}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[7877,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[7878,{"../../../shared/constants/metametrics":5791,"../../components/component-library":6529,"../../contexts/metametrics":7040,"../../helpers/constants/design-system":7083,"../../helpers/constants/routes":7088,"../../hooks/metamask-notifications/useNotifications":7180,"../../hooks/useNotificationTimeouts":7252,"./notification-components":7868,"@metamask/utils":3116,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function(e){const t=(0,a.c)(13),{notification:n}=e,g=(0,r.useNavigate)(),h=(0,o.useContext)(s.MetaMetricsContext),{setNotificationTimeout:y}=(0,m.useSnapNotificationTimeouts)(),{markNotificationAsRead:_}=(0,p.useMarkNotificationAsRead)();let E;t[0]!==_||t[1]!==g||t[2]!==n||t[3]!==y||t[4]!==h?(E=()=>{var e;h({category:l.MetaMetricsEventCategory.NotificationInteraction,event:l.MetaMetricsEventName.NotificationClicked,properties:{notification_id:n.id,notification_type:n.type,...(()=>{var e;if("notification_type"in n&&"on-chain"===n.notification_type&&null!==(e=n.payload)&&void 0!==e&&e.chain_id)return{chain_id:n.payload.chain_id}})(),previously_read:n.isRead,data:n}}),_([{id:n.id,type:n.type,isRead:n.isRead}]),n.type!==f.TRIGGER_TYPES.SNAP||(0,i.hasProperty)(n.data,"detailedView")?(0,f.hasNotificationComponents)(n.type)&&null!==(e=f.NotificationComponents[n.type])&&void 0!==e&&e.details&&g(`${d.NOTIFICATIONS_ROUTE}/${n.id}`):y(n.id)},t[0]=_,t[1]=g,t[2]=n,t[3]=y,t[4]=h,t[5]=E):E=t[5];const v=E;if(!(0,f.hasNotificationComponents)(n.type))return null;const b=f.NotificationComponents[n.type],T=`notification-list-item-${n.id}`;let k,S;t[6]!==v||t[7]!==b.item||t[8]!==n?(k=o.default.createElement(b.item,{notification:n,onClick:v}),t[6]=v,t[7]=b.item,t[8]=n,t[9]=k):k=t[9];t[10]!==T||t[11]!==k?(S=o.default.createElement(c.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,width:u.BlockSize.Full,"data-testid":T},k),t[10]=T,t[11]=k,t[12]=S):S=t[12];return S};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("@metamask/utils"),s=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),c=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../helpers/constants/routes"),p=e("../../hooks/metamask-notifications/useNotifications"),m=e("../../hooks/useNotificationTimeouts"),f=e("./notification-components");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[7879,{"../../components/component-library":6529,"../../helpers/constants/design-system":7083,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function(e){const t=(0,o.c)(8),{title:n,text:a}=e;let l,c,u,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r.default.createElement(i.Icon,{name:i.IconName.Notification,size:i.IconSize.Xl}),t[0]=l):l=t[0];t[1]!==n?(c=r.default.createElement(i.Text,{variant:s.TextVariant.headingSm},n),t[1]=n,t[2]=c):c=t[2];t[3]!==a?(u=r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Center},a),t[3]=a,t[4]=u):u=t[4];t[5]!==c||t[6]!==u?(d=r.default.createElement(i.Box,{height:s.BlockSize.Full,width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},l,c,u),t[5]=c,t[6]=u,t[7]=d):d=t[7];return d};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../components/component-library"),s=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[7880,{"../../../shared/constants/metametrics":5791,"../../components/component-library":6529,"../../contexts/metametrics":7040,"../../helpers/constants/design-system":7083,"../../hooks/metamask-notifications/useNotifications":7180,"../../hooks/useI18nContext":7235,"../../hooks/useNotificationTimeouts":7252,"@metamask/notification-services-controller/notification-services":2362,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/notification-services-controller/notification-services"),i=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../hooks/useI18nContext"),c=e("../../hooks/metamask-notifications/useNotifications"),u=e("../../components/component-library"),d=e("../../helpers/constants/design-system"),p=e("../../hooks/useNotificationTimeouts");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return(null==e?void 0:e.id)!==undefined&&!e.isRead}function g(e){return{id:e.id,type:e.type,isRead:e.isRead}}function h(e){return e.type===r.TRIGGER_TYPES.SNAP}n.NotificationsListReadAllButton=e=>{const t=(0,a.c)(10),{notifications:n}=e,r=(0,l.useI18nContext)(),{markNotificationAsRead:m}=(0,c.useMarkNotificationAsRead)(),y=(0,o.useContext)(i.MetaMetricsContext),{setNotificationTimeout:_}=(0,p.useSnapNotificationTimeouts)();let E;t[0]!==m||t[1]!==n||t[2]!==_||t[3]!==y?(E=()=>{let e=[];n&&n.length>0&&(e=n.filter(f).map(g),e.filter(h).forEach(e=>_(e.id))),y({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.MarkAllNotificationsRead}),m(e)},t[0]=m,t[1]=n,t[2]=_,t[3]=y,t[4]=E):E=t[4];const v=E;let b,T;return t[5]!==r?(b=r("notificationsMarkAllAsRead"),t[5]=r,t[6]=b):b=t[6],t[7]!==v||t[8]!==b?(T=o.default.createElement(u.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},o.default.createElement(u.Button,{onClick:v,variant:u.ButtonVariant.Primary,width:d.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},b)),t[7]=v,t[8]=b,t[9]=T):T=t[9],T}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[7881,{"../../../shared/constants/metametrics":5791,"../../components/component-library":6529,"../../contexts/metamask-notifications/metamask-notifications":7038,"../../contexts/metametrics":7040,"../../helpers/constants/design-system":7083,"../../hooks/metamask-notifications/useNotifications":7180,"../../hooks/useI18nContext":7235,"../../selectors/metamask-notifications/metamask-notifications":8095,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../hooks/useI18nContext"),s=e("../../contexts/metametrics"),l=e("../../../shared/constants/metametrics"),c=e("../../hooks/metamask-notifications/useNotifications"),u=e("../../selectors/metamask-notifications/metamask-notifications"),d=e("../../contexts/metamask-notifications/metamask-notifications"),p=e("../../components/component-library"),m=e("../../helpers/constants/design-system");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,a.c)(51),t=(0,i.useI18nContext)(),n=(0,o.useContext)(s.MetaMetricsContext),{listNotifications:f}=(0,d.useMetamaskNotificationsContext)(),{enableNotifications:g,error:h}=(0,c.useEnableNotifications)(),y=h,_=(0,r.useSelector)(u.getIsUpdatingMetamaskNotifications),[E,v]=(0,o.useState)(_||!1);let b,T,k;e[0]!==_?(b=()=>{v(_)},T=[_],e[0]=_,e[1]=b,e[2]=T):(b=e[1],T=e[2]),(0,o.useEffect)(b,T),e[3]!==g||e[4]!==y||e[5]!==_||e[6]!==f||e[7]!==n?(k=async()=>{await g(),n({category:l.MetaMetricsEventCategory.NotificationInteraction,event:l.MetaMetricsEventName.NotificationsActivated,properties:{action_type:"completed",is_profile_syncing_enabled:!0}}),y||_||f()},e[3]=g,e[4]=y,e[5]=_,e[6]=f,e[7]=n,e[8]=k):k=e[8];const S=k;let x,C;e[9]!==t?(x=t("turnOnMetamaskNotificationsMessagePrivacyLink"),e[9]=t,e[10]=x):x=e[10],e[11]!==x?(C=o.default.createElement(p.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:m.TextColor.infoDefault},x),e[11]=x,e[12]=C):C=e[12];const O=C;let w,I;e[13]!==t?(w=t("turnOnMetamaskNotificationsMessagePrivacyBold"),e[13]=t,e[14]=w):w=e[14],e[15]!==w?(I=o.default.createElement(p.Text,{as:"span",fontWeight:m.FontWeight.Bold,key:"strong-text"},w),e[15]=w,e[16]=I):I=e[16];const N=I;let R,A,M,P,B,D,L,F,j,U,W,z,$;return e[17]!==t?(R=t("metamaskNotificationsAreOff"),e[17]=t,e[18]=R):R=e[18],e[19]!==R?(A=o.default.createElement(p.Text,{variant:m.TextVariant.headingSm},R),e[19]=R,e[20]=A):A=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(M=o.default.createElement(p.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:m.BlockSize.Full,borderRadius:m.BorderRadius.MD}),e[21]=M):M=e[21],e[22]!==O||e[23]!==t?(P=t("turnOnMetamaskNotificationsMessageSecond",[O]),e[22]=O,e[23]=t,e[24]=P):P=e[24],e[25]!==P?(B=o.default.createElement(p.Text,{as:"p"},P),e[25]=P,e[26]=B):B=e[26],e[27]!==N||e[28]!==t?(D=t("turnOnMetamaskNotificationsMessageThird",[N]),e[27]=N,e[28]=t,e[29]=D):D=e[29],e[30]!==D?(L=o.default.createElement(p.Text,{as:"p"},D),e[30]=D,e[31]=L):L=e[31],e[32]!==S?(F=()=>S(),e[32]=S,e[33]=F):F=e[33],e[34]!==t?(j=t("turnOnMetamaskNotificationsButton"),e[34]=t,e[35]=j):j=e[35],e[36]!==E||e[37]!==F||e[38]!==j?(U=o.default.createElement(p.Button,{onClick:F,size:p.ButtonSize.Md,disabled:E,loading:E},j),e[36]=E,e[37]=F,e[38]=j,e[39]=U):U=e[39],e[40]!==y||e[41]!==t?(W=y&&o.default.createElement(p.Text,{as:"p",color:m.TextColor.errorDefault},t("turnOnMetamaskNotificationsError")),e[40]=y,e[41]=t,e[42]=W):W=e[42],e[43]!==U||e[44]!==W?(z=o.default.createElement(p.Box,null,U,W),e[43]=U,e[44]=W,e[45]=z):z=e[45],e[46]!==B||e[47]!==L||e[48]!==z||e[49]!==A?($=o.default.createElement(p.Container,{maxWidth:p.ContainerMaxWidth.Sm,height:m.BlockSize.Full,margin:"auto",display:m.Display.Flex,justifyContent:m.JustifyContent.center,alignItems:m.AlignItems.center,flexDirection:m.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:m.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},A,M,B,L,z),e[46]=B,e[47]=L,e[48]=z,e[49]=A,e[50]=$):$=e[50],$}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[7882,{"../../components/component-library":6529,"../../components/ui/icon/preloader/preloader-icon.component":6953,"../../helpers/constants/design-system":7083,"../../hooks/useI18nContext":7235,"../../selectors/metamask-notifications/metamask-notifications":8095,"./notifications-list-item":7878,"./notifications-list-placeholder":7879,"./notifications-list-read-all-button":7880,"./notifications-list-turn-on-notifications":7881,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TAB_KEYS=n.NotificationsList=void 0;var a=e("react-compiler-runtime"),o=g(e("react")),r=e("react-redux"),i=e("../../components/component-library"),s=e("../../helpers/constants/design-system"),l=g(e("../../components/ui/icon/preloader/preloader-icon.component")),c=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../hooks/useI18nContext"),d=e("./notifications-list-placeholder"),p=e("./notifications-list-turn-on-notifications"),m=e("./notifications-list-item"),f=e("./notifications-list-read-all-button");function g(e){return e&&e.__esModule?e:{default:e}}let h=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});const y=()=>{const e=(0,a.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Box,{height:s.BlockSize.Full,width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Column,"data-testid":"notifications-list-loading"},o.default.createElement(l.default,{size:36})),e[0]=t):t=e[0],t},_=()=>{const e=(0,a.c)(7),t=(0,u.useI18nContext)();let n,r,i;return e[0]!==t?(n=t("notificationsPageEmptyTitle"),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(r=t("notificationsPageNoNotificationsContent"),e[2]=t,e[3]=r):r=e[3],e[4]!==n||e[5]!==r?(i=o.default.createElement(d.NotificationsPlaceholder,{title:n,text:r}),e[4]=n,e[5]=r,e[6]=i):i=e[6],i},E=()=>{const e=(0,a.c)(7),t=(0,u.useI18nContext)();let n,r,i;return e[0]!==t?(n=t("notificationsPageErrorTitle"),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(r=t("notificationsPageErrorContent"),e[2]=t,e[3]=r):r=e[3],e[4]!==n||e[5]!==r?(i=o.default.createElement(d.NotificationsPlaceholder,{title:n,text:r}),e[4]=n,e[5]=r,e[6]=i):i=e[6],i},v=e=>{const t=(0,a.c)(2),{notification:n}=e;let r;return t[0]!==n?(r=o.default.createElement(m.NotificationsListItem,{notification:n}),t[0]=n,t[1]=r):r=t[1],r},b=e=>{const t=(0,a.c)(8),{activeTab:n,notifications:i,isLoading:s,isError:l}=e,u=(0,r.useSelector)(c.selectIsMetamaskNotificationsEnabled);if(n===h.WALLET&&!u){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.default.createElement(p.NotificationsListTurnOnNotifications,null),t[0]=e):e=t[0],e}if(s){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=o.default.createElement(y,null),t[1]=e):e=t[1],e}if(l){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=o.default.createElement(E,null),t[2]=e):e=t[2],e}if(0===i.length){let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=o.default.createElement(_,null),t[3]=e):e=t[3],e}let d,m;return t[4]!==i?(d=i.map(T),t[4]=i,t[5]=d):d=t[5],t[6]!==d?(m=o.default.createElement(o.default.Fragment,null,d),t[6]=d,t[7]=m):m=t[7],m};function T(e){return o.default.createElement(v,{key:e.id,notification:e})}n.NotificationsList=e=>{const t=(0,a.c)(8);let n,r,l;return t[0]!==e?(n=o.default.createElement(b,e),t[0]=e,t[1]=n):n=t[1],t[2]!==e.notifications||t[3]!==e.notificationsCount?(r=e.notifications.length>0&&e.notificationsCount>0?o.default.createElement(f.NotificationsListReadAllButton,{notifications:e.notifications}):null,t[2]=e.notifications,t[3]=e.notificationsCount,t[4]=r):r=t[4],t[5]!==n||t[6]!==r?(l=o.default.createElement(i.Box,{"data-testid":"notifications-list",height:s.BlockSize.Full,width:s.BlockSize.Full,className:"notifications__list"},n,r),t[5]=n,t[6]=r,t[7]=l):l=t[7],l}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[7883,{"../../components/component-library":6529,"../../components/multichain/pages/page":6863,"../../components/ui/tabs":7008,"../../contexts/metamask-notifications/metamask-notifications":7038,"../../helpers/constants/design-system":7083,"../../helpers/constants/routes":7088,"../../hooks/metamask-notifications/useCounter":7179,"../../hooks/useI18nContext":7235,"../../selectors":8094,"../../selectors/metamask-notifications/metamask-notifications":8095,"../../store/actions":8127,"./NewFeatureTag":7860,"./notifications-list":7882,"@metamask/notification-services-controller/notification-services":2362,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(33),t=(0,i.useNavigate)(),n=(0,l.useI18nContext)(),s=(0,r.useDispatch)(),{isLoading:h,error:b}=(0,m.useMetamaskNotificationsContext)(),[S,x]=(0,o.useState)(E.TAB_KEYS.ALL),C=T(),{notificationsUnreadCount:O}=(0,f.useUnreadNotificationsCounter)();let w;e[0]!==S||e[1]!==C?(w=k(S,C),e[0]=S,e[1]=C,e[2]=w):w=e[2];const I=w;let N,R,A,M,P,B,D,L,F;N=(0,r.useSelector)(g.getNotifySnaps).length>0,e[3]!==s?(R=()=>{s((0,_.deleteExpiredNotifications)())},A=[s],e[3]=s,e[4]=R,e[5]=A):(R=e[4],A=e[5]);(0,o.useEffect)(R,A),e[6]!==t?(M=o.default.createElement(c.ButtonIcon,{ariaLabel:"Back",iconName:c.IconName.ArrowLeft,size:c.ButtonIconSize.Md,onClick:()=>{t(d.DEFAULT_ROUTE)},"data-testid":"back-button"}),e[6]=t,e[7]=M):M=e[7];e[8]===Symbol.for("react.memo_cache_sentinel")?(P={size:c.IconSize.Lg},e[8]=P):P=e[8];e[9]!==t?(B=o.default.createElement(c.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:c.IconName.Setting,size:c.ButtonIconSize.Md,iconProps:P,onClick:()=>{t(d.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),e[9]=t,e[10]=B):B=e[10];e[11]!==n?(D=n("notifications"),e[11]=n,e[12]=D):D=e[12];e[13]!==M||e[14]!==B||e[15]!==D?(L=o.default.createElement(p.Header,{startAccessory:M,endAccessory:B,marginBottom:0},D),e[13]=M,e[14]=B,e[15]=D,e[16]=L):L=e[16];e[17]!==S||e[18]!==N||e[19]!==n?(F=N&&o.default.createElement(u.Tabs,{defaultActiveTabKey:S,onTabClick:e=>x(e),tabListProps:{className:"px-4"}},o.default.createElement(u.Tab,{"data-testid":E.TAB_KEYS.ALL,name:n("all"),tabKey:E.TAB_KEYS.ALL}),o.default.createElement(u.Tab,{"data-testid":E.TAB_KEYS.WALLET,name:o.default.createElement(c.Box,{display:y.Display.Flex,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center,gap:2},n("wallet"),o.default.createElement(v.NewFeatureTag,null)),tabKey:E.TAB_KEYS.WALLET}),o.default.createElement(u.Tab,{"data-testid":E.TAB_KEYS.WEB3,name:n("web3"),tabKey:E.TAB_KEYS.WEB3})),e[17]=S,e[18]=N,e[19]=n,e[20]=F):F=e[20];const j=Boolean(b);let U,W,z;e[21]!==S||e[22]!==I||e[23]!==h||e[24]!==O||e[25]!==j?(U=o.default.createElement(E.NotificationsList,{activeTab:S,notifications:I,isLoading:h,isError:j,notificationsCount:O}),e[21]=S,e[22]=I,e[23]=h,e[24]=O,e[25]=j,e[26]=U):U=e[26];e[27]!==U||e[28]!==F?(W=o.default.createElement(p.Content,{padding:0},F,U),e[27]=U,e[28]=F,e[29]=W):W=e[29];e[30]!==W||e[31]!==L?(z=o.default.createElement(p.Page,{"data-testid":"notifications-page"},L,W),e[30]=W,e[31]=L,e[32]=z):z=e[32];return z},n.filterNotifications=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/notification-services-controller/notification-services"),l=e("../../hooks/useI18nContext"),c=e("../../components/component-library"),u=e("../../components/ui/tabs"),d=e("../../helpers/constants/routes"),p=e("../../components/multichain/pages/page"),m=e("../../contexts/metamask-notifications/metamask-notifications"),f=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),h=e("../../selectors/metamask-notifications/metamask-notifications"),y=e("../../helpers/constants/design-system"),_=e("../../store/actions"),E=e("./notifications-list"),v=e("./NewFeatureTag");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const T=()=>{const e=(0,a.c)(4),{featureAnnouncementNotifications:t,walletNotifications:n,snapNotifications:o}=(()=>{const e=(0,a.c)(14),t=(0,r.useSelector)(h.selectIsFeatureAnnouncementsEnabled),n=(0,r.useSelector)(h.selectIsMetamaskNotificationsEnabled),o=(0,r.useSelector)(h.getMetamaskNotifications);let i;e[0]!==t||e[1]!==o?(i=t?(o??[]).filter(S):[],e[0]=t,e[1]=o,e[2]=i):i=e[2];const s=i;let l;e[3]!==n||e[4]!==o?(l=n?(o??[]).filter(x):[],e[3]=n,e[4]=o,e[5]=l):l=e[5];const c=l;let u,d;e[6]!==o?(u=o??[],e[6]=o,e[7]=u):u=e[7],e[8]!==u?(d=u.filter(C),e[8]=u,e[9]=d):d=e[9];const p=d;let m;return e[10]!==s||e[11]!==p||e[12]!==c?(m={featureAnnouncementNotifications:s,walletNotifications:c,snapNotifications:p},e[10]=s,e[11]=p,e[12]=c,e[13]=m):m=e[13],m})();let i;e[0]!==t||e[1]!==o||e[2]!==n?(i=[...o,...t,...n].sort(O),e[0]=t,e[1]=o,e[2]=n,e[3]=i):i=e[3];return i},k=(e,t)=>e===E.TAB_KEYS.ALL?t:e===E.TAB_KEYS.WALLET?t.filter(e=>s.NOTIFICATION_API_TRIGGER_TYPES_SET.has(e.type)||e.type===s.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT):e===E.TAB_KEYS.WEB3?t.filter(e=>e.type===s.TRIGGER_TYPES.SNAP):t;function S(e){return e.type===s.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT}function x(e){return e.type!==s.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&e.type!==s.TRIGGER_TYPES.SNAP}function C(e){return e.type===s.TRIGGER_TYPES.SNAP}function O(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}n.filterNotifications=k}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[7884,{"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/lib/trace":5897,"../../../components/component-library":6529,"../../../components/component-library/button":6508,"../../../contexts/metametrics":7040,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(58),t=(0,r.useNavigate)(),n=(0,i.useDispatch)(),_=(0,u.useI18nContext)(),E=(0,i.useSelector)(p.getFirstTimeFlowType),v=(0,i.useSelector)(p.getSocialLoginEmail),b=(0,i.useSelector)(p.getSocialLoginType),T=(0,o.useContext)(g.MetaMetricsContext),{bufferedTrace:k,bufferedEndTrace:S,onboardingParentContext:x}=T;let C;e[0]!==n||e[1]!==t?(C=async e=>{e.preventDefault(),await n((0,f.resetOnboarding)()),await(0,f.forceUpdateMetamaskState)(n),t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0})},e[0]=n,e[1]=t,e[2]=C):C=e[2];const O=C;let w;e[3]!==k||e[4]!==t||e[5]!==(null==x?void 0:x.current)||e[6]!==b||e[7]!==T?(w=async()=>{T({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${h.MetaMetricsEventAccountType.Imported}_${b}`}}),null==k||k({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),t(d.ONBOARDING_UNLOCK_ROUTE,{replace:!0})},e[3]=k,e[4]=t,e[5]=null==x?void 0:x.current,e[6]=b,e[7]=T,e[8]=w):w=e[8];const I=w;let N,R,A,M,P,B,D,L;e[9]!==S||e[10]!==k||e[11]!==E||e[12]!==t||e[13]!==(null==x?void 0:x.current)||e[14]!==T?(N=()=>(E===m.FirstTimeFlowType.socialImport?(T({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.AccountAlreadyExistsPageViewed}),null==k||k({name:y.TraceName.OnboardingNewSocialAccountExists,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})):t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0}),()=>{E===m.FirstTimeFlowType.socialImport&&(null==S||S({name:y.TraceName.OnboardingNewSocialAccountExists}))}),e[9]=S,e[10]=k,e[11]=E,e[12]=t,e[13]=null==x?void 0:x.current,e[14]=T,e[15]=N):N=e[15];e[16]!==S||e[17]!==k||e[18]!==E||e[19]!==t||e[20]!==x||e[21]!==T?(R=[E,t,x,k,S,T],e[16]=S,e[17]=k,e[18]=E,e[19]=t,e[20]=x,e[21]=T,e[22]=R):R=e[22];(0,o.useEffect)(N,R),e[23]===Symbol.for("react.memo_cache_sentinel")?(A={alignSelf:l.AlignItems.flexStart},e[23]=A):A=e[23];e[24]!==_?(M=_("accountAlreadyExistsTitle"),e[24]=_,e[25]=M):M=e[25];e[26]!==M?(P=o.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:A,marginBottom:4},M),e[26]=M,e[27]=P):P=e[27];e[28]!==_?(B=_("accountAlreadyExistsTitle"),e[28]=_,e[29]=B):B=e[29];e[30]===Symbol.for("react.memo_cache_sentinel")?(D={alignSelf:"center"},e[30]=D):D=e[30];e[31]!==B?(L=o.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},o.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:B,style:D})),e[31]=B,e[32]=L):L=e[32];const F=v||"-";let j,U,W,z,$,G,V,q,J;e[33]!==_||e[34]!==F?(j=_("accountAlreadyExistsLoginDescription",[F]),e[33]=_,e[34]=F,e[35]=j):j=e[35];e[36]!==j?(U=o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6},j),e[36]=j,e[37]=U):U=e[37];e[38]!==U||e[39]!==P||e[40]!==L?(W=o.default.createElement(c.Box,null,o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},P,L,U)),e[38]=U,e[39]=P,e[40]=L,e[41]=W):W=e[41];e[42]!==_?(z=_("accountAlreadyExistsLogin"),e[42]=_,e[43]=z):z=e[43];e[44]!==I||e[45]!==z?($=o.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:I},z),e[44]=I,e[45]=z,e[46]=$):$=e[46];e[47]!==_?(G=_("useDifferentLoginMethod"),e[47]=_,e[48]=G):G=e[48];e[49]!==O||e[50]!==G?(V=o.default.createElement(s.Button,{"data-testid":"account-exist-login-with-different-method",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:O},G),e[49]=O,e[50]=G,e[51]=V):V=e[51];e[52]!==$||e[53]!==V?(q=o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,gap:4},$,V),e[52]=$,e[53]=V,e[54]=q):q=e[54];e[55]!==W||e[56]!==q?(J=o.default.createElement(c.Box,{className:"account-exist","data-testid":"account-exist",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,height:l.BlockSize.Full,gap:6},W,q),e[55]=W,e[56]=q,e[57]=J):J=e[57];return J};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../../shared/constants/onboarding"),f=e("../../../store/actions"),g=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/lib/trace");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[7885,{"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/lib/trace":5897,"../../../components/component-library":6529,"../../../components/component-library/button":6508,"../../../contexts/metametrics":7040,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(58),t=(0,r.useNavigate)(),n=(0,i.useDispatch)(),_=(0,u.useI18nContext)(),E=(0,i.useSelector)(p.getFirstTimeFlowType),v=(0,i.useSelector)(p.getSocialLoginEmail),b=(0,i.useSelector)(p.getSocialLoginType),T=(0,o.useContext)(y.MetaMetricsContext),{bufferedTrace:k,bufferedEndTrace:S,onboardingParentContext:x}=T;let C;e[0]!==n||e[1]!==t?(C=async()=>{await n((0,f.resetOnboarding)()),await(0,f.forceUpdateMetamaskState)(n),t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0})},e[0]=n,e[1]=t,e[2]=C):C=e[2];const O=C;let w;e[3]!==k||e[4]!==t||e[5]!==(null==x?void 0:x.current)||e[6]!==b||e[7]!==T?(w=()=>{T({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Default}_${b}`}}),null==k||k({name:h.TraceName.OnboardingNewSocialCreateWallet,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==x?void 0:x.current}),t(d.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},e[3]=k,e[4]=t,e[5]=null==x?void 0:x.current,e[6]=b,e[7]=T,e[8]=w):w=e[8];const I=w;let N,R,A,M,P,B,D,L;e[9]!==S||e[10]!==k||e[11]!==E||e[12]!==t||e[13]!==(null==x?void 0:x.current)||e[14]!==T?(N=()=>(E===m.FirstTimeFlowType.socialCreate?(T({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.AccountNotFoundPageViewed}),null==k||k({name:h.TraceName.OnboardingExistingSocialAccountNotFound,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==x?void 0:x.current})):t(d.ONBOARDING_WELCOME_ROUTE,{replace:!0}),()=>{E===m.FirstTimeFlowType.socialCreate&&(null==S||S({name:h.TraceName.OnboardingExistingSocialAccountNotFound}))}),e[9]=S,e[10]=k,e[11]=E,e[12]=t,e[13]=null==x?void 0:x.current,e[14]=T,e[15]=N):N=e[15];e[16]!==S||e[17]!==k||e[18]!==E||e[19]!==t||e[20]!==x||e[21]!==T?(R=[E,t,x,k,S,T],e[16]=S,e[17]=k,e[18]=E,e[19]=t,e[20]=x,e[21]=T,e[22]=R):R=e[22];(0,o.useEffect)(N,R),e[23]===Symbol.for("react.memo_cache_sentinel")?(A={alignSelf:l.AlignItems.flexStart},e[23]=A):A=e[23];e[24]!==_?(M=_("accountNotFoundTitle"),e[24]=_,e[25]=M):M=e[25];e[26]!==M?(P=o.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:A,marginBottom:4},M),e[26]=M,e[27]=P):P=e[27];e[28]!==_?(B=_("accountNotFoundTitle"),e[28]=_,e[29]=B):B=e[29];e[30]===Symbol.for("react.memo_cache_sentinel")?(D={alignSelf:"center"},e[30]=D):D=e[30];e[31]!==B?(L=o.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},o.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:B,style:D})),e[31]=B,e[32]=L):L=e[32];const F=v||"-";let j,U,W,z,$,G,V,q,J;e[33]!==_||e[34]!==F?(j=_("accountNotFoundDescription",[F]),e[33]=_,e[34]=F,e[35]=j):j=e[35];e[36]!==j?(U=o.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,marginBottom:6},j),e[36]=j,e[37]=U):U=e[37];e[38]!==U||e[39]!==P||e[40]!==L?(W=o.default.createElement(c.Box,null,o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},P,L,U)),e[38]=U,e[39]=P,e[40]=L,e[41]=W):W=e[41];e[42]!==_?(z=_("accountNotFoundCreateOne"),e[42]=_,e[43]=z):z=e[43];e[44]!==I||e[45]!==z?($=o.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:I},z),e[44]=I,e[45]=z,e[46]=$):$=e[46];e[47]!==_?(G=_("useDifferentLoginMethod"),e[47]=_,e[48]=G):G=e[48];e[49]!==O||e[50]!==G?(V=o.default.createElement(s.Button,{"data-testid":"account-exist-login-with-different-method",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:O},G),e[49]=O,e[50]=G,e[51]=V):V=e[51];e[52]!==$||e[53]!==V?(q=o.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,gap:4},$,V),e[52]=$,e[53]=V,e[54]=q):q=e[54];e[55]!==W||e[56]!==q?(J=o.default.createElement(c.Box,{className:"account-not-found","data-testid":"account-not-found",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,gap:6,height:l.BlockSize.Full},W,q),e[55]=W,e[56]=q,e[57]=J):J=e[57];return J};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../../shared/constants/onboarding"),f=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace"),y=e("../../../contexts/metametrics");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[7886,{"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/lib/trace":5897,"../../../../shared/modules/browser-runtime.utils":5910,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/routes":7088,"../../../selectors":8094,"../../../store/actions":8127,"../../create-password-form":7811,buffer:4084,loglevel:4846,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:a}){const[f,g]=(0,o.useState)(!1),v=(0,r.useNavigate)(),T=(0,i.useDispatch)(),k=(0,i.useSelector)(c.getFirstTimeFlowType),S=(0,o.useContext)(u.MetaMetricsContext),{bufferedTrace:x,bufferedEndTrace:C,onboardingParentContext:O}=S,w=(0,i.useSelector)(c.getCurrentKeyring),I=(0,i.useSelector)(c.getIsSocialLoginFlow),N=(0,i.useSelector)(c.getSocialLoginType),R=(0,i.useSelector)(_.getIsWalletResetInProgress),A=(0,i.useSelector)(c.getParticipateInMetaMetrics),M=(0,i.useSelector)(c.getIsParticipateInMetaMetricsSet),P=(0,i.useSelector)(c.getMetaMetricsId),B=t.from(P??"").toString("base64"),D=Boolean(A&&B),L=`https://start.metamask.io/?${new URLSearchParams({mmi:B,env:"production"}).toString()}`,F=(0,o.useCallback)(async()=>{await T((0,h.getIsSeedlessOnboardingUserAuthenticated)())||v(l.ONBOARDING_WELCOME_ROUTE,{replace:!0})},[T,v]);(0,o.useEffect)(()=>{!w||f||R?k!==m.FirstTimeFlowType.import||a||v(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):k===m.FirstTimeFlowType.import||k===m.FirstTimeFlowType.socialImport?b||k!==m.FirstTimeFlowType.socialImport?v(M?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0}):v(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):k===m.FirstTimeFlowType.socialCreate?v(l.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):v(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0})},[w,v,k,f,a,M,R]),(0,o.useEffect)(()=>{(async()=>{I&&await F()})()},[I,F]);const j=(e,t=!1)=>{if(t&&N){return`${e}_${String(N).toLowerCase()}`}return e};(0,o.useEffect)(()=>(null==x||x({name:y.TraceName.OnboardingPasswordSetupAttempt,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==O?void 0:O.current}),()=>{null==C||C({name:y.TraceName.OnboardingPasswordSetupAttempt})}),[O,x,C]);return o.default.createElement(p.Box,null,o.default.createElement(E.CreatePasswordForm,{isSocialLoginFlow:I,onSubmit:async(t,o)=>{if(t)try{a&&k===m.FirstTimeFlowType.import?await(async e=>{S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletImportAttempted}),await n(e,a),null==C||C({name:y.TraceName.OnboardingExistingSrpImport}),null==C||C({name:y.TraceName.OnboardingJourneyOverall}),S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:j(d.MetaMetricsEventAccountType.Imported,I)}}),v(b||I?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS,{replace:!0})})(t):await(async(t,n)=>{S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:j(d.MetaMetricsEventAccountType.Default,I)}}),g(!0),await e(t),I&&(null==C||C({name:y.TraceName.OnboardingNewSocialCreateWallet}),null==C||C({name:y.TraceName.OnboardingJourneyOverall})),S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:j(d.MetaMetricsEventAccountType.Default,I)}}),S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:j(d.MetaMetricsEventAccountType.Default,I)}}),I?(n&&(T((0,h.setMarketingConsent)(!0)),T((0,h.setDataCollectionForMarketing)(!0))),v(l.ONBOARDING_DOWNLOAD_APP_ROUTE,{replace:!0})):v(l.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0})})(t,o)}catch(e){s.default.error("Error creating password",e),S({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.WalletSetupFailure})}},onBack:async e=>{e.preventDefault(),k===m.FirstTimeFlowType.import?v(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,{replace:!0}):(await T((0,h.resetOnboarding)()),await(0,h.forceUpdateMetamaskState)(T),v(l.ONBOARDING_WELCOME_ROUTE,{replace:!0}))}}),D?o.default.createElement("iframe",{src:L,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../components/component-library"),m=e("../../../../shared/constants/onboarding"),f=e("../../../../shared/constants/app"),g=e("../../../../shared/modules/browser-runtime.utils"),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),_=e("../../../ducks/metamask/metamask"),E=e("../../create-password-form");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(0,g.getBrowserName)()===f.PLATFORM_FIREFOX}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.tsx"}],[7887,{"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../components/component-library":6529,"../../../components/component-library/button":6508,"../../../components/component-library/lottie-animation":6535,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../hooks/useSidePanelEnabled":7261,"../../../selectors":8094,"../../../store/actions":8127,"./wallet-ready-animation":7888,react:5256,"react-redux":5221,"react-router-dom":5231,"webextension-polyfill":5763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useNavigate)(),t=(0,r.useDispatch)(),n=(0,u.useI18nContext)(),{search:b}=(0,o.useLocation)(),T=(0,r.useSelector)(h.getIsPrimarySeedPhraseBackedUp),k=(0,r.useSelector)(p.getExternalServicesOnboardingToggleState),S=(0,a.useContext)(m.MetaMetricsContext),x=(0,r.useSelector)(p.getFirstTimeFlowType),C=(0,E.useSidePanelEnabled)(),O=(0,r.useSelector)(p.getPreferences),w=(null==O?void 0:O.useSidePanelAsDefault)??!1,I=(0,r.useSelector)(h.getCompletedOnboarding),N=new URLSearchParams(b),R=N.get("isFromReminder"),A=N.get("isFromSettingsSecurity"),M=T&&R,[P,B]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=i.default,t=e=>{B(!1)};var n;C&&(null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&null!==(n=n.onClosed)&&void 0!==n&&n.addListener?e.sidePanel.onClosed.addListener(t):(console.warn("`sidePanel.onClosed` event is not available"),B(!1)));return()=>{var n;null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&null!==(n=n.onClosed)&&void 0!==n&&n.removeListener&&e.sidePanel.onClosed.removeListener(t)}},[C]);const D=(0,a.useMemo)(()=>n(R?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp"),[R,n]),L=(0,a.useMemo)(()=>a.default.createElement(_.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[]),F=(0,a.useMemo)(()=>a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,justifyContent:l.JustifyContent.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:l.BorderRadius.LG,width:l.BlockSize.Full,onClick:()=>e(`${d.ONBOARDING_PRIVACY_SETTINGS_ROUTE}?isFromReminder=true`)},a.default.createElement(c.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(c.Icon,{name:c.IconName.Setting,size:c.IconSize.Md,marginInlineEnd:3}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},n("manageDefaultSettings"))),a.default.createElement(c.Icon,{name:c.IconName.ArrowRight,color:l.IconColor.iconAlternative,size:c.IconSize.Sm}))),[e,n]),j=(0,a.useCallback)(async()=>{if(R)e(A?d.SECURITY_ROUTE:d.DEFAULT_ROUTE);else{if(!I){const e=x===g.FirstTimeFlowType.create||x===g.FirstTimeFlowType.socialCreate;S({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingCompleted,properties:{wallet_setup_type:x,new_wallet:e,is_basic_functionality_enabled:k}})}if(await t((0,y.toggleExternalServices)(k)),C){if(w)return await t((0,y.setCompletedOnboarding)()),void e(d.DEFAULT_ROUTE);try{var n;const e=i.default;if(null!=e&&null!==(n=e.sidePanel)&&void 0!==n&&n.open){const n=await i.default.tabs.query({active:!0,currentWindow:!0});if(n&&n.length>0)return await e.sidePanel.open({windowId:n[0].windowId}),await t((0,y.setUseSidePanelAsDefault)(!0)),await t((0,y.setCompletedOnboardingWithSidepanel)()),void B(!0)}}catch(e){console.error("Error opening side panel:",e)}}await t((0,y.setCompletedOnboarding)()),e(d.DEFAULT_ROUTE)}},[I,R,t,k,e,S,x,A,C,w]);return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},M&&a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},a.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:{alignSelf:l.AlignItems.flexStart},marginBottom:4},n("yourWalletIsReadyFromReminder")),a.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},a.default.createElement(c.Box,{display:l.Display.Flex,style:{width:"144px",height:"144px"}},L)),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},D),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},n("walletReadyLearn",[a.default.createElement(c.ButtonLink,{key:"walletReadyLearn",size:c.ButtonLinkSize.Inherit,textProps:{variant:l.TextVariant.bodyMd,alignItems:l.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},n("learnHow"))]))),F),!M&&a.default.createElement(v.default,null),!M&&a.default.createElement(c.Text,{className:"title"},n("yourWalletIsReady")),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:j,disabled:C&&P},n(C?"openWallet":"done"))),!M&&a.default.createElement(c.Box,null,a.default.createElement(s.Button,{variant:s.ButtonVariant.Link,onClick:()=>e(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE),textAlign:l.TextAlign.Center,width:l.BlockSize.Full,"data-testid":"manage-default-settings"},n("manageDefaultSettings"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=b(e("webextension-polyfill")),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/constants/onboarding"),h=e("../../../ducks/metamask/metamask"),y=e("../../../store/actions"),_=e("../../../components/component-library/lottie-animation"),E=e("../../../hooks/useSidePanelEnabled"),v=b(e("./wallet-ready-animation"));function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.tsx"}],[7888,{"../../../../shared/constants/preferences":5800,"../../../contexts/rive-wasm":7041,"../../../hooks/useTheme":7264,"@metamask/design-system-react":1807,"@rive-app/react-canvas":3194,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(20),t=(0,s.useTheme)(),n=(0,c.useRiveWasmContext)(),{isWasmReady:u,error:m}=n,{buffer:f,error:g,loading:h}=(0,c.useRiveWasmFile)("./images/riv_animations/wallet_ready.riv");let y,_,E;e[0]!==g||e[1]!==m?(y=()=>{m&&console.error("[Rive] Failed to load WASM:",m),g&&console.error("[Rive] Failed to load buffer:",g)},_=[m,g],e[0]=g,e[1]=m,e[2]=y,e[3]=_):(y=e[2],_=e[3]);(0,o.useEffect)(y,_),e[4]!==f?(E={buffer:f},e[4]=f,e[5]=E):E=e[5];const{riveFile:v,status:b}=(0,r.useRiveFile)(E),T=v??undefined,k=v?"OnboardingLoader":undefined;let S,x;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),e[6]=S):S=e[6];e[7]!==T||e[8]!==k?(x={riveFile:T,stateMachines:k,autoplay:!1,layout:S},e[7]=T,e[8]=k,e[9]=x):x=e[9];const{rive:C,RiveComponent:O}=(0,r.useRive)(x);let w,I,N;e[10]!==f||e[11]!==h||e[12]!==u||e[13]!==C||e[14]!==t?(w=()=>{if(C&&u&&!h&&f){console.log("rive is loaded",C);const e=C.stateMachineInputs("OnboardingLoader");if(e){const n=e.find(p);n&&t===l.ThemeType.dark?n.value=!0:n&&(n.value=!1);const a=e.find(d);a&&a.fire(),C.play()}}},I=[C,t,u,h,f],e[10]=f,e[11]=h,e[12]=u,e[13]=C,e[14]=t,e[15]=w,e[16]=I):(w=e[15],I=e[16]);if((0,o.useEffect)(w,I),!u||h||!f||"loading"===b||"failed"===b){let t;return e[17]===Symbol.for("react.memo_cache_sentinel")?(t=o.default.createElement(i.Box,{className:"riv-animation__wallet-ready-container"}),e[17]=t):t=e[17],t}e[18]!==O?(N=o.default.createElement(i.Box,{className:"riv-animation__wallet-ready-container"},o.default.createElement(O,{className:"riv-animation__canvas"})),e[18]=O,e[19]=N):N=e[19];return N};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),i=e("@metamask/design-system-react"),s=e("../../../hooks/useTheme"),l=e("../../../../shared/constants/preferences"),c=e("../../../contexts/rive-wasm");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return"Only_End"===e.name}function p(e){return"Dark mode"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/wallet-ready-animation.tsx"}],[7889,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.c)(26),t=(0,s.useI18nContext)(),n=(0,r.useNavigate)(),p=(0,i.useSelector)(d.getCurrentKeyring);let m;e[0]!==n?(m=async()=>{n(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0})},e[0]=n,e[1]=m):m=e[1];const f=m;let g,h,y,_,E,v,b,T,k,S,x;e[2]!==p||e[3]!==n?(g=()=>{p||n(c.ONBOARDING_WELCOME_ROUTE,{replace:!0})},h=[p,n],e[2]=p,e[3]=n,e[4]=g,e[5]=h):(g=e[4],h=e[5]);(0,o.useEffect)(g,h),e[6]!==t?(y=t("downloadAppTitle"),e[6]=t,e[7]=y):y=e[7];e[8]!==y?(_=o.default.createElement(u.Text,{variant:l.TextVariant.headingLg,marginBottom:4},y),e[8]=y,e[9]=_):_=e[9];e[10]===Symbol.for("react.memo_cache_sentinel")?(E=o.default.createElement(u.Box,{display:l.Display.Flex,alignItems:l.AlignItems.flexStart,justifyContent:l.JustifyContent.center,marginBottom:4},o.default.createElement("img",{src:"/images/onboarding-download-app.png",alt:"Download the app"})),e[10]=E):E=e[10];e[11]!==t?(v=t("downloadAppDescription"),e[11]=t,e[12]=v):v=e[12];e[13]!==v?(b=o.default.createElement(u.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},v),e[13]=v,e[14]=b):b=e[14];e[15]!==_||e[16]!==b?(T=o.default.createElement(u.Box,null,_,E,b),e[15]=_,e[16]=b,e[17]=T):T=e[17];e[18]!==t?(k=t("continue"),e[18]=t,e[19]=k):k=e[19];e[20]!==f||e[21]!==k?(S=o.default.createElement(u.Box,null,o.default.createElement(u.Button,{variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,block:!0,"data-testid":"download-app-continue",onClick:f},k)),e[20]=f,e[21]=k,e[22]=S):S=e[22];e[23]!==S||e[24]!==T?(x=o.default.createElement(u.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"onboarding-download-app","data-testid":"onboarding-download-app"},T,S),e[23]=S,e[24]=T,e[25]=x):x=e[25];return x};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/download-app/download-app.tsx"}],[7890,{"../../../../shared/constants/metametrics":5791,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../selectors/selectors":8114,"../../../store/actions":8127,"../../srp-input-form":8041,"@ethersproject/hdnode":757,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(46),{submitSecretRecoveryPhrase:n}=e,a=(0,s.useDispatch)(),[v,T]=(0,r.useState)(""),[k,S]=(0,r.useState)(""),x=(0,i.useNavigate)(),C=(0,s.useSelector)(g.getHDEntropyIndex),O=(0,d.useI18nContext)(),w=(0,s.useSelector)(p.getCurrentKeyring),I=(0,s.useSelector)(E.getIsWalletResetInProgress);let N,R;t[0]!==w||t[1]!==I||t[2]!==x?(N=()=>{w&&!I&&x(u.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})},R=[w,x,I],t[0]=w,t[1]=I,t[2]=x,t[3]=N,t[4]=R):(N=t[3],R=t[4]);(0,r.useEffect)(N,R);const A=(0,r.useContext)(m.MetaMetricsContext);let M;t[5]!==a||t[6]!==x?(M=async e=>{e.preventDefault(),await a((0,y.resetOnboarding)()),await(0,y.forceUpdateMetamaskState)(a),x(u.ONBOARDING_WELCOME_ROUTE,{replace:!0})},t[5]=a,t[6]=x,t[7]=M):M=t[7];const P=M;let B;t[8]!==C||t[9]!==x||t[10]!==v||t[11]!==n||t[12]!==O||t[13]!==A?(B=()=>{let e="";!b(v)&&(0,l.isValidMnemonic)(v)||(e=O("invalidSeedPhraseNotFound")),S(e),e||(null==n||n(v),A({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:C}}),x(u.ONBOARDING_CREATE_PASSWORD_ROUTE))},t[8]=C,t[9]=x,t[10]=v,t[11]=n,t[12]=O,t[13]=A,t[14]=B):B=t[14];const D=B;let L,F,j,U,W,z,$,G,V,q,J,K,Y;t[15]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{S("")},t[15]=L):L=t[15];t[16]!==v?(F=[v],t[16]=v,t[17]=F):F=t[17];(0,r.useEffect)(L,F),t[18]!==O?(j=O("back"),t[18]=O,t[19]=j):j=t[19];t[20]!==P||t[21]!==j?(U=r.default.createElement(h.Box,{marginBottom:4},r.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:h.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:P,ariaLabel:j})),t[20]=P,t[21]=j,t[22]=U):U=t[22];t[23]!==O?(W=O("importAWallet"),t[23]=O,t[24]=W):W=t[24];t[25]!==W?(z=r.default.createElement(h.Box,{textAlign:c.TextAlign.Left,marginBottom:2},r.default.createElement(h.Text,{variant:c.TextVariant.headingLg},W)),t[25]=W,t[26]=z):z=t[26];t[27]===Symbol.for("react.memo_cache_sentinel")?($=()=>S(""),t[27]=$):$=t[27];t[28]!==k?(G=r.default.createElement(_.default,{error:k,setSecretRecoveryPhrase:T,onClearCallback:$}),t[28]=k,t[29]=G):G=t[29];t[30]!==z||t[31]!==G||t[32]!==U?(V=r.default.createElement(h.Box,null,U,z,G),t[30]=z,t[31]=G,t[32]=U,t[33]=V):V=t[33];t[34]!==v||t[35]!==k?(q=!v.trim()||Boolean(k),t[34]=v,t[35]=k,t[36]=q):q=t[36];t[37]!==O?(J=O("continue"),t[37]=O,t[38]=J):J=t[38];t[39]!==D||t[40]!==q||t[41]!==J?(K=r.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,textAlign:c.TextAlign.Left},r.default.createElement(h.Button,{width:c.BlockSize.Full,size:h.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:D,disabled:q,className:"import-srp__continue-button"},J)),t[39]=D,t[40]=q,t[41]=J,t[42]=K):K=t[42];t[43]!==V||t[44]!==K?(Y=r.default.createElement(h.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},V,K),t[43]=V,t[44]=K,t[45]=Y):Y=t[45];return Y};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-router-dom"),s=e("react-redux"),l=e("@ethersproject/hdnode"),c=e("../../../helpers/constants/design-system"),u=e("../../../helpers/constants/routes"),d=e("../../../hooks/useI18nContext"),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),h=e("../../../components/component-library"),y=e("../../../store/actions"),_=(a=e("../../srp-input-form"))&&a.__esModule?a:{default:a},E=e("../../../ducks/metamask/metamask");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=e=>e!==e.toLowerCase()}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.tsx"}],[7891,{"./onboarding-flow":7895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./onboarding-flow"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/onboarding-flow/index.ts"}],[7892,{"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/modules/browser-runtime.utils":5910,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,loglevel:4846,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,i.useNavigate)(),a=(0,r.useSelector)(d.getFirstTimeFlowType),m=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet),_=(0,r.useSelector)(d.getParticipateInMetaMetrics),v=(0,r.useSelector)(d.getDataCollectionForMarketing),[b,T]=(0,o.useState)(!0),[k,S]=(0,o.useState)(!1),x=(0,o.useRef)(null),C=(0,o.useRef)(null);(0,o.useEffect)(()=>{m&&T(_),v&&S(v)},[m,_,v]);const O=(0,r.useSelector)(d.getCurrentKeyring),w=(0,o.useContext)(g.MetaMetricsContext);let I=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);E&&a!==y.FirstTimeFlowType.restore&&(I=O&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement(h.Box,{className:"onboarding-metametrics","data-testid":"onboarding-metametrics",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(h.Text,{variant:l.TextVariant.headingLg,textAlign:l.TextAlign.Left,fontWeight:l.FontWeight.Bold},e("onboardingMetametricsTitle")),o.default.createElement(h.Box,{width:l.BlockSize.Full,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"onboarding-metametrics__user-control"},o.default.createElement("img",{src:"images/user-control.png",alt:"User control",height:175,width:200})),o.default.createElement(h.Text,{variant:l.TextVariant.bodySmMedium,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,padding:3,borderRadius:l.BorderRadius.LG,backgroundColor:l.BackgroundColor.backgroundMuted,className:"onboarding-metametrics__checkbox",role:"button",tabIndex:0,onClick:()=>{var e;null===(e=x.current)||void 0===e||e.click()},onKeyDown:e=>{var t;" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null===(t=x.current)||void 0===t||t.click())}},o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-checkbox",isChecked:b,onChange:()=>{T(e=>!e),b&&S(!1)},inputRef:x,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:l.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleOne")),alignItems:l.AlignItems.center}),o.default.createElement(h.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionOneUpdated"))),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,padding:3,borderRadius:l.BorderRadius.LG,backgroundColor:l.BackgroundColor.backgroundMuted,className:""+(b?"onboarding-metametrics__checkbox":"onboarding-metametrics__checkbox-disabled"),role:b?"button":undefined,tabIndex:b?0:undefined,onClick:b?()=>{var e;null===(e=C.current)||void 0===e||e.click()}:undefined,onKeyDown:e=>{var t;" "!==e.key&&"Enter"!==e.key||!b||(e.preventDefault(),null===(t=C.current)||void 0===t||t.click())}},o.default.createElement(h.Checkbox,{id:"metametrics-datacollection-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:b&&k,isDisabled:!b,onChange:()=>{S(e=>!e)},inputRef:C,onClick:e=>e.stopPropagation(),inputProps:{onClick:e=>e.stopPropagation()},label:o.default.createElement(h.Text,{variant:l.TextVariant.bodyMdMedium},e("onboardingMetametricCheckboxTitleTwo")),alignItems:l.AlignItems.center}),o.default.createElement(h.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left},e("onboardingMetametricCheckboxDescriptionTwo"))),o.default.createElement(h.Box,{width:l.BlockSize.Full},o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault();try{try{await t((0,u.setPna25Acknowledged)(!0,!0))}catch(e){s.default.error("Error setting pna25Acknowledged:",e)}b?(t((0,u.setDataCollectionForMarketing)(k)),t((0,u.setParticipateInMetaMetrics)(!0)),await w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(k),location:"onboarding_metametrics"}})):(t((0,u.setParticipateInMetaMetrics)(!1)),t((0,u.setDataCollectionForMarketing)(!1)))}catch(e){s.default.error("onConfirm::error",e)}finally{n(I,{replace:!0})}}},e("onboardingMetametricsContinue"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const E=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.tsx"}],[7893,{"../../../../app/_locales/index.json":2,"../../../../app/scripts/lib/util":372,"../../../../shared/constants/app":5775,"../../../components/component-library":6529,"../../../components/ui/dropdown":6935,"../../../components/ui/metafox-logo":6977,"../../../ducks/locale/locale":7066,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../store/actions":8127,classnames:4117,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(17),{isWelcomePage:n,location:_}=e,E=n!==undefined&&n,b=(0,r.useDispatch)(),{pathname:T,search:k}=_,S=(0,l.useI18nContext)(),x=(0,r.useSelector)(u.getCurrentLocale);let C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=p.default.map(v),t[0]=C):C=t[0];const O=C;let w,I;if(t[1]!==k){const e=new URLSearchParams(k);w=e.get("isFromReminder"),I=e.get("isFromSettingsSecurity"),t[1]=k,t[2]=w,t[3]=I}else w=t[2],I=t[3];const N=I,R=w||N;let A;t[4]===Symbol.for("react.memo_cache_sentinel")?(A=(0,h.getEnvironmentType)(),t[4]=A):A=t[4];const M=A!==y.ENVIRONMENT_TYPE_SIDEPANEL;let P,B,D;t[5]!==E?(P=(0,i.default)("onboarding-app-header",{"onboarding-app-header--welcome":E}),t[5]=E,t[6]=P):P=t[6];t[7]!==x||t[8]!==b||t[9]!==R||t[10]!==E||t[11]!==T||t[12]!==S?(B=M?o.default.createElement(m.Box,{display:f.Display.Flex,width:f.BlockSize.Full,justifyContent:T===g.ONBOARDING_WELCOME_ROUTE?f.JustifyContent.flexEnd:f.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},T!==g.ONBOARDING_WELCOME_ROUTE&&o.default.createElement(s.default,{unsetIconHeight:!0,isOnboarding:!0}),T!==g.ONBOARDING_COMPLETION_ROUTE||R?o.default.createElement(c.default,{"data-testid":"select-locale",className:(0,i.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--login":E}),options:O,selectedOption:x,onChange:async e=>b((0,d.updateCurrentLocale)(e))}):o.default.createElement(m.Box,{paddingTop:12,className:"onboarding-app-header__banner-tip-container"},o.default.createElement(m.BannerTip,{borderColor:f.BorderColor.borderMuted,backgroundColor:f.BackgroundColor.backgroundMuted,title:S("pinMetaMask"),gap:4,titleProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdMedium,paddingRight:2},className:"onboarding-app-header__banner-tip",padding:3,alignItems:f.AlignItems.center},o.default.createElement(m.Text,{variant:f.TextVariant.bodySm,alignItems:f.AlignItems.center,color:f.TextColor.textAlternative,paddingRight:2},S("pinMetaMaskDescription",[o.default.createElement(m.Icon,{name:m.IconName.Extension,key:"extension",color:f.IconColor.iconDefault,size:m.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"}),o.default.createElement(m.Icon,{name:m.IconName.Keep,key:"keep",color:f.IconColor.iconDefault,size:m.IconSize.Md,className:"onboarding-app-header__banner-tip-icon"})]))))):o.default.createElement(o.default.Fragment,null),t[7]=x,t[8]=b,t[9]=R,t[10]=E,t[11]=T,t[12]=S,t[13]=B):B=t[13];t[14]!==P||t[15]!==B?(D=o.default.createElement(m.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,backgroundColor:f.BackgroundColor.backgroundDefault,width:f.BlockSize.Full,padding:4,className:P},B),t[14]=P,t[15]=B,t[16]=D):D=t[16];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=_(e("classnames")),s=_(e("../../../components/ui/metafox-logo")),l=e("../../../hooks/useI18nContext"),c=_(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=_(e("../../../../app/_locales/index.json")),m=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),h=e("../../../../app/scripts/lib/util"),y=e("../../../../shared/constants/app");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v(e){return{name:e.name,value:e.code}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.tsx"}],[7894,{"../../../../shared/constants/app":5775,"../../../../shared/constants/onboarding":5798,"../../../../shared/modules/browser-runtime.utils":5910,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/routes":7088,"../../../selectors":8094,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.c)(7),t=(0,i.useSelector)(c.getCompletedOnboarding),n=(0,i.useSelector)(c.getIsInitialized),a=(0,i.useSelector)(c.getIsWalletResetInProgress),f=(0,i.useSelector)(p.getIsSocialLoginUserAuthenticated),g=(0,i.useSelector)(c.getSeedPhraseBackedUp),h=(0,i.useSelector)(p.getFirstTimeFlowType),y=(0,i.useSelector)(p.getIsSocialLoginFlow),_=(0,i.useSelector)(c.getIsUnlocked),E=(0,i.useSelector)(p.getIsParticipateInMetaMetricsSet);if(t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.DEFAULT_ROUTE,replace:!0}),e[0]=t):t=e[0],t}if(null!==g||_&&y){const t=E?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS;let n;return e[1]!==t?(n=r.default.createElement(s.Navigate,{to:t,replace:!0}),e[1]=t,e[2]=n):n=e[2],n}if(_){let t;return e[3]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.LOCK_ROUTE,replace:!0}),e[3]=t):t=e[3],t}if((!n||a)&&!f){let t,n;return e[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,d.getBrowserName)()===u.PLATFORM_FIREFOX?r.default.createElement(s.Navigate,{to:l.ONBOARDING_METAMETRICS,replace:!0}):r.default.createElement(s.Navigate,{to:l.ONBOARDING_WELCOME_ROUTE,replace:!0}),e[4]=n):n=e[4],t=n,t}if((!n||a)&&f&&h===m.FirstTimeFlowType.socialCreate){let t;return e[5]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(s.Navigate,{to:l.ONBOARDING_CREATE_PASSWORD_ROUTE,replace:!0}),e[5]=t):t=e[5],t}let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=r.default.createElement(s.Navigate,{to:l.ONBOARDING_UNLOCK_ROUTE,replace:!0}),e[6]=v):v=e[6];return v};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("react-router-dom"),l=e("../../../helpers/constants/routes"),c=e("../../../ducks/metamask/metamask"),u=e("../../../../shared/constants/app"),d=e("../../../../shared/modules/browser-runtime.utils"),p=e("../../../selectors"),m=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.tsx"}],[7895,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../../shared/constants/onboarding":5798,"../../../shared/constants/preferences":5800,"../../../shared/lib/trace":5897,"../../../shared/modules/environment":5917,"../../components/app/toast-master/utils":6419,"../../components/component-library":6529,"../../components/ui/loading-screen":6965,"../../contexts/metametrics":7040,"../../ducks/metamask/metamask":7067,"../../helpers/constants/design-system":7083,"../../helpers/constants/routes":7088,"../../hooks/useTheme":7264,"../../selectors":8094,"../../store/actions":8127,"../routes/utils":7935,"../unlock-page":8076,"./account-exist/account-exist":7884,"./account-not-found/account-not-found":7885,"./create-password/create-password":7886,"./creation-successful/creation-successful":7887,"./download-app/download-app":7889,"./import-srp/import-srp":7890,"./metametrics/metametrics":7892,"./onboarding-app-header/onboarding-app-header":7893,"./onboarding-flow-switch/onboarding-flow-switch":7894,"./privacy-settings/privacy-settings":7896,"./recovery-phrase/confirm-recovery-phrase":7898,"./recovery-phrase/reveal-recovery-phrase":7901,"./recovery-phrase/review-recovery-phrase":7902,"./welcome/welcome":7909,classnames:4117,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,c]=(0,a.useState)(!1),j=(0,r.useDispatch)(),U=(0,o.useLocation)(),{pathname:z,search:$}=U,G=(0,o.useNavigate)(),V=(0,k.useTheme)(),q=(0,r.useSelector)(u.getCompletedOnboarding),J=(0,r.useSelector)(u.getOpenedWithSidepanel),K=(0,r.useSelector)(p.getFirstTimeFlowTypeRouteAfterUnlock),Y=new URLSearchParams($).get("isFromReminder"),H=new URLSearchParams($).get("isFromSettingsSecurity"),X=(0,a.useContext)(m.MetaMetricsContext),{bufferedTrace:Q,onboardingParentContext:Z}=X,ee=(0,r.useSelector)(u.getIsUnlocked),te=(0,r.useSelector)(p.getFirstTimeFlowType),ne=(0,v.getIsSeedlessOnboardingFeatureEnabled)(),ae=(0,r.useSelector)(u.getIsPrimarySeedPhraseBackedUp),oe=(0,y.getEnvironmentType)(),re=oe===_.ENVIRONMENT_TYPE_POPUP,ie=oe===_.ENVIRONMENT_TYPE_SIDEPANEL,se=(0,a.useMemo)(()=>z===l.ONBOARDING_WELCOME_ROUTE,[z]);(0,a.useEffect)(()=>{(0,f.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{!q||Y||J||G(l.DEFAULT_ROUTE,{replace:!0})},[G,q,Y,J]),(0,a.useEffect)(()=>{const t=[l.ONBOARDING_REVIEW_SRP_ROUTE,l.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==z?void 0:z.startsWith(e));!ee||q||e||t&&G(l.ONBOARDING_UNLOCK_ROUTE,{replace:!0}),ae&&t&&q&&G(H?l.SECURITY_ROUTE:l.DEFAULT_ROUTE,{replace:!0})},[ee,q,e,z,G,ae,H]),(0,a.useEffect)(()=>{null==Q||Q({name:b.TraceName.OnboardingJourneyOverall,op:b.TraceOperation.OnboardingUserJourney}),Z&&(Z.current={_name:b.TraceName.OnboardingJourneyOverall})},[Z,Q]);let le=z===l.ONBOARDING_WELCOME_ROUTE||z===l.ONBOARDING_UNLOCK_ROUTE;const ce=(0,a.useMemo)(()=>se?V===S.ThemeType.light?"var(--welcome-bg-light)":"var(--color-accent02-dark)":"var(--color-background-default)",[se,V]);return a.default.createElement(g.Box,{backgroundColor:h.BackgroundColor.backgroundDefault,width:h.BlockSize.Full,height:h.BlockSize.Full,display:h.Display.Flex,flexDirection:h.FlexDirection.Column,alignItems:z===l.ONBOARDING_WELCOME_ROUTE?h.AlignItems.flexStart:h.AlignItems.center,justifyContent:h.JustifyContent.flexStart,className:"onboarding-flow",style:{backgroundColor:ce}},!re&&!ie&&a.default.createElement(P.default,{isWelcomePage:se,location:U}),a.default.createElement(g.Box,{className:(0,i.default)("onboarding-flow__container",{"onboarding-flow__container--full":le,"onboarding-flow__container--popup":re,"onboarding-flow__container--sidepanel":ie}),width:h.BlockSize.Full,borderStyle:le||re||ie?h.BorderStyle.none:h.BorderStyle.solid,borderRadius:h.BorderRadius.LG,marginTop:z===l.ONBOARDING_WELCOME_ROUTE||re||ie?0:3,marginInline:"auto",borderColor:h.BorderColor.borderMuted},a.default.createElement(o.Routes,null,a.default.createElement(o.Route,{path:W(l.ONBOARDING_ACCOUNT_EXIST),element:a.default.createElement(B.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_ACCOUNT_NOT_FOUND),element:a.default.createElement(D.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_CREATE_PASSWORD_ROUTE),element:a.default.createElement(C.default,{createNewAccount:async e=>{try{let n;c(!0),ne&&te===E.FirstTimeFlowType.socialCreate?n=await j((0,d.createNewVaultAndSyncWithSocial)(e)):te===E.FirstTimeFlowType.create&&(n=await j((0,d.createNewVaultAndGetSeedPhrase)(e))),n&&t(n)}finally{c(!1)}},importWithRecoveryPhrase:async(e,t)=>await j((0,d.createNewVaultAndRestore)(e,t)),secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_REVEAL_SRP_ROUTE),element:a.default.createElement(L.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_REVIEW_SRP_ROUTE),element:a.default.createElement(O.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_CONFIRM_SRP_ROUTE),element:a.default.createElement(w.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE),element:a.default.createElement(A.default,{submitSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_UNLOCK_ROUTE),element:a.default.createElement(s.default,{onSubmit:async e=>{try{let n;if(c(!0),n=ne&&te===E.FirstTimeFlowType.socialImport?await j((0,d.restoreSocialBackupAndGetSeedPhrase)(e)):await j((0,d.unlockAndGetSeedPhrase)(e)),n&&t(n),te===E.FirstTimeFlowType.socialImport)return void await j((0,d.setCompletedOnboarding)());G(K,{replace:!0})}finally{c(!1)}}})}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_PRIVACY_SETTINGS_ROUTE),element:a.default.createElement(I.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_COMPLETION_ROUTE),element:a.default.createElement(N.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_WELCOME_ROUTE),element:a.default.createElement(R.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_METAMETRICS),element:a.default.createElement(M.default,null)}),a.default.createElement(o.Route,{path:W(l.ONBOARDING_DOWNLOAD_APP_ROUTE),element:a.default.createElement(F.default,null)}),a.default.createElement(o.Route,{path:"*",element:a.default.createElement(x.default,null)}))),n&&a.default.createElement(T.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=j(e("classnames")),s=j(e("../unlock-page")),l=e("../../helpers/constants/routes"),c=e("../routes/utils"),u=e("../../ducks/metamask/metamask"),d=e("../../store/actions"),p=e("../../selectors"),m=e("../../contexts/metametrics"),f=e("../../components/app/toast-master/utils"),g=e("../../components/component-library"),h=e("../../helpers/constants/design-system"),y=e("../../../app/scripts/lib/util"),_=e("../../../shared/constants/app"),E=e("../../../shared/constants/onboarding"),v=e("../../../shared/modules/environment"),b=e("../../../shared/lib/trace"),T=j(e("../../components/ui/loading-screen")),k=e("../../hooks/useTheme"),S=e("../../../shared/constants/preferences"),x=j(e("./onboarding-flow-switch/onboarding-flow-switch")),C=j(e("./create-password/create-password")),O=j(e("./recovery-phrase/review-recovery-phrase")),w=j(e("./recovery-phrase/confirm-recovery-phrase")),I=j(e("./privacy-settings/privacy-settings")),N=j(e("./creation-successful/creation-successful")),R=j(e("./welcome/welcome")),A=j(e("./import-srp/import-srp")),M=j(e("./metametrics/metametrics")),P=j(e("./onboarding-app-header/onboarding-app-header")),B=j(e("./account-exist/account-exist")),D=j(e("./account-not-found/account-not-found")),L=j(e("./recovery-phrase/reveal-recovery-phrase")),F=j(e("./download-app/download-app"));function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}const W=e=>(0,c.toRelativeRoutePath)(e,l.ONBOARDING_ROUTE)}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.tsx"}],[7896,{"../../../../app/scripts/lib/util":372,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/network":5795,"../../../../shared/lib/ui-utils":5904,"../../../../shared/modules/selectors/networks":5934,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6107,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../ducks/app/app":7052,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/constants/zendesk-url":7095,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../selectors/identity/backup-and-sync":8093,"../../../store/actions":8127,"../../settings/security-tab/delete-metametrics-data-button":7976,"../../settings/security-tab/metametrics-toggle/metametrics-toggle":7979,"./setting":7897,classnames:4117,loglevel:4846,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,h.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useNavigate)(),[O,w]=(0,a.useState)(!1),[N,R]=(0,a.useState)(null),[A,M]=(0,a.useState)(!0),P=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:B,useTokenDetection:D,useCurrencyRateCheck:L,useMultiAccountBalanceChecker:F,ipfsGateway:j,useAddressBarEnsResolution:U,useTransactionSimulations:W}=P,z=(0,o.useSelector)(y.getUseExternalNameSources),$=(0,o.useSelector)(y.getIsSocialLoginFlow),G=(0,o.useSelector)(y.getDataCollectionForMarketing),[V,q]=(0,a.useState)(B),[J,K]=(0,a.useState)(D),[Y,H]=(0,a.useState)(L),[X,Q]=(0,a.useState)(F),[Z,ee]=(0,a.useState)(W),[te,ne]=(0,a.useState)(j),[ae,oe]=(0,a.useState)(null),[re,ie]=(0,a.useState)(U),[se,le]=(0,a.useState)(z),ce=(0,a.useContext)(m.MetaMetricsContext),ue=(0,o.useSelector)(_.getNetworkConfigurationsByChainId),de=(0,o.useSelector)(y.getExternalServicesOnboardingToggleState),pe=(0,o.useSelector)(T.selectIsBackupAndSyncEnabled),{search:me}=(0,r.useLocation)(),fe=new URLSearchParams(me).get("isFromReminder"),ge=e=>{R(e),w(!0),setTimeout(()=>{M(!1)},I)},he=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e($?"securityDefaultSettingsSocialLogin":"security"),subtitle:e($?"securitySocialLoginDefaultSettingsDescription":"securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,i.default)("container",{"show-detail":O,"show-list":!O})},a.default.createElement("div",{className:"list-view"},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:f.Display.Flex,flexDirection:f.FlexDirection.Column,justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,E.setUse4ByteResolution)(V)),t((0,E.setUseTokenDetection)(J)),t((0,E.setUseMultiAccountBalanceChecker)(X)),t((0,E.setUseCurrencyRateCheck)(Y)),t((0,E.setUseAddressBarEnsResolution)(re)),(0,E.setUseTransactionSimulations)(Z),(0,E.setUseExternalNameSources)(se),te&&!ae){const{host:e}=new URL((0,l.addUrlProtocolPrefix)(te));t((0,E.setIpfsGateway)(e))}ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:pe,is_basic_functionality_enabled:de,turnon_token_detection:J}}),n(fe?`${g.ONBOARDING_COMPLETION_ROUTE}?isFromReminder=true`:g.ONBOARDING_COMPLETION_ROUTE,{replace:!0})}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingMd,as:"h3"},e("defaultSettingsTitle"))),a.default.createElement(p.Box,{className:"privacy-settings__empty-space"})),a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(p.Box,null,a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},he.map(e=>a.default.createElement(p.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>ge(e)},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.flexStart,justifyContent:f.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(p.Text,{variant:f.TextVariant.bodyLgMedium},e.title),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,ariaLabel:"Next",size:p.ButtonIconSize.Lg,color:f.IconColor.iconDefault,onClick:()=>ge(e)})),a.default.createElement(p.Text,{className:"description",variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,i.default)("detail-view",{hidden:!O&&A})},a.default.createElement(p.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.ButtonIcon,{"data-testid":"category-back-button",iconName:p.IconName.ArrowLeft,ariaLabel:"Back",size:p.ButtonIconSize.Lg,onClick:()=>{w(!1),setTimeout(()=>{M(!0)},I)}}),a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,width:f.BlockSize.Full},a.default.createElement(p.Text,{variant:f.TextVariant.headingLg,as:"h2"},null==N?void 0:N.title)),a.default.createElement(p.Box,{className:"privacy-settings__empty-space"})),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{dataTestId:"basic-functionality-toggle",value:de,setValue:e=>{e?(t((0,v.onboardingToggleBasicFunctionalityOn)()),ce({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,v.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(k.BackupAndSyncToggle,null),a.default.createElement(C.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,enableMarginBottom:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:d.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(p.Box,{paddingTop:4},a.default.createElement(p.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:5},Object.values(ue).filter(({chainId:e})=>!b.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(p.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,E.setEditedNetwork)({chainId:e.chainId})),t((0,E.toggleNetworkMenu)())},display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.AvatarNetwork,{src:b.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(p.Box,{textAlign:f.TextAlign.Left,marginLeft:3},a.default.createElement(p.Text,{variant:f.TextVariant.bodySmMedium},e.name),a.default.createElement(p.Text,{variant:f.TextVariant.bodyXs,color:f.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.ArrowRight,size:p.ButtonIconSize.Md,ariaLabel:"Next"}))}),a.default.createElement(p.ButtonLink,{onClick:()=>{t((0,E.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:f.JustifyContent.flexStart},a.default.createElement(p.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.Icon,{name:p.IconName.Add,marginRight:3}),a.default.createElement(p.Text,{color:f.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{value:J,setValue:K,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(C.Setting,{value:Z,setValue:ee,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:u.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(C.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(p.Box,{paddingTop:2},a.default.createElement(p.TextField,{value:te,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{ne(t);try{const{host:e}=new URL((0,l.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;oe(null)}catch(t){oe(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),te?a.default.createElement(p.Text,{variant:f.TextVariant.bodySm,color:ae?f.TextColor.errorDefault:f.TextColor.successDefault},ae||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(C.Setting,{value:Y,setValue:H,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:u.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:u.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:u.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(C.Setting,{value:re,setValue:ie,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(p.Text,{variant:f.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(p.Text,{variant:f.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(C.Setting,{value:X,setValue:Q,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==N?void 0:N.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(C.Setting,{value:V,setValue:q,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(C.Setting,{value:se,setValue:le,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")}),$&&a.default.createElement(a.default.Fragment,null,a.default.createElement(x.default,{dataCollectionForMarketing:G,setDataCollectionForMarketing:async e=>{try{t((0,E.setMarketingConsent)(e))}catch(e){s.default.error("Error setting marketing consent in default settings",e)}t((0,E.setDataCollectionForMarketing)(e))},fromDefaultSettings:!0}),a.default.createElement(S.default,{defaultPrivacySettings:!0}))):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=O(e("classnames")),s=O(e("loglevel")),l=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/lib/ui-utils"),d=O(e("../../../helpers/constants/zendesk-url")),p=e("../../../components/component-library"),m=e("../../../contexts/metametrics"),f=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),h=e("../../../hooks/useI18nContext"),y=e("../../../selectors"),_=e("../../../../shared/modules/selectors/networks"),E=e("../../../store/actions"),v=e("../../../ducks/app/app"),b=e("../../../../shared/constants/network"),T=e("../../../selectors/identity/backup-and-sync"),k=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=O(e("../../settings/security-tab/delete-metametrics-data-button")),x=O(e("../../settings/security-tab/metametrics-toggle/metametrics-toggle")),C=e("./setting");function O(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const I=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.tsx"}],[7897,{"../../../components/component-library":6529,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=u(e("prop-types")),i=e("../../../components/component-library"),s=u(e("../../../components/ui/toggle-button")),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>{const t=(0,a.c)(18),{value:n,setValue:r,title:u,description:d,showToggle:p,dataTestId:m,disabled:f,enableMarginBottom:g}=e,h=p===undefined||p,y=f!==undefined&&f,_=g===undefined||g,E=(0,c.useI18nContext)(),v=_?3:0;let b,T,k,S,x;return t[0]!==u?(b=o.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},u),t[0]=u,t[1]=b):b=t[1],t[2]!==d?(T=o.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,as:"div"},d),t[2]=d,t[3]=T):T=t[3],t[4]!==b||t[5]!==T?(k=o.default.createElement("div",{className:"privacy-settings__setting"},b,T),t[4]=b,t[5]=T,t[6]=k):k=t[6],t[7]!==y||t[8]!==r||t[9]!==h||t[10]!==E||t[11]!==n?(S=h?o.default.createElement("div",{className:"privacy-settings__setting__toggle"},o.default.createElement(s.default,{value:n,onToggle:e=>null==r?void 0:r(!e),offLabel:E("off"),onLabel:E("on"),disabled:y})):null,t[7]=y,t[8]=r,t[9]=h,t[10]=E,t[11]=n,t[12]=S):S=t[12],t[13]!==m||t[14]!==v||t[15]!==k||t[16]!==S?(x=o.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.flexStart,marginTop:3,marginBottom:v,className:"privacy-settings__setting__wrapper","data-testid":m},k,S),t[13]=m,t[14]=v,t[15]=k,t[16]=S,t[17]=x):x=t[17],x};n.Setting=d,d.propTypes={value:r.default.bool,setValue:r.default.func,title:r.default.string,description:r.default.oneOfType([r.default.object,r.default.string]),showToggle:r.default.bool,dataTestId:r.default.string,disabled:r.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.tsx"}],[7898,{"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/lib/trace":5897,"../../../../shared/modules/browser-runtime.utils":5910,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors/selectors":8114,"../../../store/actions":8127,"./confirm-srp-modal":7899,"./recovery-phrase-chips":7900,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=T(e("prop-types")),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../selectors/selectors"),g=e("../../../helpers/constants/routes"),h=e("../../../../shared/constants/app"),y=e("../../../../shared/lib/trace"),_=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../ducks/metamask/metamask"),v=T(e("./confirm-srp-modal")),b=T(e("./recovery-phrase-chips"));function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const S=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function x(e){const t=(0,a.c)(69),{secretRecoveryPhrase:n}=e,s=n===undefined?"":n,T=(0,i.useDispatch)(),k=(0,r.useNavigate)(),{search:x}=(0,r.useLocation)(),O=(0,u.useI18nContext)(),w=(0,o.useContext)(p.MetaMetricsContext),{bufferedEndTrace:I}=w,N=(0,i.useSelector)(f.getHDEntropyIndex),R=(0,i.useSelector)(E.getSeedPhraseBackedUp);let A;t[0]!==s?(A=s?s.split(" "):[],t[0]=s,t[1]=A):A=t[1];const M=A;let P,B,D;if(t[2]!==x){const e=new URLSearchParams(x);P=e.get("isFromReminder"),B=e.get("isFromSettingsSecurity");const n=new URLSearchParams;P&&n.set("isFromReminder",P),B&&n.set("isFromSettingsSecurity",B),D=n.toString(),t[2]=x,t[3]=P,t[4]=B,t[5]=D}else P=t[3],B=t[4],D=t[5];const L=D,[F,j]=(0,o.useState)(!1),[U,W]=(0,o.useState)(!1);let z;t[6]!==M?(z=S(M),t[6]=M,t[7]=z):z=t[7];const[$,G]=(0,o.useState)(z),[V,q]=(0,o.useState)("");let J,K,Y;t[8]!==R||t[9]!==P||t[10]!==k||t[11]!==L||t[12]!==s?(J=()=>{if(s){if(R){const e=(0,_.getBrowserName)()===h.PLATFORM_FIREFOX;k(e||P?g.ONBOARDING_COMPLETION_ROUTE:g.ONBOARDING_METAMETRICS,{replace:!0})}}else k(`${g.ONBOARDING_REVEAL_SRP_ROUTE}${L?`?${L}`:""}`,{replace:!0})},K=[k,s,L,R,P],t[8]=R,t[9]=P,t[10]=k,t[11]=L,t[12]=s,t[13]=J,t[14]=K):(J=t[13],K=t[14]),(0,o.useEffect)(J,K),t[15]!==M?(Y=()=>{const e=S(M);G(e)},t[15]=M,t[16]=Y):Y=t[16];const H=Y;let X;t[17]!==M?(X=e=>{if(e.some(C))q("");else{const t=[...M];e.forEach(e=>{t[e.index]=e.word}),q(t.join(" "))}},t[17]=M,t[18]=X):X=t[18];const Q=X;let Z;t[19]!==V||t[20]!==s?(Z=()=>{W(V===s),j(!0)},t[19]=V,t[20]=s,t[21]=Z):Z=t[21];const ee=Z;let te;t[22]!==I||t[23]!==T||t[24]!==N||t[25]!==P||t[26]!==k||t[27]!==L||t[28]!==w?(te=()=>{T((0,d.setSeedPhraseBackedUp)(!0)),w({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:N}}),null==I||I({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==I||I({name:y.TraceName.OnboardingJourneyOverall});const e=(0,_.getBrowserName)()===h.PLATFORM_FIREFOX||P?g.ONBOARDING_COMPLETION_ROUTE:g.ONBOARDING_METAMETRICS;k(`${e}${L?`?${L}`:""}`,{replace:!0})},t[22]=I,t[23]=T,t[24]=N,t[25]=P,t[26]=k,t[27]=L,t[28]=w,t[29]=te):te=t[29];const ne=te;let ae;t[30]!==k?(ae=()=>{k(g.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[30]=k,t[31]=ae):ae=t[31];const oe=ae;let re,ie,se,le,ce,ue,de,pe;t[32]!==ne||t[33]!==U||t[34]!==H||t[35]!==F?(re=F&&o.default.createElement(v.default,{isError:!U,onContinue:ne,onClose:()=>{H(),j(!1)}}),t[32]=ne,t[33]=U,t[34]=H,t[35]=F,t[36]=re):re=t[36],t[37]!==P||t[38]!==B||t[39]!==k||t[40]!==oe||t[41]!==O?(ie=P&&B?o.default.createElement(l.Box,{className:"recovery-phrase__header",display:c.Display.Grid,alignItems:c.AlignItems.center,gap:1,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-back-button",onClick:()=>k(g.PREVIOUS_ROUTE),ariaLabel:O("back")}),o.default.createElement(l.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},O("confirmRecoveryPhraseTitleSettings")),o.default.createElement(l.ButtonIcon,{iconName:l.IconName.Close,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-confirm-close-button",onClick:oe,ariaLabel:O("close")})):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,color:c.IconColor.iconDefault,size:l.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>k(g.PREVIOUS_ROUTE),ariaLabel:O("back")})),o.default.createElement(l.Box,{justifyContent:c.JustifyContent.flexStart,marginBottom:4,width:c.BlockSize.Full},o.default.createElement(l.Text,{variant:c.TextVariant.headingLg,as:"h2"},O("confirmRecoveryPhraseTitle")))),t[37]=P,t[38]=B,t[39]=k,t[40]=oe,t[41]=O,t[42]=ie):ie=t[42],t[43]!==O?(se=O("confirmRecoveryPhraseDetails"),t[43]=O,t[44]=se):se=t[44],t[45]!==se?(le=o.default.createElement(l.Box,{marginBottom:6},o.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},se)),t[45]=se,t[46]=le):le=t[46],t[47]!==Q||t[48]!==$||t[49]!==M?(ce=M.length>0&&o.default.createElement(b.default,{secretRecoveryPhrase:M,quizWords:$,confirmPhase:!0,setInputValue:Q}),t[47]=Q,t[48]=$,t[49]=M,t[50]=ce):ce=t[50],t[51]!==re||t[52]!==ie||t[53]!==le||t[54]!==ce?(ue=o.default.createElement(l.Box,null,re,ie,le,ce),t[51]=re,t[52]=ie,t[53]=le,t[54]=ce,t[55]=ue):ue=t[55],t[56]!==ee?(de=()=>ee(),t[56]=ee,t[57]=de):de=t[57],t[58]!==V?(pe=V.trim(),t[58]=V,t[59]=pe):pe=t[59];const me=""===pe;let fe,ge,he;return t[60]!==O?(fe=O("continue"),t[60]=O,t[61]=fe):fe=t[61],t[62]!==de||t[63]!==me||t[64]!==fe?(ge=o.default.createElement(l.Box,{width:c.BlockSize.Full},o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,width:c.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:l.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:de,disabled:me},fe)),t[62]=de,t[63]=me,t[64]=fe,t[65]=ge):ge=t[65],t[66]!==ue||t[67]!==ge?(he=o.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},ue,ge),t[66]=ue,t[67]=ge,t[68]=he):he=t[68],he}function C(e){return!e.word}x.propTypes={secretRecoveryPhrase:s.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.tsx"}],[7899,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(33),{onContinue:n,onClose:a,isError:u}=e,d=(0,s.useI18nContext)();let p;t[0]!==u||t[1]!==a||t[2]!==n?(p=()=>{u?a():n()},t[0]=u,t[1]=a,t[2]=n,t[3]=p):p=t[3];const m=p;let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=r.default.createElement(l.ModalOverlay,null),t[4]=f):f=t[4];const g=u?l.IconName.CircleX:l.IconName.Confirmation,h=u?i.IconColor.errorDefault:i.IconColor.successDefault;let y,_,E,v,b,T,k,S,x,C;t[5]!==g||t[6]!==h?(y=r.default.createElement(l.Icon,{name:g,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:h}),t[5]=g,t[6]=h,t[7]=y):y=t[7];t[8]!==u||t[9]!==d?(_=d(u?"confirmSrpErrorTitle":"confirmSrpSuccessTitle"),t[8]=u,t[9]=d,t[10]=_):_=t[10];t[11]!==_?(E=r.default.createElement(l.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:2,as:"h2"},_),t[11]=_,t[12]=E):E=t[12];t[13]!==y||t[14]!==E?(v=r.default.createElement(l.ModalHeader,null,r.default.createElement(l.Box,{textAlign:i.TextAlign.Center},y,E)),t[13]=y,t[14]=E,t[15]=v):v=t[15];t[16]!==u||t[17]!==d?(b=d(u?"confirmSrpErrorDescription":"confirmSrpSuccessDescription"),t[16]=u,t[17]=d,t[18]=b):b=t[18];t[19]!==b?(T=r.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},b),t[19]=b,t[20]=T):T=t[20];t[21]!==u||t[22]!==d?(k=d(u?"tryAgain":"gotIt"),t[21]=u,t[22]=d,t[23]=k):k=t[23];t[24]!==m||t[25]!==k?(S=r.default.createElement(l.Box,{marginTop:6},r.default.createElement(l.Button,{"data-testid":"confirm-srp-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:m,block:!0},k)),t[24]=m,t[25]=k,t[26]=S):S=t[26];t[27]!==T||t[28]!==S?(x=r.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},T,S),t[27]=T,t[28]=S,t[29]=x):x=t[29];t[30]!==x||t[31]!==v?(C=r.default.createElement(l.Modal,{isOpen:!0,onClose:c,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},f,r.default.createElement(l.ModalContent,{alignItems:i.AlignItems.center},v,x)),t[30]=x,t[31]=v,t[32]=C):C=t[32];return C};var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library");function c(){return null}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[7900,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,classnames:4117,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m,n.fakeSeedPhraseWords=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("classnames")),i=u(e("prop-types")),s=e("../../../components/component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=n.fakeSeedPhraseWords=["candy","maple","cake","sugar","pudding","cream","honey","rich","smooth","crumble","sweet","treat"];function m(e){const t=(0,a.c)(61),{secretRecoveryPhrase:n,phraseRevealed:i,revealPhrase:u,confirmPhase:d,quizWords:p,setInputValue:m}=e,y=i===undefined||i;let v;t[0]!==p?(v=p===undefined?[]:p,t[0]=p,t[1]=v):v=t[1];const b=v,T=(0,l.useI18nContext)();let k;t[2]!==b?(k=b.map(E),t[2]=b,t[3]=k):k=t[3];const S=k;let x;t[4]!==S?(x=S.map(_),t[4]=S,t[5]=x):x=t[5];const[C,O]=(0,o.useState)(x),w=h,[I,N]=(0,o.useState)(w(C));let R;t[6]!==I||t[7]!==C?(R=(e,t)=>{const n=[...C],a=n.findIndex(e=>e.index===I);n[a]={index:I,word:e,actualIndexInSrp:t},O(n),N(w(n))},t[6]=I,t[7]=C,t[8]=R):R=t[8];const A=R;let M;t[9]!==C?(M=e=>{const t=[...C],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},O(t),N(t[n].index)},t[9]=C,t[10]=M):M=t[10];const P=M;let B,D,L,F,j;t[11]!==C||t[12]!==m?(B=()=>{null==m||m(C)},D=[C,m],t[11]=C,t[12]=m,t[13]=B,t[14]=D):(B=t[13],D=t[14]),(0,o.useEffect)(B,D),t[15]!==b?(L=()=>{if(b.length){const e=b.map(g);O(e),N(w(e))}},F=[b],t[15]=b,t[16]=L,t[17]=F):(L=t[16],F=t[17]),(0,o.useEffect)(L,F),t[18]!==y||t[19]!==n?(j=y?n:n.map(f),t[18]=y,t[19]=n,t[20]=j):j=t[20];const U=j;let W,z;t[21]!==n?(W=n.join(":"),t[21]=n,t[22]=W):W=t[22],t[23]!==b?(z=JSON.stringify(b),t[23]=b,t[24]=z):z=t[24];const $=!y;let G,V,q,J,K,Y,H;if(t[25]!==$?(G=(0,r.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":$}),t[25]=$,t[26]=G):G=t[26],t[27]!==d||t[28]!==I||t[29]!==S||t[30]!==U||t[31]!==C||t[32]!==P){let e;t[34]!==d||t[35]!==I||t[36]!==S||t[37]!==C||t[38]!==P?(e=(e,t)=>{var n;const a=S.includes(t),r=a?(null===(n=C.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,i=t===I;return a||!d?o.default.createElement(s.Box,{key:t,as:a?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundDefault,borderColor:i?c.BorderColor.primaryDefault:c.BorderColor.borderDefault,borderWidth:i?2:1,borderRadius:c.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{a&&(""===r?N(t):P(r))}},o.default.createElement(s.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),o.default.createElement(s.Text,{variant:c.TextVariant.inherit},a?r:e)):o.default.createElement(s.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:r,inputProps:{textVariant:c.TextVariant.inherit},startAccessory:o.default.createElement(s.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:s.TextFieldType.Password,disabled:!0,readOnly:!0})},t[34]=d,t[35]=I,t[36]=S,t[37]=C,t[38]=P,t[39]=e):e=t[39],V=U.map(e),t[27]=d,t[28]=I,t[29]=S,t[30]=U,t[31]=C,t[32]=P,t[33]=V}else V=t[33];return t[40]!==W||t[41]!==z||t[42]!==G||t[43]!==V?(q=o.default.createElement(s.Box,{key:"recovery-phrase-chips",display:c.Display.Grid,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,"data-testid":"recovery-phrase-chips","data-recovery-phrase":W,"data-quiz-words":z,className:G},V),t[40]=W,t[41]=z,t[42]=G,t[43]=V,t[44]=q):q=t[44],t[45]!==y||t[46]!==u||t[47]!==T?(J=!y&&o.default.createElement(s.Box,{key:"recovery-phrase__secret-blocker-container",width:c.BlockSize.Full,height:c.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderRadius:c.BorderRadius.SM,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),o.default.createElement(s.Box,{as:"button",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.transparent,height:c.BlockSize.Full,width:c.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==u||u()},"data-testid":"recovery-phrase-reveal"},o.default.createElement(s.Icon,{name:s.IconName.EyeSlash,color:c.IconColor.iconDefault,size:s.IconSize.Md}),o.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault,fontWeight:c.FontWeight.Medium},T("tapToReveal")),o.default.createElement(s.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textDefault},T("tapToRevealNote")))),t[45]=y,t[46]=u,t[47]=T,t[48]=J):J=t[48],t[49]!==q||t[50]!==J?(K=o.default.createElement(s.Box,{borderRadius:c.BorderRadius.LG,display:c.Display.Grid,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},q,J),t[49]=q,t[50]=J,t[51]=K):K=t[51],t[52]!==A||t[53]!==C||t[54]!==b||t[55]!==P||t[56]!==n?(Y=3===b.length&&o.default.createElement(s.Box,{display:c.Display.Flex,gap:2,width:c.BlockSize.Full},b.map(e=>{const t=e.index;return C.some(e=>e.actualIndexInSrp===t)?o.default.createElement(s.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${t}`,key:e.index,color:c.TextColor.textAlternative,borderRadius:c.BorderRadius.LG,block:!0,onClick:()=>{P(e.word)}},n[t]):o.default.createElement(s.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${t}`,key:e.index,variant:s.ButtonVariant.Secondary,borderRadius:c.BorderRadius.LG,block:!0,borderColor:c.BorderColor.primaryDefault,color:c.TextColor.primaryDefault,onClick:()=>{A(e.word,t)}},n[t])})),t[52]=A,t[53]=C,t[54]=b,t[55]=P,t[56]=n,t[57]=Y):Y=t[57],t[58]!==K||t[59]!==Y?(H=o.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4},K,Y),t[58]=K,t[59]=Y,t[60]=H):H=t[60],H}function f(e,t){return p[t%p.length]}function g(e){return{index:e.index,word:"",actualIndexInSrp:-1}}function h(e){const t=e.reduce(y,[]);return t.length?Math.min(...t):-1}function y(e,t){return""===t.word&&e.push(t.index),e}function _(e){return{index:e,word:"",actualIndexInSrp:-1}}function E(e){return e.index}m.propTypes={secretRecoveryPhrase:i.default.array,phraseRevealed:i.default.bool,revealPhrase:i.default.func,confirmPhase:i.default.bool,quizWords:i.default.array,setInputValue:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.tsx"}],[7901,{"../../../../shared/constants/app":5775,"../../../../shared/modules/browser-runtime.utils":5910,"../../../components/component-library":6529,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../store/actions":8127,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useNavigate)(),n=(0,i.useI18nContext)(),{search:f}=(0,o.useLocation)(),g=new URLSearchParams(f),h=g.get("isFromReminder"),y=g.get("isFromSettingsSecurity"),_=(0,r.useSelector)(d.getSeedPhraseBackedUp),E=new URLSearchParams;h&&E.set("isFromReminder",h);y&&E.set("isFromSettingsSecurity",y);const v=E.toString(),[b,T]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(_){const e=(0,p.getBrowserName)()===m.PLATFORM_FIREFOX;t(e?u.ONBOARDING_COMPLETION_ROUTE:u.ONBOARDING_METAMETRICS,{replace:!0})}},[t,_]);const x=(0,a.useCallback)(async n=>{try{const a=await(0,c.getSeedPhrase)(n);e(a),t(`${u.ONBOARDING_REVIEW_SRP_ROUTE}${v?`?${v}`:""}`,{replace:!0})}catch(e){S(!0)}},[e,t,v]),C=(0,a.useCallback)(()=>{t(y?u.REVEAL_SRP_LIST_ROUTE:u.DEFAULT_ROUTE,{replace:!0})},[t,y]);return a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,height:l.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Box,{className:"recovery-phrase__header",display:l.Display.Grid,alignItems:l.AlignItems.center,gap:3,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:C,ariaLabel:n("back")}),a.default.createElement(s.Text,{variant:l.TextVariant.headingSm,textAlign:l.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(s.ButtonIcon,{iconName:s.IconName.Close,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:C,ariaLabel:n("close")})),a.default.createElement(s.Box,{width:l.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),x(b)}},a.default.createElement(s.FormTextField,{size:s.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{T(e.target.value),S(!1)},value:b,error:k,helpText:k?n("unlockPageIncorrectPassword"):null,type:s.TextFieldType.Password,labelProps:{fontWeight:l.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Button,{width:l.BlockSize.Full,variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>x(b)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),u=e("../../../helpers/constants/routes"),d=e("../../../ducks/metamask/metamask"),p=e("../../../../shared/modules/browser-runtime.utils"),m=e("../../../../shared/constants/app");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[7902,{"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/lib/trace":5897,"../../../../shared/modules/browser-runtime.utils":5910,"../../../components/app/srp-details-modal":6402,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,"./recovery-phrase-chips":7900,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=k(e("prop-types")),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../components/component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../selectors"),g=k(e("../../../components/app/srp-details-modal")),h=e("../../../store/actions"),y=e("../../../../shared/lib/trace"),_=e("../../../../shared/modules/browser-runtime.utils"),E=e("../../../../shared/constants/app"),v=e("../../../../shared/constants/onboarding"),b=e("../../../ducks/metamask/metamask"),T=k(e("./recovery-phrase-chips"));function k(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function x(e){const t=(0,a.c)(77),{secretRecoveryPhrase:n}=e,s=(0,r.useNavigate)(),k=(0,l.useI18nContext)(),{search:S}=(0,r.useLocation)(),x=(0,i.useDispatch)(),C=(0,i.useSelector)(f.getFirstTimeFlowType),O=(0,i.useSelector)(b.getSeedPhraseBackedUp),w=(0,o.useContext)(m.MetaMetricsContext),{bufferedEndTrace:I}=w,N=(0,i.useSelector)(f.getHDEntropyIndex),[R,A]=(0,o.useState)(!1),[M,P]=(0,o.useState)(!1);let B,D,L;if(t[0]!==S){const e=new URLSearchParams(S);B=e.get("isFromReminder"),D=e.get("isFromSettingsSecurity");const n=new URLSearchParams;B&&n.set("isFromReminder",B),D&&n.set("isFromSettingsSecurity",D),L=n.toString(),t[0]=S,t[1]=B,t[2]=D,t[3]=L}else B=t[1],D=t[2],L=t[3];const F=L;let j,U,W;t[4]!==O||t[5]!==s||t[6]!==F||t[7]!==n?(j=()=>{if(n){if(O){const e=(0,_.getBrowserName)()===E.PLATFORM_FIREFOX;s(e?c.ONBOARDING_COMPLETION_ROUTE:c.ONBOARDING_METAMETRICS,{replace:!0})}}else s({pathname:c.ONBOARDING_REVEAL_SRP_ROUTE,search:F?`?${F}`:""},{replace:!0})},U=[s,n,F,O],t[4]=O,t[5]=s,t[6]=F,t[7]=n,t[8]=j,t[9]=U):(j=t[8],U=t[9]),(0,o.useEffect)(j,U),t[10]!==N||t[11]!==s||t[12]!==F||t[13]!==w?(W=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:N}}),s({pathname:c.ONBOARDING_CONFIRM_SRP_ROUTE,search:F?`?${F}`:""})},t[10]=N,t[11]=s,t[12]=F,t[13]=w,t[14]=W):W=t[14];const z=W;let $;t[15]!==w?($=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),P(!0)},t[15]=w,t[16]=$):$=t[16];const G=$;let V;t[17]!==I||t[18]!==x||t[19]!==C||t[20]!==N||t[21]!==s||t[22]!==w?(V=async()=>{await x((0,h.setSeedPhraseBackedUp)(!1)),w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:N}}),null==I||I({name:y.TraceName.OnboardingNewSrpCreateWallet}),null==I||I({name:y.TraceName.OnboardingJourneyOverall}),(0,_.getBrowserName)()===E.PLATFORM_FIREFOX||C===v.FirstTimeFlowType.restore?s(c.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):s(c.ONBOARDING_METAMETRICS,{replace:!0})},t[17]=I,t[18]=x,t[19]=C,t[20]=N,t[21]=s,t[22]=w,t[23]=V):V=t[23];const q=V;let J;t[24]!==s||t[25]!==F?(J=()=>{s(`${c.ONBOARDING_REVEAL_SRP_ROUTE}${F?`?${F}`:""}`,{replace:!0})},t[24]=s,t[25]=F,t[26]=J):J=t[26];const K=J;let Y;t[27]!==s?(Y=()=>{s(c.REVEAL_SRP_LIST_ROUTE,{replace:!0})},t[27]=s,t[28]=Y):Y=t[28];const H=Y;let X,Q,Z,ee,te,ne,ae,oe,re,ie;t[29]!==M?(X=M&&o.default.createElement(g.default,{onClose:()=>P(!1)}),t[29]=M,t[30]=X):X=t[30],t[31]!==K||t[32]!==B||t[33]!==D||t[34]!==H||t[35]!==k?(Q=B&&D?o.default.createElement(u.Box,{className:"recovery-phrase__header",display:d.Display.Grid,alignItems:d.AlignItems.center,gap:3,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.ButtonIcon,{iconName:u.IconName.ArrowLeft,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-back-button",onClick:K,ariaLabel:k("back")}),o.default.createElement(u.Text,{variant:d.TextVariant.headingSm,textAlign:d.TextAlign.Center},k("seedPhraseReviewTitleSettings")),o.default.createElement(u.ButtonIcon,{iconName:u.IconName.Close,color:d.IconColor.iconDefault,size:u.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-review-close-button",onClick:H,ariaLabel:k("close")})):o.default.createElement(u.Box,{justifyContent:d.JustifyContent.flexStart,marginBottom:4,width:d.BlockSize.Full},o.default.createElement(u.Text,{variant:d.TextVariant.headingLg,as:"h2"},k("seedPhraseReviewTitle"))),t[31]=K,t[32]=B,t[33]=D,t[34]=H,t[35]=k,t[36]=Q):Q=t[36],t[37]!==k?(Z=k("secretRecoveryPhrase"),t[37]=k,t[38]=Z):Z=t[38],t[39]!==G||t[40]!==Z?(ee=o.default.createElement(u.ButtonLink,{key:"seedPhraseReviewDetails",size:u.ButtonLinkSize.Inherit,onClick:G},Z),t[39]=G,t[40]=Z,t[41]=ee):ee=t[41],t[42]!==k||t[43]!==ee?(te=k("seedPhraseReviewDetails",[ee]),t[42]=k,t[43]=ee,t[44]=te):te=t[44],t[45]!==te?(ne=o.default.createElement(u.Box,{marginBottom:6},o.default.createElement(u.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative,marginBottom:6},te)),t[45]=te,t[46]=ne):ne=t[46],t[47]!==n?(ae=n.split(" "),t[47]=n,t[48]=ae):ae=t[48],t[49]!==N||t[50]!==w?(oe=()=>{w({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:N}}),A(!0)},t[49]=N,t[50]=w,t[51]=oe):oe=t[51],t[52]!==R||t[53]!==ae||t[54]!==oe?(re=o.default.createElement(T.default,{secretRecoveryPhrase:ae,phraseRevealed:R,revealPhrase:oe}),t[52]=R,t[53]=ae,t[54]=oe,t[55]=re):re=t[55],t[56]!==Q||t[57]!==ne||t[58]!==re||t[59]!==X?(ie=o.default.createElement(u.Box,null,X,Q,ne,re),t[56]=Q,t[57]=ne,t[58]=re,t[59]=X,t[60]=ie):ie=t[60];const se=!R;let le,ce,ue,de,pe;return t[61]!==k?(le=k("continue"),t[61]=k,t[62]=le):le=t[62],t[63]!==z||t[64]!==se||t[65]!==le?(ce=o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Primary,size:u.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:se,onClick:z},le),t[63]=z,t[64]=se,t[65]=le,t[66]=ce):ce=t[66],t[67]!==q||t[68]!==B||t[69]!==k?(ue=!B&&o.default.createElement(u.Button,{width:d.BlockSize.Full,variant:u.ButtonVariant.Link,size:u.ButtonSize.Lg,onClick:q,type:"button","data-testid":"recovery-phrase-remind-later"},k("secureWalletRemindLaterButton")),t[67]=q,t[68]=B,t[69]=k,t[70]=ue):ue=t[70],t[71]!==ce||t[72]!==ue?(de=o.default.createElement(u.Box,{width:d.BlockSize.Full,display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:2},ce,ue),t[71]=ce,t[72]=ue,t[73]=de):de=t[73],t[74]!==ie||t[75]!==de?(pe=o.default.createElement(u.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,alignItems:d.AlignItems.center,height:d.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},ie,de),t[74]=ie,t[75]=de,t[76]=pe):pe=t[76],pe}x.propTypes={secretRecoveryPhrase:s.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.tsx"}],[7903,{"../../../contexts/rive-wasm":7041,"@metamask/design-system-react":1807,"@rive-app/react-canvas":3194,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(31),{isLoader:n,skipTransition:l}=e,p=n!==undefined&&n,m=l!==undefined&&l,f=(0,s.useRiveWasmContext)(),{isWasmReady:g,error:h}=f,{buffer:y,error:_,loading:E}=(0,s.useRiveWasmFile)("./images/riv_animations/fox_appear.riv");let v,b,T;t[0]!==_||t[1]!==h?(v=()=>{h&&console.error("[Rive - FoxAppearAnimation] Failed to load WASM:",h),_&&console.error("[Rive - FoxAppearAnimation] Failed to load buffer:",_)},b=[h,_],t[0]=_,t[1]=h,t[2]=v,t[3]=b):(v=t[2],b=t[3]);(0,o.useEffect)(v,b),t[4]!==y?(T={buffer:y},t[4]=y,t[5]=T):T=t[5];const{riveFile:k,status:S}=(0,r.useRiveFile)(T),x=k??undefined,C=k?"FoxRaiseUp":undefined;let O,w;t[6]===Symbol.for("react.memo_cache_sentinel")?(O=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=O):O=t[6];t[7]!==x||t[8]!==C?(w={riveFile:x,stateMachines:C,autoplay:!1,layout:O},t[7]=x,t[8]=C,t[9]=w):w=t[9];const{rive:I,RiveComponent:N}=(0,r.useRive)(w);let R,A;t[10]!==y||t[11]!==E||t[12]!==p||t[13]!==g||t[14]!==I||t[15]!==m?(R=()=>{if(I&&g&&!E&&y){const e=I.stateMachineInputs("FoxRaiseUp");if(e){if(m){const t=e.find(d);t&&t.fire()}else{const t=e.find(u);t&&t.fire()}if(p){const t=e.find(c);t&&t.fire()}I.play()}}},A=[I,p,g,m,E,y],t[10]=y,t[11]=E,t[12]=p,t[13]=g,t[14]=I,t[15]=m,t[16]=R,t[17]=A):(R=t[16],A=t[17]);if((0,o.useEffect)(R,A),!g||E||!y||"loading"===S||"failed"===S){const e=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let n,a;return t[18]!==p?(n=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[18]=p,t[19]=n):n=t[19],t[20]!==e||t[21]!==n?(a=o.default.createElement(i.Box,{className:e},n),t[20]=e,t[21]=n,t[22]=a):a=t[22],a}const M=""+(p?"riv-animation__fox-container--loader":"riv-animation__fox-container");let P,B,D;t[23]!==N?(P=o.default.createElement(N,{className:"riv-animation__canvas"}),t[23]=N,t[24]=P):P=t[24];t[25]!==p?(B=p&&o.default.createElement("img",{"data-testid":"loading-indicator",className:"riv-animation__spinner",src:"./images/spinner.gif",alt:""}),t[25]=p,t[26]=B):B=t[26];t[27]!==M||t[28]!==P||t[29]!==B?(D=o.default.createElement(i.Box,{className:M},P,B),t[27]=M,t[28]=P,t[29]=B,t[30]=D):D=t[30];return D};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@rive-app/react-canvas"),i=e("@metamask/design-system-react"),s=e("../../../contexts/rive-wasm");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return"Loader2"===e.name}function u(e){return"Start"===e.name}function d(e){return"Wiggle"===e.name}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/fox-appear-animation.tsx"}],[7904,{"../../../../shared/constants/metametrics":5791,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../helpers/constants/common":7081,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"./types":7907,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.c)(38),{onDone:n,loginError:f}=e,g=(0,s.useI18nContext)(),h=(0,o.useContext)(d.MetaMetricsContext),y=(0,r.useSelector)(p.getSocialLoginType);let _;t[0]!==f||t[1]!==g?(_=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectTitle"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredTitle"):g("loginErrorGenericTitle"),t[0]=f,t[1]=g,t[2]=_):_=t[2];const E=_;let v;t[3]!==f||t[4]!==y||t[5]!==g||t[6]!==h?(v=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectDescription"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredDescription"):f===m.LOGIN_ERROR.RESET_WALLET&&y?g("loginErrorResetWalletDescription",[y]):g("loginErrorGenericDescription",[o.default.createElement(l.ButtonLink,{key:"loginErrorGenericDescription",size:l.ButtonLinkSize.Inherit,externalLink:!0,href:u.SUPPORT_LINK,onClick:()=>{h({category:c.MetaMetricsEventCategory.Onboarding,event:c.MetaMetricsEventName.SupportLinkClicked,properties:{url:u.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[c.MetaMetricsContextProp.PageTitle]})}},g("loginErrorGenericSupport"))]),t[3]=f,t[4]=y,t[5]=g,t[6]=h,t[7]=v):v=t[7];const b=v;let T;t[8]!==f||t[9]!==g?(T=()=>f===m.LOGIN_ERROR.UNABLE_TO_CONNECT?g("loginErrorConnectButton"):f===m.LOGIN_ERROR.SESSION_EXPIRED?g("loginErrorSessionExpiredButton"):g("loginErrorGenericButton"),t[8]=f,t[9]=g,t[10]=T):T=t[10];const k=T;let S,x,C,O,w,I,N,R,A,M,P,B;t[11]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.ModalOverlay,null),t[11]=S):S=t[11];t[12]===Symbol.for("react.memo_cache_sentinel")?(x=o.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,color:i.IconColor.warningDefault}),t[12]=x):x=t[12];t[13]!==E?(C=E(),t[13]=E,t[14]=C):C=t[14];t[15]!==C?(O=o.default.createElement(l.Box,{textAlign:i.TextAlign.Center},x,o.default.createElement(l.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,marginTop:4},C)),t[15]=C,t[16]=O):O=t[16];t[17]!==n||t[18]!==O?(w=o.default.createElement(l.ModalHeader,{onClose:n},O),t[17]=n,t[18]=O,t[19]=w):w=t[19];t[20]!==b?(I=b(),t[20]=b,t[21]=I):I=t[21];t[22]!==I?(N=o.default.createElement(l.Text,{variant:i.TextVariant.bodyMd},I),t[22]=I,t[23]=N):N=t[23];t[24]!==k?(R=k(),t[24]=k,t[25]=R):R=t[25];t[26]!==n||t[27]!==R?(A=o.default.createElement(l.Box,{marginTop:6},o.default.createElement(l.Button,{"data-testid":"login-error-modal-button",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,onClick:n,block:!0},R)),t[26]=n,t[27]=R,t[28]=A):A=t[28];t[29]!==N||t[30]!==A?(M=o.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},N,A),t[29]=N,t[30]=A,t[31]=M):M=t[31];t[32]!==M||t[33]!==w?(P=o.default.createElement(l.ModalContent,{alignItems:i.AlignItems.center},w,M),t[32]=M,t[33]=w,t[34]=P):P=t[34];t[35]!==n||t[36]!==P?(B=o.default.createElement(l.Modal,{isOpen:!0,onClose:n,"data-testid":"login-error-modal"},S,P),t[35]=n,t[36]=P,t[37]=B):B=t[37];return B};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../components/component-library"),c=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/common"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),m=e("./types");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[7905,{"../../../../shared/constants/preferences":5800,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"../../../hooks/useTheme":7264,"./types":7907,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function(e){const t=(0,a.c)(61),{loginOption:n,handleLogin:d}=e,p=(0,s.useI18nContext)(),f=(0,c.useTheme)(),g=f===l.ThemeType.light?"var(--welcome-bg-light)":"var(--color-accent02-dark)",h=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button";let y,_,E,v,b;t[0]!==p?(y=p("onboardingOptionIcon",["Google"]),t[0]=p,t[1]=y):y=t[1];t[2]!==y?(_=o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:y}),t[2]=y,t[3]=_):_=t[3];t[4]!==n||t[5]!==p?(E=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Google"]):p("onboardingContinueWith",["Google"]),t[4]=n,t[5]=p,t[6]=E):E=t[6];t[7]!==d?(v=()=>d(u.LOGIN_TYPE.GOOGLE),t[7]=d,t[8]=v):v=t[8];t[9]!==h||t[10]!==_||t[11]!==E||t[12]!==v?(b=o.default.createElement(m,{"data-testid":h,icon:_,label:E,marginBottom:4,onClick:v}),t[9]=h,t[10]=_,t[11]=E,t[12]=v,t[13]=b):b=t[13];const T=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button";let k,S,x,C,O,w,I;t[14]===Symbol.for("react.memo_cache_sentinel")?(k=o.default.createElement(r.Icon,{name:r.IconName.Apple,color:i.IconColor.infoInverse,size:r.IconSize.Lg}),t[14]=k):k=t[14];t[15]!==n||t[16]!==p?(S=n===u.LOGIN_OPTION.EXISTING?p("onboardingSignInWith",["Apple"]):p("onboardingContinueWith",["Apple"]),t[15]=n,t[16]=p,t[17]=S):S=t[17];t[18]!==d?(x=()=>d(u.LOGIN_TYPE.APPLE),t[18]=d,t[19]=x):x=t[19];t[20]!==x||t[21]!==T||t[22]!==S?(C=o.default.createElement(m,{"data-testid":T,icon:k,label:S,marginBottom:2,onClick:x}),t[20]=x,t[21]=T,t[22]=S,t[23]=C):C=t[23];t[24]!==g?(O={position:"relative",zIndex:1,backgroundColor:g},t[24]=g,t[25]=O):O=t[25];t[26]!==p?(w=p("or"),t[26]=p,t[27]=w):w=t[27];t[28]!==O||t[29]!==w?(I=o.default.createElement(r.Box,{alignItems:i.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(r.Text,{width:i.BlockSize.Max,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.textAlternative,paddingInline:2,marginInline:"auto",textTransform:i.TextTransform.Lowercase,as:"div",style:O},w)),t[28]=O,t[29]=w,t[30]=I):I=t[30];const N=f===l.ThemeType.dark?l.ThemeType.light:l.ThemeType.dark,R=n===u.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button";let A,M,P,B,D,L,F,j,U,W;t[31]!==d?(A=()=>d(u.LOGIN_TYPE.SRP),t[31]=d,t[32]=A):A=t[32];t[33]!==n||t[34]!==p?(M=n===u.LOGIN_OPTION.EXISTING?p("onboardingSrpImport"):p("onboardingSrpCreate"),t[33]=n,t[34]=p,t[35]=M):M=t[35];t[36]!==N||t[37]!==R||t[38]!==A||t[39]!==M?(P=o.default.createElement(r.Button,{"data-theme":N,"data-testid":R,variant:r.ButtonVariant.Primary,width:i.BlockSize.Full,size:r.ButtonSize.Lg,onClick:A},M),t[36]=N,t[37]=R,t[38]=A,t[39]=M,t[40]=P):P=t[40];t[41]!==p?(B=p("onboardingLoginFooterTermsOfUse"),t[41]=p,t[42]=B):B=t[42];t[43]!==B?(D=o.default.createElement(r.Text,{as:"a",href:"https://consensys.io/terms-of-use",target:"_blank",rel:"noopener noreferrer",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,color:i.TextColor.primaryDefault,key:"onboardingLoginFooterTermsOfUse"},B),t[43]=B,t[44]=D):D=t[44];t[45]!==p?(L=p("onboardingLoginFooterPrivacyNotice"),t[45]=p,t[46]=L):L=t[46];t[47]!==L?(F=o.default.createElement(r.Text,{as:"a",variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,href:"https://consensys.io/privacy-notice",target:"_blank",rel:"noopener noreferrer",color:i.TextColor.primaryDefault,key:"onboardingLoginFooterPrivacyNotice"},L),t[47]=L,t[48]=F):F=t[48];t[49]!==p||t[50]!==D||t[51]!==F?(j=p("onboardingLoginFooter",[D,F]),t[49]=p,t[50]=D,t[51]=F,t[52]=j):j=t[52];t[53]!==j?(U=o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Medium,textAlign:i.TextAlign.Center,paddingTop:8,color:i.TextColor.textDefault,width:i.BlockSize.Full,margin:"auto"},j),t[53]=j,t[54]=U):U=t[54];t[55]!==C||t[56]!==I||t[57]!==P||t[58]!==U||t[59]!==b?(W=o.default.createElement(r.Box,null,b,C,I,P,U),t[55]=C,t[56]=I,t[57]=P,t[58]=U,t[59]=b,t[60]=W):W=t[60];return W};var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../../shared/constants/preferences"),c=e("../../../hooks/useTheme"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(null,arguments)}const m=n.SocialButton=o.default.forwardRef((e,t)=>{const n=(0,a.c)(13);let s,l,c,u,d,m;return n[0]!==e?(({icon:s,label:l,...c}=e),n[0]=e,n[1]=s,n[2]=l,n[3]=c):(s=n[1],l=n[2],c=n[3]),n[4]!==l?(u=o.default.createElement(r.Box,null,l),n[4]=l,n[5]=u):u=n[5],n[6]!==s||n[7]!==u?(d=o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,gap:2},s,u),n[6]=s,n[7]=u,n[8]=d):d=n[8],n[9]!==c||n[10]!==t||n[11]!==d?(m=o.default.createElement(r.Button,p({ref:t,className:"options-modal__plain-button",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,block:!0},c),d),n[9]=c,n[10]=t,n[11]=d,n[12]=m):m=n[12],m})}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[7906,{"../../../../shared/constants/preferences":5800,"../../../contexts/rive-wasm":7041,"../../../hooks/useTheme":7264,"@metamask/design-system-react":1807,"@rive-app/react-canvas":3194,classnames:4117,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(51),{setIsAnimationComplete:n,isAnimationComplete:a,skipTransition:p}=e,f=a!==undefined&&a,_=p!==undefined&&p,E=(0,c.useTheme)(),v=(0,d.useRiveWasmContext)(),{isWasmReady:b,error:T,setIsAnimationCompleted:k}=v,{buffer:S,error:x,loading:C}=(0,d.useRiveWasmFile)("./images/riv_animations/metamask_wordmark.riv"),O=(0,r.useRef)(null),w=(0,r.useRef)(E);let I;t[0]===Symbol.for("react.memo_cache_sentinel")?(I={},t[0]=I):I=t[0];const N=(0,r.useRef)(I);let R,A,M;t[1]!==x||t[2]!==n||t[3]!==T?(R=()=>{T&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load WASM:",T),n(!0)),x&&(console.error("[Rive - MetamaskWordMarkAnimation] Failed to load buffer:",x),n(!0))},A=[T,x,n],t[1]=x,t[2]=n,t[3]=T,t[4]=R,t[5]=A):(R=t[4],A=t[5]);(0,r.useEffect)(R,A),t[6]!==S?(M={buffer:S},t[6]=S,t[7]=M):M=t[7];const{riveFile:P,status:B}=(0,i.useRiveFile)(M),D=P??undefined,L=P?"WordmarkBuildUp":undefined;let F,j,U;t[8]===Symbol.for("react.memo_cache_sentinel")?(F=new i.Layout({fit:i.Fit.Contain,alignment:i.Alignment.Center}),t[8]=F):F=t[8];t[9]!==f||t[10]!==n?(j=e=>{e.data&&Array.isArray(e.data)&&(O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{f||n(!0)},1e3))},t[9]=f,t[10]=n,t[11]=j):j=t[11];t[12]!==j||t[13]!==D||t[14]!==L?(U={riveFile:D,stateMachines:L,autoplay:!1,layout:F,onStateChange:j},t[12]=j,t[13]=D,t[14]=L,t[15]=U):U=t[15];const{rive:W,RiveComponent:z}=(0,i.useRive)(U),[$,G]=(0,r.useState)(!1);let V;t[16]!==W?(V=()=>{if(!W)return!1;const e=W.stateMachineInputs(m);return!!e&&(N.current={dark:e.find(y),still:e.find(h),start:e.find(g)},!0)},t[16]=W,t[17]=V):V=t[17];const q=V;let J,K,Y,H;t[18]!==S||t[19]!==C||t[20]!==q||t[21]!==$||t[22]!==b||t[23]!==W||t[24]!==k||t[25]!==_||t[26]!==E?(J=()=>{if(W&&b&&!C&&S&&!$&&q()){const{dark:e,still:t,start:n}=N.current;e&&(e.value=E===u.ThemeType.dark),w.current=E,_?null==t||t.fire():null==n||n.fire(),W.play(),G(!0)}return()=>{O.current&&(clearTimeout(O.current),k("MetamaskWordMarkAnimation",!0))}},K=[W,b,_,C,S,$,E,q,k],t[18]=S,t[19]=C,t[20]=q,t[21]=$,t[22]=b,t[23]=W,t[24]=k,t[25]=_,t[26]=E,t[27]=J,t[28]=K):(J=t[27],K=t[28]);(0,r.useEffect)(J,K),t[29]!==$||t[30]!==W||t[31]!==E?(Y=()=>{if(!W||!$||w.current===E)return;const{dark:e,still:t}=N.current;e&&(e.value=E===u.ThemeType.dark,null==t||t.fire()),w.current=E},H=[W,E,$],t[29]=$,t[30]=W,t[31]=E,t[32]=Y,t[33]=H):(Y=t[32],H=t[33]);(0,r.useEffect)(Y,H);const X=!b||C||!S||"loading"===B,Q="failed"===B;let Z,ee;t[34]!==Q||t[35]!==f||t[36]!==n?(Z=()=>{Q&&!f&&n(!0)},ee=[Q,f,n],t[34]=Q,t[35]=f,t[36]=n,t[37]=Z,t[38]=ee):(Z=t[37],ee=t[38]);if((0,r.useEffect)(Z,ee),X||Q){let e,n;return t[39]!==Q?(e=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":Q}),t[39]=Q,t[40]=e):e=t[40],t[41]!==e?(n=r.default.createElement(s.Box,{className:e}),t[41]=e,t[42]=n):n=t[42],n}const te=f&&!_;let ne,ae,oe;t[43]!==_||t[44]!==te?(ne=(0,l.default)("riv-animation__wordmark-container",{"riv-animation__wordmark-container--complete":te,"riv-animation__wordmark-container--skip-transition":_}),t[43]=_,t[44]=te,t[45]=ne):ne=t[45];t[46]!==z?(ae=r.default.createElement(z,{className:"riv-animation__canvas"}),t[46]=z,t[47]=ae):ae=t[47];t[48]!==ne||t[49]!==ae?(oe=r.default.createElement(s.Box,{className:ne},ae),t[48]=ne,t[49]=ae,t[50]=oe):oe=t[50];return oe};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@rive-app/react-canvas"),s=e("@metamask/design-system-react"),l=(a=e("classnames"))&&a.__esModule?a:{default:a},c=e("../../../hooks/useTheme"),u=e("../../../../shared/constants/preferences"),d=e("../../../contexts/rive-wasm");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m="WordmarkBuildUp",f={DARK:"Dark",STILL:"Still",START:"Start"};function g(e){return e.name===f.START}function h(e){return e.name===f.STILL}function y(e){return e.name===f.DARK}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/metamask-wordmark-animation.tsx"}],[7907,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired",RESET_WALLET:"reset_wallet"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[7908,{"../../../../shared/constants/preferences":5800,"../../../../shared/modules/environment":5917,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../hooks/useI18nContext":7235,"../../../hooks/useTheme":7264,"../../../store/actions":8127,"./login-options":7905,"./types":7907,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,o.c)(30),{onLogin:n,isAnimationComplete:a,skipTransition:_}=e,E=_!==undefined&&_,v=(0,u.useI18nContext)(),[b,T]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[x,C]=(0,r.useState)(!1);let O;t[0]===Symbol.for("react.memo_cache_sentinel")?(O=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),t[0]=O):O=t[0];const w=O,I=(0,i.useDispatch)(),N=(0,r.useRef)(null),R=(0,f.useTheme)(),A=(0,s.useNavigate)(),[M]=(0,s.useSearchParams)();let P;t[1]!==M?(P=M.get("login"),t[1]=M,t[2]=P):P=t[2];const B=P;let D,L,F,j,U;t[3]===Symbol.for("react.memo_cache_sentinel")?(D=()=>()=>{N.current&&clearTimeout(N.current)},L=[],t[3]=D,t[4]=L):(D=t[3],L=t[4]);(0,r.useEffect)(D,L),t[5]!==B?(F=()=>{B?(T(!0),S(B)):(T(!1),S(null))},j=[B],t[5]=B,t[6]=F,t[7]=j):(F=t[6],j=t[7]);(0,r.useEffect)(F,j),t[8]!==I||t[9]!==k||t[10]!==n?(U=async e=>{k&&(T(!1),await I((0,m.setTermsOfUseLastAgreed)((new Date).getTime())),await n(e,k))},t[8]=I,t[9]=k,t[10]=n,t[11]=U):U=t[11];const W=U;let z;t[12]!==A||t[13]!==n?(z=async(e,t)=>{w?(C(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{T(!0),S(e),C(!1),N.current=null,A(`${g.ONBOARDING_WELCOME_ROUTE}?login=${e}`)},100)):(T(!0),S(e),t&&await n(t,e))},t[12]=A,t[13]=n,t[14]=z):z=t[14];const $=z,G=a?1:0,V=a?"translateY(0) scale(1)":"translateY(80px) scale(0.8)",q=E?"none":"opacity 0.6s ease-out, transform 0.6s ease-out";let J,K,Y;t[15]!==G||t[16]!==V||t[17]!==q?(J={opacity:G,transform:V,transition:q},t[15]=G,t[16]=V,t[17]=q,t[18]=J):J=t[18];t[19]!==$||t[20]!==W||t[21]!==x||t[22]!==k||t[23]!==b||t[24]!==v||t[25]!==R?(K=w&&b&&k?r.default.createElement(l.Box,{className:"welcome-login__options welcome-login__options--fade-in"},r.default.createElement(h.default,{loginOption:k,handleLogin:W})):r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,width:c.BlockSize.Full,gap:4,className:""+(x?"welcome-login__cta--fade-out":"")},r.default.createElement(l.Button,{"data-testid":"onboarding-create-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.NEW,y.LOGIN_TYPE.SRP)},v("onboardingCreateWallet")),r.default.createElement(l.Button,{"data-theme":R===p.ThemeType.dark?p.ThemeType.light:p.ThemeType.dark,"data-testid":"onboarding-import-wallet",variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,block:!0,onClick:()=>$(y.LOGIN_OPTION.EXISTING,y.LOGIN_TYPE.SRP)},v(w?"onboardingImportWallet":"onboardingSrpImport"))),t[19]=$,t[20]=W,t[21]=x,t[22]=k,t[23]=b,t[24]=v,t[25]=R,t[26]=K):K=t[26];t[27]!==J||t[28]!==K?(Y=r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Box,{"data-testid":"get-started",style:J,className:"welcome-login"},K)),t[27]=J,t[28]=K,t[29]=Y):Y=t[29];return Y};var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("react-router-dom"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=e("../../../store/actions"),f=e("../../../hooks/useTheme"),g=e("../../../helpers/constants/routes"),h=(a=e("./login-options"))&&a.__esModule?a:{default:a},y=e("./types");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[7909,{"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/onboarding":5798,"../../../../shared/lib/trace":5897,"../../../../shared/modules/browser-runtime.utils":5910,"../../../../shared/modules/environment":5917,"../../../../shared/modules/error":5918,"../../../components/component-library":6529,"../../../contexts/metametrics":7040,"../../../contexts/rive-wasm":7041,"../../../ducks/metamask/metamask":7067,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../selectors":8094,"../../../store/actions":8127,"./fox-appear-animation":7903,"./login-error-modal":7904,"./metamask-wordmark-animation":7906,"./types":7907,"./welcome-login":7908,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,o.useSelector)(l.getCurrentKeyring),S=(0,m.getIsSeedlessOnboardingFeatureEnabled)(),x=(0,o.useSelector)(l.getFirstTimeFlowType),C=(0,o.useSelector)(v.getIsWalletResetInProgress),I=(0,o.useSelector)(l.getIsSocialLoginFlow),N=(0,o.useSelector)(l.getIsParticipateInMetaMetricsSet),[R,A]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),[B,D]=(0,a.useState)(null),{animationCompleted:L}=(0,E.useRiveWasmContext)(),F=Boolean(null==L?void 0:L.MetamaskWordMarkAnimation),[j,U]=(0,a.useState)(F),W=(0,f.getBrowserName)()===g.PLATFORM_FIREFOX,z=(0,a.useCallback)(async()=>{if(!I)return!0;return await e((0,d.getIsSeedlessOnboardingUserAuthenticated)())},[e,I]);(0,a.useEffect)(()=>{let e=!0;return!n||R||C?I&&(async()=>{const n=await z();e&&n&&(x===c.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0}):t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))})():x===c.FirstTimeFlowType.import||x===c.FirstTimeFlowType.restore?t(N?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS,{replace:!0}):x===c.FirstTimeFlowType.socialCreate?t(s.ONBOARDING_COMPLETION_ROUTE,{replace:!0}):t(s.ONBOARDING_REVIEW_SRP_ROUTE,{replace:!0}),()=>{e=!1}},[n,t,x,R,N,z,W,C,I]);const $=(0,a.useContext)(u.MetaMetricsContext),{bufferedTrace:G,bufferedEndTrace:V,onboardingParentContext:q}=$,J=(0,a.useCallback)(async()=>{P(!0),A(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.create)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:p.MetaMetricsEventAccountType.Default}}),null==G||G({name:y.TraceName.OnboardingNewSrpCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE)},[e,t,$,q,G]),K=(0,a.useCallback)(async()=>{P(!0),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.import)),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:p.MetaMetricsEventAccountType.Imported}}),null==G||G({name:y.TraceName.OnboardingExistingSrpImport,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),t(s.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[e,t,$,q,G]),Y=(0,a.useCallback)(async t=>{if(S){null==G||G({name:y.TraceName.OnboardingSocialLoginAttempt,op:y.TraceOperation.OnboardingUserJourney,tags:{provider:t},parentContext:null==q?void 0:q.current});const n=await e((0,d.startOAuthLogin)(t,G,V,$));return null==V||V({name:y.TraceName.OnboardingSocialLoginAttempt}),n}return!0},[e,S,q,G,V,$]),H=(0,a.useCallback)(e=>{const t=e instanceof Error?e.message:"Unknown error";(0,h.isUserCancelledLoginError)(e)?D(null):(null==V||V({name:y.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}}),t!==h.OAuthErrorMessages.INVALID_OAUTH_STATE_ERROR?t!==h.OAuthErrorMessages.NO_REDIRECT_URL_FOUND_ERROR&&t!==h.OAuthErrorMessages.NO_AUTH_CODE_FOUND_ERROR?D(T.LOGIN_ERROR.GENERIC):D(T.LOGIN_ERROR.UNABLE_TO_CONNECT):D(T.LOGIN_ERROR.SESSION_EXPIRED))},[V]),X=(0,a.useCallback)(async n=>{P(!0),A(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}});try{const a=await Y(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Default}_${n}`}}),a?(null==G||G({name:y.TraceName.OnboardingNewSocialCreateWallet,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(s.ONBOARDING_CREATE_PASSWORD_ROUTE,{replace:!0})):(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(s.ONBOARDING_ACCOUNT_EXIST,{replace:!0}))}catch(e){H(e)}finally{P(!1)}},[e,Y,$,t,q,H,G]),Q=(0,a.useCallback)(async n=>{P(!0),$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}});try{const a=await Y(n);$({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${p.MetaMetricsEventAccountType.Imported}_${n}`}}),a?(await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialCreate)),t(s.ONBOARDING_ACCOUNT_NOT_FOUND)):(null==G||G({name:y.TraceName.OnboardingExistingSocialLogin,op:y.TraceOperation.OnboardingUserJourney,parentContext:null==q?void 0:q.current}),await e((0,d.setFirstTimeFlowType)(c.FirstTimeFlowType.socialImport)),t(s.ONBOARDING_UNLOCK_ROUTE,{replace:!0}))}catch(e){H(e)}finally{P(!1)}},[Y,$,t,q,H,G,e]),Z=(0,a.useCallback)(e=>{(0,h.isUserCancelledLoginError)(e)?D(null):D(T.LOGIN_ERROR.GENERIC)},[]),ee=(0,a.useCallback)(async(t,n)=>{try{if(W||e((0,d.setParticipateInMetaMetrics)(null)),t===T.LOGIN_TYPE.SRP)return void(n===T.LOGIN_OPTION.NEW?await J():n===T.LOGIN_OPTION.EXISTING&&await K());if(!S)return;W||e((0,d.setParticipateInMetaMetrics)(!0)),n===T.LOGIN_OPTION.NEW?await X(t):n===T.LOGIN_OPTION.EXISTING&&await Q(t),W||e((0,d.setPna25Acknowledged)(!0,!0))}catch(e){Z(e)}},[S,e,J,K,X,W,Q,Z]);return a.default.createElement(i.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.center,alignItems:_.AlignItems.center,height:_.BlockSize.Full,width:_.BlockSize.Full,className:"welcome-container"},!M&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(O,{setIsAnimationComplete:U,isAnimationComplete:j,skipTransition:F})),!M&&a.default.createElement(a.default.Fragment,null,a.default.createElement(b.default,{onLogin:ee,isAnimationComplete:j,skipTransition:F}),j&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(w,{skipTransition:F})),null!==B&&a.default.createElement(k.default,{onDone:()=>D(null),loginError:B})),M&&a.default.createElement(a.Suspense,{fallback:a.default.createElement(i.Box,null)},a.default.createElement(w,{isLoader:!0})))};var a=C(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/routes"),l=e("../../../selectors"),c=e("../../../../shared/constants/onboarding"),u=e("../../../contexts/metametrics"),d=e("../../../store/actions"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/modules/environment"),f=e("../../../../shared/modules/browser-runtime.utils"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/modules/error"),y=e("../../../../shared/lib/trace"),_=e("../../../helpers/constants/design-system"),E=e("../../../contexts/rive-wasm"),v=e("../../../ducks/metamask/metamask"),b=S(e("./welcome-login")),T=e("./types"),k=S(e("./login-error-modal"));function S(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const O=(0,a.lazy)(()=>Promise.resolve().then(()=>C(e("./metamask-wordmark-animation")))),w=(0,a.lazy)(()=>Promise.resolve().then(()=>C(e("./fox-appear-animation"))))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.tsx"}],[7910,{"../../../components/app/permissions-connect-footer":6216,"../../../components/component-library":6529,"../../../components/ui/account-list":6903,"../../../components/ui/page-container":6983,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"@metamask/keyring-api":2193,"@metamask/permission-controller":2443,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=g(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("@metamask/permission-controller"),s=e("@metamask/keyring-api"),l=e("../../../hooks/useI18nContext"),c=g(e("../../../components/app/permissions-connect-footer")),u=g(e("../../../components/ui/account-list")),d=e("../../../components/ui/page-container"),p=e("../../../helpers/constants/design-system"),m=e("../../../components/component-library");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const h=e=>{const t=(0,a.c)(63),{selectedAccountAddresses:n,addressLastConnectedMap:o,accounts:s,selectAccounts:f,selectNewAccountViaModal:g,cancelPermissionsRequest:h,permissionsRequestId:E,targetSubjectMetadata:v,nativeCurrency:b}=e;let T;t[0]!==o?(T=o===undefined?{}:o,t[0]=o,t[1]=T):T=t[1];const k=T,[S,x]=(0,r.useState)(n);let C;t[2]!==s?(C=s.filter(y),t[2]=s,t[3]=C):C=t[3];const O=C,w=(0,l.useI18nContext)();let I;t[4]!==S?(I=e=>{const t=new Set(S);t.has(e)?t.delete(e):t.add(e),x(t)},t[4]=S,t[5]=I):I=t[5];const N=I;let R;t[6]!==O?(R=()=>{const e=new Set(O.map(_));x(e)},t[6]=O,t[7]=R):R=t[7];const A=R;let M;t[8]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{x(new Set)},t[8]=M):M=t[8];const P=M;let B;t[9]!==O.length||t[10]!==S.size?(B=()=>O.length===S.size,t[9]=O.length,t[10]=S.size,t[11]=B):B=t[11];const D=B;let L;t[12]!==n?(L=Object.keys(n),t[12]=n,t[13]=L):L=t[13];const F=L.length>O.length;let j;if(t[14]!==s.length||t[15]!==w||t[16]!==(null==v?void 0:v.subjectType)){j=(()=>0===s.length?w("connectAccountOrCreate"):(null==v?void 0:v.subjectType)===i.SubjectType.Snap?w("selectAccountsForSnap"):w("selectAccounts"))(),t[14]=s.length,t[15]=w,t[16]=null==v?void 0:v.subjectType,t[17]=j}else j=t[17];const U=j;let W,z,$,G,V,q,J,K,Y,H,X;t[18]!==w?(W=w("connectWithMetaMask"),t[18]=w,t[19]=W):W=t[19],t[20]!==W?(z=r.default.createElement(m.Text,{variant:p.TextVariant.headingMd},W),t[20]=W,t[21]=z):z=t[21],t[22]!==U?($=r.default.createElement(m.Text,{variant:p.TextVariant.bodyMd},U),t[22]=U,t[23]=$):$=t[23],t[24]!==z||t[25]!==$?(G=r.default.createElement(m.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,paddingTop:4,paddingBottom:4},z,$),t[24]=z,t[25]=$,t[26]=G):G=t[26],t[27]!==s||t[28]!==k||t[29]!==D||t[30]!==N||t[31]!==b||t[32]!==A||t[33]!==g||t[34]!==S?(V=r.default.createElement(u.default,{accounts:s,selectNewAccountViaModal:g,addressLastConnectedMap:k,nativeCurrency:b,selectedAccounts:S,allAreSelected:D,deselectAll:P,selectAll:A,handleAccountClick:N}),t[27]=s,t[28]=k,t[29]=D,t[30]=N,t[31]=b,t[32]=A,t[33]=g,t[34]=S,t[35]=V):V=t[35],t[36]!==G||t[37]!==V?(q=r.default.createElement(m.Box,{className:"permissions-connect-choose-account__content",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,backgroundColor:p.BackgroundColor.backgroundAlternative,width:p.BlockSize.Full,height:p.BlockSize.Full,paddingLeft:6,paddingRight:6},G,V),t[36]=G,t[37]=V,t[38]=q):q=t[38],t[39]!==(null==v?void 0:v.subjectType)?(J=(null==v?void 0:v.subjectType)!==i.SubjectType.Snap&&r.default.createElement(c.default,null),t[39]=null==v?void 0:v.subjectType,t[40]=J):J=t[40],t[41]!==h||t[42]!==E?(K=()=>h(E),t[41]=h,t[42]=E,t[43]=K):K=t[43],t[44]!==w?(Y=w("cancel"),t[44]=w,t[45]=Y):Y=t[45],t[46]!==f||t[47]!==S?(H=()=>f(S),t[46]=f,t[47]=S,t[48]=H):H=t[48],t[49]!==w?(X=w("next"),t[49]=w,t[50]=X):X=t[50];const Q=F||0===S.size;let Z,ee,te;return t[51]!==K||t[52]!==Y||t[53]!==H||t[54]!==X||t[55]!==Q?(Z=r.default.createElement(d.PageContainerFooter,{cancelButtonType:"default",onCancel:K,cancelText:Y,onSubmit:H,submitText:X,disabled:Q}),t[51]=K,t[52]=Y,t[53]=H,t[54]=X,t[55]=Q,t[56]=Z):Z=t[56],t[57]!==J||t[58]!==Z?(ee=r.default.createElement(m.Box,{backgroundColor:p.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},J,Z),t[57]=J,t[58]=Z,t[59]=ee):ee=t[59],t[60]!==q||t[61]!==ee?(te=r.default.createElement(r.default.Fragment,null,q,ee),t[60]=q,t[61]=ee,t[62]=te):te=t[62],te};h.propTypes={accounts:o.default.arrayOf(o.default.shape({address:o.default.string,addressLabel:o.default.string,lastConnectedDate:o.default.string,balance:o.default.string})).isRequired,selectAccounts:o.default.func.isRequired,selectNewAccountViaModal:o.default.func.isRequired,nativeCurrency:o.default.string.isRequired,addressLastConnectedMap:o.default.object,cancelPermissionsRequest:o.default.func.isRequired,permissionsRequestId:o.default.string.isRequired,selectedAccountAddresses:o.default.object.isRequired,targetSubjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,subjectType:o.default.string})};n.default=h;function y(e){return(0,s.isEvmAccountType)(e.type)}function _(e){return e.address}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[7911,{"./choose-account":7910},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[7912,{"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/network":5795,"../../../../shared/lib/caip25-caveat-merger":5826,"../../../../shared/modules/selectors/networks":5934,"../../../components/component-library":6529,"../../../components/multichain":6764,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":6735,"../../../components/multichain/pages/page":6863,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":6870,"../../../components/ui/tabs":7008,"../../../contexts/metametrics":7040,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/util":7141,"../../../hooks/useI18nContext":7235,"../../../hooks/useOriginTrustSignals":7254,"../../../hooks/useTrustSignals":7279,"../../../selectors":8094,"../../../selectors/multichain":8103,"./utils":7913,"@metamask/chain-agnostic-permission":1420,"@metamask/utils":3116,lodash:4838,react:5256,"react-redux":5221,"react-tippy":5238},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),i=e("@metamask/utils"),s=e("lodash"),l=e("react-tippy"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/modules/selectors/networks"),p=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),f=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),g=e("../../../helpers/constants/design-system"),h=e("../../../../shared/constants/network"),y=e("../../../selectors/multichain"),_=e("../../../components/ui/tabs"),E=e("../../../components/multichain"),v=e("../../../helpers/utils/util"),b=e("../../../../shared/constants/metametrics"),T=e("../../../contexts/metametrics"),k=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),S=e("../../../../shared/lib/caip25-caveat-merger"),x=e("../../../hooks/useOriginTrustSignals"),C=e("../../../hooks/useTrustSignals"),O=e("./utils");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:w,targetSubjectMetadata:I})=>{const N=(0,c.useI18nContext)(),R=(0,a.useContext)(T.MetaMetricsContext),A=(0,o.useSelector)(t=>{var n;return(0,u.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),M=(0,a.useMemo)(()=>A?(0,O.getCaip25CaveatValueFromPermissions)(A):null,[A]),P=(0,O.getCaip25CaveatValueFromPermissions)(e.permissions),B=M?(0,S.mergeCaip25CaveatValues)(P,M):P,D=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(B),L=(0,r.getAllScopesFromCaip25CaveatValue)(B),{promptToCreateSolanaAccount:F,isEip1193Request:j}=e.metadata??{},U=(0,o.useSelector)(d.getAllNetworkConfigurationsByCaipChainId),[W,z]=(0,a.useMemo)(()=>Object.entries(U).reduce(([e,t],[n,a])=>{const o=n;return(h.CAIP_FORMATTED_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[U]),$=(0,a.useMemo)(()=>[...W,...z].map(({caipChainId:e})=>e),[W,z]),[G,V]=(0,a.useState)(!1),[q,J]=(0,a.useState)(!1),[K,Y]=(0,a.useState)(!1),H=(0,o.useSelector)(y.getMultichainNetwork).chainId,X=z.find(e=>e.caipChainId===H);let Q=X?[...W,X].map(({caipChainId:e})=>e):W.map(({caipChainId:e})=>e),Z=L.filter(e=>$.includes(e));if(j){Q=Q.filter(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155});!Z.some(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155})&&M&&(Z=Array.from(new Set([...Q,...Z])))}const ee=Z.length>0?Z:Q,[te,ne]=(0,a.useState)(ee),ae=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&V(!0),ne(e)},[V,ne]),oe=(0,o.useSelector)(u.getUpdatedAndSortedAccountsWithCaipAccountId),re=(0,r.getAllNamespacesFromCaip25CaveatValue)(B).filter(e=>e!==i.KnownCaipNamespace.Wallet),ie=oe.filter(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e.caipAccountId);return re.includes(t)}),se=ie.filter(e=>(0,r.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,D)),le=(0,O.getDefaultAccounts)(re,se,ie).map(({caipAccountId:e})=>e),[ce,ue]=(0,a.useState)(le),de=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&V(!0);let n=[...te];e.forEach(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=$.filter(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),ae(n,{isUserModified:t}),ue(e)},[V,ue,te,ae,$]);(0,a.useEffect)(()=>{G||(0,s.isEqual)(le,ce)||de(le,{isUserModified:!1})},[G,de,ce,JSON.stringify(le)]);const pe=oe.filter(({caipAccountId:e})=>ce.some(t=>t===e)),me=(0,a.useMemo)(()=>oe.some(({caipAccountId:e})=>{const{chain:t}=(0,i.parseCaipAccountId)(e);return t.namespace===i.KnownCaipNamespace.Solana}),[oe]),fe=(0,a.useCallback)(()=>{J(!0),R({category:b.MetaMetricsEventCategory.Navigation,event:b.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[R]),ge=(0,a.useCallback)(()=>{Y(!0)},[]),he=(0,a.useCallback)(()=>{Y(!1)},[]),ye=(0,a.useCallback)(()=>{J(!1)},[]),_e=(0,a.useCallback)(()=>{n(t)},[t,n]),Ee=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,r.generateCaip25Caveat)(B,ce,te)}};w(t)},[e,B,ce,te,w]),ve=(0,v.transformOriginToTitle)(I.origin),be=(0,x.useOriginTrustSignals)(I.origin);return a.default.createElement(m.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:g.BackgroundColor.backgroundDefault},a.default.createElement(m.Header,{paddingTop:8,paddingBottom:4},a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center,marginBottom:8},I.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Xl,src:I.iconUrl,name:ve})),a.default.createElement(p.AvatarFavicon,{backgroundColor:g.BackgroundColor.backgroundMuted,size:p.AvatarFaviconSize.Lg,src:I.iconUrl,name:ve,style:{zIndex:1,background:"transparent"}})):a.default.createElement(p.AvatarBase,{size:p.AvatarBaseSize.Lg,display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,color:g.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:g.BackgroundColor.backgroundMuted},(0,v.isIpAddress)(ve)?"?":(0,v.getAvatarFallbackLetter)(ve))),a.default.createElement(p.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center,gap:2,marginBottom:1},a.default.createElement(p.Text,{variant:g.TextVariant.headingLg,style:{wordBreak:"break-word",whiteSpace:"normal"}},ve),be.state===C.TrustSignalDisplayState.Verified&&a.default.createElement(l.Tooltip,{title:N("alertReasonOriginTrustSignalVerified"),position:"bottom",style:{display:"flex"}},a.default.createElement(p.Icon,{name:p.IconName.VerifiedFilled,color:g.IconColor.infoDefault,size:p.IconSize.Sm}))),a.default.createElement(p.Box,{display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.Text,{color:g.TextColor.textAlternative},N("connectionDescription")))),a.default.createElement(m.Content,{paddingLeft:4,paddingRight:4,backgroundColor:g.BackgroundColor.transparent},a.default.createElement(_.Tabs,{defaultActiveTabKey:"accounts"},a.default.createElement(_.Tab,{name:N("accounts"),tabKey:"accounts","data-testid":"accounts-tab",className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(p.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,borderRadius:g.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},pe.map(e=>a.default.createElement(E.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===pe.length&&!F&&a.default.createElement(p.Box,{className:"connect-page__accounts-empty",display:g.Display.Flex,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,borderRadius:g.BorderRadius.XL},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("selectAccountToConnect")))),pe.length>0&&a.default.createElement(p.Box,{marginTop:4,display:g.Display.Flex,justifyContent:g.JustifyContent.center},a.default.createElement(p.ButtonLink,{onClick:fe,"data-testid":"edit"},N("editAccounts"))),F&&!me&&a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,justifyContent:g.JustifyContent.center,alignItems:g.AlignItems.center,marginTop:4,gap:2},a.default.createElement(p.Text,{variant:g.TextVariant.bodyMd,color:g.TextColor.textAlternative,textAlign:g.TextAlign.Center},0===pe.length?N("solanaAccountRequired"):N("solanaAccountRequested")),a.default.createElement(p.Button,{variant:p.ButtonVariant.Secondary,width:g.BlockSize.Full,size:p.ButtonSize.Lg,onClick:ge,"data-testid":"create-solana-account"},N("createSolanaAccount"))),K&&a.default.createElement(k.CreateSolanaAccountModal,{onClose:he}),q&&a.default.createElement(E.EditAccountsModal,{accounts:oe,defaultSelectedAccountAddresses:ce,onClose:ye,onSubmit:de}))),a.default.createElement(_.Tab,{name:N("permissions"),tabKey:"permissions","data-testid":"permissions-tab",disabled:F&&!me&&0===pe.length,className:"flex-1"},a.default.createElement(p.Box,{marginTop:4},a.default.createElement(f.SiteCell,{nonTestNetworks:W,testNetworks:z,accounts:oe,onSelectAccountAddresses:de,onSelectChainIds:ae,selectedAccountAddresses:ce,selectedChainIds:te,isConnectFlow:!0}))))),a.default.createElement(m.Footer,null,a.default.createElement(p.Box,{display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Box,{display:g.Display.Flex,gap:4,width:g.BlockSize.Full},a.default.createElement(p.Button,{block:!0,variant:p.ButtonVariant.Secondary,size:p.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:_e},N("cancel")),a.default.createElement(p.Button,{block:!0,"data-testid":"confirm-btn",size:p.ButtonSize.Lg,onClick:Ee,disabled:0===ce.length||0===te.length},N("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[7913,{"../../../helpers/utils/util":7141,"@metamask/chain-agnostic-permission":1420,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],i=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),i.add(n))});const s=e.filter(e=>!i.has(e));if(s.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[7914,{"./permissions-connect":7915},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[7915,{"../../../app/scripts/lib/multichain/address":297,"../../../shared/constants/time":5812,"../../../shared/lib/multichain/scope-utils":5885,"../../components/app/permission-page-container":6210,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":6281,"../../components/component-library":6529,"../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper":6633,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6640,"../../ducks/metamask/metamask":7067,"../../helpers/constants/routes":7088,"../../helpers/utils/util":7141,"../../hooks/useAccountGroupsForPermissions":7210,"../../hooks/useI18nContext":7235,"../../selectors":8094,"../../selectors/multichain-accounts/account-tree":8098,"../../store/actions":8127,"../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page":7843,"../routes/utils":7935,"./choose-account":7911,"./connect-page/connect-page":7912,"./connect-page/utils":7913,"./redirect":7916,"./snaps/snap-install":7918,"./snaps/snap-result":7920,"./snaps/snap-update":7922,"./snaps/snaps-connect":7924,"@metamask/chain-agnostic-permission":1420,"@metamask/keyring-api":2193,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-rpc-methods":2730,"@metamask/snaps-utils":2903,"@metamask/utils":3116,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/snaps-rpc-methods"),u=e("@metamask/keyring-api"),d=e("@metamask/chain-agnostic-permission"),p=e("@metamask/utils"),m=e("../routes/utils"),f=e("../../../app/scripts/lib/multichain/address"),g=e("../../../shared/constants/time"),h=e("../../helpers/constants/routes"),y=e("../../selectors"),_=e("../../ducks/metamask/metamask"),E=e("../../helpers/utils/util"),v=e("../../store/actions"),b=e("../../selectors/multichain-accounts/account-tree"),T=j(e("../../components/app/permission-page-container")),k=e("../../components/component-library"),S=j(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),x=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),C=e("../multichain-accounts/multichain-accounts-connect-page/multichain-accounts-connect-page"),O=e("../../hooks/useAccountGroupsForPermissions"),w=e("../../../shared/lib/multichain/scope-utils"),I=e("../../components/multichain-accounts/permissions/multichain-edit-accounts-page/multichain-edit-account-wrapper"),N=e("../../hooks/useI18nContext"),R=j(e("./choose-account")),A=j(e("./redirect")),M=j(e("./snaps/snaps-connect")),P=j(e("./snaps/snap-install")),B=j(e("./snaps/snap-update")),D=j(e("./snaps/snap-result")),L=e("./connect-page/connect-page"),F=e("./connect-page/utils");function j(e){return e&&e.__esModule?e:{default:e}}function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}const W=1200*g.MILLISECOND;function z(e){const t=(0,F.getCaip25CaveatValueFromPermissions)(e);return(0,d.getPermittedEthChainIds)(t)}n.default=function(){const e=(0,o.useDispatch)(),t=(0,r.useNavigate)(),n=(0,r.useLocation)(),g=(0,r.useParams)(),j=(0,N.useI18nContext)(),U=g.id,{pathname:$}=n;let G=(0,o.useSelector)(y.getPermissionsRequests);G=[...G,...(0,o.useSelector)(y.getSnapInstallOrUpdateRequests)];const{address:V}=(0,o.useSelector)(y.getSelectedInternalAccount),q=G.find(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.id)===U}),{metadata:J={},diff:K={}}=q||{},{origin:Y}=J||{},H=(0,o.useSelector)(_.getNativeCurrency),X=Boolean(null==K?void 0:K.permissionDiffMap),Q=null==q?void 0:q.permissions,Z=Boolean((null==Q?void 0:Q[d.Caip25EndowmentPermissionName])&&!X),ee=(0,o.useSelector)(e=>(0,y.getTargetSubjectMetadata)(e,Y)),te=(0,a.useMemo)(()=>ee??{name:(0,E.getURLHostName)(Y)||Y,origin:Y,iconUrl:null,extensionId:null,subjectType:s.SubjectType.Unknown},[ee,Y]);let ne=(0,o.useSelector)(e=>(0,y.getRequestType)(e,U));q&&1===Object.keys(Q||{}).length&&null!=Q&&Q[c.WALLET_SNAP_PERMISSION_KEY]&&(ne="wallet_connectSnaps");const ae=(0,o.useSelector)(e=>(0,y.getRequestState)(e,U))||{},oe=(0,o.useSelector)(y.getAccountsWithLabels).filter(e=>(0,u.isEvmAccountType)(e.type)),re=(0,o.useSelector)(b.getAccountGroupWithInternalAccounts),ie=(0,o.useSelector)(y.getLastConnectedInfo),se=(0,a.useMemo)(()=>ie||{},[ie]),le=(0,a.useMemo)(()=>{var e;const t=(null===(e=se[Y])||void 0===e?void 0:e.accounts)||{},n={};return Object.keys(t).forEach(e=>{n[e]=(0,E.formatDate)(t[e],"yyyy-MM-dd")}),n},[se,Y]),ce=`${h.CONNECT_ROUTE}/${U}`,ue=`${ce}${h.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,de=`${ce}${h.CONNECT_SNAPS_CONNECT_ROUTE}`,pe=`${ce}${h.CONNECT_SNAP_INSTALL_ROUTE}`,me=`${ce}${h.CONNECT_SNAP_UPDATE_ROUTE}`,fe=`${ce}${h.CONNECT_SNAP_RESULT_ROUTE}`,ge=$===pe||$===me||$===fe,he=(0,o.useSelector)(y.getSnapsInstallPrivacyWarningShown),ye=oe.length+1,[_e,Ee]=(0,a.useState)(!1),[ve,be]=(0,a.useState)(()=>function(e,t){const n=(0,F.getCaip25CaveatValueFromPermissions)(t),a=(0,d.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(f.isEthAddress)):new Set((0,f.isEthAddress)(e)?[e]:[])}(V,Q)),[Te,ke]=(0,a.useState)(null),[Se]=(0,a.useState)(Y),[xe,Ce]=(0,a.useState)(te||{}),[Oe]=(0,a.useState)(he),we=(0,a.useRef)(null),Ie=(0,a.useRef)(null),Ne=(0,a.useRef)(null),Re=(0,a.useCallback)(e=>{let n=!0;n=!(Q&&Object.keys(Q).includes("wallet_snap")),Ee(n),ke(e),n&&(e?setTimeout(()=>t(h.DEFAULT_ROUTE),W):t(h.DEFAULT_ROUTE))},[Q,t]);(0,a.useEffect)(()=>{if(e((0,v.getRequestAccountTabIds)()),q){if(n.pathname===ce&&!Z)switch(ne){case"wallet_installSnap":t(pe,{replace:!0});break;case"wallet_updateSnap":t(me,{replace:!0});break;case"wallet_installSnapResult":t(fe,{replace:!0});break;case"wallet_connectSnaps":t(de,{replace:!0});break;default:t(ue,{replace:!0})}}else t(h.DEFAULT_ROUTE,{replace:!0})},[]),(0,a.useEffect)(()=>{var e;null!=te&&te.origin&&(null===(e=Ie.current)||void 0===e?void 0:e.origin)!==(null==te?void 0:te.origin)&&Ce(te),Ie.current=te},[te]),(0,a.useEffect)(()=>{if(!q&&we.current&&!_e){var e;const t=se[Se],n=null===(e=Ne.current)||void 0===e?void 0:e[Se],a=(null==t?void 0:t.lastApproved)||0,o=(null==n?void 0:n.lastApproved)||0;Re(a>o)}we.current=q,Ne.current=se},[q,se,_e,Se,Re]);const Ae=(0,a.useCallback)(e=>{be(e),setTimeout(()=>{switch(ne){case"wallet_installSnap":t(pe);break;case"wallet_updateSnap":t(me);break;case"wallet_installSnapResult":t(fe);break;case"wallet_connectSnaps":t(de,{replace:!0});break;default:t(ue)}},0)},[ne,pe,me,fe,de,ue,t]),Me=(0,a.useCallback)(async t=>{t&&(await e((0,v.rejectPermissionsRequest)(t)),Re(!1))},[e,Re]),Pe=(0,a.useCallback)(t=>{e((0,v.approvePermissionsRequest)(t)),Re(!0)},[e,Re]),Be=(0,a.useCallback)(({onCreateNewAccount:t,newAccountNumber:n})=>e((0,v.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),[e]),De=(0,a.useCallback)(t=>{e((0,v.setSnapsInstallPrivacyWarningShownStatus)(t))},[e]),Le=(0,a.useCallback)((t,n)=>e((0,v.resolvePendingApproval)(t,n)),[e]),Fe=(0,a.useCallback)((t,n)=>e((0,v.rejectPendingApproval)(t,n)),[e]),je=(0,a.useCallback)(()=>a.default.createElement(R.default,{accounts:oe,nativeCurrency:H,selectAccounts:e=>Ae(e),selectNewAccountViaModal:e=>{Be({onCreateNewAccount:t=>e(t),newAccountNumber:ye})},addressLastConnectedMap:le,cancelPermissionsRequest:e=>Me(e),permissionsRequestId:U||"",selectedAccountAddresses:ve,targetSubjectMetadata:xe}),[oe,H,Ae,Be,ye,le,Me,U,ve,xe]),Ue=(0,a.useCallback)(()=>{const e=(0,F.getCaip25CaveatValueFromPermissions)(Q),t=[],n=(0,d.getAllScopesFromCaip25CaveatValue)(e).filter(e=>{const{namespace:t}=(0,p.parseCaipChainId)(e);return t!==p.KnownCaipNamespace.Wallet}),o=(0,d.getAllNamespacesFromCaip25CaveatValue)(e);return n.length>0&&n.forEach(e=>{t.push(e)}),o.includes(p.KnownCaipNamespace.Eip155)&&t.push(`${p.KnownCaipNamespace.Eip155}:0`),a.default.createElement(I.MultichainEditAccountsPageWrapper,{title:j("connectWithMetaMask"),permissions:Q,onSubmit:e=>{const n=re.filter(n=>e.includes(n.id)&&(0,O.supportsChainIds)(n,t)),a=(0,w.getCaip25AccountIdsFromAccountGroupAndScope)(n,t).map(e=>(0,p.parseCaipAccountId)(e).address);Ae(new Set(a))},onClose:()=>Me(U||"")})},[Q,re,j,Ae,Me,U]),We=(0,a.useCallback)(()=>{const e={rejectPermissionsRequest:e=>Me(e),activeTabOrigin:Se,request:q||{},permissionsRequestId:U||"",approveConnection:Pe,targetSubjectMetadata:xe};return a.default.createElement(L.ConnectPage,e)},[Me,Se,q,U,Pe,xe]),ze=(0,a.useCallback)(()=>{const e={rejectPermissionsRequest:e=>Me(e),activeTabOrigin:Se,request:q||{},permissionsRequestId:U||"",approveConnection:Pe,targetSubjectMetadata:xe};return a.default.createElement(C.MultichainAccountsConnectPage,e)},[Me,Se,q,U,Pe,xe]),$e=(0,a.useCallback)(e=>a.default.createElement(k.Box,{style:{boxShadow:xe.subjectType===s.SubjectType.Snap?"var(--shadow-size-lg) var(--color-shadow-default)":undefined}},xe.subjectType===s.SubjectType.Snap&&a.default.createElement(S.default,{snapId:xe.origin,boxShadow:"none",onCancel:()=>{Me(e)}})),[xe,Me]),Ge=(0,l.isSnapId)(null==J?void 0:J.origin);return a.default.createElement("div",{className:"permissions-connect"},!ge&&U&&$e(U),_e&&Te?a.default.createElement(A.default,{subjectMetadata:xe}):a.default.createElement(r.Routes,null,a.default.createElement(r.Route,{path:"/",element:Ge?a.default.createElement(x.State2Wrapper,{state1Component:je,state2Component:Ue}):a.default.createElement(x.State2Wrapper,{state1Component:We,state2Component:ze})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_CONFIRM_PERMISSIONS_ROUTE),element:a.default.createElement(T.default,{request:q||{},approvePermissionsRequest:t=>{e((0,v.approvePermissionsRequest)(t)),Re(!0)},rejectPermissionsRequest:e=>Me(e),selectedAccounts:oe.filter(e=>ve.has(e.address)),requestedChainIds:z(Q),targetSubjectMetadata:xe,navigate:t,connectPath:ce,snapsInstallPrivacyWarningShown:Oe,setSnapsInstallPrivacyWarningShownStatus:De})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAPS_CONNECT_ROUTE),element:a.default.createElement(M.default,{request:q||{},approveConnection:Pe,rejectConnection:e=>Me(e),targetSubjectMetadata:xe,snapsInstallPrivacyWarningShown:Oe,setSnapsInstallPrivacyWarningShownStatus:De})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_INSTALL_ROUTE),element:a.default.createElement(P.default,{request:q||{},requestState:ae||{},approveSnapInstall:e=>{Le(e,{...q,permissions:ae.permissions,approvedAccounts:[...ve]}),ke(!0)},rejectSnapInstall:e=>{Fe(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),ke(!0)},targetSubjectMetadata:xe})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_UPDATE_ROUTE),element:a.default.createElement(B.default,{request:q||{},requestState:ae||{},approveSnapUpdate:e=>{Le(e,{...q,permissions:ae.permissions,approvedAccounts:[...ve]}),ke(!0)},rejectSnapUpdate:e=>{Fe(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),ke(!1)},targetSubjectMetadata:xe})}),a.default.createElement(r.Route,{path:(0,m.toRelativeRoutePath)(h.CONNECT_SNAP_RESULT_ROUTE),element:a.default.createElement(D.default,{request:q||{},requestState:ae||{},approveSnapResult:e=>{Le(e,undefined),ke(!0)},targetSubjectMetadata:xe})})))}}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.tsx"}],[7916,{"./permissions-redirect.component":7917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[7917,{"../../../components/app/permissions-connect-footer":6216,"../../../components/component-library":6529,"../../../contexts/i18n":7035,"../../../helpers/constants/design-system":7083,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),i=e("../../../helpers/constants/design-system"),s=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=u(e("../../../components/app/permissions-connect-footer"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){const t=(0,a.c)(28),{subjectMetadata:n}=e,r=(0,o.useContext)(s.I18nContext),[u,d]=(0,o.useState)(n);let p,m,f,g,h,y,_,E,v,b,T,k,S,x,C;return t[0]!==n?(p=()=>{n&&n.origin&&d(n)},m=[n],t[0]=n,t[1]=p,t[2]=m):(p=t[1],m=t[2]),(0,o.useEffect)(p,m),t[3]!==r?(f=r("connecting"),t[3]=r,t[4]=f):f=t[4],t[5]!==f?(g=o.default.createElement(l.Box,{display:i.Display.Flex,marginBottom:4},o.default.createElement(l.Text,{variant:i.TextVariant.headingMd},f)),t[5]=f,t[6]=g):g=t[6],t[7]!==u.iconUrl||t[8]!==u.name?(h=o.default.createElement(l.AvatarToken,{src:u.iconUrl,name:u.name,size:l.AvatarTokenSize.Lg}),t[7]=u.iconUrl,t[8]=u.name,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=o.default.createElement(l.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,paddingLeft:4,paddingRight:4},o.default.createElement(l.Icon,{name:l.IconName.Confirmation,size:l.IconSize.Xl,color:i.IconColor.infoDefault})),_=o.default.createElement(l.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:l.AvatarTokenSize.Lg,name:"metamask-fox"}),t[10]=y,t[11]=_):(y=t[10],_=t[11]),t[12]!==h?(E=o.default.createElement(l.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.infoMuted,borderRadius:i.BorderRadius.pill,padding:2},h,y,_),t[12]=h,t[13]=E):E=t[13],t[14]!==g||t[15]!==E?(v=o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,height:i.BlockSize.Full,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.XS,border:`1px solid ${i.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},g,E),t[14]=g,t[15]=E,t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=o.default.createElement(c.default,null),t[17]=b):b=t[17],t[18]!==r?(T=r("back"),t[18]=r,t[19]=T):T=t[19],t[20]!==T?(k=o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,width:i.BlockSize.Full,marginRight:2,disabled:!0},T),t[20]=T,t[21]=k):k=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,size:l.ButtonSize.Lg,width:i.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0}),t[22]=S):S=t[22],t[23]!==k?(x=o.default.createElement(l.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,padding:4},o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},b,o.default.createElement(l.Box,{display:i.Display.Flex,paddingTop:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},k,S))),t[23]=k,t[24]=x):x=t[24],t[25]!==x||t[26]!==v?(C=o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.spaceBetween},v,x),t[25]=x,t[26]=v,t[27]=C):C=t[27],C}p.propTypes={subjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,subjectType:r.default.string,name:r.default.string.isRequired,origin:r.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[7918,{"./snap-install":7919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[7919,{"../../../../components/app/permission-connect-header":6208,"../../../../components/app/snaps/install-error/install-error":6272,"../../../../components/app/snaps/snap-authorship-header":6280,"../../../../components/app/snaps/snap-install-warning":6293,"../../../../components/app/snaps/snap-permissions-list":6305,"../../../../components/component-library":6529,"../../../../components/ui/page-container":6983,"../../../../components/ui/pulse-loader/pulse-loader":6992,"../../../../helpers/constants/design-system":7083,"../../../../helpers/utils/util":7141,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useOriginMetadata":7253,"../../../../hooks/useScrollRequired":7257,"../../../../selectors":8094,"../util":7926,"@metamask/snaps-utils":2903,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=e("react-compiler-runtime"),o=S(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("@metamask/snaps-utils"),l=e("../../../../components/ui/page-container"),c=e("../../../../hooks/useI18nContext"),u=S(e("../../../../components/app/snaps/snap-install-warning")),d=e("../../../../helpers/constants/design-system"),p=e("../util"),m=S(e("../../../../components/ui/pulse-loader/pulse-loader")),f=S(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=S(e("../../../../components/app/snaps/snap-permissions-list")),y=e("../../../../hooks/useScrollRequired"),_=S(e("../../../../components/app/snaps/install-error/install-error")),E=e("../../../../hooks/useOriginMetadata"),v=e("../../../../selectors"),b=e("../../../../helpers/utils/util"),T=S(e("../../../../components/app/permission-connect-header"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function x(e){var t,n,o,k,S;const x=(0,a.c)(85),{request:C,requestState:O,approveSnapInstall:w,rejectSnapInstall:I,targetSubjectMetadata:N}=e,R=(0,c.useI18nContext)(),A=(0,E.useOriginMetadata)(null==C||null===(t=C.metadata)||void 0===t?void 0:t.dappOrigin)||{},{origin:M,iconUrl:P}=A,[B,D]=(0,r.useState)(!1),L=(0,i.useSelector)(v.getSnapsMetadata),[F,j]=(0,r.useState)(!1);let U;x[0]!==O?(U=[O],x[0]=O,x[1]=U):U=x[1];const{isScrollable:W,hasScrolledToBottom:z,scrollToBottom:$,ref:G,onScroll:V}=(0,y.useScrollRequired)(U);let q;var J;x[2]!==I||x[3]!==(null==C||null===(n=C.metadata)||void 0===n?void 0:n.id)?(q=()=>{var e;return I(null==C||null===(e=C.metadata)||void 0===e?void 0:e.id)},x[2]=I,x[3]=null==C||null===(J=C.metadata)||void 0===J?void 0:J.id,x[4]=q):q=x[4];const K=q;let Y;var H;x[5]!==w||x[6]!==(null==C||null===(o=C.metadata)||void 0===o?void 0:o.id)?(Y=()=>{var e;return w(null==C||null===(e=C.metadata)||void 0===e?void 0:e.id)},x[5]=w,x[6]=null==C||null===(H=C.metadata)||void 0===H?void 0:H.id,x[7]=Y):Y=x[7];const X=Y;let Q;x[8]!==N.origin?(Q=e=>(0,v.getSnapMetadata)(e,N.origin),x[8]=N.origin,x[9]=Q):Q=x[9];const{name:Z}=(0,i.useSelector)(Q),ee=!O.loading&&O.error,te=O.loading,ne=null==C||null===(k=C.metadata)||void 0===k?void 0:k.dappOrigin;let ae;x[10]!==ne?(ae=(0,s.isSnapId)(ne),x[10]=ne,x[11]=ae):ae=x[11];const oe=ae;let re;x[12]!==O.permissions||x[13]!==Z||x[14]!==L||x[15]!==R?(re=(0,p.getSnapInstallWarnings)((null==O?void 0:O.permissions)??{},R,Z,(0,b.getSnapName)(L)),x[12]=O.permissions,x[13]=Z,x[14]=L,x[15]=R,x[16]=re):re=x[16];const ie=re,se=ie.length>0;let le;x[17]!==ee||x[18]!==K||x[19]!==X||x[20]!==se?(le=()=>{!ee&&se?D(!0):ee?K():X()},x[17]=ee,x[18]=K,x[19]=X,x[20]=se,x[21]=le):le=x[21];const ce=le;let ue;x[22]!==ee||x[23]!==te?(ue=()=>ee?"ok":te?"connect":"confirm",x[22]=ee,x[23]=te,x[24]=ue):ue=x[24];const de=ue;let pe;x[25]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{j(!0)},x[25]=pe):pe=x[25];const me=pe;let fe;var ge,he;x[26]!==ee||x[27]!==P||x[28]!==te||x[29]!==oe||x[30]!==K||x[31]!==M||x[32]!==(null==C||null===(S=C.metadata)||void 0===S?void 0:S.dappOrigin)||x[33]!==N.origin?(fe=!te&&!ee||oe?r.default.createElement(f.default,{snapId:te&&oe?null==C||null===(ge=C.metadata)||void 0===ge?void 0:ge.dappOrigin:N.origin,onCancel:K}):r.default.createElement(T.default,{origin:M,iconUrl:P}),x[26]=ee,x[27]=P,x[28]=te,x[29]=oe,x[30]=K,x[31]=M,x[32]=null==C||null===(he=C.metadata)||void 0===he?void 0:he.dappOrigin,x[33]=N.origin,x[34]=fe):fe=x[34];const ye=te||ee?undefined:G,_e=!te&&!ee&&"1";let Ee,ve,be,Te,ke;x[35]!==_e?(Ee={overflowY:"auto",flex:_e},x[35]=_e,x[36]=Ee):Ee=x[36],x[37]!==te?(ve=te&&r.default.createElement(g.Box,{display:d.Display.Flex,className:"snap-install__content__loader-container",flexDirection:d.FlexDirection.Column,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center},r.default.createElement(m.default,null)),x[37]=te,x[38]=ve):ve=x[38],x[39]!==ee||x[40]!==O.error||x[41]!==Z||x[42]!==R?(be=ee&&r.default.createElement(_.default,{iconName:g.IconName.Warning,title:R("connectionFailed"),description:R("connectionFailedDescription",[r.default.createElement(g.Text,{as:"span",key:"1",fontWeight:d.FontWeight.Medium},Z)]),error:O.error}),x[39]=ee,x[40]=O.error,x[41]=Z,x[42]=R,x[43]=be):be=x[43],x[44]!==ee||x[45]!==z||x[46]!==te||x[47]!==W||x[48]!==O.connections||x[49]!==O.permissions||x[50]!==$||x[51]!==F||x[52]!==Z||x[53]!==R||x[54]!==N.origin?(Te=!ee&&!te&&r.default.createElement(r.default.Fragment,null,r.default.createElement(g.Text,{variant:d.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},R("installRequest")),r.default.createElement(g.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:d.TextAlign.Center},R("snapInstallRequest",[r.default.createElement(g.Text,{as:"span",key:"2",variant:d.TextVariant.bodyMd,fontWeight:d.FontWeight.Medium},Z)])),r.default.createElement(g.Box,{display:d.Display.Flex,backgroundColor:d.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:d.BorderRadius.XL},r.default.createElement(h.default,{snapId:N.origin,snapName:Z,permissions:O.permissions||{},connections:O.connections||{},onShowAllPermissions:me})),r.default.createElement(g.Box,{className:"snap-install__scroll-button-area"},!W||z||F?null:r.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:d.BackgroundColor.infoDefault,color:d.IconColor.primaryInverse,onClick:$,style:{cursor:"pointer"}}))),x[44]=ee,x[45]=z,x[46]=te,x[47]=W,x[48]=O.connections,x[49]=O.permissions,x[50]=$,x[51]=F,x[52]=Z,x[53]=R,x[54]=N.origin,x[55]=Te):Te=x[55],x[56]!==V||x[57]!==ye||x[58]!==Ee||x[59]!==ve||x[60]!==be||x[61]!==Te?(ke=r.default.createElement(g.Box,{ref:ye,onScroll:V,className:"snap-install__content",style:Ee,paddingLeft:4,paddingRight:4},ve,be,Te),x[56]=V,x[57]=ye,x[58]=Ee,x[59]=ve,x[60]=be,x[61]=Te,x[62]=ke):ke=x[62];const Se=te||!ee&&W&&!z;let xe,Ce,Oe,we,Ie;return x[63]!==R?(xe=R("cancel"),x[63]=R,x[64]=xe):xe=x[64],x[65]!==de||x[66]!==R?(Ce=R(de()),x[65]=de,x[66]=R,x[67]=Ce):Ce=x[67],x[68]!==ce||x[69]!==ee||x[70]!==K||x[71]!==Se||x[72]!==xe||x[73]!==Ce?(Oe=r.default.createElement(g.Box,{className:"snap-install__footer",display:d.Display.Flex,alignItems:d.AlignItems.center,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},r.default.createElement(l.PageContainerFooter,{cancelButtonType:"default",hideCancel:ee,disabled:Se,onCancel:K,cancelText:xe,onSubmit:ce,submitText:Ce})),x[68]=ce,x[69]=ee,x[70]=K,x[71]=Se,x[72]=xe,x[73]=Ce,x[74]=Oe):Oe=x[74],x[75]!==B||x[76]!==X||x[77]!==Z||x[78]!==ie?(we=B&&r.default.createElement(u.default,{onCancel:()=>D(!1),onSubmit:X,warnings:ie,snapName:Z}),x[75]=B,x[76]=X,x[77]=Z,x[78]=ie,x[79]=we):we=x[79],x[80]!==fe||x[81]!==ke||x[82]!==Oe||x[83]!==we?(Ie=r.default.createElement(g.Box,{className:"snap-install",display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,borderStyle:d.BorderStyle.none,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative},fe,ke,Oe,we),x[80]=fe,x[81]=ke,x[82]=Oe,x[83]=we,x[84]=Ie):Ie=x[84],Ie}x.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapInstall:o.default.func.isRequired,rejectSnapInstall:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[7920,{"./snap-result":7921},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[7921,{"../../../../components/app/snaps/install-error/install-error":6272,"../../../../components/app/snaps/snap-authorship-header":6280,"../../../../components/component-library":6529,"../../../../components/ui/box/box":6909,"../../../../components/ui/page-container":6983,"../../../../components/ui/pulse-loader/pulse-loader":6992,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useI18nContext":7235,"../../../../selectors":8094,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=e("react-compiler-runtime"),o=y(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../../components/ui/box/box")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),p=y(e("../../../../components/ui/pulse-loader/pulse-loader")),m=y(e("../../../../components/app/snaps/install-error/install-error")),f=y(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function _(e){var t;const n=(0,a.c)(40),{request:o,requestState:h,approveSnapResult:y,targetSubjectMetadata:_}=e,E=(0,l.useI18nContext)();let v;var b;n[0]!==y||n[1]!==(null==o||null===(t=o.metadata)||void 0===t?void 0:t.id)?(v=()=>{var e;return y(null==o||null===(e=o.metadata)||void 0===e?void 0:e.id)},n[0]=y,n[1]=null==o||null===(b=o.metadata)||void 0===b?void 0:b.id,n[2]=v):v=n[2];const T=v,k=!h.loading&&h.error,S=h.loading;let x;n[3]!==_.origin?(x=e=>(0,g.getSnapMetadata)(e,_.origin),n[3]=_.origin,n[4]=x):x=n[4];const{name:C}=(0,i.useSelector)(x);let O;n[5]!==E?(O=function(e,t){let n;e:switch(e){case"wallet_installSnap":n=E("snapInstallSuccess");break e;case"wallet_updateSnap":n=E("snapUpdateSuccess");break e;default:n=E("snapResultSuccess")}return r.default.createElement(c.default,{flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(d.AvatarIcon,{className:"snap-result__header__icon",iconName:d.IconName.Confirmation,size:d.AvatarIconSize.Xl,color:u.IconColor.successDefault,backgroundColor:u.BackgroundColor.successMuted}),r.default.createElement(d.Text,{fontWeight:u.FontWeight.Bold,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),r.default.createElement(d.Text,{textAlign:u.TextAlign.Center},E("snapResultSuccessDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)])))},n[5]=E,n[6]=O):O=n[6];const w=O;let I;n[7]!==h.error||n[8]!==E?(I=function(e,t){let n,a;e:switch(e){case"wallet_installSnap":n=E("snapInstallationErrorTitle"),a=E("snapInstallationErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;case"wallet_updateSnap":n=E("snapUpdateErrorTitle"),a=E("snapUpdateErrorDescription",[r.default.createElement(d.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},t)]);break e;default:n=E("snapResultError")}return r.default.createElement(m.default,{error:h.error,title:n,description:a,iconName:d.IconName.Warning})},n[7]=h.error,n[8]=E,n[9]=I):I=n[9];const N=I;let R,A,M,P,B,D,L,F;return n[10]!==T||n[11]!==_.origin?(R=r.default.createElement(f.default,{snapId:_.origin,onCancel:T}),n[10]=T,n[11]=_.origin,n[12]=R):R=n[12],n[13]!==S?(A=S&&r.default.createElement(c.default,{className:"snap-result__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,height:u.BlockSize.Full},r.default.createElement(p.default,null)),n[13]=S,n[14]=A):A=n[14],n[15]!==w||n[16]!==k||n[17]!==S||n[18]!==h.type||n[19]!==C?(M=!S&&!k&&w(h.type,C),n[15]=w,n[16]=k,n[17]=S,n[18]=h.type,n[19]=C,n[20]=M):M=n[20],n[21]!==N||n[22]!==k||n[23]!==h.type||n[24]!==C?(P=k&&N(h.type,C),n[21]=N,n[22]=k,n[23]=h.type,n[24]=C,n[25]=P):P=n[25],n[26]!==A||n[27]!==M||n[28]!==P?(B=r.default.createElement(c.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative,height:u.BlockSize.Full,justifyContent:u.JustifyContent.center},A,M,P),n[26]=A,n[27]=M,n[28]=P,n[29]=B):B=n[29],n[30]!==E?(D=E("ok").toUpperCase(),n[30]=E,n[31]=D):D=n[31],n[32]!==S||n[33]!==T||n[34]!==D?(L=r.default.createElement(c.default,{className:"snap-result__footer",alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(s.PageContainerFooter,{hideCancel:!0,disabled:S,onSubmit:T,submitText:D})),n[32]=S,n[33]=T,n[34]=D,n[35]=L):L=n[35],n[36]!==L||n[37]!==R||n[38]!==B?(F=r.default.createElement(c.default,{className:"page-container snap-result",justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},R,B,L),n[36]=L,n[37]=R,n[38]=B,n[39]=F):F=n[39],F}_.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapResult:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[7922,{"./snap-update":7923},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[7923,{"../../../../components/app/snaps/install-error/install-error":6272,"../../../../components/app/snaps/snap-authorship-header":6280,"../../../../components/app/snaps/snap-install-warning":6293,"../../../../components/app/snaps/update-snap-permission-list":6400,"../../../../components/component-library":6529,"../../../../components/ui/page-container":6983,"../../../../components/ui/pulse-loader/pulse-loader":6992,"../../../../helpers/constants/design-system":7083,"../../../../helpers/utils/util":7141,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useScrollRequired":7257,"../../../../selectors":8094,"../util":7926,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=e("react-compiler-runtime"),o=b(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=b(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=b(e("../../../../components/app/snaps/update-snap-permission-list")),p=e("../util"),m=b(e("../../../../components/ui/pulse-loader/pulse-loader")),f=b(e("../../../../components/app/snaps/install-error/install-error")),g=b(e("../../../../components/app/snaps/snap-authorship-header")),h=e("../../../../components/component-library"),y=e("../../../../hooks/useScrollRequired"),_=e("../../../../selectors"),E=e("../../../../helpers/utils/util");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function T(e){var t,n;const o=(0,a.c)(101),{request:v,requestState:b,approveSnapUpdate:T,rejectSnapUpdate:k,targetSubjectMetadata:S}=e,x=(0,l.useI18nContext)(),[C,O]=(0,r.useState)(!1),[w,I]=(0,r.useState)(!1);let N;o[0]!==b?(N=[b],o[0]=b,o[1]=N):N=o[1];const{isScrollable:R,hasScrolledToBottom:A,scrollToBottom:M,ref:P,onScroll:B}=(0,y.useScrollRequired)(N),D=(0,i.useSelector)(_.getSnapsMetadata);let L;var F;o[2]!==k||o[3]!==(null==v||null===(t=v.metadata)||void 0===t?void 0:t.id)?(L=()=>{var e;return k(null==v||null===(e=v.metadata)||void 0===e?void 0:e.id)},o[2]=k,o[3]=null==v||null===(F=v.metadata)||void 0===F?void 0:F.id,o[4]=L):L=o[4];const j=L;let U;var W;o[5]!==T||o[6]!==(null==v||null===(n=v.metadata)||void 0===n?void 0:n.id)?(U=()=>{var e;return T(null==v||null===(e=v.metadata)||void 0===e?void 0:e.id)},o[5]=T,o[6]=null==v||null===(W=v.metadata)||void 0===W?void 0:W.id,o[7]=U):U=o[7];const z=U;let $;o[8]!==S.origin?($=e=>(0,_.getSnapMetadata)(e,S.origin),o[8]=S.origin,o[9]=$):$=o[9];const{name:G}=(0,i.useSelector)($);let V;o[10]!==b.approvedPermissions?(V=b.approvedPermissions??{},o[10]=b.approvedPermissions,o[11]=V):V=o[11];const q=V;let J;o[12]!==b.unusedPermissions?(J=b.unusedPermissions??{},o[12]=b.unusedPermissions,o[13]=J):J=o[13];const K=J;let Y,H,X,Q,Z,ee,te,ne;if(o[14]!==b||o[15]!==G||o[16]!==D||o[17]!==x){let e,t,n;Z=b.newPermissions??{},o[26]!==b.approvedConnections?(e=b.approvedConnections??{},o[26]=b.approvedConnections,o[27]=e):e=o[27],Y=e,o[28]!==b.unusedConnections?(t=b.unusedConnections??{},o[28]=b.unusedConnections,o[29]=t):t=o[29],te=t,o[30]!==b.newConnections?(n=b.newConnections??{},o[30]=b.newConnections,o[31]=n):n=o[31],Q=n,({newVersion:ee}=b),X=b.loading,H=!X&&b.error,ne=(0,p.getSnapInstallWarnings)(Z,x,G,(0,E.getSnapName)(D)),o[14]=b,o[15]=G,o[16]=D,o[17]=x,o[18]=Y,o[19]=H,o[20]=X,o[21]=Q,o[22]=Z,o[23]=ee,o[24]=te,o[25]=ne}else Y=o[18],H=o[19],X=o[20],Q=o[21],Z=o[22],ee=o[23],te=o[24],ne=o[25];const ae=ne,oe=ae.length>0;let re;o[32]!==H||o[33]!==j||o[34]!==z||o[35]!==oe?(re=()=>{!H&&oe?O(!0):H?j():z()},o[32]=H,o[33]=j,o[34]=z,o[35]=oe,o[36]=re):re=o[36];const ie=re;let se;o[37]===Symbol.for("react.memo_cache_sentinel")?(se=()=>{I(!0)},o[37]=se):se=o[37];const le=se;let ce;o[38]!==j||o[39]!==S.origin?(ce=r.default.createElement(g.default,{snapId:S.origin,onCancel:j}),o[38]=j,o[39]=S.origin,o[40]=ce):ce=o[40];const ue=!X&&"1";let de,pe,me,fe,ge,he;o[41]!==ue?(de={overflowY:"auto",flex:ue},o[41]=ue,o[42]=de):de=o[42],o[43]!==H||o[44]!==X||o[45]!==x?(pe=!X&&!H&&r.default.createElement(h.Text,{paddingTop:4,paddingBottom:2,variant:u.TextVariant.headingMd,textAlign:"center"},x("updateRequest")),o[43]=H,o[44]=X,o[45]=x,o[46]=pe):pe=o[46],o[47]!==X?(me=X&&r.default.createElement(h.Box,{className:"snap-update__content__loader-container",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},r.default.createElement(m.default,null)),o[47]=X,o[48]=me):me=o[48],o[49]!==H||o[50]!==b.error||o[51]!==G||o[52]!==x?(fe=H&&r.default.createElement(f.default,{iconName:h.IconName.Warning,error:b.error,title:x("snapUpdateErrorTitle"),description:x("snapUpdateErrorDescription",[r.default.createElement(h.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},G)])}),o[49]=H,o[50]=b.error,o[51]=G,o[52]=x,o[53]=fe):fe=o[53],o[54]!==Y||o[55]!==q||o[56]!==H||o[57]!==A||o[58]!==X||o[59]!==R||o[60]!==Q||o[61]!==Z||o[62]!==ee||o[63]!==te||o[64]!==K||o[65]!==M||o[66]!==w||o[67]!==G||o[68]!==x||o[69]!==S?(ge=!H&&!X&&r.default.createElement(r.default.Fragment,null,r.default.createElement(h.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},x("snapUpdateRequest",[r.default.createElement(h.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},G),r.default.createElement(h.Text,{as:"span",key:"3",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},ee)])),r.default.createElement(h.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},r.default.createElement(d.default,{approvedPermissions:q,revokedPermissions:K,newPermissions:Z,approvedConnections:Y,revokedConnections:te,newConnections:Q,targetSubjectMetadata:S,showAllPermissions:le})),r.default.createElement(h.Box,{className:"snap-update__scroll-button-area"},!R||A||w?null:r.default.createElement(h.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:h.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:M,style:{cursor:"pointer"}}))),o[54]=Y,o[55]=q,o[56]=H,o[57]=A,o[58]=X,o[59]=R,o[60]=Q,o[61]=Z,o[62]=ee,o[63]=te,o[64]=K,o[65]=M,o[66]=w,o[67]=G,o[68]=x,o[69]=S,o[70]=ge):ge=o[70],o[71]!==B||o[72]!==P||o[73]!==de||o[74]!==pe||o[75]!==me||o[76]!==fe||o[77]!==ge?(he=r.default.createElement(h.Box,{ref:P,onScroll:B,className:"snap-update__content",style:de,paddingLeft:4,paddingRight:4},pe,me,fe,ge),o[71]=B,o[72]=P,o[73]=de,o[74]=pe,o[75]=me,o[76]=fe,o[77]=ge,o[78]=he):he=o[78];const ye=X||!H&&R&&!A;let _e;o[79]!==x?(_e=x("cancel"),o[79]=x,o[80]=_e):_e=o[80];const Ee=H?"ok":"confirm";let ve,be,Te,ke;return o[81]!==x||o[82]!==Ee?(ve=x(Ee),o[81]=x,o[82]=Ee,o[83]=ve):ve=o[83],o[84]!==ie||o[85]!==H||o[86]!==j||o[87]!==ye||o[88]!==_e||o[89]!==ve?(be=r.default.createElement(h.Box,{className:"snap-update__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},r.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:H,disabled:ye,onCancel:j,cancelText:_e,onSubmit:ie,submitText:ve})),o[84]=ie,o[85]=H,o[86]=j,o[87]=ye,o[88]=_e,o[89]=ve,o[90]=be):be=o[90],o[91]!==C||o[92]!==z||o[93]!==G||o[94]!==ae?(Te=C&&r.default.createElement(c.default,{onCancel:()=>O(!1),onSubmit:z,snapName:G,warnings:ae}),o[91]=C,o[92]=z,o[93]=G,o[94]=ae,o[95]=Te):Te=o[95],o[96]!==ce||o[97]!==he||o[98]!==be||o[99]!==Te?(ke=r.default.createElement(h.Box,{className:"snap-update",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},ce,he,be,Te),o[96]=ce,o[97]=he,o[98]=be,o[99]=Te,o[100]=ke):ke=o[100],ke}T.propTypes={request:o.default.object.isRequired,requestState:o.default.object.isRequired,approveSnapUpdate:o.default.func.isRequired,rejectSnapUpdate:o.default.func.isRequired,targetSubjectMetadata:o.default.shape({iconUrl:o.default.string,name:o.default.string,origin:o.default.string.isRequired,sourceCode:o.default.string,version:o.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[7924,{"./snaps-connect":7925},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[7925,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":6284,"../../../../components/app/snaps/snap-icon":6291,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":6308,"../../../../components/component-library":6529,"../../../../components/ui/page-container":6983,"../../../../components/ui/pulse-loader/pulse-loader":6992,"../../../../helpers/constants/design-system":7083,"../../../../helpers/utils/util":7141,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useOriginMetadata":7253,"../../../../selectors":8094,"@metamask/snaps-utils":2903,"prop-types":5094,react:5256,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=_(e("prop-types")),i=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=_(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=_(e("../../../../components/ui/pulse-loader/pulse-loader")),f=_(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:_,setSnapsInstallPrivacyWarningShownStatus:E}){const v=(0,s.useI18nContext)(),{origin:b}=r,[T,k]=(0,a.useState)(!1),S=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),x=(0,o.useSelector)(g.getPreinstalledSnaps),C=(0,p.getDedupedSnaps)(e,S),O=C[0],{name:w}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,O)),I=Object.keys(x).includes(O),[N,R]=(0,a.useState)(!I&&!_),A=(0,a.useCallback)(()=>{var t;n(null==e||null===(t=e.metadata)||void 0===t?void 0:t.id)},[e,n]),M=(0,a.useCallback)(()=>{try{k(!0),t(e)}finally{k(!1)}},[e,t]),P=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(b)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,i.isSnapId)(b)?b:`npm:${b}`));return(0,i.isSnapId)(b)&&(t=n),T?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==C?void 0:C.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},v("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},v("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==C?void 0:C.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},C.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==C?void 0:C.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:C[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},v("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},v("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},w)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&a.default.createElement(f.default,{onAccepted:()=>{R(!1),E(!0)},onCanceled:A}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(P,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:T,onCancel:A,cancelText:v("cancel"),onSubmit:M,submitText:v("connect")}))}v.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[7926,{"../../../helpers/utils/permission":7128},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,i])=>{const s=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:i,subjectName:n,getSubjectName:o});return e.concat(s.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[7927,{"./remove-snap-account":7928,"./snap-account-card":7929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},i=e("./snap-account-card");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[7928,{"../../components/app/snaps/snap-authorship-header":6280,"../../components/component-library":6529,"../../helpers/constants/design-system":7083,"../../hooks/useI18nContext":7235,"./snap-account-card":7929,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=u(e("react")),r=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),s=e("../../hooks/useI18nContext"),l=u(e("../../components/app/snaps/snap-authorship-header")),c=e("./snap-account-card");function u(e){return e&&e.__esModule?e:{default:e}}n.default=e=>{const t=(0,a.c)(22),{snapId:n,publicAddress:u,onCancel:d}=e,p=(0,s.useI18nContext)();let m,f,g,h,y,_,E,v,b,T;return t[0]!==d||t[1]!==n?(m=o.default.createElement(l.default,{snapId:n,onCancel:d}),t[0]=d,t[1]=n,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f={flexGrow:1},t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=o.default.createElement(r.Box,{paddingBottom:2},o.default.createElement(r.AvatarIcon,{iconName:r.IconName.UserCircleRemove,color:i.IconColor.errorDefault,backgroundColor:i.BackgroundColor.errorMuted,size:r.AvatarIconSize.Xl})),t[4]=g):g=t[4],t[5]!==p?(h=p("removeSnapAccountTitle"),t[5]=p,t[6]=h):h=t[6],t[7]!==h?(y=o.default.createElement(r.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.headingLg,paddingBottom:2},h),t[7]=h,t[8]=y):y=t[8],t[9]!==u?(_=o.default.createElement(c.SnapAccountCard,{address:u,remove:!0}),t[9]=u,t[10]=_):_=t[10],t[11]!==p?(E=p("removeSnapAccountDescription"),t[11]=p,t[12]=E):E=t[12],t[13]!==E?(v=o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center,overflowWrap:i.OverflowWrap.Anywhere},E),t[13]=E,t[14]=v):v=t[14],t[15]!==y||t[16]!==_||t[17]!==v?(b=o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,padding:4,width:i.BlockSize.Full,style:f},o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,width:i.BlockSize.Full},g,y,_,v))),t[15]=y,t[16]=_,t[17]=v,t[18]=b):b=t[18],t[19]!==m||t[20]!==b?(T=o.default.createElement(r.Box,{className:"remove-snap-account-page",height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,borderStyle:i.BorderStyle.none,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,marginBottom:0},m,b),t[19]=m,t[20]=b,t[21]=T):T=t[21],T}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[7929,{"../../components/component-library":6529,"../../components/multichain/account-list-item":6651,"../../helpers/constants/design-system":7083,"../../selectors":8094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=e("react-compiler-runtime"),r=(a=e("react"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("../../selectors"),l=e("../../helpers/constants/design-system"),c=e("../../components/component-library"),u=e("../../components/multichain/account-list-item");n.SnapAccountCard=e=>{const t=(0,o.c)(12),{address:n,remove:a}=e,d=(0,i.useSelector)(s.getMetaMaskAccountsOrdered);let p;if(t[0]!==d||t[1]!==n){let e;t[3]!==n?(e=e=>e.address===n,t[3]=n,t[4]=e):e=t[4],p=d.find(e),t[0]=d,t[1]=n,t[2]=p}else p=t[2];const m=p,f=a?"snap-account-card-remove":"snap-account-card";let g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},t[5]=g):g=t[5];const h=a||!1;let y,_;return t[6]!==m||t[7]!==h?(y=r.default.createElement(u.AccountListItem,{account:m,selected:h}),t[6]=m,t[7]=h,t[8]=y):y=t[8],t[9]!==f||t[10]!==y?(_=r.default.createElement(c.Box,{className:f,borderRadius:l.BorderRadius.LG,marginTop:4,marginBottom:4,width:l.BlockSize.Full,style:g},y),t[9]=f,t[10]=y,t[11]=_):_=t[11],_}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[7930,{"../../components/ui/loading-indicator":6963,"../../ducks/rewards":7071,"../../ducks/rewards/selectors":7072,"../../helpers/constants/routes":7088,"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("@metamask/design-system-react"),l=e("react-router-dom"),c=(a=e("../../components/ui/loading-indicator"))&&a.__esModule?a:{default:a},u=e("../../ducks/rewards/selectors"),d=e("../../helpers/constants/routes"),p=e("../../ducks/rewards");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.c)(8),t=(0,i.useSelector)(u.selectRewardsEnabled),n=(0,l.useLocation)(),a=(0,l.useNavigate)(),m=(0,i.useSelector)(u.selectRewardsOnboardingEnabled),f=(0,i.useDispatch)();let g,h,y;return e[0]!==f||e[1]!==n||e[2]!==a||e[3]!==t||e[4]!==m?(g=()=>{if(t&&m){const e=new URLSearchParams(n.search).get("referral");e&&e.length>0?f((0,p.setOnboardingReferralCode)(e)):f((0,p.setOnboardingReferralCode)(null)),f((0,p.setOnboardingModalOpen)(!0))}a(d.DEFAULT_ROUTE,{replace:!0})},h=[a,f,t,m,n],e[0]=f,e[1]=n,e[2]=a,e[3]=t,e[4]=m,e[5]=g,e[6]=h):(g=e[5],h=e[6]),(0,r.useEffect)(g,h),e[7]===Symbol.for("react.memo_cache_sentinel")?(y=r.default.createElement(s.Box,{className:"flex justify-center items-center flex-1"},r.default.createElement(c.default,{alt:"Loading",title:"Loading",isLoading:!0,style:{width:32,height:32,left:5}})),e[7]=y):y=e[7],y}}}},{package:"$root$",file:"ui/pages/rewards/index.tsx"}],[7931,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../ducks/swaps/swaps":7079,"../../helpers/constants/routes":7088,"../../hooks/useModalState":7240,"../../selectors":8094,"../confirmations/hooks/useConfirmationNavigation":7737,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmationHandler=void 0;var a=e("react-compiler-runtime"),o=e("react"),r=e("react-router-dom"),i=e("react-redux"),s=e("../../helpers/constants/routes"),l=e("../confirmations/hooks/useConfirmationNavigation"),c=e("../../../app/scripts/lib/util"),u=e("../../../shared/constants/app"),d=e("../../selectors"),p=e("../../ducks/swaps/swaps"),m=e("../../hooks/useModalState");const f=[s.AWAITING_SWAP_ROUTE,s.PREPARE_SWAP_ROUTE,s.CROSS_CHAIN_SWAP_ROUTE,s.UNLOCK_ROUTE,s.CONNECT_ROUTE,s.CONFIRMATION_V_NEXT_ROUTE,s.CONFIRM_TRANSACTION_ROUTE,s.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,s.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,s.SHIELD_PLAN_ROUTE,s.TRANSACTION_SHIELD_ROUTE],g=["wallet_installSnapResult",u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showNameSnapAccount,u.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect];function h(e){return g.includes(e.type)}n.ConfirmationHandler=()=>{var e;const t=(0,a.c)(20),n=(0,r.useNavigate)(),g=(0,r.useLocation)(),{pathname:y}=g,{closeModals:_}=(0,m.useModalState)();let E;t[0]===Symbol.for("react.memo_cache_sentinel")?(E=(0,c.getEnvironmentType)(),t[0]=E):E=t[0];const v=E,b=v===u.ENVIRONMENT_TYPE_FULLSCREEN,T=v===u.ENVIRONMENT_TYPE_NOTIFICATION,k=(0,i.useSelector)(p.selectShowAwaitingSwapScreen),S=(0,i.useSelector)(p.selectHasSwapsQuotes),x=(0,i.useSelector)(d.selectHasBridgeQuotes),C=(0,i.useSelector)(p.getFetchParams),O=(0,i.useSelector)(d.selectPendingApprovalsForNavigation),w=(0,i.useSelector)(d.selectHasApprovalFlows),I=Boolean(null===(e=g.state)||void 0===e?void 0:e.stayOnHomePage),N=!T&&!I;let R;t[1]!==N||t[2]!==_||t[3]!==w||t[4]!==x||t[5]!==S||t[6]!==n||t[7]!==O||t[8]!==k||t[9]!==C?(R=()=>{if(N&&k)_(),n(s.AWAITING_SWAP_ROUTE);else if(N&&(S||C))_(),n(s.PREPARE_SWAP_ROUTE);else if(N&&x)_(),n(s.CROSS_CHAIN_SWAP_ROUTE+s.PREPARE_SWAP_ROUTE);else if(O.length||w){var e;const t=(0,l.getConfirmationRoute)(null==O||null===(e=O[0])||void 0===e?void 0:e.id,O,w,"");t&&(_(),n(t,{replace:!0}))}},t[1]=N,t[2]=_,t[3]=w,t[4]=x,t[5]=S,t[6]=n,t[7]=O,t[8]=k,t[9]=C,t[10]=R):R=t[10];const A=R;let M;t[11]!==y?(M=f.some(e=>y.startsWith(e)),t[11]=y,t[12]=M):M=t[12];const P=M;let B;t[13]!==O?(B=O.some(h),t[13]=O,t[14]=B):B=t[14];const D=b&&!B&&!(k||S||C||x);let L,F;return t[15]!==A||t[16]!==P||t[17]!==D?(L=()=>{P||D||A()},F=[A,P,D],t[15]=A,t[16]=P,t[17]=D,t[18]=L,t[19]=F):(L=t[18],F=t[19]),(0,o.useEffect)(L,F),null}}}},{package:"$root$",file:"ui/pages/routes/confirmation-handler.tsx"}],[7932,{"./routes.component":7934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[7933,{"../../components/multichain/network-list-menu":6783,"../../hooks/useModalState":7240,"../../store/actions":8127,"../../store/store":8132,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Modals=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../store/store"),s=e("../../store/actions"),l=e("../../components/multichain/network-list-menu"),c=e("../../hooks/useModalState");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){const{appState:t}=e;return t.isNetworkMenuOpen}n.Modals=()=>{const e=(0,a.c)(8),t=(0,r.useDispatch)(),{closeModals:n}=(0,c.useModalState)(),u=(0,i.useAppSelector)(d);let p;e[0]!==n||e[1]!==t?(p=()=>{n(),t((0,s.setEditedNetwork)())},e[0]=n,e[1]=t,e[2]=p):p=e[2];const m=p,f=u?"network":undefined;let g,h;return e[3]!==m||e[4]!==f?(g="network"===f&&o.default.createElement(l.NetworkListMenu,{onClose:m}),e[3]=m,e[4]=f,e[5]=g):g=e[5],e[6]!==g?(h=o.default.createElement(o.default.Fragment,null,g),e[6]=g,e[7]=h):h=e[7],h}}}},{package:"$root$",file:"ui/pages/routes/modals.tsx"}],[7934,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../../shared/constants/preferences":5800,"../../../shared/lib/confirmation.utils":5827,"../../../shared/modules/selectors/networks":5934,"../../components/app/alerts":5970,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":6006,"../../components/app/assets/nfts/nft-details/nft-full-image.tsx":6011,"../../components/app/basic-configuration-modal":6044,"../../components/app/modals":6152,"../../components/app/modals/keyring-snap-removal-modal":6153,"../../components/app/modals/multichain-accounts/intro-modal":6156,"../../components/app/qr-hardware-popover":6241,"../../components/app/toast-master/toast-master":6418,"../../components/multichain":6764,"../../components/multichain-accounts/multichain-account-list-menu":6608,"../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page":6635,"../../components/multichain-accounts/state2-wrapper/state2-wrapper":6640,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":6784,"../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx":6853,"../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx":6855,"../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx":6856,"../../components/multichain/pages/permissions-page/permissions-page.js":6866,"../../components/multichain/pages/review-permissions-page/review-permissions-page":6867,"../../components/ui/alert":6908,"../../components/ui/loading-screen":6965,"../../ducks/history/history":7064,"../../ducks/metamask/metamask":7067,"../../helpers/constants/routes":7088,"../../helpers/utils/mm-lazy":7121,"../../hooks/useI18nContext":7235,"../../hooks/useMultichainAccountsIntroModal":7242,"../../hooks/useTheme":7264,"../../layouts/legacy-layout":7283,"../../layouts/root-layout":7284,"../../layouts/route-with-layout":7285,"../../selectors":8094,"../../store/actions":8127,"../../store/store":8132,"../asset/index.js":7304,"../bridge/index.tsx":7317,"../bridge/transaction-details/transaction-details":7345,"../confirm-add-suggested-nft/index.js":7352,"../confirm-add-suggested-token/index.js":7354,"../confirm-decrypt-message/index.js":7356,"../confirm-encryption-public-key/index.js":7359,"../confirmations/components/confirm/smart-account-update":7515,"../confirmations/confirm/confirm.tsx":7612,"../confirmations/confirmation/index.js":7623,"../confirmations/send/index.ts":7782,"../create-account/create-account.component.js":7809,"../deep-link/deep-link.tsx":7814,"../defi/index.ts":7817,"../home/index.js":7821,"../keychains/restore-vault.js":7823,"../keychains/reveal-seed.js":7824,"../lock/index.ts":7825,"../multi-srp/import-srp/index.ts":7829,"../multichain-accounts/account-list":7832,"../multichain-accounts/add-wallet-page":7835,"../multichain-accounts/multichain-account-address-list-page":7836,"../multichain-accounts/multichain-account-details-page/index.ts":7839,"../multichain-accounts/multichain-account-private-key-list-page":7841,"../multichain-accounts/smart-account-page/index.ts":7844,"../multichain-accounts/wallet-details-page":7846,"../nonevm-balance-check/index.tsx":7848,"../notification-details/index.js":7849,"../notifications-settings/index.js":7855,"../notifications/index.js":7861,"../onboarding-flow/index.ts":7891,"../permissions-connect/index.js":7914,"../rewards":7930,"../settings/deprecated-network-modal/DeprecatedNetworkModal":7955,"../settings/index.js":7965,"../shield-plan/index.ts":8021,"../snaps/snap-view/index.js":8036,"../snaps/snaps-list/index.js":8039,"../swaps/index.js":8054,"../unlock-page/index.ts":8076,"./confirmation-handler":7931,"./modals":7933,"./utils":7935,classnames:4117,react:5256,"react-compiler-runtime":5170,"react-idle-timer":5192,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,i.useDispatch)(),n=(0,s.useLocation)(),a=(0,s.useNavigationType)(),B=(0,c.useAppSelector)(e=>e.appState.alertOpen),q=(0,c.useAppSelector)(e=>e.appState.alertMessage),J=(0,c.useAppSelector)(e=>e.appState.isLoading),K=(0,c.useAppSelector)(e=>e.appState.loadingMessage),{autoLockTimeLimit:te=S.DEFAULT_AUTO_LOCK_TIME_LIMIT,privacyMode:ne}=(0,c.useAppSelector)(y.getPreferences),ae=(0,c.useAppSelector)(b.getCompletedOnboarding),We=(0,c.useAppSelector)(y.getNetworkToAutomaticallySwitchTo),ze=(0,c.useAppSelector)(y.oldestPendingConfirmationSelector),$e=(0,c.useAppSelector)(y.getPendingApprovals),Ge=(0,c.useAppSelector)(y.getUnapprovedTransactions),Ve=(0,c.useAppSelector)(e=>e.metamask.textDirection),qe=(0,c.useAppSelector)(b.getIsUnlocked),Je=(0,c.useAppSelector)(e=>e.metamask.currentCurrency),Ke=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os}),Ye=(0,c.useAppSelector)(e=>{var t;return null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.browser}),He=(0,c.useAppSelector)(y.getNetworkIdentifier),{type:Xe}=(0,c.useAppSelector)(h.getProviderConfig),Qe=(0,_.useTheme)(),Ze=(0,c.useAppSelector)(y.getShowExtensionInFullSizeView),et=(0,c.useAppSelector)(e=>e.appState.isAccountMenuOpen),tt=(0,c.useAppSelector)(e=>e.appState.importTokensModalOpen),nt=(0,c.useAppSelector)(e=>e.appState.showBasicFunctionalityModal),at=(0,c.useAppSelector)(e=>e.appState.deprecatedNetworkModalOpen),ot=(0,c.useAppSelector)(e=>e.appState.importNftsModal.open),rt=(0,c.useAppSelector)(e=>e.appState.showIpfsModalOpen),it=(0,c.useAppSelector)(y.getNumberOfAllUnapprovedTransactionsAndMessages),st=(0,c.useAppSelector)(e=>e.metamask.currentExtensionPopupId),lt=(0,c.useAppSelector)(e=>e.appState.showKeyringRemovalSnapModal),ct=(0,c.useAppSelector)(y.getUnapprovedConfirmations),{showMultichainIntroModal:ut,setShowMultichainIntroModal:dt}=(0,z.useMultichainAccountsIntroModal)(qe,n),pt=(0,r.useRef)({isUnlocked:qe,totalUnapprovedConfirmationCount:it});(0,r.useEffect)(()=>{const e=pt.current;We&&0===it&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&qe)&&t((0,E.automaticallySwitchNetwork)(We)),pt.current={isUnlocked:qe,totalUnapprovedConfirmationCount:it}},[We,qe,it,t]),(0,r.useEffect)(()=>{st!==undefined&&"metamask"in global&&"object"==typeof global.metamask&&global.metamask&&"id"in global.metamask&&global.metamask.id!==undefined&&st!==global.metamask.id&&window.close()},[st]),(0,r.useEffect)(()=>{const e=(0,C.getEnvironmentType)();var t,n;!Ze||e!==x.ENVIRONMENT_TYPE_POPUP&&e!==x.ENVIRONMENT_TYPE_SIDEPANEL||(null===(t=global.platform)||void 0===t||null===(n=t.openExtensionInBrowser)||void 0===n||n.call(t))},[Ze]),(0,r.useEffect)(()=>{"PUSH"===a&&t((0,v.pageChanged)(n.pathname))},[n.pathname,a,t]),(0,r.useEffect)(()=>{(0,Q.setTheme)(Qe)},[Qe]),(0,r.useEffect)(()=>{Je||t((0,E.setCurrentCurrency)("usd"))},[Je,t]);const mt=(0,r.useMemo)(()=>[(0,X.createRouteWithLayout)({path:`${g.ONBOARDING_ROUTE}/*`,component:oe,layout:H.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.LOCK_ROUTE,component:re,layout:H.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.UNLOCK_ROUTE,component:ie,layout:H.LegacyLayout,initialized:!0}),(0,X.createRouteWithLayout)({path:g.DEEP_LINK_ROUTE,component:Be,layout:H.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.RESTORE_VAULT_ROUTE,component:se,layout:H.LegacyLayout}),(0,X.createRouteWithLayout)({path:g.SMART_ACCOUNT_UPDATE,component:F.SmartAccountUpdate,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVEAL_SEED_ROUTE}/:keyringId?`,component:ce,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.IMPORT_SRP_ROUTE,component:le,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SETTINGS_ROUTE}/*`,component:ue,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NOTIFICATIONS_SETTINGS_ROUTE,component:de,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.NOTIFICATIONS_ROUTE}/:uuid`,component:pe,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NOTIFICATIONS_ROUTE,component:me,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.SNAPS_ROUTE,component:fe,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SNAPS_VIEW_ROUTE}/*`,component:ge,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SEND_ROUTE}/:page?`,component:Ee,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?${g.DECRYPT_MESSAGE_REQUEST_PATH}`,component:ye,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?${g.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:he,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRM_TRANSACTION_ROUTE}/:id?/*`,component:_e,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.SWAPS_ROUTE}/*`,component:ve,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:D.default,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CROSS_CHAIN_SWAP_ROUTE}/*`,component:be,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:ke,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:Se,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:xe,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.NEW_ACCOUNT_ROUTE}/*`,component:Ce,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.CONNECT_ROUTE}/:id/*`,component:Te,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/image/:asset/:id`,component:Oe,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId/:asset/:id`,component:we,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId/:asset/`,component:we,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.ASSET_ROUTE}/:chainId`,component:we,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.DEFI_ROUTE}/:chainId/:protocolId`,component:Ie,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.PERMISSIONS,component:Ne,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.GATOR_PERMISSIONS,component:Re,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.TOKEN_TRANSFER_ROUTE}/:origin`,component:Ae,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.TOKEN_TRANSFER_ROUTE,component:Ae,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName/:origin`,component:Me,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_GATOR_PERMISSIONS_ROUTE}/:chainId/:permissionGroupName`,component:Me,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.REVIEW_PERMISSIONS}/:origin`,component:Ue,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.ACCOUNT_LIST_PAGE_ROUTE,component:$.AccountList,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_ADDRESS_LIST_PAGE_ROUTE}/:accountGroupId`,component:j.MultichainAccountAddressListPage,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_PRIVATE_KEY_LIST_PAGE_ROUTE}/:accountGroupId`,component:U.MultichainAccountPrivateKeyListPage,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.ADD_WALLET_PAGE_ROUTE,component:G.AddWalletPage,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE}/:id`,component:De,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_SMART_ACCOUNT_PAGE_ROUTE}/:address`,component:Le,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:`${g.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE}/:id`,component:V.WalletDetailsPage,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.NONEVM_BALANCE_CHECK_ROUTE,component:Fe,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.SHIELD_PLAN_ROUTE,component:je,layout:H.LegacyLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.REWARDS_ROUTE,component:k.default,layout:Y.RootLayout,authenticated:!0}),(0,X.createRouteWithLayout)({path:g.DEFAULT_ROUTE,component:Pe,layout:Y.RootLayout,authenticated:!0})],[]),ft=(0,s.useRoutes)(mt),gt=(0,T.useI18nContext)(),ht=K?(0,Q.getConnectingLabel)(K,{providerType:Xe,providerId:He},{t:gt}):null,yt=n.pathname.split("/confirm-transaction/")[1]??(null==ze?void 0:ze.id),_t=$e.find(e=>e.id===yt),Et=(0,L.isCorrectSignatureApprovalType)(null==_t?void 0:_t.type),vt=(0,L.isCorrectDeveloperTransactionType)(null===(e=Ge[yt])||void 0===e?void 0:e.type),bt=n.pathname===g.DEEP_LINK_ROUTE,Tt=J&&ae&&!ct.some(e=>e.type===x.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!Et&&!vt&&!bt,kt=r.default.createElement(R.MultichainAccountListMenu,{onClose:()=>t((0,E.toggleAccountMenu)()),privacyMode:ne}),St=(0,C.getEnvironmentType)()===x.ENVIRONMENT_TYPE_SIDEPANEL;return r.default.createElement("div",{className:(0,o.default)("app",{[`os-${Ke}`]:Boolean(Ke),[`browser-${Ye}`]:Boolean(Ye),"group app--sidepanel":St}),dir:Ve},r.default.createElement(Z.ConfirmationHandler,null),r.default.createElement(O.default,null),r.default.createElement(d.Modal,null),r.default.createElement(p.default,{visible:B,msg:q}),et?kt:null,r.default.createElement(M.default,null),ot?r.default.createElement(m.ImportNftsModal,{onClose:()=>t((0,E.hideImportNftsModal)())}):null,rt?r.default.createElement(w.ToggleIpfsModal,{onClose:()=>t((0,E.hideIpfsModal)())}):null,nt?r.default.createElement(I.BasicConfigurationModal,null):null,tt?r.default.createElement(m.ImportTokensModal,{onClose:()=>t((0,E.hideImportTokensModal)())}):null,at?r.default.createElement(A.DeprecatedNetworkModal,{onClose:()=>t((0,E.hideDeprecatedNetworkModal)())}):null,lt&&r.default.createElement(N.default,{isOpen:lt,onClose:()=>t((0,E.hideKeyringRemovalResultModal)())}),ut?r.default.createElement(W.default,{onClose:()=>dt(!1)}):null,Tt?r.default.createElement(u.default,{loadingMessage:ht}):null,(()=>{const e=r.default.createElement(r.Suspense,{fallback:null},ft);return te>0?r.default.createElement(l.default,{onAction:()=>t((0,E.setLastActiveTime)()),throttle:1e3},e):e})(),qe?r.default.createElement(f.default,null):null,r.default.createElement(P.ToastMaster,null),r.default.createElement(ee.Modals,null))};var a=e("react-compiler-runtime"),o=te(e("classnames")),r=ae(e("react")),i=e("react-redux"),s=e("react-router-dom"),l=te(e("react-idle-timer")),c=e("../../store/store"),u=te(e("../../components/ui/loading-screen")),d=e("../../components/app/modals"),p=te(e("../../components/ui/alert")),m=e("../../components/multichain"),f=te(e("../../components/app/alerts")),g=e("../../helpers/constants/routes"),h=e("../../../shared/modules/selectors/networks"),y=e("../../selectors"),_=e("../../hooks/useTheme"),E=e("../../store/actions"),v=e("../../ducks/history/history"),b=e("../../ducks/metamask/metamask"),T=e("../../hooks/useI18nContext"),k=te(e("../rewards")),S=e("../../../shared/constants/preferences"),x=e("../../../shared/constants/app"),C=e("../../../app/scripts/lib/util"),O=te(e("../../components/app/qr-hardware-popover")),w=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),I=e("../../components/app/basic-configuration-modal"),N=te(e("../../components/app/modals/keyring-snap-removal-modal")),R=e("../../components/multichain-accounts/multichain-account-list-menu"),A=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),M=te(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),P=e("../../components/app/toast-master/toast-master"),B=e("../../helpers/utils/mm-lazy"),D=te(e("../bridge/transaction-details/transaction-details")),L=e("../../../shared/lib/confirmation.utils"),F=e("../confirmations/components/confirm/smart-account-update"),j=e("../multichain-accounts/multichain-account-address-list-page"),U=e("../multichain-accounts/multichain-account-private-key-list-page"),W=te(e("../../components/app/modals/multichain-accounts/intro-modal")),z=e("../../hooks/useMultichainAccountsIntroModal"),$=e("../multichain-accounts/account-list"),G=e("../multichain-accounts/add-wallet-page"),V=e("../multichain-accounts/wallet-details-page"),q=e("../../components/multichain/pages/review-permissions-page/review-permissions-page"),J=e("../../components/multichain-accounts/permissions/permission-review-page/multichain-review-permissions-page"),K=e("../../components/multichain-accounts/state2-wrapper/state2-wrapper"),Y=e("../../layouts/root-layout"),H=e("../../layouts/legacy-layout"),X=e("../../layouts/route-with-layout"),Q=e("./utils"),Z=e("./confirmation-handler"),ee=e("./modals");function te(e){return e&&e.__esModule?e:{default:e}}function ne(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(ne=function(e){return e?n:t})(e)}function ae(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=ne(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const oe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../onboarding-flow/index.ts")))),re=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../lock/index.ts")))),ie=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../unlock-page/index.ts")))),se=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../keychains/restore-vault.js")))),le=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../multi-srp/import-srp/index.ts")))),ce=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../keychains/reveal-seed.js")))),ue=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../settings/index.js")))),de=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../notifications-settings/index.js")))),pe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../notification-details/index.js")))),me=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../notifications/index.js")))),fe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../snaps/snaps-list/index.js")))),ge=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../snaps/snap-view/index.js")))),he=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirm-encryption-public-key/index.js")))),ye=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirm-decrypt-message/index.js")))),_e=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirmations/confirm/confirm.tsx")))),Ee=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirmations/send/index.ts")))),ve=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../swaps/index.js")))),be=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../bridge/index.tsx")))),Te=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../permissions-connect/index.js")))),ke=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirm-add-suggested-token/index.js")))),Se=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirm-add-suggested-nft/index.js")))),xe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../confirmations/confirmation/index.js")))),Ce=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../create-account/create-account.component.js")))),Oe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../../components/app/assets/nfts/nft-details/nft-full-image.tsx")))),we=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../asset/index.js")))),Ie=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../defi/index.ts")))),Ne=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../../components/multichain/pages/permissions-page/permissions-page.js")))),Re=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../../components/multichain/pages/gator-permissions/gator-permissions-page.tsx")))),Ae=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../../components/multichain/pages/gator-permissions/token-transfer/token-transfer-page.tsx")))),Me=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../../components/multichain/pages/gator-permissions/review-permissions/review-gator-permissions-page.tsx")))),Pe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../home/index.js")))),Be=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../deep-link/deep-link.tsx")))),De=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../multichain-accounts/multichain-account-details-page/index.ts")))),Le=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../multichain-accounts/smart-account-page/index.ts")))),Fe=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../nonevm-balance-check/index.tsx")))),je=(0,B.mmLazy)(()=>Promise.resolve().then(()=>ae(e("../shield-plan/index.ts")))),Ue=r.default.memo(()=>{const e=(0,a.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(K.State2Wrapper,{state1Component:q.ReviewPermissions,state2Component:J.MultichainReviewPermissions}),e[0]=t):t=e[0],t})}}},{package:"$root$",file:"ui/pages/routes/routes.component.tsx"}],[7935,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../../shared/constants/network":5795,"../../../shared/constants/preferences":5800,"../../helpers/constants/routes":7088,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.extractIdFromPathname=function(e,t){if(!e||!t||!e.includes(t))return null;const n=e.split(t)[1];if(!n)return null;return n.split(/[/?#]/u)[0]||null},n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case i.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case i.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case i.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case i.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case i.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case i.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.getRelativeLocationForNestedRoutes=function(e,t){const n=t.endsWith("/")?t.slice(0,-1):t,a=e.pathname.startsWith(n)?e.pathname.slice(n.length)||"/":e.pathname;return{...e,pathname:a}},n.getThemeFromRawTheme=u,n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)({path:`${l.NOTIFICATIONS_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.DEEP_LINK_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ONBOARDING_ROUTE,end:!1},t.pathname)))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)({path:l.PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_PERMISSIONS,end:!1},t.pathname)))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},t.pathname))}(e))return!0;const i=Boolean((0,a.matchPath)({path:l.CONNECT_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SEND_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_ACCOUNT_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.MULTICHAIN_WALLET_DETAILS_PAGE_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.SNAPS_VIEW_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.ASSET_ROUTE,end:!1},t.pathname)))return!0;const s=Boolean((0,a.matchPath)({path:l.CONFIRMATION_V_NEXT_ROUTE,end:!1},t.pathname)),u=Boolean((0,a.matchPath)({path:l.IMPORT_SRP_ROUTE,end:!1},t.pathname));if(Boolean((0,a.matchPath)({path:l.SHIELD_PLAN_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.GATOR_PERMISSIONS,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.TOKEN_TRANSFER_ROUTE,end:!1},t.pathname)))return!0;if(Boolean((0,a.matchPath)({path:l.REVIEW_GATOR_PERMISSIONS_ROUTE,end:!1},t.pathname)))return!0;return i||s||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",u(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)({path:l.DEFAULT_ROUTE,end:!0},t.pathname))},n.toRelativeRoutePath=function(e,t=""){return e.replace(t,"").replace(/^\//u,"")||"/"};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),i=e("../../../shared/constants/network"),s=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)({path:l.CONFIRM_TRANSACTION_ROUTE,end:!1},e))}function u(e){var t;return e===s.ThemeType.os?null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?s.ThemeType.dark:s.ThemeType.light:e}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[7936,{"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/preferences":5800,"../../../../shared/constants/smartTransactions":5805,"../../../components/component-library":6529,"../../../components/ui/text-field":7012,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/export-utils":7112,"../../../helpers/utils/settings-search":7131,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),i=e("../../../../shared/constants/preferences"),s=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=g(e("../../../components/ui/text-field")),u=g(e("../../../components/ui/toggle-button")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/export-utils"),m=e("../../../helpers/utils/settings-search");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),h(this,"settingsRefs",Array((0,m.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),h(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,p.exportAsFile)(e,t,p.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,p.exportAsFile)(`${e("stateLogFileName")}.json`,a,p.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{danger:!0,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:d.TextVariant.bodyMd,alignItems:d.AlignItems.flexStart},as:"a",href:s.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>{n(!e),this.context.trackEvent({event:r.MetaMetricsEventName.SettingsUpdated,category:r.MetaMetricsEventCategory.Settings,properties:{settings_group:"advanced",settings_type:"open_full_screen",old_value:e,new_value:!e,open_full_screen:!e,location:"Advanced Settings"}})},offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,"data-testid":"auto-lockout-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:i.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(l.Button,{"data-testid":"export-data-button",variant:l.ButtonVariant.Secondary,large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=y,h(y,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),h(y,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[7937,{"../../../../shared/constants/preferences":5800,"../../../../shared/modules/selectors":5932,"../../../ducks/app/app":7052,"../../../selectors":8094,"../../../store/actions":8127,"./advanced-tab.component":7936,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("../../../../shared/constants/preferences"),i=e("../../../selectors"),s=e("../../../store/actions"),l=e("../../../../shared/modules/selectors"),c=e("../../../ducks/app/app"),u=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const d=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:s}=n,{showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,autoLockTimeLimit:p=r.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,i.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:c,showTestNetworks:u,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,l.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:s,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=d;const p=e=>({backupUserData:()=>(0,s.backupUserData)(),setHexDataFeatureFlag:t=>e((0,s.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,c.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,c.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,s.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,s.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,s.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,s.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,s.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,s.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,s.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,s.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,s.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,s.setSmartAccountOptIn)(t))});n.mapDispatchToProps=p;n.default=(0,o.connect)(d,p)(u.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[7938,{"./advanced-tab.container":7937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[7939,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":6106,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":6107,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/settings-search":7131,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../helpers/utils/settings-search"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:s.BorderColor.borderMuted,width:s.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[7940,{"./backup-and-sync-tab.component":7939,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(e=>({}),e=>({}))(r.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[7941,{"./backup-and-sync-tab.container":7940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}],[7942,{"../../../../../shared/modules/hexstring-utils":5922,"../../../../../shared/modules/selectors/networks":5934,"../../../../components/app/contact-list/utils":6087,"../../../../components/component-library":6529,"../../../../components/multichain/pages/send/components":6875,"../../../../components/ui/page-container/page-container-footer":6984,"../../../../components/ui/text-field":7012,"../../../../contexts/i18n":7035,"../../../../helpers/constants/design-system":7083,"../../../../helpers/constants/routes":7088,"../../../../helpers/utils/util":7141,"../../../../selectors/multichain":8103,"../../../confirmations/send-legacy/send-content/add-recipient/domain-input":7779,"../../../confirmations/send-legacy/send.constants":7780,"../contact-networks":7947,lodash:4838,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=k(e("prop-types")),i=e("lodash"),s=e("react-redux"),l=k(e("../../../../components/ui/text-field")),c=e("../../../../helpers/constants/routes"),u=e("../../../../helpers/utils/util"),d=k(e("../../../confirmations/send-legacy/send-content/add-recipient/domain-input")),p=k(e("../../../../components/ui/page-container/page-container-footer")),m=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../confirmations/send-legacy/send.constants"),g=e("../../../../components/multichain/pages/send/components"),h=e("../../../../components/app/contact-list/utils"),y=e("../../../../contexts/i18n"),_=e("../../../../components/component-library"),E=e("../../../../helpers/constants/design-system"),v=e("../../../../selectors/multichain"),b=e("../../../../../shared/modules/selectors/networks"),T=e("../contact-networks");function k(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}const x=e=>{var t,n;const r=(0,a.c)(119),{addressBook:k,internalAccounts:S,addToAddressBook:x,navigate:w,scanQrCode:I,qrCodeData:N,qrCodeDetected:R,domainResolutions:A,domainError:M,resetDomainResolution:P,lookupDomainName:B}=e,D=(0,o.useContext)(y.I18nContext),[L,F]=(0,o.useState)(""),[j,U]=(0,o.useState)(""),[W,z]=(0,o.useState)(""),[$,G]=(0,o.useState)(""),[V,q]=(0,o.useState)(""),[J,K]=(0,o.useState)(""),Y=(0,s.useSelector)(b.getCurrentChainId),[H,X]=(0,o.useState)(Y),[Q,Z]=(0,o.useState)(!1),ee=(0,s.useSelector)(b.getNetworkConfigurationsByChainId),te=(0,o.useRef)(H);let ne,ae,oe;r[0]!==J||r[1]!==V||r[2]!==B||r[3]!==P||r[4]!==H?(ne=()=>{const e=(0,u.isValidDomainName)(V)?V:J;te.current!==H&&e&&(q(e),K(""),P(),B(e,H)),te.current=H},ae=[H,J,V,P,B],r[0]=J,r[1]=V,r[2]=B,r[3]=P,r[4]=H,r[5]=ne,r[6]=ae):(ne=r[5],ae=r[6]),(0,o.useEffect)(ne,ae),r[7]===Symbol.for("react.memo_cache_sentinel")?(oe=e=>{const t=!(0,m.isBurnAddress)(e)&&(0,m.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,u.isValidDomainName)(e);z(n||t?null:f.INVALID_RECIPIENT_ADDRESS_ERROR)},r[7]=oe):oe=r[7];const re=oe;let ie;r[8]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,i.debounce)(re,500),r[8]=ie):ie=r[8];const se=ie;let le;r[9]!==k||r[10]!==S||r[11]!==D?(le=e=>{const t=!(0,h.isDuplicateContact)(k,S,e);G(t?null:D("nameAlreadyInUse")),F(e)},r[9]=k,r[10]=S,r[11]=D,r[12]=le):le=r[12];const ce=le;let ue;r[13]===Symbol.for("react.memo_cache_sentinel")?(ue=e=>{q(e),se(e)},r[13]=ue):ue=r[13];const de=ue;let pe;r[14]!==V||r[15]!==P||r[16]!==I||r[17]!==j?(pe=()=>o.default.createElement(d.default,{scanQrCode:()=>I(),onChange:de,onPaste:e=>{q(e),re(e)},onReset:()=>{P(),q(""),U(""),K("")},userInput:j||V}),r[14]=V,r[15]=P,r[16]=I,r[17]=j,r[18]=pe):pe=r[18];const me=pe;let fe,ge;r[19]!==A||r[20]!==N||r[21]!==R||r[22]!==j?(fe=()=>{if("address"===(null==N?void 0:N.type)){const e=N.values.address.toLowerCase();[...A.map(C),j].filter(Boolean).map(O).includes(e)||(q(e),re(e),R(null))}},ge=[N,A,j,re,R],r[19]=A,r[20]=N,r[21]=R,r[22]=j,r[23]=fe,r[24]=ge):(fe=r[23],ge=r[24]),(0,o.useEffect)(fe,ge);const he=M||W,ye=j||V;let _e;r[25]!==ye?(_e=!(0,m.isBurnAddress)(ye)&&(0,m.isValidHexAddress)(ye,{mixedCaseUseChecksum:!0}),r[25]=ye,r[26]=_e):_e=r[26];const Ee=_e;let ve,be,Te,ke,Se,xe,Ce,Oe,we;r[27]!==D?(ve=D("userName"),r[27]=D,r[28]=ve):ve=r[28],r[29]!==ve?(be=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ve),r[29]=ve,r[30]=be):be=r[30],r[31]!==D?(Te=D("addAlias"),r[31]=D,r[32]=Te):Te=r[32],r[33]!==ce?(ke=e=>ce(e.target.value),r[33]=ce,r[34]=ke):ke=r[34],r[35]!==$||r[36]!==L||r[37]!==Te||r[38]!==ke?(Se=o.default.createElement(l.default,{type:"text",id:"nickname",placeholder:Te,value:L,onChange:ke,fullWidth:!0,margin:"dense",error:$}),r[35]=$,r[36]=L,r[37]=Te,r[38]=ke,r[39]=Se):Se=r[39],r[40]!==be||r[41]!==Se?(xe=o.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},be,Se),r[40]=be,r[41]=Se,r[42]=xe):xe=r[42],r[43]!==D?(Ce=D("publicAddress"),r[43]=D,r[44]=Ce):Ce=r[44],r[45]!==Ce?(Oe=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Ce),r[45]=Ce,r[46]=Oe):Oe=r[46],r[47]!==me?(we=me(),r[47]=me,r[48]=we):we=r[48];const Ie=`address-book__view-contact__group__${1===(null==A?void 0:A.length)?"single-":""}resolution-list`;let Ne,Re,Ae,Me,Pe,Be,De,Le;r[49]!==A||r[50]!==ce||r[51]!==P?(Ne=null==A?void 0:A.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:a,protocol:r,domainName:i}=e;return o.default.createElement(g.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:a??i,onClick:()=>{ce(i),q(t),K(i),P()},protocol:r,resolvingSnap:n})}),r[49]=A,r[50]=ce,r[51]=P,r[52]=Ne):Ne=r[52],r[53]!==Ie||r[54]!==Ne?(Re=o.default.createElement("div",{className:Ie},Ne),r[53]=Ie,r[54]=Ne,r[55]=Re):Re=r[55],r[56]!==he||r[57]!==D?(Ae=he&&o.default.createElement("div",{className:"address-book__add-contact__error"},D(he)),r[56]=he,r[57]=D,r[58]=Ae):Ae=r[58],r[59]!==Oe||r[60]!==we||r[61]!==Re||r[62]!==Ae?(Me=o.default.createElement("div",{className:"address-book__view-contact__group"},Oe,we,Re,Ae),r[59]=Oe,r[60]=we,r[61]=Re,r[62]=Ae,r[63]=Me):Me=r[63],r[64]!==D?(Pe=D("network"),r[64]=D,r[65]=Pe):Pe=r[65],r[66]!==Pe?(Be=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Pe),r[66]=Pe,r[67]=Be):Be=r[67],r[68]===Symbol.for("react.memo_cache_sentinel")?(De=()=>Z(!0),r[68]=De):De=r[68],r[69]!==H?(Le=(0,v.getImageForChainId)(H)||undefined,r[69]=H,r[70]=Le):Le=r[70];const Fe=null==ee||null===(t=ee[H])||void 0===t?void 0:t.name;let je;r[71]!==Le||r[72]!==Fe?(je=o.default.createElement(_.AvatarNetwork,{size:_.AvatarNetworkSize.Sm,src:Le,name:Fe}),r[71]=Le,r[72]=Fe,r[73]=je):je=r[73];const Ue=null==ee||null===(n=ee[H])||void 0===n?void 0:n.name;let We,ze,$e,Ge,Ve,qe,Je,Ke,Ye;r[74]!==Ue?(We=o.default.createElement(_.Text,null,Ue),r[74]=Ue,r[75]=We):We=r[75],r[76]!==je||r[77]!==We?(ze=o.default.createElement(_.Box,{display:E.Display.Flex,gap:2},je,We),r[76]=je,r[77]=We,r[78]=ze):ze=r[78],r[79]===Symbol.for("react.memo_cache_sentinel")?($e=o.default.createElement(_.Icon,{name:_.IconName.ArrowDown,color:E.IconColor.iconDefault,size:_.IconSize.Sm}),r[79]=$e):$e=r[79],r[80]!==ze?(Ge=o.default.createElement(_.Box,{as:"button",padding:3,display:E.Display.Flex,alignItems:E.AlignItems.center,backgroundColor:E.BackgroundColor.transparent,borderColor:E.BorderColor.borderDefault,justifyContent:E.JustifyContent.spaceBetween,borderRadius:E.BorderRadius.XL,onClick:De,className:"network-selector","data-testid":"network-selector"},ze,$e),r[80]=ze,r[81]=Ge):Ge=r[81],r[82]!==H||r[83]!==Q?(Ve=Q&&o.default.createElement(T.ContactNetworks,{isOpen:!0,onClose:()=>Z(!1),selectedChainId:H,onSelect:e=>X(e)}),r[82]=H,r[83]=Q,r[84]=Ve):Ve=r[84],r[85]!==Be||r[86]!==Ge||r[87]!==Ve?(qe=o.default.createElement("div",{className:"address-book__view-contact__group"},Be,Ge,Ve),r[85]=Be,r[86]=Ge,r[87]=Ve,r[88]=qe):qe=r[88],r[89]!==xe||r[90]!==Me||r[91]!==qe?(Je=o.default.createElement("div",{className:"address-book__add-contact__content"},xe,Me,qe),r[89]=xe,r[90]=Me,r[91]=qe,r[92]=Je):Je=r[92],r[93]!==D?(Ke=D("cancel"),r[93]=D,r[94]=Ke):Ke=r[94],r[95]!==W||r[96]!==$||r[97]!==L||r[98]!==Ee?(Ye=W||$||!Ee||!L.trim(),r[95]=W,r[96]=$,r[97]=L,r[98]=Ee,r[99]=Ye):Ye=r[99];const He=Boolean(Ye);let Xe,Qe,Ze,et,tt;return r[100]!==x||r[101]!==w||r[102]!==ye||r[103]!==L||r[104]!==H?(Xe=async()=>{await x(ye,L,"",H),w(c.CONTACT_LIST_ROUTE)},r[100]=x,r[101]=w,r[102]=ye,r[103]=L,r[104]=H,r[105]=Xe):Xe=r[105],r[106]!==w?(Qe=()=>{w(c.CONTACT_LIST_ROUTE)},r[106]=w,r[107]=Qe):Qe=r[107],r[108]!==D?(Ze=D("save"),r[108]=D,r[109]=Ze):Ze=r[109],r[110]!==Ke||r[111]!==He||r[112]!==Xe||r[113]!==Qe||r[114]!==Ze?(et=o.default.createElement(p.default,{cancelText:Ke,disabled:He,onSubmit:Xe,onCancel:Qe,submitText:Ze}),r[110]=Ke,r[111]=He,r[112]=Xe,r[113]=Qe,r[114]=Ze,r[115]=et):et=r[115],r[116]!==Je||r[117]!==et?(tt=o.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},Je,et),r[116]=Je,r[117]=et,r[118]=tt):tt=r[118],tt};x.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,addToAddressBook:r.default.func,navigate:r.default.func.isRequired,scanQrCode:r.default.func,qrCodeData:r.default.object,qrCodeDetected:r.default.func,domainResolutions:r.default.arrayOf(r.default.object),domainError:r.default.string,resetDomainResolution:r.default.func,lookupDomainName:r.default.func};n.default=x;function C(e){const{resolvedAddress:t}=e;return t}function O(e){return e.toLowerCase()}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[7943,{"../../../../ducks/app/app":7052,"../../../../ducks/domains":7061,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../../../selectors":8094,"../../../../store/actions":8127,"./add-contact.component":7942,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),i=e("../../../../store/actions"),s=e("../../../../ducks/app/app"),l=e("../../../../ducks/domains"),c=e("../../../../selectors"),u=d(e("./add-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)(e=>({addressBook:(0,c.getAddressBook)(e),internalAccounts:(0,c.getInternalAccounts)(e),qrCodeData:(0,s.getQrCodeData)(e),domainError:(0,l.getDomainError)(e),domainResolutions:(0,l.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,n,a,o)=>e((0,i.addToAddressBook)(t,n,a,o)),scanQrCode:()=>e((0,i.showQrScanner)()),qrCodeDetected:t=>e((0,i.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,l.resetDomainResolution)()),lookupDomainName:(t,n)=>e((0,l.lookupDomainName)(t,n))})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[7944,{"./add-contact.container":7943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[7945,{"../../../components/app/contact-list":6085,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/utils/settings-search":7131,"./add-contact":7944,"./edit-contact":7950,"./view-contact":7952,classnames:4117,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),i=f(e("../../../components/app/contact-list")),s=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,navigate:n,selectedAddress:o}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?a.default.createElement("div",null,a.default.createElement(i.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{n(`${s.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:o})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{n(s.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{navigate:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e(s.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let o=null;return e?o=m.default:t?o=d.default:n&&(o=p.default),o&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(o,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:n}=this.props,o=n;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===s.CONTACT_LIST_ROUTE&&!e&&o.length>0?this.renderAddButton():null)}}n.default=y,h(y,"contextTypes",{t:o.default.func}),h(y,"propTypes",{completeAddressBook:o.default.array,internalAccounts:o.default.array,navigate:o.default.func.isRequired,selectedAddress:o.default.string,viewingContact:o.default.bool,editingContact:o.default.bool,addingContact:o.default.bool,hideAddressBook:o.default.bool,currentPath:o.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[7946,{"../../../helpers/constants/routes":7088,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../../selectors":8094,"./contact-list-tab.component":7945,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=c(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),i=e("../../../selectors"),s=e("../../../helpers/constants/routes"),l=c(e("./contact-list-tab.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x"),l=Boolean(a.match(s.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(s.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(s.CONTACT_ADD_ROUTE)),d=l||c||u;return{viewingContact:l,editingContact:c,addingContact:u,addressBook:(0,i.getAddressBook)(e),completeAddressBook:(0,i.getCompleteAddressBook)(e),internalAccounts:(0,i.getInternalAccounts)(e),selectedAddress:r?o:"",hideAddressBook:d,currentPath:a}}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[7947,{"../../../../shared/constants/bridge":5777,"../../../../shared/constants/network":5795,"../../../../shared/modules/selectors/networks":5934,"../../../components/component-library":6529,"../../../components/multichain":6764,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"../../../selectors/multichain":8103,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContactNetworks=void 0;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../components/component-library"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/constants/network"),u=e("../../../hooks/useI18nContext"),d=e("../../../../shared/constants/bridge"),p=e("../../../components/multichain"),m=e("../../../selectors/multichain");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e,t){const[n,a]=e,[o,r]=t;return(c.TEST_CHAINS.includes(o)?a:n).push(r),[n,a]}n.ContactNetworks=e=>{const t=(0,a.c)(36),{isOpen:n,onClose:c,selectedChainId:f,onSelect:h}=e,y=(0,u.useI18nContext)(),_=(0,r.useSelector)(l.getNetworkConfigurationsByChainId);let E;t[0]!==_?(E=Object.entries(_).reduce(g,[[],[]]),t[0]=_,t[1]=E):E=t[1];const[v,b]=E;let T;t[2]!==c||t[3]!==h||t[4]!==f?(T=e=>e.map(e=>{const{name:t,chainId:n}=e;return o.default.createElement(p.NetworkListItem,{key:n,name:d.NETWORK_TO_SHORT_NETWORK_NAME_MAP[n]??t,selected:f===n,onClick:()=>{null==h||h(n),c()},iconSrc:(0,m.getImageForChainId)(n),iconSize:s.AvatarNetworkSize.Sm,focus:!1,variant:i.TextVariant.bodyMdMedium})}),t[2]=c,t[3]=h,t[4]=f,t[5]=T):T=t[5];const k=T;let S,x,C,O,w,I,N,R,A,M,P,B;return t[6]===Symbol.for("react.memo_cache_sentinel")?(S=o.default.createElement(s.ModalOverlay,null),t[6]=S):S=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x={padding:0},t[7]=x):x=t[7],t[8]!==y?(C=y("bridgeSelectNetwork"),t[8]=y,t[9]=C):C=t[9],t[10]!==c||t[11]!==C?(O=o.default.createElement(s.ModalHeader,{onBack:c,onClose:c},C),t[10]=c,t[11]=C,t[12]=O):O=t[12],t[13]!==v||t[14]!==k?(w=k(v),t[13]=v,t[14]=k,t[15]=w):w=t[15],t[16]!==y?(I=y("testnets"),t[16]=y,t[17]=I):I=t[17],t[18]!==I?(N=o.default.createElement(s.Text,{variant:i.TextVariant.bodyMdMedium},I),t[18]=I,t[19]=N):N=t[19],t[20]!==k||t[21]!==b?(R=k(b),t[20]=k,t[21]=b,t[22]=R):R=t[22],t[23]!==R||t[24]!==N?(A=o.default.createElement(s.Box,{padding:4},N,R),t[23]=R,t[24]=N,t[25]=A):A=t[25],t[26]!==A||t[27]!==w?(M=o.default.createElement(s.Box,{className:"multichain-asset-picker__network-list",display:i.Display.Flex},o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full},w,A)),t[26]=A,t[27]=w,t[28]=M):M=t[28],t[29]!==M||t[30]!==O?(P=o.default.createElement(s.ModalContent,{modalDialogProps:x},O,M),t[29]=M,t[30]=O,t[31]=P):P=t[31],t[32]!==n||t[33]!==c||t[34]!==P?(B=o.default.createElement(s.Modal,{isOpen:n,onClose:c,className:"multichain-asset-picker__network-modal"},S,P),t[32]=n,t[33]=c,t[34]=P,t[35]=B):B=t[35],B}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[7948,{"../../../../../shared/modules/hexstring-utils":5922,"../../../../components/app/contact-list/utils":6087,"../../../../components/app/preferred-avatar":6237,"../../../../components/component-library":6529,"../../../../components/ui/page-container/page-container-footer":6984,"../../../../components/ui/text-field":7012,"../../../../contexts/i18n":7035,"../../../../helpers/constants/design-system":7083,"../../../../selectors/multichain":8103,"../contact-networks":7947,"@metamask/design-system-react":1807,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=e("react-compiler-runtime"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("prop-types")),i=e("react-router-dom"),s=e("@metamask/design-system-react"),l=_(e("../../../../components/ui/text-field")),c=_(e("../../../../components/ui/page-container/page-container-footer")),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../../shared/modules/hexstring-utils"),p=e("../../../../components/component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../components/app/contact-list/utils"),g=e("../../../../selectors/multichain"),h=e("../../../../contexts/i18n"),y=e("../contact-networks");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v(e){var t,n;const r=(0,a.c)(141),{addressBook:_,internalAccounts:E,networkConfigurations:v,addToAddressBook:b,removeFromAddressBook:T,name:k,address:S,contactChainId:x,memo:C,viewRoute:O,listRoute:w}=e,I=k===undefined?"":k,N=C===undefined?"":C,R=(0,o.useContext)(h.I18nContext),A=(0,i.useNavigate)(),[M,P]=(0,o.useState)(I),[B,D]=(0,o.useState)(S),[L,F]=(0,o.useState)(N),[j,U]=(0,o.useState)(""),[W,z]=(0,o.useState)(""),[$,G]=(0,o.useState)(!1),[V,q]=(0,o.useState)(x),J=v;let K;r[0]!==_||r[1]!==E||r[2]!==I?(K=e=>e===I||!(0,f.isDuplicateContact)(_,E,e),r[0]=_,r[1]=E,r[2]=I,r[3]=K):K=r[3];const Y=K;let H;r[4]!==R||r[5]!==Y?(H=e=>{const t=e.target.value;U(Y(t)?"":R("nameAlreadyInUse")),P(t)},r[4]=R,r[5]=Y,r[6]=H):H=r[6];const X=H;if(!S){let e;return r[7]!==w?(e=o.default.createElement(i.Navigate,{to:{pathname:w}}),r[7]=w,r[8]=e):e=r[8],e}let Q,Z,ee;r[9]===Symbol.for("react.memo_cache_sentinel")?(Q={overflow:"hidden"},r[9]=Q):Q=r[9],r[10]!==S?(Z=o.default.createElement(u.PreferredAvatar,{size:s.AvatarAccountSize.Lg,address:S}),r[10]=S,r[11]=Z):Z=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(ee={overflow:"hidden"},r[12]=ee):ee=r[12];const te=I||S;let ne,ae,oe,re,ie,se,le,ce,ue,de,pe,me,fe,ge,he,ye,_e,Ee,ve,be,Te,ke,Se,xe,Ce,Oe;r[13]!==te?(ne=o.default.createElement(p.Text,{className:"address-book__header__name",variant:m.TextVariant.bodyLgMedium,marginInlineStart:4,style:ee,ellipsis:!0},te),r[13]=te,r[14]=ne):ne=r[14],r[15]!==Z||r[16]!==ne?(ae=o.default.createElement(p.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,style:Q,paddingRight:2},Z,ne),r[15]=Z,r[16]=ne,r[17]=ae):ae=r[17],r[18]===Symbol.for("react.memo_cache_sentinel")?(oe={display:"contents"},r[18]=oe):oe=r[18],r[19]!==S||r[20]!==x||r[21]!==w||r[22]!==A||r[23]!==T?(re=async()=>{await T(x,S),A(w)},r[19]=S,r[20]=x,r[21]=w,r[22]=A,r[23]=T,r[24]=re):re=r[24],r[25]!==R?(ie=R("deleteContact"),r[25]=R,r[26]=ie):ie=r[26],r[27]!==re||r[28]!==ie?(se=o.default.createElement(p.Box,{className:"settings-page__address-book-button"},o.default.createElement(p.Button,{variant:p.ButtonVariant.Link,danger:!0,style:oe,onClick:re,"data-testid":"delete-contact-button"},ie)),r[27]=re,r[28]=ie,r[29]=se):se=r[29],r[30]!==ae||r[31]!==se?(le=o.default.createElement(p.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:m.BlockSize.Full,alignItems:m.AlignItems.center},ae,se),r[30]=ae,r[31]=se,r[32]=le):le=r[32],r[33]!==R?(ce=R("userName"),r[33]=R,r[34]=ce):ce=r[34],r[35]!==ce?(ue=o.default.createElement("div",{className:"address-book__view-contact__group__label"},ce),r[35]=ce,r[36]=ue):ue=r[36],r[37]!==R?(de=R("addAlias"),r[37]=R,r[38]=de):de=r[38],r[39]!==M||r[40]!==X||r[41]!==j||r[42]!==de?(pe=o.default.createElement(l.default,{id:"nickname","data-testid":"address-book-edit-contact-name",placeholder:de,value:M,onChange:X,error:j,fullWidth:!0,className:"text-field-root",margin:"dense"}),r[39]=M,r[40]=X,r[41]=j,r[42]=de,r[43]=pe):pe=r[43],r[44]!==ue||r[45]!==pe?(me=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},ue,pe),r[44]=ue,r[45]=pe,r[46]=me):me=r[46],r[47]!==R?(fe=R("publicAddress"),r[47]=R,r[48]=fe):fe=r[48],r[49]!==fe?(ge=o.default.createElement("div",{className:"address-book__view-contact__group__label"},fe),r[49]=fe,r[50]=ge):ge=r[50],r[51]===Symbol.for("react.memo_cache_sentinel")?(he=e=>D(e.target.value),r[51]=he):he=r[51],r[52]!==W||r[53]!==B?(ye=o.default.createElement(l.default,{id:"address","data-testid":"address-book-edit-contact-address",value:B,onChange:he,error:W,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[52]=W,r[53]=B,r[54]=ye):ye=r[54],r[55]!==ge||r[56]!==ye?(_e=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},ge,ye),r[55]=ge,r[56]=ye,r[57]=_e):_e=r[57],r[58]!==R?(Ee=R("memo"),r[58]=R,r[59]=Ee):Ee=r[59],r[60]!==Ee?(ve=o.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},Ee),r[60]=Ee,r[61]=ve):ve=r[61],r[62]===Symbol.for("react.memo_cache_sentinel")?(be=e=>F(e.target.value),r[62]=be):be=r[62],r[63]!==N||r[64]!==L?(Te=o.default.createElement(l.default,{id:"memo",placeholder:N,value:L,onChange:be,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"}),r[63]=N,r[64]=L,r[65]=Te):Te=r[65],r[66]!==ve||r[67]!==Te?(ke=o.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},ve,Te),r[66]=ve,r[67]=Te,r[68]=ke):ke=r[68],r[69]!==R?(Se=R("network"),r[69]=R,r[70]=Se):Se=r[70],r[71]!==Se?(xe=o.default.createElement("div",{className:"address-book__view-contact__group__label"},Se),r[71]=Se,r[72]=xe):xe=r[72],r[73]===Symbol.for("react.memo_cache_sentinel")?(Ce=()=>G(!0),r[73]=Ce):Ce=r[73],r[74]!==V?(Oe=(0,g.getImageForChainId)(V)||undefined,r[74]=V,r[75]=Oe):Oe=r[75];const we=null==J||null===(t=J[V])||void 0===t?void 0:t.name;let Ie;r[76]!==Oe||r[77]!==we?(Ie=o.default.createElement(p.AvatarNetwork,{size:p.AvatarNetworkSize.Sm,src:Oe,name:we}),r[76]=Oe,r[77]=we,r[78]=Ie):Ie=r[78];const Ne=null==J||null===(n=J[V])||void 0===n?void 0:n.name;let Re,Ae,Me,Pe,Be,De,Le,Fe,je,Ue,We;r[79]!==Ne?(Re=o.default.createElement(p.Text,{"data-testid":"address-book-edit-contact-network"},Ne),r[79]=Ne,r[80]=Re):Re=r[80],r[81]!==Ie||r[82]!==Re?(Ae=o.default.createElement(p.Box,{display:m.Display.Flex,gap:2},Ie,Re),r[81]=Ie,r[82]=Re,r[83]=Ae):Ae=r[83],r[84]===Symbol.for("react.memo_cache_sentinel")?(Me=o.default.createElement(p.Icon,{name:p.IconName.ArrowDown,color:m.IconColor.iconDefault,size:p.IconSize.Sm}),r[84]=Me):Me=r[84],r[85]!==Ae?(Pe=o.default.createElement(p.Box,{as:"button",padding:3,display:m.Display.Flex,alignItems:m.AlignItems.center,backgroundColor:m.BackgroundColor.transparent,borderColor:m.BorderColor.borderDefault,justifyContent:m.JustifyContent.spaceBetween,borderRadius:m.BorderRadius.XL,onClick:Ce,className:"network-selector","data-testid":"network-selector",marginTop:2},Ae,Me),r[85]=Ae,r[86]=Pe):Pe=r[86],r[87]!==xe||r[88]!==Pe?(Be=o.default.createElement("div",{className:"address-book__view-contact__group"},xe,Pe),r[87]=xe,r[88]=Pe,r[89]=Be):Be=r[89],r[90]!==me||r[91]!==_e||r[92]!==ke||r[93]!==Be?(De=o.default.createElement("div",{className:"address-book__edit-contact__content"},me,_e,ke,Be),r[90]=me,r[91]=_e,r[92]=ke,r[93]=Be,r[94]=De):De=r[94],r[95]!==R?(Le=R("cancel"),r[95]=R,r[96]=Le):Le=r[96],r[97]!==b||r[98]!==S||r[99]!==x||r[100]!==M||r[101]!==w||r[102]!==N||r[103]!==I||r[104]!==A||r[105]!==B||r[106]!==L||r[107]!==T||r[108]!==V||r[109]!==R?(Fe=async()=>{const e=V!==x;B&&B!==S?!(0,d.isBurnAddress)(B)&&(0,d.isValidHexAddress)(B,{mixedCaseUseChecksum:!0})?(await T(x,S),await b(B,M||I,L||N,V),A(w)):z(R("invalidAddress")):e?(await T(x,S),await b(S,M||I,L||N,V),A(w)):(await b(S,M||I,L||N,V),A(w))},r[97]=b,r[98]=S,r[99]=x,r[100]=M,r[101]=w,r[102]=N,r[103]=I,r[104]=A,r[105]=B,r[106]=L,r[107]=T,r[108]=V,r[109]=R,r[110]=Fe):Fe=r[110],r[111]!==S||r[112]!==A||r[113]!==O?(je=()=>A(`${O}/${S}`),r[111]=S,r[112]=A,r[113]=O,r[114]=je):je=r[114],r[115]!==R?(Ue=R("save"),r[115]=R,r[116]=Ue):Ue=r[116],r[117]!==S||r[118]!==x||r[119]!==M||r[120]!==N||r[121]!==I||r[122]!==j||r[123]!==B||r[124]!==L||r[125]!==V?(We=M===I&&B===S&&V===x&&L===N||!M.trim()||j,r[117]=S,r[118]=x,r[119]=M,r[120]=N,r[121]=I,r[122]=j,r[123]=B,r[124]=L,r[125]=V,r[126]=We):We=r[126];const ze=Boolean(We);let $e,Ge,Ve;return r[127]!==Le||r[128]!==Fe||r[129]!==je||r[130]!==Ue||r[131]!==ze?($e=o.default.createElement(c.default,{cancelText:Le,onSubmit:Fe,onCancel:je,submitText:Ue,disabled:ze}),r[127]=Le,r[128]=Fe,r[129]=je,r[130]=Ue,r[131]=ze,r[132]=$e):$e=r[132],r[133]!==V||r[134]!==$?(Ge=$&&o.default.createElement(y.ContactNetworks,{isOpen:!0,onClose:()=>G(!1),selectedChainId:V,onSelect:e=>q(e)}),r[133]=V,r[134]=$,r[135]=Ge):Ge=r[135],r[136]!==le||r[137]!==De||r[138]!==$e||r[139]!==Ge?(Ve=o.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},le,De,$e,Ge),r[136]=le,r[137]=De,r[138]=$e,r[139]=Ge,r[140]=Ve):Ve=r[140],Ve}v.propTypes={addressBook:r.default.array,internalAccounts:r.default.array,networkConfigurations:r.default.array,addToAddressBook:r.default.func.isRequired,removeFromAddressBook:r.default.func.isRequired,name:r.default.string,address:r.default.string.isRequired,contactChainId:r.default.string,memo:r.default.string,viewRoute:r.default.string.isRequired,listRoute:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[7949,{"../../../../../shared/modules/selectors/networks":5934,"../../../../helpers/constants/routes":7088,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../../../selectors":8094,"../../../../store/actions":8127,"./edit-contact.component":7948,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),o=e("react-redux"),r=d(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),i=e("../../../../selectors"),s=e("../../../../../shared/modules/selectors/networks"),l=e("../../../../helpers/constants/routes"),c=e("../../../../store/actions"),u=d(e("./edit-contact.component"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.compose)(r.default,(0,o.connect)((e,t)=>{var n;const{location:a,params:o}=t,r=a.pathname.match(/[^/]+$/u)[0],c=r.includes("0x")?r.toLowerCase():o.id,u=(0,i.getAddressBookEntry)(e,c),d=(0,s.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(n=(0,i.getInternalAccountByAddress)(e,c))||void 0===n?void 0:n.metadata.name),{chainId:f}=(0,s.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?c:null,addressBook:(0,i.getAddressBook)(e),internalAccounts:(0,i.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:l.CONTACT_VIEW_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,n,a,o)=>e((0,c.addToAddressBook)(t,n,a,o)),removeFromAddressBook:(t,n)=>e((0,c.removeFromAddressBook)(t,n)),toggleNetworkMenu:()=>e((0,c.toggleNetworkMenu)())})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[7950,{"./edit-contact.container":7949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[7951,{"./contact-list-tab.container":7946},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[7952,{"./view-contact.container":7954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}]],[],{});