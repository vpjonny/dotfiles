LavaPack.loadBundle([[2359,{"./constants/notification-schema.cjs":2361,"./processors/process-notifications.cjs":2371,"./services/api-notifications.cjs":2373,"./services/feature-announcements.cjs":2374,"./services/perp-notifications.cjs":2376,"@metamask/base-controller":1362,"@metamask/controller-utils":1449,"@metamask/keyring-controller":2203,"@metamask/utils":3116,loglevel:4846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},T=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const _=e("@metamask/base-controller"),E=e("@metamask/controller-utils"),k=e("@metamask/keyring-controller"),C=e("@metamask/utils"),P=v(e("loglevel")),O=e("./constants/notification-schema.cjs"),A=e("./processors/process-notifications.cjs"),I=e("./services/api-notifications.cjs"),N=e("./services/feature-announcements.cjs"),j=e("./services/perp-notifications.cjs"),R="NotificationServicesController",M={subscriptionAccountsSeen:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isMetamaskNotificationsFeatureSeen:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},isNotificationServicesEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},isFeatureAnnouncementsEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},metamaskNotificationsList:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},metamaskNotificationsReadList:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isUpdatingMetamaskNotifications:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},isFetchingMetamaskNotifications:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},isUpdatingMetamaskNotificationsAccount:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},isCheckingAccountsPresence:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}};n.defaultState={subscriptionAccountsSeen:[],isMetamaskNotificationsFeatureSeen:!1,isNotificationServicesEnabled:!1,isFeatureAnnouncementsEnabled:!1,metamaskNotificationsList:[],metamaskNotificationsReadList:[],isUpdatingMetamaskNotifications:!1,isFetchingMetamaskNotifications:!1,isUpdatingMetamaskNotificationsAccount:[],isCheckingAccountsPresence:!1};const L=new Set([O.TRIGGER_TYPES.SNAP]);class D extends _.BaseController{constructor({messenger:e,state:t,env:m}){super({messenger:e,metadata:M,name:R,state:{...n.defaultState,...t}}),i.add(this),s.set(this,{isUnlocked:!1,setupLockedStateSubscriptions:e=>{const{isUnlocked:t}=this.messenger.call("KeyringController:getState");T(this,s,"f").isUnlocked=t,this.messenger.subscribe("KeyringController:unlock",()=>{T(this,s,"f").isUnlocked=!0,e()}),this.messenger.subscribe("KeyringController:lock",()=>{T(this,s,"f").isUnlocked=!1})}}),r.set(this,{getBearerToken:async()=>await this.messenger.call("AuthenticationController:getBearerToken"),isSignedIn:()=>this.messenger.call("AuthenticationController:isSignedIn"),signIn:async()=>await this.messenger.call("AuthenticationController:performSignIn")}),a.set(this,{isSetup:!1,subscribeToPushNotifications:async()=>{await this.messenger.call("NotificationServicesPushController:subscribeToPushNotifications")},enablePushNotifications:async e=>{try{await this.messenger.call("NotificationServicesPushController:enablePushNotifications",e)}catch(e){P.default.error("Silently failed to enable push notifications",e)}},disablePushNotifications:async()=>{try{await this.messenger.call("NotificationServicesPushController:disablePushNotifications")}catch(e){P.default.error("Silently failed to disable push notifications",e)}},subscribe:()=>{this.messenger.subscribe("NotificationServicesPushController:onNewNotifications",e=>{this.updateMetamaskNotificationsList(e)})},initializePushNotifications:async()=>{if(this.state.isNotificationServicesEnabled&&!T(this,a,"f").isSetup)try{if(!T(this,s,"f").isUnlocked)throw new Error("Keyring is locked");await this.enablePushNotifications(),T(this,a,"f").isSetup=!0}catch{await T(this,a,"f").subscribeToPushNotifications().catch(()=>{})}}}),o.set(this,{isNotificationAccountsSetup:!1,getNotificationAccounts:()=>{const{keyrings:e}=this.messenger.call("KeyringController:getState"),t=e.find(e=>e.type===k.KeyringTypes.hd.toString());return t?.accounts??null},listAccounts:()=>{const e=T(this,o,"f").getNotificationAccounts();if(!e)return{accountsAdded:[],accountsRemoved:[],accounts:[]};const t=e.map(e=>(0,E.toChecksumHexAddress)(e)).filter(e=>(0,E.isValidHexAddress)(e)),n=new Set(t),i=new Set(this.state.subscriptionAccountsSeen);if(0===t.length)return{accountsAdded:[],accountsRemoved:[],accounts:[]};const s=t.filter(e=>!i.has(e)),r=[...i.values()].filter(e=>!n.has(e));return this.update(e=>{e.subscriptionAccountsSeen=[...n]}),{accountsAdded:s,accountsRemoved:r,accounts:t}},initialize:()=>{T(this,s,"f").isUnlocked&&!T(this,o,"f").isNotificationAccountsSetup&&(T(this,o,"f").listAccounts(),T(this,o,"f").isNotificationAccountsSetup=!0)},subscribe:()=>{this.messenger.subscribe("KeyringController:stateChange",async(e,t)=>{const n=e!==t;if(!this.state.isNotificationServicesEnabled||!n)return;const{accountsAdded:i,accountsRemoved:s}=T(this,o,"f").listAccounts(),r=[];i.length>0&&r.push(this.enableAccounts(i)),s.length>0&&r.push(this.disableAccounts(s)),await Promise.allSettled(r)},e=>e?.keyrings?.flatMap?.(e=>e.accounts)?.length??0)}}),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),S(this,l,m.featureAnnouncements,"f"),S(this,c,m.locale??(()=>"en"),"f"),S(this,d,m.env??"prd","f"),T(this,i,"m",u).call(this),T(this,i,"m",h).call(this)}init(){T(this,s,"f").setupLockedStateSubscriptions(async()=>{T(this,o,"f").initialize(),await T(this,a,"f").initializePushNotifications()}),T(this,o,"f").initialize(),T(this,a,"f").initializePushNotifications(),T(this,o,"f").subscribe(),T(this,a,"f").subscribe()}async enablePushNotifications(){try{const{bearerToken:e}=await T(this,i,"m",p).call(this),{accounts:t}=T(this,o,"f").listAccounts(),n=(await(0,I.getNotificationsApiConfigCached)(e,t,T(this,d,"f"))).filter(e=>Boolean(e.enabled)).map(e=>e.address);n.length>0&&await T(this,a,"f").enablePushNotifications(n)}catch(e){P.default.error("Failed to enable push notifications",e)}}async disablePushNotifications(){await T(this,a,"f").disablePushNotifications()}async checkAccountsPresence(e){try{T(this,i,"m",y).call(this,!0);const{bearerToken:t}=await T(this,i,"m",p).call(this),n=await(0,I.getNotificationsApiConfigCached)(t,e,T(this,d,"f")),s={};return n.forEach(e=>{s[e.address]=e.enabled}),s}catch(e){throw P.default.error("Failed to check accounts presence",e),e}finally{T(this,i,"m",y).call(this,!1)}}async setFeatureAnnouncementsEnabled(e){try{this.update(t=>{t.isFeatureAnnouncementsEnabled=e})}catch(e){throw P.default.error("Unable to toggle feature announcements",e),new Error("Unable to toggle feature announcements")}}async createOnChainTriggers(e){try{T(this,i,"m",g).call(this,!0);const{bearerToken:t}=await T(this,i,"m",p).call(this),{accounts:n}=T(this,o,"f").listAccounts();let s=(await(0,I.getNotificationsApiConfigCached)(t,n,T(this,d,"f"))).filter(e=>Boolean(e.enabled)).map(e=>e.address);(0===s.length||e?.resetNotifications)&&(await(0,I.updateOnChainNotifications)(t,n.map(e=>({address:e,enabled:!0})),T(this,d,"f")),s=n),T(this,a,"f").enablePushNotifications(s).catch(()=>{}),this.update(e=>{e.isNotificationServicesEnabled=!0,e.isFeatureAnnouncementsEnabled=!0,e.isMetamaskNotificationsFeatureSeen=!0})}catch(e){throw P.default.error("Failed to create On Chain triggers",e),new Error("Failed to create On Chain triggers")}finally{T(this,i,"m",g).call(this,!1)}}async enableMetamaskNotifications(){try{T(this,i,"m",g).call(this,!0),await T(this,i,"m",f).call(this),await this.createOnChainTriggers()}catch(e){throw P.default.error("Unable to enable notifications",e),new Error("Unable to enable notifications")}finally{T(this,i,"m",g).call(this,!1)}}async disableNotificationServices(){T(this,i,"m",g).call(this,!0);try{await T(this,a,"f").disablePushNotifications()}catch{}const e=this.state.metamaskNotificationsList.filter(e=>e.type===O.TRIGGER_TYPES.SNAP);this.update(t=>{t.isNotificationServicesEnabled=!1,t.isFeatureAnnouncementsEnabled=!1,t.metamaskNotificationsList=e}),T(this,i,"m",g).call(this,!1)}async disableAccounts(e){try{T(this,i,"m",x).call(this,e);const{bearerToken:t}=await T(this,i,"m",p).call(this);await(0,I.updateOnChainNotifications)(t,e.map(e=>({address:e,enabled:!1})),T(this,d,"f"))}catch(e){throw P.default.error("Failed to delete OnChain triggers",e),new Error("Failed to delete OnChain triggers")}finally{T(this,i,"m",w).call(this,e)}}async enableAccounts(e){try{T(this,i,"m",x).call(this,e);const{bearerToken:t}=await T(this,i,"m",p).call(this);await(0,I.updateOnChainNotifications)(t,e.map(e=>({address:e,enabled:!0})),T(this,d,"f"))}catch(e){throw P.default.error("Failed to update OnChain triggers",e),new Error("Failed to update OnChain triggers")}finally{T(this,i,"m",w).call(this,e)}}async fetchAndUpdateMetamaskNotifications(e){try{T(this,i,"m",b).call(this,!0);const t=this.state.isNotificationServicesEnabled,n=t&&this.state.isFeatureAnnouncementsEnabled?await(0,N.getFeatureAnnouncementNotifications)(T(this,l,"f"),e).catch(()=>[]):[],s=[];if(t)try{const{bearerToken:e}=await T(this,i,"m",p).call(this),{accounts:t}=T(this,o,"f").listAccounts(),n=(await(0,I.getNotificationsApiConfigCached)(e,t,T(this,d,"f"))).filter(e=>Boolean(e.enabled)).map(e=>e.address),r=await(0,I.getAPINotifications)(e,n,T(this,c,"f").call(this),T(this,l,"f").platform,T(this,d,"f")).catch(()=>[]);s.push(...r)}catch{}const r=this.state.metamaskNotificationsList.filter(e=>e.type===O.TRIGGER_TYPES.SNAP),a=this.state.metamaskNotificationsReadList,u=[...(0,A.processAndFilterNotifications)(n,a),...(0,A.processAndFilterNotifications)(s,a),...r];return u.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),this.update(e=>{e.metamaskNotificationsList=u}),this.messenger.publish(`${R}:notificationsListUpdated`,this.state.metamaskNotificationsList),T(this,i,"m",b).call(this,!1),u}catch(e){throw T(this,i,"m",b).call(this,!1),P.default.error("Failed to fetch notifications",e),new Error("Failed to fetch notifications")}}getNotificationsByType(e){return(0,C.assert)(Object.values(O.TRIGGER_TYPES).includes(e),"Invalid trigger type."),this.state.metamaskNotificationsList.filter(t=>t.type===e)}async deleteNotificationById(e){const t=this.state.metamaskNotificationsList.find(t=>t.id===e);(0,C.assert)(t,"The notification to be deleted does not exist."),(0,C.assert)(L.has(t.type),`The notification type of "${t.type}" is not locally persisted, only the following types can use this function: ${[...L].join(", ")}.`);const n=this.state.metamaskNotificationsList.filter(t=>t.id!==e);this.update(e=>{e.metamaskNotificationsList=n})}async deleteNotificationsById(e){for(const t of e)await this.deleteNotificationById(t);this.messenger.publish(`${R}:notificationsListUpdated`,this.state.metamaskNotificationsList)}async markMetamaskNotificationsAsRead(e){let t=[],n=[],i=[];try{const[s,a,o]=e.reduce((e,t)=>{if(!t.isRead)switch(t.type){case O.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT:e[1].push(t);break;case O.TRIGGER_TYPES.SNAP:e[2].push(t);break;default:e[0].push(t)}return e},[[],[],[]]);if(s.length>0){const e=await T(this,r,"f").getBearerToken();e&&(t=s.map(e=>e.id),await(0,I.markNotificationsAsRead)(e,t,T(this,d,"f")).catch(()=>{t=[],P.default.warn("Unable to mark onchain notifications as read")}))}a.length>0&&(n=a.map(e=>e.id)),o.length>0&&(i=o.map(e=>e.id))}catch(e){P.default.warn("Something failed when marking notifications as read",e)}this.update(e=>{const s=e.metamaskNotificationsReadList,r=[...n,...i];e.metamaskNotificationsReadList=[...new Set([...s,...r])],e.metamaskNotificationsList=e.metamaskNotificationsList.map(e=>r.includes(e.id)||t.includes(e.id)?e.type===O.TRIGGER_TYPES.SNAP?{...e,isRead:!0,readDate:(new Date).toISOString()}:{...e,isRead:!0}:e)}),this.messenger.publish(`${R}:markNotificationsAsRead`,this.state.metamaskNotificationsList)}async updateMetamaskNotificationsList(e){if(this.state.metamaskNotificationsList.some(t=>t.id===e.id))return;const t=(0,A.safeProcessNotification)(e);t&&(this.update(e=>{new Set(e.metamaskNotificationsList.map(e=>e.id)).has(t.id)||(e.metamaskNotificationsList=[t,...e.metamaskNotificationsList])}),this.messenger.publish(`${R}:notificationsListUpdated`,this.state.metamaskNotificationsList))}async sendPerpPlaceOrderNotification(e){try{const{bearerToken:t}=await T(this,i,"m",p).call(this);await(0,j.createPerpOrderNotification)(t,e)}catch{}}}s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,i=new WeakSet,u=function(){this.messenger.registerActionHandler(`${R}:updateMetamaskNotificationsList`,this.updateMetamaskNotificationsList.bind(this)),this.messenger.registerActionHandler(`${R}:disableNotificationServices`,this.disableNotificationServices.bind(this)),this.messenger.registerActionHandler(`${R}:getNotificationsByType`,this.getNotificationsByType.bind(this)),this.messenger.registerActionHandler(`${R}:deleteNotificationsById`,this.deleteNotificationsById.bind(this))},h=function(){this.update(e=>{e.isUpdatingMetamaskNotifications=!1,e.isCheckingAccountsPresence=!1,e.isFetchingMetamaskNotifications=!1,e.isUpdatingMetamaskNotificationsAccount=[]})},m=function(){if(!T(this,r,"f").isSignedIn())throw this.update(e=>{e.isNotificationServicesEnabled=!1}),new Error("User is not signed in.")},f=async function(){T(this,r,"f").isSignedIn()||await T(this,r,"f").signIn()},p=async function(){T(this,i,"m",m).call(this);const e=await T(this,r,"f").getBearerToken();if(!e)throw new Error("Missing BearerToken");return{bearerToken:e}},g=function(e){this.update(t=>{t.isUpdatingMetamaskNotifications=e})},b=function(e){this.update(t=>{t.isFetchingMetamaskNotifications=e})},y=function(e){this.update(t=>{t.isCheckingAccountsPresence=e})},x=function(e){this.update(t=>{const n=new Set([...t.isUpdatingMetamaskNotificationsAccount,...e]);t.isUpdatingMetamaskNotificationsAccount=Array.from(n)})},w=function(e){this.update(t=>{t.isUpdatingMetamaskNotificationsAccount=t.isUpdatingMetamaskNotificationsAccount.filter(t=>!e.includes(t))})},n.default=D}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/NotificationServicesController.cjs"}],[236,{"../../../../shared/modules/selectors/networks":5934,"@metamask/chain-agnostic-permission":1420,"@metamask/permission-controller":2443,"@metamask/snaps-utils":2903,"@metamask/utils":3116,nanoid:5037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionBackgroundApiMethods=function({permissionController:e,approvalController:t,accountsController:n,networkController:l,multichainNetworkController:d}){const u=t=>{let n;try{n=e.getCaveat(t,r.Caip25EndowmentPermissionName,r.Caip25CaveatType)}catch(e){if(!(e instanceof s.PermissionDoesNotExistError))throw e}return n},h=(t,i)=>{const s=u(t);if(!s)throw new Error(`Cannot set account permissions "${i.join(", ")}" for origin "${t}": no permission currently exists for this origin.`);if(0===i.length)return void e.revokePermission(t,r.Caip25EndowmentPermissionName);let a=[...(0,r.getAllScopesFromCaip25CaveatValue)(s.value)];const h=Object.keys((0,c.getNetworkConfigurationsByCaipChainId)({networkConfigurationsByChainId:l.state.networkConfigurationsByChainId,multichainNetworkConfigurationsByChainId:d.state.multichainNetworkConfigurationsByChainId,internalAccounts:n.state.internalAccounts}));i.forEach(e=>{const{chain:{namespace:t}}=(0,o.parseCaipAccountId)(e);if(!a.some(e=>{try{const{namespace:n}=(0,o.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=h.filter(e=>{try{const{namespace:n}=(0,o.parseCaipChainId)(e);return t===n}catch(e){return!1}});a=[...a,...e]}});const m=(0,r.setChainIdsInCaip25CaveatValue)(s.value,a),f=(0,r.setNonSCACaipAccountIdsInCaip25CaveatValue)(m,i);e.updateCaveat(t,r.Caip25EndowmentPermissionName,r.Caip25CaveatType,f)},m=(t,n)=>{const i=u(t);if(!i)throw new Error(`Cannot set permission for chainIds "${n.join(", ")}": No permissions exist for origin "${t}".`);if(0!==n.length||(0,a.isSnapId)(t)){const s=(0,r.setChainIdsInCaip25CaveatValue)(i.value,n),a=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(i.value),o=(0,r.setNonSCACaipAccountIdsInCaip25CaveatValue)(s,a);e.updateCaveat(t,r.Caip25EndowmentPermissionName,r.Caip25CaveatType,o)}else e.revokePermission(t,r.Caip25EndowmentPermissionName)},f=(e,t)=>{const i=u(e);if(!i)throw new Error(`Cannot add account permissions for origin "${e}": no permission currently exists for this origin.`);const s=t.map(e=>n.getAccountByAddress(e)).map(e=>`${e.scopes[0]}:${e.address}`),a=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(i.value),o=Array.from(new Set([...a,...s]));h(e,o)},p=(e,t)=>{const n=u(e);if(!n)throw new Error(`Cannot add chain permissions for origin "${e}": no permission currently exists for this origin.`);const i=(0,r.getAllScopesFromCaip25CaveatValue)(n.value),s=Array.from(new Set([...i,...t]));m(e,s)};return{addPermittedAccount:(e,t)=>f(e,[t]),addPermittedAccounts:(e,t)=>f(e,t),removePermittedAccount:(e,t)=>{const i=u(e);if(!i)throw new Error(`Cannot remove account "${t}": No permissions exist for origin "${e}".`);const s=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(i.value),a=n.getAccountByAddress(t),o=s.filter(e=>!(0,r.isInternalAccountInPermittedAccountIds)(a,[e]));s.length!==o.length&&h(e,o)},setPermittedAccounts:h,addPermittedChain:(e,t)=>p(e,[t]),addPermittedChains:(e,t)=>p(e,t),removePermittedChain:(e,t)=>{const n=u(e);if(!n)throw new Error(`Cannot remove permission for chainId "${t}": No permissions exist for origin "${e}".`);const i=(0,r.getAllScopesFromCaip25CaveatValue)(n.value),s=i.filter(e=>e!==t);i.length!==s.length&&m(e,s)},setPermittedChains:m,requestAccountsAndChainPermissionsWithId:n=>{const a=(0,i.nanoid)();return(async(n,i)=>{const{permissions:a}=await t.addAndShowApprovalRequest({id:i,origin:n,requestData:{metadata:{id:i,origin:n},permissions:{[r.Caip25EndowmentPermissionName]:{caveats:[{type:r.Caip25CaveatType,value:{requiredScopes:{},optionalScopes:{},isMultichainOrigin:!1}}]}}},type:s.MethodNames.RequestPermissions});e.grantPermissions({subject:{origin:n},approvedPermissions:a})})(n,a),a}}};var i=e("nanoid"),s=e("@metamask/permission-controller"),r=e("@metamask/chain-agnostic-permission"),a=e("@metamask/snaps-utils"),o=e("@metamask/utils"),c=e("../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[2360,{"./notification-schema.cjs":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./notification-schema.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/index.cjs"}],[2361,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_CHAINS_ID=n.NOTIFICATION_API_TRIGGER_TYPES_SET=n.TRIGGER_TYPES=void 0,function(e){e.FEATURES_ANNOUNCEMENT="features_announcement",e.METAMASK_SWAP_COMPLETED="metamask_swap_completed",e.ERC20_SENT="erc20_sent",e.ERC20_RECEIVED="erc20_received",e.ETH_SENT="eth_sent",e.ETH_RECEIVED="eth_received",e.ROCKETPOOL_STAKE_COMPLETED="rocketpool_stake_completed",e.ROCKETPOOL_UNSTAKE_COMPLETED="rocketpool_unstake_completed",e.LIDO_STAKE_COMPLETED="lido_stake_completed",e.LIDO_WITHDRAWAL_REQUESTED="lido_withdrawal_requested",e.LIDO_WITHDRAWAL_COMPLETED="lido_withdrawal_completed",e.LIDO_STAKE_READY_TO_BE_WITHDRAWN="lido_stake_ready_to_be_withdrawn",e.ERC721_SENT="erc721_sent",e.ERC721_RECEIVED="erc721_received",e.ERC1155_SENT="erc1155_sent",e.ERC1155_RECEIVED="erc1155_received",e.SNAP="snap",e.PLATFORM="platform"}(i||(n.TRIGGER_TYPES=i={})),n.NOTIFICATION_API_TRIGGER_TYPES_SET=new Set([i.METAMASK_SWAP_COMPLETED,i.ERC20_SENT,i.ERC20_RECEIVED,i.ETH_SENT,i.ETH_RECEIVED,i.ROCKETPOOL_STAKE_COMPLETED,i.ROCKETPOOL_UNSTAKE_COMPLETED,i.LIDO_STAKE_COMPLETED,i.LIDO_WITHDRAWAL_REQUESTED,i.LIDO_WITHDRAWAL_COMPLETED,i.LIDO_STAKE_READY_TO_BE_WITHDRAWN,i.ERC721_SENT,i.ERC721_RECEIVED,i.ERC1155_SENT,i.ERC1155_RECEIVED,i.PLATFORM]),n.NOTIFICATION_CHAINS_ID={ETHEREUM:"1",OPTIMISM:"10",BSC:"56",BASE:"8453",POLYGON:"137",ARBITRUM:"42161",AVALANCHE:"43114",LINEA:"59144",SEI:"1329"}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/constants/notification-schema.cjs"}],[2362,{"../shared/index.cjs":2394,"./NotificationServicesController.cjs":2359,"./constants/index.cjs":2360,"./mocks/index.cjs":2363,"./processors/index.cjs":2368,"./ui/index.cjs":2378,"./utils/isVersionInBounds.cjs":2379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.isVersionInBounds=n.UI=n.Mocks=n.Constants=n.Processors=n.Controller=void 0;const c=o(e("./NotificationServicesController.cjs"));n.Controller=c.default;const l=c.default;n.default=l,r(e("./NotificationServicesController.cjs"),n),n.Processors=a(e("./processors/index.cjs")),r(e("./processors/index.cjs"),n),n.Constants=a(e("./constants/index.cjs")),r(e("./constants/index.cjs"),n),n.Mocks=a(e("./mocks/index.cjs")),n.UI=a(e("./ui/index.cjs")),r(e("../shared/index.cjs"),n);var d=e("./utils/isVersionInBounds.cjs");Object.defineProperty(n,"isVersionInBounds",{enumerable:!0,get:function(){return d.isVersionInBounds}})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/index.cjs"}],[2363,{"./mock-feature-announcements.cjs":2364,"./mock-raw-notifications.cjs":2365,"./mock-snap-notification.cjs":2366,"./mockResponses.cjs":2367},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./mock-feature-announcements.cjs"),n),s(e("./mock-raw-notifications.cjs"),n),s(e("./mockResponses.cjs"),n),s(e("./mock-snap-notification.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/index.cjs"}],[2364,{"../constants/notification-schema.cjs":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockFeatureAnnouncementRaw=n.createMockFeatureAnnouncementAPIResult=void 0;const i=e("../constants/notification-schema.cjs");n.createMockFeatureAnnouncementAPIResult=function(){return{sys:{type:"Array"},total:17,skip:0,limit:1,items:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"1ABRmHaNCgmxROKXXLXsMu",type:"Entry",createdAt:"2024-04-09T13:24:01.872Z",updatedAt:"2024-04-09T13:24:01.872Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,contentType:{sys:{type:"Link",linkType:"ContentType",id:"productAnnouncement"}},locale:"en-US"},fields:{title:"Don’t miss out on airdrops and new NFT mints!",id:"dont-miss-out-on-airdrops-and-new-nft-mints",category:"ANNOUNCEMENT",shortDescription:"Check your airdrop eligibility and see trending NFT drops. Head over to the Explore tab to get started. ",image:{sys:{type:"Link",linkType:"Asset",id:"5jqq8sFeLc6XEoeWlpI3aB"}},longDescription:{data:{},content:[{data:{},content:[{data:{},marks:[],value:"You can now verify if any of your connected addresses are eligible for airdrops and other ERC-20 claims in a secure and convenient way. We’ve also added trending NFT mints based on creators you’ve minted from before or other tokens you hold. Head over to the Explore tab to get started. \n",nodeType:"text"}],nodeType:"paragraph"}],nodeType:"document"},link:{sys:{type:"Link",linkType:"Entry",id:"62xKYM2ydo4F1mS5q97K5q"}}}}],includes:{Entry:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"62xKYM2ydo4F1mS5q97K5q",type:"Entry",createdAt:"2024-04-09T13:23:03.636Z",updatedAt:"2024-04-09T13:23:03.636Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,contentType:{sys:{type:"Link",linkType:"ContentType",id:"link"}},locale:"en-US"},fields:{extensionLinkText:"Try now",extensionLinkRoute:"home.html"}}],Asset:[{metadata:{tags:[]},sys:{space:{sys:{type:"Link",linkType:"Space",id:"jdkgyfmyd9sw"}},id:"5jqq8sFeLc6XEoeWlpI3aB",type:"Asset",createdAt:"2024-04-09T13:23:13.327Z",updatedAt:"2024-04-09T13:23:13.327Z",environment:{sys:{id:"master",type:"Link",linkType:"Environment"}},revision:1,locale:"en-US"},fields:{title:"PDAPP notification image Airdrops & NFT mints",description:"",file:{url:"//images.ctfassets.net/jdkgyfmyd9sw/5jqq8sFeLc6XEoeWlpI3aB/73ee0f1afa9916c3a7538b0bbee09c26/PDAPP_notification_image_Airdrops___NFT_mints.png",details:{size:797731,image:{width:2880,height:1921}},fileName:"PDAPP notification image_Airdrops & NFT mints.png",contentType:"image/png"}}}]}}},n.createMockFeatureAnnouncementRaw=function(){return{type:i.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT,createdAt:"2999-04-09T13:24:01.872Z",data:{id:"dont-miss-out-on-airdrops-and-new-nft-mints",category:"ANNOUNCEMENT",title:"Don’t miss out on airdrops and new NFT mints!",longDescription:"<p>You can now verify if any of your connected addresses are eligible for airdrops and other ERC-20 claims in a secure and convenient way. We’ve also added trending NFT mints based on creators you’ve minted from before or other tokens you hold. Head over to the Explore tab to get started.</p>",shortDescription:"Check your airdrop eligibility and see trending NFT drops. Head over to the Explore tab to get started.",image:{title:"PDAPP notification image Airdrops & NFT mints",description:"",url:"//images.ctfassets.net/jdkgyfmyd9sw/5jqq8sFeLc6XEoeWlpI3aB/73ee0f1afa9916c3a7538b0bbee09c26/PDAPP_notification_image_Airdrops___NFT_mints.png"},extensionLink:{extensionLinkText:"Try now",extensionLinkRoute:"home.html"}}}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-feature-announcements.cjs"}],[2365,{"../constants/notification-schema.cjs":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockRawOnChainNotifications=n.createMockPlatformNotification=n.createMockNotificationLidoReadyToBeWithdrawn=n.createMockNotificationLidoWithdrawalCompleted=n.createMockNotificationLidoWithdrawalRequested=n.createMockNotificationLidoStakeCompleted=n.createMockNotificationRocketPoolUnStakeCompleted=n.createMockNotificationRocketPoolStakeCompleted=n.createMockNotificationMetaMaskSwapsCompleted=n.createMockNotificationERC1155Received=n.createMockNotificationERC1155Sent=n.createMockNotificationERC721Received=n.createMockNotificationERC721Sent=n.createMockNotificationERC20Received=n.createMockNotificationERC20Sent=n.createMockNotificationEthReceived=n.createMockNotificationEthSent=void 0;const i=e("../constants/notification-schema.cjs");function s(){return{type:i.TRIGGER_TYPES.ETH_SENT,notification_type:"on-chain",id:"3fa85f64-5717-4562-b3fc-2c963f66afa7",unread:!0,created_at:"2022-03-01T00:00:00Z",payload:{chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"eth_sent",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},from:"0x881D40237659C251811CEC9c364ef91dC08D300C",to:"0x881D40237659C251811CEC9c364ef91dC08D300D",amount:{usd:"670.64",eth:"0.005"}}}}}n.createMockNotificationEthSent=s,n.createMockNotificationEthReceived=function(){return{type:i.TRIGGER_TYPES.ETH_RECEIVED,notification_type:"on-chain",id:"3fa85f64-5717-4562-b3fc-2c963f66afa8",unread:!0,created_at:"2022-03-01T00:00:00Z",payload:{chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"eth_received",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},from:"0x881D40237659C251811CEC9c364ef91dC08D300C",to:"0x881D40237659C251811CEC9c364ef91dC08D300D",amount:{usd:"670.64",eth:"808.000000000000000000"}}}}},n.createMockNotificationERC20Sent=function(){return{type:i.TRIGGER_TYPES.ERC20_SENT,notification_type:"on-chain",id:"3fa85f64-5717-4562-b3fc-2c963f66afa9",unread:!0,created_at:"2022-03-01T00:00:00Z",payload:{chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"erc20_sent",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},to:"0xecc19e177d24551aa7ed6bc6fe566eca726cc8a9",from:"0x1231deb6f5749ef6ce6943a275a1d3e7486f4eae",token:{usd:"1.00",name:"USDC",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/usdc.svg",amount:"4956250000",symbol:"USDC",address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",decimals:"6"}}}}},n.createMockNotificationERC20Received=function(){return{type:i.TRIGGER_TYPES.ERC20_RECEIVED,notification_type:"on-chain",id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",unread:!0,created_at:"2022-03-01T00:00:00Z",payload:{chain_id:1,block_number:17485840,block_timestamp:"2022-03-01T00:00:00Z",tx_hash:"0xb2256b183f2fb3872f99294ab55fb03e6a479b0d4aca556a3b27568b712505a6",address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"erc20_received",network_fee:{gas_price:"207806259583",native_token_price_in_usd:"0.83"},to:"0xeae7380dd4cef6fbd1144f49e4d1e6964258a4f4",from:"0x51c72848c68a965f66fa7a88855f9f7784502a7f",token:{usd:"0.00",name:"SHIBA INU",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/shib.svg",amount:"8382798736999999457296646144",symbol:"SHIB",address:"0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce",decimals:"18"}}}}},n.createMockNotificationERC721Sent=function(){return{type:i.TRIGGER_TYPES.ERC721_SENT,notification_type:"on-chain",id:"a4193058-9814-537e-9df4-79dcac727fb6",created_at:"2023-11-15T11:08:17.895407Z",unread:!0,payload:{block_number:18576643,block_timestamp:"1700043467",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0xf47f628fe3bd2595e9ab384bfffc3859b448e451",nft:{name:"Captainz #8680",image:"https://i.seadn.io/s/raw/files/ae0fc06714ff7fb40217340d8a242c0e.gif?w=500&auto=format",token_id:"8680",collection:{name:"The Captainz",image:"https://i.seadn.io/gcs/files/6df4d75778066bce740050615bc84e21.png?w=500&auto=format",symbol:"Captainz",address:"0x769272677fab02575e84945f03eca517acc544cc"}},from:"0x24a0bb54b7e7a8e406e9b28058a9fd6c49e6df4f",kind:"erc721_sent",network_fee:{gas_price:"24550653274",native_token_price_in_usd:"1986.61"}},tx_hash:"0x0833c69fb41cf972a0f031fceca242939bc3fcf82b964b74606649abcad371bd"}}},n.createMockNotificationERC721Received=function(){return{type:i.TRIGGER_TYPES.ERC721_RECEIVED,notification_type:"on-chain",id:"00a79d24-befa-57ed-a55a-9eb8696e1654",created_at:"2023-11-14T17:40:52.319281Z",unread:!0,payload:{block_number:18571446,block_timestamp:"1699980623",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0xba7f3daa8adfdad686574406ab9bd5d2f0a49d2e",nft:{name:"The Plague #2722",image:"https://i.seadn.io/s/raw/files/a96f90ec8ebf55a2300c66a0c46d6a16.png?w=500&auto=format",token_id:"2722",collection:{name:"The Plague NFT",image:"https://i.seadn.io/gcs/files/4577987a5ca45ca5118b2e31559ee4d1.jpg?w=500&auto=format",symbol:"FROG",address:"0xc379e535caff250a01caa6c3724ed1359fe5c29b"}},from:"0x24a0bb54b7e7a8e406e9b28058a9fd6c49e6df4f",kind:"erc721_received",network_fee:{gas_price:"53701898538",native_token_price_in_usd:"2047.01"}},tx_hash:"0xe554c9e29e6eeca8ba94da4d047334ba08b8eb9ca3b801dd69cec08dfdd4ae43"}}},n.createMockNotificationERC1155Sent=function(){return{type:i.TRIGGER_TYPES.ERC1155_SENT,notification_type:"on-chain",id:"a09ff9d1-623a-52ab-a3d4-c7c8c9a58362",created_at:"2023-11-20T20:44:10.110706Z",unread:!0,payload:{block_number:18615206,block_timestamp:"1700510003",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0x15bd77ccacf2da39b84f0c31fee2e451225bb190",nft:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gcs/files/79a77cb37c7b2f1069f752645d29fea7.jpg?w=500&auto=format",token_id:"1",collection:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gae/LTKz3om2eCQfn3M6PkqEmY7KhLtdMCOm0QVch2318KJq7-KyToCH7NBTMo4UuJ0AZI-oaBh1HcgrAEIEWYbXY3uMcYpuGXunaXEh?w=500&auto=format",symbol:"TRUTH",address:"0xe25f0fe686477f9df3c2876c4902d3b85f75f33a"}},from:"0x0000000000000000000000000000000000000000",kind:"erc1155_sent",network_fee:{gas_price:"33571446596",native_token_price_in_usd:"2038.88"}},tx_hash:"0x03381aba290facbaf71c123e263c8dc3dd550aac00ef589cce395182eaeff76f"}}},n.createMockNotificationERC1155Received=function(){return{type:i.TRIGGER_TYPES.ERC1155_RECEIVED,notification_type:"on-chain",id:"b6b93c84-e8dc-54ed-9396-7ea50474843a",created_at:"2023-11-20T20:44:10.110706Z",unread:!0,payload:{block_number:18615206,block_timestamp:"1700510003",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{to:"0x15bd77ccacf2da39b84f0c31fee2e451225bb190",nft:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gcs/files/79a77cb37c7b2f1069f752645d29fea7.jpg?w=500&auto=format",token_id:"1",collection:{name:"IlluminatiNFT DAO",image:"https://i.seadn.io/gae/LTKz3om2eCQfn3M6PkqEmY7KhLtdMCOm0QVch2318KJq7-KyToCH7NBTMo4UuJ0AZI-oaBh1HcgrAEIEWYbXY3uMcYpuGXunaXEh?w=500&auto=format",symbol:"TRUTH",address:"0xe25f0fe686477f9df3c2876c4902d3b85f75f33a"}},from:"0x0000000000000000000000000000000000000000",kind:"erc1155_received",network_fee:{gas_price:"33571446596",native_token_price_in_usd:"2038.88"}},tx_hash:"0x03381aba290facbaf71c123e263c8dc3dd550aac00ef589cce395182eaeff76f"}}},n.createMockNotificationMetaMaskSwapsCompleted=function(){return{type:i.TRIGGER_TYPES.METAMASK_SWAP_COMPLETED,notification_type:"on-chain",id:"7ddfe6a1-ac52-5ffe-aa40-f04242db4b8b",created_at:"2023-10-18T13:58:49.854596Z",unread:!0,payload:{block_number:18377666,block_timestamp:"1697637275",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"metamask_swap_completed",rate:"1558.27",token_in:{usd:"1576.73",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"9000000000000000",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},token_out:{usd:"1.00",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/usdt.svg",amount:"14024419",symbol:"USDT",address:"0xdac17f958d2ee523a2206206994597c13d831ec7",decimals:"6",name:"USDT"},network_fee:{gas_price:"15406129273",native_token_price_in_usd:"1576.73"}},tx_hash:"0xf69074290f3aa11bce567aabc9ca0df7a12559dfae1b80ba1a124e9dfe19ecc5"}}},n.createMockNotificationRocketPoolStakeCompleted=function(){return{type:i.TRIGGER_TYPES.ROCKETPOOL_STAKE_COMPLETED,notification_type:"on-chain",id:"c2a2f225-b2fb-5d6c-ba56-e27a5c71ffb9",created_at:"2023-11-20T12:02:48.796824Z",unread:!0,payload:{block_number:18585057,block_timestamp:"1700145059",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"rocketpool_stake_completed",stake_in:{usd:"2031.86",name:"Ethereum",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"190690478063438272",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18"},stake_out:{usd:"2226.49",name:"Rocket Pool ETH",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/rETH.svg",amount:"175024360778165879",symbol:"RETH",address:"0xae78736Cd615f374D3085123A210448E74Fc6393",decimals:"18"},network_fee:{gas_price:"36000000000",native_token_price_in_usd:"2031.86"}},tx_hash:"0xcfc0693bf47995907b0f46ef0644cf16dd9a0de797099b2e00fd481e1b2117d3"}}},n.createMockNotificationRocketPoolUnStakeCompleted=function(){return{type:i.TRIGGER_TYPES.ROCKETPOOL_UNSTAKE_COMPLETED,notification_type:"on-chain",id:"291ec897-f569-4837-b6c0-21001b198dff",created_at:"2023-10-19T13:11:10.623042Z",unread:!0,payload:{block_number:18384336,block_timestamp:"1697718011",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"rocketpool_unstake_completed",stake_in:{usd:"1686.34",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/rETH.svg",amount:"66608041413696770",symbol:"RETH",address:"0xae78736Cd615f374D3085123A210448E74Fc6393",decimals:"18",name:"Rocketpool Eth"},stake_out:{usd:"1553.75",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"72387843427700824",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"5656322987",native_token_price_in_usd:"1553.75"}},tx_hash:"0xc7972a7e409abfc62590ec90e633acd70b9b74e76ad02305be8bf133a0e22d5f"}}},n.createMockNotificationLidoStakeCompleted=function(){return{type:i.TRIGGER_TYPES.LIDO_STAKE_COMPLETED,notification_type:"on-chain",id:"ec10d66a-f78f-461f-83c9-609aada8cc50",created_at:"2023-11-02T22:28:49.970865Z",unread:!0,payload:{block_number:18487118,block_timestamp:"1698961091",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_stake_completed",stake_in:{usd:"1806.33",name:"Ethereum",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"330303634023928032",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18"},stake_out:{usd:"1801.30",name:"Liquid staked Ether 2.0",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"330303634023928032",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18"},network_fee:{gas_price:"26536359866",native_token_price_in_usd:"1806.33"}},tx_hash:"0x8cc0fa805f7c3b1743b14f3b91c6b824113b094f26d4ccaf6a71ad8547ce6a0f"}}},n.createMockNotificationLidoWithdrawalRequested=function(){return{type:i.TRIGGER_TYPES.LIDO_WITHDRAWAL_REQUESTED,notification_type:"on-chain",id:"ef003925-3379-4ba7-9e2d-8218690cadc9",created_at:"2023-10-18T15:04:02.482526Z",unread:!0,payload:{block_number:18377760,block_timestamp:"1697638415",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_withdrawal_requested",stake_in:{usd:"1568.54",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"97180668792218669859",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18",name:"Staked Eth"},stake_out:{usd:"1576.73",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"97180668792218669859",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"11658906980",native_token_price_in_usd:"1576.73"}},tx_hash:"0x58b5f82e084cb750ea174e02b20fbdfd2ba8d78053deac787f34fc38e5d427aa"}}},n.createMockNotificationLidoWithdrawalCompleted=function(){return{type:i.TRIGGER_TYPES.LIDO_WITHDRAWAL_COMPLETED,notification_type:"on-chain",id:"d73df14d-ce73-4f38-bad3-ab028154042f",created_at:"2023-10-18T16:35:03.147606Z",unread:!0,payload:{block_number:18378208,block_timestamp:"1697643851",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_withdrawal_completed",stake_in:{usd:"1570.23",image:"https://raw.githubusercontent.com/MetaMask/contract-metadata/master/images/stETH.svg",amount:"35081997661451346",symbol:"STETH",address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",decimals:"18",name:"Staked Eth"},stake_out:{usd:"1571.74",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",amount:"35081997661451346",symbol:"ETH",address:"0x0000000000000000000000000000000000000000",decimals:"18",name:"Ethereum"},network_fee:{gas_price:"12699495150",native_token_price_in_usd:"1571.74"}},tx_hash:"0xe6d210d2e601ef3dd1075c48e71452cf35f2daae3886911e964e3babad8ac657"}}},n.createMockNotificationLidoReadyToBeWithdrawn=function(){return{type:i.TRIGGER_TYPES.LIDO_STAKE_READY_TO_BE_WITHDRAWN,notification_type:"on-chain",id:"d73df14d-ce73-4f38-bad3-ab028154042e",created_at:"2023-10-18T16:35:03.147606Z",unread:!0,payload:{block_number:18378208,block_timestamp:"1697643851",chain_id:1,address:"0x881D40237659C251811CEC9c364ef91dC08D300C",data:{kind:"lido_stake_ready_to_be_withdrawn",request_id:"123456789",staked_eth:{address:"0x881D40237659C251811CEC9c364ef91dC08D300F",symbol:"ETH",name:"Ethereum",amount:"2.5",decimals:"18",image:"https://token.api.cx.metamask.io/assets/nativeCurrencyLogos/ethereum.svg",usd:"10000.00"}},tx_hash:"0xe6d210d2e601ef3dd1075c48e71452cf35f2daae3886911e964e3babad8ac657"}}},n.createMockPlatformNotification=function(){return{type:i.TRIGGER_TYPES.PLATFORM,notification_type:"platform",id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",unread:!0,created_at:"2025-10-09T09:45:34.202Z",template:{image_url:"https://images.ctfassets.net/clixtyxoaeas/4rnpEzy1ATWRKVBOLxZ1Fm/a74dc1eed36d23d7ea6030383a4d5163/MetaMask-icon-fox.svg",title:"This is a Platform Notification!",body:"Teams can now build out their own notifications, and add an optional CTA (like this one below).",cta:{content:"Get Started",link:"https://metamask.io/get-started"}}}},n.createMockRawOnChainNotifications=function(){return[1,2,3].map(e=>{const t=s();return t.id+=`-${e}`,t})}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-raw-notifications.cjs"}],[2366,{"../constants/index.cjs":2360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createMockSnapNotification=void 0;const i=e("../constants/index.cjs");n.createMockSnapNotification=function(){return{type:i.TRIGGER_TYPES.SNAP,readDate:null,data:{message:"fooBar",origin:"@metamask/example-snap",detailedView:{title:"Detailed View",interfaceId:"1",footerLink:{text:"Go Home",href:"metamask://client/"}}}}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mock-snap-notification.cjs"}],[2367,{"../services/api-notifications.cjs":2373,"../services/feature-announcements.cjs":2374,"../services/perp-notifications.cjs":2376,"./mock-feature-announcements.cjs":2364,"./mock-raw-notifications.cjs":2365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockCreatePerpOrderNotification=n.getMockMarkNotificationsAsReadResponse=n.getMockListNotificationsResponse=n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS=n.getMockOnChainNotificationsConfig=n.getMockUpdateOnChainNotifications=n.getMockFeatureAnnouncementResponse=n.CONTENTFUL_RESPONSE=void 0;const i=e("./mock-feature-announcements.cjs"),s=e("./mock-raw-notifications.cjs"),r=e("../services/api-notifications.cjs"),a=e("../services/feature-announcements.cjs"),o=e("../services/perp-notifications.cjs");n.CONTENTFUL_RESPONSE=(0,i.createMockFeatureAnnouncementAPIResult)();n.getMockFeatureAnnouncementResponse=()=>({url:a.FEATURE_ANNOUNCEMENT_API,requestMethod:"GET",response:n.CONTENTFUL_RESPONSE});n.getMockUpdateOnChainNotifications=()=>({url:(0,r.TRIGGER_API_NOTIFICATIONS_ENDPOINT)(),requestMethod:"POST",response:null});n.getMockOnChainNotificationsConfig=()=>({url:(0,r.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT)(),requestMethod:"POST",response:[{address:"0xTestAddress",enabled:!0}]}),n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS=(0,s.createMockRawOnChainNotifications)();n.getMockListNotificationsResponse=()=>({url:(0,r.NOTIFICATION_API_LIST_ENDPOINT)(),requestMethod:"POST",response:n.MOCK_RAW_ON_CHAIN_NOTIFICATIONS});n.getMockMarkNotificationsAsReadResponse=()=>({url:(0,r.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT)(),requestMethod:"POST",response:null});n.getMockCreatePerpOrderNotification=()=>({url:o.PERPS_API_CREATE_ORDERS,requestMethod:"POST",response:null})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/mocks/mockResponses.cjs"}],[2368,{"./process-api-notifications.cjs":2369,"./process-feature-announcement.cjs":2370,"./process-notifications.cjs":2371},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./process-feature-announcement.cjs"),n),s(e("./process-notifications.cjs"),n),s(e("./process-api-notifications.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/index.cjs"}],[2369,{"../utils/should-auto-expire.cjs":2380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processAPINotifications=void 0;const i=e("../utils/should-auto-expire.cjs");n.processAPINotifications=function(e){const t=new Date(e.created_at),n=(0,i.shouldAutoExpire)(t);return{...e,id:e.id,createdAt:t.toISOString(),isRead:n||!e.unread}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-api-notifications.cjs"}],[237,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRemovedAuthorizations=n.getChangedAuthorizations=n.diffMap=void 0;n.diffMap=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const i=new Set([...e.keys()]);for(const s of t.keys()){const r=e.get(s)??[];r!==t.get(s)&&n.set(s,r),i.delete(s)}for(const t of i.keys())n.set(t,e.get(t));return n};n.getChangedAuthorizations=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const i=new Set([...e.keys()]);for(const s of t.keys()){const r=e.get(s)??{requiredScopes:{},optionalScopes:{}};t.get(s)!==r&&n.set(s,{requiredScopes:r.requiredScopes,optionalScopes:r.optionalScopes}),i.delete(s)}for(const t of i.keys())n.set(t,e.get(t));return n};n.getRemovedAuthorizations=(e,t)=>{const n=new Map;if(t===undefined||e===t)return n;for(const[i,s]of t.entries()){const t=e.get(i);if(!t){n.set(i,s);continue}const r={};Object.entries(s.requiredScopes).forEach(([e,n])=>{t.requiredScopes[e]||(r[e]=n)});const a={};Object.entries(s.optionalScopes).forEach(([e,n])=>{t.optionalScopes[e]||(a[e]=n)}),(Object.keys(r).length>0||Object.keys(a).length>0)&&n.set(i,{requiredScopes:r,optionalScopes:a})}return n}}}},{package:"$root$",file:"app/scripts/controllers/permissions/differs.ts"}],[2370,{"../utils/should-auto-expire.cjs":2380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processFeatureAnnouncement=n.isFeatureAnnouncementRead=void 0;const i=e("../utils/should-auto-expire.cjs");n.isFeatureAnnouncementRead=function(e,t){return!!t.includes(e.id)||(0,i.shouldAutoExpire)(new Date(e.createdAt))},n.processFeatureAnnouncement=function(e){return{type:e.type,id:e.data.id,createdAt:new Date(e.createdAt).toISOString(),data:e.data,isRead:!1}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-feature-announcement.cjs"}],[2371,{"../constants/notification-schema.cjs":2361,"./process-api-notifications.cjs":2369,"./process-feature-announcement.cjs":2370,"./process-snap-notifications.cjs":2372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processAndFilterNotifications=n.safeProcessNotification=n.processNotification=void 0;const i=e("./process-api-notifications.cjs"),s=e("./process-feature-announcement.cjs"),r=e("./process-snap-notifications.cjs"),a=e("../constants/notification-schema.cjs");function o(e,t=[]){if(e.type===a.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT){const n=(0,s.processFeatureAnnouncement)(e);return n.isRead=(0,s.isFeatureAnnouncementRead)(n,t),n}return(e=>e.type===a.TRIGGER_TYPES.SNAP)(e)?(0,r.processSnapNotification)(e):(e=>a.NOTIFICATION_API_TRIGGER_TYPES_SET.has(e.type))(e)?(0,i.processAPINotifications)(e):(()=>{const t=e?.type;throw new Error(`No processor found for notification kind ${t}`)})()}function c(e,t=[]){try{return o(e,t)}catch{return undefined}}n.processNotification=o,n.safeProcessNotification=c;const l=e=>Boolean(e);n.processAndFilterNotifications=(e,t)=>e.map(e=>c(e,t)).filter(l)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-notifications.cjs"}],[2372,{uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.processSnapNotification=void 0;const i=e("uuid");n.processSnapNotification=e=>{const{data:t,type:n,readDate:s}=e;return{id:(0,i.v4)(),readDate:s,createdAt:(new Date).toISOString(),isRead:!1,type:n,data:t}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/processors/process-snap-notifications.cjs"}],[2373,{"../../shared/to-raw-notification.cjs":2396,"../utils/utils.cjs":2381,"./notification-config-cache.cjs":2375,loglevel:4846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.markNotificationsAsRead=n.getAPINotifications=n.updateOnChainNotifications=n.getNotificationsApiConfigCached=n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT=n.NOTIFICATION_API_LIST_ENDPOINT=n.TRIGGER_API_NOTIFICATIONS_ENDPOINT=n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT=n.NOTIFICATION_API=n.TRIGGER_API=void 0;const s=i(e("loglevel")),r=e("./notification-config-cache.cjs"),a=e("../../shared/to-raw-notification.cjs"),o=e("../utils/utils.cjs"),c={dev:"https://trigger.dev-api.cx.metamask.io",uat:"https://trigger.uat-api.cx.metamask.io",prd:"https://trigger.api.cx.metamask.io"};n.TRIGGER_API=(e="prd")=>c[e]??c.prd;const l={dev:"https://notification.dev-api.cx.metamask.io",uat:"https://notification.uat-api.cx.metamask.io",prd:"https://notification.api.cx.metamask.io"};n.NOTIFICATION_API=(e="prd")=>l[e]??l.prd;n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT=(e="prd")=>`${(0,n.TRIGGER_API)(e)}/api/v2/notifications/query`;n.TRIGGER_API_NOTIFICATIONS_ENDPOINT=(e="prd")=>`${(0,n.TRIGGER_API)(e)}/api/v2/notifications`;n.NOTIFICATION_API_LIST_ENDPOINT=(e="prd")=>`${(0,n.NOTIFICATION_API)(e)}/api/v3/notifications`;n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT=(e="prd")=>`${(0,n.NOTIFICATION_API)(e)}/api/v3/notifications/mark-as-read`,n.getNotificationsApiConfigCached=async function(e,t,i="prd"){if(0===t.length)return[];t=t.map(e=>e.toLowerCase());const s=r.notificationsConfigCache.get(t);if(s)return s;const a=t.map(e=>({address:e})),c=await(0,o.makeApiCall)(e,(0,n.TRIGGER_API_NOTIFICATIONS_QUERY_ENDPOINT)(i),"POST",a).then(e=>e.ok?e.json():null).catch(()=>null)??[];return c.length>0&&r.notificationsConfigCache.set(c),c},n.updateOnChainNotifications=async function(e,t,i="prd"){if(0===t.length)return;const s=t=t.map(e=>(e.address=e.address.toLowerCase(),e));await(0,o.makeApiCall)(e,(0,n.TRIGGER_API_NOTIFICATIONS_ENDPOINT)(i),"POST",s).then(()=>r.notificationsConfigCache.set(t)).catch(()=>null)},n.getAPINotifications=async function(e,t,i,s,r="prd"){if(0===t.length)return[];const c={addresses:t.map(e=>e.toLowerCase()),locale:i,platform:s},l=await(0,o.makeApiCall)(e,(0,n.NOTIFICATION_API_LIST_ENDPOINT)(r),"POST",c).then(e=>e.ok?e.json():null).catch(()=>null),d=l?.map(e=>{if(!e.notification_type)return undefined;try{return(0,a.toRawAPINotification)(e)}catch{return undefined}}).filter(e=>Boolean(e));return d??[]},n.markNotificationsAsRead=async function(e,t,i="prd"){if(0===t.length)return;const r={ids:t};try{await(0,o.makeApiCall)(e,(0,n.NOTIFICATION_API_MARK_ALL_AS_READ_ENDPOINT)(i),"POST",r)}catch(e){s.default.error("Error marking notifications as read:",e)}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/api-notifications.cjs"}],[2374,{"../constants/notification-schema.cjs":2361,"../processors/process-feature-announcement.cjs":2370,"../utils/isVersionInBounds.cjs":2379,"@contentful/rich-text-html-renderer":644},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getFeatureAnnouncementNotifications=n.getFeatureAnnouncementUrl=n.FEATURE_ANNOUNCEMENT_URL=n.FEATURE_ANNOUNCEMENT_API=void 0;const i=e("@contentful/rich-text-html-renderer"),s=e("../constants/notification-schema.cjs"),r=e("../processors/process-feature-announcement.cjs"),a=e("../utils/isVersionInBounds.cjs"),o=":space_id",c=":access_token",l=":client_id",d="cdn.contentful.com";n.FEATURE_ANNOUNCEMENT_API=`https://${d}/spaces/${o}/environments/master/entries`,n.FEATURE_ANNOUNCEMENT_URL=`${n.FEATURE_ANNOUNCEMENT_API}?access_token=${c}&content_type=productAnnouncement&include=10&fields.clients[in]=${l}`;n.getFeatureAnnouncementUrl=(e,t)=>{const i=t?"preview.contentful.com":d,s=n.FEATURE_ANNOUNCEMENT_URL.replace(o,e.spaceId).replace(c,t||e.accessToken).replace(l,e.platform).replace(d,i);return encodeURI(s)};n.getFeatureAnnouncementNotifications=async function(e,t){if(e?.accessToken&&e?.spaceId&&e?.platform){const o=await(async(e,t)=>{const r=(0,n.getFeatureAnnouncementUrl)(e,t),o=await fetch(r).then(e=>e.json()).catch(()=>null);if(!o)return[];const c=e=>{const t=o,n=t?.includes?.Entry?.find(t=>t?.sys?.id===e)||t?.includes?.Asset?.find(t=>t?.sys?.id===e);return n?n?.fields:null},l=(o?.items??[]).map(e=>{const{fields:t}=e,n=t.image?c(t.image.sys.id):undefined,r=t.externalLink?c(t.externalLink.sys.id):undefined,a=t.portfolioLink?c(t.portfolioLink.sys.id):undefined,o=t.extensionLink?c(t.extensionLink.sys.id):undefined,l=t.mobileLink?c(t.mobileLink.sys.id):undefined;return{type:s.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT,createdAt:new Date(e.sys.createdAt).toString(),data:{id:t.id,category:t.category,title:t.title,longDescription:(0,i.documentToHtmlString)(t.longDescription),shortDescription:t.shortDescription,image:{title:n?.title,description:n?.description,url:n?.file?.url??""},externalLink:r&&{externalLinkText:r?.externalLinkText,externalLinkUrl:r?.externalLinkUrl},portfolioLink:a&&{portfolioLinkText:a?.portfolioLinkText,portfolioLinkUrl:a?.portfolioLinkUrl},extensionLink:o&&{extensionLinkText:o?.extensionLinkText,extensionLinkRoute:o?.extensionLinkRoute},mobileLink:l&&{mobileLinkText:l?.mobileLinkText,mobileLinkUrl:l?.mobileLinkUrl},extensionMinimumVersionNumber:t.extensionMinimumVersionNumber,mobileMinimumVersionNumber:t.mobileMinimumVersionNumber,extensionMaximumVersionNumber:t.extensionMaximumVersionNumber,mobileMaximumVersionNumber:t.mobileMaximumVersionNumber}}}),d={extension:{min:"extensionMinimumVersionNumber",max:"extensionMaximumVersionNumber"},mobile:{min:"mobileMinimumVersionNumber",max:"mobileMaximumVersionNumber"}};return l.filter(t=>{const n=t.data?.[d[e.platform].min],i=t.data?.[d[e.platform].max];return(0,a.isVersionInBounds)({currentVersion:e.platformVersion,minVersion:n,maxVersion:i})})})(e,t);return o.map(e=>(0,r.processFeatureAnnouncement)(e))}return[]}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/feature-announcements.cjs"}],[2375,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.notificationsConfigCache=n.OnChainNotificationsCache=n.NotificationConfigCacheTTL=void 0,n.NotificationConfigCacheTTL=6e4;class d{constructor(){i.add(this),s.set(this,null),r.set(this,n.NotificationConfigCacheTTL)}get(e){return c(this,i,"m",a).call(this)||!c(this,i,"m",o).call(this,e)?null:e.map(e=>({address:e,enabled:c(this,s,"f")?.data.get(e)??!1}))}set(e){let t=new Map;c(this,s,"f")&&!c(this,i,"m",a).call(this)&&(t=new Map(c(this,s,"f").data)),e.forEach(({address:e,enabled:n})=>{t.set(e,n)}),l(this,s,{data:t,timestamp:Date.now()},"f")}clear(){l(this,s,null,"f")}}n.OnChainNotificationsCache=d,s=new WeakMap,r=new WeakMap,i=new WeakSet,a=function(){return!c(this,s,"f")||Date.now()-c(this,s,"f").timestamp>c(this,r,"f")},o=function(e){return!!c(this,s,"f")&&e.every(e=>c(this,s,"f")?.data.has(e))},n.notificationsConfigCache=new d}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/notification-config-cache.cjs"}],[2376,{"@metamask/controller-utils":1449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createPerpOrderNotification=n.PERPS_API_CREATE_ORDERS=n.PERPS_API=void 0;const i=e("@metamask/controller-utils");n.PERPS_API="https://perps.api.cx.metamask.io",n.PERPS_API_CREATE_ORDERS=`${n.PERPS_API}/api/v1/orders`,n.createPerpOrderNotification=async function(e,t){try{await(0,i.createServicePolicy)().execute(async()=>(0,i.successfulFetch)(n.PERPS_API_CREATE_ORDERS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)}))}catch(e){console.error("Failed to create perp order notification",e)}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/services/perp-notifications.cjs"}],[2377,{"../constants/notification-schema.cjs":2361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_CHAINS_ID=n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS=n.NOTIFICATION_NETWORK_CURRENCY_SYMBOL=n.NOTIFICATION_NETWORK_CURRENCY_NAME=void 0;const i=e("../constants/notification-schema.cjs");n.NOTIFICATION_NETWORK_CURRENCY_NAME={[i.NOTIFICATION_CHAINS_ID.ETHEREUM]:"Ethereum",[i.NOTIFICATION_CHAINS_ID.ARBITRUM]:"Arbitrum",[i.NOTIFICATION_CHAINS_ID.AVALANCHE]:"Avalanche",[i.NOTIFICATION_CHAINS_ID.BSC]:"Binance",[i.NOTIFICATION_CHAINS_ID.BASE]:"Base",[i.NOTIFICATION_CHAINS_ID.LINEA]:"Linea",[i.NOTIFICATION_CHAINS_ID.OPTIMISM]:"Optimism",[i.NOTIFICATION_CHAINS_ID.POLYGON]:"Polygon",[i.NOTIFICATION_CHAINS_ID.SEI]:"Sei Network"},n.NOTIFICATION_NETWORK_CURRENCY_SYMBOL={[i.NOTIFICATION_CHAINS_ID.ETHEREUM]:"ETH",[i.NOTIFICATION_CHAINS_ID.ARBITRUM]:"ETH",[i.NOTIFICATION_CHAINS_ID.AVALANCHE]:"AVAX",[i.NOTIFICATION_CHAINS_ID.BSC]:"BNB",[i.NOTIFICATION_CHAINS_ID.BASE]:"ETH",[i.NOTIFICATION_CHAINS_ID.LINEA]:"ETH",[i.NOTIFICATION_CHAINS_ID.OPTIMISM]:"ETH",[i.NOTIFICATION_CHAINS_ID.POLYGON]:"POL",[i.NOTIFICATION_CHAINS_ID.SEI]:"SEI"},n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS={[i.NOTIFICATION_CHAINS_ID.ETHEREUM]:{url:"https://etherscan.io",name:"Etherscan"},[i.NOTIFICATION_CHAINS_ID.OPTIMISM]:{url:"https://optimistic.etherscan.io",name:"Optimistic Etherscan"},[i.NOTIFICATION_CHAINS_ID.BSC]:{url:"https://bscscan.com",name:"BscScan"},[i.NOTIFICATION_CHAINS_ID.BASE]:{url:"https://basescan.org",name:"BaseScan"},[i.NOTIFICATION_CHAINS_ID.POLYGON]:{url:"https://polygonscan.com",name:"PolygonScan"},[i.NOTIFICATION_CHAINS_ID.ARBITRUM]:{url:"https://arbiscan.io",name:"Arbiscan"},[i.NOTIFICATION_CHAINS_ID.AVALANCHE]:{url:"https://snowtrace.io",name:"Snowtrace"},[i.NOTIFICATION_CHAINS_ID.LINEA]:{url:"https://lineascan.build",name:"LineaScan"},[i.NOTIFICATION_CHAINS_ID.SEI]:{url:"https://seitrace.com/",name:"SeiTrace"}};var s=e("../constants/notification-schema.cjs");Object.defineProperty(n,"NOTIFICATION_CHAINS_ID",{enumerable:!0,get:function(){return s.NOTIFICATION_CHAINS_ID}})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/ui/constants.cjs"}],[2378,{"./constants.cjs":2377},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./constants.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/ui/index.cjs"}],[2379,{semver:5586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isVersionInBounds=void 0;const i=e("semver");n.isVersionInBounds=function({currentVersion:e,minVersion:t,maxVersion:n}){if(!e)return!0;try{let s=!0;return t&&(s=s&&(0,i.gt)(e,t)),n&&(s=s&&(0,i.lt)(e,n)),s}catch{return!1}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/utils/isVersionInBounds.cjs"}],[238,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_NAMES=void 0;n.NOTIFICATION_NAMES=function(e){return e.accountsChanged="metamask_accountsChanged",e.chainChanged="metamask_chainChanged",e}({})}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.ts"}],[2380,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shouldAutoExpire=void 0;n.shouldAutoExpire=e=>(Date.now()-e.getTime())/864e5>=30}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/utils/should-auto-expire.cjs"}],[2381,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.makeApiCall=void 0,n.makeApiCall=async function(e,t,n,i){const s={method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(i)};return await fetch(t,s)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesController/utils/utils.cjs"}],[2382,{"./services/services.cjs":2387,"@metamask/base-controller":1362,loglevel:4846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const f=e("@metamask/base-controller"),p=m(e("loglevel")),g=e("./services/services.cjs");n.defaultState={isPushEnabled:!0,fcmToken:"",isUpdatingFCMToken:!1};const b={isPushEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},fcmToken:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isUpdatingFCMToken:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!0,usedInUi:!0}},y={apiKey:"",authDomain:"",storageBucket:"",projectId:"",messagingSenderId:"",appId:"",measurementId:"",vapidKey:""};class x extends f.BaseController{constructor({messenger:e,state:t,env:l,config:d}){super({messenger:e,metadata:b,name:"NotificationServicesPushController",state:{...n.defaultState,...t}}),i.add(this),s.set(this,undefined),r.set(this,void 0),a.set(this,void 0),u(this,r,l??y,"f"),u(this,a,d,"f"),h(this,i,"m",o).call(this),h(this,i,"m",c).call(this)}async subscribeToPushNotifications(){if(h(this,a,"f").isPushFeatureEnabled){h(this,s,"f")&&(h(this,s,"f").call(this),u(this,s,undefined,"f"));try{u(this,s,await h(this,a,"f").pushService.subscribeToPushNotifications(h(this,r,"f"))??undefined,"f")}catch{}}}async enablePushNotifications(e){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{const t=await h(this,i,"m",l).call(this).catch(()=>null);if(t){const n=await(0,g.activatePushNotifications)({bearerToken:t,addresses:e,env:h(this,r,"f"),createRegToken:h(this,a,"f").pushService.createRegToken,regToken:{platform:h(this,a,"f").platform,locale:h(this,a,"f").getLocale?.()??"en",oldToken:this.state.fcmToken},controllerEnv:h(this,a,"f").env??"prd"});n&&h(this,i,"m",d).call(this,{type:"enable",fcmToken:n})}}catch{}try{await this.subscribeToPushNotifications()}catch{}this.update(e=>{e.isUpdatingFCMToken=!1})}}async disablePushNotifications(){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{await(0,g.deactivatePushNotifications)({env:h(this,r,"f"),deleteRegToken:h(this,a,"f").pushService.deleteRegToken,regToken:this.state.fcmToken})}catch(e){const t=`Failed to disable push notifications: ${e}`;throw p.default.error(t),new Error(t)}finally{this.update(e=>{e.isUpdatingFCMToken=!1})}h(this,s,"f")?.call(this),h(this,i,"m",d).call(this,{type:"disable"})}}async updateTriggerPushNotifications(e){if(h(this,a,"f").isPushFeatureEnabled){this.update(e=>{e.isUpdatingFCMToken=!0});try{const t=await h(this,i,"m",l).call(this),n=await(0,g.activatePushNotifications)({bearerToken:t,addresses:e,env:h(this,r,"f"),createRegToken:h(this,a,"f").pushService.createRegToken,regToken:{platform:h(this,a,"f").platform,locale:h(this,a,"f").getLocale?.()??"en",oldToken:this.state.fcmToken},controllerEnv:h(this,a,"f").env??"prd"});n&&h(this,i,"m",d).call(this,{type:"update",fcmToken:n})}catch(e){const t=`Failed to update triggers for push notifications: ${e}`;throw p.default.error(t),new Error(t)}finally{this.update(e=>{e.isUpdatingFCMToken=!1})}}}}s=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakSet,o=function(){this.messenger.registerActionHandler("NotificationServicesPushController:enablePushNotifications",this.enablePushNotifications.bind(this)),this.messenger.registerActionHandler("NotificationServicesPushController:disablePushNotifications",this.disablePushNotifications.bind(this)),this.messenger.registerActionHandler("NotificationServicesPushController:updateTriggerPushNotifications",this.updateTriggerPushNotifications.bind(this)),this.messenger.registerActionHandler("NotificationServicesPushController:subscribeToPushNotifications",this.subscribeToPushNotifications.bind(this))},c=function(){this.update(e=>{e.isUpdatingFCMToken=!1})},l=async function(){const e=await this.messenger.call("AuthenticationController:getBearerToken");if(!e)throw p.default.error("Failed to enable push notifications: BearerToken token is missing."),new Error("BearerToken token is missing");return e},d=function(e){"enable"===e.type&&this.update(t=>{t.isPushEnabled=!0,t.fcmToken=e.fcmToken,t.isUpdatingFCMToken=!1}),"disable"===e.type&&this.update(e=>{e.isPushEnabled=!1,e.isUpdatingFCMToken=!1}),"update"===e.type&&this.update(t=>{t.isPushEnabled=!0,t.fcmToken=e.fcmToken,t.isUpdatingFCMToken=!1})},n.default=x}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/NotificationServicesPushController.cjs"}],[2383,{"./NotificationServicesPushController.cjs":2382,"./mocks/index.cjs":2384,"./utils/index.cjs":2390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Mocks=n.Utils=n.Controller=void 0;const c=o(e("./NotificationServicesPushController.cjs"));n.Controller=c.default;const l=c.default;n.default=l,r(e("./NotificationServicesPushController.cjs"),n),n.Utils=a(e("./utils/index.cjs")),r(e("./utils/index.cjs"),n),n.Mocks=a(e("./mocks/index.cjs"))}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/index.cjs"}],[2384,{"./mockResponse.cjs":2385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./mockResponse.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/mocks/index.cjs"}],[2385,{"../services/endpoints.cjs":2386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockDeleteFCMRegistrationTokenResponse=n.getMockCreateFCMRegistrationTokenResponse=n.MOCK_FCM_RESPONSE=n.getMockUpdatePushNotificationLinksResponse=n.MOCK_REG_TOKEN=void 0;const i=e("../services/endpoints.cjs");n.MOCK_REG_TOKEN="REG_TOKEN";n.getMockUpdatePushNotificationLinksResponse=()=>({url:(0,i.REGISTRATION_TOKENS_ENDPOINT)(),requestMethod:"POST",response:null}),n.MOCK_FCM_RESPONSE={name:"",token:"fcm-token",web:{endpoint:"",p256dh:"",auth:"",applicationPubKey:""}};n.getMockCreateFCMRegistrationTokenResponse=()=>({url:/^https:\/\/fcmregistrations\.googleapis\.com\/v1\/projects\/.*$/u,requestMethod:"POST",response:n.MOCK_FCM_RESPONSE});n.getMockDeleteFCMRegistrationTokenResponse=()=>({url:/^https:\/\/fcmregistrations\.googleapis\.com\/v1\/projects\/.*$/u,requestMethod:"POST",response:{}})}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/mocks/mockResponse.cjs"}],[2386,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.REGISTRATION_TOKENS_ENDPOINT=n.PUSH_API=void 0;const i={dev:"https://push.dev-api.cx.metamask.io",uat:"https://push.uat-api.cx.metamask.io",prd:"https://push.api.cx.metamask.io"};n.PUSH_API=(e="prd")=>i[e]??i.prd;n.REGISTRATION_TOKENS_ENDPOINT=(e="prd")=>`${(0,n.PUSH_API)(e)}/api/v2/token`}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/services/endpoints.cjs"}],[2387,{"./endpoints.cjs":2386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.deactivatePushNotifications=n.activatePushNotifications=n.updateLinksAPI=void 0;const a=r(e("./endpoints.cjs"));async function o(e){try{const t={addresses:e.addresses,registration_token:e.regToken};return(await fetch(a.REGISTRATION_TOKENS_ENDPOINT(e.env),{method:"POST",headers:{Authorization:`Bearer ${e.bearerToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch{return!1}}n.updateLinksAPI=o,n.activatePushNotifications=async function(e){const{env:t,createRegToken:n}=e,i=await n(t).catch(()=>null);return i?(await o({bearerToken:e.bearerToken,addresses:e.addresses,regToken:{token:i,platform:e.regToken.platform,locale:e.regToken.locale,oldToken:e.regToken.oldToken},env:e.controllerEnv}),i):null},n.deactivatePushNotifications=async function(e){const{regToken:t,env:n,deleteRegToken:i}=e;return!t||!!await i(n)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/services/services.cjs"}],[2388,{"bignumber.js":2397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAmount=n.formatAmount=n.getLeadingZeroCount=n.calcTokenAmount=void 0;const i=e("bignumber.js"),s={decimalPlaces:4};function r(e,t){const n=Math.pow(10,Number(t||0));return new i.BigNumber(String(e)).div(n)}n.calcTokenAmount=r;n.getLeadingZeroCount=e=>{const t=new i.BigNumber(e,10).toString(10).split(".")[1]??"";return t.match(/^0*/u)?.[0]?.length||0};n.formatAmount=(e,t)=>{const i={...s,...t},r=(0,n.getLeadingZeroCount)(e),a=e.toString().includes(".")||r>0;if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(a){const t=(o=i.decimalPlaces,Boolean(i?.shouldEllipse)&&r>=o),n=Intl.NumberFormat("en-US",{minimumFractionDigits:t?i.decimalPlaces:undefined,maximumFractionDigits:i.decimalPlaces}).format(e);return t?`${n}...`:n}var o;return e.toString()};n.getAmount=(e,t,i)=>{if(!e||!t)return"";const s=r(e,parseFloat(t)).toNumber();return(0,n.formatAmount)(s,i)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/get-notification-data.cjs"}],[2389,{"../../NotificationServicesController/ui/index.cjs":2378,"./get-notification-data.cjs":2388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createOnChainPushNotificationMessage=n.createOnChainPushNotificationMessages=void 0;const i=e("./get-notification-data.cjs"),s=e("../../NotificationServicesController/ui/index.cjs");function r(e){return s.NOTIFICATION_NETWORK_CURRENCY_SYMBOL[e.toString()]??null}n.createOnChainPushNotificationMessages=e=>{const t=(...t)=>{const[n,...i]=t;return(0,e[n])(...i)};return{erc20_sent:{title:()=>t("pushPlatformNotificationsFundsSentTitle"),defaultDescription:()=>t("pushPlatformNotificationsFundsSentDescriptionDefault"),getDescription:e=>{const n=e?.payload?.data?.token?.symbol,s=e?.payload?.data?.token?.amount,r=e?.payload?.data?.token?.decimals;if(!n||!s||!r)return null;const a=(0,i.getAmount)(s,r,{shouldEllipse:!0});return t("pushPlatformNotificationsFundsSentDescription",a,n)}},eth_sent:{title:()=>t("pushPlatformNotificationsFundsSentTitle"),defaultDescription:()=>t("pushPlatformNotificationsFundsSentDescriptionDefault"),getDescription:e=>{const n=r(e?.payload?.chain_id),s=e?.payload?.data?.amount?.eth;if(!n||!s)return null;const a=(0,i.formatAmount)(parseFloat(s),{shouldEllipse:!0});return t("pushPlatformNotificationsFundsSentDescription",a,n)}},erc20_received:{title:()=>t("pushPlatformNotificationsFundsReceivedTitle"),defaultDescription:()=>t("pushPlatformNotificationsFundsReceivedDescriptionDefault"),getDescription:e=>{const n=e?.payload?.data?.token?.symbol,s=e?.payload?.data?.token?.amount,r=e?.payload?.data?.token?.decimals;if(!n||!s||!r)return null;const a=(0,i.getAmount)(s,r,{shouldEllipse:!0});return t("pushPlatformNotificationsFundsReceivedDescription",a,n)}},eth_received:{title:()=>t("pushPlatformNotificationsFundsReceivedTitle"),defaultDescription:()=>t("pushPlatformNotificationsFundsReceivedDescriptionDefault"),getDescription:e=>{const n=r(e?.payload?.chain_id),s=e?.payload?.data?.amount?.eth;if(!n||!s)return null;const a=(0,i.formatAmount)(parseFloat(s),{shouldEllipse:!0});return t("pushPlatformNotificationsFundsReceivedDescription",a,n)}},metamask_swap_completed:{title:()=>t("pushPlatformNotificationsSwapCompletedTitle"),defaultDescription:()=>t("pushPlatformNotificationsSwapCompletedDescription")},erc721_sent:{title:()=>t("pushPlatformNotificationsNftSentTitle"),defaultDescription:()=>t("pushPlatformNotificationsNftSentDescription")},erc1155_sent:{title:()=>t("pushPlatformNotificationsNftSentTitle"),defaultDescription:()=>t("pushPlatformNotificationsNftSentDescription")},erc721_received:{title:()=>t("pushPlatformNotificationsNftReceivedTitle"),defaultDescription:()=>t("pushPlatformNotificationsNftReceivedDescription")},erc1155_received:{title:()=>t("pushPlatformNotificationsNftReceivedTitle"),defaultDescription:()=>t("pushPlatformNotificationsNftReceivedDescription")},rocketpool_stake_completed:{title:()=>t("pushPlatformNotificationsStakingRocketpoolStakeCompletedTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingRocketpoolStakeCompletedDescription")},rocketpool_unstake_completed:{title:()=>t("pushPlatformNotificationsStakingRocketpoolUnstakeCompletedTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingRocketpoolUnstakeCompletedDescription")},lido_stake_completed:{title:()=>t("pushPlatformNotificationsStakingLidoStakeCompletedTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingLidoStakeCompletedDescription")},lido_stake_ready_to_be_withdrawn:{title:()=>t("pushPlatformNotificationsStakingLidoStakeReadyToBeWithdrawnTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingLidoStakeReadyToBeWithdrawnDescription")},lido_withdrawal_requested:{title:()=>t("pushPlatformNotificationsStakingLidoWithdrawalRequestedTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingLidoWithdrawalRequestedDescription")},lido_withdrawal_completed:{title:()=>t("pushPlatformNotificationsStakingLidoWithdrawalCompletedTitle"),defaultDescription:()=>t("pushPlatformNotificationsStakingLidoWithdrawalCompletedDescription")},platform:{title:e=>e.template.title,defaultDescription:e=>e.template.body,getDescription:e=>e.template.body}}},n.createOnChainPushNotificationMessage=function(e,t){if(!e?.type)return null;const i=(0,n.createOnChainPushNotificationMessages)(t)[e.type];if(!i)return null;let s=null;try{s=i?.getDescription?.(e)??i.defaultDescription?.(e)??null}catch{s=i.defaultDescription?.(e)??null}return{title:i?.title?.(e)??"",description:s??""}}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/get-notification-message.cjs"}],[239,{"./background-api":236,"./differs":237,"./enums":238,"./selectors":240,"./specifications":242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=e("./background-api");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))});var s=e("./differs");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))});var r=e("./enums");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))});var a=e("./specifications");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))});var o=e("./selectors");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))})}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[2390,{"./get-notification-data.cjs":2388,"./get-notification-message.cjs":2389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./get-notification-data.cjs"),n),s(e("./get-notification-message.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/NotificationServicesPushController/utils/index.cjs"}],[2393,{"./NotificationServicesController/index.cjs":2362,"./NotificationServicesPushController/index.cjs":2383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationServicesPushController=n.NotificationServicesController=void 0,n.NotificationServicesController=r(e("./NotificationServicesController/index.cjs")),n.NotificationServicesPushController=r(e("./NotificationServicesPushController/index.cjs"))}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/index.cjs"}],[2394,{"./is-onchain-notification.cjs":2395,"./to-raw-notification.cjs":2396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./is-onchain-notification.cjs"),n),s(e("./to-raw-notification.cjs"),n)}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/index.cjs"}],[2395,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOnChainRawNotification=void 0,n.isOnChainRawNotification=function(e){const t=e;return[t?.id,t?.payload?.data].every(e=>e!==undefined)}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/is-onchain-notification.cjs"}],[2396,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toRawAPINotification=void 0,n.toRawAPINotification=function(e){if("on-chain"===e.notification_type){if(!e?.payload?.data?.kind)throw new Error("toRawAPINotification - No kind found for on-chain notification");return{...e,type:e.payload.data.kind}}return"platform"===e.notification_type?{...e,type:e.notification_type}:(()=>{const t=e?.notification_type;throw new Error(`toRawAPINotification - No processor found for notification kind ${t}`)})()}}}},{package:"@metamask/notification-services-controller",file:"node_modules/@metamask/notification-services-controller/dist/shared/to-raw-notification.cjs"}],[2397,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,r=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,d=9007199254740991,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,m=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,n,i=1,s=e.length,r=e[0]+"";i<s;){for(t=e[i++]+"",n=l-t.length;n--;t="0"+t);r+=t}for(s=r.length;48===r.charCodeAt(--s););return r.slice(0,s+1||1)}function g(e,t){var n,i,s=e.c,r=t.c,a=e.s,o=t.s,c=e.e,l=t.e;if(!a||!o)return null;if(n=s&&!s[0],i=r&&!r[0],n||i)return n?i?0:-o:a;if(a!=o)return a;if(n=a<0,i=c==l,!s||!r)return i?0:!s^n?1:-1;if(!i)return c>l^n?1:-1;for(o=(c=s.length)<(l=r.length)?c:l,a=0;a<o;a++)if(s[a]!=r[a])return s[a]>r[a]^n?1:-1;return c==l?0:c>l^n?1:-1}function b(e,t,n,i){if(e<t||e>n||e!==r(e))throw Error(a+(i||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return f(e.e/l)==t&&e.c[t]%2!=0}function x(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var i,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(++t>(i=e.length)){for(s=n,t-=i;--t;s+=n);e+=s}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,S,T,v,_,E,k,C,P,O,A=W.prototype={constructor:W,toString:null,valueOf:null},I=new W(1),N=20,j=4,R=-7,M=21,L=-1e7,D=1e7,B=!1,U=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function W(e,t){var n,s,a,c,u,h,m,f,p=this;if(!(p instanceof W))return new W(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>D?p.c=p.e=null:e.e<L?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>D?p.c=p.e=null:(p.e=c,p.c=[e]))}f=String(e)}else{if(!i.test(f=String(e)))return T(p,f,h);p.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(c=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(c<0&&(c=u),c+=+f.slice(u+1),f=f.substring(0,u)):c<0&&(c=f.length)}else{if(b(t,2,K.length,"Base"),10==t&&G)return z(p=new W(e),N+p.e+1,j);if(f=String(e),h="number"==typeof e){if(0*e!=0)return T(p,f,h,t);if(p.s=1/e<0?(f=f.slice(1),-1):1,W.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=K.slice(0,t),c=u=0,m=f.length;u<m;u++)if(n.indexOf(s=f.charAt(u))<0){if("."==s){if(u>c){c=m;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,u=-1,c=0;continue}return T(p,String(e),h,t)}h=!1,(c=(f=S(f,t,10,p.s)).indexOf("."))>-1?f=f.replace(".",""):c=f.length}for(u=0;48===f.charCodeAt(u);u++);for(m=f.length;48===f.charCodeAt(--m););if(f=f.slice(u,++m)){if(m-=u,h&&W.DEBUG&&m>15&&(e>d||e!==r(e)))throw Error(o+p.s*e);if((c=c-u-1)>D)p.c=p.e=null;else if(c<L)p.c=[p.e=0];else{if(p.e=c,p.c=[],u=(c+1)%l,c<0&&(u+=l),u<m){for(u&&p.c.push(+f.slice(0,u)),m-=l;u<m;)p.c.push(+f.slice(u,u+=l));u=l-(f=f.slice(u)).length}else u-=m;for(;u--;f+="0");p.c.push(+f)}}else p.c=[p.e=0]}function q(e,t,n,i){var s,r,a,o,c;if(null==n?n=j:b(n,0,8),!e.c)return e.toString();if(s=e.c[0],a=e.e,null==t)c=p(e.c),c=1==i||2==i&&(a<=R||a>=M)?x(c,a):w(c,a,"0");else if(r=(e=z(new W(e),t,n)).e,o=(c=p(e.c)).length,1==i||2==i&&(t<=r||r<=R)){for(;o<t;c+="0",o++);c=x(c,r)}else if(t-=a,c=w(c,r,"0"),r+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=r-o)>0)for(r+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function V(e,t){for(var n,i,s=1,r=new W(e[0]);s<e.length;s++)(!(i=new W(e[s])).s||(n=g(r,i))===t||0===n&&r.s===t)&&(r=i);return r}function $(e,t,n){for(var i=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,i++);return(n=i+n*l-1)>D?e.c=e.e=null:n<L?e.c=[e.e=0]:(e.e=n,e.c=t),e}function z(e,t,n,i){var a,o,d,h,m,f,p,g=e.c,b=u;if(g){e:{for(a=1,h=g[0];h>=10;h/=10,a++);if((o=t-a)<0)o+=l,d=t,m=g[f=0],p=r(m/b[a-d-1]%10);else if((f=s((o+1)/l))>=g.length){if(!i)break e;for(;g.length<=f;g.push(0));m=p=0,a=1,d=(o%=l)-l+1}else{for(m=h=g[f],a=1;h>=10;h/=10,a++);p=(d=(o%=l)-l+a)<0?0:r(m/b[a-d-1]%10)}if(i=i||t<0||null!=g[f+1]||(d<0?m:m%b[a-d-1]),i=n<4?(p||i)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||i||6==n&&(o>0?d>0?m/b[a-d]:0:g[f-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,i?(t-=e.e+1,g[0]=b[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=f,h=1,f--):(g.length=f+1,h=b[l-o],g[f]=d>0?r(m/b[a-d]%b[d])*h:0),i)for(;;){if(0==f){for(o=1,d=g[0];d>=10;d/=10,o++);for(d=g[0]+=h,h=1;d>=10;d/=10,h++);o!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[f]+=h,g[f]!=c)break;g[f--]=0,h=1}for(o=g.length;0===g[--o];g.pop());}e.e>D?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function X(e){var t,n=e.e;return null===n?e.toString():(t=p(e.c),t=n<=R||n>=M?x(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return W.clone=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,m,t),N=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),j=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-m,0,t),b(n[1],0,m,t),R=n[0],M=n[1]):(b(n,-m,m,t),R=-(M=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-m,-1,t),b(n[1],1,m,t),L=n[0],D=n[1];else{if(b(n,-m,m,t),!n)throw Error(a+t+" cannot be zero: "+n);L=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(a+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,m,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);G="0123456789"==n.slice(0,10),K=n}}return{DECIMAL_PLACES:N,ROUNDING_MODE:j,EXPONENTIAL_AT:[R,M],RANGE:[L,D],CRYPTO:B,MODULO_MODE:U,POW_PRECISION:F,FORMAT:H,ALPHABET:K}},W.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!W.DEBUG)return!0;var t,n,i=e.c,s=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===o||-1===o)&&s>=-m&&s<=m&&s===r(s)){if(0===i[0]){if(0===s&&1===i.length)return!0;break e}if((t=(s+1)%l)<1&&(t+=l),String(i[0]).length==t){for(t=0;t<i.length;t++)if((n=i[t])<0||n>=c||n!==r(n))break e;if(0!==n)return!0}}}else if(null===i&&null===s&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},W.maximum=W.max=function(){return V(arguments,-1)},W.minimum=W.min=function(){return V(arguments,1)},W.random=(v=9007199254740992,_=Math.random()*v&2097151?function(){return r(Math.random()*v)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,i,o,c,d=0,h=[],f=new W(I);if(null==e?e=N:b(e,0,m),o=s(e/l),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));d<o;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(h.push(c%1e14),d+=2);d=o/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);d<o;)(c=281474976710656*(31&t[d])+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(h.push(c%1e14),d+=7);d=o/7}if(!B)for(;d<o;)(c=_())<9e15&&(h[d++]=c%1e14);for(o=h[--d],e%=l,o&&e&&(c=u[l-e],h[d]=r(o/c)*c);0===h[d];h.pop(),d--);if(d<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=l);for(d=1,c=h[0];c>=10;c/=10,d++);d<l&&(i-=l-d)}return f.e=i,f.c=h,f}),W.sum=function(){for(var e=1,t=arguments,n=new W(t[0]);e<t.length;)n=n.plus(t[e++]);return n},S=function(){var e="0123456789";function t(e,t,n,i){for(var s,r,a=[0],o=0,c=e.length;o<c;){for(r=a.length;r--;a[r]*=t);for(a[0]+=i.indexOf(e.charAt(o++)),s=0;s<a.length;s++)a[s]>n-1&&(null==a[s+1]&&(a[s+1]=0),a[s+1]+=a[s]/n|0,a[s]%=n)}return a.reverse()}return function(i,s,r,a,o){var c,l,d,u,h,m,f,g,b=i.indexOf("."),y=N,x=j;for(b>=0&&(u=F,F=0,i=i.replace(".",""),m=(g=new W(s)).pow(i.length-b),F=u,g.c=t(w(p(m.c),m.e,"0"),10,r,e),g.e=g.c.length),d=u=(f=t(i,s,r,o?(c=K,e):(c=e,K))).length;0==f[--u];f.pop());if(!f[0])return c.charAt(0);if(b<0?--d:(m.c=f,m.e=d,m.s=a,f=(m=n(m,g,y,x,r)).c,h=m.r,d=m.e),b=f[l=d+y+1],u=r/2,h=h||l<0||null!=f[l+1],h=x<4?(null!=b||h)&&(0==x||x==(m.s<0?3:2)):b>u||b==u&&(4==x||h||6==x&&1&f[l-1]||x==(m.s<0?8:7)),l<1||!f[0])i=h?w(c.charAt(1),-y,c.charAt(0)):c.charAt(0);else{if(f.length=l,h)for(--r;++f[--l]>r;)f[l]=0,l||(++d,f=[1].concat(f));for(u=f.length;!f[--u];);for(b=0,i="";b<=u;i+=c.charAt(f[b++]));i=w(i,d,c.charAt(0))}return i}}(),n=function(){function e(e,t,n){var i,s,r,a,o=0,c=e.length,l=t%h,d=t/h|0;for(e=e.slice();c--;)o=((s=l*(r=e[c]%h)+(i=d*r+(a=e[c]/h|0)*l)%h*h+o)/n|0)+(i/h|0)+d*a,e[c]=s%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,i){var s,r;if(n!=i)r=n>i?1:-1;else for(s=r=0;s<n;s++)if(e[s]!=t[s]){r=e[s]>t[s]?1:-1;break}return r}function n(e,t,n,i){for(var s=0;n--;)e[n]-=s,s=e[n]<t[n]?1:0,e[n]=s*i+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,s,a,o,d){var u,h,m,p,g,b,y,x,w,S,T,v,_,E,k,C,P,O=i.s==s.s?1:-1,A=i.c,I=s.c;if(!(A&&A[0]&&I&&I[0]))return new W(i.s&&s.s&&(A?!I||A[0]!=I[0]:I)?A&&0==A[0]||!I?0*O:O/0:NaN);for(w=(x=new W(O)).c=[],O=a+(h=i.e-s.e)+1,d||(d=c,h=f(i.e/l)-f(s.e/l),O=O/l|0),m=0;I[m]==(A[m]||0);m++);if(I[m]>(A[m]||0)&&h--,O<0)w.push(1),p=!0;else{for(E=A.length,C=I.length,m=0,O+=2,(g=r(d/(I[0]+1)))>1&&(I=e(I,g,d),A=e(A,g,d),C=I.length,E=A.length),_=C,T=(S=A.slice(0,C)).length;T<C;S[T++]=0);P=I.slice(),P=[0].concat(P),k=I[0],I[1]>=d/2&&k++;do{if(g=0,(u=t(I,S,C,T))<0){if(v=S[0],C!=T&&(v=v*d+(S[1]||0)),(g=r(v/k))>1)for(g>=d&&(g=d-1),y=(b=e(I,g,d)).length,T=S.length;1==t(b,S,y,T);)g--,n(b,C<y?P:I,y,d),y=b.length,u=1;else 0==g&&(u=g=1),y=(b=I.slice()).length;if(y<T&&(b=[0].concat(b)),n(S,b,T,d),T=S.length,-1==u)for(;t(I,S,C,T)<1;)g++,n(S,C<T?P:I,T,d),T=S.length}else 0===u&&(g++,S=[0]);w[m++]=g,S[0]?S[T++]=A[_]||0:(S=[A[_]],T=1)}while((_++<E||null!=S[0])&&O--);p=null!=S[0],w[0]||w.splice(0,1)}if(d==c){for(m=1,O=w[0];O>=10;O/=10,m++);z(x,a+(x.e=m+h*l-1)+1,o,p)}else x.e=h,x.r=+p;return x}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,C=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,n,i){var s,r=n?t:t.replace(O,"");if(P.test(r))e.s=isNaN(r)?null:r<0?-1:1;else{if(!n&&(r=r.replace(E,function(e,t,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,i&&i!=s?e:t}),i&&(s=i,r=r.replace(k,"$1").replace(C,"0.$1")),t!=r))return new W(r,s);if(W.DEBUG)throw Error(a+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return g(this,new W(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,i,s,r=this;if(null!=e)return b(e,0,m),null==t?t=j:b(t,0,8),z(new W(r),e+r.e+1,t);if(!(n=r.c))return null;if(i=((s=n.length-1)-f(this.e/l))*l,s=n[s])for(;s%10==0;s/=10,i--);return i<0&&(i=0),i},A.dividedBy=A.div=function(e,t){return n(this,new W(e,t),N,j)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new W(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,i,o,c,d,u,h,m,f=this;if((e=new W(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+X(e));if(null!=t&&(t=new W(t)),d=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return m=new W(Math.pow(+X(f),d?e.s*(2-y(e)):+X(e))),t?m.mod(t):m;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new W(NaN);(i=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||d&&f.c[1]>=24e7:f.c[0]<8e13||d&&f.c[0]<=9999975e7)))return c=f.s<0&&y(e)?-0:0,f.e>-1&&(c=1/c),new W(u?1/c:c);F&&(c=s(F/l+2))}for(d?(n=new W(.5),u&&(e.s=1),h=y(e)):h=(o=Math.abs(+X(e)))%2,m=new W(I);;){if(h){if(!(m=m.times(f)).c)break;c?m.c.length>c&&(m.c.length=c):i&&(m=m.mod(t))}if(o){if(0===(o=r(o/2)))break;h=o%2}else if(z(e=e.times(n),e.e+1,1),e.e>14)h=y(e);else{if(0===(o=+X(e)))break;h=o%2}f=f.times(f),c?f.c&&f.c.length>c&&(f.c.length=c):i&&(f=f.mod(t))}return i?m:(u&&(m=I.div(m)),t?m.mod(t):c?z(m,F,j,undefined):m)},A.integerValue=function(e){var t=new W(this);return null==e?e=j:b(e,0,8),z(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===g(this,new W(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return g(this,new W(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=g(this,new W(e,t)))||0===t},A.isInteger=function(){return!!this.c&&f(this.e/l)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return g(this,new W(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=g(this,new W(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,i,s,r,a=this,o=a.s;if(t=(e=new W(e,t)).s,!o||!t)return new W(NaN);if(o!=t)return e.s=-t,a.plus(e);var d=a.e/l,u=e.e/l,h=a.c,m=e.c;if(!d||!u){if(!h||!m)return h?(e.s=-t,e):new W(m?a:NaN);if(!h[0]||!m[0])return m[0]?(e.s=-t,e):new W(h[0]?a:3==j?-0:0)}if(d=f(d),u=f(u),h=h.slice(),o=d-u){for((r=o<0)?(o=-o,s=h):(u=d,s=m),s.reverse(),t=o;t--;s.push(0));s.reverse()}else for(i=(r=(o=h.length)<(t=m.length))?o:t,o=t=0;t<i;t++)if(h[t]!=m[t]){r=h[t]<m[t];break}if(r&&(s=h,h=m,m=s,e.s=-e.s),(t=(i=m.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;i>o;){if(h[--i]<m[i]){for(n=i;n&&!h[--n];h[n]=t);--h[n],h[i]+=c}h[i]-=m[i]}for(;0==h[0];h.splice(0,1),--u);return h[0]?$(e,h,u):(e.s=3==j?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var i,s,r=this;return e=new W(e,t),!r.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||r.c&&!r.c[0]?new W(r):(9==U?(s=e.s,e.s=1,i=n(r,e,0,3),e.s=s,i.s*=s):i=n(r,e,0,U),(e=r.minus(i.times(e))).c[0]||1!=U||(e.s=r.s),e)},A.multipliedBy=A.times=function(e,t){var n,i,s,r,a,o,d,u,m,p,g,b,y,x,w,S=this,T=S.c,v=(e=new W(e,t)).c;if(!(T&&v&&T[0]&&v[0]))return!S.s||!e.s||T&&!T[0]&&!v||v&&!v[0]&&!T?e.c=e.e=e.s=null:(e.s*=S.s,T&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=f(S.e/l)+f(e.e/l),e.s*=S.s,(d=T.length)<(p=v.length)&&(y=T,T=v,v=y,s=d,d=p,p=s),s=d+p,y=[];s--;y.push(0));for(x=c,w=h,s=p;--s>=0;){for(n=0,g=v[s]%w,b=v[s]/w|0,r=s+(a=d);r>s;)n=((u=g*(u=T[--a]%w)+(o=b*u+(m=T[a]/w|0)*g)%w*w+y[r]+n)/x|0)+(o/w|0)+b*m,y[r--]=u%x;y[r]=n}return n?++i:y.splice(0,1),$(e,y,i)},A.negated=function(){var e=new W(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,i=this,s=i.s;if(t=(e=new W(e,t)).s,!s||!t)return new W(NaN);if(s!=t)return e.s=-t,i.minus(e);var r=i.e/l,a=e.e/l,o=i.c,d=e.c;if(!r||!a){if(!o||!d)return new W(s/0);if(!o[0]||!d[0])return d[0]?e:new W(o[0]?i:0*s)}if(r=f(r),a=f(a),o=o.slice(),s=r-a){for(s>0?(a=r,n=d):(s=-s,n=o),n.reverse();s--;n.push(0));n.reverse()}for((s=o.length)-(t=d.length)<0&&(n=d,d=o,o=n,t=s),s=0;t;)s=(o[--t]=o[t]+d[t]+s)/c|0,o[t]=c===o[t]?0:o[t]%c;return s&&(o=[s].concat(o),++a),$(e,o,a)},A.precision=A.sd=function(e,t){var n,i,s,r=this;if(null!=e&&e!==!!e)return b(e,1,m),null==t?t=j:b(t,0,8),z(new W(r),e,t);if(!(n=r.c))return null;if(i=(s=n.length-1)*l+1,s=n[s]){for(;s%10==0;s/=10,i--);for(s=n[0];s>=10;s/=10,i++);}return e&&r.e+1>i&&(i=r.e+1),i},A.shiftedBy=function(e){return b(e,-9007199254740991,d),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,i,s,r,a=this,o=a.c,c=a.s,l=a.e,d=N+4,u=new W("0.5");if(1!==c||!o||!o[0])return new W(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+X(a)))||c==1/0?(((t=p(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),i=new W(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new W(c+""),i.c[0])for((c=(l=i.e)+d)<3&&(c=0);;)if(r=i,i=u.times(r.plus(n(a,r,d,1))),p(r.c).slice(0,c)===(t=p(i.c)).slice(0,c)){if(i.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(i,i.e+N+2,1),e=!i.times(i).eq(a));break}if(!s&&(z(r,r.e+N+2,0),r.times(r).eq(a))){i=r;break}d+=4,c+=4,s=1}return z(i,i.e+N+1,j,e)},A.toExponential=function(e,t){return null!=e&&(b(e,0,m),e++),q(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(b(e,0,m),e=e+this.e+1),q(this,e,t)},A.toFormat=function(e,t,n){var i,s=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(i=s.toFixed(e,t),s.c){var r,o=i.split("."),c=+n.groupSize,l=+n.secondaryGroupSize,d=n.groupSeparator||"",u=o[0],h=o[1],m=s.s<0,f=m?u.slice(1):u,p=f.length;if(l&&(r=c,c=l,l=r,p-=r),c>0&&p>0){for(r=p%c||c,u=f.substr(0,r);r<p;r+=c)u+=d+f.substr(r,c);l>0&&(u+=d+f.slice(r)),m&&(u="-"+u)}i=h?u+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):u}return(n.prefix||"")+i+(n.suffix||"")},A.toFraction=function(e){var t,i,s,r,o,c,d,h,m,f,g,b,y=this,x=y.c;if(null!=e&&(!(d=new W(e)).isInteger()&&(d.c||1!==d.s)||d.lt(I)))throw Error(a+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+X(d));if(!x)return new W(y);for(t=new W(I),m=i=new W(I),s=h=new W(I),b=p(x),o=t.e=b.length-y.e-1,t.c[0]=u[(c=o%l)<0?l+c:c],e=!e||d.comparedTo(t)>0?o>0?t:m:d,c=D,D=1/0,d=new W(b),h.c[0]=0;f=n(d,t,0,1),1!=(r=i.plus(f.times(s))).comparedTo(e);)i=s,s=r,m=h.plus(f.times(r=m)),h=r,t=d.minus(f.times(r=t)),d=r;return r=n(e.minus(i),s,0,1),h=h.plus(r.times(m)),i=i.plus(r.times(s)),h.s=m.s=y.s,g=n(m,s,o*=2,j).minus(y).abs().comparedTo(n(h,i,o,j).minus(y).abs())<1?[m,s]:[h,i],D=c,g},A.toNumber=function(){return+X(this)},A.toPrecision=function(e,t){return null!=e&&b(e,1,m),q(this,e,t,2)},A.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=R||s>=M?x(p(n.c),s):w(p(n.c),s,"0"):10===e&&G?t=w(p((n=z(new W(n),N+s+1,j)).c),n.e,"0"):(b(e,2,K.length,"Base"),t=S(w(p(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return X(this)},A._isBigNumber=!0,null!=t&&W.set(t),W}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/notification-services-controller>bignumber.js",file:"node_modules/@metamask/notification-services-controller/node_modules/bignumber.js/bignumber.js"}],[2398,{"bn.js":4023,"strip-hex-prefix":5666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=e("bn.js"),s=e("strip-hex-prefix");t.exports=function(e){if("string"==typeof e||"number"==typeof e){var t=new i(1),n=String(e).toLowerCase().trim(),r="0x"===n.substr(0,2)||"-0x"===n.substr(0,3),a=s(n);if("-"===a.substr(0,1)&&(a=s(a.slice(1)),t=new i(-1,10)),!(a=""===a?"0":a).match(/^-?[0-9]+$/)&&a.match(/^[0-9A-Fa-f]+$/)||a.match(/^[a-fA-F]+$/)||!0===r&&a.match(/^[0-9A-Fa-f]+$/))return new i(a,16).mul(t);if((a.match(/^-?[0-9]+$/)||""===a)&&!1===r)return new i(a,10).mul(t)}else if("object"==typeof e&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new i(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit>@metamask/number-to-bn",file:"node_modules/@metamask/number-to-bn/src/index.js"}],[2399,{"./Substream":2400,once:5053,"readable-stream":2416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectMultiplex=void 0;const s=e("readable-stream"),r=i(e("once")),a=e("./Substream"),o=Symbol("IGNORE_SUBSTREAM");class c extends s.Duplex{constructor(e={}){super(Object.assign({objectMode:!0},e)),this._substreams={}}createStream(e,t={}){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const n=new a.Substream(Object.assign({name:e,parent:this},t));return this._substreams[e]=n,function(e,t){const n=(0,r.default)(t);(0,s.finished)(e,{readable:!1},n),(0,s.finished)(e,{writable:!1},n)}(this,e=>n.destroy(e||undefined)),n}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=o}_read(){return undefined}_write(e,t,n){const{name:i,data:s}=e;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const r=this._substreams[i];return r?(r!==o&&r.push(s),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n())}}n.ObjectMultiplex=c}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js"}],[240,{"@metamask/chain-agnostic-permission":1420,reselect:5308},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermittedChainsByOrigin=n.getPermittedAccountsForScopesByOrigin=n.getPermittedAccountsByOrigin=n.getOriginsWithSessionProperty=n.getAuthorizedScopesByOrigin=void 0;var i=e("@metamask/chain-agnostic-permission"),s=e("reselect");const r=e=>e.subjects;n.getPermittedAccountsByOrigin=(0,s.createSelector)(r,e=>{const t=new Map;return Object.values(e).forEach(e=>{var n;const s=((null===(n=e.permissions)||void 0===n||null===(n=n[i.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find(({type:e})=>e===i.Caip25CaveatType);if(s){const n=(0,i.getEthAccounts)(s.value);t.set(e.origin,n)}}),t}),n.getPermittedAccountsForScopesByOrigin=(0,s.createSelector)(r,(e,t)=>t,(e,t)=>{const n=new Map;return Object.values(e).forEach(e=>{var s;const r=((null===(s=e.permissions)||void 0===s||null===(s=s[i.Caip25EndowmentPermissionName])||void 0===s?void 0:s.caveats)||[]).find(({type:e})=>e===i.Caip25CaveatType);if(r){const s=(0,i.getPermittedAccountsForScopes)(r.value,t);s.length>0&&n.set(e.origin,s)}}),n}),n.getOriginsWithSessionProperty=(0,s.createSelector)(r,(e,t)=>t,(e,t)=>{const n={};return Object.values(e).forEach(e=>{var s,r;const a=((null===(s=e.permissions)||void 0===s||null===(s=s[i.Caip25EndowmentPermissionName])||void 0===s?void 0:s.caveats)||[]).find(({type:e})=>e===i.Caip25CaveatType),o=null==a||null===(r=a.value)||void 0===r||null===(r=r.sessionProperties)||void 0===r?void 0:r[t];o!==undefined&&(n[e.origin]=o)}),n}),n.getAuthorizedScopesByOrigin=(0,s.createSelector)(r,e=>Object.values(e).reduce((e,t)=>{var n;const s=((null===(n=t.permissions)||void 0===n||null===(n=n[i.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find(({type:e})=>e===i.Caip25CaveatType);return s&&e.set(t.origin,s.value),e},new Map)),n.getPermittedChainsByOrigin=(0,s.createSelector)(r,e=>Object.values(e).reduce((e,t)=>{var n;const s=((null===(n=t.permissions)||void 0===n||null===(n=n[i.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find(({type:e})=>e===i.Caip25CaveatType);if(s){const n=(0,i.getPermittedEthChainIds)(s.value);e.set(t.origin,n)}return e},new Map))}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[2400,{"readable-stream":2416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.Substream=void 0;const s=e("readable-stream");class r extends s.Duplex{constructor(e){var{parent:t,name:n}=e,s=i(e,["parent","name"]);super(Object.assign({objectMode:!0},s)),this._parent=t,this._name=n}_read(){return undefined}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}n.Substream=r}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/Substream.js"}],[2401,{"./ObjectMultiplex":2399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const i=e("./ObjectMultiplex");t.exports=i.ObjectMultiplex}}},{package:"@metamask/object-multiplex",file:"node_modules/@metamask/object-multiplex/dist/index.js"}],[2402,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i={};function s(e,t,n){n||(n=Error);var s=function(e){var n,i;function s(n,i,s){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,s))||this}return i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,s}(n);s.prototype.name=n.name,s.prototype.code=e,i[e]=s}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}s("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(e,t,n){var i,s,a,o;if("string"==typeof t&&(s="not ",t.substr(!a||a<0?0:+a,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(r(t,"type"))}return o+=". Received type ".concat(typeof n)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/errors-browser.js"}],[2403,{"./_stream_readable":2405,"./_stream_writable":2407,_process:5089,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=l;var s=e("./_stream_readable"),r=e("./_stream_writable");e("inherits")(l,s);for(var a=i(r.prototype),o=0;o<a.length;o++){var c=a[o];l.prototype[c]||(l.prototype[c]=r.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/_stream_duplex.js"}],[2404,{"./_stream_transform":2406,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=s;var i=e("./_stream_transform");function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}e("inherits")(s,i),s.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2405,{"../errors":2402,"./_stream_duplex":2403,"./internal/streams/async_iterator":2408,"./internal/streams/buffer_list":2409,"./internal/streams/destroy":2410,"./internal/streams/from":2412,"./internal/streams/state":2414,"./internal/streams/stream":2415,_process:5089,buffer:4084,events:4384,inherits:4617,"string_decoder/":5665,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i;t.exports=_,_.ReadableState=v;e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},r=e("./internal/streams/stream"),a=e("buffer").Buffer,o=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,l=e("util");c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,m=e("./internal/streams/buffer_list"),f=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(_,r);var S=f.errorOrDestroy,T=["error","close","destroy","pause","resume"];function v(t,n,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=n instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=p(this,t,"readableHighWaterMark",s),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function _(t){if(i=i||e("./_stream_duplex"),!(this instanceof _))return new _(t);var n=this instanceof i;this._readableState=new v(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function E(e,t,n,i,s){c("readableAddChunk",t);var r,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,l);else if(s||(r=function(e,t){var n;i=t,a.isBuffer(i)||i instanceof o||"string"==typeof t||t===undefined||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(l,t)),r)S(e,r);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),i)l.endEmitted?S(e,new w):k(e,l,t,!0);else if(l.ended)S(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):I(e,l)):k(e,l,t,!1)}else i||(l.reading=!1,I(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),I(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},_.prototype.unshift=function(e){return E(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var n=new d(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,s="";null!==i;)s+=n.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==s&&this._readableState.buffer.push(s),this._readableState.length=s.length,this};var C=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function M(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):O(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&B(this),null;var i,s=t.needReadable;return c("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",s=!0),t.ended||t.reading?c("reading or ended",s=!1):s&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(i=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==i&&this.emit("data",i),i},_.prototype._read=function(e){S(this,new x("_read()"))},_.prototype.pipe=function(e,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:g;function o(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",d),e.removeListener("error",m),e.removeListener("unpipe",o),i.removeListener("end",l),i.removeListener("end",g),i.removeListener("data",h),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){c("onend"),e.end()}r.endEmitted?n.nextTick(a):i.once("end",a),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(i);e.on("drain",d);var u=!1;function h(t){c("ondata");var n=e.write(t);c("dest.write",n),!1===n&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!u&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function m(t){c("onerror",t),g(),e.removeListener("error",m),0===s(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),g()}function p(){c("onfinish"),e.removeListener("close",f),g()}function g(){c("unpipe"),i.unpipe(e)}return i.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",f),e.once("finish",p),e.emit("pipe",i),r.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<s;r++)i[r].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.on=function(e,t){var i=r.prototype.on.call(this,e,t),s=this._readableState;return"data"===e?(s.readableListening=this.listenerCount("readable")>0,!1!==s.flowing&&this.resume()):"readable"===e&&(s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.flowing=!1,s.emittedReadable=!1,c("on readable",s.length,s.reading),s.length?O(this):s.reading||n.nextTick(R,this))),i},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var i=r.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(j,this),i},_.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(j,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(M,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var s in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(s){(c("wrapped data"),n.decoder&&(s=n.decoder.write(s)),!n.objectMode||null!==s&&s!==undefined)&&((n.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause())))}),e)this[s]===undefined&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var r=0;r<T.length;r++)e.on(T[r],this.emit.bind(this,T[r]));return this._read=function(t){c("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return u===undefined&&(u=e("./internal/streams/async_iterator")),u(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=D,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,n){return h===undefined&&(h=e("./internal/streams/from")),h(_,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/_stream_readable.js"}],[2406,{"../errors":2402,"./_stream_duplex":2403,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=d;var i=e("../errors").codes,s=i.ERR_METHOD_NOT_IMPLEMENTED,r=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function l(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,n){n(new s("_transform()"))},d.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/_stream_transform.js"}],[2407,{"../errors":2402,"./_stream_duplex":2403,"./internal/streams/destroy":2410,"./internal/streams/state":2414,"./internal/streams/stream":2415,_process:5089,buffer:4084,inherits:4617,"util-deprecate":5730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var s=i.callback;t.pendingcb--,s(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var s;t.exports=_,_.WritableState=v;var r={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),o=e("buffer").Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,d=e("./internal/streams/destroy"),u=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,m=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,x=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function T(){}function v(t,r,a){s=s||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=r instanceof s),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=u(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,s=i.sync,r=i.writecb;if("function"!=typeof r)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,s,r){--t.pendingcb,i?(n.nextTick(r,s),n.nextTick(A,e,t),e._writableState.errorEmitted=!0,S(e,s)):(r(s),e._writableState.errorEmitted=!0,S(e,s),A(e,t))}(e,i,s,t,r);else{var a=P(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||C(e,i),s?n.nextTick(k,e,i,a,r):k(e,i,a,r)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function _(t){var n=this instanceof(s=s||e("./_stream_duplex"));if(!n&&!l.call(_,this))return new _(t);this._writableState=new v(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function E(e,t,n,i,s,r,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(s,t.onwrite):e._write(s,r,t.onwrite),t.sync=!1}function k(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),A(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var s=t.bufferedRequestCount,r=new Array(s),a=t.corkedRequestsFree;a.entry=n;for(var o=0,c=!0;n;)r[o]=n,n.isBuf||(c=!1),n=n.next,o+=1;r.allBuffers=c,E(e,t,!0,t.length,r,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,d=n.encoding,u=n.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final(function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var i=P(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var s=e._readableState;(!s||s.autoDestroy&&s.endEmitted)&&e.destroy()}return i}e("inherits")(_,a),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===_&&(e&&e._writableState instanceof v)}})):l=function(e){return e instanceof this},_.prototype.pipe=function(){S(this,new g)},_.prototype.write=function(e,t,i){var s,r=this._writableState,a=!1,l=!r.objectMode&&(s=e,o.isBuffer(s)||s instanceof c);return l&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(i=t,t=null),l?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=T),r.ending?function(e,t){var i=new x;S(e,i),n.nextTick(t,i)}(this,i):(l||function(e,t,i,s){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new m("chunk",["string","Buffer"],i)),!r||(S(e,r),n.nextTick(s,r),!1)}(this,r,e,i))&&(r.pendingcb++,a=function(e,t,n,i,s,r){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n));return t}(t,i,s);i!==a&&(n=!0,s="buffer",i=a)}var c=t.objectMode?1:i.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:r,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,i,s,r);return l}(this,r,l,e,t,i)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||C(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new f("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,i){var s=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&e!==undefined&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||function(e,t,i){t.ending=!0,A(e,t),i&&(t.finished?n.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,s,i),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=d.destroy,_.prototype._undestroy=d.undestroy,_.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/_stream_writable.js"}],[2408,{"./end-of-stream":2411,_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i;function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=e("./end-of-stream"),a=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function m(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[d]=null,e[a]=null,e[o]=null,t(m(n,!1)))}}function p(e){n.nextTick(f,e)}var g=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((s(i={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(m(undefined,!0));if(this[h].destroyed)return new Promise(function(t,i){n.nextTick(function(){e[c]?i(e[c]):t(m(undefined,!0))})});var i,s=this[d];if(s)i=new Promise(function(e,t){return function(n,i){e.then(function(){t[l]?n(m(undefined,!0)):t[u](n,i)},i)}}(s,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(m(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var e=this;return new Promise(function(t,n){e[h].destroy(null,function(e){e?n(e):t(m(undefined,!0))})})}),i),g);t.exports=function(e){var t,n=Object.create(b,(s(t={},h,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,o,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:e._readableState.endEmitted,writable:!0}),s(t,u,{value:function(e,t){var i=n[h].read();i?(n[d]=null,n[a]=null,n[o]=null,e(m(i,!1))):(n[a]=e,n[o]=t)},writable:!0}),t));return n[d]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[o];return null!==t&&(n[d]=null,n[a]=null,n[o]=null,t(e)),void(n[c]=e)}var i=n[a];null!==i&&(n[d]=null,n[a]=null,n[o]=null,i(m(undefined,!0))),n[l]=!0}),e.on("readable",p.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2409,{buffer:4084,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=e("buffer").Buffer,l=e("util").inspect,d=l&&l.custom||"inspect";function u(e,t,n){c.prototype.copy.call(e,t,n)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,i;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),n=this.head,i=0;n;)u(n.data,t,i),i+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var s=t.data,r=e>s.length?s.length:e;if(r===s.length?i+=s:i+=s.slice(0,e),0===(e-=r)){r===s.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=s.slice(r));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var s=n.data,r=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,r),0===(e-=r)){r===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(r));break}++i}return this.length-=i,t}},{key:d,value:function(e,t){return l(this,s(s({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2410,{_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}t.exports={destroy:function(t,r){var a=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(s,this,t)):e.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!r&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(i,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):r?(e.nextTick(i,a),r(t)):e.nextTick(i,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2411,{"../../../errors":2402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}t.exports=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={}),r=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e.apply(this,i)}}}(r||s);var a=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){o=!1,l=!0,a||r.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,u=!0,o||r.call(t)},m=function(e){r.call(t,e)},f=function(){var e;return a&&!u?(t._readableState&&t._readableState.ended||(e=new i),r.call(t,e)):o&&!l?(t._writableState&&t._writableState.ended||(e=new i),r.call(t,e)):void 0},p=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?p():t.on("request",p)),t.on("end",h),t.on("finish",d),!1!==n.error&&t.on("error",m),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",f)}}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[2412,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2413,{"../../../errors":2402,"./end-of-stream":2411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;var s=e("../../../errors").codes,r=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var d,u=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new r("streams");var h=n.map(function(t,s){var r=s<n.length-1;return function(t,n,s,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var o=!1;t.on("close",function(){o=!0}),i===undefined&&(i=e("./end-of-stream")),i(t,{readable:n,writable:s},function(e){if(e)return r(e);o=!0,r()});var c=!1;return function(e){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void r(e||new a("pipe"))}}(t,r,s>0,function(e){d||(d=e),e&&h.forEach(c),r||(h.forEach(c),u(d))})});return n.reduce(l)}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[2414,{"../../../errors":2402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,s){var r=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new i(s?n:"highWaterMark",r);return Math.floor(r)}return e.objectMode?16:16384}}}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/state.js"}],[2415,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2416,{"./lib/_stream_duplex.js":2403,"./lib/_stream_passthrough.js":2404,"./lib/_stream_readable.js":2405,"./lib/_stream_transform.js":2406,"./lib/_stream_writable.js":2407,"./lib/internal/streams/end-of-stream.js":2411,"./lib/internal/streams/pipeline.js":2413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/object-multiplex>readable-stream",file:"node_modules/@metamask/object-multiplex/node_modules/readable-stream/readable-browser.js"}],[242,{"../../../../shared/constants/permissions":5799,"@metamask/chain-agnostic-permission":1420,"@metamask/snaps-rpc-methods":2730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unrestrictedMethods=n.unrestrictedEthSigningMethods=n.getPermissionSpecifications=n.getCaveatSpecifications=n.PermissionNames=n.CaveatFactories=void 0;var i=e("@metamask/snaps-rpc-methods"),s=e("@metamask/chain-agnostic-permission"),r=e("../../../../shared/constants/permissions");n.PermissionNames=Object.freeze({...r.RestrictedMethods,...r.EndowmentTypes}),n.CaveatFactories=Object.freeze({[s.Caip25CaveatType]:s.createCaip25Caveat});n.getCaveatSpecifications=({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:r})=>({[s.Caip25CaveatType]:(0,s.caip25CaveatBuilder)({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:r}),...i.caveatSpecifications,...i.endowmentCaveatSpecifications});n.getPermissionSpecifications=()=>({[s.caip25EndowmentBuilder.targetName]:s.caip25EndowmentBuilder.specificationBuilder({})});n.unrestrictedEthSigningMethods=Object.freeze(["eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"]),n.unrestrictedMethods=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_requestAccounts","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_subscribe","eth_syncing","eth_uninstallFilter","eth_unsubscribe","metamask_getProviderState","metamask_logWeb3ShimUsage","metamask_sendDomainMetadata","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_requestExecutionPermissions","wallet_addEthereumChain","wallet_getCallsStatus","wallet_getCapabilities","wallet_getPermissions","wallet_requestPermissions","wallet_revokePermissions","wallet_registerOnboarding","wallet_sendCalls","wallet_switchEthereumChain","wallet_watchAsset","wallet_upgradeAccount","wallet_getAccountUpgradeStatus","web3_clientVersion","web3_sha3","wallet_getAllSnaps","wallet_getSnaps","wallet_requestSnaps","wallet_invokeSnap","wallet_invokeKeyring","snap_getClientStatus","snap_getCurrencyRate","snap_clearState","snap_getFile","snap_getState","snap_listEntropySources","snap_createInterface","snap_updateInterface","snap_getInterfaceState","snap_getInterfaceContext","snap_resolveInterface","snap_setState","snap_scheduleBackgroundEvent","snap_cancelBackgroundEvent","snap_getBackgroundEvents","snap_experimentalProviderRequest","snap_trackError","snap_trackEvent","snap_openWebSocket","snap_sendWebSocketMessage","snap_closeWebSocket","snap_getWebSockets","snap_startTrace","snap_endTrace"])}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}],[2438,{"./Permission.cjs":2439,"./errors.cjs":2442,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decorateWithCaveats=n.isRestrictedMethodCaveatSpecification=void 0;const i=e("@metamask/utils"),s=e("./errors.cjs"),r=e("./Permission.cjs");function a(e){return(0,i.hasProperty)(e,"decorator")}n.isRestrictedMethodCaveatSpecification=a,n.decorateWithCaveats=function(e,t,n){const{caveats:i}=t;if(!i)return e;let o=async t=>e(t);for(const e of i){const t=n[e.type];if(!t)throw new s.UnrecognizedCaveatTypeError(e.type);if(!a(t))throw new s.CaveatSpecificationMismatchError(t,r.PermissionType.RestrictedMethod);o=t.decorator(o,e)}return o}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Caveat.cjs"}],[2439,{nanoid:5037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasSpecificationType=n.PermissionType=n.findCaveat=n.constructPermission=void 0;const i=e("nanoid");var s;n.constructPermission=function(e){const{caveats:t=null,invoker:n,target:s}=e;return{id:(0,i.nanoid)(),parentCapability:s,invoker:n,caveats:t,date:(new Date).getTime()}},n.findCaveat=function(e,t){return e.caveats?.find(e=>e.type===t)},function(e){e.RestrictedMethod="RestrictedMethod",e.Endowment="Endowment"}(s||(n.PermissionType=s={})),n.hasSpecificationType=function(e,t){return e.permissionType===t}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/Permission.cjs"}],[2440,{"./Caveat.cjs":2438,"./Permission.cjs":2439,"./errors.cjs":2442,"./permission-middleware.cjs":2444,"./utils.cjs":2449,"@metamask/base-controller":1362,"@metamask/controller-utils":1449,"@metamask/rpc-errors":2600,"@metamask/utils":3116,"deep-freeze-strict":4236,immer:4616,nanoid:5037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S,T,v,_,E,k,C,P,O,A,I,N,j,R,M=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},L=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},D=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionController=n.CaveatMutatorOperation=void 0;const B=e("@metamask/base-controller"),U=e("@metamask/controller-utils"),F=e("@metamask/rpc-errors"),H=e("@metamask/utils"),K=D(e("deep-freeze-strict")),G=e("immer"),W=e("nanoid"),q=e("./Caveat.cjs"),V=e("./errors.cjs"),$=e("./Permission.cjs"),z=e("./permission-middleware.cjs"),X=e("./utils.cjs"),Y="PermissionController";var J;!function(e){e[e.Noop=0]="Noop",e[e.UpdateValue=1]="UpdateValue",e[e.DeleteCaveat=2]="DeleteCaveat",e[e.RevokePermission=3]="RevokePermission"}(J||(n.CaveatMutatorOperation=J={}));class Z extends B.BaseController{get unrestrictedMethods(){return M(this,a,"f")}constructor(e){const{caveatSpecifications:t,permissionSpecifications:n,unrestrictedMethods:o,messenger:c,state:l={}}=e;super({name:Y,metadata:{subjects:{includeInStateLogs:!0,includeInDebugSnapshot:!0,persist:!0,usedInUi:!0}},messenger:c,state:{subjects:{},...l}}),i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),L(this,a,new Set(o),"f"),L(this,s,(0,K.default)({...t}),"f"),M(this,i,"m",d).call(this,n,M(this,s,"f")),L(this,r,(0,K.default)({...n}),"f"),M(this,i,"m",u).call(this),this.createPermissionMiddleware=(0,z.getPermissionMiddlewareFactory)({executeRestrictedMethod:M(this,i,"m",R).bind(this),getRestrictedMethod:this.getRestrictedMethod.bind(this),isUnrestrictedMethod:this.unrestrictedMethods.has.bind(this.unrestrictedMethods)})}clearState(){this.update(e=>({subjects:{}}))}getRestrictedMethod(e,t){return M(this,i,"m",h).call(this,$.PermissionType.RestrictedMethod,e,t).methodImplementation}getSubjectNames(){return Object.keys(this.state.subjects)}getPermission(e,t){return this.state.subjects[e]?.permissions[t]}getPermissions(e){return this.state.subjects[e]?.permissions}hasPermission(e,t){return Boolean(this.getPermission(e,t))}hasPermissions(e){return Boolean(this.state.subjects[e])}revokeAllPermissions(e){this.update(t=>{if(!t.subjects[e])throw new V.UnrecognizedSubjectError(e);delete t.subjects[e]})}revokePermission(e,t){this.revokePermissions({[e]:[t]})}revokePermissions(e){this.update(t=>{Object.keys(e).forEach(n=>{if(!(0,H.hasProperty)(t.subjects,n))throw new V.UnrecognizedSubjectError(n);e[n].forEach(e=>{const{permissions:s}=t.subjects[n];if(!(0,H.hasProperty)(s,e))throw new V.PermissionDoesNotExistError(n,e);M(this,i,"m",m).call(this,t.subjects,n,e)})})})}revokePermissionForAllSubjects(e){0!==this.getSubjectNames().length&&this.update(t=>{Object.entries(t.subjects).forEach(([n,s])=>{const{permissions:r}=s;(0,H.hasProperty)(r,e)&&M(this,i,"m",m).call(this,t.subjects,n,e)})})}hasCaveat(e,t,n){return Boolean(this.getCaveat(e,t,n))}getCaveat(e,t,n){const i=this.getPermission(e,t);if(!i)throw new V.PermissionDoesNotExistError(e,t);return(0,$.findCaveat)(i,n)}addCaveat(e,t,n,s){if(this.hasCaveat(e,t,n))throw new V.CaveatAlreadyExistsError(e,t,n);M(this,i,"m",f).call(this,e,t,n,s)}updateCaveat(e,t,n,s){if(!this.hasCaveat(e,t,n))throw new V.CaveatDoesNotExistError(e,t,n);M(this,i,"m",f).call(this,e,t,n,s)}updatePermissionsByCaveat(e,t){0!==Object.keys(this.state.subjects).length&&this.update(n=>{Object.values(n.subjects).forEach(s=>{Object.values(s.permissions).forEach(r=>{const{caveats:a}=r,o=a?.find(({type:t})=>t===e);if(!o)return;const c=t(o.value),{operation:l}=c;switch(l){case J.Noop:break;case J.UpdateValue:o.value=c.value,M(this,i,"m",T).call(this,o,s.origin,r.parentCapability);break;case J.DeleteCaveat:M(this,i,"m",p).call(this,r,e,s.origin);break;case J.RevokePermission:M(this,i,"m",m).call(this,n.subjects,s.origin,r.parentCapability);break;default:throw new Error(`Unrecognized mutation result: "${l}"`)}})})})}removeCaveat(e,t,n){this.update(s=>{const r=s.subjects[e]?.permissions[t];if(!r)throw new V.PermissionDoesNotExistError(e,t);if(!r.caveats)throw new V.CaveatDoesNotExistError(e,t,n);M(this,i,"m",p).call(this,r,n,e)})}grantPermissions({approvedPermissions:e,requestData:t,preserveExistingPermissions:n=!0,subject:s}){return M(this,i,"m",y).call(this,{approvedPermissions:e,subject:s,mergePermissions:!1,preserveExistingPermissions:n,requestData:t})}grantPermissionsIncremental({approvedPermissions:e,requestData:t,subject:n}){return M(this,i,"m",y).call(this,{approvedPermissions:e,subject:n,mergePermissions:!0,preserveExistingPermissions:!0,requestData:t})}async requestPermissions(e,t,n={}){const{origin:s}=e,{id:r=(0,W.nanoid)(),preserveExistingPermissions:a=!0}=n;M(this,i,"m",v).call(this,s,t);const o={...n.metadata,id:r,origin:s},c={metadata:o,permissions:t},l=await M(this,i,"m",C).call(this,c);return await M(this,i,"m",P).call(this,{subject:e,metadata:o,preserveExistingPermissions:a,approvedRequest:l})}async requestPermissionsIncremental(e,t,n={}){const{origin:s}=e,{id:r=(0,W.nanoid)()}=n;M(this,i,"m",v).call(this,s,t);const a=this.getPermissions(s)??{},[o,c]=M(this,i,"m",_).call(this,a,t);if(o===undefined||c===undefined)return[];try{M(this,i,"m",v).call(this,s,o)}catch(e){if(e instanceof Error)throw new V.InvalidMergedPermissionsError(s,e,c);throw(0,V.internalError)("Unrecognized error type",{error:e})}const l={...n.metadata,id:r,origin:s},d={metadata:l,permissions:o,diff:{currentPermissions:a,permissionDiffMap:c}},u=await M(this,i,"m",C).call(this,d);return await M(this,i,"m",P).call(this,{subject:e,metadata:l,preserveExistingPermissions:!1,approvedRequest:u})}async acceptPermissionsRequest(e){const{id:t}=e.metadata;if(!M(this,i,"m",N).call(this,{id:t}))throw new V.PermissionsRequestNotFoundError(t);if(0!==Object.keys(e.permissions).length)try{await this.messenger.call("ApprovalController:acceptRequest",t,e)}catch(e){throw M(this,i,"m",j).call(this,t,e),e}else M(this,i,"m",j).call(this,t,(0,V.invalidParams)({message:"Must request at least one permission."}))}async rejectPermissionsRequest(e){if(!M(this,i,"m",N).call(this,{id:e}))throw new V.PermissionsRequestNotFoundError(e);M(this,i,"m",j).call(this,e,(0,V.userRejectedRequest)())}async getEndowments(e,t,n){if(!this.hasPermission(e,t))throw(0,V.unauthorized)({data:{origin:e,targetName:t}});return M(this,i,"m",h).call(this,$.PermissionType.Endowment,t,e).endowmentGetter({origin:e,requestData:n})}async executeRestrictedMethod(e,t,n){const s=this.getRestrictedMethod(t,e),r=await M(this,i,"m",R).call(this,s,{origin:e},t,n);if(r===undefined)throw new Error(`Internal request for method "${t}" as origin "${e}" returned no result.`);return r}}n.PermissionController=Z,s=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakSet,o=function(e){return M(this,r,"f")[e]},c=function(e){return M(this,s,"f")[e]},l=function(e){const{merger:t}=M(this,i,"m",c).call(this,e);if(t===undefined)throw new V.CaveatMergerDoesNotExistError(e);return t},d=function(e,t){Object.entries(e).forEach(([e,{permissionType:n,targetName:i,allowedCaveats:s}])=>{if(!n||!(0,H.hasProperty)($.PermissionType,n))throw new Error(`Invalid permission type: "${n}"`);if(!e)throw new Error(`Invalid permission target name: "${e}"`);if(e!==i)throw new Error(`Invalid permission specification: target name "${e}" must match specification.targetName value "${i}".`);s&&s.forEach(e=>{if(!(0,H.hasProperty)(t,e))throw new V.UnrecognizedCaveatTypeError(e);const i=t[e],s=(0,q.isRestrictedMethodCaveatSpecification)(i);if(n===$.PermissionType.RestrictedMethod&&!s||n===$.PermissionType.Endowment&&s)throw new V.CaveatSpecificationMismatchError(i,n)})})},u=function(){this.messenger.registerActionHandler(`${Y}:clearPermissions`,()=>this.clearState()),this.messenger.registerActionHandler(`${Y}:getEndowments`,(e,t,n)=>this.getEndowments(e,t,n)),this.messenger.registerActionHandler(`${Y}:getSubjectNames`,()=>this.getSubjectNames()),this.messenger.registerActionHandler(`${Y}:getPermissions`,e=>this.getPermissions(e)),this.messenger.registerActionHandler(`${Y}:hasPermission`,(e,t)=>this.hasPermission(e,t)),this.messenger.registerActionHandler(`${Y}:hasPermissions`,e=>this.hasPermissions(e)),this.messenger.registerActionHandler(`${Y}:grantPermissions`,this.grantPermissions.bind(this)),this.messenger.registerActionHandler(`${Y}:grantPermissionsIncremental`,this.grantPermissionsIncremental.bind(this)),this.messenger.registerActionHandler(`${Y}:requestPermissions`,(e,t)=>this.requestPermissions(e,t)),this.messenger.registerActionHandler(`${Y}:requestPermissionsIncremental`,(e,t)=>this.requestPermissionsIncremental(e,t)),this.messenger.registerActionHandler(`${Y}:revokeAllPermissions`,e=>this.revokeAllPermissions(e)),this.messenger.registerActionHandler(`${Y}:revokePermissionForAllSubjects`,e=>this.revokePermissionForAllSubjects(e)),this.messenger.registerActionHandler(`${Y}:revokePermissions`,this.revokePermissions.bind(this)),this.messenger.registerActionHandler(`${Y}:updateCaveat`,(e,t,n,i)=>{this.updateCaveat(e,t,n,i)}),this.messenger.registerActionHandler(`${Y}:getCaveat`,(e,t,n)=>this.getCaveat(e,t,n))},h=function(e,t,n){const s=e===$.PermissionType.RestrictedMethod?(0,V.methodNotFound)(t,n?{origin:n}:undefined):new V.EndowmentPermissionDoesNotExistError(t,n);if(!M(this,i,"m",b).call(this,t))throw s;const r=M(this,i,"m",o).call(this,t);if(!(0,$.hasSpecificationType)(r,e))throw s;return r},m=function(e,t,n){const{permissions:i}=e[t];Object.keys(i).length>1?delete i[n]:delete e[t]},f=function(e,t,n,s){this.update(r=>{const a=r.subjects[e];if(!a)throw new V.UnrecognizedSubjectError(e);const o=a.permissions[t];if(!o)throw new V.PermissionDoesNotExistError(e,t);const c={type:n,value:s};M(this,i,"m",T).call(this,c,e,t);let l=!1;if(o.caveats){const e=o.caveats.findIndex(e=>e.type===c.type);-1===e?(o.caveats.push(c),l=!0):o.caveats.splice(e,1,c)}else o.caveats=[c],l=!0;l&&M(this,i,"m",g).call(this,o,e,{invokePermissionValidator:!0,performCaveatValidation:!1})})},p=function(e,t,n){if(!e.caveats)throw new V.CaveatDoesNotExistError(n,e.parentCapability,t);const s=e.caveats.findIndex(e=>e.type===t);if(-1===s)throw new V.CaveatDoesNotExistError(n,e.parentCapability,t);1===e.caveats.length?e.caveats=null:e.caveats.splice(s,1),M(this,i,"m",g).call(this,e,n,{invokePermissionValidator:!0,performCaveatValidation:!1})},g=function(e,t,n){if(!M(this,i,"m",b).call(this,e.parentCapability))throw new Error(`Fatal: Existing permission target "${e.parentCapability}" has no specification.`);M(this,i,"m",x).call(this,M(this,i,"m",o).call(this,e.parentCapability),e,t,n)},b=function(e){return(0,H.hasProperty)(M(this,r,"f"),e)},y=function({approvedPermissions:e,subject:t,mergePermissions:n,preserveExistingPermissions:s,requestData:r}){const{origin:a}=t;if(!a||"string"!=typeof a)throw new V.InvalidSubjectIdentifierError(a);const c=s?{...this.getPermissions(a)}:{};for(const[t,s]of Object.entries(e)){if(!M(this,i,"m",b).call(this,t))throw(0,V.methodNotFound)(t);if(s.parentCapability!==undefined&&t!==s.parentCapability)throw new V.InvalidApprovedPermissionError(a,t,s);const e=t,l=M(this,i,"m",o).call(this,e),d={caveats:M(this,i,"m",S).call(this,a,e,s.caveats),invoker:a,target:e};let u;u=l.factory?l.factory(d,r):(0,$.constructPermission)(d),n&&(u=M(this,i,"m",E).call(this,c[e],u)[0]),M(this,i,"m",x).call(this,l,u,a,{invokePermissionValidator:!0,performCaveatValidation:!0}),c[e]=u}return M(this,i,"m",w).call(this,a,c),c},x=function(e,t,n,{invokePermissionValidator:s,performCaveatValidation:r}){const{allowedCaveats:a,validator:o,targetName:c}=e;if(e.subjectTypes?.length&&e.subjectTypes.length>0){const t=this.messenger.call("SubjectMetadataController:getSubjectMetadata",n);if(!t||null===t.subjectType||!e.subjectTypes.includes(t.subjectType))throw e.permissionType===$.PermissionType.RestrictedMethod?(0,V.methodNotFound)(c,{origin:n}):new V.EndowmentPermissionDoesNotExistError(c,n)}if((0,H.hasProperty)(t,"caveats")){const{caveats:e}=t;if(null!==e&&!(Array.isArray(e)&&e.length>0))throw new V.InvalidCaveatsPropertyError(n,c,e);const s=new Set;e?.forEach(e=>{if(r&&M(this,i,"m",T).call(this,e,n,c),!a?.includes(e.type))throw new V.ForbiddenCaveatError(e.type,n,c);if(s.has(e.type))throw new V.DuplicateCaveatError(e.type,n,c);s.add(e.type)})}s&&o&&o(t,n,c)},w=function(e,t){this.update(n=>{n.subjects[e]||(n.subjects[e]={origin:e,permissions:{}}),n.subjects[e].permissions=(0,G.castDraft)(t)})},S=function(e,t,n){const s=n?.map(n=>{M(this,i,"m",T).call(this,n,e,t);const{type:s,value:r}=n;return{type:s,value:r}});return s&&(0,U.isNonEmptyArray)(s)?s:undefined},T=function(e,t,n){if(!(0,U.isPlainObject)(e))throw new V.InvalidCaveatError(e,t,n);if(2!==Object.keys(e).length)throw new V.InvalidCaveatFieldsError(e,t,n);if("string"!=typeof e.type)throw new V.InvalidCaveatTypeError(e,t,n);const s=M(this,i,"m",c).call(this,e.type);if(!s)throw new V.UnrecognizedCaveatTypeError(e.type,t,n);if(!(0,H.hasProperty)(e,"value")||e.value===undefined)throw new V.CaveatMissingValueError(e,t,n);if(!(0,U.isValidJson)(e.value))throw new V.CaveatInvalidJsonError(e,t,n);s.validator?.(e,t,n)},v=function(e,t){if(!(0,U.isPlainObject)(t))throw(0,V.invalidParams)({message:`Requested permissions for origin "${e}" is not a plain object.`,data:{origin:e,requestedPermissions:t}});if(0===Object.keys(t).length)throw(0,V.invalidParams)({message:`Permissions request for origin "${e}" contains no permissions.`,data:{requestedPermissions:t}});for(const n of Object.keys(t)){const s=t[n];if(!M(this,i,"m",b).call(this,n))throw(0,V.methodNotFound)(n,{origin:e,requestedPermissions:t});if(!(0,U.isPlainObject)(s)||s.parentCapability!==undefined&&n!==s.parentCapability)throw(0,V.invalidParams)({message:`Permissions request for origin "${e}" contains invalid requested permission(s).`,data:{origin:e,requestedPermissions:t}});M(this,i,"m",x).call(this,M(this,i,"m",o).call(this,n),s,e,{invokePermissionValidator:!1,performCaveatValidation:!0})}},_=function(e,t){const n={},s=(0,G.produce)(e,e=>{const s=e;Object.entries(t).forEach(([e,t])=>{const r=s[e],[a,o]=M(this,i,"m",E).call(this,r??{},t);(r===undefined||Object.keys(o).length>0)&&(s[e]=a,n[e]=o)})});return 0===Object.keys(n).length?[]:[s,n]},E=function(e,t){const{caveatPairs:n,leftUniqueCaveats:s,rightUniqueCaveats:r}=(0,X.collectUniqueAndPairedCaveats)(e,t),[a,o]=n.reduce(([e,t],[n,s])=>{const[r,a]=M(this,i,"m",k).call(this,n,s);return r!==undefined&&a!==undefined?(e.push(r),t[r.type]=a):e.push(n),[e,t]},[[],{}]),c=[...a,...s,...r.map(e=>{const[t,n]=M(this,i,"m",k).call(this,undefined,e);return o[t.type]=n,t})];return[{...e,...t,...c.length>0?{caveats:c}:{}},o]},k=function(e,t){if(e!==undefined&&e.type!==t.type)throw new V.CaveatMergeTypeMismatchError(e.type,t.type);const n=M(this,i,"m",l).call(this,t.type);if(e===undefined)return[{...t},t.value];const[s,r]=n(e.value,t.value);return s!==undefined&&r!==undefined?[{type:t.type,value:s},r]:[]},C=async function(e){const{origin:t,id:n}=e.metadata,s=await this.messenger.call("ApprovalController:addRequest",{id:n,origin:t,requestData:e,type:X.MethodNames.RequestPermissions},!0);return M(this,i,"m",I).call(this,s,{id:n,origin:t}),s},P=async function({subject:e,metadata:t,preserveExistingPermissions:n,approvedRequest:s}){const{permissions:r,...a}=s,o={...t},c=M(this,i,"m",O).call(this,r);if(Object.values(c.permittedHandlers).length>0){const e=await M(this,i,"m",A).call(this,c,s);o.data=Object.keys(c.permittedHandlers).reduce((t,n,i)=>({[n]:e[i],...t}),{})}return[this.grantPermissions({subject:e,approvedPermissions:r,preserveExistingPermissions:n,requestData:a}),o]},O=function(e){return Object.keys(e).reduce((e,t)=>{if(M(this,i,"m",b).call(this,t)){const n=M(this,i,"m",o).call(this,t);n.sideEffect&&(e.permittedHandlers[t]=n.sideEffect.onPermitted,n.sideEffect.onFailure&&(e.failureHandlers[t]=n.sideEffect.onFailure))}return e},{permittedHandlers:{},failureHandlers:{}})},A=async function(e,t){const{permittedHandlers:n,failureHandlers:i}=e,s={requestData:t,messenger:this.messenger},r=await Promise.allSettled(Object.values(n).map(e=>e(s))),a=r.filter(e=>"rejected"===e.status);if(a.length>0){const e=Object.values(i);if(e.length>0)try{await Promise.all(e.map(e=>e(s)))}catch(e){throw(0,V.internalError)("Unexpected error in side-effects",{error:e})}const t=a.map(e=>e.reason);throw t.forEach(e=>{console.error(e)}),t.length>1?(0,V.internalError)("Multiple errors occurred during side-effects execution",{errors:t}):t[0]}return r.map(({value:e})=>e)},I=function(e,t){const{id:n,origin:s}=t;if(!(0,U.isPlainObject)(e)||!(0,U.isPlainObject)(e.metadata))throw(0,V.internalError)(`Approved permissions request for subject "${s}" is invalid.`,{data:{approvedRequest:e}});const{metadata:{id:r,origin:a},permissions:o}=e;if(r!==n)throw(0,V.internalError)(`Approved permissions request for subject "${s}" mutated its id.`,{originalId:n,mutatedId:r});if(a!==s)throw(0,V.internalError)(`Approved permissions request for subject "${s}" mutated its origin.`,{originalOrigin:s,mutatedOrigin:a});try{M(this,i,"m",v).call(this,s,o)}catch(e){if(e instanceof Error)throw(0,V.internalError)(`Invalid approved permissions request: ${e.message}`,e instanceof F.JsonRpcError?e.data:undefined);throw(0,V.internalError)("Unrecognized error type",{error:e})}},N=function(e){return this.messenger.call("ApprovalController:hasRequest",e)},j=function(e,t){return this.messenger.call("ApprovalController:rejectRequest",e,t)},R=function(e,t,n,i=[]){const{origin:r}=t,a=this.getPermission(r,n);if(!a)throw(0,V.unauthorized)({data:{origin:r,method:n}});return(0,q.decorateWithCaveats)(e,a,M(this,s,"f"))({method:n,params:i,context:{origin:r}})}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/PermissionController.cjs"}],[2441,{"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.SubjectMetadataController=n.SubjectType=void 0;const d=e("@metamask/base-controller");var u;!function(e){e.Extension="extension",e.Internal="internal",e.Unknown="unknown",e.Website="website",e.Snap="snap"}(u||(n.SubjectType=u={}));const h={subjectMetadata:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}},m={subjectMetadata:{}};class f extends d.BaseController{constructor({messenger:e,subjectCacheLimit:t,state:n={}}){if(!Number.isInteger(t)||t<1)throw new Error(`subjectCacheLimit must be a positive integer. Received: "${t}"`);const d=t=>e.call("PermissionController:hasPermissions",t);super({name:"SubjectMetadataController",metadata:h,messenger:e,state:{...c(i,i,"m",o).call(i,n,d)}}),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),l(this,a,d,"f"),l(this,s,t,"f"),l(this,r,new Set,"f"),this.messenger.registerActionHandler(`${this.name}:getSubjectMetadata`,this.getSubjectMetadata.bind(this)),this.messenger.registerActionHandler(`${this.name}:addSubjectMetadata`,this.addSubjectMetadata.bind(this))}clearState(){c(this,r,"f").clear(),this.update(e=>({...m}))}addSubjectMetadata(e){const{origin:t}=e,n={...e,extensionId:e.extensionId??null,iconUrl:e.iconUrl??null,name:e.name??null,subjectType:e.subjectType??null};let i=null;if(c(this,r,"f").size>=c(this,s,"f")){const e=c(this,r,"f").values().next().value;c(this,r,"f").delete(e),c(this,a,"f").call(this,e)||(i=e)}c(this,r,"f").add(t),this.update(e=>{e.subjectMetadata[t]=n,"string"==typeof i&&delete e.subjectMetadata[i]})}getSubjectMetadata(e){return this.state.subjectMetadata[e]}trimMetadataState(){this.update(()=>c(i,i,"m",o).call(i,this.state,c(this,a,"f")))}}n.SubjectMetadataController=f,i=f,s=new WeakMap,r=new WeakMap,a=new WeakMap,o=function(e,t){const{subjectMetadata:n={}}=e;return{subjectMetadata:Object.keys(n).reduce((e,i)=>(t(i)&&(e[i]=n[i]),e),{})}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/SubjectMetadataController.cjs"}],[2442,{"@metamask/rpc-errors":2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsRequestNotFoundError=n.CaveatSpecificationMismatchError=n.CaveatMergeTypeMismatchError=n.DuplicateCaveatError=n.ForbiddenCaveatError=n.InvalidCaveatFieldsError=n.CaveatInvalidJsonError=n.CaveatMissingValueError=n.InvalidCaveatTypeError=n.InvalidCaveatError=n.CaveatAlreadyExistsError=n.CaveatDoesNotExistError=n.InvalidCaveatsPropertyError=n.UnrecognizedCaveatTypeError=n.EndowmentPermissionDoesNotExistError=n.PermissionDoesNotExistError=n.InvalidApprovedPermissionError=n.InvalidMergedPermissionsError=n.CaveatMergerDoesNotExistError=n.UnrecognizedSubjectError=n.InvalidSubjectIdentifierError=n.internalError=n.userRejectedRequest=n.invalidParams=n.methodNotFound=n.unauthorized=void 0;e("@metamask/rpc-errors");const i=e("@metamask/rpc-errors");n.unauthorized=function(e){return i.providerErrors.unauthorized({message:"Unauthorized to perform action. Try requesting the required permission(s) first. For more information, see: https://docs.metamask.io/guide/rpc-api.html#permissions",data:e.data})},n.methodNotFound=function(e,t){const n={message:`The method "${e}" does not exist / is not available.`};return t!==undefined&&(n.data=t),i.rpcErrors.methodNotFound(n)},n.invalidParams=function(e){return i.rpcErrors.invalidParams({data:e.data,message:e.message})},n.userRejectedRequest=function(e){return i.providerErrors.userRejectedRequest({data:e})},n.internalError=function(e,t){return i.rpcErrors.internal({message:e,data:t})};class s extends Error{constructor(e){super(e),this.name=this.constructor.name}}n.InvalidSubjectIdentifierError=class extends s{constructor(e){super(`Invalid subject identifier: "${"string"==typeof e?e:typeof e}"`),this.name=this.constructor.name}};n.UnrecognizedSubjectError=class extends s{constructor(e){super(`Unrecognized subject: "${e}" has no permissions.`),this.name=this.constructor.name}};n.CaveatMergerDoesNotExistError=class extends s{constructor(e){super(`Caveat value merger does not exist for type: "${e}"`)}};class r extends Error{constructor(e,t,n){super(`Invalid merged permissions for subject "${e}":\n${t.message}`),this.cause=t,this.data={diff:n}}}n.InvalidMergedPermissionsError=r;n.InvalidApprovedPermissionError=class extends s{constructor(e,t,n){super(`Invalid approved permission for origin "${e}" and target "${t}".`),this.data={origin:e,target:t,approvedPermission:n}}};n.PermissionDoesNotExistError=class extends s{constructor(e,t){super(`Subject "${e}" has no permission for "${t}".`)}};n.EndowmentPermissionDoesNotExistError=class extends s{constructor(e,t){super(`${t?`Subject "${t}"`:"Unknown subject"} has no permission for "${e}".`),t&&(this.data={origin:t})}};n.UnrecognizedCaveatTypeError=class extends s{constructor(e,t,n){super(`Unrecognized caveat type: "${e}"`),this.data={caveatType:e},t!==undefined&&(this.data.origin=t),n!==undefined&&(this.data.target=n)}};n.InvalidCaveatsPropertyError=class extends s{constructor(e,t,n){super(`The "caveats" property of permission for "${t}" of subject "${e}" is invalid. It must be a non-empty array if specified.`),this.data={origin:e,target:t,caveatsProperty:n}}};n.CaveatDoesNotExistError=class extends s{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" has no caveat of type "${n}".`)}};n.CaveatAlreadyExistsError=class extends s{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" already has a caveat of type "${n}".`)}};class a extends i.JsonRpcError{constructor(e,t,n){super(i.errorCodes.rpc.invalidParams,"Invalid caveat. Caveats must be plain objects.",{receivedCaveat:e}),this.data={origin:t,target:n}}}n.InvalidCaveatError=a;n.InvalidCaveatTypeError=class extends s{constructor(e,t,n){super(`Caveat types must be strings. Received: "${typeof e.type}"`),this.data={caveat:e,origin:t,target:n}}};n.CaveatMissingValueError=class extends s{constructor(e,t,n){super('Caveat is missing "value" field.'),this.data={caveat:e,origin:t,target:n}}};n.CaveatInvalidJsonError=class extends s{constructor(e,t,n){super('Caveat "value" is invalid JSON.'),this.data={caveat:e,origin:t,target:n}}};n.InvalidCaveatFieldsError=class extends s{constructor(e,t,n){super(`Caveat has unexpected number of fields: "${Object.keys(e).length}"`),this.data={caveat:e,origin:t,target:n}}};n.ForbiddenCaveatError=class extends s{constructor(e,t,n){super(`Permissions for target "${n}" may not have caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}};n.DuplicateCaveatError=class extends s{constructor(e,t,n){super(`Permissions for target "${n}" contains multiple caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}};n.CaveatMergeTypeMismatchError=class extends s{constructor(e,t){super(`Cannot merge caveats of different types: "${e}" and "${t}".`),this.data={leftCaveatType:e,rightCaveatType:t}}};n.CaveatSpecificationMismatchError=class extends s{constructor(e,t){super(`Caveat specification uses a mismatched type. Expected caveats for ${t}`),this.data={caveatSpec:e,permissionType:t}}};n.PermissionsRequestNotFoundError=class extends s{constructor(e){super(`Permissions request with id "${e}" not found.`)}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/errors.cjs"}],[2443,{"./Caveat.cjs":2438,"./Permission.cjs":2439,"./PermissionController.cjs":2440,"./SubjectMetadataController.cjs":2441,"./errors.cjs":2442,"./rpc-methods/index.cjs":2446,"./utils.cjs":2449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.permissionRpcMethods=n.MethodNames=void 0,r(e("./Caveat.cjs"),n),r(e("./errors.cjs"),n),r(e("./Permission.cjs"),n),r(e("./PermissionController.cjs"),n);var o=e("./utils.cjs");Object.defineProperty(n,"MethodNames",{enumerable:!0,get:function(){return o.MethodNames}}),n.permissionRpcMethods=a(e("./rpc-methods/index.cjs")),r(e("./SubjectMetadataController.cjs"),n)}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/index.cjs"}],[2444,{"./errors.cjs":2442,"@metamask/json-rpc-engine":2109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionMiddlewareFactory=void 0;const i=e("@metamask/json-rpc-engine"),s=e("./errors.cjs");n.getPermissionMiddlewareFactory=function({executeRestrictedMethod:e,getRestrictedMethod:t,isUnrestrictedMethod:n}){return function(r){const{origin:a}=r;if("string"!=typeof a||!a)throw new Error('The subject "origin" must be a non-empty string.');return(0,i.createAsyncMiddleware)(async(i,o,c)=>{const{method:l,params:d}=i;if(n(l))return c();const u=t(l,a),h=await e(u,r,l,d);return h===undefined?(o.error=(0,s.internalError)(`Request for method "${i.method}" returned undefined result.`,{request:i}),undefined):(o.result=h,undefined)})}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/permission-middleware.cjs"}],[2445,{"../utils.cjs":2449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionsHandler=void 0;const i=e("../utils.cjs");n.getPermissionsHandler={methodNames:[i.MethodNames.GetPermissions],implementation:async function(e,t,n,i,{getPermissionsForOrigin:s}){return t.result=Object.values(s()||{}),i()},hookNames:{getPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/getPermissions.cjs"}],[2446,{"./getPermissions.cjs":2445,"./requestPermissions.cjs":2447,"./revokePermissions.cjs":2448},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handlers=void 0;const i=e("./getPermissions.cjs"),s=e("./requestPermissions.cjs"),r=e("./revokePermissions.cjs");n.handlers=[s.requestPermissionsHandler,i.getPermissionsHandler,r.revokePermissionsHandler]}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/index.cjs"}],[2447,{"../errors.cjs":2442,"../utils.cjs":2449,"@metamask/controller-utils":1449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.requestPermissionsHandler=void 0;const i=e("@metamask/controller-utils"),s=e("../errors.cjs"),r=e("../utils.cjs");n.requestPermissionsHandler={methodNames:[r.MethodNames.RequestPermissions],implementation:async function(e,t,n,r,{requestPermissionsForOrigin:a}){const{params:o}=e;if(!Array.isArray(o)||!(0,i.isPlainObject)(o[0]))return r((0,s.invalidParams)({data:{request:e}}));const[c]=o,[l]=await a(c);return t.result=Object.values(l),r()},hookNames:{requestPermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/requestPermissions.cjs"}],[2448,{"../errors.cjs":2442,"../utils.cjs":2449,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.revokePermissionsHandler=void 0;const i=e("@metamask/utils"),s=e("../errors.cjs"),r=e("../utils.cjs");n.revokePermissionsHandler={methodNames:[r.MethodNames.RevokePermissions],implementation:async function(e,t,n,r,{revokePermissionsForOrigin:a}){const{params:o}=e,c=o?.[0];if(!c)return r((0,s.invalidParams)({data:{request:e}}));const l=Object.keys(c);if(!(0,i.isNonEmptyArray)(l))return r((0,s.invalidParams)({data:{request:e}}));return a(l),t.result=null,r()},hookNames:{revokePermissionsForOrigin:!0}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/rpc-methods/revokePermissions.cjs"}],[2449,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.collectUniqueAndPairedCaveats=n.MethodNames=void 0,function(e){e.RequestPermissions="wallet_requestPermissions",e.GetPermissions="wallet_getPermissions",e.RevokePermissions="wallet_revokePermissions"}(i||(n.MethodNames=i={})),n.collectUniqueAndPairedCaveats=function(e,t){const n=e?.caveats?.slice()??[],i=t.caveats?.slice()??[],s=[],r=[];return n.forEach(e=>{const t=i.findIndex(t=>t.type===e.type);-1===t?s.push(e):(r.push([e,i[t]]),i.splice(t,1))}),{caveatPairs:r,leftUniqueCaveats:s,rightUniqueCaveats:[...i]}}}}},{package:"@metamask/permission-controller",file:"node_modules/@metamask/permission-controller/dist/utils.cjs"}],[2453,{"./utils.cjs":2459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CacheManager=void 0;const h=e("./utils.cjs");n.CacheManager=class{constructor({cacheTTL:e=300,maxCacheSize:t=100,initialCache:n={},updateState:c}){i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,void 0),d(this,s,e,"f"),d(this,r,t,"f"),d(this,a,new Map(Object.entries(n)),"f"),d(this,o,c,"f"),u(this,i,"m",l).call(this)}setTTL(e){d(this,s,e,"f")}getTTL(){return u(this,s,"f")}setMaxSize(e){d(this,r,e,"f"),u(this,i,"m",l).call(this)}getMaxSize(){return u(this,r,"f")}getSize(){return u(this,a,"f").size}clear(){u(this,a,"f").clear(),u(this,i,"m",c).call(this)}get(e){const t=u(this,a,"f").get(e);if(!t)return undefined;return(0,h.fetchTimeNow)()-t.timestamp>u(this,s,"f")?(u(this,a,"f").delete(e),u(this,i,"m",c).call(this),undefined):t.data}set(e,t){u(this,a,"f").set(e,{data:t,timestamp:(0,h.fetchTimeNow)()}),u(this,i,"m",l).call(this),u(this,i,"m",c).call(this)}delete(e){const t=u(this,a,"f").delete(e);return t&&u(this,i,"m",c).call(this),t}keys(){return Array.from(u(this,a,"f").keys())}getAllEntries(){return Object.fromEntries(u(this,a,"f"))}},s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,i=new WeakSet,c=function(){u(this,o,"f").call(this,Object.fromEntries(u(this,a,"f")))},l=function(){if(u(this,a,"f").size<=u(this,r,"f"))return;const e=u(this,a,"f").size-u(this,r,"f");let t=0;for(const n of u(this,a,"f").keys()){if(t>=e)break;u(this,a,"f").delete(n),t+=1}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/CacheManager.cjs"}],[2454,{"./utils.cjs":2459},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyPathTrie=n.convertListToTrie=n.matchedPathPrefix=n.deleteFromTrie=n.insertToTrie=n.isTerminal=void 0;const i=e("./utils.cjs");n.isTerminal=e=>!(!e||"object"!=typeof e)&&0===Object.keys(e).length;n.insertToTrie=(e,t)=>{const{hostname:s,pathComponents:r}=(0,i.getHostnameAndPathComponents)(e);if(0===r.length||!s)return;const a=s.toLowerCase();t[a]||(t[a]={});let o=t[a];for(let e=0;e<r.length;e++){const t=r[e],i=e===r.length-1;if(o[t]!==undefined){if(!i&&(0,n.isTerminal)(o[t]))return;if(i)return void((0,n.isTerminal)(o[t])||(o[t]={}));o=o[t];continue}if(i)return void(o[t]={});const s={};o[t]=s,o=s}};n.deleteFromTrie=(e,t)=>{const{hostname:s,pathComponents:r}=(0,i.getHostnameAndPathComponents)(e),a=s.toLowerCase();if(0===r.length||!t[a])return;const o=[{node:t,key:a}];let c=t[a];for(const e of r){if(!c[e])return;o.push({node:c,key:e}),c=c[e]}const l=o[o.length-1];delete l.node[l.key];for(let e=o.length-2;e>=0;e--){const{node:t,key:i}=o[e];if(!(0,n.isTerminal)(t[i]))break;delete t[i]}};n.matchedPathPrefix=(e,t)=>{const{hostname:s,pathComponents:r}=(0,i.getHostnameAndPathComponents)(e),a=s.toLowerCase();if(0===r.length||!s||!t[a])return null;let o=`${s}/`,c=t[a];for(const e of r){if(!c[e])return null;if(c=c[e],(0,n.isTerminal)(c))return o+=e,o;o+=`${e}/`}return null};n.convertListToTrie=(e=[])=>{const t={};if(!e||!Array.isArray(e))return t;for(const i of e)(0,n.insertToTrie)(i,t);return t};const s=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=s(i);return t};n.deepCopyPathTrie=e=>e?s(e):{}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PathTrie.cjs"}],[2455,{"./CacheManager.cjs":2453,"./PathTrie.cjs":2454,"./PhishingDetector.cjs":2456,"./types.cjs":2458,"./utils.cjs":2459,"@metamask/base-controller":1362,"@metamask/controller-utils":1449,"punycode/punycode.js":5155},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S,T,v,_,E,k=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},C=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.PhishingController=n.phishingListKeyNameMap=n.ListNames=n.ListKeys=n.C2_DOMAIN_BLOCKLIST_URL=n.METAMASK_HOTLIST_DIFF_URL=n.METAMASK_STALELIST_URL=n.STALELIST_REFRESH_INTERVAL=n.HOTLIST_REFRESH_INTERVAL=n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL=n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE=n.DEFAULT_TOKEN_SCAN_CACHE_TTL=n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE=n.DEFAULT_URL_SCAN_CACHE_TTL=n.TOKEN_BULK_SCANNING_ENDPOINT=n.SECURITY_ALERTS_BASE_URL=n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT=n.PHISHING_DETECTION_SCAN_ENDPOINT=n.PHISHING_DETECTION_BASE_URL=n.C2_DOMAIN_BLOCKLIST_ENDPOINT=n.CLIENT_SIDE_DETECION_BASE_URL=n.METAMASK_HOTLIST_DIFF_FILE=n.METAMASK_STALELIST_FILE=n.PHISHING_CONFIG_BASE_URL=void 0;const P=e("@metamask/base-controller"),O=e("@metamask/controller-utils"),A=e("punycode/punycode.js"),I=e("./CacheManager.cjs"),N=e("./PathTrie.cjs"),j=e("./PhishingDetector.cjs"),R=e("./types.cjs"),M=e("./utils.cjs");var L,D;n.PHISHING_CONFIG_BASE_URL="https://phishing-detection.api.cx.metamask.io",n.METAMASK_STALELIST_FILE="/v1/stalelist",n.METAMASK_HOTLIST_DIFF_FILE="/v2/diffsSince",n.CLIENT_SIDE_DETECION_BASE_URL="https://client-side-detection.api.cx.metamask.io",n.C2_DOMAIN_BLOCKLIST_ENDPOINT="/v1/request-blocklist",n.PHISHING_DETECTION_BASE_URL="https://dapp-scanning.api.cx.metamask.io",n.PHISHING_DETECTION_SCAN_ENDPOINT="v2/scan",n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT="bulk-scan",n.SECURITY_ALERTS_BASE_URL="https://security-alerts.api.cx.metamask.io",n.TOKEN_BULK_SCANNING_ENDPOINT="/token/scan-bulk",n.DEFAULT_URL_SCAN_CACHE_TTL=900,n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE=250,n.DEFAULT_TOKEN_SCAN_CACHE_TTL=900,n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE=1e3,n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL=300,n.HOTLIST_REFRESH_INTERVAL=300,n.STALELIST_REFRESH_INTERVAL=2592e3,n.METAMASK_STALELIST_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_STALELIST_FILE}`,n.METAMASK_HOTLIST_DIFF_URL=`${n.PHISHING_CONFIG_BASE_URL}${n.METAMASK_HOTLIST_DIFF_FILE}`,n.C2_DOMAIN_BLOCKLIST_URL=`${n.CLIENT_SIDE_DETECION_BASE_URL}${n.C2_DOMAIN_BLOCKLIST_ENDPOINT}`,function(e){e.EthPhishingDetectConfig="eth_phishing_detect_config"}(L||(n.ListKeys=L={})),function(e){e.MetaMask="MetaMask"}(D||(n.ListNames=D={}));const B={[D.MetaMask]:L.EthPhishingDetectConfig};n.phishingListKeyNameMap={[L.EthPhishingDetectConfig]:D.MetaMask};const U="PhishingController",F={phishingLists:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},whitelist:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},whitelistPaths:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},hotlistLastFetched:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},stalelistLastFetched:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},c2DomainBlocklistLastFetched:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},urlScanCache:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},tokenScanCache:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}};class H extends P.BaseController{constructor({stalelistRefreshInterval:e=n.STALELIST_REFRESH_INTERVAL,hotlistRefreshInterval:t=n.HOTLIST_REFRESH_INTERVAL,c2DomainBlocklistRefreshInterval:g=n.C2_DOMAIN_BLOCKLIST_REFRESH_INTERVAL,urlScanCacheTTL:y=n.DEFAULT_URL_SCAN_CACHE_TTL,urlScanCacheMaxSize:x=n.DEFAULT_URL_SCAN_CACHE_MAX_SIZE,tokenScanCacheTTL:T=n.DEFAULT_TOKEN_SCAN_CACHE_TTL,tokenScanCacheMaxSize:v=n.DEFAULT_TOKEN_SCAN_CACHE_MAX_SIZE,messenger:_,state:E={}}){super({name:U,metadata:F,messenger:_,state:{phishingLists:[],whitelist:[],whitelistPaths:{},hotlistLastFetched:0,stalelistLastFetched:0,c2DomainBlocklistLastFetched:0,urlScanCache:{},tokenScanCache:{},...E}}),i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,void 0),h.set(this,void 0),m.set(this,void 0),this.scanUrl=async e=>{const[t,i]=(0,M.getHostnameFromWebUrl)(e);if(!i)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:"url is not a valid web URL"};const s=C(this,c,"f").get(t);if(s)return s;const r=await(0,O.safelyExecuteWithTimeout)(async()=>{const e=await fetch(`${n.PHISHING_DETECTION_BASE_URL}/${n.PHISHING_DETECTION_SCAN_ENDPOINT}?url=${encodeURIComponent(t)}`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)return{error:`${e.status} ${e.statusText}`};return await e.json()},!0,8e3);if(!r)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:"timeout of 8000ms exceeded"};if("error"in r)return{hostname:"",recommendedAction:R.RecommendedAction.None,fetchError:r.error};const a={hostname:t,recommendedAction:r.recommendedAction};return C(this,c,"f").set(t,a),a},this.bulkScanUrls=async e=>{if(!e||0===e.length)return{results:{},errors:{}};if(e.length>250)return{results:{},errors:{too_many_urls:["Maximum of 250 URLs allowed per request"]}};const t={results:{},errors:{}},n={},i=[];for(const s of e){if(s.length>2048){t.errors[s]=["URL length must not exceed 2048 characters"];continue}const[e,r]=(0,M.getHostnameFromWebUrl)(s);if(!r){t.errors[s]=["url is not a valid web URL"];continue}const a=C(this,c,"f").get(e);a?t.results[s]=a:(n[s]=e,i.push(s))}if(i.length>0){const e=50,s=[];for(let t=0;t<i.length;t+=e)s.push(i.slice(t,t+e));(await Promise.all(s.map(e=>C(this,S,"f").call(this,e)))).forEach(e=>{Object.entries(e.results).forEach(([e,i])=>{const s=n[e];s&&C(this,c,"f").set(s,i),t.results[e]=i}),Object.entries(e.errors).forEach(([e,n])=>{t.errors[e]=[...t.errors[e]||[],...n]})})}return t},w.set(this,async(e,t)=>{const i=await(0,O.safelyExecuteWithTimeout)(async()=>{const i=await fetch(`${n.SECURITY_ALERTS_BASE_URL}${n.TOKEN_BULK_SCANNING_ENDPOINT}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({chain:e,tokens:t})});if(!i.ok)return{error:`${i.status} ${i.statusText}`,status:i.status,statusText:i.statusText};return await i.json()},!0,8e3);return i?"error"in i&&"status"in i&&"statusText"in i?(console.warn(`Token bulk screening API error: ${i.status} ${i.statusText}`),null):i:(console.error("Error scanning tokens: timeout of 8000ms exceeded"),null)}),this.bulkScanTokens=async e=>{const{chainId:t,tokens:n}=e;if(!n||0===n.length)return{};if(n.length>100)return console.warn("Maximum of 100 tokens allowed per request"),{};const i=t.toLowerCase(),s=(0,M.resolveChainName)(i);if(!s)return console.warn(`Unknown chain ID: ${t}`),{};const{cachedResults:r,tokensToFetch:a}=(0,M.splitCacheHits)(C(this,l,"f"),i,n),o={...r};if(a.length>0){const e=await C(this,w,"f").call(this,s,a);if(e?.results)for(const t of a){const n=t.toLowerCase(),s=e.results[n];if(s?.result_type){const e={result_type:s.result_type,chain:s.chain||i,address:s.address||n},t=(0,M.buildCacheKey)(i,n);C(this,l,"f").set(t,{result_type:s.result_type}),o[n]=e}}}return o},S.set(this,async e=>{const t=await(0,O.safelyExecuteWithTimeout)(async()=>{const t=await fetch(`${n.PHISHING_DETECTION_BASE_URL}/${n.PHISHING_DETECTION_BULK_SCAN_ENDPOINT}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)return{error:`${t.status} ${t.statusText}`,status:t.status,statusText:t.statusText};return await t.json()},!0,15e3);return t?"error"in t&&"status"in t&&"statusText"in t?{results:{},errors:{api_error:[`${t.status} ${t.statusText}`]}}:t:{results:{},errors:{network_error:["timeout of 15000ms exceeded"]}}}),k(this,r,e,"f"),k(this,a,t,"f"),k(this,o,g,"f"),k(this,m,C(this,i,"m",b).bind(this),"f"),k(this,c,new I.CacheManager({cacheTTL:y,maxCacheSize:x,initialCache:this.state.urlScanCache,updateState:e=>{this.update(t=>{t.urlScanCache=e})}}),"f"),k(this,l,new I.CacheManager({cacheTTL:T,maxCacheSize:v,initialCache:this.state.tokenScanCache,updateState:e=>{this.update(t=>{t.tokenScanCache=e})}}),"f"),C(this,i,"m",p).call(this),this.updatePhishingDetector(),C(this,i,"m",f).call(this)}updatePhishingDetector(){k(this,s,new j.PhishingDetector(this.state.phishingLists),"f")}setStalelistRefreshInterval(e){k(this,r,e,"f")}setHotlistRefreshInterval(e){k(this,a,e,"f")}setC2DomainBlocklistRefreshInterval(e){k(this,o,e,"f")}setUrlScanCacheTTL(e){C(this,c,"f").setTTL(e)}setUrlScanCacheMaxSize(e){C(this,c,"f").setMaxSize(e)}clearUrlScanCache(){C(this,c,"f").clear()}isStalelistOutOfDate(){return(0,M.fetchTimeNow)()-this.state.stalelistLastFetched>=C(this,r,"f")}isHotlistOutOfDate(){return(0,M.fetchTimeNow)()-this.state.hotlistLastFetched>=C(this,a,"f")}isC2DomainBlocklistOutOfDate(){return(0,M.fetchTimeNow)()-this.state.c2DomainBlocklistLastFetched>=C(this,o,"f")}async maybeUpdateState(){if(this.isStalelistOutOfDate())return void await this.updateStalelist();this.isHotlistOutOfDate()&&await this.updateHotlist();this.isC2DomainBlocklistOutOfDate()&&await this.updateC2DomainBlocklist()}test(e){const t=(0,A.toASCII)(e),n=(0,M.getHostnameFromUrl)(t),i=n+(0,M.getPathnameFromUrl)(e);return(0,N.matchedPathPrefix)(i,this.state.whitelistPaths)||this.state.whitelist.includes(n||t)?{result:!1,type:R.PhishingDetectorResultType.All}:C(this,s,"f").check(t)}isBlockedRequest(e){const t=(0,A.toASCII)(e),n=(0,M.getHostnameFromUrl)(t);return this.state.whitelist.includes(n||t)?{result:!1,type:R.PhishingDetectorResultType.All}:C(this,s,"f").isMaliciousC2Domain(t)}bypass(e){const t=(0,A.toASCII)(e),n=(0,M.getHostnameFromUrl)(t),i=n+(0,M.getPathnameFromUrl)(e),{whitelist:r,whitelistPaths:a}=this.state,o=(0,N.matchedPathPrefix)(i,a);if(r.includes(n||t)||o)return;const c=C(this,s,"f").blockingPath(e);c?this.update(e=>{(0,N.insertToTrie)(c,e.whitelistPaths)}):this.update(e=>{e.whitelist.push(n||t)})}async updateC2DomainBlocklist(){if(C(this,h,"f"))await C(this,h,"f");else try{k(this,h,C(this,i,"m",_).call(this),"f"),await C(this,h,"f")}finally{k(this,h,undefined,"f")}}async updateHotlist(){if(C(this,d,"f"))await C(this,d,"f");else try{k(this,d,C(this,i,"m",v).call(this),"f"),await C(this,d,"f")}finally{k(this,d,undefined,"f")}}async updateStalelist(){if(C(this,u,"f"))await C(this,u,"f");else try{k(this,u,C(this,i,"m",T).call(this),"f"),await C(this,u,"f")}finally{k(this,u,undefined,"f")}}}n.PhishingController=H,s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,m=new WeakMap,w=new WeakMap,S=new WeakMap,i=new WeakSet,f=function(){this.messenger.subscribe("TransactionController:stateChange",C(this,m,"f"))},p=function(){this.messenger.registerActionHandler(`${U}:maybeUpdateState`,this.maybeUpdateState.bind(this)),this.messenger.registerActionHandler(`${U}:testOrigin`,this.test.bind(this)),this.messenger.registerActionHandler(`${U}:bulkScanUrls`,this.bulkScanUrls.bind(this)),this.messenger.registerActionHandler(`${U}:bulkScanTokens`,this.bulkScanTokens.bind(this))},g=function(e){const{path:t}=e;return 2===t.length&&"transactions"===t[0]&&"number"==typeof t[1]},b=function(e,t){try{const e=new Map;for(const n of t)if("remove"!==n.op&&C(this,i,"m",g).call(this,n)){const t=n.value;C(this,i,"m",y).call(this,t,e)}C(this,i,"m",x).call(this,e)}catch(e){console.error("Error processing transaction state change:",e)}},y=function(e,t){const n=e.simulationData?.tokenBalanceChanges?.map(e=>e.address.toLowerCase());if(n&&n.length>0&&e.chainId){const i=e.chainId.toLowerCase();t.has(i)||t.set(i,new Set);const s=t.get(i);if(s)for(const e of n)s.add(e)}},x=function(e){for(const[t,n]of e)if(n.size>0){const e=Array.from(n);this.bulkScanTokens({chainId:t,tokens:e}).catch(e=>console.error(`Error scanning tokens for chain ${t}:`,e))}},T=async function(){let e=null,t=null,s=null;try{const r=C(this,i,"m",E).call(this,n.METAMASK_STALELIST_URL),a=C(this,i,"m",E).call(this,n.C2_DOMAIN_BLOCKLIST_URL);[e,s]=await Promise.all([r,a]),e?.data&&e.data.lastUpdated>0&&(t=await C(this,i,"m",E).call(this,`${n.METAMASK_HOTLIST_DIFF_URL}/${e.data.lastUpdated}`))}finally{const e=(0,M.fetchTimeNow)();this.update(t=>{t.stalelistLastFetched=e,t.hotlistLastFetched=e,t.c2DomainBlocklistLastFetched=e})}if(!e||!t)return;const r={allowlist:e.data.allowlist,fuzzylist:e.data.fuzzylist,tolerance:e.data.tolerance,version:e.data.version,lastUpdated:e.data.lastUpdated,blocklist:e.data.blocklist,blocklistPaths:(0,N.convertListToTrie)(e.data.blocklistPaths),c2DomainBlocklist:s?s.recentlyAdded:[],name:n.phishingListKeyNameMap.eth_phishing_detect_config},a=(0,M.applyDiffs)(r,t.data,L.EthPhishingDetectConfig);this.update(e=>{e.phishingLists=[a]}),this.updatePhishingDetector()},v=async function(){let e;try{if(0===this.state.phishingLists.length)return;const t=Math.max(...this.state.phishingLists.map(({lastUpdated:e})=>e));e=await C(this,i,"m",E).call(this,`${n.METAMASK_HOTLIST_DIFF_URL}/${t}`)}finally{this.update(e=>{e.hotlistLastFetched=(0,M.fetchTimeNow)()})}if(!e?.data)return;const t=e.data,s=this.state.phishingLists.map(e=>(0,M.applyDiffs)(e,t,B[e.name],[],[]));this.update(e=>{e.phishingLists=s}),this.updatePhishingDetector()},_=async function(){let e=null;try{e=await C(this,i,"m",E).call(this,`${n.C2_DOMAIN_BLOCKLIST_URL}?timestamp=${(0,M.roundToNearestMinute)(this.state.c2DomainBlocklistLastFetched)}`)}finally{this.update(e=>{e.c2DomainBlocklistLastFetched=(0,M.fetchTimeNow)()})}if(!e)return;const t=e.recentlyAdded,s=e.recentlyRemoved,r=this.state.phishingLists.map(e=>(0,M.applyDiffs)(e,[],B[e.name],t,s));this.update(e=>{e.phishingLists=r}),this.updatePhishingDetector()},E=async function(e){const t=await(0,O.safelyExecute)(()=>fetch(e,{cache:"no-cache"}),!0);return 200===t?.status?await t.json():null},n.default=H}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingController.cjs"}],[2456,{"./PathTrie.cjs":2454,"./types.cjs":2458,"./utils.cjs":2459,"fastest-levenshtein":4411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.PhishingDetector=void 0;const l=e("fastest-levenshtein"),d=e("./PathTrie.cjs"),u=e("./types.cjs"),h=e("./utils.cjs");n.PhishingDetector=class{constructor(e){i.add(this),s.set(this,void 0),r.set(this,void 0),Array.isArray(e)?(o(this,s,(0,h.processConfigs)(e),"f"),o(this,r,!1,"f")):(o(this,s,[(0,h.getDefaultPhishingDetectorConfig)({allowlist:e.whitelist,blocklist:e.blacklist,fuzzylist:e.fuzzylist,tolerance:e.tolerance})],"f"),o(this,r,!0,"f"))}check(e){const t=c(this,i,"m",a).call(this,e);if(c(this,r,"f")){let e=t.type;return e===u.PhishingDetectorResultType.Allowlist?e=u.PhishingDetectorResultType.Whitelist:e===u.PhishingDetectorResultType.Blocklist&&(e=u.PhishingDetectorResultType.Blacklist),{match:t.match,result:t.result,type:e}}return t}blockingPath(e){for(const{blocklistPaths:t}of c(this,s,"f")){if(!t||0===Object.keys(t).length)continue;const n=(0,d.matchedPathPrefix)(e,t);if(n)return n}return null}isMaliciousC2Domain(e){const t=(0,h.getHostnameFromUrl)(e);if(!t)return{result:!1,type:u.PhishingDetectorResultType.C2DomainBlocklist};const n=t.endsWith(".")?t.slice(0,-1):t,i=(0,h.domainToParts)(n);for(const{allowlist:e,name:t,version:n}of c(this,s,"f")){const s=(0,h.matchPartsAgainstList)(i,e);if(s){return{match:(0,h.domainPartsToDomain)(s),name:t,result:!1,type:u.PhishingDetectorResultType.Allowlist,version:n===undefined?n:String(n)}}}const r=(0,h.sha256Hash)(t.toLowerCase()),a=(0,h.generateParentDomains)(i.reverse(),5);for(const{c2DomainBlocklist:e,name:t,version:n}of c(this,s,"f"))if(e&&0!==e.length){if(e.includes(r))return{name:t,result:!0,type:u.PhishingDetectorResultType.C2DomainBlocklist,version:n===undefined?n:String(n)};for(const i of a){const s=(0,h.sha256Hash)(i);if(e.includes(s))return{name:t,result:!0,type:u.PhishingDetectorResultType.C2DomainBlocklist,version:n===undefined?n:String(n)}}}return{result:!1,type:u.PhishingDetectorResultType.C2DomainBlocklist}}},s=new WeakMap,r=new WeakMap,i=new WeakSet,a=function(e){const t=e.match(new RegExp("Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,}","u"));if(null!==t){const e=t[0];for(const{blocklist:t,name:n,version:i}of c(this,s,"f")){if(t.filter(e=>1===e.length).find(t=>t[0]===e))return{name:n,match:e,result:!0,type:u.PhishingDetectorResultType.Blocklist,version:i===undefined?i:String(i)}}}let n;try{n=new URL(e).hostname}catch{return{result:!1,type:u.PhishingDetectorResultType.All}}const i=n.endsWith(".")?n.slice(0,-1):n,r=(0,h.domainToParts)(i);for(const{blocklistPaths:t,name:n,version:i}of c(this,s,"f")){if(!t||0===Object.keys(t).length)continue;const s=(0,d.matchedPathPrefix)(e,t);if(s)return{match:s,name:n,result:!0,type:u.PhishingDetectorResultType.Blocklist,version:i===undefined?i:String(i)}}for(const{allowlist:e,name:t,version:n}of c(this,s,"f")){const i=(0,h.matchPartsAgainstList)(r,e);if(i){return{match:(0,h.domainPartsToDomain)(i),name:t,result:!1,type:u.PhishingDetectorResultType.Allowlist,version:n===undefined?n:String(n)}}}for(const{blocklist:e,fuzzylist:t,name:n,tolerance:i,version:a}of c(this,s,"f")){const s=(0,h.matchPartsAgainstList)(r,e);if(s){return{match:(0,h.domainPartsToDomain)(s),name:n,result:!0,type:u.PhishingDetectorResultType.Blocklist,version:a===undefined?a:String(a)}}if(i>0){let e=(0,h.domainPartsToFuzzyForm)(r);e=e.replace(/^www\./u,"");const s=t.find(t=>{const n=(0,h.domainPartsToFuzzyForm)(t);return(0,l.distance)(e,n)<=i});if(s){return{name:n,match:(0,h.domainPartsToDomain)(s),result:!0,type:u.PhishingDetectorResultType.Fuzzy,version:a===undefined?a:String(a)}}}}return{result:!1,type:u.PhishingDetectorResultType.All}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingDetector.cjs"}],[2457,{"./PhishingController.cjs":2455,"./PhishingDetector.cjs":2456,"./types.cjs":2458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.RecommendedAction=n.PhishingDetectorResultType=n.PhishingDetector=void 0,s(e("./PhishingController.cjs"),n);var r=e("./PhishingDetector.cjs");Object.defineProperty(n,"PhishingDetector",{enumerable:!0,get:function(){return r.PhishingDetector}});var a=e("./types.cjs");Object.defineProperty(n,"PhishingDetectorResultType",{enumerable:!0,get:function(){return a.PhishingDetectorResultType}}),Object.defineProperty(n,"RecommendedAction",{enumerable:!0,get:function(){return a.RecommendedAction}})}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/index.cjs"}],[2458,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r;Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHAIN_ID_TO_NAME=n.TokenScanResultType=n.RecommendedAction=n.PhishingDetectorResultType=void 0,function(e){e.All="all",e.Fuzzy="fuzzy",e.Blocklist="blocklist",e.Allowlist="allowlist",e.Blacklist="blacklist",e.Whitelist="whitelist",e.C2DomainBlocklist="c2DomainBlocklist"}(i||(n.PhishingDetectorResultType=i={})),function(e){e.None="NONE",e.Warn="WARN",e.Block="BLOCK",e.Verified="VERIFIED"}(s||(n.RecommendedAction=s={})),function(e){e.Benign="Benign",e.Warning="Warning",e.Malicious="Malicious",e.Spam="Spam"}(r||(n.TokenScanResultType=r={})),n.DEFAULT_CHAIN_ID_TO_NAME={"0x1":"ethereum","0x89":"polygon","0x38":"bsc","0xa4b1":"arbitrum","0xa86a":"avalanche","0x2105":"base","0xa":"optimism","0x76adf1":"zora","0xe708":"linea","0x27bc86aa":"degen","0x144":"zksync","0x82750":"scroll","0x13e31":"blast","0x74c":"soneium","0x79a":"soneium-minato","0x14a34":"base-sepolia","0xab5":"abstract","0x849ea":"zero-network","0x138de":"berachain","0x82":"unichain","0x7e4":"ronin","0x127":"hedera"}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/types.cjs"}],[2459,{"./PathTrie.cjs":2454,"./PhishingController.cjs":2455,"./types.cjs":2458,"@noble/hashes/utils":3172,"ethereum-cryptography/sha256":4333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.splitCacheHits=n.resolveChainName=n.buildCacheKey=n.generateParentDomains=n.getPathnameFromUrl=n.getHostnameFromWebUrl=n.getHostnameFromUrl=n.sha256Hash=n.matchPartsAgainstList=n.domainPartsToFuzzyForm=n.domainPartsToDomain=n.processConfigs=n.getDefaultPhishingDetectorConfig=n.processDomainList=n.domainToParts=n.validateConfig=n.applyDiffs=n.getHostnameAndPathComponents=n.roundToNearestMinute=n.fetchTimeNow=void 0;const i=e("@noble/hashes/utils"),s=e("ethereum-cryptography/sha256"),r=e("./PathTrie.cjs"),a=e("./PhishingController.cjs"),o=e("./types.cjs");n.fetchTimeNow=()=>Math.round(Date.now()/1e3),n.roundToNearestMinute=function(e){return 60*Math.floor(e/60)};const c=e=>{const t=e.indexOf(".");return[e.slice(0,t),e.slice(t+1)]};n.getHostnameAndPathComponents=e=>{const t=e.startsWith("http")?e:`https://${e}`;try{const{hostname:e,pathname:n}=new URL(t);return{hostname:e.toLowerCase(),pathComponents:n.split("/").filter(Boolean).map(e=>decodeURIComponent(e))}}catch{return{hostname:"",pathComponents:[]}}};function l(e){if(null===e||"object"!=typeof e)throw new Error("Invalid config");if("tolerance"in e&&!("fuzzylist"in e))throw new Error("Fuzzylist tolerance provided without fuzzylist");if("name"in e&&("string"!=typeof e.name||""===e.name))throw new Error("Invalid config parameter: 'name'");if("version"in e&&(!["number","string"].includes(typeof e.version)||""===e.version))throw new Error("Invalid config parameter: 'version'")}n.applyDiffs=(e,t,n,i=[],s=[])=>{const o=t.filter(({timestamp:t,targetList:i})=>t>e.lastUpdated&&c(i)[0]===n);let l=e.lastUpdated;const d={allowlist:new Set(e.allowlist),blocklist:new Set(e.blocklist),fuzzylist:new Set(e.fuzzylist),c2DomainBlocklist:new Set(e.c2DomainBlocklist)},u=(0,r.deepCopyPathTrie)(e.blocklistPaths);for(const{isRemoval:e,targetList:t,url:n,timestamp:i}of o){const s=c(t)[1];i>l&&(l=i),e?"blocklistPaths"===s?(0,r.deleteFromTrie)(n,u):d[s].delete(n):"blocklistPaths"===s?(0,r.insertToTrie)(n,u):d[s].add(n)}if(n===a.ListKeys.EthPhishingDetectConfig){for(const e of i)d.c2DomainBlocklist.add(e);for(const e of s)d.c2DomainBlocklist.delete(e)}return{c2DomainBlocklist:Array.from(d.c2DomainBlocklist),allowlist:Array.from(d.allowlist),blocklist:Array.from(d.blocklist),fuzzylist:Array.from(d.fuzzylist),blocklistPaths:u,version:e.version,name:a.phishingListKeyNameMap[n],tolerance:e.tolerance,lastUpdated:l}},n.validateConfig=l;n.domainToParts=e=>e.split(".").reverse();n.processDomainList=e=>e.reduce((e,t)=>"string"!=typeof t?(console.warn(`Invalid domain value in list: ${JSON.stringify(t)}`),e):(e.push((0,n.domainToParts)(t)),e),[]);n.getDefaultPhishingDetectorConfig=({allowlist:e=[],blocklist:t=[],fuzzylist:i=[],tolerance:s=3})=>({allowlist:(0,n.processDomainList)(e),blocklist:(0,n.processDomainList)(t),fuzzylist:(0,n.processDomainList)(i),tolerance:s});n.processConfigs=(e=[])=>e.filter(e=>{try{return l(e),!0}catch(e){return console.error(e),!1}}).map(e=>({...e,...(0,n.getDefaultPhishingDetectorConfig)(e)}));n.domainPartsToDomain=e=>e.slice().reverse().join(".");n.domainPartsToFuzzyForm=e=>e.slice(1).reverse().join(".");n.matchPartsAgainstList=(e,t)=>t.find(t=>!(t.length>e.length)&&t.every((t,n)=>e[n]===t));n.sha256Hash=e=>{const t=(0,s.sha256)((new TextEncoder).encode(e.toLowerCase()));return(0,i.bytesToHex)(t)};n.getHostnameFromUrl=e=>{let t;try{if(t=new URL(e).hostname,!t||""===t.split(".").join(""))return null}catch{return null}return t};n.getHostnameFromWebUrl=e=>{if(!e.toLowerCase().startsWith("http://")&&!e.toLowerCase().startsWith("https://"))return["",!1];const t=(0,n.getHostnameFromUrl)(e);return[t||"",Boolean(t)]};n.getPathnameFromUrl=e=>{try{const{pathname:t}=new URL(e);return t}catch{return""}};n.generateParentDomains=(e,t=5)=>{const n=[];if(0===e.length)return n;if(1===e.length)n.push(e[0].toLowerCase());else{const i=e.slice(-2).join(".");n.push(i.toLowerCase());for(let i=e.length-3;i>=0&&n.length<t;i--){const t=e.slice(i).join(".");n.push(t.toLowerCase())}}return n};n.buildCacheKey=(e,t)=>`${e.toLowerCase()}:${t.toLowerCase()}`;n.resolveChainName=(e,t=o.DEFAULT_CHAIN_ID_TO_NAME)=>t[e.toLowerCase()]??null;n.splitCacheHits=(e,t,i)=>{const s={},r=[];for(const a of i){const i=a.toLowerCase(),o=(0,n.buildCacheKey)(t,i),c=e.get(o);c?s[i]={result_type:c.result_type,chain:t,address:i}:r.push(i)}return{cachedResults:s,tokensToFetch:r}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/utils.cjs"}],[2460,{"fast-json-stable-stringify":4398,uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractPollingControllerBaseMixin=n.getKey=void 0;const r=s(e("fast-json-stable-stringify")),a=e("uuid");n.getKey=e=>(0,r.default)(e),n.AbstractPollingControllerBaseMixin=function(e){var t,s;return t=new WeakMap,s=new WeakMap,class extends e{constructor(){super(...arguments),t.set(this,new Map),s.set(this,new Map)}startPolling(e){const s=(0,a.v4)(),r=(0,n.getKey)(e),o=i(this,t,"f").get(r)??new Set;return o.add(s),i(this,t,"f").set(r,o),1===o.size&&this._startPolling(e),s}stopAllPolling(){i(this,t,"f").forEach((e,t)=>{e.forEach(e=>{this.stopPollingByPollingToken(e)})})}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let n=null;for(const[s,r]of i(this,t,"f"))if(r.delete(e)){0===r.size&&(n=s);break}if(n){this._stopPollingByPollingTokenSetId(n),i(this,t,"f").delete(n);const e=i(this,s,"f").get(n);if(e){for(const t of e)t(JSON.parse(n));e.clear()}}}onPollingComplete(e,t){const r=(0,n.getKey)(e),a=i(this,s,"f").get(r)??new Set;a.add(t),i(this,s,"f").set(r,a)}}}}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/AbstractPollingController.cjs"}],[2461,{"./AbstractPollingController.cjs":2460,"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;const s=e("@metamask/base-controller"),r=e("./AbstractPollingController.cjs");function a(e){var t;class n extends((0,r.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{})}_startPolling(e){const n=(0,r.getKey)(e);if(i(this,t,"f")[n])return;const s=this._getNetworkClientById(e.networkClientId);if(!s)throw new Error(`Unable to retrieve blockTracker for networkClientId ${e.networkClientId}`);{const r=this._executePoll.bind(this,e);s.blockTracker.addListener("latest",r),i(this,t,"f")[n]=r}}_stopPollingByPollingTokenSetId(e){const{networkClientId:n}=JSON.parse(e),s=this._getNetworkClientById(n);if(s&&i(this,t,"f")[e]){const n=i(this,t,"f")[e];n&&(s.blockTracker.removeListener("latest",n),delete i(this,t,"f")[e])}}}return t=new WeakMap,n}class o{}n.BlockTrackerPollingControllerOnly=()=>a(o);n.BlockTrackerPollingController=()=>a(s.BaseController)}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/BlockTrackerPollingController.cjs"}],[2462,{"./AbstractPollingController.cjs":2460,"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=void 0;const r=e("@metamask/base-controller"),a=e("./AbstractPollingController.cjs");function o(e){var t,n;class r extends((0,a.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{}),n.set(this,1e3)}setIntervalLength(e){i(this,n,e,"f")}getIntervalLength(){return s(this,n,"f")}_startPolling(e){if(!s(this,n,"f"))throw new Error("intervalLength must be defined and greater than 0");const i=(0,a.getKey)(e),r=s(this,t,"f")[i];this._stopPollingByPollingTokenSetId(i);const o=s(this,t,"f")[i]=setTimeout(async()=>{try{await this._executePoll(e)}catch(e){console.error(e)}o===s(this,t,"f")[i]&&this._startPolling(e)},r?s(this,n,"f"):0)}_stopPollingByPollingTokenSetId(e){const n=s(this,t,"f")[e];n&&(clearTimeout(n),delete s(this,t,"f")[e])}}return t=new WeakMap,n=new WeakMap,r}class c{}n.StaticIntervalPollingControllerOnly=()=>o(c);n.StaticIntervalPollingController=()=>o(r.BaseController)}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/StaticIntervalPollingController.cjs"}],[2463,{"./BlockTrackerPollingController.cjs":2461,"./StaticIntervalPollingController.cjs":2462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;var i=e("./BlockTrackerPollingController.cjs");Object.defineProperty(n,"BlockTrackerPollingControllerOnly",{enumerable:!0,get:function(){return i.BlockTrackerPollingControllerOnly}}),Object.defineProperty(n,"BlockTrackerPollingController",{enumerable:!0,get:function(){return i.BlockTrackerPollingController}});var s=e("./StaticIntervalPollingController.cjs");Object.defineProperty(n,"StaticIntervalPollingControllerOnly",{enumerable:!0,get:function(){return s.StaticIntervalPollingControllerOnly}}),Object.defineProperty(n,"StaticIntervalPollingController",{enumerable:!0,get:function(){return s.StaticIntervalPollingController}})}}},{package:"@metamask/bridge-controller>@metamask/polling-controller",file:"node_modules/@metamask/polling-controller/dist/index.cjs"}],[2464,{"readable-stream":2485},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BasePostMessageStream=void 0;const i=e("readable-stream"),s=()=>undefined,r="SYN",a="ACK";class o extends i.Duplex{constructor(e){super(Object.assign({objectMode:!0},e)),this._init=!1,this._haveSyn=!1,this._log=()=>null}_handshake(){this._write(r,null,s),this.cork()}_onData(e){if(this._init)try{this.push(e),this._log(e,!1)}catch(e){this.emit("error",e)}else e===r?(this._haveSyn=!0,this._write(a,null,s)):e===a&&(this._init=!0,this._haveSyn||this._write(a,null,s),this.uncork())}_read(){return undefined}_write(e,t,n){e!==a&&e!==r&&this._log(e,!0),this._postMessage(e),n()}_setLogger(e){this._log=e}}n.BasePostMessageStream=o}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/BasePostMessageStream.cjs"}],[2465,{"./BasePostMessageStream.cjs":2464,"./runtime/BrowserRuntimePostMessageStream.cjs":2466,"./utils.cjs":2467,"./web-worker/WebWorkerParentPostMessageStream.cjs":2468,"./web-worker/WebWorkerPostMessageStream.cjs":2469,"./window/WindowPostMessageStream.cjs":2470},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.isValidStreamMessage=void 0,s(e("./window/WindowPostMessageStream.cjs"),n),s(e("./web-worker/WebWorkerPostMessageStream.cjs"),n),s(e("./web-worker/WebWorkerParentPostMessageStream.cjs"),n),s(e("./runtime/BrowserRuntimePostMessageStream.cjs"),n),s(e("./BasePostMessageStream.cjs"),n);var r=e("./utils.cjs");Object.defineProperty(n,"isValidStreamMessage",{enumerable:!0,get:function(){return r.isValidStreamMessage}})}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/index.cjs"}],[2466,{"../BasePostMessageStream.cjs":2464,"../utils.cjs":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.BrowserRuntimePostMessageStream=void 0;const c=e("../BasePostMessageStream.cjs"),l=e("../utils.cjs");class d extends c.BasePostMessageStream{constructor(e){var{name:t,target:n}=e;super(o(e,["name","target"])),i.set(this,void 0),s.set(this,void 0),r(this,i,t,"f"),r(this,s,n,"f"),this._onMessage=this._onMessage.bind(this),this._getRuntime().onMessage.addListener(this._onMessage),this._handshake()}_postMessage(e){this._getRuntime().sendMessage({target:a(this,s,"f"),data:e})}_onMessage(e){(0,l.isValidStreamMessage)(e)&&e.target===a(this,i,"f")&&this._onData(e.data)}_getRuntime(){var e,t;if("chrome"in globalThis&&"function"==typeof(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.sendMessage))return chrome.runtime;if("browser"in globalThis&&"function"==typeof(null===(t=null===browser||void 0===browser?void 0:browser.runtime)||void 0===t?void 0:t.sendMessage))return browser.runtime;throw new Error("browser.runtime.sendMessage is not a function. This class should only be instantiated in a web extension.")}_destroy(){this._getRuntime().onMessage.removeListener(this._onMessage)}}n.BrowserRuntimePostMessageStream=d,i=new WeakMap,s=new WeakMap}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/runtime/BrowserRuntimePostMessageStream.cjs"}],[2467,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidStreamMessage=n.DEDICATED_WORKER_NAME=void 0;const i=e("@metamask/utils");n.DEDICATED_WORKER_NAME="dedicatedWorker",n.isValidStreamMessage=function(e){return(0,i.isObject)(e)&&Boolean(e.data)&&("number"==typeof e.data||"object"==typeof e.data||"string"==typeof e.data)}}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/utils.cjs"}],[2468,{"../BasePostMessageStream.cjs":2464,"../utils.cjs":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerParentPostMessageStream=void 0;const s=e("../BasePostMessageStream.cjs"),r=e("../utils.cjs");class a extends s.BasePostMessageStream{constructor(e){var{worker:t}=e;super(i(e,["worker"])),this._target=r.DEDICATED_WORKER_NAME,this._worker=t,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;(0,r.isValidStreamMessage)(t)&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}n.WebWorkerParentPostMessageStream=a}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/web-worker/WebWorkerParentPostMessageStream.cjs"}],[2469,{"../BasePostMessageStream.cjs":2464,"../utils.cjs":2467},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WebWorkerPostMessageStream=void 0;const i=e("../BasePostMessageStream.cjs"),s=e("../utils.cjs");class r extends i.BasePostMessageStream{constructor(e={}){if("undefined"==typeof self||"undefined"==typeof WorkerGlobalScope)throw new Error("WorkerGlobalScope not found. This class should only be instantiated in a WebWorker.");super(e),this._name=s.DEDICATED_WORKER_NAME,self.addEventListener("message",this._onMessage.bind(this)),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;(0,s.isValidStreamMessage)(t)&&t.target===this._name&&this._onData(t.data)}_destroy(){return undefined}}n.WebWorkerPostMessageStream=r}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/web-worker/WebWorkerPostMessageStream.cjs"}],[2470,{"../BasePostMessageStream.cjs":2464,"../utils.cjs":2467,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};Object.defineProperty(n,"__esModule",{value:!0}),n.WindowPostMessageStream=void 0;const a=e("@metamask/utils"),o=e("../BasePostMessageStream.cjs"),c=e("../utils.cjs"),l=null===(i=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"source"))||void 0===i?void 0:i.get;(0,a.assert)(l,"MessageEvent.prototype.source getter is not defined.");const d=null===(s=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"origin"))||void 0===s?void 0:s.get;(0,a.assert)(d,"MessageEvent.prototype.origin getter is not defined.");class u extends o.BasePostMessageStream{constructor(e){var{name:t,target:n,targetOrigin:i=location.origin,targetWindow:s=window}=e;if(super(r(e,["name","target","targetOrigin","targetWindow"])),"undefined"==typeof window||"function"!=typeof window.postMessage)throw new Error("window.postMessage is not a function. This class should only be instantiated in a Window.");this._name=t,this._target=n,this._targetOrigin=i,this._targetWindow=s,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&d.call(e)!==this._targetOrigin||l.call(e)!==this._targetWindow||!(0,c.isValidStreamMessage)(t)||t.target!==this._name||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}n.WindowPostMessageStream=u}}},{package:"@metamask/post-message-stream",file:"node_modules/@metamask/post-message-stream/dist/window/WindowPostMessageStream.cjs"}],[2471,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i={};function s(e,t,n){n||(n=Error);var s=function(e){var n,i;function s(n,i,s){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,s))||this}return i=e,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,s}(n);s.prototype.name=n.name,s.prototype.code=e,i[e]=s}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}s("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(e,t,n){var i,s,a,o;if("string"==typeof t&&(s="not ",t.substr(!a||a<0?0:+a,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(r(t,"type"))}return o+=". Received type ".concat(typeof n)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/errors-browser.js"}],[2472,{"./_stream_readable":2474,"./_stream_writable":2476,_process:5089,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=l;var s=e("./_stream_readable"),r=e("./_stream_writable");e("inherits")(l,s);for(var a=i(r.prototype),o=0;o<a.length;o++){var c=a[o];l.prototype[c]||(l.prototype[c]=r.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[2473,{"./_stream_transform":2475,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=s;var i=e("./_stream_transform");function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}e("inherits")(s,i),s.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2474,{"../errors":2471,"./_stream_duplex":2472,"./internal/streams/async_iterator":2477,"./internal/streams/buffer_list":2478,"./internal/streams/destroy":2479,"./internal/streams/from":2481,"./internal/streams/state":2483,"./internal/streams/stream":2484,_process:5089,buffer:4084,events:4384,inherits:4617,"string_decoder/":5665,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i;t.exports=_,_.ReadableState=v;e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},r=e("./internal/streams/stream"),a=e("buffer").Buffer,o=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,l=e("util");c=l&&l.debuglog?l.debuglog("stream"):function(){};var d,u,h,m=e("./internal/streams/buffer_list"),f=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(_,r);var S=f.errorOrDestroy,T=["error","close","destroy","pause","resume"];function v(t,n,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=n instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=p(this,t,"readableHighWaterMark",s),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e("string_decoder/").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function _(t){if(i=i||e("./_stream_duplex"),!(this instanceof _))return new _(t);var n=this instanceof i;this._readableState=new v(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function E(e,t,n,i,s){c("readableAddChunk",t);var r,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,l);else if(s||(r=function(e,t){var n;i=t,a.isBuffer(i)||i instanceof o||"string"==typeof t||t===undefined||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(l,t)),r)S(e,r);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),i)l.endEmitted?S(e,new w):k(e,l,t,!0);else if(l.ended)S(e,new y);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?k(e,l,t,!1):I(e,l)):k(e,l,t,!1)}else i||(l.reading=!1,I(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function k(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),I(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},_.prototype.unshift=function(e){return E(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){d||(d=e("string_decoder/").StringDecoder);var n=new d(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,s="";null!==i;)s+=n.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==s&&this._readableState.buffer.push(s),this._readableState.length=s.length,this};var C=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function M(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):O(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&B(this),null;var i,s=t.needReadable;return c("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",s=!0),t.ended||t.reading?c("reading or ended",s=!1):s&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(i=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==i&&this.emit("data",i),i},_.prototype._read=function(e){S(this,new x("_read()"))},_.prototype.pipe=function(e,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:g;function o(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",d),e.removeListener("error",m),e.removeListener("unpipe",o),i.removeListener("end",l),i.removeListener("end",g),i.removeListener("data",h),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){c("onend"),e.end()}r.endEmitted?n.nextTick(a):i.once("end",a),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(i);e.on("drain",d);var u=!1;function h(t){c("ondata");var n=e.write(t);c("dest.write",n),!1===n&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!u&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function m(t){c("onerror",t),g(),e.removeListener("error",m),0===s(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),g()}function p(){c("onfinish"),e.removeListener("close",f),g()}function g(){c("unpipe"),i.unpipe(e)}return i.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",f),e.once("finish",p),e.emit("pipe",i),r.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<s;r++)i[r].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},_.prototype.on=function(e,t){var i=r.prototype.on.call(this,e,t),s=this._readableState;return"data"===e?(s.readableListening=this.listenerCount("readable")>0,!1!==s.flowing&&this.resume()):"readable"===e&&(s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.flowing=!1,s.emittedReadable=!1,c("on readable",s.length,s.reading),s.length?O(this):s.reading||n.nextTick(R,this))),i},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var i=r.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(j,this),i},_.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(j,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(M,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var s in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(s){(c("wrapped data"),n.decoder&&(s=n.decoder.write(s)),!n.objectMode||null!==s&&s!==undefined)&&((n.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause())))}),e)this[s]===undefined&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var r=0;r<T.length;r++)e.on(T[r],this.emit.bind(this,T[r]));return this._read=function(t){c("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return u===undefined&&(u=e("./internal/streams/async_iterator")),u(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=D,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,n){return h===undefined&&(h=e("./internal/streams/from")),h(_,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2475,{"../errors":2471,"./_stream_duplex":2472,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=d;var i=e("../errors").codes,s=i.ERR_METHOD_NOT_IMPLEMENTED,r=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function l(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(d,c),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,n){n(new s("_transform()"))},d.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[2476,{"../errors":2471,"./_stream_duplex":2472,"./internal/streams/destroy":2479,"./internal/streams/state":2483,"./internal/streams/stream":2484,_process:5089,buffer:4084,inherits:4617,"util-deprecate":5730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var s=i.callback;t.pendingcb--,s(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var s;t.exports=_,_.WritableState=v;var r={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),o=e("buffer").Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,d=e("./internal/streams/destroy"),u=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,m=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,x=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function T(){}function v(t,r,a){s=s||e("./_stream_duplex"),t=t||{},"boolean"!=typeof a&&(a=r instanceof s),this.objectMode=!!t.objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=u(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,s=i.sync,r=i.writecb;if("function"!=typeof r)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,s,r){--t.pendingcb,i?(n.nextTick(r,s),n.nextTick(A,e,t),e._writableState.errorEmitted=!0,S(e,s)):(r(s),e._writableState.errorEmitted=!0,S(e,s),A(e,t))}(e,i,s,t,r);else{var a=P(i)||e.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||C(e,i),s?n.nextTick(k,e,i,a,r):k(e,i,a,r)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function _(t){var n=this instanceof(s=s||e("./_stream_duplex"));if(!n&&!l.call(_,this))return new _(t);this._writableState=new v(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function E(e,t,n,i,s,r,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(s,t.onwrite):e._write(s,r,t.onwrite),t.sync=!1}function k(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),A(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var s=t.bufferedRequestCount,r=new Array(s),a=t.corkedRequestsFree;a.entry=n;for(var o=0,c=!0;n;)r[o]=n,n.isBuf||(c=!1),n=n.next,o+=1;r.allBuffers=c,E(e,t,!0,t.length,r,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,d=n.encoding,u=n.callback;if(E(e,t,!1,t.objectMode?1:l.length,l,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final(function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var i=P(t);if(i&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var s=e._readableState;(!s||s.autoDestroy&&s.endEmitted)&&e.destroy()}return i}e("inherits")(_,a),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===_&&(e&&e._writableState instanceof v)}})):l=function(e){return e instanceof this},_.prototype.pipe=function(){S(this,new g)},_.prototype.write=function(e,t,i){var s,r=this._writableState,a=!1,l=!r.objectMode&&(s=e,o.isBuffer(s)||s instanceof c);return l&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(i=t,t=null),l?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=T),r.ending?function(e,t){var i=new x;S(e,i),n.nextTick(t,i)}(this,i):(l||function(e,t,i,s){var r;return null===i?r=new y:"string"==typeof i||t.objectMode||(r=new m("chunk",["string","Buffer"],i)),!r||(S(e,r),n.nextTick(s,r),!1)}(this,r,e,i))&&(r.pendingcb++,a=function(e,t,n,i,s,r){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,n));return t}(t,i,s);i!==a&&(n=!0,s="buffer",i=a)}var c=t.objectMode?1:i.length;t.length+=c;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:r,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,i,s,r);return l}(this,r,l,e,t,i)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||C(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new f("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,i){var s=this._writableState;return"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&e!==undefined&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||function(e,t,i){t.ending=!0,A(e,t),i&&(t.finished?n.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,s,i),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=d.destroy,_.prototype._undestroy=d.undestroy,_.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[2477,{"./end-of-stream":2480,_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var i;function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=e("./end-of-stream"),a=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function m(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[d]=null,e[a]=null,e[o]=null,t(m(n,!1)))}}function p(e){n.nextTick(f,e)}var g=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((s(i={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(m(undefined,!0));if(this[h].destroyed)return new Promise(function(t,i){n.nextTick(function(){e[c]?i(e[c]):t(m(undefined,!0))})});var i,s=this[d];if(s)i=new Promise(function(e,t){return function(n,i){e.then(function(){t[l]?n(m(undefined,!0)):t[u](n,i)},i)}}(s,this));else{var r=this[h].read();if(null!==r)return Promise.resolve(m(r,!1));i=new Promise(this[u])}return this[d]=i,i}},Symbol.asyncIterator,function(){return this}),s(i,"return",function(){var e=this;return new Promise(function(t,n){e[h].destroy(null,function(e){e?n(e):t(m(undefined,!0))})})}),i),g);t.exports=function(e){var t,n=Object.create(b,(s(t={},h,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,o,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:e._readableState.endEmitted,writable:!0}),s(t,u,{value:function(e,t){var i=n[h].read();i?(n[d]=null,n[a]=null,n[o]=null,e(m(i,!1))):(n[a]=e,n[o]=t)},writable:!0}),t));return n[d]=null,r(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[o];return null!==t&&(n[d]=null,n[a]=null,n[o]=null,t(e)),void(n[c]=e)}var i=n[a];null!==i&&(n[d]=null,n[a]=null,n[o]=null,i(m(undefined,!0))),n[l]=!0}),e.on("readable",p.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2478,{buffer:4084,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=e("buffer").Buffer,l=e("util").inspect,d=l&&l.custom||"inspect";function u(e,t,n){c.prototype.copy.call(e,t,n)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,i;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),n=this.head,i=0;n;)u(n.data,t,i),i+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var s=t.data,r=e>s.length?s.length:e;if(r===s.length?i+=s:i+=s.slice(0,e),0===(e-=r)){r===s.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=s.slice(r));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var s=n.data,r=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,r),0===(e-=r)){r===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(r));break}++i}return this.length-=i,t}},{key:d,value:function(e,t){return l(this,s(s({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2479,{_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}t.exports={destroy:function(t,r){var a=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(s,this,t)):e.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!r&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(i,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):r?(e.nextTick(i,a),r(t)):e.nextTick(i,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2480,{"../../../errors":2471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}t.exports=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n||(n={}),r=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e.apply(this,i)}}}(r||s);var a=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||d()},l=t._writableState&&t._writableState.finished,d=function(){o=!1,l=!0,a||r.call(t)},u=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,u=!0,o||r.call(t)},m=function(e){r.call(t,e)},f=function(){var e;return a&&!u?(t._readableState&&t._readableState.ended||(e=new i),r.call(t,e)):o&&!l?(t._writableState&&t._writableState.ended||(e=new i),r.call(t,e)):void 0},p=function(){t.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",d),t.on("abort",f),t.req?p():t.on("request",p)),t.on("end",h),t.on("finish",d),!1!==n.error&&t.on("error",m),t.on("close",f),function(){t.removeListener("complete",d),t.removeListener("abort",f),t.removeListener("request",p),t.req&&t.req.removeListener("finish",d),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",d),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",f)}}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[2481,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2482,{"../../../errors":2471,"./end-of-stream":2480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;var s=e("../../../errors").codes,r=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var d,u=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new r("streams");var h=n.map(function(t,s){var r=s<n.length-1;return function(t,n,s,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var o=!1;t.on("close",function(){o=!0}),i===undefined&&(i=e("./end-of-stream")),i(t,{readable:n,writable:s},function(e){if(e)return r(e);o=!0,r()});var c=!1;return function(e){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void r(e||new a("pipe"))}}(t,r,s>0,function(e){d||(d=e),e&&h.forEach(c),r||(h.forEach(c),u(d))})});return n.reduce(l)}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[2483,{"../../../errors":2471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,s){var r=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new i(s?n:"highWaterMark",r);return Math.floor(r)}return e.objectMode?16:16384}}}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[2484,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2485,{"./lib/_stream_duplex.js":2472,"./lib/_stream_passthrough.js":2473,"./lib/_stream_readable.js":2474,"./lib/_stream_transform.js":2475,"./lib/_stream_writable.js":2476,"./lib/internal/streams/end-of-stream.js":2480,"./lib/internal/streams/pipeline.js":2482},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/post-message-stream>readable-stream",file:"node_modules/@metamask/post-message-stream/node_modules/readable-stream/readable-browser.js"}],[2493,{"../../sdk/index.cjs":2518,"./auth-snap-requests.cjs":2494,"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},y=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const x=e("@metamask/base-controller"),w=e("./auth-snap-requests.cjs"),S=e("../../sdk/index.cjs");n.defaultState={isSignedIn:!1};const T={isSignedIn:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},srpSessionData:{includeInStateLogs:e=>null===e||e===undefined?null:Object.entries(e).reduce((e,[t,n])=>{const{accessToken:i,...s}=n.token;return e[t]={...n,token:s},e},{}),persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}};class v extends x.BaseController{constructor({messenger:e,state:t,config:h,metametrics:f}){if(super({messenger:e,metadata:T,name:"AuthenticationController",state:{...n.defaultState,...t}}),i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,{env:S.Env.PRD}),o.set(this,!1),c.set(this,{setupLockedStateSubscriptions:()=>{const{isUnlocked:e}=this.messenger.call("KeyringController:getState");y(this,o,e,"f"),this.messenger.subscribe("KeyringController:unlock",()=>{y(this,o,!0,"f")}),this.messenger.subscribe("KeyringController:lock",()=>{y(this,o,!1,"f")})}}),p.set(this,{}),!f)throw new Error("`metametrics` field is required");y(this,a,{...b(this,a,"f"),...h},"f"),y(this,s,f,"f"),y(this,r,new S.JwtBearerAuth({env:b(this,a,"f").env,platform:f.agent,type:S.AuthType.SRP},{storage:{getLoginResponse:b(this,i,"m",d).bind(this),setLoginResponse:b(this,i,"m",u).bind(this)},signing:{getIdentifier:b(this,i,"m",m).bind(this),signMessage:b(this,i,"m",g).bind(this)},metametrics:b(this,s,"f")}),"f"),b(this,c,"f").setupLockedStateSubscriptions(),b(this,i,"m",l).call(this)}async performSignIn(){b(this,i,"m",h).call(this,"performSignIn");const e=await b(this,i,"m",f).call(this),t=[];for(const[n]of e){const e=await b(this,r,"f").getAccessToken(n);t.push(e)}return t}performSignOut(){this.update(e=>{e.isSignedIn=!1,e.srpSessionData=undefined})}async getBearerToken(e){return b(this,i,"m",h).call(this,"getBearerToken"),await b(this,r,"f").getAccessToken(e)}async getSessionProfile(e){return b(this,i,"m",h).call(this,"getSessionProfile"),await b(this,r,"f").getUserProfile(e)}async getUserProfileLineage(){return b(this,i,"m",h).call(this,"getUserProfileLineage"),await b(this,r,"f").getUserProfileLineage()}isSignedIn(){return this.state.isSignedIn}}s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,p=new WeakMap,i=new WeakSet,l=function(){this.messenger.registerActionHandler("AuthenticationController:getBearerToken",this.getBearerToken.bind(this)),this.messenger.registerActionHandler("AuthenticationController:getSessionProfile",this.getSessionProfile.bind(this)),this.messenger.registerActionHandler("AuthenticationController:isSignedIn",this.isSignedIn.bind(this)),this.messenger.registerActionHandler("AuthenticationController:performSignIn",this.performSignIn.bind(this)),this.messenger.registerActionHandler("AuthenticationController:performSignOut",this.performSignOut.bind(this)),this.messenger.registerActionHandler("AuthenticationController:getUserProfileLineage",this.getUserProfileLineage.bind(this))},d=async function(e){if(e)return this.state.srpSessionData?.[e]?this.state.srpSessionData[e]:null;const t=Object.values(this.state.srpSessionData||{})?.[0];return t||null},u=async function(e,t){const n=await b(this,s,"f").getMetaMetricsId();this.update(i=>{t&&(i.isSignedIn=!0,i.srpSessionData||(i.srpSessionData={}),i.srpSessionData[t]={...e,profile:{...e.profile,metaMetricsId:n}})})},h=function(e){if(!b(this,o,"f"))throw new Error(`${e} - unable to proceed, wallet is locked`)},m=async function(e){b(this,i,"m",h).call(this,"#snapGetPublicKey");return await this.messenger.call("SnapController:handleRequest",(0,w.createSnapPublicKeyRequest)(e))},f=async function(){b(this,i,"m",h).call(this,"#snapGetAllPublicKeys");return await this.messenger.call("SnapController:handleRequest",(0,w.createSnapAllPublicKeysRequest)())},g=async function(e,t){if((0,S.assertMessageStartsWithMetamask)(e),b(this,p,"f")[e])return b(this,p,"f")[e];b(this,i,"m",h).call(this,"#snapSignMessage");const n=await this.messenger.call("SnapController:handleRequest",(0,w.createSnapSignMessageRequest)(e,t));return b(this,p,"f")[e]=n,n},n.default=v}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/AuthenticationController.cjs"}],[2494,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapSignMessageRequest=n.createSnapAllPublicKeysRequest=n.createSnapPublicKeyRequest=void 0;const i="npm:@metamask/message-signing-snap";n.createSnapPublicKeyRequest=function(e){return{snapId:i,origin:"metamask",handler:"onRpcRequest",request:{method:"getPublicKey",...e?{params:{entropySourceId:e}}:{}}}},n.createSnapAllPublicKeysRequest=function(){return{snapId:i,origin:"metamask",handler:"onRpcRequest",request:{method:"getAllPublicKeys"}}},n.createSnapSignMessageRequest=function(e,t){return{snapId:i,origin:"metamask",handler:"onRpcRequest",request:{method:"signMessage",params:{message:e,...t?{entropySourceId:t}:{}}}}}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/auth-snap-requests.cjs"}],[2495,{"./AuthenticationController.cjs":2493,"./mocks/index.cjs":2496},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Mocks=n.Controller=void 0;const c=o(e("./AuthenticationController.cjs"));n.Controller=c.default;const l=c.default;n.default=l,r(e("./AuthenticationController.cjs"),n),n.Mocks=a(e("./mocks/index.cjs"))}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/index.cjs"}],[2496,{"./mockResponses.cjs":2497},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./mockResponses.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/mocks/index.cjs"}],[2497,{"../../../sdk/mocks/auth.cjs":2519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMockAuthAccessTokenResponse=n.MOCK_OATH_TOKEN_RESPONSE=n.getMockAuthLoginResponse=n.MOCK_LOGIN_RESPONSE=n.getMockAuthNonceResponse=n.MOCK_JWT=n.MOCK_NONCE=n.MOCK_NONCE_RESPONSE=void 0;const i=e("../../../sdk/mocks/auth.cjs");n.MOCK_NONCE_RESPONSE=i.MOCK_NONCE_RESPONSE,n.MOCK_NONCE=n.MOCK_NONCE_RESPONSE.nonce,n.MOCK_JWT=i.MOCK_JWT;n.getMockAuthNonceResponse=()=>({url:i.MOCK_NONCE_URL,requestMethod:"GET",response:(e,t,i)=>{const s=t?.split("?identifier=")[1],r=i?.(s??"");return{...n.MOCK_NONCE_RESPONSE,nonce:r??n.MOCK_NONCE_RESPONSE.nonce,identifier:n.MOCK_NONCE_RESPONSE.identifier}}}),n.MOCK_LOGIN_RESPONSE=i.MOCK_SRP_LOGIN_RESPONSE;n.getMockAuthLoginResponse=()=>({url:i.MOCK_SRP_LOGIN_URL,requestMethod:"POST",response:e=>{const t=e?.raw_message.split(":"),i=t?.[t.length-2];return{...n.MOCK_LOGIN_RESPONSE,token:i??n.MOCK_LOGIN_RESPONSE.token,profile:{...n.MOCK_LOGIN_RESPONSE.profile,profile_id:i??n.MOCK_LOGIN_RESPONSE.profile.profile_id,identifier_id:i??n.MOCK_LOGIN_RESPONSE.profile.identifier_id}}}}),n.MOCK_OATH_TOKEN_RESPONSE=i.MOCK_OIDC_TOKEN_RESPONSE;n.getMockAuthAccessTokenResponse=()=>({url:i.MOCK_OIDC_TOKEN_URL,requestMethod:"POST",response:e=>{const t=new URLSearchParams(e).get("assertion");return{...n.MOCK_OATH_TOKEN_RESPONSE,access_token:t??n.MOCK_OATH_TOKEN_RESPONSE.access_token}}})}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/authentication/mocks/mockResponses.cjs"}],[2498,{"../../sdk/index.cjs":2518,"../../shared/utils/event-queue.cjs":2531,"../authentication/auth-snap-requests.cjs":2494,"./constants.cjs":2499,"./contact-syncing/controller-integration.cjs":2501,"./contact-syncing/setup-subscriptions.cjs":2502,"@metamask/base-controller":1362,"@metamask/keyring-controller":2203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},b=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=void 0;const y=e("@metamask/base-controller"),x=e("@metamask/keyring-controller"),w=e("./constants.cjs"),S=e("./contact-syncing/controller-integration.cjs"),T=e("./contact-syncing/setup-subscriptions.cjs"),v=e("../../sdk/index.cjs"),_=e("../../shared/utils/event-queue.cjs"),E=e("../authentication/auth-snap-requests.cjs"),k="UserStorageController";n.defaultState={isBackupAndSyncEnabled:!0,isBackupAndSyncUpdateLoading:!1,isAccountSyncingEnabled:!0,isContactSyncingEnabled:!0,isContactSyncingInProgress:!1};const C={isBackupAndSyncEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isBackupAndSyncUpdateLoading:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},isAccountSyncingEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isContactSyncingEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isContactSyncingInProgress:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}};class P extends y.BaseController{constructor({messenger:e,state:t,config:p,nativeScryptCrypto:y,trace:x}){super({messenger:e,metadata:C,name:k,state:{...n.defaultState,...t}}),i.add(this),s.set(this,void 0),r.set(this,{getProfileId:async e=>{const t=await this.messenger.call("AuthenticationController:getSessionProfile",e);return t?.profileId},isSignedIn:()=>this.messenger.call("AuthenticationController:isSignedIn"),signIn:async()=>await this.messenger.call("AuthenticationController:performSignIn")}),a.set(this,{env:v.Env.PRD}),o.set(this,void 0),c.set(this,!1),l.set(this,{}),d.set(this,{setupLockedStateSubscriptions:()=>{const{isUnlocked:e}=this.messenger.call("KeyringController:getState");b(this,c,e,"f"),this.messenger.subscribe("KeyringController:unlock",()=>{b(this,c,!0,"f")}),this.messenger.subscribe("KeyringController:lock",()=>{b(this,c,!1,"f")})}}),u.set(this,undefined),this.eventQueue=new _.EventQueue,m.set(this,{}),b(this,a,{...g(this,a,"f"),...p},"f"),b(this,o,x??(async(e,t)=>t?await Promise.resolve(t()):undefined),"f"),b(this,s,new v.UserStorage({env:g(this,a,"f").env,auth:{getAccessToken:e=>this.messenger.call("AuthenticationController:getBearerToken",e),getUserProfile:async e=>await this.messenger.call("AuthenticationController:getSessionProfile",e),signMessage:(e,t)=>g(this,i,"m",f).call(this,e,t)}},{storage:{getStorageKey:async e=>g(this,l,"f")[e]??null,setStorageKey:async(e,t)=>{g(this,l,"f")[e]=t}}}),"f"),g(this,d,"f").setupLockedStateSubscriptions(),g(this,i,"m",h).call(this),b(this,u,y,"f"),(0,T.setupContactSyncingSubscriptions)({getUserStorageControllerInstance:()=>this,getMessenger:()=>this.messenger,trace:g(this,o,"f")})}async performGetStorage(e,t){return await g(this,s,"f").getItem(e,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:t})}async performGetStorageAllFeatureEntries(e,t){return await g(this,s,"f").getAllFeatureItems(e,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:t})}async performSetStorage(e,t,n){return await g(this,s,"f").setItem(e,t,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:n})}async performBatchSetStorage(e,t,n){return await g(this,s,"f").batchSetItems(e,t,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:n})}async performDeleteStorage(e,t){return await g(this,s,"f").deleteItem(e,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:t})}async performDeleteStorageAllFeatureEntries(e,t){return await g(this,s,"f").deleteAllFeatureItems(e,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:t})}async performBatchDeleteStorage(e,t,n){return await g(this,s,"f").batchDeleteItems(e,t,{nativeScryptCrypto:g(this,u,"f"),entropySourceId:n})}async getStorageKey(){return await g(this,s,"f").getStorageKey()}flushStorageKeyCache(){b(this,l,{},"f")}async listEntropySources(){if(!g(this,c,"f"))throw new Error("listEntropySources - unable to list entropy sources, wallet is locked");const{keyrings:e}=this.messenger.call("KeyringController:getState");return e.filter(e=>e.type===x.KeyringTypes.hd.toString()).map(e=>e.metadata.id)}async setIsBackupAndSyncFeatureEnabled(e,t){try{if(g(this,i,"m",p).call(this,!0),t){g(this,r,"f").isSignedIn()||await g(this,r,"f").signIn()}this.update(n=>{e===w.BACKUPANDSYNC_FEATURES.main&&(n.isBackupAndSyncEnabled=t),e===w.BACKUPANDSYNC_FEATURES.accountSyncing&&(n.isAccountSyncingEnabled=t),e===w.BACKUPANDSYNC_FEATURES.contactSyncing&&(n.isContactSyncingEnabled=t)})}catch(n){const i=n instanceof Error?n.message:JSON.stringify(n);throw new Error(`${k} - failed to ${t?"enable":"disable"} ${e} - ${i}`)}finally{g(this,i,"m",p).call(this,!1)}}async setIsContactSyncingInProgress(e){this.update(t=>{t.isContactSyncingInProgress=e})}async syncContactsWithUserStorage(){const e=await g(this,r,"f").getProfileId(),t={onContactUpdated:()=>{g(this,a,"f")?.contactSyncing?.onContactUpdated?.(e)},onContactDeleted:()=>{g(this,a,"f")?.contactSyncing?.onContactDeleted?.(e)},onContactSyncErroneousSituation:(t,n)=>{g(this,a,"f")?.contactSyncing?.onContactSyncErroneousSituation?.(e,t,n)}};await(0,S.syncContactsWithUserStorage)(t,{getMessenger:()=>this.messenger,getUserStorageControllerInstance:()=>this,trace:g(this,o,"f")})}}s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,m=new WeakMap,i=new WeakSet,h=function(){this.messenger.registerActionHandler("UserStorageController:performGetStorage",this.performGetStorage.bind(this)),this.messenger.registerActionHandler("UserStorageController:performGetStorageAllFeatureEntries",this.performGetStorageAllFeatureEntries.bind(this)),this.messenger.registerActionHandler("UserStorageController:performSetStorage",this.performSetStorage.bind(this)),this.messenger.registerActionHandler("UserStorageController:performBatchSetStorage",this.performBatchSetStorage.bind(this)),this.messenger.registerActionHandler("UserStorageController:performDeleteStorage",this.performDeleteStorage.bind(this)),this.messenger.registerActionHandler("UserStorageController:performBatchDeleteStorage",this.performBatchDeleteStorage.bind(this)),this.messenger.registerActionHandler("UserStorageController:getStorageKey",this.getStorageKey.bind(this))},f=async function(e,t){if(g(this,m,"f")[e])return g(this,m,"f")[e];if(!g(this,c,"f"))throw new Error("#snapSignMessage - unable to call snap, wallet is locked");const n=await this.messenger.call("SnapController:handleRequest",(0,E.createSnapSignMessageRequest)(e,t));return g(this,m,"f")[e]=n,n},p=function(e){this.update(t=>{t.isBackupAndSyncUpdateLoading=e})},n.default=P}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/UserStorageController.cjs"}],[2499,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TraceName=n.BACKUPANDSYNC_FEATURES=void 0,n.BACKUPANDSYNC_FEATURES={main:"main",accountSyncing:"accountSyncing",contactSyncing:"contactSyncing"},n.TraceName={ContactSyncFull:"Contact Sync Full",ContactSyncSaveBatch:"Contact Sync Save Batch",ContactSyncUpdateRemote:"Contact Sync Update Remote",ContactSyncDeleteRemote:"Contact Sync Delete Remote"}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/constants.cjs"}],[2500,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.USER_STORAGE_VERSION=n.USER_STORAGE_VERSION_KEY=void 0,n.USER_STORAGE_VERSION_KEY="v",n.USER_STORAGE_VERSION="1"}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/contact-syncing/constants.cjs"}],[2501,{"../../../shared/storage-schema.cjs":2530,"../constants.cjs":2499,"./sync-utils.cjs":2503,"./utils.cjs":2504},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deleteContactInRemoteStorage=n.updateContactInRemoteStorage=n.syncContactsWithUserStorage=void 0;const i=e("./sync-utils.cjs"),s=e("./utils.cjs"),r=e("./utils.cjs"),a=e("../../../shared/storage-schema.cjs"),o=e("../constants.cjs");function c(e){if(!e.address)throw new Error("Contact address is required to create storage key");return`${e.chainId}_${e.address.toLowerCase()}`}n.syncContactsWithUserStorage=async function(e,t){const{getMessenger:n,getUserStorageControllerInstance:l,trace:d}=t,{onContactSyncErroneousSituation:u,onContactUpdated:h,onContactDeleted:m}=e;if(!(0,i.canPerformContactSyncing)(t))return;const f=n().call("AddressBookController:list").filter(e=>!(0,r.isContactBridgedFromAccounts)(e)).filter(e=>e.address&&e.chainId&&e.name?.trim())||[],p=await async function(e){const{getUserStorageControllerInstance:t}=e;try{const e=await t().performGetStorageAllFeatureEntries(a.USER_STORAGE_FEATURE_NAMES.addressBook);if(!e||0===e.length)return null;return e.map(e=>{const t=JSON.parse(e);return(0,s.mapUserStorageEntryToAddressBookEntry)(t)})}catch{return null}}(t),g=p?.filter(e=>e.address&&e.chainId&&e.name?.trim())||[],b=async()=>{try{await l().setIsContactSyncingInProgress(!0);const e=new Map,i=new Map;f.forEach(t=>{const n=c(t);e.set(n,t)}),g.forEach(e=>{const t=c(e);i.set(t,e)});const r=[],d=[],u=[];for(const t of g){const n=c(t),i=e.get(n);if(t.deletedAt)i&&d.push(t);else if(i){if(i.name!==t.name||i.memo!==t.memo){const e=i.lastUpdatedAt||0;e>=(t.lastUpdatedAt||0)?u.push(i):r.push(t)}}else r.push(t)}for(const e of f){const t=c(e);i.get(t)||u.push(e)}for(const e of d)n().call("AddressBookController:delete",e.chainId,e.address),m&&m();for(const e of r)e.deletedAt||(n().call("AddressBookController:set",e.address,e.name||"",e.chainId,e.memo||"",e.addressType),h&&h());if(u.length>0){const e={};for(const t of u){const n=c(t);e[n]={...i.get(n),...t,lastUpdatedAt:Date.now()}}await async function(e,t){const{getUserStorageControllerInstance:n,trace:i}=t,r=async()=>{if(!e||0===e.length)return;const t=e.map(e=>{const t=c(e),n=(0,s.mapAddressBookEntryToUserStorageEntry)(e);return[t,JSON.stringify(n)]});await n().performBatchSetStorage(a.USER_STORAGE_FEATURE_NAMES.addressBook,t)};return i?await i({name:o.TraceName.ContactSyncSaveBatch,data:{contactCount:e.length,hasBatchOperations:e.length>1,chainCount:new Set(e.map(e=>e.chainId)).size,hasMemosCount:e.filter(e=>e.memo?.length).length}},r):await r()}(Object.values(e),t)}}catch(e){if(u)throw u("Error synchronizing contacts",{error:e}),e}finally{await l().setIsContactSyncingInProgress(!1)}};if(d){const e=f,t=g;return void await d({name:o.TraceName.ContactSyncFull,data:{localContactCount:e.length,remoteContactCount:t.length,isFirstSync:0===t.length&&e.length>0,isNewDeviceSync:0===e.length&&t.length>0,isRegularSync:e.length>0&&t.length>0,hasDataToSync:e.length>0||t.length>0,expectedWorkload:e.length+t.length}},b)}await b()},n.updateContactInRemoteStorage=async function(e,t){const{trace:n}=t,r=async()=>{if(!((0,i.canPerformContactSyncing)(t)&&e.address&&e.chainId&&e.name?.trim()))return;const{getUserStorageControllerInstance:n}=t,r={...e,lastUpdatedAt:e.lastUpdatedAt||Date.now()},o=c(e),l=(0,s.mapAddressBookEntryToUserStorageEntry)(r);await n().performSetStorage(`${a.USER_STORAGE_FEATURE_NAMES.addressBook}.${o}`,JSON.stringify(l))};return n?await n({name:o.TraceName.ContactSyncUpdateRemote,data:{chainId:e.chainId,hasTimestamp:Boolean(e.lastUpdatedAt),hasMemo:Boolean(e.memo?.length),isUpdate:Boolean(e.lastUpdatedAt)}},r):await r()},n.deleteContactInRemoteStorage=async function(e,t){const{trace:n}=t,r=async()=>{if(!((0,i.canPerformContactSyncing)(t)&&e.address&&e.chainId&&e.name?.trim()))return;const{getUserStorageControllerInstance:n}=t,r=c(e);try{const e=await n().performGetStorage(`${a.USER_STORAGE_FEATURE_NAMES.addressBook}.${r}`);if(e){const t=JSON.parse(e),i=(0,s.mapUserStorageEntryToAddressBookEntry)(t),o=Date.now(),c={...i,deletedAt:o,lastUpdatedAt:o},l=(0,s.mapAddressBookEntryToUserStorageEntry)(c);await n().performSetStorage(`${a.USER_STORAGE_FEATURE_NAMES.addressBook}.${r}`,JSON.stringify(l))}}catch{console.warn("Contact not found in remote storage for deletion:",r)}};return n?await n({name:o.TraceName.ContactSyncDeleteRemote},r):await r()}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/contact-syncing/controller-integration.cjs"}],[2502,{"./controller-integration.cjs":2501,"./sync-utils.cjs":2503,"./utils.cjs":2504},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setupContactSyncingSubscriptions=void 0;const i=e("./controller-integration.cjs"),s=e("./sync-utils.cjs"),r=e("./utils.cjs");n.setupContactSyncingSubscriptions=function(e){const{getMessenger:t}=e;t().subscribe("AddressBookController:contactUpdated",t=>{(async()=>{if((0,s.canPerformContactSyncing)(e)&&!(0,r.isContactBridgedFromAccounts)(t))try{await(0,i.updateContactInRemoteStorage)(t,e)}catch(e){console.error("Error updating contact in remote storage:",e)}})()}),t().subscribe("AddressBookController:contactDeleted",t=>{(async()=>{if((0,s.canPerformContactSyncing)(e)&&!(0,r.isContactBridgedFromAccounts)(t))try{await(0,i.deleteContactInRemoteStorage)(t,e)}catch(e){console.error("Error deleting contact from remote storage:",e)}})()})}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/contact-syncing/setup-subscriptions.cjs"}],[2503,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.canPerformContactSyncing=void 0,n.canPerformContactSyncing=function(e){const{getMessenger:t,getUserStorageControllerInstance:n}=e,{isBackupAndSyncEnabled:i,isContactSyncingEnabled:s,isContactSyncingInProgress:r}=n().state,a=t().call("AuthenticationController:isSignedIn");return!(!i||!s||r||!a)}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/contact-syncing/sync-utils.cjs"}],[2504,{"./constants.cjs":2500},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContactBridgedFromAccounts=n.mapUserStorageEntryToAddressBookEntry=n.mapAddressBookEntryToUserStorageEntry=void 0;const i=e("./constants.cjs");n.mapAddressBookEntryToUserStorageEntry=e=>{const{address:t,name:n,chainId:s,memo:r,addressType:a,isEns:o,lastUpdatedAt:c,deletedAt:l}=e,d=Date.now();return{[i.USER_STORAGE_VERSION_KEY]:i.USER_STORAGE_VERSION,a:t,n:n,c:s,...r?{m:r}:{},...a?{t:a}:{},...o?{e:o}:{},lu:c||d,...l?{dt:l}:{}}};n.mapUserStorageEntryToAddressBookEntry=e=>({address:e.a,name:e.n,chainId:e.c,memo:e.m||"",isEns:e.e||!1,...e.t?{addressType:e.t}:{},...e.dt?{deletedAt:e.dt}:{},...e.lu?{lastUpdatedAt:e.lu}:{}});n.isContactBridgedFromAccounts=e=>"*"===String(e.chainId)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/contact-syncing/utils.cjs"}],[2505,{"../../shared/encryption/index.cjs":2527,"../../shared/storage-schema.cjs":2530,"./UserStorageController.cjs":2498,"./constants.cjs":2499,"./mocks/index.cjs":2506},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Mocks=n.Controller=void 0;const c=o(e("./UserStorageController.cjs"));n.Controller=c.default;const l=c.default;n.default=l,r(e("./UserStorageController.cjs"),n),n.Mocks=a(e("./mocks/index.cjs")),r(e("./constants.cjs"),n),r(e("../../shared/encryption/index.cjs"),n),r(e("../../shared/storage-schema.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/index.cjs"}],[2506,{"./mockResponses.cjs":2507,"./mockStorage.cjs":2508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./mockResponses.cjs"),n),s(e("./mockStorage.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/mocks/index.cjs"}],[2507,{"../../../sdk/index.cjs":2518,"../../../shared/storage-schema.cjs":2530,"./mockStorage.cjs":2508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deleteMockUserStorageAllFeatureEntriesResponse=n.deleteMockUserStorageResponse=n.getMockUserStorageBatchDeleteResponse=n.getMockUserStorageBatchPutResponse=n.getMockUserStoragePutResponse=n.getMockUserStorageAllFeatureEntriesResponse=n.getMockUserStorageGetResponse=n.createMockAllFeatureEntriesResponse=n.createMockGetStorageResponse=n.getMockUserStorageEndpoint=void 0;const i=e("./mockStorage.cjs"),s=e("../../../sdk/index.cjs"),r=e("../../../shared/storage-schema.cjs");async function a(e){return{HashedKey:"HASHED_KEY",Data:await(0,i.MOCK_ENCRYPTED_STORAGE_DATA)(e)}}async function o(e=[i.MOCK_STORAGE_DATA]){const t=[];for(const n of e)t.push({HashedKey:"HASHED_KEY",Data:await(0,i.MOCK_ENCRYPTED_STORAGE_DATA)(n)});return t}n.getMockUserStorageEndpoint=e=>1===e.split(".").length?`${(0,s.getEnvUrls)(s.Env.PRD).userStorageApiUrl}/api/v1/userstorage/${e}`:`${(0,s.getEnvUrls)(s.Env.PRD).userStorageApiUrl}/api/v1/userstorage/${(0,r.createEntryPath)(e,i.MOCK_STORAGE_KEY)}`,n.createMockGetStorageResponse=a,n.createMockAllFeatureEntriesResponse=o,n.getMockUserStorageGetResponse=async function(e=`${r.USER_STORAGE_FEATURE_NAMES.notifications}.notification_settings`){return{url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"GET",response:await a()}},n.getMockUserStorageAllFeatureEntriesResponse=async function(e=r.USER_STORAGE_FEATURE_NAMES.notifications,t){return{url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"GET",response:await o(t)}};n.getMockUserStoragePutResponse=(e=`${r.USER_STORAGE_FEATURE_NAMES.notifications}.notification_settings`)=>({url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"PUT",response:null});n.getMockUserStorageBatchPutResponse=(e=r.USER_STORAGE_FEATURE_NAMES.notifications)=>({url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"PUT",response:null});n.getMockUserStorageBatchDeleteResponse=(e=r.USER_STORAGE_FEATURE_NAMES.notifications)=>({url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"PUT",response:null});n.deleteMockUserStorageResponse=(e=`${r.USER_STORAGE_FEATURE_NAMES.notifications}.notification_settings`)=>({url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"DELETE",response:null});n.deleteMockUserStorageAllFeatureEntriesResponse=(e=r.USER_STORAGE_FEATURE_NAMES.notifications)=>({url:(0,n.getMockUserStorageEndpoint)(e),requestMethod:"DELETE",response:null})}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/mocks/mockResponses.cjs"}],[2508,{"../../../shared/encryption/index.cjs":2527},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.MOCK_ENCRYPTED_STORAGE_DATA=n.MOCK_STORAGE_DATA=n.MOCK_STORAGE_KEY=n.MOCK_STORAGE_KEY_SIGNATURE=void 0;const a=r(e("../../../shared/encryption/index.cjs"));let o;n.MOCK_STORAGE_KEY_SIGNATURE="mockStorageKey",n.MOCK_STORAGE_KEY=(0,a.createSHA256Hash)(n.MOCK_STORAGE_KEY_SIGNATURE),n.MOCK_STORAGE_DATA=JSON.stringify({hello:"world"});n.MOCK_ENCRYPTED_STORAGE_DATA=async e=>o??(o=await a.default.encryptString(e??n.MOCK_STORAGE_DATA,n.MOCK_STORAGE_KEY))}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/controllers/user-storage/mocks/mockStorage.cjs"}],[2509,{"./controllers/authentication/index.cjs":2495,"./controllers/user-storage/index.cjs":2505,"./sdk/index.cjs":2518},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.UserStorageController=n.AuthenticationController=n.SDK=void 0,n.SDK=r(e("./sdk/index.cjs")),n.AuthenticationController=r(e("./controllers/authentication/index.cjs")),n.UserStorageController=r(e("./controllers/user-storage/index.cjs"))}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/index.cjs"}],[2510,{"../errors.cjs":2517,"../utils/validate-login-response.cjs":2523,"./services.cjs":2512,siwe:5622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SIWEJwtBearerAuth=void 0;const m=e("siwe"),f=e("./services.cjs"),p=e("../errors.cjs"),g=e("../utils/validate-login-response.cjs");n.SIWEJwtBearerAuth=class{constructor(e,t){i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),u(this,s,e,"f"),u(this,r,t,"f")}async getAccessToken(){const e=await h(this,i,"m",o).call(this);if(e)return e.token.accessToken;return(await h(this,i,"m",c).call(this)).token.accessToken}async getUserProfile(){const e=await h(this,i,"m",o).call(this);if(e)return e.profile;return(await h(this,i,"m",c).call(this)).profile}async getIdentifier(){return h(this,i,"m",d).call(this,h(this,a,"f")),h(this,a,"f").address}async getUserProfileLineage(){const e=await this.getAccessToken();return await(0,f.getUserProfileLineage)(h(this,s,"f").env,e)}async signMessage(e){return h(this,i,"m",d).call(this,h(this,a,"f")),await h(this,a,"f").signMessage(e)}prepare(e){u(this,a,e,"f")}},s=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakSet,o=async function(){const e=await h(this,r,"f").storage.getLoginResponse();if(!(0,g.validateLoginResponse)(e))return null;return Date.now()-e.token.obtainedAt<1e3*e.token.expiresIn*.9?e:null},c=async function(){h(this,i,"m",d).call(this,h(this,a,"f"));const e=await this.getIdentifier(),t=await(0,f.getNonce)(e,h(this,s,"f").env),n=h(this,i,"m",l).call(this,t.nonce),o=await this.signMessage(n),c=await(0,f.authenticate)(n,o,h(this,s,"f").type,h(this,s,"f").env),u=await(0,f.authorizeOIDC)(c.token,h(this,s,"f").env,h(this,s,"f").platform),m={profile:c.profile,token:u};return await h(this,r,"f").storage.setLoginResponse(m),m},l=function(e){return h(this,i,"m",d).call(this,h(this,a,"f")),new m.SiweMessage({domain:h(this,a,"f")?.domain,address:h(this,a,"f")?.address,uri:(0,f.SIWE_LOGIN_URL)(h(this,s,"f").env),version:"1",chainId:h(this,a,"f")?.chainId,nonce:e,issuedAt:(new Date).toISOString()}).prepareMessage()},d=function(e){if(!e)throw new p.ValidationError("you must call 'prepare()' before logging in")}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication-jwt-bearer/flow-siwe.cjs"}],[2511,{"../errors.cjs":2517,"../utils/eip-6963-metamask-provider.cjs":2521,"../utils/messaging-signing-snap-requests.cjs":2522,"../utils/validate-login-response.cjs":2523,"./services.cjs":2512,"./utils/time.cjs":2514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),y=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&b(t,e,n);return y(t,e),t},w=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},S=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SRPJwtBearerAuth=void 0;const T=e("./services.cjs"),v=x(e("./utils/time.cjs")),_=e("../errors.cjs"),E=e("../utils/eip-6963-metamask-provider.cjs"),k=e("../utils/messaging-signing-snap-requests.cjs"),C=e("../utils/validate-login-response.cjs"),P=async()=>{const e=await(0,E.getMetaMaskProviderEIP6963)();if(!e)throw new _.ValidationError("No MetaMask wallet connected");return e},O=e=>({getIdentifier:async t=>{const n=e??await P();return await k.MESSAGE_SIGNING_SNAP.getPublicKey(n,t)},signMessage:async(t,n)=>{const i=e??await P();return(0,k.assertMessageStartsWithMetamask)(t),await k.MESSAGE_SIGNING_SNAP.signMessage(i,t,n)}});n.SRPJwtBearerAuth=class{constructor(e,t){i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,new Map),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),w(this,s,e,"f"),w(this,d,t.customProvider,"f"),w(this,r,{storage:t.storage,signing:t.signing??O(S(this,d,"f"))},"f"),w(this,a,t.metametrics,"f"),w(this,c,t.rateLimitRetry?.cooldownDefaultMs??1e4,"f"),w(this,l,t.rateLimitRetry?.maxLoginRetries??1,"f")}setCustomProvider(e){w(this,d,e,"f"),S(this,r,"f").signing=O(e)}async getAccessToken(e){const t=await S(this,i,"m",u).call(this,e);if(t)return t.token.accessToken;return(await S(this,i,"m",h).call(this,e)).token.accessToken}async getUserProfile(e){const t=await S(this,i,"m",u).call(this,e);if(t)return t.profile;return(await S(this,i,"m",h).call(this,e)).profile}async getIdentifier(e){return await S(this,r,"f").signing.getIdentifier(e)}async getUserProfileLineage(){const e=await this.getAccessToken();return await(0,T.getUserProfileLineage)(S(this,s,"f").env,e)}async signMessage(e,t){return await S(this,r,"f").signing.signMessage(e,t)}async isSnapConnected(){const e=S(this,d,"f")??await P();if(!e)return!1;return await(0,k.isSnapConnected)(e)}async connectSnap(){const e=S(this,d,"f")??await P();return await(0,k.connectSnap)(e)}},s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,i=new WeakSet,u=async function(e){const t=await S(this,r,"f").storage.getLoginResponse(e);if(!(0,C.validateLoginResponse)(t))return null;return Date.now()-t.token.obtainedAt<1e3*t.token.expiresIn*.9?t:null},h=async function(e){return await S(this,i,"m",f).call(this,e)},m=async function(e){const t=await this.getIdentifier(e),n=await(0,T.getNonce)(t,S(this,s,"f").env),o=S(this,i,"m",g).call(this,n.nonce,t),c=await this.signMessage(o,e),l=await(0,T.authenticate)(o,c,S(this,s,"f").type,S(this,s,"f").env,S(this,a,"f")),d=await(0,T.authorizeOIDC)(l.token,S(this,s,"f").env,S(this,s,"f").platform),u={profile:l.profile,token:d};return await S(this,r,"f").storage.setLoginResponse(u,e),u},f=async function(e){const t=e??"__default__",n=S(this,o,"f").get(t);if(n)return n;const s=S(this,i,"m",p).call(this,e);S(this,o,"f").set(t,s);try{return await s}finally{S(this,o,"f").delete(t)}},p=async function(e){for(let t=0;t<1+S(this,l,"f");t+=1)try{return await S(this,i,"m",m).call(this,e)}catch(e){if(!_.RateLimitedError.isRateLimitError(e))throw e;if(t>=S(this,l,"f"))throw e;const n=e.retryAfterMs??S(this,c,"f");await v.delay(n)}throw new Error("Unexpected: login loop exhausted without result")},g=function(e,t){return`metamask:${e}:${t}`}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication-jwt-bearer/flow-srp.cjs"}],[2512,{"../../shared/env.cjs":2529,"../constants.cjs":2516,"../errors.cjs":2517,"./types.cjs":2513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUserProfileLineage=n.authenticate=n.authorizeOIDC=n.getNonce=n.pairIdentifiers=n.PROFILE_LINEAGE_URL=n.SIWE_LOGIN_URL=n.SRP_LOGIN_URL=n.OIDC_TOKEN_URL=n.PAIR_IDENTIFIERS=n.NONCE_URL=void 0;const i=e("./types.cjs"),s=e("../../shared/env.cjs"),r=e("../constants.cjs"),a=e("../errors.cjs");async function o(e,t){const{status:n}=e,i=function(e){if(!e)return null;const t=Number(e);if(!Number.isNaN(t))return 1e3*t;const n=Date.parse(e);if(!Number.isNaN(n)){const e=n-Date.now();return e>0?e:null}return null}(e.headers.get("Retry-After")),s=await e.json(),o="message"in s?s.message:s.error_description,{error:c}=s;if(n===r.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new a.RateLimitedError(`HTTP ${r.HTTP_STATUS_CODES.TOO_MANY_REQUESTS}: ${o} (error: ${c})`,i??undefined);throw new Error(`${t?`${t} `:""}HTTP ${n} error: ${o}, error: ${c}`)}n.NONCE_URL=e=>`${(0,s.getEnvUrls)(e).authApiUrl}/api/v2/nonce`;n.PAIR_IDENTIFIERS=e=>`${(0,s.getEnvUrls)(e).authApiUrl}/api/v2/identifiers/pair`;n.OIDC_TOKEN_URL=e=>`${(0,s.getEnvUrls)(e).oidcApiUrl}/oauth2/token`;n.SRP_LOGIN_URL=e=>`${(0,s.getEnvUrls)(e).authApiUrl}/api/v2/srp/login`;n.SIWE_LOGIN_URL=e=>`${(0,s.getEnvUrls)(e).authApiUrl}/api/v2/siwe/login`;n.PROFILE_LINEAGE_URL=e=>`${(0,s.getEnvUrls)(e).authApiUrl}/api/v2/profile/lineage`;n.pairIdentifiers=async function(e,t,i,s){const r=new URL((0,n.PAIR_IDENTIFIERS)(s));try{const n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({nonce:e,logins:t})});n.ok||await o(n)}catch(e){if(a.RateLimitedError.isRateLimitError(e))throw e;const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new a.PairError(`unable to pair identifiers: ${t}`)}},n.getNonce=async function(e,t){const i=new URL((0,n.NONCE_URL)(t));i.searchParams.set("identifier",e);try{const e=await fetch(i.toString());e.ok||await o(e);const t=await e.json();return{nonce:t.nonce,identifier:t.identifier,expiresIn:t.expires_in}}catch(e){if(a.RateLimitedError.isRateLimitError(e))throw e;const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new a.NonceRetrievalError(`failed to generate nonce: ${t}`)}},n.authorizeOIDC=async function(e,t,i){const r=new Headers({"Content-Type":"application/x-www-form-urlencoded"}),c=new URLSearchParams;c.append("grant_type","urn:ietf:params:oauth:grant-type:jwt-bearer"),c.append("client_id",(0,s.getOidcClientId)(t,i)),c.append("assertion",e);try{const e=await fetch((0,n.OIDC_TOKEN_URL)(t),{method:"POST",headers:r,body:c.toString()});e.ok||await o(e);const i=await e.json();return{accessToken:i.access_token,expiresIn:i.expires_in,obtainedAt:Date.now()}}catch(e){if(a.RateLimitedError.isRateLimitError(e))throw e;const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new a.SignInError(`unable to get access token: ${t}`)}},n.authenticate=async function(e,t,s,r,c){const l=((e,t)=>{switch(e){case i.AuthType.SRP:return(0,n.SRP_LOGIN_URL)(t);case i.AuthType.SiWE:return(0,n.SIWE_LOGIN_URL)(t);default:throw new a.ValidationError(`Invalid AuthType: ${e} - unable to create Auth URL`)}})(s,r);try{const n=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signature:t,raw_message:e,...c?{metametrics:{metametrics_id:await c.getMetaMetricsId(),agent:c.agent}}:{}})});n.ok||await o(n,`${s} login`);const i=await n.json();return{token:i.token,expiresIn:i.expires_in,profile:{identifierId:i.profile.identifier_id,metaMetricsId:i.profile.metametrics_id,profileId:i.profile.profile_id}}}catch(e){if(a.RateLimitedError.isRateLimitError(e))throw e;const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new a.SignInError(`unable to perform SRP login: ${t}`)}},n.getUserProfileLineage=async function(e,t){const i=new URL((0,n.PROFILE_LINEAGE_URL)(e));try{const e=await fetch(i,{method:"GET",headers:{Authorization:`Bearer ${t}`}});e.ok||await o(e,"profile lineage");return await e.json()}catch(e){if(a.RateLimitedError.isRateLimitError(e))throw e;const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new a.SignInError(`failed to get profile lineage: ${t}`)}}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication-jwt-bearer/services.cjs"}],[2513,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.AuthType=void 0,function(e){e.SRP="SRP",e.SiWE="SiWE"}(i||(n.AuthType=i={}))}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication-jwt-bearer/types.cjs"}],[2514,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.delay=void 0,n.delay=async function(e){e<=0||await new Promise(t=>setTimeout(t,e))}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication-jwt-bearer/utils/time.cjs"}],[2515,{"./authentication-jwt-bearer/flow-siwe.cjs":2510,"./authentication-jwt-bearer/flow-srp.cjs":2511,"./authentication-jwt-bearer/services.cjs":2512,"./authentication-jwt-bearer/types.cjs":2513,"./errors.cjs":2517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),d=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||l(t,e,n)},u=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SRPJwtBearerAuth=n.SIWEJwtBearerAuth=n.JwtBearerAuth=void 0;const m=e("./authentication-jwt-bearer/flow-siwe.cjs"),f=e("./authentication-jwt-bearer/flow-srp.cjs"),p=e("./authentication-jwt-bearer/services.cjs"),g=e("./authentication-jwt-bearer/types.cjs"),b=e("./errors.cjs");n.JwtBearerAuth=class{constructor(...e){if(i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),u(this,s,e[0].type,"f"),u(this,r,e[0].env,"f"),e[0].type!==g.AuthType.SRP){if(e[0].type!==g.AuthType.SiWE)throw new b.UnsupportedAuthTypeError("unsupported auth type");u(this,a,new m.SIWEJwtBearerAuth(e[0],e[1]),"f")}else u(this,a,new f.SRPJwtBearerAuth(e[0],e[1]),"f")}setCustomProvider(e){h(this,i,"m",c).call(this,h(this,s,"f"),h(this,a,"f")),h(this,a,"f").setCustomProvider(e)}async getAccessToken(e){return await h(this,a,"f").getAccessToken(e)}async connectSnap(){return h(this,i,"m",c).call(this,h(this,s,"f"),h(this,a,"f")),h(this,a,"f").connectSnap()}async isSnapConnected(){return h(this,i,"m",c).call(this,h(this,s,"f"),h(this,a,"f")),h(this,a,"f").isSnapConnected()}async getUserProfile(e){return await h(this,a,"f").getUserProfile(e)}async getIdentifier(e){return await h(this,a,"f").getIdentifier(e)}async getUserProfileLineage(){return await h(this,a,"f").getUserProfileLineage()}async signMessage(e,t){return await h(this,a,"f").signMessage(e,t)}async pairIdentifiers(e){const t=await this.getUserProfile(),n=await(0,p.getNonce)(t.profileId,h(this,r,"f")),i=await Promise.all(e.map(async e=>{try{const t=`metamask:${n.nonce}:${e.identifier}`;return{signature:await e.signMessage(t),raw_message:t,encrypted_storage_key:e.encryptedStorageKey,identifier_type:e.identifierType}}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");throw new b.PairError(`failed to sign pairing message: ${t}`)}})),s=await this.getAccessToken();await(0,p.pairIdentifiers)(n.nonce,i,s,h(this,r,"f"))}prepare(e){h(this,i,"m",o).call(this,h(this,s,"f"),h(this,a,"f")),h(this,a,"f").prepare(e)}},s=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakSet,o=function(e,t){if(e!==g.AuthType.SiWE)throw new b.UnsupportedAuthTypeError("This method is only available via SIWE auth type")},c=function(e,t){if(e!==g.AuthType.SRP)throw new b.UnsupportedAuthTypeError("This method is only available via SRP auth type")};var y=e("./authentication-jwt-bearer/flow-siwe.cjs");Object.defineProperty(n,"SIWEJwtBearerAuth",{enumerable:!0,get:function(){return y.SIWEJwtBearerAuth}});var x=e("./authentication-jwt-bearer/flow-srp.cjs");Object.defineProperty(n,"SRPJwtBearerAuth",{enumerable:!0,get:function(){return x.SRPJwtBearerAuth}}),d(e("./authentication-jwt-bearer/types.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/authentication.cjs"}],[2516,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HTTP_STATUS_CODES=void 0,n.HTTP_STATUS_CODES={TOO_MANY_REQUESTS:429}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/constants.cjs"}],[2517,{"./constants.cjs":2516},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RateLimitedError=n.NotFoundError=n.UnsupportedAuthTypeError=n.ValidationError=n.UserStorageError=n.PairError=n.SignInError=n.NonceRetrievalError=void 0;const i=e("./constants.cjs");class s extends Error{constructor(e){super(e),this.name="NonceRetrievalError"}}n.NonceRetrievalError=s;class r extends Error{constructor(e){super(e),this.name="SignInError"}}n.SignInError=r;class a extends Error{constructor(e){super(e),this.name="PairError"}}n.PairError=a;class o extends Error{constructor(e){super(e),this.name="UserStorageError"}}n.UserStorageError=o;class c extends Error{constructor(e){super(e),this.name="ValidationError"}}n.ValidationError=c;class l extends Error{constructor(e){super(e),this.name="UnsupportedAuthTypeError"}}n.UnsupportedAuthTypeError=l;class d extends Error{constructor(e){super(e),this.name="NotFoundError"}}n.NotFoundError=d;class u extends Error{constructor(e,t){super(e),this.status=i.HTTP_STATUS_CODES.TOO_MANY_REQUESTS,this.name="RateLimitedError",this.retryAfterMs=t}static isRateLimitError(e){return e instanceof u||"object"==typeof e&&null!==e&&"status"in e&&e.status===i.HTTP_STATUS_CODES.TOO_MANY_REQUESTS}}n.RateLimitedError=u}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/errors.cjs"}],[2518,{"../shared/encryption/index.cjs":2527,"../shared/env.cjs":2529,"../shared/storage-schema.cjs":2530,"./authentication.cjs":2515,"./errors.cjs":2517,"./user-storage.cjs":2520,"./utils/messaging-signing-snap-requests.cjs":2522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./authentication.cjs"),n),s(e("./user-storage.cjs"),n),s(e("./errors.cjs"),n),s(e("./utils/messaging-signing-snap-requests.cjs"),n),s(e("../shared/encryption/index.cjs"),n),s(e("../shared/env.cjs"),n),s(e("../shared/storage-schema.cjs"),n)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/index.cjs"}],[2519,{"../../shared/env.cjs":2529,"../authentication-jwt-bearer/services.cjs":2512},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MOCK_USER_PROFILE_LINEAGE_RESPONSE=n.MOCK_OIDC_TOKEN_RESPONSE=n.MOCK_SRP_LOGIN_RESPONSE=n.MOCK_SIWE_LOGIN_RESPONSE=n.MOCK_NONCE_RESPONSE=n.MOCK_ACCESS_JWT=n.MOCK_JWT=n.MOCK_PROFILE_LINEAGE_URL=n.MOCK_PAIR_IDENTIFIERS_URL=n.MOCK_SIWE_LOGIN_URL=n.MOCK_OIDC_TOKEN_URL=n.MOCK_SRP_LOGIN_URL=n.MOCK_NONCE_URL=void 0;const i=e("../../shared/env.cjs"),s=e("../authentication-jwt-bearer/services.cjs");n.MOCK_NONCE_URL=(0,s.NONCE_URL)(i.Env.PRD),n.MOCK_SRP_LOGIN_URL=(0,s.SRP_LOGIN_URL)(i.Env.PRD),n.MOCK_OIDC_TOKEN_URL=(0,s.OIDC_TOKEN_URL)(i.Env.PRD),n.MOCK_SIWE_LOGIN_URL=(0,s.SIWE_LOGIN_URL)(i.Env.PRD),n.MOCK_PAIR_IDENTIFIERS_URL=(0,s.PAIR_IDENTIFIERS)(i.Env.PRD),n.MOCK_PROFILE_LINEAGE_URL=(0,s.PROFILE_LINEAGE_URL)(i.Env.PRD),n.MOCK_JWT="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImIwNzE2N2U2LWJjNWUtNDgyZC1hNjRhLWU1MjQ0MjY2MGU3NyJ9.eyJzdWIiOiI1MzE0ODc5YWM2NDU1OGI3OTQ5ZmI4NWIzMjg2ZjZjNjUwODAzYmFiMTY0Y2QyOWNmMmM3YzdmMjMzMWMwZTRlIiwiaWF0IjoxNzA2MTEzMDYyLCJleHAiOjE3NjkxODUwNjMsImlzcyI6ImF1dGgubWV0YW1hc2suaW8iLCJhdWQiOiJwb3J0Zm9saW8ubWV0YW1hc2suaW8ifQ.E5UL6oABNweS8t5a6IBTqTf7NLOJbrhJSmEcsr7kwLp4bGvcENJzACwnsHDkA6PlzfDV09ZhAGU_F3hlS0j-erbY0k0AFR-GAtyS7E9N02D8RgUDz5oDR65CKmzM8JilgFA8UvruJ6OJGogroaOSOqzRES_s8MjHpP47RJ9lXrUesajsbOudXbuksXWg5QmWip6LLvjwr8UUzcJzNQilyIhiEpo4WdzWM4R3VtTwr4rHnWEvtYnYCov1jmI2w3YQ48y0M-3Y9IOO0ov_vlITRrOnR7Y7fRUGLUFmU5msD8mNWRywjQFLHfJJ1yNP5aJ8TkuCK3sC6kcUH335IVvukQ",n.MOCK_ACCESS_JWT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",n.MOCK_NONCE_RESPONSE={nonce:"xGMm9SoihEKeAEfV",identifier:"0xd8641601Cb79a94FD872fE42d5b4a067A44a7e88",expires_in:300},n.MOCK_SIWE_LOGIN_RESPONSE={token:n.MOCK_JWT,expires_in:3600,profile:{profile_id:"fa2bbf82-bd9a-4e6b-aabc-9ca0d0319b6e",metametrics_id:"de742679-4960-4977-a415-4718b5f8e86c",identifier_id:"ec9a4e9906836497efad2fd4d4290b34d2c6a2c0d93eb174aa3cd88a133adbaf",identifier_type:"SIWE",encrypted_storage_key:"2c6a2c0d93eb174aa3cd88a133adbaf"}},n.MOCK_SRP_LOGIN_RESPONSE={token:n.MOCK_JWT,expires_in:3600,profile:{profile_id:"f88227bd-b615-41a3-b0be-467dd781a4ad",metametrics_id:"561ec651-a844-4b36-a451-04d6eac35740",identifier_id:"da9a9fc7b09edde9cc23cec9b7e11a71fb0ab4d2ddd8af8af905306f3e1456fb",identifier_type:"SRP",encrypted_storage_key:"d2ddd8af8af905306f3e1456fb"}},n.MOCK_OIDC_TOKEN_RESPONSE={access_token:n.MOCK_ACCESS_JWT,expires_in:3600},n.MOCK_USER_PROFILE_LINEAGE_RESPONSE={profile_id:"f88227bd-b615-41a3-b0be-467dd781a4ad",created_at:"2025-10-01T12:00:00Z",lineage:[{metametrics_id:"561ec651-a844-4b36-a451-04d6eac35740",agent:i.Platform.MOBILE,created_at:"2025-10-01T12:00:00Z",updated_at:"2025-10-01T12:00:00Z",counter:1},{metametrics_id:"de742679-4960-4977-a415-4718b5f8e86c",agent:i.Platform.EXTENSION,created_at:"2025-10-01T12:00:00Z",updated_at:"2025-10-01T12:00:00Z",counter:2}]}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/mocks/auth.cjs"}],[2520,{"../shared/encryption/constants.cjs":2525,"../shared/encryption/index.cjs":2527,"../shared/env.cjs":2529,"../shared/storage-schema.cjs":2530,"./errors.cjs":2517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return p(t,e),t},b=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.UserStorage=n.STORAGE_URL=void 0;const y=e("./errors.cjs"),x=g(e("../shared/encryption/index.cjs")),w=e("../shared/encryption/constants.cjs"),S=e("../shared/env.cjs"),T=e("../shared/storage-schema.cjs");n.STORAGE_URL=(e,t)=>`${(0,S.getEnvUrls)(e).userStorageApiUrl}/api/v1/userstorage/${t}`;n.UserStorage=class{constructor(e,t){i.add(this),this.env=e.env,this.config=e,this.options=t}async setItem(e,t,n){await b(this,i,"m",s).call(this,e,t,n)}async batchSetItems(e,t,n){await b(this,i,"m",r).call(this,e,t,n)}async getItem(e,t){return b(this,i,"m",o).call(this,e,t)}async getAllFeatureItems(e,t){return b(this,i,"m",c).call(this,e,t)}async deleteItem(e,t){return b(this,i,"m",l).call(this,e,t)}async deleteAllFeatureItems(e,t){return b(this,i,"m",d).call(this,e,t)}async batchDeleteItems(e,t,n){return b(this,i,"m",u).call(this,e,t,n)}async getStorageKey(e){const t=`metamask:${(await this.config.auth.getUserProfile(e)).profileId}`,n=await(this.options.storage?.getStorageKey(t));if(n)return n;const i=await this.config.auth.signMessage(t,e),s=(0,x.createSHA256Hash)(i);return await(this.options.storage?.setStorageKey(t,s)),s}},i=new WeakSet,s=async function(e,t,s){const r=s?.entropySourceId;try{const a=await b(this,i,"m",m).call(this,r),o=await this.getStorageKey(r),c=await x.default.encryptString(t,o,s?.nativeScryptCrypto),l=(0,T.createEntryPath)(e,o),d=new URL((0,n.STORAGE_URL)(this.env,l)),u=await fetch(d.toString(),{method:"PUT",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({data:c})});if(!u.ok){const e=await u.json().catch(()=>({message:"unknown",error:"unknown"}));throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to upsert user storage for path '${e}'. ${n}`)}},r=async function(e,t,s){const r=s?.entropySourceId;try{if(!t.length)return;const a=await b(this,i,"m",m).call(this,r),o=await this.getStorageKey(r),c=await Promise.all(t.map(async e=>[b(this,i,"m",h).call(this,e[0],o),await x.default.encryptString(e[1],o,s?.nativeScryptCrypto)])),l=new URL((0,n.STORAGE_URL)(this.env,e)),d=await fetch(l.toString(),{method:"PUT",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({data:Object.fromEntries(c)})});if(!d.ok){const e=await d.json().catch(()=>({message:"unknown",error:"unknown"}));throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to batch upsert user storage for path '${e}'. ${n}`)}},a=async function(e,t,s){try{const r=await b(this,i,"m",m).call(this,s),a=new URL((0,n.STORAGE_URL)(this.env,e)),o=await fetch(a.toString(),{method:"PUT",headers:{"Content-Type":"application/json",...r},body:JSON.stringify({data:Object.fromEntries(t)})});if(!o.ok){const e=await o.json().catch(()=>({message:"unknown",error:"unknown"}));throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to batch upsert user storage for path '${e}'. ${n}`)}},o=async function(e,t){const r=t?.entropySourceId;try{const a=await b(this,i,"m",m).call(this,r),o=await this.getStorageKey(r),c=(0,T.createEntryPath)(e,o),l=new URL((0,n.STORAGE_URL)(this.env,c)),d=await fetch(l.toString(),{headers:{"Content-Type":"application/json",...a}});if(404===d.status)return null;if(!d.ok){const e=await d.json();throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}const u=await d.json(),h=u?.Data??null;if(!h)return null;const f=await x.default.decryptString(h,o,t?.nativeScryptCrypto);return x.default.getSalt(h).toString()!==w.SHARED_SALT.toString()&&await b(this,i,"m",s).call(this,e,f,t),f}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to get user storage for path '${e}'. ${n}`)}},c=async function(e,t){const s=t?.entropySourceId;try{const r=await b(this,i,"m",m).call(this,s),o=await this.getStorageKey(s),c=new URL((0,n.STORAGE_URL)(this.env,e)),l=await fetch(c.toString(),{headers:{"Content-Type":"application/json",...r}});if(404===l.status)return null;if(!l.ok){const e=await l.json();throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}const d=await l.json();if(!Array.isArray(d))return null;const u=[],h=[];for(const e of d)if(e.Data)try{const n=await x.default.decryptString(e.Data,o,t?.nativeScryptCrypto);u.push(n);x.default.getSalt(e.Data).toString()!==w.SHARED_SALT.toString()&&h.push([e.HashedKey,await x.default.encryptString(n,o,t?.nativeScryptCrypto)])}catch{}return h.length&&await b(this,i,"m",a).call(this,e,h,s),u}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to get user storage for path '${e}'. ${n}`)}},l=async function(e,t){const s=t?.entropySourceId;try{const t=await b(this,i,"m",m).call(this,s),r=await this.getStorageKey(s),a=(0,T.createEntryPath)(e,r),o=new URL((0,n.STORAGE_URL)(this.env,a)),c=await fetch(o.toString(),{method:"DELETE",headers:{"Content-Type":"application/json",...t}});if(404===c.status)throw new y.NotFoundError(`feature/key set not found for path '${e}'.`);if(!c.ok){const e=await c.json();throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){if(t instanceof y.NotFoundError)throw t;const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to delete user storage for path '${e}'. ${n}`)}},d=async function(e,t){try{const s=t?.entropySourceId,r=await b(this,i,"m",m).call(this,s),a=new URL((0,n.STORAGE_URL)(this.env,e)),o=await fetch(a.toString(),{method:"DELETE",headers:{"Content-Type":"application/json",...r}});if(404===o.status)throw new y.NotFoundError(`feature not found for path '${e}'.`);if(!o.ok){const e=await o.json();throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){if(t instanceof y.NotFoundError)throw t;const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to delete user storage for path '${e}'. ${n}`)}},u=async function(e,t,s){try{if(!t.length)return;const r=s?.entropySourceId,a=await b(this,i,"m",m).call(this,r),o=await this.getStorageKey(r),c=t.map(e=>b(this,i,"m",h).call(this,e,o)),l=new URL((0,n.STORAGE_URL)(this.env,e)),d=await fetch(l.toString(),{method:"PUT",headers:{"Content-Type":"application/json",...a},body:JSON.stringify({batch_delete:c})});if(!d.ok){const e=await d.json().catch(()=>({message:"unknown",error:"unknown"}));throw new Error(`HTTP error message: ${e.message}, error: ${e.error}`)}}catch(t){const n=t instanceof Error?t.message:JSON.stringify(t??"");throw new y.UserStorageError(`failed to batch delete user storage for path '${e}'. ${n}`)}},h=function(e,t){return(0,x.createSHA256Hash)(e+t)},m=async function(e){return{Authorization:`Bearer ${await this.config.auth.getAccessToken(e)}`}}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/user-storage.cjs"}],[2521,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetaMaskProviderEIP6963=n.metamaskClientsRdns=void 0,n.metamaskClientsRdns={main:"io.metamask",flask:"io.metamask.flask",institutional:"io.metamask.mmi"};const i={};n.getMetaMaskProviderEIP6963=function(e="any"){return new Promise(t=>{if("any"!==e&&n.metamaskClientsRdns[e]===undefined)return void t(null);const s=i[e];if(s)return void t(s);const r=[],a=e=>{const t=e,n=t?.detail;n?.provider&&n?.info?.rdns&&r.push({rdns:n?.info?.rdns,provider:n?.provider})};window.addEventListener("eip6963:announceProvider",a),window.dispatchEvent(new Event("eip6963:requestProvider")),setTimeout(()=>{let s;if(window.removeEventListener("eip6963:announceProvider",a),"any"===e){const e=Object.values(n.metamaskClientsRdns);s=r.find(t=>e.includes(t.rdns))?.provider??null}else{const t=n.metamaskClientsRdns[e];s=r.find(e=>e.rdns===t)?.provider??null}return s&&(i[e]=s),t(s)},100)})}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/utils/eip-6963-metamask-provider.cjs"}],[2522,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){async function i(e){return await e.request({method:"wallet_getSnaps"})}Object.defineProperty(n,"__esModule",{value:!0}),n.assertMessageStartsWithMetamask=n.MESSAGE_SIGNING_SNAP=n.isSnapConnected=n.getSnaps=n.connectSnap=n.SNAP_ORIGIN=void 0,n.SNAP_ORIGIN="npm:@metamask/message-signing-snap",n.connectSnap=async function(e){return await e.request({method:"wallet_requestSnaps",params:{[n.SNAP_ORIGIN]:{}}})},n.getSnaps=i,n.isSnapConnected=async function(e){try{const t=await i(e);return!!t&&Object.keys(t).includes(n.SNAP_ORIGIN)}catch(e){return console.error("Failed to determine if snap is connected",e),!1}},n.MESSAGE_SIGNING_SNAP={getPublicKey:async(e,t)=>await e.request({method:"wallet_invokeSnap",params:{snapId:n.SNAP_ORIGIN,request:{method:"getPublicKey",...t?{params:{entropySourceId:t}}:{}}}}),signMessage:async(e,t,i)=>await(e?.request({method:"wallet_invokeSnap",params:{snapId:n.SNAP_ORIGIN,request:{method:"signMessage",params:{message:t,...i?{entropySourceId:i}:{}}}}}))},n.assertMessageStartsWithMetamask=function(e){if(!e.startsWith("metamask:"))throw new Error('Message must start with "metamask:"')}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/utils/messaging-signing-snap-requests.cjs"}],[2523,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateLoginResponse=void 0,n.validateLoginResponse=function(e){const t=e;return!!t&&!(!t?.token||!t?.profile)}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/sdk/utils/validate-login-response.cjs"}],[2524,{"./constants.cjs":2525,"./utils.cjs":2528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setCachedKey=n.getCachedKeyGeneratedWithSharedSalt=n.getCachedKeyBySalt=void 0;const i=e("./constants.cjs"),s=e("./utils.cjs");let r={};const a=e=>(r[e]??(r[e]=new Map),r[e]);n.getCachedKeyBySalt=function(e,t){const n=a(e),i=(0,s.byteArrayToBase64)(t),r=n.get(i);return r?{salt:t,base64Salt:i,key:r}:undefined},n.getCachedKeyGeneratedWithSharedSalt=function(e){const t=a(e),n=(0,s.byteArrayToBase64)(i.SHARED_SALT),r=t.get(n);return r?{salt:i.SHARED_SALT,base64Salt:n,key:r}:undefined},n.setCachedKey=function(e,t,n){Object.keys(r).length>100&&(r={});const i=a(e),o=(0,s.byteArrayToBase64)(t);i.size>100&&i.clear(),i.set(o,n)}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/encryption/cache.cjs"}],[2525,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_KDF_PROMISE_CACHE_SIZE=n.SHARED_SALT=n.SCRYPT_p=n.SCRYPT_r=n.SCRYPT_N=n.SCRYPT_SALT_SIZE=n.ALGORITHM_KEY_SIZE=n.ALGORITHM_NONCE_SIZE=void 0,n.ALGORITHM_NONCE_SIZE=12,n.ALGORITHM_KEY_SIZE=16,n.SCRYPT_SALT_SIZE=16,n.SCRYPT_N=2**17,n.SCRYPT_r=8,n.SCRYPT_p=1,n.SHARED_SALT=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),n.MAX_KDF_PROMISE_CACHE_SIZE=20}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/encryption/constants.cjs"}],[2526,{"./cache.cjs":2524,"./constants.cjs":2525,"./utils.cjs":2528,"@noble/ciphers/aes":3144,"@noble/ciphers/webcrypto":3147,"@noble/hashes/scrypt":3167,"@noble/hashes/sha256":3169,"@noble/hashes/utils":3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.createSHA256Hash=void 0;const m=e("@noble/ciphers/aes"),f=e("@noble/ciphers/webcrypto"),p=e("@noble/hashes/scrypt"),g=e("@noble/hashes/sha256"),b=e("@noble/hashes/utils"),y=e("./cache.cjs"),x=e("./constants.cjs"),w=e("./utils.cjs");s=new WeakMap,i=new WeakSet,r=async function(e,t,n){const{key:s,salt:r}=await h(this,i,"m",l).call(this,t,{N:x.SCRYPT_N,r:x.SCRYPT_r,p:x.SCRYPT_p,dkLen:x.ALGORITHM_KEY_SIZE},undefined,n),a=(0,b.utf8ToBytes)(e),c=(0,b.concatBytes)(r,h(this,i,"m",o).call(this,a,s)),d={v:"1",t:"scrypt",d:(0,w.byteArrayToBase64)(c),o:{N:x.SCRYPT_N,r:x.SCRYPT_r,p:x.SCRYPT_p,dkLen:x.ALGORITHM_KEY_SIZE},saltLen:x.SCRYPT_SALT_SIZE};return JSON.stringify(d)},a=async function(e,t,n){const{o:s,d:r,saltLen:a}=e,o=(0,w.base64ToByteArray)(r),d=o.slice(0,a),u=o.slice(a,o.length),{key:m}=await h(this,i,"m",l).call(this,t,{N:s.N,r:s.r,p:s.p,dkLen:s.dkLen},d,n);return(0,w.bytesToUtf8)(h(this,i,"m",c).call(this,u,m))},o=function(e,t){const n=(0,f.randomBytes)(x.ALGORITHM_NONCE_SIZE),i=(0,m.gcm)(t,n).encrypt(e);return(0,b.concatBytes)(n,i)},c=function(e,t){const n=e.slice(0,x.ALGORITHM_NONCE_SIZE),i=e.slice(x.ALGORITHM_NONCE_SIZE,e.length);return(0,m.gcm)(t,n).decrypt(i)},l=async function(e,t,n,r){const a=T(e),o=n?(0,y.getCachedKeyBySalt)(a,n):(0,y.getCachedKeyGeneratedWithSharedSalt)(a);if(o)return{key:o.key,salt:o.salt};const c=n??x.SHARED_SALT,l=h(this,i,"m",d).call(this,a,t,c,r),m=h(this,s,"f").get(l);if(m)return m;if(h(this,s,"f").size>=x.MAX_KDF_PROMISE_CACHE_SIZE){const e=h(this,s,"f").keys().next().value;e&&h(this,s,"f").delete(e)}const f=h(this,i,"m",u).call(this,e,t,c,a,r);return h(this,s,"f").set(l,f),f.finally(()=>{h(this,s,"f").delete(l)}),f},d=function(e,t,n,i){const s=(0,w.byteArrayToBase64)(n),r=Boolean(i);return`${e}:${t.N}:${t.r}:${t.p}:${t.dkLen}:${s}:${r}`},u=async function(e,t,n,i,s){let r;return r=s?await s((0,w.stringToByteArray)(e),n,t.N,t.r,t.p,t.dkLen):await(0,p.scryptAsync)(e,n,{N:t.N,r:t.r,p:t.p,dkLen:t.dkLen}),(0,y.setCachedKey)(i,n,r),{key:r,salt:n}};const S=new class{constructor(){i.add(this),s.set(this,new Map)}async encryptString(e,t,n){try{return await h(this,i,"m",r).call(this,e,t,n)}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e);throw new Error(`Unable to encrypt string - ${t}`)}}async decryptString(e,t,n){try{const s=JSON.parse(e);if("1"===s.v&&"scrypt"===s.t)return await h(this,i,"m",a).call(this,s,t,n);throw new Error(`Unsupported encrypted data payload - ${e}`)}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e);throw new Error(`Unable to decrypt string - ${t}`)}}getSalt(e){try{const t=JSON.parse(e);if("1"===t.v&&"scrypt"===t.t){const{d:e,saltLen:n}=t,i=(0,w.base64ToByteArray)(e);return i.slice(0,n)}throw new Error(`Unsupported encrypted data payload - ${e}`)}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e);throw new Error(`Unable to get salt - ${t}`)}}getIfEntriesHaveDifferentSalts(e){const t=e.map(e=>{try{return this.getSalt(e)}catch{return undefined}}).filter(e=>e!==undefined);return new Set(t.map(e=>e.toString())).size===t.length}};function T(e){const t=(0,g.sha256)(e);return(0,b.bytesToHex)(t)}n.default=S,n.createSHA256Hash=T}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/encryption/encryption.cjs"}],[2527,{"./encryption.cjs":2526},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Encryption=void 0;const a=r(e("./encryption.cjs"));n.Encryption=a.default,s(e("./encryption.cjs"),n),n.default=a.default}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/encryption/index.cjs"}],[2528,{buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.stringToByteArray=n.bytesToUtf8=n.base64ToByteArray=n.byteArrayToBase64=void 0;n.byteArrayToBase64=t=>e.from(t).toString("base64");n.base64ToByteArray=t=>new Uint8Array(e.from(t,"base64"));n.bytesToUtf8=e=>new TextDecoder("utf-8").decode(e);n.stringToByteArray=e=>(new TextEncoder).encode(e)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/encryption/utils.cjs"}],[2529,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s;Object.defineProperty(n,"__esModule",{value:!0}),n.getOidcClientId=n.getEnvUrls=n.Platform=n.Env=void 0,function(e){e.DEV="dev",e.UAT="uat",e.PRD="prd"}(i||(n.Env=i={})),function(e){e.MOBILE="mobile",e.EXTENSION="extension",e.PORTFOLIO="portfolio",e.INFURA="infura"}(s||(n.Platform=s={}));const r={dev:{authApiUrl:"https://authentication.dev-api.cx.metamask.io",oidcApiUrl:"https://oidc.dev-api.cx.metamask.io",userStorageApiUrl:"https://user-storage.dev-api.cx.metamask.io"},uat:{authApiUrl:"https://authentication.uat-api.cx.metamask.io",oidcApiUrl:"https://oidc.uat-api.cx.metamask.io",userStorageApiUrl:"https://user-storage.uat-api.cx.metamask.io"},prd:{authApiUrl:"https://authentication.api.cx.metamask.io",oidcApiUrl:"https://oidc.api.cx.metamask.io",userStorageApiUrl:"https://user-storage.api.cx.metamask.io"}};n.getEnvUrls=function(e){if(!r[e])throw new Error("invalid environment configuration");return r[e]},n.getOidcClientId=function(e,t){const n={[i.DEV]:{[s.PORTFOLIO]:"c7ca94a0-5d52-4635-9502-1a50a9c410cc",[s.MOBILE]:"e83c7cc9-267d-4fb4-8fec-f0e3bbe5ae8e",[s.EXTENSION]:"f1a963d7-50dc-4cb5-8d81-f1f3654f0df3",[s.INFURA]:"bd887006-0d55-481a-a395-5ff9a0dc52c9"},[i.UAT]:{[s.PORTFOLIO]:"8f2dd4ac-db07-4819-9ba5-1ee0ec1b56d1",[s.MOBILE]:"c3cfdcd2-51d6-4fae-ad2c-ff238c8fef53",[s.EXTENSION]:"a9de167c-c9a6-43d8-af39-d301fd44c485",[s.INFURA]:"01929890-7002-4c97-9913-8f6c09a6d674"},[i.PRD]:{[s.PORTFOLIO]:"35e1cd62-49c5-4be8-8b6e-a5212f2d2cfb",[s.MOBILE]:"75fa62a3-9ca0-4b91-9fe5-76bec86b0257",[s.EXTENSION]:"1132f10a-b4e5-4390-a5f2-d9c6022db564",[s.INFURA]:"fdde9417-e193-4d23-9943-a8346b18d097"}};if(!n[e])throw new Error(`invalid env ${e}: cannot determine oidc client id`);if(!n[e][t])throw new Error(`invalid env ${e} and platform ${t} combination: cannot determine oidc client id`);return n[e][t]}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/env.cjs"}],[2530,{"./encryption/index.cjs":2527},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createEntryPath=n.getFeatureAndKeyFromPath=n.USER_STORAGE_FEATURE_NAMES=void 0;const i=e("./encryption/index.cjs");n.USER_STORAGE_FEATURE_NAMES={notifications:"notifications",accounts:"accounts_v2",addressBook:"addressBook"};n.getFeatureAndKeyFromPath=e=>{if(!/^\w+\.\w+$/u.test(e))throw new Error("user-storage - path is not in the correct format. Correct format: 'feature.key'");const[t,n]=e.split(".");return{feature:t,key:n}},n.createEntryPath=function(e,t){const{feature:s,key:r}=(0,n.getFeatureAndKeyFromPath)(e);return`${s}/${(0,i.createSHA256Hash)(r+t)}`}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/storage-schema.cjs"}],[2531,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EventQueue=void 0;n.EventQueue=class{constructor(){this.queue=[]}push(e){this.queue.push(e)}async run(){for(;this.queue.length>0;){const e=this.queue[0];try{await e()}finally{this.queue=this.queue.filter(t=>t!==e)}}}}}}},{package:"@metamask/profile-sync-controller",file:"node_modules/@metamask/profile-sync-controller/dist/shared/utils/event-queue.cjs"}],[2597,{"./utils.cjs":2601,"@metamask/utils":3116,"fast-safe-stringify":4399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.EthereumProviderError=n.JsonRpcError=void 0;const s=e("@metamask/utils"),r=i(e("fast-safe-stringify")),a=e("./utils.cjs");class o extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');(0,a.dataHasCause)(n)?(super(t,{cause:n.cause}),(0,s.hasProperty)(this,"cause")||Object.assign(this,{cause:n.cause})):super(t),n!==undefined&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return this.data!==undefined&&(e.data=this.data,(0,s.isPlainObject)(this.data)&&(e.data.cause=(0,a.serializeCause)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,r.default)(this.serialize(),c,2)}}n.JsonRpcError=o;function c(e,t){return"[Circular]"===t?undefined:t}n.EthereumProviderError=class extends o{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}}}},{package:"@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/classes.cjs"}],[2598,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorValues=n.errorCodes=void 0,n.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},n.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}}}},{package:"@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/error-constants.cjs"}],[2599,{"./classes.cjs":2597,"./error-constants.cjs":2598,"./utils.cjs":2601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.providerErrors=n.rpcErrors=void 0;const i=e("./classes.cjs"),s=e("./error-constants.cjs"),r=e("./utils.cjs");function a(e,t){const[n,s]=c(t);return new i.JsonRpcError(e,n??(0,r.getMessageFromCode)(e),s)}function o(e,t){const[n,s]=c(t);return new i.EthereumProviderError(e,n??(0,r.getMessageFromCode)(e),s)}function c(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??undefined,n]}}return[]}n.rpcErrors={parse:e=>a(s.errorCodes.rpc.parse,e),invalidRequest:e=>a(s.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(s.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(s.errorCodes.rpc.methodNotFound,e),internal:e=>a(s.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(s.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(s.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(s.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(s.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(s.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(s.errorCodes.rpc.limitExceeded,e)},n.providerErrors={userRejectedRequest:e=>o(s.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>o(s.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>o(s.errorCodes.provider.unsupportedMethod,e),disconnected:e=>o(s.errorCodes.provider.disconnected,e),chainDisconnected:e=>o(s.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:s}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new i.EthereumProviderError(t,n,s)}}}}},{package:"@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/errors.cjs"}],[2600,{"./classes.cjs":2597,"./error-constants.cjs":2598,"./errors.cjs":2599,"./utils.cjs":2601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorCodes=n.providerErrors=n.rpcErrors=n.getMessageFromCode=n.serializeError=n.serializeCause=n.dataHasCause=n.EthereumProviderError=n.JsonRpcError=void 0;var i=e("./classes.cjs");Object.defineProperty(n,"JsonRpcError",{enumerable:!0,get:function(){return i.JsonRpcError}}),Object.defineProperty(n,"EthereumProviderError",{enumerable:!0,get:function(){return i.EthereumProviderError}});var s=e("./utils.cjs");Object.defineProperty(n,"dataHasCause",{enumerable:!0,get:function(){return s.dataHasCause}}),Object.defineProperty(n,"serializeCause",{enumerable:!0,get:function(){return s.serializeCause}}),Object.defineProperty(n,"serializeError",{enumerable:!0,get:function(){return s.serializeError}}),Object.defineProperty(n,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}});var r=e("./errors.cjs");Object.defineProperty(n,"rpcErrors",{enumerable:!0,get:function(){return r.rpcErrors}}),Object.defineProperty(n,"providerErrors",{enumerable:!0,get:function(){return r.providerErrors}});var a=e("./error-constants.cjs");Object.defineProperty(n,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})}}},{package:"@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/index.cjs"}],[2601,{"./error-constants.cjs":2598,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.dataHasCause=n.serializeCause=n.serializeError=n.isValidCode=n.getMessageFromCode=n.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const i=e("@metamask/utils"),s=e("./error-constants.cjs"),r=s.errorCodes.rpc.internal,a={code:r,message:o(r)};function o(e,t="Unspecified error message. This is a bug, please report it."){if(c(e)){const t=e.toString();if((0,i.hasProperty)(s.errorValues,t))return s.errorValues[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return n.JSON_RPC_SERVER_ERROR_MESSAGE}return t}function c(e){return Number.isInteger(e)}function l(e){return Array.isArray(e)?e.map(e=>(0,i.isValidJson)(e)?e:(0,i.isObject)(e)?d(e):null):(0,i.isObject)(e)?d(e):(0,i.isValidJson)(e)?e:null}function d(e){return Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return(0,i.isValidJson)(s)&&(t[n]=s),t},{})}n.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",n.getMessageFromCode=o,n.isValidCode=c,n.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:n=!0,shouldPreserveMessage:s=!0}={}){if(!(0,i.isJsonRpcError)(t))throw new Error("Must provide fallback error with integer number code and string message.");const r=function(e,t,n){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if((0,i.isJsonRpcError)(e))return e;const s=function(e){if((0,i.isObject)(e)&&(0,i.hasProperty)(e,"message")&&"string"==typeof e.message&&e.message.length>0)return e.message;return undefined}(e),r=l(e),a={...t,...n&&s&&{message:s},data:{cause:r}};return a}(e,t,s);return n||delete r.stack,r},n.serializeCause=l,n.dataHasCause=function(e){return(0,i.isObject)(e)&&(0,i.hasProperty)(e,"cause")&&(0,i.isObject)(e.cause)}}}},{package:"@metamask/rpc-errors",file:"node_modules/@metamask/rpc-errors/dist/utils.cjs"}],[2602,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const i=e("events");function s(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout(()=>{throw e})}}class r extends i.EventEmitter{emit(e,...t){let n="error"===e;const i=this._events;if(i!==undefined)n=n&&i.error===undefined;else if(!n)return!1;if(n){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));throw n.context=e,n}const r=i[e];if(r===undefined)return!1;if("function"==typeof r)s(r,this,t);else{const e=r.length,n=function(e){const t=e.length,n=new Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n}(r);for(let i=0;i<e;i+=1)s(n[i],this,t)}return!0}}n.default=r}}},{package:"@metamask/safe-event-emitter",file:"node_modules/@metamask/safe-event-emitter/dist/cjs/index.js"}],[2603,{"@noble/hashes/_assert":2605,"@noble/hashes/pbkdf2":2610,"@noble/hashes/sha256":2611,"@noble/hashes/sha512":2612,"@noble/hashes/utils":2613,"@scure/base":2614},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mnemonicToSeedSync=n.mnemonicToSeed=n.validateMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.generateMnemonic=void 0;
/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */
const i=e("@noble/hashes/_assert"),s=e("@noble/hashes/pbkdf2"),r=e("@noble/hashes/sha256"),a=e("@noble/hashes/sha512"),o=e("@noble/hashes/utils"),c=e("@scure/base");function l(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function d(e){const t=l(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function u(e){i.default.bytes(e,16,20,24,28,32)}n.generateMnemonic=function(e,t=128){if(i.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return p((0,o.randomBytes)(t/8),e)};const h=e=>{const t=8-e.length/4;return new Uint8Array([(0,r.sha256)(e)[0]>>t<<t])};function m(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach(e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)}),c.utils.chain(c.utils.checksum(1,h),c.utils.radix2(11,!0),c.utils.alphabet(e))}function f(e,t){let n;if("string"==typeof e){const{words:i}=d(e);n=m(t).decode(i)}else n=m(t).decode(Array.from(new Uint16Array(e.buffer)).map(e=>t[e]));return u(n),n}function p(e,t){u(e);const n=m(t).encode(e).map(e=>t.indexOf(e));return new Uint8Array(new Uint16Array(n).buffer)}n.mnemonicToEntropy=f,n.entropyToMnemonic=p,n.validateMnemonic=function(e,t){try{f(e,t)}catch(e){return!1}return!0};const g=e=>l(`mnemonic${e}`);function b(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(d(e).nfkd):(new TextEncoder).encode(Array.from(new Uint16Array(e.buffer)).map(e=>t[e]).join(" ")),n}n.mnemonicToSeed=function(e,t,n=""){const i=b(e,t);return(0,s.pbkdf2Async)(a.sha512,i,g(n),{c:2048,dkLen:64})},n.mnemonicToSeedSync=function(e,t,n=""){const i=b(e,t);return(0,s.pbkdf2)(a.sha512,i,g(n),{c:2048,dkLen:64})}}}},{package:"@metamask/scure-bip39",file:"node_modules/@metamask/scure-bip39/dist/index.js"}],[2604,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wordlist=void 0,n.wordlist="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")}}},{package:"@metamask/scure-bip39",file:"node_modules/@metamask/scure-bip39/dist/wordlists/english.js"}],[2605,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function r(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Expected Uint8Array");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){r(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=void 0,n.number=i,n.bool=s,n.bytes=r,n.hash=a,n.exists=o,n.output=c;const l={number:i,bool:s,bytes:r,hash:a,exists:o,output:c};n.default=l}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_assert.js"}],[2606,{"./_assert.js":2605,"./utils.js":2613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SHA2=void 0;const i=e("./_assert.js"),s=e("./utils.js");class r extends s.Hash{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){(0,i.exists)(this);const{view:t,buffer:n,blockLen:r}=this,a=(e=(0,s.toBytes)(e)).length;for(let i=0;i<a;){const o=Math.min(r-this.pos,a-i);if(o===r){const t=(0,s.createView)(e);for(;r<=a-i;i+=r)this.process(t,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,i.exists)(this),(0,i.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,i);const s=BigInt(32),r=BigInt(4294967295),a=Number(n>>s&r),o=Number(n&r),c=i?4:0,l=i?0:4;e.setUint32(t+c,a,i),e.setUint32(t+l,o,i)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const c=(0,s.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,u[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:r,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=r,i%t&&e.buffer.set(n),e}}n.SHA2=r}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_sha2.js"}],[2607,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.add5L=n.add5H=n.add4H=n.add4L=n.add3H=n.add3L=n.add=n.rotlBL=n.rotlBH=n.rotlSL=n.rotlSH=n.rotr32L=n.rotr32H=n.rotrBL=n.rotrBH=n.rotrSL=n.rotrSH=n.shrSL=n.shrSH=n.toBig=n.split=n.fromBig=void 0;const i=BigInt(2**32-1),s=BigInt(32);function r(e,t=!1){return t?{h:Number(e&i),l:Number(e>>s&i)}:{h:0|Number(e>>s&i),l:0|Number(e&i)}}function a(e,t=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=r(e[s],t);[n[s],i[s]]=[a,o]}return[n,i]}n.fromBig=r,n.split=a;const o=(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0);n.toBig=o;const c=(e,t,n)=>e>>>n;n.shrSH=c;const l=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=l;const d=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=d;const u=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=u;const h=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=h;const m=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=m;const f=(e,t)=>t;n.rotr32H=f;const p=(e,t)=>e;n.rotr32L=p;const g=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=g;const b=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=b;const y=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=y;const x=(e,t,n)=>e<<n-32|t>>>64-n;function w(e,t,n,i){const s=(t>>>0)+(i>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}}n.rotlBL=x,n.add=w;const S=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=S;const T=(e,t,n,i)=>t+n+i+(e/2**32|0)|0;n.add3H=T;const v=(e,t,n,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0);n.add4L=v;const _=(e,t,n,i,s)=>t+n+i+s+(e/2**32|0)|0;n.add4H=_;const E=(e,t,n,i,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(s>>>0);n.add5L=E;const k=(e,t,n,i,s,r)=>t+n+i+s+r+(e/2**32|0)|0;n.add5H=k;const C={fromBig:r,split:a,toBig:o,shrSH:c,shrSL:l,rotrSH:d,rotrSL:u,rotrBH:h,rotrBL:m,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:b,rotlBH:y,rotlBL:x,add:w,add3L:S,add3H:T,add4L:v,add4H:_,add5H:k,add5L:E};n.default=C}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/_u64.js"}],[2608,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/crypto.js"}],[2609,{"./_assert.js":2605,"./utils.js":2613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const i=e("./_assert.js"),s=e("./utils.js");class r extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,i.hash)(e);const n=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,a=new Uint8Array(r);a.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,i.exists)(this),this.iHash.update(e),this}digestInto(e){(0,i.exists)(this),(0,i.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:r,outputLen:a}=this;return e.finished=i,e.destroyed=s,e.blockLen=r,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=r;n.hmac=(e,t,n)=>new r(e,t).update(n).digest(),n.hmac.create=(e,t)=>new r(e,t)}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/hmac.js"}],[2610,{"./_assert.js":2605,"./hmac.js":2609,"./utils.js":2613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf2Async=n.pbkdf2=void 0;const i=e("./_assert.js"),s=e("./hmac.js"),r=e("./utils.js");function a(e,t,n,a){(0,i.hash)(e);const o=(0,r.checkOpts)({dkLen:32,asyncTick:10},a),{c:c,dkLen:l,asyncTick:d}=o;if((0,i.number)(c),(0,i.number)(l),(0,i.number)(d),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=(0,r.toBytes)(t),h=(0,r.toBytes)(n),m=new Uint8Array(l),f=s.hmac.create(e,u),p=f._cloneInto().update(h);return{c:c,dkLen:l,asyncTick:d,DK:m,PRF:f,PRFSalt:p}}function o(e,t,n,i,s){return e.destroy(),t.destroy(),i&&i.destroy(),s.fill(0),n}n.pbkdf2=function(e,t,n,i){const{c:s,dkLen:c,DK:l,PRF:d,PRFSalt:u}=a(e,t,n,i);let h;const m=new Uint8Array(4),f=(0,r.createView)(m),p=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const n=l.subarray(t,t+d.outputLen);f.setInt32(0,e,!1),(h=u._cloneInto(h)).update(m).digestInto(p),n.set(p.subarray(0,n.length));for(let e=1;e<s;e++){d._cloneInto(h).update(p).digestInto(p);for(let e=0;e<n.length;e++)n[e]^=p[e]}}return o(d,u,l,h,p)},n.pbkdf2Async=async function(e,t,n,i){const{c:s,dkLen:c,asyncTick:l,DK:d,PRF:u,PRFSalt:h}=a(e,t,n,i);let m;const f=new Uint8Array(4),p=(0,r.createView)(f),g=new Uint8Array(u.outputLen);for(let e=1,t=0;t<c;e++,t+=u.outputLen){const n=d.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(m=h._cloneInto(m)).update(f).digestInto(g),n.set(g.subarray(0,n.length)),await(0,r.asyncLoop)(s-1,l,()=>{u._cloneInto(m).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]})}return o(u,h,d,m,g)}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/pbkdf2.js"}],[2611,{"./_sha2.js":2606,"./utils.js":2613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha224=n.sha256=void 0;const i=e("./_sha2.js"),s=e("./utils.js"),r=(e,t,n)=>e&t^~e&n,a=(e,t,n)=>e&t^e&n^t&n,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint32Array(64);class d extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}get(){const{A:e,B:t,C:n,D:i,E:s,F:r,G:a,H:o}=this;return[e,t,n,i,s,r,a,o]}set(e,t,n,i,s,r,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|r,this.G=0|a,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)l[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=l[e-15],n=l[e-2],i=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,r=(0,s.rotr)(n,17)^(0,s.rotr)(n,19)^n>>>10;l[e]=r+l[e-7]+i+l[e-16]|0}let{A:n,B:i,C:c,D:d,E:u,F:h,G:m,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(u,6)^(0,s.rotr)(u,11)^(0,s.rotr)(u,25))+r(u,h,m)+o[e]+l[e]|0,p=((0,s.rotr)(n,2)^(0,s.rotr)(n,13)^(0,s.rotr)(n,22))+a(n,i,c)|0;f=m,m=h,h=u,u=d+t|0,d=c,c=i,i=n,n=t+p|0}n=n+this.A|0,i=i+this.B|0,c=c+this.C|0,d=d+this.D|0,u=u+this.E|0,h=h+this.F|0,m=m+this.G|0,f=f+this.H|0,this.set(n,i,c,d,u,h,m,f)}roundClean(){l.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends d{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}n.sha256=(0,s.wrapConstructor)(()=>new d),n.sha224=(0,s.wrapConstructor)(()=>new u)}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/sha256.js"}],[2612,{"./_sha2.js":2606,"./_u64.js":2607,"./utils.js":2613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha384=n.sha512_256=n.sha512_224=n.sha512=n.SHA512=void 0;const i=e("./_sha2.js"),s=e("./_u64.js"),r=e("./utils.js"),[a,o]=(()=>s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),c=new Uint32Array(80),l=new Uint32Array(80);class d extends i.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:s,Cl:r,Dh:a,Dl:o,Eh:c,El:l,Fh:d,Fl:u,Gh:h,Gl:m,Hh:f,Hl:p}=this;return[e,t,n,i,s,r,a,o,c,l,d,u,h,m,f,p]}set(e,t,n,i,s,r,a,o,c,l,d,u,h,m,f,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|i,this.Ch=0|s,this.Cl=0|r,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|m,this.Hh=0|f,this.Hl=0|p}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),l[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|l[e-15],i=s.default.rotrSH(t,n,1)^s.default.rotrSH(t,n,8)^s.default.shrSH(t,n,7),r=s.default.rotrSL(t,n,1)^s.default.rotrSL(t,n,8)^s.default.shrSL(t,n,7),a=0|c[e-2],o=0|l[e-2],d=s.default.rotrSH(a,o,19)^s.default.rotrBH(a,o,61)^s.default.shrSH(a,o,6),u=s.default.rotrSL(a,o,19)^s.default.rotrBL(a,o,61)^s.default.shrSL(a,o,6),h=s.default.add4L(r,u,l[e-7],l[e-16]),m=s.default.add4H(h,i,d,c[e-7],c[e-16]);c[e]=0|m,l[e]=0|h}let{Ah:n,Al:i,Bh:r,Bl:d,Ch:u,Cl:h,Dh:m,Dl:f,Eh:p,El:g,Fh:b,Fl:y,Gh:x,Gl:w,Hh:S,Hl:T}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(p,g,14)^s.default.rotrSH(p,g,18)^s.default.rotrBH(p,g,41),v=s.default.rotrSL(p,g,14)^s.default.rotrSL(p,g,18)^s.default.rotrBL(p,g,41),_=p&b^~p&x,E=g&y^~g&w,k=s.default.add5L(T,v,E,o[e],l[e]),C=s.default.add5H(k,S,t,_,a[e],c[e]),P=0|k,O=s.default.rotrSH(n,i,28)^s.default.rotrBH(n,i,34)^s.default.rotrBH(n,i,39),A=s.default.rotrSL(n,i,28)^s.default.rotrBL(n,i,34)^s.default.rotrBL(n,i,39),I=n&r^n&u^r&u,N=i&d^i&h^d&h;S=0|x,T=0|w,x=0|b,w=0|y,b=0|p,y=0|g,({h:p,l:g}=s.default.add(0|m,0|f,0|C,0|P)),m=0|u,f=0|h,u=0|r,h=0|d,r=0|n,d=0|i;const j=s.default.add3L(P,A,N);n=s.default.add3H(j,C,O,I),i=0|j}({h:n,l:i}=s.default.add(0|this.Ah,0|this.Al,0|n,0|i)),({h:r,l:d}=s.default.add(0|this.Bh,0|this.Bl,0|r,0|d)),({h:u,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|u,0|h)),({h:m,l:f}=s.default.add(0|this.Dh,0|this.Dl,0|m,0|f)),({h:p,l:g}=s.default.add(0|this.Eh,0|this.El,0|p,0|g)),({h:b,l:y}=s.default.add(0|this.Fh,0|this.Fl,0|b,0|y)),({h:x,l:w}=s.default.add(0|this.Gh,0|this.Gl,0|x,0|w)),({h:S,l:T}=s.default.add(0|this.Hh,0|this.Hl,0|S,0|T)),this.set(n,i,r,d,u,h,m,f,p,g,b,y,x,w,S,T)}roundClean(){c.fill(0),l.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=d;class u extends d{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends d{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class m extends d{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}n.sha512=(0,r.wrapConstructor)(()=>new d),n.sha512_224=(0,r.wrapConstructor)(()=>new u),n.sha512_256=(0,r.wrapConstructor)(()=>new h),n.sha384=(0,r.wrapConstructor)(()=>new m)}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/sha512.js"}],[2613,{"@noble/hashes/crypto":2608},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.randomBytes=n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.checkOpts=n.Hash=n.concatBytes=n.toBytes=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.hexToBytes=n.bytesToHex=n.isLE=n.rotr=n.createView=n.u32=n.u8=void 0;const i=e("@noble/hashes/crypto");n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(n.rotr=(e,t)=>e<<32-t|e>>>t,n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!n.isLE)throw new Error("Non little-endian hardware is not supported");const r=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));n.bytesToHex=function(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=r[e[n]];return t};const a=48,o=57,c=65,l=70,d=97,u=102;function h(e){return e>=a&&e<=o?e-a:e>=c&&e<=l?e-(c-10):e>=d&&e<=u?e-(d-10):void 0}n.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let t=0,s=0;t<n;t++,s+=2){const n=h(e.charCodeAt(s)),r=h(e.charCodeAt(s+1));if(n===undefined||r===undefined){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}i[t]=16*n+r}return i};function m(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function f(e){if("string"==typeof e&&(e=m(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}n.nextTick=async()=>{},n.asyncLoop=async function(e,t,i){let s=Date.now();for(let r=0;r<e;r++){i(r);const e=Date.now()-s;e>=0&&e<t||(await(0,n.nextTick)(),s+=e)}},n.utf8ToBytes=m,n.toBytes=f,n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];if(!s(i))throw new Error("Uint8Array expected");t+=i.length}const n=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){const s=e[t];n.set(s,i),i+=s.length}return n};n.Hash=class{clone(){return this._cloneInto()}};const p={}.toString;n.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==p.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},n.wrapConstructor=function(e){const t=t=>e().update(f(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(f(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(f(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(i.crypto&&"function"==typeof i.crypto.getRandomValues)return i.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@metamask/scure-bip39>@noble/hashes",file:"node_modules/@metamask/scure-bip39/node_modules/@noble/hashes/utils.js"}],[2614,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function i(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function r(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map(e=>e.encode).reduceRight(n,t),decode:e.map(e=>e.decode).reduce(n,t)}}function a(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(i(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(i(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let i=n.length;if(i*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&n[i-1]===t;i--)if(!((i-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,i)}}}function l(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function d(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],a=Array.from(e);for(a.forEach(e=>{if(i(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,i=!0;for(let r=s;r<a.length;r++){const o=a[r],c=t*e+o;if(!Number.isSafeInteger(c)||t*e/t!==e||c-o!==t*e)throw new Error("convertRadix: carry overflow");e=c%n;const l=Math.floor(c/n);if(a[r]=l,!Number.isSafeInteger(l)||l*n+e!==c)throw new Error("convertRadix: carry overflow");i&&(l?i=!1:s=r)}if(r.push(e),i)break}for(let t=0;t<e.length-1&&0===e[t];t++)r.push(0);return r.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.createBase58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64urlnopad=n.base64url=n.base64nopad=n.base64=n.base32crockford=n.base32hexnopad=n.base32hex=n.base32nopad=n.base32=n.base16=n.utils=void 0,n.assertNumber=i;const u=(e,t)=>t?u(t,e%t):e,h=(e,t)=>e+(t-u(e,t));function m(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(h(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${h(t,n)}`);let r=0,a=0;const o=2**n-1,c=[];for(const s of e){if(i(s),s>=2**t)throw new Error(`convertRadix2: invalid data word=${s} from=${t}`);if(r=r<<t|s,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=n;a-=n)c.push((r>>a-n&o)>>>0);r&=2**a-1}if(r=r<<n-a&o,!s&&a>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&a>0&&c.push(r>>>0),c}function f(e){return i(e),{encode:t=>{if(!s(t))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(d(t,e,256))}}}function p(e,t=!1){if(i(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(h(8,e)>32||h(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!s(n))throw new Error("radix2.encode input should be Uint8Array");return m(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(m(n,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function b(e,t){if(i(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!s(n))throw new Error("checksum.encode: input should be Uint8Array");const i=t(n).slice(0,e),r=new Uint8Array(n.length+e);return r.set(n),r.set(i,n.length),r},decode(n){if(!s(n))throw new Error("checksum.decode: input should be Uint8Array");const i=n.slice(0,-e),r=t(i).slice(0,e),a=n.slice(-e);for(let t=0;t<e;t++)if(r[t]!==a[t])throw new Error("Invalid checksum");return i}}}n.utils={alphabet:a,chain:r,checksum:b,convertRadix:d,convertRadix2:m,radix:f,radix2:p,join:o,padding:c},n.base16=r(p(4),a("0123456789ABCDEF"),o("")),n.base32=r(p(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),o("")),n.base32nopad=r(p(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),n.base32hex=r(p(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),o("")),n.base32hexnopad=r(p(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),n.base32crockford=r(p(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),l(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),n.base64=r(p(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),o("")),n.base64nopad=r(p(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),n.base64url=r(p(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),o("")),n.base64urlnopad=r(p(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const y=e=>r(f(58),a(e),o(""));n.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const x=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let i=0;i<e.length;i+=8){const s=e.subarray(i,i+8);t+=n.base58.encode(s).padStart(x[s.length],"1")}return t},decode(e){let t=[];for(let i=0;i<e.length;i+=11){const s=e.slice(i,i+11),r=x.indexOf(s.length),a=n.base58.decode(s);for(let e=0;e<a.length-r;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(a.slice(a.length-r)))}return Uint8Array.from(t)}};n.createBase58check=e=>r(b(4,t=>e(e(t))),n.base58),n.base58check=n.createBase58check;const w=r(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),S=[996825010,642813549,513874426,1027748829,705979059];function T(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<S.length;e++)1==(t>>e&1)&&(n^=S[e]);return n}function v(e,t,n=1){const i=e.length;let s=1;for(let t=0;t<i;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);s=T(s)^n>>5}s=T(s);for(let t=0;t<i;t++)s=T(s)^31&e.charCodeAt(t);for(let e of t)s=T(s)^e;for(let e=0;e<6;e++)s=T(s);return s^=n,w.encode(m([s%2**30],30,5,!1))}function _(e){const t="bech32"===e?1:734539939,n=p(5),i=n.decode,s=n.encode,r=g(i);function a(e,n,i=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(n instanceof Uint8Array&&(n=Array.from(n)),!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const s=e.length+7+n.length;if(!1!==i&&s>i)throw new TypeError(`Length ${s} exceeds limit ${i}`);const r=e.toLowerCase(),a=v(r,n,t);return`${r}1${w.encode(n)}${a}`}function o(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const r=i.slice(0,s),a=i.slice(s+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const o=w.decode(a).slice(0,-6),c=v(r,o,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:r,words:o}}return{encode:a,decode:o,encodeFromBytes:function(e,t){return a(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=o(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:g(o),fromWords:i,fromWordsUnsafe:r,toWords:s}}n.bech32=_("bech32"),n.bech32m=_("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},n.hex=r(p(4),a("0123456789abcdef"),o(""),l(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const E={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},k="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";n.bytesToString=(e,t)=>{if("string"!=typeof e||!E.hasOwnProperty(e))throw new TypeError(k);if(!s(t))throw new TypeError("bytesToString() expects Uint8Array");return E[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!E.hasOwnProperty(e))throw new TypeError(k);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return E[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/scure-bip39>@scure/base",file:"node_modules/@metamask/scure-bip39/node_modules/@scure/base/lib/index.js"}],[2615,{"./constants.cjs":2618,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SecretMetadata=void 0;const l=e("@metamask/utils"),d=e("./constants.cjs");class u{constructor(e,t){i.set(this,void 0),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o(this,i,e,"f"),o(this,s,t?.timestamp??Date.now(),"f"),o(this,r,t?.type??d.SecretType.Mnemonic,"f"),o(this,a,t?.version??d.SecretMetadataVersion.V1,"f")}static fromBatch(e){const t=Date.now();return e.map((e,n)=>{const i=e.options?.timestamp??t+5*n;return new u(e.value,{timestamp:i,type:e.options?.type})})}static assertIsValidSecretMetadataJson(e){if("object"!=typeof e||!e||!("data"in e)||"string"!=typeof e.data||!("timestamp"in e)||"number"!=typeof e.timestamp)throw new Error(d.SeedlessOnboardingControllerErrorMessage.InvalidSecretMetadata)}static parseSecretsFromMetadataStore(e,t){const n=e.map(e=>u.fromRawMetadata(e)),i=u.sort(n);return t?i.filter(e=>e.type===t):i}static fromRawMetadata(e){const t=(0,l.bytesToString)(e),n=JSON.parse(t);u.assertIsValidSecretMetadataJson(n);const i=n.type??d.SecretType.Mnemonic,s=n.version??d.SecretMetadataVersion.V1;let r;try{r=(0,l.base64ToBytes)(n.data)}catch{r=n.data}return new u(r,{timestamp:n.timestamp,type:i,version:s})}static sort(e,t="asc"){return e.sort((e,n)=>"asc"===t?e.timestamp-n.timestamp:n.timestamp-e.timestamp)}get data(){return c(this,i,"f")}get timestamp(){return c(this,s,"f")}get type(){return c(this,r,"f")}get version(){return c(this,a,"f")}toBytes(){let e=c(this,i,"f");c(this,i,"f")instanceof Uint8Array&&(e=(0,l.bytesToBase64)(c(this,i,"f")));const t=JSON.stringify({data:e,timestamp:c(this,s,"f"),type:c(this,r,"f"),version:c(this,a,"f")});return(0,l.stringToBytes)(t)}}n.SecretMetadata=u,i=new WeakMap,s=new WeakMap,r=new WeakMap,a=new WeakMap}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/SecretMetadata.cjs"}],[2616,{"./SecretMetadata.cjs":2615,"./assertions.cjs":2617,"./constants.cjs":2618,"./errors.cjs":2619,"./logger.cjs":2621,"./utils.cjs":2622,"@metamask/auth-network-utils":1356,"@metamask/base-controller":1362,"@metamask/toprf-secure-backup":2952,"@metamask/utils":3116,"@noble/ciphers/aes":3144,"@noble/ciphers/utils":3146,"@noble/ciphers/webcrypto":3147,"@noble/curves/secp256k1":3157,"async-mutex":3906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S,T,v,_,E,k,C,P,O,A,I,N,j,R,M,L,D,B,U,F,H,K,G=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},W=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SeedlessOnboardingController=n.getInitialSeedlessOnboardingControllerStateWithDefaults=void 0;const q=e("@metamask/auth-network-utils"),V=e("@metamask/base-controller"),$=e("@metamask/toprf-secure-backup"),z=e("@metamask/utils"),X=e("@noble/ciphers/aes"),Y=e("@noble/ciphers/utils"),J=e("@noble/ciphers/webcrypto"),Z=e("@noble/curves/secp256k1"),Q=e("async-mutex"),ee=e("./assertions.cjs"),te=e("./constants.cjs"),ne=e("./errors.cjs"),ie=e("./logger.cjs"),se=e("./SecretMetadata.cjs"),re=e("./utils.cjs"),ae=(0,ie.createModuleLogger)(ie.projectLogger,te.controllerName);function oe(e){const t={socialBackupsMetadata:[],isSeedlessOnboardingUserAuthenticated:!1,...e};try{(0,ee.assertIsSeedlessOnboardingUserAuthenticated)(t),t.isSeedlessOnboardingUserAuthenticated=!0}catch{t.isSeedlessOnboardingUserAuthenticated=!1}return t}n.getInitialSeedlessOnboardingControllerStateWithDefaults=oe;const ce={vault:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},socialBackupsMetadata:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},nodeAuthTokens:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e),persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},authConnection:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},authConnectionId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!1},groupedAuthConnectionId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!1},userId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},socialLoginEmail:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},vaultEncryptionKey:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},vaultEncryptionSalt:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},authPubKey:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},passwordOutdatedCache:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!1},refreshToken:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e),persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},revokeToken:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e),persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},pendingToBeRevokedTokens:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e)&&e.length>0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},accessToken:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e),persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},metadataAccessToken:{includeInStateLogs:e=>!(0,z.isNullOrUndefined)(e),persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},encryptedSeedlessEncryptionKey:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},encryptedKeyringEncryptionKey:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},isSeedlessOnboardingUserAuthenticated:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!1}};class le extends V.BaseController{constructor({messenger:e,state:t,encryptor:n,toprfKeyDeriver:m,network:f=te.Web3AuthNetwork.Mainnet,refreshJWTToken:p,revokeRefreshToken:g,renewRefreshToken:b,passwordOutdatedCacheTTL:y=te.PASSWORD_OUTDATED_CACHE_TTL_MS}){super({name:te.controllerName,metadata:ce,state:oe(t),messenger:e}),i.add(this),s.set(this,void 0),r.set(this,new Q.Mutex),a.set(this,new Q.Mutex),o.set(this,void 0),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,!1),h.set(this,void 0),(0,ee.assertIsPasswordOutdatedCacheValid)(y),G(this,d,y,"f"),G(this,s,n,"f"),this.toprfClient=new $.ToprfSecureBackup({network:f,keyDeriver:m,fetchMetadataAccessCreds:this.fetchMetadataAccessCreds.bind(this)}),G(this,o,p,"f"),G(this,c,g,"f"),G(this,l,b,"f")}async fetchMetadataAccessCreds(){const{metadataAccessToken:e}=this.state;if(!e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.InvalidMetadataAccessToken);if((0,re.decodeJWTToken)(e).exp<Math.floor(Date.now()/1e3)){await this.refreshAuthTokens();const{metadataAccessToken:e}=this.state;return{metadataAccessToken:e}}return{metadataAccessToken:e}}async preloadToprfNodeDetails(){try{await this.toprfClient.getNodeDetails()}catch{ae("Failed to fetch node details")}}async authenticate(e){const t=async()=>{try{const{idTokens:t,authConnectionId:n,groupedAuthConnectionId:i,userId:s,authConnection:r,socialLoginEmail:a,refreshToken:o,revokeToken:c,accessToken:l,metadataAccessToken:d}=e,u=await this.toprfClient.authenticate({authConnectionId:n,userId:s,idTokens:t,groupedAuthConnectionId:i});return this.update(e=>{e.nodeAuthTokens=u.nodeAuthTokens,e.authConnectionId=n,e.groupedAuthConnectionId=i,e.userId=s,e.authConnection=r,e.socialLoginEmail=a,e.metadataAccessToken=d,e.refreshToken=o,c&&(e.revokeToken=c),e.accessToken=l,(0,ee.assertIsSeedlessOnboardingUserAuthenticated)(e),e.isSeedlessOnboardingUserAuthenticated=!0}),u}catch(e){throw ae("Error authenticating user",e),new Error(te.SeedlessOnboardingControllerErrorMessage.AuthenticationError)}};return e.skipLock?await t():await W(this,i,"m",N).call(this,t)}async createToprfKeyAndBackupSeedPhrase(e,t,n){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",L).call(this,this.state);const{encKey:s,pwEncKey:r,authKeyPair:a,oprfKey:o}=await this.toprfClient.createLocalKey({password:e});await W(this,i,"m",K).call(this,async()=>{await W(this,i,"m",_).call(this,{data:t,type:te.SecretType.Mnemonic,encKey:s,authKeyPair:a,options:{keyringId:n}}),await W(this,i,"m",p).call(this,o,a.pk),await W(this,i,"m",O).call(this,{password:e,rawToprfEncryptionKey:s,rawToprfPwEncryptionKey:r,rawToprfAuthKeyPair:a})},"createToprfKeyAndBackupSeedPhrase")})}async addNewSecretData(e,t,n){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",M).call(this),await W(this,i,"m",D).call(this,{skipCache:!0,skipLock:!0});await W(this,i,"m",K).call(this,async()=>{const{toprfEncryptionKey:s,toprfAuthKeyPair:r}=await W(this,i,"m",E).call(this);await W(this,i,"m",_).call(this,{data:e,type:t,encKey:s,authKeyPair:r,options:n})},"addNewSecretData")})}async fetchAllSecretData(e){return await W(this,i,"m",N).call(this,async()=>await W(this,i,"m",K).call(this,async()=>{let t,n,s;if(W(this,i,"m",L).call(this,this.state),e){const r=await W(this,i,"m",S).call(this,e);t=r.encKey,n=r.pwEncKey,s=r.authKeyPair}else{W(this,i,"m",M).call(this);const e=await W(this,i,"m",E).call(this);t=e.toprfEncryptionKey,n=e.toprfPwEncryptionKey,s=e.toprfAuthKeyPair}const r=await W(this,i,"m",T).call(this,t,s);return e&&await W(this,i,"m",O).call(this,{password:e,rawToprfEncryptionKey:t,rawToprfPwEncryptionKey:n,rawToprfAuthKeyPair:s}),r},"fetchAllSecretData"))}async changePassword(e,t){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",M).call(this),await this.verifyVaultPassword(t,{skipLock:!0});const{latestKeyIndex:n}=await W(this,i,"m",D).call(this,{skipCache:!0,skipLock:!0}),s=async()=>{let s;this.state.encryptedKeyringEncryptionKey&&(s=await this.loadKeyringEncryptionKey());const{encKey:r,pwEncKey:a,authKeyPair:o}=await W(this,i,"m",v).call(this,{oldPassword:t,newPassword:e,latestKeyIndex:n});await W(this,i,"m",O).call(this,{password:e,rawToprfEncryptionKey:r,rawToprfPwEncryptionKey:a,rawToprfAuthKeyPair:o}),W(this,i,"m",B).call(this),s&&await this.storeKeyringEncryptionKey(s)};try{await W(this,i,"m",K).call(this,s,"changePassword")}catch(e){throw ae("Error changing password",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToChangePassword)}})}updateBackupMetadataState(e){W(this,i,"m",M).call(this),W(this,i,"m",P).call(this,e)}async verifyVaultPassword(e,t){const n=async()=>{if(!this.state.vault)throw new Error(te.SeedlessOnboardingControllerErrorMessage.VaultError);await W(this,s,"f").decrypt(e,this.state.vault)};return t?.skipLock?await n():await W(this,i,"m",N).call(this,n)}getSecretDataBackupState(e,t=te.SecretType.Mnemonic){const n=(0,q.keccak256AndHexify)(e);return this.state.socialBackupsMetadata.find(e=>e.hash===n&&e.type===t)}async submitPassword(e){return await W(this,i,"m",N).call(this,async()=>{await W(this,i,"m",E).call(this,{password:e}),W(this,i,"m",f).call(this)})}async setLocked(){return await W(this,i,"m",N).call(this,async()=>{this.update(e=>{delete e.vaultEncryptionKey,delete e.vaultEncryptionSalt,delete e.revokeToken,delete e.accessToken}),G(this,h,undefined,"f"),G(this,u,!1,"f")})}async syncLatestGlobalPassword({globalPassword:e}){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",M).call(this);return await W(this,i,"m",K).call(this,async()=>{const{encKey:t,pwEncKey:n,authKeyPair:s}=await W(this,i,"m",S).call(this,e);await W(this,i,"m",O).call(this,{password:e,rawToprfEncryptionKey:t,rawToprfPwEncryptionKey:n,rawToprfAuthKeyPair:s}),W(this,i,"m",B).call(this)},"syncLatestGlobalPassword")})}async submitGlobalPassword({globalPassword:e,maxKeyChainLength:t=5}){return await W(this,i,"m",N).call(this,async()=>await W(this,i,"m",K).call(this,async()=>{const n=W(this,i,"m",w).call(this);await W(this,i,"m",m).call(this,{targetAuthPubKey:n,globalPassword:e,maxKeyChainLength:t})},"submitGlobalPassword"))}async checkIsPasswordOutdated(e){const t=async()=>{if(!e?.skipCache){const{passwordOutdatedCache:e}=this.state,t=Date.now();if(e&&t-e.timestamp<W(this,d,"f"))return e.isExpiredPwd}W(this,i,"m",L).call(this,this.state);const{nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:r}=this.state,a=W(this,i,"m",w).call(this);let o=e?.globalAuthPubKey;if(!o){const{authPubKey:e}=await this.toprfClient.fetchAuthPubKey({nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:r}).catch(e=>{throw ae("Error fetching auth pub key",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToFetchAuthPubKey)});o=e}const c=!Z.secp256k1.ProjectivePoint.fromHex(a).equals(Z.secp256k1.ProjectivePoint.fromHex(o));return this.update(e=>{e.passwordOutdatedCache={isExpiredPwd:c,timestamp:Date.now()}}),c};return await W(this,i,"m",K).call(this,async()=>e?.skipLock?await t():await W(this,i,"m",N).call(this,t),"checkIsPasswordOutdated")}async getIsUserAuthenticated(){try{return W(this,i,"m",L).call(this,this.state),Boolean(this.state.accessToken)&&Boolean(this.state.revokeToken)}catch{return!1}}clearState(){const e=oe();this.update(()=>e)}async storeKeyringEncryptionKey(e){const{toprfPwEncryptionKey:t}=await W(this,i,"m",E).call(this);await W(this,i,"m",b).call(this,t,e)}async loadKeyringEncryptionKey(){const{toprfPwEncryptionKey:e}=await W(this,i,"m",E).call(this);return await W(this,i,"m",y).call(this,e)}async refreshAuthTokens(){W(this,i,"m",L).call(this,this.state);const{refreshToken:e}=this.state,t=await W(this,o,"f").call(this,{connection:this.state.authConnection,refreshToken:e}).catch(e=>{throw ae("Error refreshing JWT tokens",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToRefreshJWTTokens)});try{const{idTokens:n,accessToken:i,metadataAccessToken:s}=t;await this.authenticate({idTokens:n,accessToken:i,metadataAccessToken:s,authConnection:this.state.authConnection,authConnectionId:this.state.authConnectionId,groupedAuthConnectionId:this.state.groupedAuthConnectionId,userId:this.state.userId,refreshToken:e,skipLock:!0})}catch(e){throw ae("Error refreshing node auth tokens",e),new Error(te.SeedlessOnboardingControllerErrorMessage.AuthenticationError)}}async renewRefreshToken(e){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",L).call(this,this.state);const{refreshToken:t,vaultEncryptionKey:n}=this.state,{toprfEncryptionKey:s,toprfPwEncryptionKey:r,toprfAuthKeyPair:a,revokeToken:o}=await W(this,i,"m",E).call(this,{password:e,encryptionKey:n}),{newRevokeToken:c,newRefreshToken:d}=await W(this,l,"f").call(this,{connection:this.state.authConnection,revokeToken:o});c&&d&&(this.update(e=>{e.revokeToken=c,e.refreshToken=d}),W(this,i,"m",U).call(this,{refreshToken:t,revokeToken:o}),await W(this,i,"m",O).call(this,{password:e,rawToprfEncryptionKey:s,rawToprfPwEncryptionKey:r,rawToprfAuthKeyPair:a}))})}async revokePendingRefreshTokens(){return await W(this,i,"m",N).call(this,async()=>{W(this,i,"m",L).call(this,this.state);const{pendingToBeRevokedTokens:e}=this.state;if(!e||0===e.length)return;const t=e.map(({revokeToken:e})=>(async()=>{try{return await W(this,c,"f").call(this,{connection:this.state.authConnection,revokeToken:e}),e}catch(e){return ae("Error revoking refresh token",e),null}})()),n=(await Promise.all(t)).filter(e=>null!==e);n.length>0&&this.update(e=>{e.pendingToBeRevokedTokens=e.pendingToBeRevokedTokens?.filter(e=>!n.includes(e.revokeToken))})})}checkNodeAuthTokenExpired(){W(this,i,"m",L).call(this,this.state);const{nodeAuthTokens:e}=this.state,t=e[0]?.authToken;return(0,re.decodeNodeAuthToken)(t).exp<Date.now()/1e3}checkMetadataAccessTokenExpired(){try{W(this,i,"m",L).call(this,this.state);const{metadataAccessToken:e}=this.state;return(0,re.decodeJWTToken)(e).exp<Math.floor(Date.now()/1e3)}catch{return!0}}checkAccessTokenExpired(){try{W(this,i,"m",L).call(this,this.state);const{accessToken:e}=this.state;if(!e)return!0;return(0,re.decodeJWTToken)(e).exp<Math.floor(Date.now()/1e3)}catch{return!0}}}function de(e){if("string"!=typeof e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.WrongPasswordType);if(!e||!e.length)throw new Error(te.SeedlessOnboardingControllerErrorMessage.InvalidEmptyPassword)}async function ue(e,t){const n=await e.acquire();try{return await t({releaseLock:n})}finally{n()}}n.SeedlessOnboardingController=le,s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,i=new WeakSet,m=async function({targetAuthPubKey:e,globalPassword:t,maxKeyChainLength:n}){const{pwEncKey:s,authKeyPair:r}=await W(this,i,"m",S).call(this,t);try{const t=await this.toprfClient.recoverPwEncKey({targetAuthPubKey:e,curPwEncKey:s,curAuthKeyPair:r,maxPwChainLength:n}),{pwEncKey:a}=t,o=await W(this,i,"m",x).call(this,a);await W(this,i,"m",E).call(this,{encryptionKey:o}),W(this,i,"m",f).call(this)}catch(e){if(W(this,i,"m",F).call(this,e))throw e;if(W(this,i,"m",H).call(this,e))throw new Error(te.SeedlessOnboardingControllerErrorMessage.MaxKeyChainLengthExceeded);throw ne.PasswordSyncError.getInstance(e)}},f=function(){G(this,u,!0,"f")},p=async function(e,t){W(this,i,"m",L).call(this,this.state);const{authConnectionId:n,groupedAuthConnectionId:s,userId:r}=this.state;try{await this.toprfClient.persistLocalKey({nodeAuthTokens:this.state.nodeAuthTokens,authConnectionId:n,groupedAuthConnectionId:s,userId:r,oprfKey:e,authPubKey:t})}catch(e){if(W(this,i,"m",F).call(this,e))throw e;throw ae("Error persisting local encryption key",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToPersistOprfKey)}},g=function(e){this.update(t=>{t.authPubKey=(0,z.bytesToBase64)(e.authPubKey)})},b=async function(e,t){const n=(0,J.managedNonce)(X.gcm)(e).encrypt((0,Y.utf8ToBytes)(t));this.update(e=>{e.encryptedKeyringEncryptionKey=(0,z.bytesToBase64)(n)})},y=async function(e){const{encryptedKeyringEncryptionKey:t}=this.state;!function(e){if(!e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.EncryptedKeyringEncryptionKeyNotSet)}(t);const n=(0,z.base64ToBytes)(t),i=(0,J.managedNonce)(X.gcm)(e).decrypt(n);return(0,Y.bytesToUtf8)(i)},x=async function(e){const{encryptedSeedlessEncryptionKey:t}=this.state;!function(e){if(!e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.EncryptedSeedlessEncryptionKeyNotSet)}(t);const n=(0,z.base64ToBytes)(t),i=(0,J.managedNonce)(X.gcm)(e).decrypt(n);return(0,Y.bytesToUtf8)(i)},w=function(){const{authPubKey:e}=this.state;if(!e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.SRPNotBackedUpError);return(0,z.base64ToBytes)(e)},S=async function(e){W(this,i,"m",L).call(this,this.state);const{nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:r}=this.state;try{return await this.toprfClient.recoverEncKey({nodeAuthTokens:t,password:e,authConnectionId:n,groupedAuthConnectionId:s,userId:r})}catch(e){if(W(this,i,"m",F).call(this,e))throw e;throw ne.RecoveryError.getInstance(e)}},T=async function(e,t){let n=[];try{n=await this.toprfClient.fetchAllSecretDataItems({decKey:e,authKeyPair:t})}catch(e){if(ae("Error fetching secret data",e),W(this,i,"m",F).call(this,e))throw e;throw new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToFetchSecretMetadata)}if(n?.length>0){const e=se.SecretMetadata.parseSecretsFromMetadataStore(n);if(e[0].type!==te.SecretType.Mnemonic)throw new Error(te.SeedlessOnboardingControllerErrorMessage.InvalidPrimarySecretDataType);return e}throw new Error(te.SeedlessOnboardingControllerErrorMessage.NoSecretDataFound)},v=async function({oldPassword:e,newPassword:t,latestKeyIndex:n}){W(this,i,"m",L).call(this,this.state);const{authConnectionId:s,groupedAuthConnectionId:r,userId:a}=this.state;let o,c,l,d=n;d?({toprfEncryptionKey:o,toprfPwEncryptionKey:c,toprfAuthKeyPair:l}=await W(this,i,"m",E).call(this,{password:e})):({encKey:o,pwEncKey:c,authKeyPair:l,keyShareIndex:d}=await W(this,i,"m",S).call(this,e));return await this.toprfClient.changeEncKey({nodeAuthTokens:this.state.nodeAuthTokens,authConnectionId:s,groupedAuthConnectionId:r,userId:a,oldEncKey:o,oldPwEncKey:c,oldAuthKeyPair:l,newKeyShareIndex:d,newPassword:t})},_=async function(e){const{options:t,data:n,encKey:s,authKeyPair:r,type:a}=e;if(this.getSecretDataBackupState(n,a))return;const o=new se.SecretMetadata(n,{type:a}).toBytes(),c=t?.keyringId;if(a===te.SecretType.Mnemonic&&!c)throw new Error(te.SeedlessOnboardingControllerErrorMessage.MissingKeyringId);try{await W(this,i,"m",C).call(this,async()=>(await this.toprfClient.addSecretDataItem({encKey:s,secretData:o,authKeyPair:r}),{keyringId:c,data:n,type:a}))}catch(e){if(W(this,i,"m",F).call(this,e))throw e;throw ae("Error encrypting and storing secret data backup",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToEncryptAndStoreSecretData)}},E=async function(e){return W(this,i,"m",j).call(this,async()=>{if(W(this,h,"f"))return W(this,h,"f");const{vaultData:t,vaultEncryptionKey:n,vaultEncryptionSalt:s}=await W(this,i,"m",k).call(this,e);this.update(e=>{e.vaultEncryptionKey=n,e.vaultEncryptionSalt=s,e.revokeToken=t.revokeToken,e.accessToken=t.accessToken});const r=(0,re.deserializeVaultData)(t);return G(this,h,r,"f"),r})},k=async function(e){let{vaultEncryptionKey:t,vaultEncryptionSalt:n}=this.state;const{vault:r}=this.state;if(!r)throw new Error(te.SeedlessOnboardingControllerErrorMessage.VaultError);let a;if(e?.encryptionKey&&(t=e.encryptionKey),t){const e=JSON.parse(r);if(n&&n!==e.salt)throw new Error(te.SeedlessOnboardingControllerErrorMessage.ExpiredCredentials);const i=await W(this,s,"f").importKey(t);a=await W(this,s,"f").decryptWithKey(i,e)}else{de(e?.password);const i=await W(this,s,"f").decryptWithDetail(e.password,r);a=i.vault,t=i.exportedKeyString,n=i.salt}return{vaultData:W(this,i,"m",R).call(this,a),vaultEncryptionKey:t,vaultEncryptionSalt:n}},C=async function(e){try{const t=await e();return W(this,i,"m",P).call(this,t),t}catch(e){throw ae("Error persisting secret data backups",e),e}},P=function(e){const t=this.state.socialBackupsMetadata,n=Array.isArray(e)?e:[e],i=[];n.forEach(e=>{const{keyringId:n,data:s,type:r}=e,a=(0,q.keccak256AndHexify)(s);t.some(e=>e.hash===a&&e.type===r)||i.push({keyringId:n,hash:a,type:r})}),i.length>0&&this.update(e=>{e.socialBackupsMetadata=[...e.socialBackupsMetadata,...i]})},O=async function({password:e,rawToprfEncryptionKey:t,rawToprfPwEncryptionKey:n,rawToprfAuthKeyPair:s}){W(this,i,"m",L).call(this,this.state);const{accessToken:r,revokeToken:a}=await W(this,i,"m",I).call(this,e),o={toprfAuthKeyPair:s,toprfEncryptionKey:t,toprfPwEncryptionKey:n,revokeToken:a,accessToken:r};await W(this,i,"m",A).call(this,{password:e,vaultData:o,pwEncKey:n}),W(this,i,"m",g).call(this,{authPubKey:s.pk}),W(this,i,"m",f).call(this)},A=async function({password:e,vaultData:t,pwEncKey:n}){await W(this,i,"m",j).call(this,async()=>{de(e),G(this,h,t,"f");const i=(0,re.serializeVaultData)(t),{vault:r,exportedKeyString:a}=await W(this,s,"f").encryptWithDetail(e,i),o=(0,J.managedNonce)(X.gcm)(n).encrypt((0,Y.utf8ToBytes)(a));this.update(e=>{e.vault=r,e.vaultEncryptionKey=a,e.vaultEncryptionSalt=JSON.parse(r).salt,e.encryptedSeedlessEncryptionKey=(0,z.bytesToBase64)(o)})})},I=async function(e){let{accessToken:t,revokeToken:n}=this.state;if(t&&n)return{accessToken:t,revokeToken:n};if(this.state.vault){const{vaultData:s}=await W(this,i,"m",k).call(this,{password:e});t=t||s.accessToken,n=n||s.revokeToken}if(!t)throw new Error(te.SeedlessOnboardingControllerErrorMessage.InvalidAccessToken);if(!n)throw new Error(te.SeedlessOnboardingControllerErrorMessage.InvalidRevokeToken);return{accessToken:t,revokeToken:n}},N=async function(e){return await ue(W(this,r,"f"),e)},j=async function(e){return await ue(W(this,a,"f"),e)},R=function(e){if("string"!=typeof e)throw new Error(te.SeedlessOnboardingControllerErrorMessage.VaultDataError);let t;try{t=JSON.parse(e)}catch{throw new Error(te.SeedlessOnboardingControllerErrorMessage.VaultDataError)}return(0,ee.assertIsValidVaultData)(t),t},M=function(){if(!W(this,u,"f"))throw new Error(te.SeedlessOnboardingControllerErrorMessage.ControllerLocked)},L=function(e){try{(0,ee.assertIsSeedlessOnboardingUserAuthenticated)(e)}catch(e){throw this.update(e=>{e.isSeedlessOnboardingUserAuthenticated=!1}),e}},D=async function(e){W(this,i,"m",L).call(this,this.state);const{nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:r}=this.state,{authPubKey:a,keyIndex:o}=await this.toprfClient.fetchAuthPubKey({nodeAuthTokens:t,authConnectionId:n,groupedAuthConnectionId:s,userId:r}).catch(e=>{throw ae("Error fetching auth pub key",e),new Error(te.SeedlessOnboardingControllerErrorMessage.FailedToFetchAuthPubKey)});if(await this.checkIsPasswordOutdated({...e,globalAuthPubKey:a}))throw new Error(te.SeedlessOnboardingControllerErrorMessage.OutdatedPassword);return{authPubKey:a,latestKeyIndex:o}},B=function(){this.update(e=>{delete e.passwordOutdatedCache})},U=function({refreshToken:e,revokeToken:t}){this.update(n=>{n.pendingToBeRevokedTokens=[...n.pendingToBeRevokedTokens||[],{refreshToken:e,revokeToken:t}]})},F=function(e){return e instanceof $.TOPRFError&&(e.code===$.TOPRFErrorCode.AuthTokenExpired||e.code===$.TOPRFErrorCode.InvalidAuthToken)},H=function(e){return e instanceof $.TOPRFError&&e.code===$.TOPRFErrorCode.MaxKeyChainLengthExceeded},K=async function(e,t){try{const n=this.checkNodeAuthTokenExpired(),i=this.checkMetadataAccessTokenExpired();let s=!1;return W(this,u,"f")&&(s=this.checkAccessTokenExpired()),(n||i||s)&&(ae(`JWT token expired during ${t}, attempting to refresh tokens`,"node auth token exp check"),await this.refreshAuthTokens()),await e()}catch(n){if(!W(this,i,"m",F).call(this,n))throw n;ae(`Token expired during ${t}, attempting to refresh tokens`,n);try{return await this.refreshAuthTokens(),await e()}catch(e){throw ae(`Error refreshing tokens during ${t}`,e),e}}}}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/SeedlessOnboardingController.cjs"}],[2617,{"./constants.cjs":2618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertIsValidVaultData=n.assertIsPasswordOutdatedCacheValid=n.assertIsSeedlessOnboardingUserAuthenticated=void 0;const i=e("./constants.cjs");n.assertIsSeedlessOnboardingUserAuthenticated=function(e){if(!e||"object"!=typeof e||!("authConnectionId"in e)||"string"!=typeof e.authConnectionId||!("userId"in e)||"string"!=typeof e.userId)throw new Error(i.SeedlessOnboardingControllerErrorMessage.MissingAuthUserInfo);if(!("nodeAuthTokens"in e)||"object"!=typeof e.nodeAuthTokens||!Array.isArray(e.nodeAuthTokens)||e.nodeAuthTokens.length<3)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InsufficientAuthToken);if(!("refreshToken"in e)||"string"!=typeof e.refreshToken)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidRefreshToken);if(!("metadataAccessToken"in e)||"string"!=typeof e.metadataAccessToken)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidMetadataAccessToken)},n.assertIsPasswordOutdatedCacheValid=function(e){if("number"!=typeof e)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidPasswordOutdatedCache);if(e<0||isNaN(e)||!isFinite(e))throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidPasswordOutdatedCache)},n.assertIsValidVaultData=function(e){if(!(e&&"object"==typeof e&&"toprfEncryptionKey"in e&&"string"==typeof e.toprfEncryptionKey&&"toprfPwEncryptionKey"in e&&"string"==typeof e.toprfPwEncryptionKey&&"toprfAuthKeyPair"in e&&"string"==typeof e.toprfAuthKeyPair))throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidVaultData);if(!("revokeToken"in e)||"string"!=typeof e.revokeToken)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidRevokeToken);if(!("accessToken"in e)||"string"!=typeof e.accessToken)throw new Error(i.SeedlessOnboardingControllerErrorMessage.InvalidAccessToken)}}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/assertions.cjs"}],[2618,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o;Object.defineProperty(n,"__esModule",{value:!0}),n.SeedlessOnboardingControllerErrorMessage=n.SecretMetadataVersion=n.SecretType=n.AuthConnection=n.Web3AuthNetwork=n.PASSWORD_OUTDATED_CACHE_TTL_MS=n.controllerName=void 0,n.controllerName="SeedlessOnboardingController",n.PASSWORD_OUTDATED_CACHE_TTL_MS=1e4,function(e){e.Mainnet="sapphire_mainnet",e.Devnet="sapphire_devnet"}(i||(n.Web3AuthNetwork=i={})),function(e){e.Google="google",e.Apple="apple"}(s||(n.AuthConnection=s={})),function(e){e.Mnemonic="mnemonic",e.PrivateKey="privateKey"}(r||(n.SecretType=r={})),function(e){e.V1="v1"}(a||(n.SecretMetadataVersion=a={})),function(e){e.ControllerLocked="SeedlessOnboardingController - The operation cannot be completed while the controller is locked.",e.AuthenticationError="SeedlessOnboardingController - Authentication error",e.MissingAuthUserInfo="SeedlessOnboardingController - Missing authenticated user information",e.FailedToPersistOprfKey="SeedlessOnboardingController - Failed to persist OPRF key",e.LoginFailedError="SeedlessOnboardingController - Login failed",e.InsufficientAuthToken="SeedlessOnboardingController - Insufficient auth token",e.InvalidRefreshToken="SeedlessOnboardingController - Invalid refresh token",e.InvalidRevokeToken="SeedlessOnboardingController - Invalid revoke token",e.InvalidAccessToken="SeedlessOnboardingController - Invalid access token",e.InvalidMetadataAccessToken="SeedlessOnboardingController - Invalid metadata access token",e.MissingCredentials="SeedlessOnboardingController - Cannot unlock vault without password and encryption key",e.ExpiredCredentials="SeedlessOnboardingController - Encryption key and salt provided are expired",e.InvalidEmptyPassword="SeedlessOnboardingController - Password cannot be empty.",e.WrongPasswordType="SeedlessOnboardingController - Password must be of type string.",e.InvalidVaultData="SeedlessOnboardingController - Invalid vault data",e.VaultDataError="SeedlessOnboardingController - The decrypted vault has an unexpected shape.",e.VaultError="SeedlessOnboardingController - Cannot unlock without a previous vault.",e.InvalidSecretMetadata="SeedlessOnboardingController - Invalid secret metadata",e.MissingKeyringId="SeedlessOnboardingController - Keyring ID is required to store SRP backups.",e.FailedToEncryptAndStoreSecretData="SeedlessOnboardingController - Failed to encrypt and store secret data",e.FailedToFetchSecretMetadata="SeedlessOnboardingController - Failed to fetch secret metadata",e.NoSecretDataFound="SeedlessOnboardingController - No secret data found",e.InvalidPrimarySecretDataType="SeedlessOnboardingController - Primary secret data must be of type mnemonic.",e.FailedToChangePassword="SeedlessOnboardingController - Failed to change password",e.TooManyLoginAttempts="SeedlessOnboardingController - Too many login attempts",e.IncorrectPassword="SeedlessOnboardingController - Incorrect password",e.OutdatedPassword="SeedlessOnboardingController - Outdated password",e.CouldNotRecoverPassword="SeedlessOnboardingController - Could not recover password",e.SRPNotBackedUpError="SeedlessOnboardingController - SRP not backed up",e.EncryptedKeyringEncryptionKeyNotSet="SeedlessOnboardingController - Encrypted keyring encryption key is not set",e.EncryptedSeedlessEncryptionKeyNotSet="SeedlessOnboardingController - Encrypted seedless encryption key is not set",e.MaxKeyChainLengthExceeded="SeedlessOnboardingController - Max key chain length exceeded",e.FailedToFetchAuthPubKey="SeedlessOnboardingController - Failed to fetch latest auth pub key",e.InvalidPasswordOutdatedCache="SeedlessOnboardingController - Invalid password outdated cache provided.",e.FailedToRefreshJWTTokens="SeedlessOnboardingController - Failed to refresh JWT tokens"}(o||(n.SeedlessOnboardingControllerErrorMessage=o={}))}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/constants.cjs"}],[2619,{"./constants.cjs":2618,"@metamask/toprf-secure-backup":2952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RecoveryError=n.PasswordSyncError=n.getErrorMessageFromTOPRFErrorCode=void 0;const i=e("@metamask/toprf-secure-backup"),s=e("./constants.cjs");function r(e,t){switch(e){case i.TOPRFErrorCode.RateLimitExceeded:return s.SeedlessOnboardingControllerErrorMessage.TooManyLoginAttempts;case i.TOPRFErrorCode.CouldNotDeriveEncryptionKey:return s.SeedlessOnboardingControllerErrorMessage.IncorrectPassword;case i.TOPRFErrorCode.CouldNotFetchPassword:return s.SeedlessOnboardingControllerErrorMessage.CouldNotRecoverPassword;case i.TOPRFErrorCode.AuthTokenExpired:return s.SeedlessOnboardingControllerErrorMessage.InsufficientAuthToken;default:return t}}n.getErrorMessageFromTOPRFErrorCode=r;class a extends Error{constructor(e){super(e),this.name="SeedlessOnboardingController - PasswordSyncError"}static getInstance(e){if(e instanceof i.TOPRFError){const t=r(e.code,s.SeedlessOnboardingControllerErrorMessage.CouldNotRecoverPassword);return new a(t)}return new a(s.SeedlessOnboardingControllerErrorMessage.CouldNotRecoverPassword)}}n.PasswordSyncError=a;class o extends Error{constructor(e,t){super(e),this.data=t,this.name="SeedlessOnboardingController - RecoveryError"}static getInstance(e){if(!(e instanceof i.TOPRFError))return new o(s.SeedlessOnboardingControllerErrorMessage.LoginFailedError);const t=function(e){return e.meta&&e.code===i.TOPRFErrorCode.RateLimitExceeded&&"object"==typeof e.meta.rateLimitDetails&&null!==e.meta.rateLimitDetails&&"remainingTime"in e.meta.rateLimitDetails&&"number"==typeof e.meta.rateLimitDetails.remainingTime&&"message"in e.meta.rateLimitDetails&&"string"==typeof e.meta.rateLimitDetails.message&&"lockTime"in e.meta.rateLimitDetails&&"number"==typeof e.meta.rateLimitDetails.lockTime&&"guessCount"in e.meta.rateLimitDetails&&"number"==typeof e.meta.rateLimitDetails.guessCount?{remainingTime:e.meta.rateLimitDetails.remainingTime,message:e.meta.rateLimitDetails.message,lockTime:e.meta.rateLimitDetails.lockTime,guessCount:e.meta.rateLimitDetails.guessCount}:undefined}(e),n=t?{numberOfAttempts:t.guessCount,remainingTime:t.remainingTime}:undefined,a=r(e.code,s.SeedlessOnboardingControllerErrorMessage.LoginFailedError);return new o(a,n)}}n.RecoveryError=o}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/errors.cjs"}],[2620,{"./SecretMetadata.cjs":2615,"./SeedlessOnboardingController.cjs":2616,"./constants.cjs":2618,"./errors.cjs":2619},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RecoveryError=n.SecretMetadata=n.SecretType=n.AuthConnection=n.SeedlessOnboardingControllerErrorMessage=n.Web3AuthNetwork=n.getDefaultSeedlessOnboardingControllerState=n.SeedlessOnboardingController=void 0;var i=e("./SeedlessOnboardingController.cjs");Object.defineProperty(n,"SeedlessOnboardingController",{enumerable:!0,get:function(){return i.SeedlessOnboardingController}}),Object.defineProperty(n,"getDefaultSeedlessOnboardingControllerState",{enumerable:!0,get:function(){return i.getInitialSeedlessOnboardingControllerStateWithDefaults}});var s=e("./constants.cjs");Object.defineProperty(n,"Web3AuthNetwork",{enumerable:!0,get:function(){return s.Web3AuthNetwork}}),Object.defineProperty(n,"SeedlessOnboardingControllerErrorMessage",{enumerable:!0,get:function(){return s.SeedlessOnboardingControllerErrorMessage}}),Object.defineProperty(n,"AuthConnection",{enumerable:!0,get:function(){return s.AuthConnection}}),Object.defineProperty(n,"SecretType",{enumerable:!0,get:function(){return s.SecretType}});var r=e("./SecretMetadata.cjs");Object.defineProperty(n,"SecretMetadata",{enumerable:!0,get:function(){return r.SecretMetadata}});var a=e("./errors.cjs");Object.defineProperty(n,"RecoveryError",{enumerable:!0,get:function(){return a.RecoveryError}})}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/index.cjs"}],[2621,{"./constants.cjs":2618,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const i=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return i.createModuleLogger}});const s=e("./constants.cjs");n.projectLogger=(0,i.createProjectLogger)(s.controllerName)}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/logger.cjs"}],[2622,{"@metamask/utils":3116,"@noble/ciphers/utils":3146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deserializeAuthKeyPair=n.serializeToprfAuthKeyPair=n.deserializeVaultData=n.serializeVaultData=n.decodeJWTToken=n.decodeNodeAuthToken=void 0;const i=e("@metamask/utils"),s=e("@noble/ciphers/utils");function r(e){return JSON.stringify({sk:(0,i.bigIntToHex)(e.sk),pk:(0,i.bytesToBase64)(e.pk)})}function a(e){const t=JSON.parse(e);return{sk:(0,i.hexToBigInt)(t.sk),pk:(0,i.base64ToBytes)(t.pk)}}n.decodeNodeAuthToken=function(e){return JSON.parse((0,s.bytesToUtf8)((0,i.base64ToBytes)(e)))},n.decodeJWTToken=function(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid JWT token format");const n=t[1],r=n+"=".repeat((4-n.length%4)%4);return JSON.parse((0,s.bytesToUtf8)((0,i.base64ToBytes)(r)))},n.serializeVaultData=function(e){const t=(0,i.bytesToBase64)(e.toprfEncryptionKey),n=(0,i.bytesToBase64)(e.toprfPwEncryptionKey),s=r(e.toprfAuthKeyPair);return JSON.stringify({toprfEncryptionKey:t,toprfPwEncryptionKey:n,toprfAuthKeyPair:s,revokeToken:e.revokeToken,accessToken:e.accessToken})},n.deserializeVaultData=function(e){const t=(0,i.base64ToBytes)(e.toprfEncryptionKey),n=(0,i.base64ToBytes)(e.toprfPwEncryptionKey),s=a(e.toprfAuthKeyPair);return{...e,toprfEncryptionKey:t,toprfPwEncryptionKey:n,toprfAuthKeyPair:s}},n.serializeToprfAuthKeyPair=r,n.deserializeAuthKeyPair=a}}},{package:"@metamask/seedless-onboarding-controller",file:"node_modules/@metamask/seedless-onboarding-controller/dist/utils.cjs"}],[2632,{"./logger.cjs":2634,"./types.cjs":2635,"./utils/decoding-api.cjs":2636,"./utils/delegations.cjs":2637,"./utils/normalize.cjs":2638,"./utils/validation.cjs":2639,"@metamask/base-controller":1362,"@metamask/controller-utils":1449,"@metamask/keyring-controller":2203,"@metamask/logging-controller":2245,events:4384,uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S,T,v,_,E,k=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},C=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},P=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SignatureController=void 0;const O=e("@metamask/base-controller"),A=e("@metamask/controller-utils"),I=e("@metamask/keyring-controller"),N=e("@metamask/logging-controller"),j=P(e("events")),R=e("uuid"),M=e("./logger.cjs"),L=e("./types.cjs"),D=e("./utils/decoding-api.cjs"),B=e("./utils/delegations.cjs"),U=e("./utils/normalize.cjs"),F=e("./utils/validation.cjs"),H={signatureRequests:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},unapprovedPersonalMsgs:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},unapprovedTypedMessages:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},unapprovedPersonalMsgCount:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},unapprovedTypedMessagesCount:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}},K=[L.SignatureRequestStatus.Signed,L.SignatureRequestStatus.Rejected,L.SignatureRequestStatus.Errored];class G extends O.BaseController{constructor({decodingApiUrl:e,isDecodeSignatureRequestEnabled:t,messenger:n,state:o,trace:c}){super({name:"SignatureController",metadata:H,messenger:n,state:{signatureRequests:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0,...o}}),i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),this.hub=new j.default,k(this,a,c??((e,t)=>t?.()),"f"),k(this,s,e,"f"),k(this,r,t,"f")}get unapprovedPersonalMessagesCount(){return this.state.unapprovedPersonalMsgCount}get unapprovedTypedMessagesCount(){return this.state.unapprovedTypedMessagesCount}get messages(){return this.state.signatureRequests}resetState(){C(this,i,"m",x).call(this,e=>{Object.assign(e,{signatureRequests:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0})})}rejectUnapproved(e){const t=Object.values(this.state.signatureRequests).filter(e=>e.status===L.SignatureRequestStatus.Unapproved);for(const n of t)C(this,i,"m",p).call(this,n.id,e)}clearUnapproved(){C(this,i,"m",x).call(this,e=>{Object.values(e.signatureRequests).filter(e=>e.status===L.SignatureRequestStatus.Unapproved).forEach(t=>delete e.signatureRequests[t.id])})}async newUnsignedPersonalMessage(e,t,n={}){(0,F.validatePersonalSignatureRequest)(e);const s=(0,U.normalizePersonalMessageParams)(e);return s.siwe=(0,A.detectSIWE)(e),C(this,i,"m",l).call(this,{messageParams:s,request:t,type:L.SignatureRequestType.PersonalSign,approvalType:A.ApprovalType.PersonalSign,traceContext:n.traceContext})}async newUnsignedTypedMessage(e,t,n,s,r={}){const a=C(this,i,"m",v).call(this,t),c=C(this,i,"m",E).call(this),d=n,u=C(this,i,"m",o).call(this,{messageParams:e,version:d,request:t});(0,F.validateTypedSignatureRequest)({currentChainId:a,internalAccounts:c,messageData:e,request:t,version:d,decodedPermission:u});const h=(0,U.normalizeTypedMessageParams)(e,d);return C(this,i,"m",l).call(this,{approvalType:A.ApprovalType.EthSignTypedData,messageParams:h,request:t,signingOptions:s,traceContext:r.traceContext,type:L.SignatureRequestType.TypedSign,version:d,decodedPermission:u})}setDeferredSignSuccess(e,t){C(this,i,"m",y).call(this,e,e=>{e.rawSig=t,e.status=L.SignatureRequestStatus.Signed})}setMessageMetadata(e,t){C(this,i,"m",y).call(this,e,e=>{e.metadata=t})}setDeferredSignError(e){C(this,i,"m",y).call(this,e,e=>{e.status=L.SignatureRequestStatus.Rejected})}setTypedMessageInProgress(e){C(this,i,"m",y).call(this,e,e=>{e.status=L.SignatureRequestStatus.InProgress})}setPersonalMessageInProgress(e){this.setTypedMessageInProgress(e)}}n.SignatureController=G,s=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakSet,o=function({messageParams:e,version:t,request:n}){let s;try{s=C(this,i,"m",c).call(this,e,t).data}catch(e){return(0,M.projectLogger)("Failed to parse typed data",e),undefined}if(!(0,B.isDelegationRequest)(s)||!n.origin||t!==I.SignTypedDataVersion.V4)return undefined;let r;try{(0,B.validateExecutionPermissionMetadata)(s),r=(0,B.decodePermissionFromRequest)({origin:n.origin,data:s,messenger:this.messenger})}catch(e){(0,M.projectLogger)("Failed to decode permission",e.message)}return r},c=function(e,t){return[I.SignTypedDataVersion.V3,I.SignTypedDataVersion.V4].includes(t)&&"string"==typeof e.data?{...e,data:JSON.parse(e.data)}:e},l=async function({chainId:e,messageParams:t,request:n,type:s,approvalType:r,version:a,signingOptions:o,traceContext:c,decodedPermission:l}){(0,M.projectLogger)("Processing signature request",{messageParams:t,request:n,type:s,version:a});const m=e??C(this,i,"m",v).call(this,n);C(this,i,"m",S).call(this,s,a,N.SigningStage.Proposed,t);const f=C(this,i,"m",d).call(this,{chainId:m,messageParams:t,request:n,signingOptions:o,type:s,version:a,decodedPermission:l});let p,b;const y=C(this,i,"m",g).call(this,f.id);C(this,i,"m",_).call(this,f.id,n,m);try{p=await C(this,i,"m",u).call(this,{approvalType:r,metadata:f,request:n,traceContext:c}),await C(this,i,"m",h).call(this,f,c)}catch(w){(0,M.projectLogger)("Signature request failed",w.message),b=w}const x=await y,{error:w,id:T,messageParams:E,rawSig:k}=x;switch(x.status){case L.SignatureRequestStatus.Signed:return(0,M.projectLogger)("Signature request finished",{id:T,signature:k}),C(this,i,"m",S).call(this,s,a,N.SigningStage.Signed,E),p?.success(k),x.rawSig;case L.SignatureRequestStatus.Rejected:const e=b??new Error(`MetaMask ${s} Signature: User denied message signature.`);throw p?.error(e),e;case L.SignatureRequestStatus.Errored:const t=b??new Error(`MetaMask ${s} Signature: ${w}`);throw p?.error(t),t;default:throw new Error(`MetaMask ${s} Signature: Unknown problem: ${JSON.stringify(E)}`)}},d=function({chainId:e,messageParams:t,request:n,signingOptions:s,type:r,version:a,decodedPermission:o}){const c=(0,R.v1)(),l=n?.origin??t.origin,d=n?.id,u=n?.securityAlertResponse,h=n?.networkClientId,m={chainId:e,id:c,messageParams:{...t,metamaskId:c,origin:l,requestId:d,version:a},networkClientId:h,securityAlertResponse:u,signingOptions:s,status:L.SignatureRequestStatus.Unapproved,time:Date.now(),type:r,version:a,decodedPermission:o};return C(this,i,"m",x).call(this,e=>{e.signatureRequests[m.id]=m}),(0,M.projectLogger)("Added signature request",m),this.hub.emit("unapprovedMessage",{messageParams:t,metamaskId:m.id}),m},u=async function({approvalType:e,metadata:t,request:n,traceContext:s}){const{id:r,messageParams:o,type:c,version:l}=t;try{return(await C(this,a,"f").call(this,{name:"Await Approval",parentContext:s},s=>C(this,i,"m",b).call(this,t,e,{traceContext:s,actionId:n?.id?.toString()}))).resultCallbacks}catch(e){throw(0,M.projectLogger)("User rejected request",{id:r,error:e}),C(this,i,"m",S).call(this,c,l,N.SigningStage.Rejected,o),C(this,i,"m",p).call(this,r),e}},h=async function(e,t){const{id:n}=e;C(this,i,"m",y).call(this,n,e=>{e.status=L.SignatureRequestStatus.Approved}),await C(this,a,"f").call(this,{name:"Sign",parentContext:t},()=>C(this,i,"m",m).call(this,e))},m=async function(e){const{id:t,messageParams:n,signingOptions:s,type:r}=e;try{let a;switch(r){case L.SignatureRequestType.PersonalSign:a=await this.messenger.call("KeyringController:signPersonalMessage",n);break;case L.SignatureRequestType.TypedSign:const t=s?.parseJsonData?C(this,i,"m",c).call(this,n,e.version):n;a=await this.messenger.call("KeyringController:signTypedMessage",t,e.version);break;default:throw new Error(`Unknown signature request type: ${r}`)}if(this.hub.emit(`${r}:signed`,{signature:a,messageId:t}),n.deferSetAsSigned)return;C(this,i,"m",y).call(this,t,e=>{e.rawSig=a,e.status=L.SignatureRequestStatus.Signed})}catch(e){throw r===L.SignatureRequestType.TypedSign?C(this,i,"m",f).call(this,t,e.message):C(this,i,"m",p).call(this,t),this.hub.emit(`${t}:signError`,{error:e}),e}},f=function(e,t){C(this,i,"m",y).call(this,e,e=>{e.status=L.SignatureRequestStatus.Errored,e.error=t})},p=function(e,t){if(t){const n=this.state.signatureRequests[e];this.hub.emit("cancelWithReason",{metadata:n,reason:t})}C(this,i,"m",y).call(this,e,e=>{e.status=L.SignatureRequestStatus.Rejected})},g=async function(e){return new Promise(t=>{this.hub.once(`${e}:finished`,e=>{t(e)})})},b=async function(e,t,{traceContext:n,actionId:i}){const{id:s,messageParams:r}=e,o=r.origin||A.ORIGIN_METAMASK;return await C(this,a,"f").call(this,{name:"Notification Display",id:i,parentContext:n}),await this.messenger.call("ApprovalController:addRequest",{id:s,origin:o,type:t,requestData:{...r},expectsResult:!0},!0)},y=function(e,t){let n=!1;const{nextState:s}=C(this,i,"m",x).call(this,i=>{const s=i.signatureRequests[e];if(!s)throw new Error(`Signature request with id ${e} not found`);const r=s.status;t(s),n=s.status!==r}),r=s.signatureRequests[e];return n&&K.includes(r.status)&&this.hub.emit(`${e}:finished`,r),r},x=function(e){return this.update(t=>{e(t);const n=Object.values(t.signatureRequests).filter(e=>e.status===L.SignatureRequestStatus.Unapproved),s=C(this,i,"m",w).call(this,n,L.SignatureRequestType.PersonalSign),r=C(this,i,"m",w).call(this,n,L.SignatureRequestType.TypedSign);t.unapprovedPersonalMsgs=s,t.unapprovedTypedMessages=r,t.unapprovedPersonalMsgCount=Object.values(s).length,t.unapprovedTypedMessagesCount=Object.values(r).length})},w=function(e,t){return e.filter(e=>e.type===t).reduce((e,t)=>({...e,[t.id]:{...t,msgParams:t.messageParams}}),{})},S=function(e,t,n,s){const r=C(this,i,"m",T).call(this,e,t);this.messenger.call("LoggingController:add",{type:N.LogType.EthSignLog,data:{signingMethod:r,stage:n,signingData:s}})},T=function(e,t){return e===L.SignatureRequestType.PersonalSign?N.SigningMethod.PersonalSign:e===L.SignatureRequestType.TypedSign&&t===I.SignTypedDataVersion.V3?N.SigningMethod.EthSignTypedDataV3:e===L.SignatureRequestType.TypedSign&&t===I.SignTypedDataVersion.V4?N.SigningMethod.EthSignTypedDataV4:N.SigningMethod.EthSignTypedData},v=function(e){const{networkClientId:t}=e;if(!t)throw new Error("Network client ID not found in request");return this.messenger.call("NetworkController:getNetworkClientById",t).configuration.chainId},_=function(e,t,n){C(this,r,"f")?.call(this)&&C(this,s,"f")&&(C(this,i,"m",y).call(this,e,e=>{e.decodingLoading=!0}),(0,D.decodeSignature)(t,n,C(this,s,"f")).then(t=>C(this,i,"m",y).call(this,e,e=>{e.decodingData=t,e.decodingLoading=!1})).catch(t=>C(this,i,"m",y).call(this,e,e=>{e.decodingData={stateChanges:null,error:{message:t.message,type:D.DECODING_API_ERRORS.DECODING_FAILED_WITH_ERROR}},e.decodingLoading=!1})))},E=function(){const e=this.messenger.call("AccountsController:getState");return Object.values(e.internalAccounts?.accounts??{}).filter(e=>"eip155:eoa"===e.type).map(e=>e.address)}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/SignatureController.cjs"}],[2633,{"./SignatureController.cjs":2632,"./types.cjs":2635},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./SignatureController.cjs"),n),s(e("./types.cjs"),n)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/index.cjs"}],[2634,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.projectLogger=void 0;const i=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return i.createModuleLogger}}),n.projectLogger=(0,i.createProjectLogger)("signature-controller")}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/logger.cjs"}],[2635,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a;Object.defineProperty(n,"__esModule",{value:!0}),n.SignatureRequestType=n.SignatureRequestStatus=n.DecodingDataChangeType=n.EthMethod=void 0,function(e){e.PersonalSign="personal_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4"}(i||(n.EthMethod=i={})),function(e){e.Receive="RECEIVE",e.Transfer="TRANSFER",e.Approve="APPROVE",e.Revoke="REVOKE_APPROVE",e.Bidding="BIDDING",e.Listing="LISTING"}(s||(n.DecodingDataChangeType=s={})),function(e){e.Unapproved="unapproved",e.Approved="approved",e.Rejected="rejected",e.InProgress="inProgress",e.Signed="signed",e.Errored="errored"}(r||(n.SignatureRequestStatus=r={})),function(e){e.PersonalSign="personal_sign",e.TypedSign="eth_signTypedData"}(a||(n.SignatureRequestType=a={}))}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/types.cjs"}],[2636,{"../types.cjs":2635,"./normalize.cjs":2638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeSignature=n.DECODING_API_ERRORS=void 0;const i=e("./normalize.cjs"),s=e("../types.cjs");n.DECODING_API_ERRORS={UNSUPPORTED_SIGNATURE:"UNSUPPORTED_SIGNATURE",DECODING_FAILED_WITH_ERROR:"DECODING_FAILED_WITH_ERROR"},n.decodeSignature=async function(e,t,r){try{const{method:a,origin:o,params:c}=e;if(e.method===s.EthMethod.SignTypedDataV3||e.method===s.EthMethod.SignTypedDataV4){const e=await fetch(`${r}/signature?chainId=${t}`,{method:"POST",body:JSON.stringify({method:a,origin:o,params:[c[0],(0,i.normalizeParam)(c[1])]}),headers:{"Content-Type":"application/json"}});return await e.json()}return{error:{message:"Unsupported signature.",type:n.DECODING_API_ERRORS.UNSUPPORTED_SIGNATURE}}}catch(e){return{error:{message:e.message,type:n.DECODING_API_ERRORS.DECODING_FAILED_WITH_ERROR}}}}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/decoding-api.cjs"}],[2637,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateExecutionPermissionMetadata=n.decodePermissionFromRequest=n.isDelegationRequest=void 0;const i=e("@metamask/utils");n.isDelegationRequest=function(e){const{primaryType:t}=e;return"Delegation"===t},n.decodePermissionFromRequest=function({origin:e,data:t,messenger:n}){const{metadata:{origin:s,justification:r}}=t;if("number"!=typeof t.domain.chainId)throw new Error("Invalid chainId");const{chainId:a}=t.domain,{delegate:o,delegator:c,authority:l,caveats:d}=t.message;return(0,i.isHexAddress)(o?.toLowerCase())&&(0,i.isHexAddress)(c?.toLowerCase())&&(0,i.isStrictHexString)(l)&&d?n.call("GatorPermissionsController:decodePermissionFromPermissionContextForOrigin",{origin:e,chainId:a,delegation:{delegate:o,delegator:c,caveats:d,authority:l},metadata:{justification:r,origin:s}}):undefined},n.validateExecutionPermissionMetadata=function(e){if(!("metadata"in e))throw new Error("Invalid metadata");const{metadata:t}=e;if(!t||"string"!=typeof t.origin||"string"!=typeof t.justification)throw new Error("Invalid metadata")}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/delegations.cjs"}],[2638,{"@metamask/keyring-controller":2203,"@metamask/utils":3116,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeParam=n.normalizeTypedMessageParams=n.normalizePersonalMessageParams=void 0;const i=e("@metamask/keyring-controller"),s=e("@metamask/utils");function r(e){try{const t=(0,s.remove0x)(e);if(t.match(/^[0-9A-Fa-f]+$/gu))return(0,s.add0x)(t)}catch(e){}return(0,s.bytesToHex)(t.from(e,"utf8"))}function a(e){if(Array.isArray(e))return e.map(e=>a(e));if("object"==typeof e&&null!==e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=a(e[t]));return e}return e?.toString()??""}n.normalizePersonalMessageParams=function(e){return{...e,data:r(e.data)}},n.normalizeTypedMessageParams=function(e,t){const n={...e};return"string"==typeof e.data||t!==i.SignTypedDataVersion.V3&&t!==i.SignTypedDataVersion.V4||(n.data=JSON.stringify(e.data)),n},n.normalizeParam=function(e){return e?a("string"==typeof e?JSON.parse(e):e):{}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/normalize.cjs"}],[2639,{"./delegations.cjs":2637,"@metamask/approval-controller":1257,"@metamask/controller-utils":1449,"@metamask/eth-sig-util":1993,"@metamask/keyring-controller":2203,jsonschema:4658},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateTypedSignatureRequest=n.validatePersonalSignatureRequest=n.DELEGATOR_FIELD=n.PRIMARY_TYPE_DELEGATION=void 0;const i=e("@metamask/approval-controller"),s=e("@metamask/controller-utils"),r=e("@metamask/eth-sig-util"),a=e("@metamask/keyring-controller"),o=e("jsonschema"),c=e("./delegations.cjs");function l(e,t){if(!e||"string"!=typeof e||!(0,s.isValidHexAddress)(e))throw new Error(`Invalid "${t}" address: ${e} must be a valid string.`)}n.PRIMARY_TYPE_DELEGATION="Delegation",n.DELEGATOR_FIELD="delegator",n.validatePersonalSignatureRequest=function(e){const{from:t,data:n}=e;if(l(t,"from"),!n||"string"!=typeof n)throw new Error(`Invalid message "data": ${n} must be a valid string.`)},n.validateTypedSignatureRequest=function({currentChainId:e,internalAccounts:t,messageData:s,request:d,version:u,decodedPermission:h}){l(s.from,"from"),u===a.SignTypedDataVersion.V1?function(e){if(!e.data||!Array.isArray(e.data))throw new Error(`Invalid message "data": ${e.data} must be a valid array.`);try{(0,r.typedSignatureHash)(e.data)}catch(e){throw new Error("Expected EIP712 typed data.")}}(s):function({currentChainId:e,internalAccounts:t,messageData:s,request:a,decodedPermission:l}){if(!s.data||Array.isArray(s.data)||"object"!=typeof s.data&&"string"!=typeof s.data)throw new Error('Invalid message "data": Must be a valid string or object.');let d;if("object"==typeof s.data)d=s.data;else try{d=JSON.parse(s.data)}catch(e){throw new Error("Data must be passed as a valid JSON string.")}if((0,o.validate)(d,r.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new Error("Data must conform to EIP-712 schema. See https://git.io/fNtcx.");if(!e)throw new Error("Current chainId cannot be null or undefined.");let{chainId:u}=d.domain;if(u){"string"==typeof u&&(u=parseInt(u,u.startsWith("0x")?16:10));const t=parseInt(e,16);if(Number.isNaN(t))throw new Error(`Cannot sign messages for chainId "${u}", because MetaMask is switching networks.`);if(u!==t)throw new Error(`Provided chainId "${u}" must match the active chainId "${t}"`)}const h=a?.origin??s?.origin;(function({data:e,internalAccounts:t,origin:n}){const s=e?.domain?.verifyingContract,r=n&&n!==i.ORIGIN_METAMASK;if(s&&"string"==typeof s&&r&&t.some(e=>e.toLowerCase()===s.toLowerCase()))throw new Error("External signature requests cannot use internal accounts as the verifying contract.")})({data:d,internalAccounts:t,origin:h}),function({data:e,internalAccounts:t,origin:s,decodedPermission:r}){if(!(0,c.isDelegationRequest)(e))return;const a=r!==undefined;if(!a){const r=s&&s!==i.ORIGIN_METAMASK,a=e.message?.[n.DELEGATOR_FIELD]?.toLowerCase(),o=t.some(e=>e.toLowerCase()===a);if(r&&o)throw new Error("External signature requests cannot sign delegations for internal accounts.")}}({data:d,internalAccounts:t,origin:h,decodedPermission:l})}({currentChainId:e,internalAccounts:t,messageData:s,request:d,decodedPermission:h})}}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/utils/validation.cjs"}],[2640,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={0:{index:"0",hex:"0x80000000",symbol:"BTC",name:"Bitcoin"},1:{index:"1",hex:"0x80000001",symbol:"",name:"Testnet (all coins)"},2:{index:"2",hex:"0x80000002",symbol:"LTC",name:"Litecoin"},3:{index:"3",hex:"0x80000003",symbol:"DOGE",name:"Dogecoin"},4:{index:"4",hex:"0x80000004",symbol:"RDD",name:"Reddcoin"},5:{index:"5",hex:"0x80000005",symbol:"DASH",name:"Dash"},6:{index:"6",hex:"0x80000006",symbol:"PPC",name:"Peercoin"},7:{index:"7",hex:"0x80000007",symbol:"NMC",name:"Namecoin"},8:{index:"8",hex:"0x80000008",symbol:"FTC",name:"Feathercoin"},9:{index:"9",hex:"0x80000009",symbol:"XCP",name:"Counterparty"},10:{index:"10",hex:"0x8000000a",symbol:"BLK",name:"Blackcoin"},11:{index:"11",hex:"0x8000000b",symbol:"NSR",name:"NuShares"},12:{index:"12",hex:"0x8000000c",symbol:"NBT",name:"NuBits"},13:{index:"13",hex:"0x8000000d",symbol:"MZC",name:"Mazacoin"},14:{index:"14",hex:"0x8000000e",symbol:"VIA",name:"Viacoin"},15:{index:"15",hex:"0x8000000f",symbol:"XCH",name:"ClearingHouse"},16:{index:"16",hex:"0x80000010",symbol:"RBY",name:"Rubycoin"},17:{index:"17",hex:"0x80000011",symbol:"GRS",name:"Groestlcoin"},18:{index:"18",hex:"0x80000012",symbol:"DGC",name:"Digitalcoin"},19:{index:"19",hex:"0x80000013",symbol:"CCN",name:"Cannacoin"},20:{index:"20",hex:"0x80000014",symbol:"DGB",name:"DigiByte"},21:{index:"21",hex:"0x80000015",symbol:"",name:"Open Assets"},22:{index:"22",hex:"0x80000016",symbol:"MONA",name:"Monacoin"},23:{index:"23",hex:"0x80000017",symbol:"CLAM",name:"Clams"},24:{index:"24",hex:"0x80000018",symbol:"XPM",name:"Primecoin"},25:{index:"25",hex:"0x80000019",symbol:"NEOS",name:"Neoscoin"},26:{index:"26",hex:"0x8000001a",symbol:"JBS",name:"Jumbucks"},27:{index:"27",hex:"0x8000001b",symbol:"ZRC",name:"ziftrCOIN"},28:{index:"28",hex:"0x8000001c",symbol:"VTC",name:"Vertcoin"},29:{index:"29",hex:"0x8000001d",symbol:"NXT",name:"NXT"},30:{index:"30",hex:"0x8000001e",symbol:"BURST",name:"Burst"},31:{index:"31",hex:"0x8000001f",symbol:"MUE",name:"MonetaryUnit"},32:{index:"32",hex:"0x80000020",symbol:"ZOOM",name:"Zoom"},33:{index:"33",hex:"0x80000021",symbol:"VASH",name:"Virtual Cash"},34:{index:"34",hex:"0x80000022",symbol:"CDN",name:"Canada eCoin"},35:{index:"35",hex:"0x80000023",symbol:"SDC",name:"ShadowCash"},36:{index:"36",hex:"0x80000024",symbol:"PKB",name:"ParkByte"},37:{index:"37",hex:"0x80000025",symbol:"PND",name:"Pandacoin"},38:{index:"38",hex:"0x80000026",symbol:"START",name:"StartCOIN"},39:{index:"39",hex:"0x80000027",symbol:"MOIN",name:"MOIN"},40:{index:"40",hex:"0x80000028",symbol:"EXP",name:"Expanse"},41:{index:"41",hex:"0x80000029",symbol:"EMC2",name:"Einsteinium"},42:{index:"42",hex:"0x8000002a",symbol:"DCR",name:"Decred"},43:{index:"43",hex:"0x8000002b",symbol:"XEM",name:"NEM"},44:{index:"44",hex:"0x8000002c",symbol:"PART",name:"Particl"},45:{index:"45",hex:"0x8000002d",symbol:"ARG",name:"Argentum (dead)"},46:{index:"46",hex:"0x8000002e",symbol:"",name:"Libertas"},47:{index:"47",hex:"0x8000002f",symbol:"",name:"Posw coin"},48:{index:"48",hex:"0x80000030",symbol:"SHR",name:"Shreeji"},49:{index:"49",hex:"0x80000031",symbol:"GCR",name:"Global Currency Reserve (GCRcoin)"},50:{index:"50",hex:"0x80000032",symbol:"NVC",name:"Novacoin"},51:{index:"51",hex:"0x80000033",symbol:"AC",name:"Asiacoin"},52:{index:"52",hex:"0x80000034",symbol:"BTCD",name:"BitcoinDark"},53:{index:"53",hex:"0x80000035",symbol:"DOPE",name:"Dopecoin"},54:{index:"54",hex:"0x80000036",symbol:"TPC",name:"Templecoin"},55:{index:"55",hex:"0x80000037",symbol:"AIB",name:"AIB"},56:{index:"56",hex:"0x80000038",symbol:"EDRC",name:"EDRCoin"},57:{index:"57",hex:"0x80000039",symbol:"SYS",name:"Syscoin"},58:{index:"58",hex:"0x8000003a",symbol:"SLR",name:"Solarcoin"},59:{index:"59",hex:"0x8000003b",symbol:"SMLY",name:"Smileycoin"},60:{index:"60",hex:"0x8000003c",symbol:"ETH",name:"Ethereum"},61:{index:"61",hex:"0x8000003d",symbol:"ETC",name:"Ether Classic"},62:{index:"62",hex:"0x8000003e",symbol:"PSB",name:"Pesobit"},63:{index:"63",hex:"0x8000003f",symbol:"LDCN",name:"Landcoin (dead)"},64:{index:"64",hex:"0x80000040",symbol:"",name:"Open Chain"},65:{index:"65",hex:"0x80000041",symbol:"XBC",name:"Bitcoinplus"},66:{index:"66",hex:"0x80000042",symbol:"IOP",name:"Internet of People"},67:{index:"67",hex:"0x80000043",symbol:"NXS",name:"Nexus"},68:{index:"68",hex:"0x80000044",symbol:"INSN",name:"InsaneCoin"},69:{index:"69",hex:"0x80000045",symbol:"OK",name:"OKCash"},70:{index:"70",hex:"0x80000046",symbol:"BRIT",name:"BritCoin"},71:{index:"71",hex:"0x80000047",symbol:"CMP",name:"Compcoin"},72:{index:"72",hex:"0x80000048",symbol:"CRW",name:"Crown"},73:{index:"73",hex:"0x80000049",symbol:"BELA",name:"BelaCoin"},74:{index:"74",hex:"0x8000004a",symbol:"ICX",name:"ICON"},75:{index:"75",hex:"0x8000004b",symbol:"FJC",name:"FujiCoin"},76:{index:"76",hex:"0x8000004c",symbol:"MIX",name:"MIX"},77:{index:"77",hex:"0x8000004d",symbol:"XVG",name:"Verge Currency"},78:{index:"78",hex:"0x8000004e",symbol:"EFL",name:"Electronic Gulden"},79:{index:"79",hex:"0x8000004f",symbol:"CLUB",name:"ClubCoin"},80:{index:"80",hex:"0x80000050",symbol:"RICHX",name:"RichCoin"},81:{index:"81",hex:"0x80000051",symbol:"POT",name:"Potcoin"},82:{index:"82",hex:"0x80000052",symbol:"QRK",name:"Quarkcoin"},83:{index:"83",hex:"0x80000053",symbol:"TRC",name:"Terracoin"},84:{index:"84",hex:"0x80000054",symbol:"GRC",name:"Gridcoin"},85:{index:"85",hex:"0x80000055",symbol:"AUR",name:"Auroracoin"},86:{index:"86",hex:"0x80000056",symbol:"IXC",name:"IXCoin"},87:{index:"87",hex:"0x80000057",symbol:"NLG",name:"Gulden"},88:{index:"88",hex:"0x80000058",symbol:"BITB",name:"BitBean"},89:{index:"89",hex:"0x80000059",symbol:"BTA",name:"Bata"},90:{index:"90",hex:"0x8000005a",symbol:"XMY",name:"Myriadcoin"},91:{index:"91",hex:"0x8000005b",symbol:"BSD",name:"BitSend"},92:{index:"92",hex:"0x8000005c",symbol:"UNO",name:"Unobtanium"},93:{index:"93",hex:"0x8000005d",symbol:"MTR",name:"MasterTrader"},94:{index:"94",hex:"0x8000005e",symbol:"GB",name:"GoldBlocks"},95:{index:"95",hex:"0x8000005f",symbol:"SHM",name:"Saham"},96:{index:"96",hex:"0x80000060",symbol:"CRX",name:"Chronos"},97:{index:"97",hex:"0x80000061",symbol:"BIQ",name:"Ubiquoin"},98:{index:"98",hex:"0x80000062",symbol:"EVO",name:"Evotion"},99:{index:"99",hex:"0x80000063",symbol:"STO",name:"SaveTheOcean"},100:{index:"100",hex:"0x80000064",symbol:"BIGUP",name:"BigUp"},101:{index:"101",hex:"0x80000065",symbol:"GAME",name:"GameCredits"},102:{index:"102",hex:"0x80000066",symbol:"DLC",name:"Dollarcoins"},103:{index:"103",hex:"0x80000067",symbol:"ZYD",name:"Zayedcoin"},104:{index:"104",hex:"0x80000068",symbol:"DBIC",name:"Dubaicoin"},105:{index:"105",hex:"0x80000069",symbol:"STRAT",name:"Stratis"},106:{index:"106",hex:"0x8000006a",symbol:"SH",name:"Shilling"},107:{index:"107",hex:"0x8000006b",symbol:"MARS",name:"MarsCoin"},108:{index:"108",hex:"0x8000006c",symbol:"UBQ",name:"Ubiq"},109:{index:"109",hex:"0x8000006d",symbol:"PTC",name:"Pesetacoin"},110:{index:"110",hex:"0x8000006e",symbol:"NRO",name:"Neurocoin"},111:{index:"111",hex:"0x8000006f",symbol:"ARK",name:"ARK"},112:{index:"112",hex:"0x80000070",symbol:"USC",name:"UltimateSecureCashMain"},113:{index:"113",hex:"0x80000071",symbol:"THC",name:"Hempcoin"},114:{index:"114",hex:"0x80000072",symbol:"LINX",name:"Linx"},115:{index:"115",hex:"0x80000073",symbol:"ECN",name:"Ecoin"},116:{index:"116",hex:"0x80000074",symbol:"DNR",name:"Denarius"},117:{index:"117",hex:"0x80000075",symbol:"PINK",name:"Pinkcoin"},118:{index:"118",hex:"0x80000076",symbol:"ATOM",name:"Atom"},119:{index:"119",hex:"0x80000077",symbol:"PIVX",name:"Pivx"},120:{index:"120",hex:"0x80000078",symbol:"FLASH",name:"Flashcoin"},121:{index:"121",hex:"0x80000079",symbol:"ZEN",name:"Zencash"},122:{index:"122",hex:"0x8000007a",symbol:"PUT",name:"Putincoin"},123:{index:"123",hex:"0x8000007b",symbol:"ZNY",name:"BitZeny"},124:{index:"124",hex:"0x8000007c",symbol:"UNIFY",name:"Unify"},125:{index:"125",hex:"0x8000007d",symbol:"XST",name:"StealthCoin"},126:{index:"126",hex:"0x8000007e",symbol:"BRK",name:"Breakout Coin"},127:{index:"127",hex:"0x8000007f",symbol:"VC",name:"Vcash"},128:{index:"128",hex:"0x80000080",symbol:"XMR",name:"Monero"},129:{index:"129",hex:"0x80000081",symbol:"VOX",name:"Voxels"},130:{index:"130",hex:"0x80000082",symbol:"NAV",name:"NavCoin"},131:{index:"131",hex:"0x80000083",symbol:"FCT",name:"Factom Factoids"},132:{index:"132",hex:"0x80000084",symbol:"EC",name:"Factom Entry Credits"},133:{index:"133",hex:"0x80000085",symbol:"ZEC",name:"Zcash"},134:{index:"134",hex:"0x80000086",symbol:"LSK",name:"Lisk"},135:{index:"135",hex:"0x80000087",symbol:"STEEM",name:"Steem"},136:{index:"136",hex:"0x80000088",symbol:"XZC",name:"ZCoin"},137:{index:"137",hex:"0x80000089",symbol:"RBTC",name:"Rootstock"},138:{index:"138",hex:"0x8000008a",symbol:"",name:"Giftblock"},139:{index:"139",hex:"0x8000008b",symbol:"RPT",name:"RealPointCoin"},140:{index:"140",hex:"0x8000008c",symbol:"LBC",name:"LBRY Credits"},141:{index:"141",hex:"0x8000008d",symbol:"KMD",name:"Komodo"},142:{index:"142",hex:"0x8000008e",symbol:"BSQ",name:"bisq Token"},143:{index:"143",hex:"0x8000008f",symbol:"RIC",name:"Riecoin"},144:{index:"144",hex:"0x80000090",symbol:"XRP",name:"XRP"},145:{index:"145",hex:"0x80000091",symbol:"BCH",name:"Bitcoin Cash"},146:{index:"146",hex:"0x80000092",symbol:"NEBL",name:"Neblio"},147:{index:"147",hex:"0x80000093",symbol:"ZCL",name:"ZClassic"},148:{index:"148",hex:"0x80000094",symbol:"XLM",name:"Stellar Lumens"},149:{index:"149",hex:"0x80000095",symbol:"NLC2",name:"NoLimitCoin2"},150:{index:"150",hex:"0x80000096",symbol:"WHL",name:"WhaleCoin"},151:{index:"151",hex:"0x80000097",symbol:"ERC",name:"EuropeCoin"},152:{index:"152",hex:"0x80000098",symbol:"DMD",name:"Diamond"},153:{index:"153",hex:"0x80000099",symbol:"BTM",name:"Bytom"},154:{index:"154",hex:"0x8000009a",symbol:"BIO",name:"Biocoin"},155:{index:"155",hex:"0x8000009b",symbol:"XWCC",name:"Whitecoin Classic"},156:{index:"156",hex:"0x8000009c",symbol:"BTG",name:"Bitcoin Gold"},157:{index:"157",hex:"0x8000009d",symbol:"BTC2X",name:"Bitcoin 2x"},158:{index:"158",hex:"0x8000009e",symbol:"SSN",name:"SuperSkynet"},159:{index:"159",hex:"0x8000009f",symbol:"TOA",name:"TOACoin"},160:{index:"160",hex:"0x800000a0",symbol:"BTX",name:"Bitcore"},161:{index:"161",hex:"0x800000a1",symbol:"ACC",name:"Adcoin"},162:{index:"162",hex:"0x800000a2",symbol:"BCO",name:"Bridgecoin"},163:{index:"163",hex:"0x800000a3",symbol:"ELLA",name:"Ellaism"},164:{index:"164",hex:"0x800000a4",symbol:"PIRL",name:"Pirl"},165:{index:"165",hex:"0x800000a5",symbol:"XNO",name:"Nano"},166:{index:"166",hex:"0x800000a6",symbol:"VIVO",name:"Vivo"},167:{index:"167",hex:"0x800000a7",symbol:"FRST",name:"Firstcoin"},168:{index:"168",hex:"0x800000a8",symbol:"HNC",name:"Helleniccoin"},169:{index:"169",hex:"0x800000a9",symbol:"BUZZ",name:"BUZZ"},170:{index:"170",hex:"0x800000aa",symbol:"MBRS",name:"Ember"},171:{index:"171",hex:"0x800000ab",symbol:"HC",name:"Hcash"},172:{index:"172",hex:"0x800000ac",symbol:"HTML",name:"HTMLCOIN"},173:{index:"173",hex:"0x800000ad",symbol:"ODN",name:"Obsidian"},174:{index:"174",hex:"0x800000ae",symbol:"ONX",name:"OnixCoin"},175:{index:"175",hex:"0x800000af",symbol:"RVN",name:"Ravencoin"},176:{index:"176",hex:"0x800000b0",symbol:"GBX",name:"GoByte"},177:{index:"177",hex:"0x800000b1",symbol:"BTCZ",name:"BitcoinZ"},178:{index:"178",hex:"0x800000b2",symbol:"POA",name:"Poa"},179:{index:"179",hex:"0x800000b3",symbol:"NYC",name:"NewYorkCoin"},180:{index:"180",hex:"0x800000b4",symbol:"MXT",name:"MarteXcoin"},181:{index:"181",hex:"0x800000b5",symbol:"WC",name:"Wincoin"},182:{index:"182",hex:"0x800000b6",symbol:"MNX",name:"Minexcoin"},183:{index:"183",hex:"0x800000b7",symbol:"BTCP",name:"Bitcoin Private"},184:{index:"184",hex:"0x800000b8",symbol:"MUSIC",name:"Musicoin"},185:{index:"185",hex:"0x800000b9",symbol:"BCA",name:"Bitcoin Atom"},186:{index:"186",hex:"0x800000ba",symbol:"CRAVE",name:"Crave"},187:{index:"187",hex:"0x800000bb",symbol:"STAK",name:"STRAKS"},188:{index:"188",hex:"0x800000bc",symbol:"WBTC",name:"World Bitcoin"},189:{index:"189",hex:"0x800000bd",symbol:"LCH",name:"LiteCash"},190:{index:"190",hex:"0x800000be",symbol:"EXCL",name:"ExclusiveCoin"},191:{index:"191",hex:"0x800000bf",symbol:"LYNX",name:"Lynx"},192:{index:"192",hex:"0x800000c0",symbol:"LCC",name:"LitecoinCash"},193:{index:"193",hex:"0x800000c1",symbol:"XFE",name:"Feirm"},194:{index:"194",hex:"0x800000c2",symbol:"EOS",name:"EOS"},195:{index:"195",hex:"0x800000c3",symbol:"TRX",name:"Tron"},196:{index:"196",hex:"0x800000c4",symbol:"KOBO",name:"Kobocoin"},197:{index:"197",hex:"0x800000c5",symbol:"HUSH",name:"HUSH"},198:{index:"198",hex:"0x800000c6",symbol:"BAN",name:"Banano"},199:{index:"199",hex:"0x800000c7",symbol:"ETF",name:"ETF"},200:{index:"200",hex:"0x800000c8",symbol:"OMNI",name:"Omni"},201:{index:"201",hex:"0x800000c9",symbol:"BIFI",name:"BitcoinFile"},202:{index:"202",hex:"0x800000ca",symbol:"UFO",name:"Uniform Fiscal Object"},203:{index:"203",hex:"0x800000cb",symbol:"CNMC",name:"Cryptonodes"},204:{index:"204",hex:"0x800000cc",symbol:"BCN",name:"Bytecoin"},205:{index:"205",hex:"0x800000cd",symbol:"RIN",name:"Ringo"},206:{index:"206",hex:"0x800000ce",symbol:"ATP",name:"Alaya"},207:{index:"207",hex:"0x800000cf",symbol:"EVT",name:"everiToken"},208:{index:"208",hex:"0x800000d0",symbol:"ATN",name:"ATN"},209:{index:"209",hex:"0x800000d1",symbol:"BIS",name:"Bismuth"},210:{index:"210",hex:"0x800000d2",symbol:"NEET",name:"NEETCOIN"},211:{index:"211",hex:"0x800000d3",symbol:"BOPO",name:"BopoChain"},212:{index:"212",hex:"0x800000d4",symbol:"OOT",name:"Utrum"},213:{index:"213",hex:"0x800000d5",symbol:"ALIAS",name:"Alias"},214:{index:"214",hex:"0x800000d6",symbol:"MONK",name:"Monkey Project"},215:{index:"215",hex:"0x800000d7",symbol:"BOXY",name:"BoxyCoin"},216:{index:"216",hex:"0x800000d8",symbol:"FLO",name:"Flo"},217:{index:"217",hex:"0x800000d9",symbol:"MEC",name:"Megacoin"},218:{index:"218",hex:"0x800000da",symbol:"BTDX",name:"BitCloud"},219:{index:"219",hex:"0x800000db",symbol:"XAX",name:"Artax"},220:{index:"220",hex:"0x800000dc",symbol:"ANON",name:"ANON"},221:{index:"221",hex:"0x800000dd",symbol:"LTZ",name:"LitecoinZ"},222:{index:"222",hex:"0x800000de",symbol:"BITG",name:"Bitcoin Green"},223:{index:"223",hex:"0x800000df",symbol:"ICP",name:"Internet Computer (DFINITY)"},224:{index:"224",hex:"0x800000e0",symbol:"SMART",name:"Smartcash"},225:{index:"225",hex:"0x800000e1",symbol:"XUEZ",name:"XUEZ"},226:{index:"226",hex:"0x800000e2",symbol:"HLM",name:"Helium"},227:{index:"227",hex:"0x800000e3",symbol:"WEB",name:"Webchain"},228:{index:"228",hex:"0x800000e4",symbol:"ACM",name:"Actinium"},229:{index:"229",hex:"0x800000e5",symbol:"NOS",name:"NOS Stable Coins"},230:{index:"230",hex:"0x800000e6",symbol:"BITC",name:"BitCash"},231:{index:"231",hex:"0x800000e7",symbol:"HTH",name:"Help The Homeless Coin"},232:{index:"232",hex:"0x800000e8",symbol:"TZC",name:"Trezarcoin"},233:{index:"233",hex:"0x800000e9",symbol:"VAR",name:"Varda"},234:{index:"234",hex:"0x800000ea",symbol:"IOV",name:"IOV"},235:{index:"235",hex:"0x800000eb",symbol:"FIO",name:"FIO"},236:{index:"236",hex:"0x800000ec",symbol:"BSV",name:"BitcoinSV"},237:{index:"237",hex:"0x800000ed",symbol:"DXN",name:"DEXON"},238:{index:"238",hex:"0x800000ee",symbol:"QRL",name:"Quantum Resistant Ledger"},239:{index:"239",hex:"0x800000ef",symbol:"PCX",name:"ChainX"},240:{index:"240",hex:"0x800000f0",symbol:"LOKI",name:"Loki"},241:{index:"241",hex:"0x800000f1",symbol:"",name:"Imagewallet"},242:{index:"242",hex:"0x800000f2",symbol:"NIM",name:"Nimiq"},243:{index:"243",hex:"0x800000f3",symbol:"SOV",name:"Sovereign Coin"},244:{index:"244",hex:"0x800000f4",symbol:"JCT",name:"Jibital Coin"},245:{index:"245",hex:"0x800000f5",symbol:"SLP",name:"Simple Ledger Protocol"},246:{index:"246",hex:"0x800000f6",symbol:"EWT",name:"Energy Web"},247:{index:"247",hex:"0x800000f7",symbol:"UC",name:"Ulord"},248:{index:"248",hex:"0x800000f8",symbol:"EXOS",name:"EXOS"},249:{index:"249",hex:"0x800000f9",symbol:"ECA",name:"Electra"},250:{index:"250",hex:"0x800000fa",symbol:"SOOM",name:"Soom"},251:{index:"251",hex:"0x800000fb",symbol:"XRD",name:"Redstone"},252:{index:"252",hex:"0x800000fc",symbol:"FREE",name:"FreeCoin"},253:{index:"253",hex:"0x800000fd",symbol:"NPW",name:"NewPowerCoin"},254:{index:"254",hex:"0x800000fe",symbol:"BST",name:"BlockStamp"},255:{index:"255",hex:"0x800000ff",symbol:"",name:"SmartHoldem"},256:{index:"256",hex:"0x80000100",symbol:"NANO",name:"Bitcoin Nano"},257:{index:"257",hex:"0x80000101",symbol:"BTCC",name:"Bitcoin Core"},258:{index:"258",hex:"0x80000102",symbol:"",name:"Zen Protocol"},259:{index:"259",hex:"0x80000103",symbol:"ZEST",name:"Zest"},260:{index:"260",hex:"0x80000104",symbol:"ABT",name:"ArcBlock"},261:{index:"261",hex:"0x80000105",symbol:"PION",name:"Pion"},262:{index:"262",hex:"0x80000106",symbol:"DT3",name:"DreamTeam3"},263:{index:"263",hex:"0x80000107",symbol:"ZBUX",name:"Zbux"},264:{index:"264",hex:"0x80000108",symbol:"KPL",name:"Kepler"},265:{index:"265",hex:"0x80000109",symbol:"TPAY",name:"TokenPay"},266:{index:"266",hex:"0x8000010a",symbol:"ZILLA",name:"ChainZilla"},267:{index:"267",hex:"0x8000010b",symbol:"ANK",name:"Anker"},268:{index:"268",hex:"0x8000010c",symbol:"BCC",name:"BCChain"},269:{index:"269",hex:"0x8000010d",symbol:"HPB",name:"HPB"},270:{index:"270",hex:"0x8000010e",symbol:"ONE",name:"ONE"},271:{index:"271",hex:"0x8000010f",symbol:"SBC",name:"SBC"},272:{index:"272",hex:"0x80000110",symbol:"IPC",name:"IPChain"},273:{index:"273",hex:"0x80000111",symbol:"DMTC",name:"Dominantchain"},274:{index:"274",hex:"0x80000112",symbol:"OGC",name:"Onegram"},275:{index:"275",hex:"0x80000113",symbol:"SHIT",name:"Shitcoin"},276:{index:"276",hex:"0x80000114",symbol:"ANDES",name:"Andescoin"},277:{index:"277",hex:"0x80000115",symbol:"AREPA",name:"Arepacoin"},278:{index:"278",hex:"0x80000116",symbol:"BOLI",name:"Bolivarcoin"},279:{index:"279",hex:"0x80000117",symbol:"RIL",name:"Rilcoin"},280:{index:"280",hex:"0x80000118",symbol:"HTR",name:"Hathor Network"},281:{index:"281",hex:"0x80000119",symbol:"ACME",name:"Accumulate"},282:{index:"282",hex:"0x8000011a",symbol:"BRAVO",name:"BRAVO"},283:{index:"283",hex:"0x8000011b",symbol:"ALGO",name:"Algorand"},284:{index:"284",hex:"0x8000011c",symbol:"BZX",name:"Bitcoinzero"},285:{index:"285",hex:"0x8000011d",symbol:"GXX",name:"GravityCoin"},286:{index:"286",hex:"0x8000011e",symbol:"HEAT",name:"HEAT"},287:{index:"287",hex:"0x8000011f",symbol:"XDN",name:"DigitalNote"},288:{index:"288",hex:"0x80000120",symbol:"FSN",name:"FUSION"},289:{index:"289",hex:"0x80000121",symbol:"CPC",name:"Capricoin"},290:{index:"290",hex:"0x80000122",symbol:"BOLD",name:"Bold"},291:{index:"291",hex:"0x80000123",symbol:"IOST",name:"IOST"},292:{index:"292",hex:"0x80000124",symbol:"TKEY",name:"Tkeycoin"},293:{index:"293",hex:"0x80000125",symbol:"USE",name:"Usechain"},294:{index:"294",hex:"0x80000126",symbol:"BCZ",name:"BitcoinCZ"},295:{index:"295",hex:"0x80000127",symbol:"IOC",name:"Iocoin"},296:{index:"296",hex:"0x80000128",symbol:"ASF",name:"Asofe"},297:{index:"297",hex:"0x80000129",symbol:"MASS",name:"MASS"},298:{index:"298",hex:"0x8000012a",symbol:"FAIR",name:"FairCoin"},299:{index:"299",hex:"0x8000012b",symbol:"NUKO",name:"Nekonium"},300:{index:"300",hex:"0x8000012c",symbol:"GNX",name:"Genaro Network"},301:{index:"301",hex:"0x8000012d",symbol:"DIVI",name:"Divi Project"},302:{index:"302",hex:"0x8000012e",symbol:"CMT",name:"Community"},303:{index:"303",hex:"0x8000012f",symbol:"EUNO",name:"EUNO"},304:{index:"304",hex:"0x80000130",symbol:"IOTX",name:"IoTeX"},305:{index:"305",hex:"0x80000131",symbol:"ONION",name:"DeepOnion"},306:{index:"306",hex:"0x80000132",symbol:"8BIT",name:"8Bit"},307:{index:"307",hex:"0x80000133",symbol:"ATC",name:"AToken Coin"},308:{index:"308",hex:"0x80000134",symbol:"BTS",name:"Bitshares"},309:{index:"309",hex:"0x80000135",symbol:"CKB",name:"Nervos CKB"},310:{index:"310",hex:"0x80000136",symbol:"UGAS",name:"Ultrain"},311:{index:"311",hex:"0x80000137",symbol:"ADS",name:"Adshares"},312:{index:"312",hex:"0x80000138",symbol:"ARA",name:"Aura"},313:{index:"313",hex:"0x80000139",symbol:"ZIL",name:"Zilliqa"},314:{index:"314",hex:"0x8000013a",symbol:"MOAC",name:"MOAC"},315:{index:"315",hex:"0x8000013b",symbol:"SWTC",name:"SWTC"},316:{index:"316",hex:"0x8000013c",symbol:"VNSC",name:"vnscoin"},317:{index:"317",hex:"0x8000013d",symbol:"PLUG",name:"Pl^g"},318:{index:"318",hex:"0x8000013e",symbol:"MAN",name:"Matrix AI Network"},319:{index:"319",hex:"0x8000013f",symbol:"ECC",name:"ECCoin"},320:{index:"320",hex:"0x80000140",symbol:"RPD",name:"Rapids"},321:{index:"321",hex:"0x80000141",symbol:"RAP",name:"Rapture"},322:{index:"322",hex:"0x80000142",symbol:"GARD",name:"Hashgard"},323:{index:"323",hex:"0x80000143",symbol:"ZER",name:"Zero"},324:{index:"324",hex:"0x80000144",symbol:"EBST",name:"eBoost"},325:{index:"325",hex:"0x80000145",symbol:"SHARD",name:"Shard"},326:{index:"326",hex:"0x80000146",symbol:"MRX",name:"Metrix Coin"},327:{index:"327",hex:"0x80000147",symbol:"CMM",name:"Commercium"},328:{index:"328",hex:"0x80000148",symbol:"BLOCK",name:"Blocknet"},329:{index:"329",hex:"0x80000149",symbol:"AUDAX",name:"AUDAX"},330:{index:"330",hex:"0x8000014a",symbol:"LUNA",name:"Terra"},331:{index:"331",hex:"0x8000014b",symbol:"ZPM",name:"zPrime"},332:{index:"332",hex:"0x8000014c",symbol:"KUVA",name:"Kuva Utility Note"},333:{index:"333",hex:"0x8000014d",symbol:"MEM",name:"MemCoin"},334:{index:"334",hex:"0x8000014e",symbol:"CS",name:"Credits"},335:{index:"335",hex:"0x8000014f",symbol:"SWIFT",name:"SwiftCash"},336:{index:"336",hex:"0x80000150",symbol:"FIX",name:"FIX"},337:{index:"337",hex:"0x80000151",symbol:"CPC",name:"CPChain"},338:{index:"338",hex:"0x80000152",symbol:"VGO",name:"VirtualGoodsToken"},339:{index:"339",hex:"0x80000153",symbol:"DVT",name:"DeVault"},340:{index:"340",hex:"0x80000154",symbol:"N8V",name:"N8VCoin"},341:{index:"341",hex:"0x80000155",symbol:"MTNS",name:"OmotenashiCoin"},342:{index:"342",hex:"0x80000156",symbol:"BLAST",name:"BLAST"},343:{index:"343",hex:"0x80000157",symbol:"DCT",name:"DECENT"},344:{index:"344",hex:"0x80000158",symbol:"AUX",name:"Auxilium"},345:{index:"345",hex:"0x80000159",symbol:"USDP",name:"USDP"},346:{index:"346",hex:"0x8000015a",symbol:"HTDF",name:"HTDF"},347:{index:"347",hex:"0x8000015b",symbol:"YEC",name:"Ycash"},348:{index:"348",hex:"0x8000015c",symbol:"QLC",name:"QLC Chain"},349:{index:"349",hex:"0x8000015d",symbol:"TEA",name:"Icetea Blockchain"},350:{index:"350",hex:"0x8000015e",symbol:"ARW",name:"ArrowChain"},351:{index:"351",hex:"0x8000015f",symbol:"MDM",name:"Medium"},352:{index:"352",hex:"0x80000160",symbol:"CYB",name:"Cybex"},353:{index:"353",hex:"0x80000161",symbol:"LTO",name:"LTO Network"},354:{index:"354",hex:"0x80000162",symbol:"DOT",name:"Polkadot"},355:{index:"355",hex:"0x80000163",symbol:"AEON",name:"Aeon"},356:{index:"356",hex:"0x80000164",symbol:"RES",name:"Resistance"},357:{index:"357",hex:"0x80000165",symbol:"AYA",name:"Aryacoin"},358:{index:"358",hex:"0x80000166",symbol:"DAPS",name:"Dapscoin"},359:{index:"359",hex:"0x80000167",symbol:"CSC",name:"CasinoCoin"},360:{index:"360",hex:"0x80000168",symbol:"VSYS",name:"V Systems"},361:{index:"361",hex:"0x80000169",symbol:"NOLLAR",name:"Nollar"},362:{index:"362",hex:"0x8000016a",symbol:"XNOS",name:"NOS"},363:{index:"363",hex:"0x8000016b",symbol:"CPU",name:"CPUchain"},364:{index:"364",hex:"0x8000016c",symbol:"LAMB",name:"Lambda Storage Chain"},365:{index:"365",hex:"0x8000016d",symbol:"VCT",name:"ValueCyber"},366:{index:"366",hex:"0x8000016e",symbol:"CZR",name:"Canonchain"},367:{index:"367",hex:"0x8000016f",symbol:"ABBC",name:"ABBC"},368:{index:"368",hex:"0x80000170",symbol:"HET",name:"HET"},369:{index:"369",hex:"0x80000171",symbol:"XAS",name:"Asch"},370:{index:"370",hex:"0x80000172",symbol:"VDL",name:"Vidulum"},371:{index:"371",hex:"0x80000173",symbol:"MED",name:"MediBloc"},372:{index:"372",hex:"0x80000174",symbol:"ZVC",name:"ZVChain"},373:{index:"373",hex:"0x80000175",symbol:"VESTX",name:"Vestx"},374:{index:"374",hex:"0x80000176",symbol:"DBT",name:"DarkBit"},375:{index:"375",hex:"0x80000177",symbol:"SEOS",name:"SuperEOS"},376:{index:"376",hex:"0x80000178",symbol:"MXW",name:"Maxonrow"},377:{index:"377",hex:"0x80000179",symbol:"ZNZ",name:"ZENZO"},378:{index:"378",hex:"0x8000017a",symbol:"XCX",name:"XChain"},379:{index:"379",hex:"0x8000017b",symbol:"SOX",name:"SonicX"},380:{index:"380",hex:"0x8000017c",symbol:"NYZO",name:"Nyzo"},381:{index:"381",hex:"0x8000017d",symbol:"ULC",name:"ULCoin"},382:{index:"382",hex:"0x8000017e",symbol:"RYO",name:"Ryo Currency"},383:{index:"383",hex:"0x8000017f",symbol:"KAL",name:"Kaleidochain"},384:{index:"384",hex:"0x80000180",symbol:"XSN",name:"Stakenet"},385:{index:"385",hex:"0x80000181",symbol:"DOGEC",name:"DogeCash"},386:{index:"386",hex:"0x80000182",symbol:"BMV",name:"Bitcoin Matteo's Vision"},387:{index:"387",hex:"0x80000183",symbol:"QBC",name:"Quebecoin"},388:{index:"388",hex:"0x80000184",symbol:"IMG",name:"ImageCoin"},389:{index:"389",hex:"0x80000185",symbol:"QOS",name:"QOS"},390:{index:"390",hex:"0x80000186",symbol:"PKT",name:"PKT"},391:{index:"391",hex:"0x80000187",symbol:"LHD",name:"LitecoinHD"},392:{index:"392",hex:"0x80000188",symbol:"CENNZ",name:"CENNZnet"},393:{index:"393",hex:"0x80000189",symbol:"HSN",name:"Hyper Speed Network"},394:{index:"394",hex:"0x8000018a",symbol:"CRO",name:"Crypto Chain"},395:{index:"395",hex:"0x8000018b",symbol:"UMBRU",name:"Umbru"},396:{index:"396",hex:"0x8000018c",symbol:"EVER",name:"Everscale"},397:{index:"397",hex:"0x8000018d",symbol:"NEAR",name:"NEAR Protocol"},398:{index:"398",hex:"0x8000018e",symbol:"XPC",name:"XPChain"},399:{index:"399",hex:"0x8000018f",symbol:"ZOC",name:"01coin"},400:{index:"400",hex:"0x80000190",symbol:"NIX",name:"NIX"},401:{index:"401",hex:"0x80000191",symbol:"UC",name:"Utopiacoin"},402:{index:"402",hex:"0x80000192",symbol:"GALI",name:"Galilel"},403:{index:"403",hex:"0x80000193",symbol:"OLT",name:"Oneledger"},404:{index:"404",hex:"0x80000194",symbol:"XBI",name:"XBI"},405:{index:"405",hex:"0x80000195",symbol:"DONU",name:"DONU"},406:{index:"406",hex:"0x80000196",symbol:"EARTHS",name:"Earths"},407:{index:"407",hex:"0x80000197",symbol:"HDD",name:"HDDCash"},408:{index:"408",hex:"0x80000198",symbol:"SUGAR",name:"Sugarchain"},409:{index:"409",hex:"0x80000199",symbol:"AILE",name:"AileCoin"},410:{index:"410",hex:"0x8000019a",symbol:"TENT",name:"TENT"},411:{index:"411",hex:"0x8000019b",symbol:"TAN",name:"Tangerine Network"},412:{index:"412",hex:"0x8000019c",symbol:"AIN",name:"AIN"},413:{index:"413",hex:"0x8000019d",symbol:"MSR",name:"Masari"},414:{index:"414",hex:"0x8000019e",symbol:"SUMO",name:"Sumokoin"},415:{index:"415",hex:"0x8000019f",symbol:"ETN",name:"Electroneum"},416:{index:"416",hex:"0x800001a0",symbol:"BYTZ",name:"BYTZ"},417:{index:"417",hex:"0x800001a1",symbol:"WOW",name:"Wownero"},418:{index:"418",hex:"0x800001a2",symbol:"XTNC",name:"XtendCash"},419:{index:"419",hex:"0x800001a3",symbol:"LTHN",name:"Lethean"},420:{index:"420",hex:"0x800001a4",symbol:"NODE",name:"NodeHost"},421:{index:"421",hex:"0x800001a5",symbol:"AGM",name:"Argoneum"},422:{index:"422",hex:"0x800001a6",symbol:"CCX",name:"Conceal Network"},423:{index:"423",hex:"0x800001a7",symbol:"TNET",name:"Title Network"},424:{index:"424",hex:"0x800001a8",symbol:"TELOS",name:"TelosCoin"},425:{index:"425",hex:"0x800001a9",symbol:"AION",name:"Aion"},426:{index:"426",hex:"0x800001aa",symbol:"BC",name:"Bitcoin Confidential"},427:{index:"427",hex:"0x800001ab",symbol:"KTV",name:"KmushiCoin"},428:{index:"428",hex:"0x800001ac",symbol:"ZCR",name:"ZCore"},429:{index:"429",hex:"0x800001ad",symbol:"ERG",name:"Ergo"},430:{index:"430",hex:"0x800001ae",symbol:"PESO",name:"Criptopeso"},431:{index:"431",hex:"0x800001af",symbol:"BTC2",name:"Bitcoin 2"},432:{index:"432",hex:"0x800001b0",symbol:"XRPHD",name:"XRPHD"},433:{index:"433",hex:"0x800001b1",symbol:"WE",name:"WE Coin"},434:{index:"434",hex:"0x800001b2",symbol:"KSM",name:"Kusama"},435:{index:"435",hex:"0x800001b3",symbol:"PCN",name:"Peepcoin"},436:{index:"436",hex:"0x800001b4",symbol:"NCH",name:"NetCloth"},437:{index:"437",hex:"0x800001b5",symbol:"ICU",name:"CHIPO"},438:{index:"438",hex:"0x800001b6",symbol:"FNSA",name:"FINSCHIA"},439:{index:"439",hex:"0x800001b7",symbol:"DTP",name:"DeVault Token Protocol"},440:{index:"440",hex:"0x800001b8",symbol:"BTCR",name:"Bitcoin Royale"},441:{index:"441",hex:"0x800001b9",symbol:"AERGO",name:"AERGO"},442:{index:"442",hex:"0x800001ba",symbol:"XTH",name:"Dothereum"},443:{index:"443",hex:"0x800001bb",symbol:"LV",name:"Lava"},444:{index:"444",hex:"0x800001bc",symbol:"PHR",name:"Phore"},445:{index:"445",hex:"0x800001bd",symbol:"VITAE",name:"Vitae"},446:{index:"446",hex:"0x800001be",symbol:"COCOS",name:"Cocos-BCX"},447:{index:"447",hex:"0x800001bf",symbol:"DIN",name:"Dinero"},448:{index:"448",hex:"0x800001c0",symbol:"SPL",name:"Simplicity"},449:{index:"449",hex:"0x800001c1",symbol:"YCE",name:"MYCE"},450:{index:"450",hex:"0x800001c2",symbol:"XLR",name:"Solaris"},451:{index:"451",hex:"0x800001c3",symbol:"KTS",name:"Klimatas"},452:{index:"452",hex:"0x800001c4",symbol:"DGLD",name:"DGLD"},453:{index:"453",hex:"0x800001c5",symbol:"XNS",name:"Insolar"},454:{index:"454",hex:"0x800001c6",symbol:"EM",name:"EMPOW"},455:{index:"455",hex:"0x800001c7",symbol:"SHN",name:"ShineBlocks"},456:{index:"456",hex:"0x800001c8",symbol:"SEELE",name:"Seele"},457:{index:"457",hex:"0x800001c9",symbol:"AE",name:"æternity"},458:{index:"458",hex:"0x800001ca",symbol:"ODX",name:"ObsidianX"},459:{index:"459",hex:"0x800001cb",symbol:"KAVA",name:"Kava"},460:{index:"460",hex:"0x800001cc",symbol:"GLEEC",name:"GLEEC"},461:{index:"461",hex:"0x800001cd",symbol:"FIL",name:"Filecoin"},462:{index:"462",hex:"0x800001ce",symbol:"RUTA",name:"Rutanio"},463:{index:"463",hex:"0x800001cf",symbol:"CSDT",name:"CSDT"},464:{index:"464",hex:"0x800001d0",symbol:"ETI",name:"EtherInc"},465:{index:"465",hex:"0x800001d1",symbol:"ZSLP",name:"Zclassic Simple Ledger Protocol"},466:{index:"466",hex:"0x800001d2",symbol:"ERE",name:"EtherCore"},467:{index:"467",hex:"0x800001d3",symbol:"DX",name:"DxChain Token"},468:{index:"468",hex:"0x800001d4",symbol:"CPS",name:"Capricoin+"},469:{index:"469",hex:"0x800001d5",symbol:"BTH",name:"Bithereum"},470:{index:"470",hex:"0x800001d6",symbol:"MESG",name:"MESG"},471:{index:"471",hex:"0x800001d7",symbol:"FIMK",name:"FIMK"},472:{index:"472",hex:"0x800001d8",symbol:"AR",name:"Arweave"},473:{index:"473",hex:"0x800001d9",symbol:"OGO",name:"Origo"},474:{index:"474",hex:"0x800001da",symbol:"ROSE",name:"Oasis Network"},475:{index:"475",hex:"0x800001db",symbol:"BARE",name:"BARE Network"},476:{index:"476",hex:"0x800001dc",symbol:"GLEEC",name:"GleecBTC"},477:{index:"477",hex:"0x800001dd",symbol:"CLR",name:"Color Coin"},478:{index:"478",hex:"0x800001de",symbol:"RNG",name:"Ring"},479:{index:"479",hex:"0x800001df",symbol:"OLO",name:"Tool Global"},480:{index:"480",hex:"0x800001e0",symbol:"PEXA",name:"Pexa"},481:{index:"481",hex:"0x800001e1",symbol:"MOON",name:"Mooncoin"},482:{index:"482",hex:"0x800001e2",symbol:"OCEAN",name:"Ocean Protocol"},483:{index:"483",hex:"0x800001e3",symbol:"BNT",name:"Bluzelle Native"},484:{index:"484",hex:"0x800001e4",symbol:"AMO",name:"AMO Blockchain"},485:{index:"485",hex:"0x800001e5",symbol:"FCH",name:"FreeCash"},486:{index:"486",hex:"0x800001e6",symbol:"LAT",name:"PlatON"},487:{index:"487",hex:"0x800001e7",symbol:"COIN",name:"Bitcoin Bank"},488:{index:"488",hex:"0x800001e8",symbol:"VEO",name:"Amoveo"},489:{index:"489",hex:"0x800001e9",symbol:"CCA",name:"Counos Coin"},490:{index:"490",hex:"0x800001ea",symbol:"GFN",name:"Graphene"},491:{index:"491",hex:"0x800001eb",symbol:"BIP",name:"Minter Network"},492:{index:"492",hex:"0x800001ec",symbol:"KPG",name:"Kunpeng Network"},493:{index:"493",hex:"0x800001ed",symbol:"FIN",name:"FINL Chain"},494:{index:"494",hex:"0x800001ee",symbol:"BAND",name:"Band"},495:{index:"495",hex:"0x800001ef",symbol:"DROP",name:"Dropil"},496:{index:"496",hex:"0x800001f0",symbol:"BHT",name:"Bluehelix Chain"},497:{index:"497",hex:"0x800001f1",symbol:"LYRA",name:"Scrypta"},498:{index:"498",hex:"0x800001f2",symbol:"CS",name:"Credits"},499:{index:"499",hex:"0x800001f3",symbol:"RUPX",name:"Rupaya"},500:{index:"500",hex:"0x800001f4",symbol:"THETA",name:"Theta"},501:{index:"501",hex:"0x800001f5",symbol:"SOL",name:"Solana"},502:{index:"502",hex:"0x800001f6",symbol:"THT",name:"ThoughtAI"},503:{index:"503",hex:"0x800001f7",symbol:"CFX",name:"Conflux"},504:{index:"504",hex:"0x800001f8",symbol:"KUMA",name:"Kumacoin"},505:{index:"505",hex:"0x800001f9",symbol:"HASH",name:"Provenance"},506:{index:"506",hex:"0x800001fa",symbol:"CSPR",name:"Casper"},507:{index:"507",hex:"0x800001fb",symbol:"EARTH",name:"EARTH"},508:{index:"508",hex:"0x800001fc",symbol:"EGLD",name:"MultiversX"},509:{index:"509",hex:"0x800001fd",symbol:"CHI",name:"Xaya"},510:{index:"510",hex:"0x800001fe",symbol:"KOTO",name:"Koto"},511:{index:"511",hex:"0x800001ff",symbol:"OTC",name:"θ"},512:{index:"512",hex:"0x80000200",symbol:"RXD",name:"Radiant"},513:{index:"513",hex:"0x80000201",symbol:"SEELEN",name:"Seele-N"},514:{index:"514",hex:"0x80000202",symbol:"AETH",name:"AETH"},515:{index:"515",hex:"0x80000203",symbol:"DNA",name:"Idena"},516:{index:"516",hex:"0x80000204",symbol:"VEE",name:"Virtual Economy Era"},517:{index:"517",hex:"0x80000205",symbol:"SIERRA",name:"SierraCoin"},518:{index:"518",hex:"0x80000206",symbol:"LET",name:"Linkeye"},519:{index:"519",hex:"0x80000207",symbol:"BSC",name:"Bitcoin Smart Contract"},520:{index:"520",hex:"0x80000208",symbol:"BTCV",name:"BitcoinVIP"},521:{index:"521",hex:"0x80000209",symbol:"ABA",name:"Dabacus"},522:{index:"522",hex:"0x8000020a",symbol:"SCC",name:"StakeCubeCoin"},523:{index:"523",hex:"0x8000020b",symbol:"EDG",name:"Edgeware"},524:{index:"524",hex:"0x8000020c",symbol:"AMS",name:"AmsterdamCoin"},525:{index:"525",hex:"0x8000020d",symbol:"GOSS",name:"GOSSIP Coin"},526:{index:"526",hex:"0x8000020e",symbol:"BU",name:"BUMO"},527:{index:"527",hex:"0x8000020f",symbol:"GRAM",name:"GRAM"},528:{index:"528",hex:"0x80000210",symbol:"YAP",name:"Yapstone"},529:{index:"529",hex:"0x80000211",symbol:"SCRT",name:"Secret Network"},530:{index:"530",hex:"0x80000212",symbol:"NOVO",name:"Novo"},531:{index:"531",hex:"0x80000213",symbol:"GHOST",name:"Ghost"},532:{index:"532",hex:"0x80000214",symbol:"HST",name:"HST"},533:{index:"533",hex:"0x80000215",symbol:"PRJ",name:"ProjectCoin"},534:{index:"534",hex:"0x80000216",symbol:"YOU",name:"YOUChain"},535:{index:"535",hex:"0x80000217",symbol:"XHV",name:"Haven Protocol"},536:{index:"536",hex:"0x80000218",symbol:"BYND",name:"Beyondcoin"},537:{index:"537",hex:"0x80000219",symbol:"JOYS",name:"Joys Digital"},538:{index:"538",hex:"0x8000021a",symbol:"VAL",name:"Valorbit"},539:{index:"539",hex:"0x8000021b",symbol:"FLOW",name:"Flow"},540:{index:"540",hex:"0x8000021c",symbol:"SMESH",name:"Spacemesh Coin"},541:{index:"541",hex:"0x8000021d",symbol:"SCDO",name:"SCDO"},542:{index:"542",hex:"0x8000021e",symbol:"IQS",name:"IQ-Cash"},543:{index:"543",hex:"0x8000021f",symbol:"BIND",name:"Compendia"},544:{index:"544",hex:"0x80000220",symbol:"COINEVO",name:"Coinevo"},545:{index:"545",hex:"0x80000221",symbol:"SCRIBE",name:"Scribe"},546:{index:"546",hex:"0x80000222",symbol:"HYN",name:"Hyperion"},547:{index:"547",hex:"0x80000223",symbol:"BHP",name:"BHP"},548:{index:"548",hex:"0x80000224",symbol:"BBC",name:"BigBang Core"},549:{index:"549",hex:"0x80000225",symbol:"MKF",name:"MarketFinance"},550:{index:"550",hex:"0x80000226",symbol:"XDC",name:"XinFin"},551:{index:"551",hex:"0x80000227",symbol:"STR",name:"Straightedge"},552:{index:"552",hex:"0x80000228",symbol:"SUM",name:"Sumcoin"},553:{index:"553",hex:"0x80000229",symbol:"HBC",name:"HuobiChain"},555:{index:"555",hex:"0x8000022b",symbol:"BCS",name:"Bitcoin Smart"},556:{index:"556",hex:"0x8000022c",symbol:"KTS",name:"Kratos"},557:{index:"557",hex:"0x8000022d",symbol:"LKR",name:"Lkrcoin"},558:{index:"558",hex:"0x8000022e",symbol:"TAO",name:"Tao"},559:{index:"559",hex:"0x8000022f",symbol:"XWC",name:"Whitecoin"},560:{index:"560",hex:"0x80000230",symbol:"DEAL",name:"DEAL"},561:{index:"561",hex:"0x80000231",symbol:"NTY",name:"Nexty"},562:{index:"562",hex:"0x80000232",symbol:"TOP",name:"TOP NetWork"},564:{index:"564",hex:"0x80000234",symbol:"AG",name:"Agoric"},565:{index:"565",hex:"0x80000235",symbol:"CICO",name:"Coinicles"},566:{index:"566",hex:"0x80000236",symbol:"IRIS",name:"Irisnet"},567:{index:"567",hex:"0x80000237",symbol:"NCG",name:"Nine Chronicles"},568:{index:"568",hex:"0x80000238",symbol:"LRG",name:"Large Coin"},569:{index:"569",hex:"0x80000239",symbol:"SERO",name:"Super Zero Protocol"},570:{index:"570",hex:"0x8000023a",symbol:"BDX",name:"Beldex"},571:{index:"571",hex:"0x8000023b",symbol:"CCXX",name:"Counos X"},572:{index:"572",hex:"0x8000023c",symbol:"SLS",name:"Saluscoin"},573:{index:"573",hex:"0x8000023d",symbol:"SRM",name:"Serum"},575:{index:"575",hex:"0x8000023f",symbol:"VIVT",name:"VIDT Datalink"},576:{index:"576",hex:"0x80000240",symbol:"BPS",name:"BitcoinPoS"},577:{index:"577",hex:"0x80000241",symbol:"NKN",name:"NKN"},578:{index:"578",hex:"0x80000242",symbol:"ICL",name:"ILCOIN"},579:{index:"579",hex:"0x80000243",symbol:"BONO",name:"Bonorum"},580:{index:"580",hex:"0x80000244",symbol:"PLC",name:"PLATINCOIN"},581:{index:"581",hex:"0x80000245",symbol:"DUN",name:"Dune"},582:{index:"582",hex:"0x80000246",symbol:"DMCH",name:"Darmacash"},583:{index:"583",hex:"0x80000247",symbol:"CTC",name:"Creditcoin"},584:{index:"584",hex:"0x80000248",symbol:"KELP",name:"Haidai Network"},585:{index:"585",hex:"0x80000249",symbol:"GBCR",name:"GoldBCR"},586:{index:"586",hex:"0x8000024a",symbol:"XDAG",name:"XDAG"},587:{index:"587",hex:"0x8000024b",symbol:"PRV",name:"Incognito Privacy"},588:{index:"588",hex:"0x8000024c",symbol:"SCAP",name:"SafeCapital"},589:{index:"589",hex:"0x8000024d",symbol:"TFUEL",name:"Theta Fuel"},590:{index:"590",hex:"0x8000024e",symbol:"GTM",name:"Gentarium"},591:{index:"591",hex:"0x8000024f",symbol:"RNL",name:"RentalChain"},592:{index:"592",hex:"0x80000250",symbol:"GRIN",name:"Grin"},593:{index:"593",hex:"0x80000251",symbol:"MWC",name:"MimbleWimbleCoin"},594:{index:"594",hex:"0x80000252",symbol:"DOCK",name:"Dock"},595:{index:"595",hex:"0x80000253",symbol:"POLYX",name:"Polymesh"},596:{index:"596",hex:"0x80000254",symbol:"DIVER",name:"Divergenti"},597:{index:"597",hex:"0x80000255",symbol:"XEP",name:"Electra Protocol"},598:{index:"598",hex:"0x80000256",symbol:"APN",name:"Apron"},599:{index:"599",hex:"0x80000257",symbol:"TFC",name:"Turbo File Coin"},600:{index:"600",hex:"0x80000258",symbol:"UTE",name:"Unit-e"},601:{index:"601",hex:"0x80000259",symbol:"MTC",name:"Metacoin"},602:{index:"602",hex:"0x8000025a",symbol:"NC",name:"NobodyCash"},603:{index:"603",hex:"0x8000025b",symbol:"XINY",name:"Xinyuehu"},604:{index:"604",hex:"0x8000025c",symbol:"DYN",name:"Dynamo"},605:{index:"605",hex:"0x8000025d",symbol:"BUFS",name:"Buffer"},606:{index:"606",hex:"0x8000025e",symbol:"STOS",name:"Stratos"},607:{index:"607",hex:"0x8000025f",symbol:"TON",name:"TON"},608:{index:"608",hex:"0x80000260",symbol:"TAFT",name:"TAFT"},609:{index:"609",hex:"0x80000261",symbol:"HYDRA",name:"HYDRA"},610:{index:"610",hex:"0x80000262",symbol:"NOR",name:"Noir"},611:{index:"611",hex:"0x80000263",symbol:"",name:"Manta Network Private Asset"},612:{index:"612",hex:"0x80000264",symbol:"",name:"Calamari Network Private Asset"},613:{index:"613",hex:"0x80000265",symbol:"WCN",name:"Widecoin"},614:{index:"614",hex:"0x80000266",symbol:"OPT",name:"Optimistic Ethereum"},615:{index:"615",hex:"0x80000267",symbol:"PSWAP",name:"PolkaSwap"},616:{index:"616",hex:"0x80000268",symbol:"VAL",name:"Validator"},617:{index:"617",hex:"0x80000269",symbol:"XOR",name:"Sora"},618:{index:"618",hex:"0x8000026a",symbol:"SSP",name:"SmartShare"},619:{index:"619",hex:"0x8000026b",symbol:"DEI",name:"DeimosX"},621:{index:"621",hex:"0x8000026d",symbol:"ZERO",name:"Singularity"},622:{index:"622",hex:"0x8000026e",symbol:"ALPHA",name:"AlphaDAO"},623:{index:"623",hex:"0x8000026f",symbol:"BDECO",name:"BDCashProtocol Ecosystem"},624:{index:"624",hex:"0x80000270",symbol:"NOBL",name:"Nobility"},625:{index:"625",hex:"0x80000271",symbol:"EAST",name:"Eastcoin"},626:{index:"626",hex:"0x80000272",symbol:"KDA",name:"Kadena"},627:{index:"627",hex:"0x80000273",symbol:"SOUL",name:"Phantasma"},628:{index:"628",hex:"0x80000274",symbol:"LORE",name:"Gitopia"},629:{index:"629",hex:"0x80000275",symbol:"FNR",name:"Fincor"},630:{index:"630",hex:"0x80000276",symbol:"NEXUS",name:"Nexus"},631:{index:"631",hex:"0x80000277",symbol:"QTZ",name:"Quartz"},632:{index:"632",hex:"0x80000278",symbol:"MAS",name:"Massa"},633:{index:"633",hex:"0x80000279",symbol:"CALL",name:"Callchain"},634:{index:"634",hex:"0x8000027a",symbol:"VAL",name:"Validity"},635:{index:"635",hex:"0x8000027b",symbol:"POKT",name:"Pocket Network"},636:{index:"636",hex:"0x8000027c",symbol:"EMIT",name:"EMIT"},637:{index:"637",hex:"0x8000027d",symbol:"APTOS",name:"Aptos"},638:{index:"638",hex:"0x8000027e",symbol:"ADON",name:"ADON"},639:{index:"639",hex:"0x8000027f",symbol:"BTSG",name:"BitSong"},640:{index:"640",hex:"0x80000280",symbol:"LFC",name:"Leofcoin"},641:{index:"641",hex:"0x80000281",symbol:"KCS",name:"KuCoin Shares"},642:{index:"642",hex:"0x80000282",symbol:"KCC",name:"KuCoin Community Chain"},643:{index:"643",hex:"0x80000283",symbol:"AZERO",name:"Aleph Zero"},644:{index:"644",hex:"0x80000284",symbol:"TREE",name:"Tree"},645:{index:"645",hex:"0x80000285",symbol:"LX",name:"Lynx"},646:{index:"646",hex:"0x80000286",symbol:"XLN",name:"Lunarium"},647:{index:"647",hex:"0x80000287",symbol:"CIC",name:"CIC Chain"},648:{index:"648",hex:"0x80000288",symbol:"ZRB",name:"Zarb"},650:{index:"650",hex:"0x8000028a",symbol:"UCO",name:"Archethic"},651:{index:"651",hex:"0x8000028b",symbol:"SFX",name:"Safex Cash"},652:{index:"652",hex:"0x8000028c",symbol:"SFT",name:"Safex Token"},653:{index:"653",hex:"0x8000028d",symbol:"WSFX",name:"Wrapped Safex Cash"},654:{index:"654",hex:"0x8000028e",symbol:"USDG",name:"US Digital Gold"},655:{index:"655",hex:"0x8000028f",symbol:"WMP",name:"WAMP"},656:{index:"656",hex:"0x80000290",symbol:"EKTA",name:"Ekta"},657:{index:"657",hex:"0x80000291",symbol:"YDA",name:"YadaCoin"},658:{index:"658",hex:"0x80000292",symbol:"WHIVE",name:"Whive"},659:{index:"659",hex:"0x80000293",symbol:"KOIN",name:"Koinos"},660:{index:"660",hex:"0x80000294",symbol:"PIRATE",name:"PirateCash"},661:{index:"661",hex:"0x80000295",symbol:"UNQ",name:"Unique"},662:{index:"662",hex:"0x80000296",symbol:"ULM",name:"UltonSmartchain"},663:{index:"663",hex:"0x80000297",symbol:"SFRX",name:"EtherGem Sapphire"},664:{index:"664",hex:"0x80000298",symbol:"BSTY",name:"GlobalBoost-Y"},665:{index:"665",hex:"0x80000299",symbol:"IMP",name:"Impact Protocol"},666:{index:"666",hex:"0x8000029a",symbol:"ACT",name:"Achain"},667:{index:"667",hex:"0x8000029b",symbol:"PRKL",name:"Perkle"},668:{index:"668",hex:"0x8000029c",symbol:"SSC",name:"SelfSell"},669:{index:"669",hex:"0x8000029d",symbol:"GC",name:"GateChain"},670:{index:"670",hex:"0x8000029e",symbol:"PLGR",name:"Pledger"},671:{index:"671",hex:"0x8000029f",symbol:"MPLGR",name:"Pledger"},672:{index:"672",hex:"0x800002a0",symbol:"KNOX",name:"Knox"},673:{index:"673",hex:"0x800002a1",symbol:"ZED",name:"ZED"},674:{index:"674",hex:"0x800002a2",symbol:"CNDL",name:"Candle"},675:{index:"675",hex:"0x800002a3",symbol:"WLKR",name:"Walker Crypto Innovation Index"},676:{index:"676",hex:"0x800002a4",symbol:"WLKRR",name:"Walker"},677:{index:"677",hex:"0x800002a5",symbol:"YUNGE",name:"Yunge"},678:{index:"678",hex:"0x800002a6",symbol:"Voken",name:"Voken"},679:{index:"679",hex:"0x800002a7",symbol:"APL",name:"Apollo"},680:{index:"680",hex:"0x800002a8",symbol:"Evrynet",name:"Evrynet"},681:{index:"681",hex:"0x800002a9",symbol:"NENG",name:"Nengcoin"},682:{index:"682",hex:"0x800002aa",symbol:"CHTA",name:"Cheetahcoin"},683:{index:"683",hex:"0x800002ab",symbol:"ALEO",name:"Aleo Network"},684:{index:"684",hex:"0x800002ac",symbol:"HMS",name:"Hemis"},685:{index:"685",hex:"0x800002ad",symbol:"OAS",name:"Oasys"},686:{index:"686",hex:"0x800002ae",symbol:"KAR",name:"Karura Network"},687:{index:"687",hex:"0x800002af",symbol:"FLON",name:"FullOn Network"},688:{index:"688",hex:"0x800002b0",symbol:"CET",name:"CoinEx Chain"},689:{index:"689",hex:"0x800002b1",symbol:"XLINK",name:"XLink Chain"},690:{index:"690",hex:"0x800002b2",symbol:"KLV",name:"KleverChain"},691:{index:"691",hex:"0x800002b3",symbol:"TNT",name:"Tangle"},692:{index:"692",hex:"0x800002b4",symbol:"GTG",name:"Gotigin"},693:{index:"693",hex:"0x800002b5",symbol:"NET",name:"RealityNet"},694:{index:"694",hex:"0x800002b6",symbol:"VTBC",name:"VTB Community"},695:{index:"695",hex:"0x800002b7",symbol:"DIONE",name:"Odyssey Chain"},696:{index:"696",hex:"0x800002b8",symbol:"LUM",name:"Lumos"},697:{index:"697",hex:"0x800002b9",symbol:"AVA",name:"Avalon"},698:{index:"698",hex:"0x800002ba",symbol:"VEIL",name:"Veil"},699:{index:"699",hex:"0x800002bb",symbol:"GTB",name:"GotaBit"},700:{index:"700",hex:"0x800002bc",symbol:"XDAI",name:"xDai"},701:{index:"701",hex:"0x800002bd",symbol:"COM",name:"Commercio"},702:{index:"702",hex:"0x800002be",symbol:"CCC",name:"Commercio Cash Credit"},703:{index:"703",hex:"0x800002bf",symbol:"SNR",name:"Sonr"},704:{index:"704",hex:"0x800002c0",symbol:"RAQ",name:"Ra Quantum"},705:{index:"705",hex:"0x800002c1",symbol:"PEG",name:"Pegasus Token"},706:{index:"706",hex:"0x800002c2",symbol:"LKG",name:"Lionking"},707:{index:"707",hex:"0x800002c3",symbol:"MCOIN",name:"Moneta Coin"},709:{index:"709",hex:"0x800002c5",symbol:"AVAIL",name:"Avail"},710:{index:"710",hex:"0x800002c6",symbol:"FURY",name:"Highbury"},711:{index:"711",hex:"0x800002c7",symbol:"CHC",name:"Chaincoin"},712:{index:"712",hex:"0x800002c8",symbol:"SERF",name:"Serfnet"},713:{index:"713",hex:"0x800002c9",symbol:"XTL",name:"Katal Chain"},714:{index:"714",hex:"0x800002ca",symbol:"BNB",name:"Binance"},715:{index:"715",hex:"0x800002cb",symbol:"SIN",name:"Sinovate"},716:{index:"716",hex:"0x800002cc",symbol:"DLN",name:"Delion"},717:{index:"717",hex:"0x800002cd",symbol:"BONTE",name:"Bontecoin"},718:{index:"718",hex:"0x800002ce",symbol:"PEER",name:"Peer"},719:{index:"719",hex:"0x800002cf",symbol:"ZET",name:"Zetacoin"},720:{index:"720",hex:"0x800002d0",symbol:"ABY",name:"Artbyte"},721:{index:"721",hex:"0x800002d1",symbol:"PGX",name:"Mirai Chain"},722:{index:"722",hex:"0x800002d2",symbol:"IL8P",name:"InfiniLooP"},723:{index:"723",hex:"0x800002d3",symbol:"VOI",name:"Voi"},724:{index:"724",hex:"0x800002d4",symbol:"XVC",name:"Vanillacash"},725:{index:"725",hex:"0x800002d5",symbol:"MCX",name:"MultiCash"},726:{index:"726",hex:"0x800002d6",symbol:"TARA",name:"Taraxa"},727:{index:"727",hex:"0x800002d7",symbol:"BLU",name:"BluCrates"},728:{index:"728",hex:"0x800002d8",symbol:"BFC",name:"BFC"},729:{index:"729",hex:"0x800002d9",symbol:"DCC",name:"DecentraCast"},730:{index:"730",hex:"0x800002da",symbol:"HEALIOS",name:"Tenacity"},731:{index:"731",hex:"0x800002db",symbol:"BMK",name:"Bitmark"},732:{index:"732",hex:"0x800002dc",symbol:"FUGA",name:"Fuga token"},733:{index:"733",hex:"0x800002dd",symbol:"TBC",name:"TBChat"},734:{index:"734",hex:"0x800002de",symbol:"DENTX",name:"DENTNet"},735:{index:"735",hex:"0x800002df",symbol:"NBY",name:"Neobytes"},736:{index:"736",hex:"0x800002e0",symbol:"BABY",name:"BABY"},737:{index:"737",hex:"0x800002e1",symbol:"ATOP",name:"Financial Blockchain"},738:{index:"738",hex:"0x800002e2",symbol:"BTE",name:"Bitweb"},739:{index:"739",hex:"0x800002e3",symbol:"DPC",name:"Dpowcoin (DualPowCoin)"},740:{index:"740",hex:"0x800002e4",symbol:"MDC",name:"MyDataCoin"},741:{index:"741",hex:"0x800002e5",symbol:"RIV",name:"Rigvid"},742:{index:"742",hex:"0x800002e6",symbol:"LTO",name:"LTO Network"},743:{index:"743",hex:"0x800002e7",symbol:"LKY",name:"LuckyCoin"},744:{index:"744",hex:"0x800002e8",symbol:"DUSK",name:"Dusk"},745:{index:"745",hex:"0x800002e9",symbol:"DIMI",name:"DiminutiveCoin"},747:{index:"747",hex:"0x800002eb",symbol:"CFG",name:"Centrifuge"},750:{index:"750",hex:"0x800002ee",symbol:"XPRT",name:"Persistence"},753:{index:"753",hex:"0x800002f1",symbol:"",name:"Age X25519 Encryption"},754:{index:"754",hex:"0x800002f2",symbol:"",name:"Age NIST Encryption"},757:{index:"757",hex:"0x800002f5",symbol:"HONEY",name:"HoneyWood"},758:{index:"758",hex:"0x800002f6",symbol:"XDD",name:"XDDCoin"},759:{index:"759",hex:"0x800002f7",symbol:"TBI",name:"TBicloud"},765:{index:"765",hex:"0x800002fd",symbol:"TGN",name:"Tagion"},767:{index:"767",hex:"0x800002ff",symbol:"LLD",name:"Liberland"},768:{index:"768",hex:"0x80000300",symbol:"BALLZ",name:"Ballzcoin"},770:{index:"770",hex:"0x80000302",symbol:"COSA",name:"Cosanta"},771:{index:"771",hex:"0x80000303",symbol:"BR",name:"BR"},773:{index:"773",hex:"0x80000305",symbol:"CSB",name:"CosmoBliss"},775:{index:"775",hex:"0x80000307",symbol:"PLSR",name:"Pulsar Coin"},776:{index:"776",hex:"0x80000308",symbol:"KEY",name:"Keymaker Coin"},777:{index:"777",hex:"0x80000309",symbol:"BTW",name:"Bitcoin World"},779:{index:"779",hex:"0x8000030b",symbol:"UCHAIN",name:"UCHAIN"},780:{index:"780",hex:"0x8000030c",symbol:"PLCUC",name:"PLC Ultima Classic"},781:{index:"781",hex:"0x8000030d",symbol:"PLCUX",name:"PLC Ultima X"},782:{index:"782",hex:"0x8000030e",symbol:"PLCU",name:"PLC Ultima"},783:{index:"783",hex:"0x8000030f",symbol:"SMARTBC",name:"SMART Blockchain"},784:{index:"784",hex:"0x80000310",symbol:"SUI",name:"Sui"},785:{index:"785",hex:"0x80000311",symbol:"ULTIMA",name:"ULTIMA"},786:{index:"786",hex:"0x80000312",symbol:"UIDD",name:"UIDD"},787:{index:"787",hex:"0x80000313",symbol:"ACA",name:"Acala"},788:{index:"788",hex:"0x80000314",symbol:"BNC",name:"Bifrost"},789:{index:"789",hex:"0x80000315",symbol:"TAU",name:"Lamden"},790:{index:"790",hex:"0x80000316",symbol:"LKY",name:"Luckycoin"},791:{index:"791",hex:"0x80000317",symbol:"SOMA",name:"Soma"},794:{index:"794",hex:"0x8000031a",symbol:"INTR",name:"Interlay"},795:{index:"795",hex:"0x8000031b",symbol:"KINT",name:"Kintsugi"},799:{index:"799",hex:"0x8000031f",symbol:"PDEX",name:"Polkadex"},800:{index:"800",hex:"0x80000320",symbol:"BEET",name:"Beetle Coin"},801:{index:"801",hex:"0x80000321",symbol:"DST",name:"DSTRA"},802:{index:"802",hex:"0x80000322",symbol:"CY",name:"Cyberyen"},803:{index:"803",hex:"0x80000323",symbol:"RYME",name:"Ryme Network"},804:{index:"804",hex:"0x80000324",symbol:"ZKS",name:"zkSync"},805:{index:"805",hex:"0x80000325",symbol:"SCASH",name:"Scash"},808:{index:"808",hex:"0x80000328",symbol:"QVT",name:"Qvolta"},809:{index:"809",hex:"0x80000329",symbol:"SDN",name:"Shiden Network"},810:{index:"810",hex:"0x8000032a",symbol:"ASTR",name:"Astar Network"},813:{index:"813",hex:"0x8000032d",symbol:"MEER",name:"Qitmeer"},815:{index:"815",hex:"0x8000032f",symbol:"FACT",name:"ImFACT"},816:{index:"816",hex:"0x80000330",symbol:"FSC",name:"FSC"},818:{index:"818",hex:"0x80000332",symbol:"VET",name:"VeChain Token"},819:{index:"819",hex:"0x80000333",symbol:"REEF",name:"Reef"},820:{index:"820",hex:"0x80000334",symbol:"CLO",name:"Callisto"},822:{index:"822",hex:"0x80000336",symbol:"BDB",name:"BigchainDB"},824:{index:"824",hex:"0x80000338",symbol:"RBNT",name:"Redbelly Network"},827:{index:"827",hex:"0x8000033b",symbol:"ACE",name:"Endurance"},828:{index:"828",hex:"0x8000033c",symbol:"CCN",name:"ComputeCoin"},829:{index:"829",hex:"0x8000033d",symbol:"BBA",name:"BBACHAIN"},831:{index:"831",hex:"0x8000033f",symbol:"CRUZ",name:"cruzbit"},832:{index:"832",hex:"0x80000340",symbol:"SAPP",name:"Sapphire"},833:{index:"833",hex:"0x80000341",symbol:"777",name:"Jackpot"},834:{index:"834",hex:"0x80000342",symbol:"KYAN",name:"Kyanite"},835:{index:"835",hex:"0x80000343",symbol:"AZR",name:"Azzure"},836:{index:"836",hex:"0x80000344",symbol:"CFL",name:"CryptoFlow"},837:{index:"837",hex:"0x80000345",symbol:"DASHD",name:"Dash Diamond"},838:{index:"838",hex:"0x80000346",symbol:"TRTT",name:"Trittium"},839:{index:"839",hex:"0x80000347",symbol:"UCR",name:"Ultra Clear"},840:{index:"840",hex:"0x80000348",symbol:"PNY",name:"Peony"},841:{index:"841",hex:"0x80000349",symbol:"BECN",name:"Beacon"},842:{index:"842",hex:"0x8000034a",symbol:"MONK",name:"Monk"},843:{index:"843",hex:"0x8000034b",symbol:"SAGA",name:"CryptoSaga"},844:{index:"844",hex:"0x8000034c",symbol:"SUV",name:"Suvereno"},845:{index:"845",hex:"0x8000034d",symbol:"ESK",name:"EskaCoin"},846:{index:"846",hex:"0x8000034e",symbol:"OWO",name:"OneWorld Coin"},847:{index:"847",hex:"0x8000034f",symbol:"PEPS",name:"PEPS Coin"},848:{index:"848",hex:"0x80000350",symbol:"BIR",name:"Birake"},849:{index:"849",hex:"0x80000351",symbol:"MOBIC",name:"MobilityCoin"},850:{index:"850",hex:"0x80000352",symbol:"FLS",name:"Flits"},851:{index:"851",hex:"0x80000353",symbol:"FRECO",name:"Freco"},852:{index:"852",hex:"0x80000354",symbol:"DSM",name:"Desmos"},853:{index:"853",hex:"0x80000355",symbol:"PRCY",name:"PRCY Coin"},858:{index:"858",hex:"0x8000035a",symbol:"HVH",name:"HAVAH"},860:{index:"860",hex:"0x8000035c",symbol:"XBIT",name:"XBIT Coin"},864:{index:"864",hex:"0x80000360",symbol:"CVM",name:"Convex"},866:{index:"866",hex:"0x80000362",symbol:"MOB",name:"MobileCoin"},868:{index:"868",hex:"0x80000364",symbol:"IF",name:"Infinitefuture"},873:{index:"873",hex:"0x80000369",symbol:"QUORUM",name:"Quorum"},877:{index:"877",hex:"0x8000036d",symbol:"NAM",name:"Namada"},878:{index:"878",hex:"0x8000036e",symbol:"SCR",name:"Scorum Network"},880:{index:"880",hex:"0x80000370",symbol:"LUM",name:"Lum Network"},881:{index:"881",hex:"0x80000371",symbol:"AEGS",name:"Aegisum"},883:{index:"883",hex:"0x80000373",symbol:"ZBC",name:"ZooBC"},886:{index:"886",hex:"0x80000376",symbol:"ADF",name:"AD Token"},888:{index:"888",hex:"0x80000378",symbol:"NEO",name:"NEO"},889:{index:"889",hex:"0x80000379",symbol:"TOMO",name:"TOMO"},890:{index:"890",hex:"0x8000037a",symbol:"XSEL",name:"Seln"},896:{index:"896",hex:"0x80000380",symbol:"LKSC",name:"LKSCoin"},898:{index:"898",hex:"0x80000382",symbol:"AS",name:"Assetchain"},899:{index:"899",hex:"0x80000383",symbol:"XEC",name:"eCash"},900:{index:"900",hex:"0x80000384",symbol:"LMO",name:"Lumeneo"},901:{index:"901",hex:"0x80000385",symbol:"NXT",name:"NxtMeta"},904:{index:"904",hex:"0x80000388",symbol:"HNT",name:"Helium"},906:{index:"906",hex:"0x8000038a",symbol:"XPX",name:"Sirius"},907:{index:"907",hex:"0x8000038b",symbol:"FIS",name:"StaFi"},909:{index:"909",hex:"0x8000038d",symbol:"SGE",name:"Saage"},911:{index:"911",hex:"0x8000038f",symbol:"GERT",name:"Gert"},913:{index:"913",hex:"0x80000391",symbol:"VARA",name:"Vara Network"},916:{index:"916",hex:"0x80000394",symbol:"META",name:"Metadium"},917:{index:"917",hex:"0x80000395",symbol:"FRA",name:"Findora"},919:{index:"919",hex:"0x80000397",symbol:"CCD",name:"Concordium"},921:{index:"921",hex:"0x80000399",symbol:"AVN",name:"Avian Network"},925:{index:"925",hex:"0x8000039d",symbol:"DIP",name:"Dipper Network"},928:{index:"928",hex:"0x800003a0",symbol:"GHM",name:"HermitMatrixNetwork"},931:{index:"931",hex:"0x800003a3",symbol:"RUNE",name:"THORChain (RUNE)"},938:{index:"938",hex:"0x800003aa",symbol:"MGO",name:"Mango Network"},939:{index:"939",hex:"0x800003ab",symbol:"AB",name:"Argot Protocol"},942:{index:"942",hex:"0x800003ae",symbol:"KCN",name:"Kylacoin"},943:{index:"943",hex:"0x800003af",symbol:"LCN",name:"Lyncoin"},945:{index:"945",hex:"0x800003b1",symbol:"UNLOCK",name:"Jasiri protocol"},950:{index:"950",hex:"0x800003b6",symbol:"CNDT",name:"Conduct Protocol"},955:{index:"955",hex:"0x800003bb",symbol:"LTP",name:"LifetionCoin"},958:{index:"958",hex:"0x800003be",symbol:"",name:"KickSoccer"},960:{index:"960",hex:"0x800003c0",symbol:"VKAX",name:"Vkax"},965:{index:"965",hex:"0x800003c5",symbol:"ATLA",name:"Atleta Network"},966:{index:"966",hex:"0x800003c6",symbol:"MATIC",name:"Matic"},968:{index:"968",hex:"0x800003c8",symbol:"UNW",name:"UNW"},969:{index:"969",hex:"0x800003c9",symbol:"QI",name:"Quai Network"},970:{index:"970",hex:"0x800003ca",symbol:"TWINS",name:"TWINS"},975:{index:"975",hex:"0x800003cf",symbol:"",name:"TrustNet"},977:{index:"977",hex:"0x800003d1",symbol:"TLOS",name:"Telos"},981:{index:"981",hex:"0x800003d5",symbol:"TAFECO",name:"Taf ECO Chain"},985:{index:"985",hex:"0x800003d9",symbol:"AU",name:"Autonomy"},987:{index:"987",hex:"0x800003db",symbol:"VCG",name:"VipCoin"},988:{index:"988",hex:"0x800003dc",symbol:"XAZAB",name:"Xazab core"},989:{index:"989",hex:"0x800003dd",symbol:"AIOZ",name:"AIOZ"},990:{index:"990",hex:"0x800003de",symbol:"CORE",name:"Coreum"},991:{index:"991",hex:"0x800003df",symbol:"PEC",name:"Phoenix"},992:{index:"992",hex:"0x800003e0",symbol:"UNT",name:"Unit"},993:{index:"993",hex:"0x800003e1",symbol:"XRB",name:"X Currency"},994:{index:"994",hex:"0x800003e2",symbol:"QUAI",name:"Quai Network"},995:{index:"995",hex:"0x800003e3",symbol:"CAPS",name:"Ternoa"},996:{index:"996",hex:"0x800003e4",symbol:"OKT",name:"OKChain Token"},997:{index:"997",hex:"0x800003e5",symbol:"SUM",name:"Solidum"},998:{index:"998",hex:"0x800003e6",symbol:"LBTC",name:"Lightning Bitcoin"},999:{index:"999",hex:"0x800003e7",symbol:"BCD",name:"Bitcoin Diamond"},1e3:{index:"1000",hex:"0x800003e8",symbol:"BTN",name:"Bitcoin New"},1001:{index:"1001",hex:"0x800003e9",symbol:"TT",name:"ThunderCore"},1002:{index:"1002",hex:"0x800003ea",symbol:"BKT",name:"BanKitt"},1003:{index:"1003",hex:"0x800003eb",symbol:"NODL",name:"Nodle"},1004:{index:"1004",hex:"0x800003ec",symbol:"PCOIN",name:"PCOIN"},1005:{index:"1005",hex:"0x800003ed",symbol:"TAO",name:"Bittensor"},1006:{index:"1006",hex:"0x800003ee",symbol:"HSK",name:"HashKey Chain"},1007:{index:"1007",hex:"0x800003ef",symbol:"FTM",name:"Fantom"},1008:{index:"1008",hex:"0x800003f0",symbol:"RPG",name:"RPG"},1009:{index:"1009",hex:"0x800003f1",symbol:"LAKE",name:"iconLake"},1010:{index:"1010",hex:"0x800003f2",symbol:"HT",name:"Huobi ECO Chain"},1011:{index:"1011",hex:"0x800003f3",symbol:"ELV",name:"Eluvio"},1012:{index:"1012",hex:"0x800003f4",symbol:"JOC",name:"Japan Open Chain"},1013:{index:"1013",hex:"0x800003f5",symbol:"BIC",name:"Beincrypto"},1014:{index:"1014",hex:"0x800003f6",symbol:"JOY",name:"Joystream"},1015:{index:"1015",hex:"0x800003f7",symbol:"ZCX",name:"ZEN Exchange Token"},1017:{index:"1017",hex:"0x800003f9",symbol:"ZTC",name:"Zenchain"},1020:{index:"1020",hex:"0x800003fc",symbol:"EVC",name:"Evrice"},1022:{index:"1022",hex:"0x800003fe",symbol:"XRD",name:"Radix DLT"},1023:{index:"1023",hex:"0x800003ff",symbol:"ONE",name:"HARMONY-ONE (Legacy)"},1024:{index:"1024",hex:"0x80000400",symbol:"ONT",name:"Ontology"},1025:{index:"1025",hex:"0x80000401",symbol:"CZZ",name:"Classzz"},1026:{index:"1026",hex:"0x80000402",symbol:"KEX",name:"Kira Exchange Token"},1027:{index:"1027",hex:"0x80000403",symbol:"MCM",name:"Mochimo"},1028:{index:"1028",hex:"0x80000404",symbol:"PLS",name:"Pulse Coin"},1032:{index:"1032",hex:"0x80000408",symbol:"BTCR",name:"BTCR"},1042:{index:"1042",hex:"0x80000412",symbol:"MFID",name:"Moonfish ID"},1100:{index:"1100",hex:"0x8000044c",symbol:"CROSS",name:"Cross Chain"},1110:{index:"1110",hex:"0x80000456",symbol:"ZRA",name:"ZERA"},1111:{index:"1111",hex:"0x80000457",symbol:"BBC",name:"Big Bitcoin"},1116:{index:"1116",hex:"0x8000045c",symbol:"CORE",name:"Core"},1120:{index:"1120",hex:"0x80000460",symbol:"RISE",name:"RISE"},1122:{index:"1122",hex:"0x80000462",symbol:"CMT",name:"CyberMiles Token"},1128:{index:"1128",hex:"0x80000468",symbol:"ETSC",name:"Ethereum Social"},1129:{index:"1129",hex:"0x80000469",symbol:"DFI",name:"DeFiChain"},1130:{index:"1130",hex:"0x8000046a",symbol:"DFI",name:"DeFiChain EVM Network"},1134:{index:"1134",hex:"0x8000046e",symbol:"MESH",name:"StateMesh"},1137:{index:"1137",hex:"0x80000471",symbol:"$DAG",name:"Constellation Labs"},1145:{index:"1145",hex:"0x80000479",symbol:"CDY",name:"Bitcoin Candy"},1155:{index:"1155",hex:"0x80000483",symbol:"ENJ",name:"Enjin Coin"},1170:{index:"1170",hex:"0x80000492",symbol:"HOO",name:"Hoo Smart Chain"},1200:{index:"1200",hex:"0x800004b0",symbol:"GNK",name:"Gonka"},1234:{index:"1234",hex:"0x800004d2",symbol:"ALPH",name:"Alephium"},1236:{index:"1236",hex:"0x800004d4",symbol:"",name:"Masca"},1237:{index:"1237",hex:"0x800004d5",symbol:"",name:"Nostr"},1280:{index:"1280",hex:"0x80000500",symbol:"",name:"Kudos Setler"},1284:{index:"1284",hex:"0x80000504",symbol:"GLMR",name:"Moonbeam"},1285:{index:"1285",hex:"0x80000505",symbol:"MOVR",name:"Moonriver"},1286:{index:"1286",hex:"0x80000506",symbol:"DSG",name:"Dessage Social Protocol"},1298:{index:"1298",hex:"0x80000512",symbol:"WPC",name:"Wpc"},1308:{index:"1308",hex:"0x8000051c",symbol:"WEI",name:"WEI"},1312:{index:"1312",hex:"0x80000520",symbol:"BITS",name:"Entropy"},1337:{index:"1337",hex:"0x80000539",symbol:"DFC",name:"Defcoin"},1338:{index:"1338",hex:"0x8000053a",symbol:"IRON",name:"Iron Fish"},1348:{index:"1348",hex:"0x80000544",symbol:"ISLM",name:"IslamicCoin"},1397:{index:"1397",hex:"0x80000575",symbol:"HYC",name:"Hycon"},1410:{index:"1410",hex:"0x80000582",symbol:"TENTSLP",name:"TENT Simple Ledger Protocol"},1420:{index:"1420",hex:"0x8000058c",symbol:"DEV",name:"DogecoinEV"},1510:{index:"1510",hex:"0x800005e6",symbol:"XSC",name:"XT Smart Chain"},1512:{index:"1512",hex:"0x800005e8",symbol:"AAC",name:"Double-A Chain"},1524:{index:"1524",hex:"0x800005f4",symbol:"",name:"Taler"},1533:{index:"1533",hex:"0x800005fd",symbol:"BEAM",name:"Beam"},1536:{index:"1536",hex:"0x80000600",symbol:"GAS",name:"BubiChain"},1540:{index:"1540",hex:"0x80000604",symbol:"ATHENA",name:"Athena"},1551:{index:"1551",hex:"0x8000060f",symbol:"SDK",name:"Sovereign SDK"},1555:{index:"1555",hex:"0x80000613",symbol:"APC",name:"Apc Chain"},1616:{index:"1616",hex:"0x80000650",symbol:"ELF",name:"AELF"},1618:{index:"1618",hex:"0x80000652",symbol:"AUDL",name:"AUDL"},1620:{index:"1620",hex:"0x80000654",symbol:"ATH",name:"Atheios"},1627:{index:"1627",hex:"0x8000065b",symbol:"LUME",name:"Lume Web"},1642:{index:"1642",hex:"0x8000066a",symbol:"NEW",name:"Newton"},1657:{index:"1657",hex:"0x80000679",symbol:"BTA",name:"Btachain"},1668:{index:"1668",hex:"0x80000684",symbol:"NEOX",name:"Neoxa"},1669:{index:"1669",hex:"0x80000685",symbol:"MEWC",name:"Meowcoin"},1688:{index:"1688",hex:"0x80000698",symbol:"BCX",name:"BitcoinX"},1729:{index:"1729",hex:"0x800006c1",symbol:"XTZ",name:"Tezos"},1776:{index:"1776",hex:"0x800006f0",symbol:"LBTC",name:"Liquid BTC"},1777:{index:"1777",hex:"0x800006f1",symbol:"BBP",name:"Biblepay"},1784:{index:"1784",hex:"0x800006f8",symbol:"JPYS",name:"JPY Stablecoin"},1789:{index:"1789",hex:"0x800006fd",symbol:"VEGA",name:"Vega Protocol"},1815:{index:"1815",hex:"0x80000717",symbol:"ADA",name:"Cardano"},1818:{index:"1818",hex:"0x8000071a",symbol:"CUBE",name:"Cube Chain Native Token"},1888:{index:"1888",hex:"0x80000760",symbol:"ZTX",name:"Zetrix"},1899:{index:"1899",hex:"0x8000076b",symbol:"XEC",name:"eCash token"},1900:{index:"1900",hex:"0x8000076c",symbol:"XNA",name:"Neurai"},1901:{index:"1901",hex:"0x8000076d",symbol:"CLC",name:"Classica"},1907:{index:"1907",hex:"0x80000773",symbol:"BITCI",name:"Bitcicoin"},1918:{index:"1918",hex:"0x8000077e",symbol:"BKC",name:"Briskcoin"},1919:{index:"1919",hex:"0x8000077f",symbol:"VIPS",name:"VIPSTARCOIN"},1926:{index:"1926",hex:"0x80000786",symbol:"CITY",name:"City Coin"},1951:{index:"1951",hex:"0x8000079f",symbol:"ESA",name:"Esa"},1952:{index:"1952",hex:"0x800007a0",symbol:"ESC",name:"EsaCoin"},1955:{index:"1955",hex:"0x800007a3",symbol:"XX",name:"xx coin"},1969:{index:"1969",hex:"0x800007b1",symbol:"MVRK",name:"Mavryk Network"},1977:{index:"1977",hex:"0x800007b9",symbol:"XMX",name:"Xuma"},1984:{index:"1984",hex:"0x800007c0",symbol:"TRTL",name:"TurtleCoin"},1985:{index:"1985",hex:"0x800007c1",symbol:"SLRT",name:"Solarti Chain"},1986:{index:"1986",hex:"0x800007c2",symbol:"QTH",name:"Qing Tong Horizon"},1987:{index:"1987",hex:"0x800007c3",symbol:"EGEM",name:"EtherGem"},1988:{index:"1988",hex:"0x800007c4",symbol:"MIRA",name:"Mira Chain"},1989:{index:"1989",hex:"0x800007c5",symbol:"HODL",name:"HOdlcoin"},1990:{index:"1990",hex:"0x800007c6",symbol:"PHL",name:"Placeholders"},1991:{index:"1991",hex:"0x800007c7",symbol:"SC",name:"Sia"},1996:{index:"1996",hex:"0x800007cc",symbol:"MYT",name:"Mineyourtime"},1997:{index:"1997",hex:"0x800007cd",symbol:"POLIS",name:"Polis"},1998:{index:"1998",hex:"0x800007ce",symbol:"XMCC",name:"Monoeci"},1999:{index:"1999",hex:"0x800007cf",symbol:"COLX",name:"ColossusXT"},2e3:{index:"2000",hex:"0x800007d0",symbol:"GIN",name:"GinCoin"},2001:{index:"2001",hex:"0x800007d1",symbol:"MNP",name:"MNPCoin"},2002:{index:"2002",hex:"0x800007d2",symbol:"MLN",name:"Miraland"},2003:{index:"2003",hex:"0x800007d3",symbol:"ISNA",name:"iSarrana"},2010:{index:"2010",hex:"0x800007da",symbol:"XBT",name:"Bitcoin Classic"},2013:{index:"2013",hex:"0x800007dd",symbol:"JKC",name:"Junkcoin"},2015:{index:"2015",hex:"0x800007df",symbol:"TEER",name:"Integritee"},2017:{index:"2017",hex:"0x800007e1",symbol:"KIN",name:"Kin"},2018:{index:"2018",hex:"0x800007e2",symbol:"EOSC",name:"EOSClassic"},2019:{index:"2019",hex:"0x800007e3",symbol:"GBT",name:"GoldBean Token"},2020:{index:"2020",hex:"0x800007e4",symbol:"PKC",name:"PKC"},2021:{index:"2021",hex:"0x800007e5",symbol:"SKT",name:"Sukhavati"},2022:{index:"2022",hex:"0x800007e6",symbol:"XHT",name:"Xinghuo Token"},2023:{index:"2023",hex:"0x800007e7",symbol:"COC",name:"Chat On Chain"},2024:{index:"2024",hex:"0x800007e8",symbol:"USBC",name:"Universal Ledger USBC"},2025:{index:"2025",hex:"0x800007e9",symbol:"ROCK",name:"Zenrock Labs"},2026:{index:"2026",hex:"0x800007ea",symbol:"ASTRON",name:"ASTRON Token"},2046:{index:"2046",hex:"0x800007fe",symbol:"ANY",name:"Any"},2048:{index:"2048",hex:"0x80000800",symbol:"MCASH",name:"MCashChain"},2049:{index:"2049",hex:"0x80000801",symbol:"TRUE",name:"TrueChain"},2050:{index:"2050",hex:"0x80000802",symbol:"MOVO",name:"Movo Smart Chain"},2086:{index:"2086",hex:"0x80000826",symbol:"KILT",name:"KILT Spiritnet"},2091:{index:"2091",hex:"0x8000082b",symbol:"FRQCY",name:"Frequency"},2109:{index:"2109",hex:"0x8000083d",symbol:"SAMA",name:"Exosama Network"},2112:{index:"2112",hex:"0x80000840",symbol:"IoTE",name:"IoTE"},2121:{index:"2121",hex:"0x80000849",symbol:"CBTC",name:"Coordinate BTC (Anduro)"},2122:{index:"2122",hex:"0x8000084a",symbol:"QBTC",name:"Quasar BTC (Anduro)"},2125:{index:"2125",hex:"0x8000084d",symbol:"BAY",name:"BitBay"},2137:{index:"2137",hex:"0x80000859",symbol:"XRG",name:"Ergon"},2199:{index:"2199",hex:"0x80000897",symbol:"SAMA",name:"Moonsama Network"},2221:{index:"2221",hex:"0x800008ad",symbol:"ASK",name:"ASK"},2222:{index:"2222",hex:"0x800008ae",symbol:"CWEB",name:"Coinweb"},2285:{index:"2285",hex:"0x800008ed",symbol:"",name:"Qiyi Chain"},2301:{index:"2301",hex:"0x800008fd",symbol:"QTUM",name:"QTUM"},2302:{index:"2302",hex:"0x800008fe",symbol:"ETP",name:"Metaverse"},2303:{index:"2303",hex:"0x800008ff",symbol:"GXC",name:"GXChain"},2304:{index:"2304",hex:"0x80000900",symbol:"CRP",name:"CranePay"},2305:{index:"2305",hex:"0x80000901",symbol:"ELA",name:"Elastos"},2338:{index:"2338",hex:"0x80000922",symbol:"SNOW",name:"Snowblossom"},2365:{index:"2365",hex:"0x8000093d",symbol:"XIN",name:"Mixin"},2500:{index:"2500",hex:"0x800009c4",symbol:"NEXI",name:"Nexi"},2570:{index:"2570",hex:"0x80000a0a",symbol:"AOA",name:"Aurora"},2686:{index:"2686",hex:"0x80000a7e",symbol:"AIPG",name:"AIPowerGrid"},2718:{index:"2718",hex:"0x80000a9e",symbol:"NAS",name:"Nebulas"},2809:{index:"2809",hex:"0x80000af9",symbol:"LAN",name:"Lanify"},2894:{index:"2894",hex:"0x80000b4e",symbol:"REOSC",name:"REOSC Ecosystem"},2941:{index:"2941",hex:"0x80000b7d",symbol:"BND",name:"Blocknode"},3e3:{index:"3000",hex:"0x80000bb8",symbol:"SM",name:"Stealth Message"},3003:{index:"3003",hex:"0x80000bbb",symbol:"LUX",name:"LUX"},3030:{index:"3030",hex:"0x80000bd6",symbol:"HBAR",name:"Hedera HBAR"},3054:{index:"3054",hex:"0x80000bee",symbol:"HIVE",name:"Hive Blockchain"},3077:{index:"3077",hex:"0x80000c05",symbol:"COS",name:"Contentos"},3131:{index:"3131",hex:"0x80000c3b",symbol:"EZC",name:"Ezcon Blockchain"},3141:{index:"3141",hex:"0x80000c45",symbol:"B1T",name:"Bit"},3276:{index:"3276",hex:"0x80000ccc",symbol:"CCC",name:"CodeChain"},3333:{index:"3333",hex:"0x80000d05",symbol:"SXP",name:"Solar"},3338:{index:"3338",hex:"0x80000d0a",symbol:"PEAQ",name:"peaq"},3344:{index:"3344",hex:"0x80000d10",symbol:"PLMC",name:"Polimec"},3377:{index:"3377",hex:"0x80000d31",symbol:"ROI",name:"ROIcoin"},3381:{index:"3381",hex:"0x80000d35",symbol:"DYN",name:"Dynamic"},3383:{index:"3383",hex:"0x80000d37",symbol:"SEQ",name:"Sequence"},3434:{index:"3434",hex:"0x80000d6a",symbol:"PEPE",name:"Pepecoin Core"},3501:{index:"3501",hex:"0x80000dad",symbol:"JFIN",name:"JFIN Coin"},3552:{index:"3552",hex:"0x80000de0",symbol:"DEO",name:"Destocoin"},3564:{index:"3564",hex:"0x80000dec",symbol:"DST",name:"DeStream"},3601:{index:"3601",hex:"0x80000e11",symbol:"CY",name:"Cybits"},3630:{index:"3630",hex:"0x80000e2e",symbol:"EPPIE",name:"Eppie"},3757:{index:"3757",hex:"0x80000ead",symbol:"MPC",name:"Partisia Blockchain"},3840:{index:"3840",hex:"0x80000f00",symbol:"RED",name:"ReDeFi RED"},4040:{index:"4040",hex:"0x80000fc8",symbol:"FC8",name:"FCH Network"},4096:{index:"4096",hex:"0x80001000",symbol:"YEE",name:"YeeCo"},4218:{index:"4218",hex:"0x8000107a",symbol:"IOTA",name:"IOTA"},4219:{index:"4219",hex:"0x8000107b",symbol:"SMR",name:"Shimmer"},4242:{index:"4242",hex:"0x80001092",symbol:"AXE",name:"Axe"},4343:{index:"4343",hex:"0x800010f7",symbol:"XYM",name:"Symbol"},4444:{index:"4444",hex:"0x8000115c",symbol:"C4E",name:"Chain4Energy"},4474:{index:"4474",hex:"0x8000117a",symbol:"SHIC",name:"ShibaCoin"},4646:{index:"4646",hex:"0x80001226",symbol:"MST",name:"MST"},4919:{index:"4919",hex:"0x80001337",symbol:"XVM",name:"Venidium"},4976:{index:"4976",hex:"0x80001370",symbol:"VARA",name:"Vara"},4999:{index:"4999",hex:"0x80001387",symbol:"BXN",name:"BlackFort Exchange Network"},5e3:{index:"5000",hex:"0x80001388",symbol:"V12",name:"Vet The Vote"},5006:{index:"5006",hex:"0x8000138e",symbol:"SBC",name:"Senior Blockchain"},5248:{index:"5248",hex:"0x80001480",symbol:"FIC",name:"FIC"},5353:{index:"5353",hex:"0x800014e9",symbol:"HNS",name:"Handshake"},5404:{index:"5404",hex:"0x8000151c",symbol:"ISK",name:"ISKRA"},5467:{index:"5467",hex:"0x8000155b",symbol:"ALTME",name:"ALTME"},5555:{index:"5555",hex:"0x800015b3",symbol:"FUND",name:"Unification"},5757:{index:"5757",hex:"0x8000167d",symbol:"STX",name:"Stacks"},5895:{index:"5895",hex:"0x80001707",symbol:"VOW",name:"VowChain VOW"},5920:{index:"5920",hex:"0x80001720",symbol:"SLU",name:"SILUBIUM"},5995:{index:"5995",hex:"0x8000176B",symbol:"DUSK",name:"Dusk Network"},6060:{index:"6060",hex:"0x800017ac",symbol:"GO",name:"GoChain GO"},6144:{index:"6144",hex:"0x80001800",symbol:"DTS",name:"Datos"},6174:{index:"6174",hex:"0x8000181e",symbol:"MOI",name:"My Own Internet"},6278:{index:"6278",hex:"0x80001886",symbol:"STEAMX",name:"Rails Network Mainnet"},6310:{index:"6310",hex:"0x800018a6",symbol:"VRL",name:"Virel Protocol"},6532:{index:"6532",hex:"0x80001984",symbol:"UM",name:"Penumbra"},6599:{index:"6599",hex:"0x800019c7",symbol:"RSC",name:"Royal Sports City"},6666:{index:"6666",hex:"0x80001a0a",symbol:"BPA",name:"Bitcoin Pizza"},6688:{index:"6688",hex:"0x80001a20",symbol:"SAFE",name:"SAFE"},6767:{index:"6767",hex:"0x80001a6f",symbol:"CC",name:"Canton Coin"},6779:{index:"6779",hex:"0x80001a7b",symbol:"COTI",name:"COTI"},6969:{index:"6969",hex:"0x80001b39",symbol:"ROGER",name:"TheHolyrogerCoin"},7e3:{index:"7000",hex:"0x80001b58",symbol:"ZETA",name:"ZetaChain"},7027:{index:"7027",hex:"0x80001b73",symbol:"ELLA",name:"Ella the heart"},7028:{index:"7028",hex:"0x80001b74",symbol:"AA",name:"Arthera"},7070:{index:"7070",hex:"0x80001b9e",symbol:"DOI",name:"Doichain"},7091:{index:"7091",hex:"0x80001bb3",symbol:"TOPL",name:"Topl"},7272:{index:"7272",hex:"0x80001c68",symbol:"ABTC",name:"Alys BTC (Anduro)"},7331:{index:"7331",hex:"0x80001ca3",symbol:"KLY",name:"KLYNTAR"},7341:{index:"7341",hex:"0x80001cad",symbol:"SHFT",name:"Shyft"},7518:{index:"7518",hex:"0x80001d5e",symbol:"MEV",name:"MEVerse"},7576:{index:"7576",hex:"0x80001d98",symbol:"ADIL",name:"ADIL Chain"},7777:{index:"7777",hex:"0x80001e61",symbol:"BTV",name:"Bitvote"},7779:{index:"7779",hex:"0x80001e63",symbol:"CPV",name:"Compverse"},8e3:{index:"8000",hex:"0x80001f40",symbol:"SKY",name:"Skycoin"},8008:{index:"8008",hex:"0x80001f48",symbol:"BERA",name:"Berachain"},8017:{index:"8017",hex:"0x80001f51",symbol:"ISC",name:"iSunCoin"},8080:{index:"8080",hex:"0x80001f90",symbol:"",name:"DSRV"},8181:{index:"8181",hex:"0x80001ff5",symbol:"BOC",name:"BeOne Chain"},8192:{index:"8192",hex:"0x80002000",symbol:"PAC",name:"pacprotocol"},8217:{index:"8217",hex:"0x80002019",symbol:"KAIA",name:"KAIA"},8339:{index:"8339",hex:"0x80002093",symbol:"BTQ",name:"BitcoinQuark"},8444:{index:"8444",hex:"0x800020fc",symbol:"XCH",name:"Chia"},8453:{index:"8453",hex:"0x80002105",symbol:"",name:"Base"},8680:{index:"8680",hex:"0x800021e8",symbol:"PLMNT",name:"Planetmint"},8732:{index:"8732",hex:"0x8000221c",symbol:"BLN",name:"Bullions"},8738:{index:"8738",hex:"0x80002222",symbol:"ALPH",name:"Alph Network"},8866:{index:"8866",hex:"0x800022a2",symbol:"GGX",name:"Golden Gate"},8886:{index:"8886",hex:"0x800022b6",symbol:"GGXT",name:"Golden Gate Sydney"},8888:{index:"8888",hex:"0x800022b8",symbol:"SBTC",name:"Super Bitcoin"},8964:{index:"8964",hex:"0x80002304",symbol:"NULS",name:"NULS"},8997:{index:"8997",hex:"0x80002325",symbol:"BBC",name:"Babacoin"},8998:{index:"8998",hex:"0x80002326",symbol:"JGC",name:"JagoanCoin"},8999:{index:"8999",hex:"0x80002327",symbol:"BTP",name:"Bitcoin Pay"},9e3:{index:"9000",hex:"0x80002328",symbol:"AVAX",name:"Avalanche"},9001:{index:"9001",hex:"0x80002329",symbol:"ARB1",name:"Arbitrum"},9002:{index:"9002",hex:"0x8000232a",symbol:"BOBA",name:"Boba"},9003:{index:"9003",hex:"0x8000232b",symbol:"LOOP",name:"Loopring"},9004:{index:"9004",hex:"0x8000232c",symbol:"STRK",name:"StarkNet"},9005:{index:"9005",hex:"0x8000232d",symbol:"AVAXC",name:"Avalanche C-Chain"},9006:{index:"9006",hex:"0x8000232e",symbol:"BSC",name:"Binance Smart Chain"},9007:{index:"9007",hex:"0x8000232f",symbol:"SATOX",name:"Satoxcoin"},9797:{index:"9797",hex:"0x80002645",symbol:"NRG",name:"Energi"},9888:{index:"9888",hex:"0x800026a0",symbol:"BTF",name:"Bitcoin Faith"},9969:{index:"9969",hex:"0x800026f1",symbol:"OSMI",name:"Osmium"},9999:{index:"9999",hex:"0x8000270f",symbol:"GOD",name:"Bitcoin God"},1e4:{index:"10000",hex:"0x80002710",symbol:"FO",name:"FIBOS"},10001:{index:"10001",hex:"0x80002711",symbol:"SPACE",name:"Space"},10007:{index:"10007",hex:"0x80002717",symbol:"S",name:"SONIC"},10111:{index:"10111",hex:"0x8000277f",symbol:"DHP",name:"dHealth"},10226:{index:"10226",hex:"0x800027f2",symbol:"RTM",name:"Raptoreum"},10242:{index:"10242",hex:"0x80002802",symbol:"AA",name:"Arthera"},10291:{index:"10291",hex:"0x80002833",symbol:"XRC",name:"XRhodium"},10507:{index:"10507",hex:"0x8000290b",symbol:"NUM",name:"Numbers Protocol"},10605:{index:"10605",hex:"0x8000296d",symbol:"XPI",name:"Lotus"},11111:{index:"11111",hex:"0x80002b67",symbol:"ESS",name:"Essentia One"},11742:{index:"11742",hex:"0x80002dde",symbol:"VARCH",name:"InvArch"},11743:{index:"11743",hex:"0x80002ddf",symbol:"TNKR",name:"Tinkernet"},12345:{index:"12345",hex:"0x80003039",symbol:"IPOS",name:"IPOS"},12586:{index:"12586",hex:"0x8000312a",symbol:"MINA",name:"Mina"},12850:{index:"12850",hex:"0x80003232",symbol:"ANLOG",name:"Analog Timechain"},13107:{index:"13107",hex:"0x80003333",symbol:"BTY",name:"BitYuan"},13108:{index:"13108",hex:"0x80003334",symbol:"YCC",name:"Yuan Chain Coin"},13381:{index:"13381",hex:"0x80003445",symbol:"PHX",name:"Phoenix"},14001:{index:"14001",hex:"0x800036b1",symbol:"WAX",name:"Worldwide Asset Exchange"},15845:{index:"15845",hex:"0x80003de5",symbol:"SDGO",name:"SanDeGo"},16181:{index:"16181",hex:"0x80003f35",symbol:"XTX",name:"Totem Live Network"},16754:{index:"16754",hex:"0x80004172",symbol:"ARDR",name:"Ardor"},18e3:{index:"18000",hex:"0x80004650",symbol:"MTR",name:"Meter"},19165:{index:"19165",hex:"0x80004add",symbol:"SAFE",name:"Safecoin"},19167:{index:"19167",hex:"0x80004adf",symbol:"FLUX",name:"Flux"},19169:{index:"19169",hex:"0x80004ae1",symbol:"RITO",name:"Ritocoin"},19788:{index:"19788",hex:"0x80004d4c",symbol:"ML",name:"Mintlayer"},20036:{index:"20036",hex:"0x80004e44",symbol:"XND",name:"ndau"},21004:{index:"21004",hex:"0x8000520c",symbol:"C4EI",name:"c4ei"},21337:{index:"21337",hex:"0x80005359",symbol:"XAH",name:"Xahau"},21888:{index:"21888",hex:"0x80005580",symbol:"PAC",name:"Pactus"},22504:{index:"22504",hex:"0x800057e8",symbol:"PWR",name:"PWRcoin"},23e3:{index:"23000",hex:"0x800059d8",symbol:"EPIC",name:"Epic Cash"},25252:{index:"25252",hex:"0x800062a4",symbol:"BELL",name:"Bellcoin"},25718:{index:"25718",hex:"0x80006476",symbol:"CHX",name:"Own"},26417:{index:"26417",hex:"0x80006731",symbol:"G1",name:"Ğ1"},29223:{index:"29223",hex:"0x80007227",symbol:"NEXA",name:"Nexa"},31102:{index:"31102",hex:"0x8000797e",symbol:"ESN",name:"EtherSocial Network"},31337:{index:"31337",hex:"0x80007a69",symbol:"",name:"ThePower"},33416:{index:"33416",hex:"0x80008288",symbol:"TEO",name:"Trust Eth reOrigin"},33878:{index:"33878",hex:"0x80008456",symbol:"BTCS",name:"Bitcoin Stake"},34952:{index:"34952",hex:"0x80008888",symbol:"BTT",name:"ByteTrade"},37992:{index:"37992",hex:"0x80009468",symbol:"FXTC",name:"FixedTradeCoin"},39321:{index:"39321",hex:"0x80009999",symbol:"AMA",name:"Amabig"},42069:{index:"42069",hex:"0x8000a455",symbol:"FACT",name:"FACT0RN"},43028:{index:"43028",hex:"0x8000a814",symbol:"AXIV",name:"AXIV"},47803:{index:"47803",hex:"0x8000babb",symbol:"BAX",name:"BAX"},49262:{index:"49262",hex:"0x8000c06e",symbol:"EVE",name:"evan"},49344:{index:"49344",hex:"0x8000c0c0",symbol:"STASH",name:"STASH"},52752:{index:"52752",hex:"0x8000ce10",symbol:"CELO",name:"Celo"},54176:{index:"54176",hex:"0x8000d3a0",symbol:"OVER",name:"OverProtocol"},61616:{index:"61616",hex:"0x8000f0b0",symbol:"TH",name:"TianHe"},65536:{index:"65536",hex:"0x80010000",symbol:"KETH",name:"Krypton World"},69420:{index:"69420",hex:"0x80010f2c",symbol:"GRLC",name:"Garlicoin"},70007:{index:"70007",hex:"0x80011177",symbol:"GWL",name:"Gewel"},77777:{index:"77777",hex:"0x80012fd1",symbol:"ZYN",name:"Wethio"},83293:{index:"83293",hex:"0x8001455d",symbol:"QUBIC",name:"Qubic"},88888:{index:"88888",hex:"0x80015b38",symbol:"RYO",name:"c0ban"},99999:{index:"99999",hex:"0x8001869f",symbol:"WICC",name:"Waykichain"},100500:{index:"100500",hex:"0x80018894",symbol:"HOME",name:"HomeCoin"},101010:{index:"101010",hex:"0x80018a92",symbol:"STC",name:"Starcoin"},104109:{index:"104109",hex:"0x800196ad",symbol:"",name:"Seed Hypermedia"},105105:{index:"105105",hex:"0x80019a91",symbol:"STRAX",name:"Strax"},111111:{index:"111111",hex:"0x8001b207",symbol:"KAS",name:"Kaspa"},121337:{index:"121337",hex:"0x8001d9f9",symbol:"KLS",name:"Karlsen"},123456:{index:"123456",hex:"0x8001e240",symbol:"SPR",name:"Spectre"},130822:{index:"130822",hex:"0x8001ff06",symbol:"WBT",name:"WhiteBIT Coin"},161803:{index:"161803",hex:"0x8002780b",symbol:"APTA",name:"Bloqs4Good"},200625:{index:"200625",hex:"0x80030fb1",symbol:"AKA",name:"Akroma"},200901:{index:"200901",hex:"0x800310c5",symbol:"BTR",name:"Bitlayer"},224433:{index:"224433",hex:"0x80036cb1",symbol:"CONET",name:"CONET Holesky Network"},246529:{index:"246529",hex:"0x8003c301",symbol:"ATS",name:"ARTIS sigma1"},261131:{index:"261131",hex:"0x8003fc0b",symbol:"ZAMA",name:"Zama"},314159:{index:"314159",hex:"0x8004cb2f",symbol:"PI",name:"Pi Network"},333332:{index:"333332",hex:"0x80051614",symbol:"VALUE",name:"Value Chain"},333333:{index:"333333",hex:"0x80051615",symbol:"3333",name:"Pi Value Consensus"},424242:{index:"424242",hex:"0x80067932",symbol:"X42",name:"x42"},440017:{index:"440017",hex:"0x8006b6d1",symbol:"@G",name:"Graphite"},534352:{index:"534352",hex:"0x80082750",symbol:"SCR",name:"Scroll"},666666:{index:"666666",hex:"0x800a2c2a",symbol:"VITE",name:"Vite"},696365:{index:"696365",hex:"0x800b3206",symbol:"ICE",name:"Ice Network"},827166:{index:"827166",hex:"0x800c9f1e",symbol:"",name:"RGB on Bitcoin (mainnet)"},827167:{index:"827167",hex:"0x800c9f1f",symbol:"",name:"RGB on Bitcoin (testnet)"},828942:{index:"828942",hex:"0x800ca60e",symbol:"",name:"RGB on Liquid (mainnet)"},888888:{index:"888888",hex:"0x800d9038",symbol:"SEA",name:"Second Exchange Alliance"},1048576:{index:"1048576",hex:"0x80100000",symbol:"AMAX",name:"Armonia Meta Chain"},1171337:{index:"1171337",hex:"0x8011df89",symbol:"ILT",name:"iOlite"},1313114:{index:"1313114",hex:"0x8014095a",symbol:"ETHO",name:"Etho Protocol"},1313500:{index:"1313500",hex:"0x80140adc",symbol:"XERO",name:"Xerom"},1712144:{index:"1712144",hex:"0x801a2010",symbol:"LAX",name:"LAPO"},3924011:{index:"3924011",hex:"0x803be02b",symbol:"EPK",name:"EPIK Protocol"},4741444:{index:"4741444",hex:"0x80485944",symbol:"HYD",name:"Hydra Token"},5063758:{index:"5063758",hex:"0x804d444e",symbol:"",name:"Miden"},5249353:{index:"5249353",hex:"0x80501949",symbol:"BCO",name:"BitcoinOre"},5249354:{index:"5249354",hex:"0x8050194a",symbol:"BHD",name:"BitcoinHD"},5264462:{index:"5264462",hex:"0x8050544e",symbol:"PTN",name:"PalletOne"},5655640:{index:"5655640",hex:"0x80564c58",symbol:"VLX",name:"Velas"},5718350:{index:"5718350",hex:"0x8057414e",symbol:"WAN",name:"Wanchain"},5741564:{index:"5741564",hex:"0x80579bfc",symbol:"WAVES",name:"Waves"},5741565:{index:"5741565",hex:"0x80579bfd",symbol:"WEST",name:"Waves Enterprise"},6382179:{index:"6382179",hex:"0x80616263",symbol:"ABC",name:"Abcmint"},6517357:{index:"6517357",hex:"0x8063726d",symbol:"CRM",name:"Creamcoin"},7171666:{index:"7171666",hex:"0x806d6e52",symbol:"BROCK",name:"Bitrock"},7562605:{index:"7562605",hex:"0x8073656d",symbol:"SEM",name:"Semux"},7567736:{index:"7567736",hex:"0x80737978",symbol:"ION",name:"ION"},7777777:{index:"7777777",hex:"0x8076adf1",symbol:"FCT",name:"FirmaChain"},7825266:{index:"7825266",hex:"0x80776772",symbol:"WGR",name:"WGR"},7825267:{index:"7825267",hex:"0x80776773",symbol:"OBSR",name:"OBServer"},8163271:{index:"8163271",hex:"0x807c8fc7",symbol:"AFS",name:"ANFS"},10000118:{index:"10000118",hex:"0x805d30b6",symbol:"OSMO",name:"Osmosis"},11259375:{index:"11259375",hex:"0x80abcdef",symbol:"LBR",name:"0L"},15118976:{index:"15118976",hex:"0x80e6b280",symbol:"XDS",name:"XDS"},19000118:{index:"19000118",hex:"0x8121eb36",symbol:"SEI",name:"SEI"},20230101:{index:"20230101",hex:"0x8134afd5",symbol:"ROH",name:"Rooch"},20240430:{index:"20240430",hex:"0x8134d82e",symbol:"NLK",name:"NuLinkCoin"},22000118:{index:"22000118",hex:"0x814fb1f6",symbol:"DYDX",name:"Dydx"},61717561:{index:"61717561",hex:"0x83adbc39",symbol:"AQUA",name:"Aquachain"},77777777:{index:"77777777",hex:"0x84a2cb71",symbol:"AZT",name:"Aztecoin"},88888888:{index:"88888888",hex:"0x854c5638",symbol:"HATCH",name:"Hatch"},91927009:{index:"91927009",hex:"0x857ab1e1",symbol:"kUSD",name:"kUSD"},99999996:{index:"99999996",hex:"0x85f5e0fc",symbol:"GENS",name:"GENS"},99999997:{index:"99999997",hex:"0x85f5e0fd",symbol:"EQ",name:"EQ"},99999998:{index:"99999998",hex:"0x85f5e0fe",symbol:"FLUID",name:"Fluid Chains"},99999999:{index:"99999999",hex:"0x85f5e0ff",symbol:"QKC",name:"QuarkChain"},240079435:{index:"240079435",hex:"0x8e4f524b",symbol:"ZORK",name:"Zork Network"},608589380:{index:"608589380",hex:"0xa4465644",symbol:"FVDC",name:"ForumCoin"},1010101010:{index:"1010101010",hex:"0xbc34eb12",symbol:"FAIC",name:"Free AI Chain"},1179993420:{index:"1179993420",hex:"0xc655454c",symbol:"",name:"Fuel"},1179993421:{index:"1179993421",hex:"0xc655454d",symbol:"TTNC",name:"TakeTitan"},1179993431:{index:"1179993431",hex:"0xc6554557",symbol:"MTGBP",name:"MTGBP"},1179993441:{index:"1179993441",hex:"0xc6554561",symbol:"QFS",name:"Qfs"},1179993451:{index:"1179993451",hex:"0xc655456b",symbol:"RWA",name:"Asset Chain"},1179993461:{index:"1179993461",hex:"0xc6554575",symbol:"HXC",name:"HuaXia Chain"},1179993471:{index:"1179993471",hex:"0xc655457f",symbol:"AME",name:"AME Chain"}}}}},{package:"@metamask/snaps-utils>@metamask/slip44",file:"node_modules/@metamask/slip44/slip44.json"}],[2641,{"./constants.cjs":2642,"./types.cjs":2644,"./utils.cjs":2645,"@ethersproject/bytes":739,"@metamask/controller-utils":1449,"@metamask/eth-query":1991,"@metamask/polling-controller":2649,"bignumber.js":2650,"lodash/cloneDeep.js":4814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s,r,a,o,c,l,d,u,h,m,f,p,g,b,y,x,w,S,T,v,_,E=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},k=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},C=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.SmartTransactionsController=n.getDefaultSmartTransactionsControllerState=n.DEFAULT_INTERVAL=void 0;const P=e("@ethersproject/bytes"),O=e("@metamask/controller-utils"),A=C(e("@metamask/eth-query")),I=e("@metamask/polling-controller"),N=e("bignumber.js"),j=C(e("lodash/cloneDeep.js")),R=e("./constants.cjs"),M=e("./types.cjs"),L=e("./utils.cjs");n.DEFAULT_INTERVAL=5e3;const D="`ethQuery` is not defined on SmartTransactionsController",B="SmartTransactionsController",U={smartTransactionsState:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!0,usedInUi:!0}};function F(){return{smartTransactionsState:{smartTransactions:{},userOptIn:null,userOptInV2:null,fees:{approvalTxFees:null,tradeTxFees:null},liveness:!0,livenessByChainId:{[O.ChainId.mainnet]:!0,[O.ChainId.sepolia]:!0},feesByChainId:{[O.ChainId.mainnet]:{approvalTxFees:null,tradeTxFees:null},[O.ChainId.sepolia]:{approvalTxFees:null,tradeTxFees:null}}}}}n.getDefaultSmartTransactionsControllerState=F;class H extends((0,I.StaticIntervalPollingController)()){constructor({interval:e=n.DEFAULT_INTERVAL,clientId:t,chainId:m=O.ChainId.mainnet,supportedChainIds:f=[O.ChainId.mainnet,O.ChainId.sepolia],trackMetaMetricsEvent:p,state:g={},messenger:b,getMetaMetricsProps:y,getFeatureFlags:x,trace:w}){super({name:B,metadata:U,messenger:b,state:Object.assign(Object.assign({},F()),g)}),i.add(this),s.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,void 0),c.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,void 0),h.set(this,void 0),E(this,s,e,"f"),E(this,r,t,"f"),E(this,a,m,"f"),E(this,o,f,"f"),this.setIntervalLength(e),E(this,c,undefined,"f"),E(this,l,p,"f"),E(this,d,y,"f"),E(this,u,x,"f"),E(this,h,null!=w?w:(e,t)=>null==t?void 0:t(),"f"),this.initializeSmartTransactionsForChainId(),this.messenger.subscribe("NetworkController:stateChange",({selectedNetworkClientId:e})=>{const{configuration:{chainId:t},provider:n}=this.messenger.call("NetworkController:getNetworkClientById",e);E(this,a,t,"f"),E(this,c,new A.default(n),"f"),this.initializeSmartTransactionsForChainId(),this.checkPoll(this.state)}),this.messenger.subscribe(`${B}:stateChange`,e=>this.checkPoll(e))}async _executePoll({chainIds:e}){const t=(null!=e?e:[]).filter(e=>k(this,o,"f").includes(e));return 0===t.length?Promise.resolve():this.updateSmartTransactions({chainIds:t})}checkPoll({smartTransactionsState:{smartTransactions:e}}){const t=Object.values(e).flat(),n=null==t?void 0:t.filter(L.isSmartTransactionPending);!this.timeoutHandle&&(null==n?void 0:n.length)>0?this.poll():this.timeoutHandle&&0===(null==n?void 0:n.length)&&this.stop()}initializeSmartTransactionsForChainId(){k(this,o,"f").includes(k(this,a,"f"))&&this.update(e=>{var t;e.smartTransactionsState.smartTransactions[k(this,a,"f")]=null!==(t=e.smartTransactionsState.smartTransactions[k(this,a,"f")])&&void 0!==t?t:[]})}async poll(e){e&&E(this,s,e,"f"),this.timeoutHandle&&clearInterval(this.timeoutHandle),k(this,o,"f").includes(k(this,a,"f"))&&(this.timeoutHandle=setInterval(()=>{(0,O.safelyExecute)(async()=>this.updateSmartTransactions())},k(this,s,"f")),await(0,O.safelyExecute)(async()=>this.updateSmartTransactions()))}async stop(){this.timeoutHandle&&clearInterval(this.timeoutHandle),this.timeoutHandle=undefined}setOptInState(e){this.update(t=>{t.smartTransactionsState.userOptInV2=e})}trackStxStatusChange(e,t){let n=(0,j.default)(e);n=Object.assign(Object.assign({},(0,j.default)(t)),n),n.status!==(null==t?void 0:t.status)&&k(this,l,"f").call(this,{event:R.MetaMetricsEventName.StxStatusUpdated,category:R.MetaMetricsEventCategory.Transactions,properties:(0,L.getSmartTransactionMetricsProperties)(n),sensitiveProperties:(0,L.getSmartTransactionMetricsSensitiveProperties)(n)})}isNewSmartTransaction(e,t){const{smartTransactionsState:{smartTransactions:n}}=this.state,i=n[null!=t?t:k(this,a,"f")],s=null==i?void 0:i.findIndex(t=>t.uuid===e);return-1===s||s===undefined}updateSmartTransaction(e,{networkClientId:t}={}){let n=k(this,c,"f"),s=k(this,a,"f");if(t){const{configuration:e,provider:i}=this.messenger.call("NetworkController:getNetworkClientById",t);s=e.chainId,n=new A.default(i)}k(this,i,"m",g).call(this,e,{chainId:s,ethQuery:n})}async updateSmartTransactions({chainIds:e}={chainIds:k(this,i,"m",w).call(this)}){const{smartTransactionsState:{smartTransactions:t}}=this.state;for(const[n,s]of Object.entries(t)){if(e&&!e.includes(n))continue;const t=s.filter(L.isSmartTransactionPending).map(e=>{const t=k(this,i,"m",S).call(this,{chainId:n});return{uuid:e.uuid,networkClientId:t,chainId:e.chainId}});t.length>0&&await this.fetchSmartTransactionsStatus(t)}}async fetchSmartTransactionsStatus(e){const{chainId:t}=e[0],n=e.map(e=>e.uuid),s=new URLSearchParams({uuids:n.join(",")}),r=k(this,i,"m",T).call(this,{networkClientId:e[0].networkClientId}),a=`${(0,L.getAPIRequestURL)(M.APIType.BATCH_STATUS,t)}?${s.toString()}`,o=await k(this,i,"m",m).call(this,a);for(const[n,s]of Object.entries(o)){const a=e.find(e=>e.uuid===n);if(!a){console.error(`No matching transaction found for uuid: ${n}`);continue}const o={statusMetadata:s,status:(0,L.calculateStatus)(s),cancellable:(0,L.isSmartTransactionCancellable)(s),uuid:n,networkClientId:a.networkClientId};await k(this,i,"m",g).call(this,o,{chainId:t,ethQuery:r})}return o}clearFees(){const e={approvalTxFees:null,tradeTxFees:null};return this.update(t=>{t.smartTransactionsState.fees=e}),e}async getFees(e,t,{networkClientId:n}={}){const s=null!=n?n:this.messenger.call("NetworkController:getState").selectedNetworkClientId,r=k(this,i,"m",x).call(this,{networkClientId:s}),o=[];let c;if(t){const n=await k(this,i,"m",y).call(this,t,s);o.push(n),c=Object.assign(Object.assign({},e),{nonce:(0,L.incrementNonceInHex)(n.nonce)})}else c=e.nonce?e:await k(this,i,"m",y).call(this,e,s);o.push(c);const l=await k(this,h,"f").call(this,{name:R.SmartTransactionsTraceName.GetFees},async()=>await k(this,i,"m",m).call(this,(0,L.getAPIRequestURL)(M.APIType.GET_FEES,r),{method:"POST",body:JSON.stringify({txs:o})}));let d,u;return t?(d=null==l?void 0:l.txs[0],u=null==l?void 0:l.txs[1]):(d=null,u=null==l?void 0:l.txs[0]),this.update(e=>{r===k(this,a,"f")&&(e.smartTransactionsState.fees={approvalTxFees:d,tradeTxFees:u}),e.smartTransactionsState.feesByChainId[r]={approvalTxFees:d,tradeTxFees:u}}),{approvalTxFees:d,tradeTxFees:u}}async submitSignedTransactions({transactionMeta:e,txParams:t,signedTransactions:n,signedCanceledTransactions:s=[],networkClientId:r}){var a,o;const c=null!=r?r:this.messenger.call("NetworkController:getState").selectedNetworkClientId,l=k(this,i,"m",x).call(this,{networkClientId:c}),d=k(this,i,"m",T).call(this,{networkClientId:c}),u=await k(this,h,"f").call(this,{name:R.SmartTransactionsTraceName.SubmitTransactions},async()=>await k(this,i,"m",m).call(this,(0,L.getAPIRequestURL)(M.APIType.SUBMIT_TRANSACTIONS,l),{method:"POST",body:JSON.stringify({rawTxs:n,rawCancelTxs:s})})),f=Date.now();let p;try{if(null==t?void 0:t.from){const e=await(0,O.query)(d,"getBalance",[t.from]);p=new N.BigNumber(e).toString(16)}}catch(e){console.error("ethQuery.getBalance error:",e)}let b,y,w={};if(t&&!t.nonce)try{y=await this.messenger.call("TransactionController:getNonceLock",t.from,c),b=(0,P.hexlify)(y.nextNonce),w=y.nonceDetails,null!==(a=t.nonce)&&void 0!==a||(t.nonce=b)}catch(e){throw console.error("Failed to acquire nonce lock:",e),e}const S=n.map(e=>(0,L.getTxHash)(e)),v=Object.assign(Object.assign({},u),{txHash:S[S.length-1],txHashes:S});try{await k(this,i,"m",g).call(this,{chainId:l,nonceDetails:w,preTxBalance:p,status:M.SmartTransactionStatuses.PENDING,time:f,txParams:t,uuid:v.uuid,txHash:v.txHash,cancellable:!0,type:null!==(o=null==e?void 0:e.type)&&void 0!==o?o:"swap",transactionId:null==e?void 0:e.id,networkClientId:c,txHashes:S},{chainId:l,ethQuery:d})}catch(e){throw console.error("Failed to create a smart transaction:",e),e}finally{y&&y.releaseLock()}return v}async cancelSmartTransaction(e,{networkClientId:t}={}){const n=k(this,i,"m",x).call(this,{networkClientId:t});await k(this,h,"f").call(this,{name:R.SmartTransactionsTraceName.CancelTransaction},async()=>await k(this,i,"m",m).call(this,(0,L.getAPIRequestURL)(M.APIType.CANCEL,n),{method:"POST",body:JSON.stringify({uuid:e})}))}async fetchLiveness({networkClientId:e,chainId:t}={}){const n=null!=t?t:k(this,i,"m",x).call(this,{networkClientId:e});let s=!1;try{const e=await k(this,h,"f").call(this,{name:R.SmartTransactionsTraceName.FetchLiveness},async()=>await k(this,i,"m",m).call(this,(0,L.getAPIRequestURL)(M.APIType.LIVENESS,n)));s=Boolean(e.smartTransactions)}catch(e){console.log('"fetchLiveness" API call failed')}return this.update(e=>{n===k(this,a,"f")&&(e.smartTransactionsState.liveness=s),e.smartTransactionsState.livenessByChainId[n]=s}),s}async setStatusRefreshInterval(e){e!==k(this,s,"f")&&E(this,s,e,"f")}getTransactions({addressFrom:e,status:t}){return k(this,i,"m",v).call(this).filter(n=>{var i;return n.status===t&&(null===(i=n.txParams)||void 0===i?void 0:i.from)===e})}getSmartTransactionByMinedTxHash(e){if(!e)return undefined;return k(this,i,"m",v).call(this).find(t=>{var n,i;return(null===(i=null===(n=t.statusMetadata)||void 0===n?void 0:n.minedHash)||void 0===i?void 0:i.toLowerCase())===e.toLowerCase()})}wipeSmartTransactions({address:e,ignoreNetwork:t}){if(!e)return;const n=e.toLowerCase();if(t){const{smartTransactionsState:{smartTransactions:e}}=this.state;Object.keys(e).forEach(e=>{k(this,i,"m",_).call(this,{chainId:e,addressLowerCase:n})})}else k(this,i,"m",_).call(this,{chainId:k(this,a,"f"),addressLowerCase:n})}}n.SmartTransactionsController=H,s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap,i=new WeakSet,m=async function(e,t){const n=Object.assign(Object.assign({},t),{headers:Object.assign({"Content-Type":"application/json"},k(this,r,"f")&&{"X-Client-Id":k(this,r,"f")})});return(0,L.handleFetch)(e,n)},f=function(e,{chainId:t=k(this,a,"f")}){var n;const{smartTransactionsState:{smartTransactions:i}}=this.state,s=null!==(n=i[t])&&void 0!==n?n:[],r=null==s?void 0:s.findIndex(t=>t.uuid===e.uuid);-1!==r&&(0,O.isSafeDynamicKey)(t)&&this.update(n=>{n.smartTransactionsState.smartTransactions[t][r]=Object.assign(Object.assign({},n.smartTransactionsState.smartTransactions[t][r]),e)})},p=async function(e){const t=await k(this,d,"f").call(this);e.accountHardwareType=null==t?void 0:t.accountHardwareType,e.accountType=null==t?void 0:t.accountType,e.deviceModel=null==t?void 0:t.deviceModel},g=async function(e,{chainId:t=k(this,a,"f"),ethQuery:n=k(this,c,"f")}){var s;const{smartTransactionsState:{smartTransactions:o}}=this.state,l=null!==(s=o[t])&&void 0!==s?s:[],d=null==l?void 0:l.findIndex(t=>t.uuid===e.uuid),h=this.isNewSmartTransaction(e.uuid,t);if(n===undefined)throw new Error(D);if(h)try{await k(this,i,"m",p).call(this,e)}catch(e){console.error("Failed to add metrics props to smart transaction:",e)}if(this.trackStxStatusChange(e,h?undefined:l[d]),h){const n=null==l?void 0:l.findIndex(t=>{var n,i,s;return(null===(n=t.txParams)||void 0===n?void 0:n.nonce)===(null===(i=e.txParams)||void 0===i?void 0:i.nonce)&&(null===(s=t.status)||void 0===s?void 0:s.startsWith("cancelled"))}),i=[(0,j.default)(e)],s=Object.assign(Object.assign({},e),{history:i}),r=n>-1?l.slice(0,n).concat(l.slice(n+1)).concat(s):l.concat(s);return void this.update(e=>{e.smartTransactionsState.smartTransactions[t]=r})}const m=l[d],g=Object.assign(Object.assign({},m),e);this.messenger.publish("SmartTransactionsController:smartTransaction",g),(0,L.shouldMarkRegularTransactionsAsFailed)({smartTransaction:g,clientId:k(this,r,"f"),getFeatureFlags:k(this,u,"f")})&&(0,L.markRegularTransactionsAsFailed)({smartTransaction:g,getRegularTransactions:()=>this.messenger.call("TransactionController:getTransactions"),updateTransaction:(e,t)=>this.messenger.call("TransactionController:updateTransaction",e,t)}),e.status!==M.SmartTransactionStatuses.SUCCESS&&e.status!==M.SmartTransactionStatuses.REVERTED||e.confirmed?k(this,i,"m",f).call(this,e,{chainId:t}):await k(this,i,"m",b).call(this,g,{chainId:t,ethQuery:n})},b=async function(e,{chainId:t=k(this,a,"f"),ethQuery:n=k(this,c,"f")}){var s;if(n===undefined)throw new Error(D);const r=null===(s=e.statusMetadata)||void 0===s?void 0:s.minedHash;try{const s=await(0,O.query)(n,"getTransactionReceipt",[r]);(null==s?void 0:s.blockNumber)&&(k(this,l,"f").call(this,{event:R.MetaMetricsEventName.StxConfirmed,category:R.MetaMetricsEventCategory.Transactions,properties:(0,L.getSmartTransactionMetricsProperties)(e),sensitiveProperties:(0,L.getSmartTransactionMetricsSensitiveProperties)(e)}),k(this,i,"m",f).call(this,Object.assign(Object.assign({},e),{confirmed:!0}),{chainId:t}))}catch(e){k(this,l,"f").call(this,{event:R.MetaMetricsEventName.StxConfirmationFailed,category:R.MetaMetricsEventCategory.Transactions}),console.error("confirm error",e)}finally{this.messenger.publish("SmartTransactionsController:smartTransactionConfirmationDone",e)}},y=async function(e,t){const n=await this.messenger.call("TransactionController:getNonceLock",e.from,t),i=n.nextNonce;return n.releaseLock(),Object.assign(Object.assign({},e),{nonce:`0x${i.toString(16)}`})},x=function({networkClientId:e}={}){return e?this.messenger.call("NetworkController:getNetworkClientById",e).configuration.chainId:k(this,a,"f")},w=function(){const{networkConfigurationsByChainId:e}=this.messenger.call("NetworkController:getState");return Object.keys(e).filter(e=>k(this,o,"f").includes(e))},S=function({chainId:e}){const{networkConfigurationsByChainId:t}=this.messenger.call("NetworkController:getState");return t[e].rpcEndpoints[t[e].defaultRpcEndpointIndex].networkClientId},T=function({networkClientId:e}={}){if(e){const{provider:t}=this.messenger.call("NetworkController:getNetworkClientById",e);return new A.default(t)}if(k(this,c,"f")===undefined)throw new Error(D);return k(this,c,"f")},v=function(){const{smartTransactionsState:{smartTransactions:e}}=this.state,t=Object.values(e).flat();return t&&0!==t.length?t:[]},_=function({chainId:e,addressLowerCase:t}){const{smartTransactionsState:{smartTransactions:n}}=this.state,i=null==n?void 0:n[e];if(!i||0===i.length)return;const s=i.filter(e=>{var n;return(null===(n=e.txParams)||void 0===n?void 0:n.from)!==t});this.update(t=>{t.smartTransactionsState.smartTransactions[e]=s})}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/SmartTransactionsController.cjs"}],[2642,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SmartTransactionsTraceName=n.MetaMetricsEventCategory=n.MetaMetricsEventName=n.SENTINEL_API_BASE_URL_MAP=n.API_BASE_URL=void 0,n.API_BASE_URL="https://transaction.api.cx.metamask.io",n.SENTINEL_API_BASE_URL_MAP={1:"https://tx-sentinel-ethereum-mainnet.api.cx.metamask.io",56:"https://tx-sentinel-bsc-mainnet.api.cx.metamask.io",137:"https://tx-sentinel-polygon-mainnet.api.cx.metamask.io",8453:"https://tx-sentinel-base-mainnet.api.cx.metamask.io",42161:"https://tx-sentinel-arbitrum-mainnet.api.cx.metamask.io",59144:"https://tx-sentinel-linea-mainnet.api.cx.metamask.io",11155111:"https://tx-sentinel-ethereum-sepolia.api.cx.metamask.io"},function(e){e.StxStatusUpdated="STX Status Updated",e.StxConfirmed="STX Confirmed",e.StxConfirmationFailed="STX Confirmation Failed",e.ReceiveRequest="Receive Request"}(n.MetaMetricsEventName||(n.MetaMetricsEventName={})),function(e){e.Transactions="Transactions",e.Navigation="Navigation"}(n.MetaMetricsEventCategory||(n.MetaMetricsEventCategory={})),function(e){e.GetFees="Smart Transactions: Get Fees",e.SubmitTransactions="Smart Transactions: Submit Transactions",e.CancelTransaction="Smart Transactions: Cancel Transaction",e.FetchLiveness="Smart Transactions: Fetch Liveness"}(n.SmartTransactionsTraceName||(n.SmartTransactionsTraceName={}))}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/constants.cjs"}],[2643,{"./SmartTransactionsController.cjs":2641,"./constants.cjs":2642,"./types.cjs":2644,"./utils.cjs":2645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSmartTransactionMetricsSensitiveProperties=n.getSmartTransactionMetricsProperties=n.MetaMetricsEventCategory=n.MetaMetricsEventName=n.ClientId=n.SmartTransactionStatuses=n.SmartTransactionCancellationReason=n.SmartTransactionMinedTx=n.SmartTransactionsController=void 0;var i=e("./SmartTransactionsController.cjs");Object.defineProperty(n,"SmartTransactionsController",{enumerable:!0,get:function(){return i.SmartTransactionsController}});var s=e("./types.cjs");Object.defineProperty(n,"SmartTransactionMinedTx",{enumerable:!0,get:function(){return s.SmartTransactionMinedTx}}),Object.defineProperty(n,"SmartTransactionCancellationReason",{enumerable:!0,get:function(){return s.SmartTransactionCancellationReason}}),Object.defineProperty(n,"SmartTransactionStatuses",{enumerable:!0,get:function(){return s.SmartTransactionStatuses}}),Object.defineProperty(n,"ClientId",{enumerable:!0,get:function(){return s.ClientId}});var r=e("./constants.cjs");Object.defineProperty(n,"MetaMetricsEventName",{enumerable:!0,get:function(){return r.MetaMetricsEventName}}),Object.defineProperty(n,"MetaMetricsEventCategory",{enumerable:!0,get:function(){return r.MetaMetricsEventCategory}});var a=e("./utils.cjs");Object.defineProperty(n,"getSmartTransactionMetricsProperties",{enumerable:!0,get:function(){return a.getSmartTransactionMetricsProperties}}),Object.defineProperty(n,"getSmartTransactionMetricsSensitiveProperties",{enumerable:!0,get:function(){return a.getSmartTransactionMetricsSensitiveProperties}})}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/index.cjs"}],[2644,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i,s;Object.defineProperty(n,"__esModule",{value:!0}),n.cancellationReasonToStatusMap=n.ClientId=n.SmartTransactionStatuses=n.SmartTransactionCancellationReason=n.SmartTransactionMinedTx=n.APIType=void 0,function(e){e[e.GET_FEES=0]="GET_FEES",e[e.ESTIMATE_GAS=1]="ESTIMATE_GAS",e[e.SUBMIT_TRANSACTIONS=2]="SUBMIT_TRANSACTIONS",e[e.CANCEL=3]="CANCEL",e[e.BATCH_STATUS=4]="BATCH_STATUS",e[e.LIVENESS=5]="LIVENESS"}(n.APIType||(n.APIType={})),function(e){e.NOT_MINED="not_mined",e.SUCCESS="success",e.CANCELLED="cancelled",e.REVERTED="reverted",e.UNKNOWN="unknown"}(n.SmartTransactionMinedTx||(n.SmartTransactionMinedTx={})),function(e){e.WOULD_REVERT="would_revert",e.TOO_CHEAP="too_cheap",e.DEADLINE_MISSED="deadline_missed",e.INVALID_NONCE="invalid_nonce",e.USER_CANCELLED="user_cancelled",e.NOT_CANCELLED="not_cancelled"}(i=n.SmartTransactionCancellationReason||(n.SmartTransactionCancellationReason={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.REVERTED="reverted",e.UNKNOWN="unknown",e.CANCELLED="cancelled",e.CANCELLED_USER_CANCELLED="cancelled_user_cancelled",e.RESOLVED="resolved"}(s=n.SmartTransactionStatuses||(n.SmartTransactionStatuses={})),function(e){e.Mobile="mobile",e.Extension="extension"}(n.ClientId||(n.ClientId={})),n.cancellationReasonToStatusMap={[i.WOULD_REVERT]:s.CANCELLED,[i.TOO_CHEAP]:s.CANCELLED,[i.DEADLINE_MISSED]:s.CANCELLED,[i.INVALID_NONCE]:s.CANCELLED,[i.USER_CANCELLED]:s.CANCELLED_USER_CANCELLED}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/types.cjs"}],[2645,{"../package.json":2651,"./constants.cjs":2642,"./types.cjs":2644,"@ethersproject/bytes":739,"@ethersproject/keccak256":765,"@ethersproject/transactions":816,"@metamask/transaction-controller":2994,"bignumber.js":2650,lodash:4838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.markRegularTransactionsAsFailed=n.shouldMarkRegularTransactionsAsFailed=n.getReturnTxHashAsap=n.getSmartTransactionMetricsSensitiveProperties=n.getSmartTransactionMetricsProperties=n.getTxHash=n.incrementNonceInHex=n.isSmartTransactionCancellable=n.handleFetch=n.mapKeysToCamel=n.getStxProcessingTime=n.calculateStatus=n.getAPIRequestURL=n.isSmartTransactionStatusResolved=n.isSmartTransactionPending=void 0;const s=e("@ethersproject/bytes"),r=e("@ethersproject/keccak256"),a=e("@ethersproject/transactions"),o=e("@metamask/transaction-controller"),c=e("bignumber.js"),l=i(e("lodash")),d=i(e("../package.json")),u=e("./constants.cjs"),h=e("./types.cjs");n.isSmartTransactionPending=function(e){return e.status===h.SmartTransactionStatuses.PENDING};n.isSmartTransactionStatusResolved=e=>"uuid_not_found"===e,n.getAPIRequestURL=function(e,t){const n=parseInt(t,16);switch(e){case h.APIType.GET_FEES:return`${u.API_BASE_URL}/networks/${n}/getFees`;case h.APIType.ESTIMATE_GAS:return`${u.API_BASE_URL}/networks/${n}/estimateGas`;case h.APIType.SUBMIT_TRANSACTIONS:return`${u.API_BASE_URL}/networks/${n}/submitTransactions?stxControllerVersion=${d.default.version}`;case h.APIType.CANCEL:return`${u.API_BASE_URL}/networks/${n}/cancel`;case h.APIType.BATCH_STATUS:return`${u.API_BASE_URL}/networks/${n}/batchStatus`;case h.APIType.LIVENESS:return`${u.SENTINEL_API_BASE_URL_MAP[n]}/network`;default:throw new Error("Invalid APIType")}};n.calculateStatus=e=>{if((0,n.isSmartTransactionStatusResolved)(e))return h.SmartTransactionStatuses.RESOLVED;const t=[h.SmartTransactionCancellationReason.WOULD_REVERT,h.SmartTransactionCancellationReason.TOO_CHEAP,h.SmartTransactionCancellationReason.DEADLINE_MISSED,h.SmartTransactionCancellationReason.INVALID_NONCE,h.SmartTransactionCancellationReason.USER_CANCELLED];if((null==e?void 0:e.minedTx)===h.SmartTransactionMinedTx.NOT_MINED){if(e.cancellationReason===h.SmartTransactionCancellationReason.NOT_CANCELLED)return h.SmartTransactionStatuses.PENDING;const n=t.findIndex(t=>t===e.cancellationReason)>-1;if(e.cancellationReason&&n)return e.isSettled?h.cancellationReasonToStatusMap[e.cancellationReason]:h.SmartTransactionStatuses.PENDING}else{if((null==e?void 0:e.minedTx)===h.SmartTransactionMinedTx.SUCCESS)return h.SmartTransactionStatuses.SUCCESS;if((null==e?void 0:e.minedTx)===h.SmartTransactionMinedTx.CANCELLED)return h.SmartTransactionStatuses.CANCELLED;if((null==e?void 0:e.minedTx)===h.SmartTransactionMinedTx.REVERTED)return h.SmartTransactionStatuses.REVERTED;if((null==e?void 0:e.minedTx)===h.SmartTransactionMinedTx.UNKNOWN)return h.SmartTransactionStatuses.UNKNOWN}return h.SmartTransactionStatuses.UNKNOWN};n.getStxProcessingTime=e=>e?Math.round((Date.now()-e)/1e3):undefined;n.mapKeysToCamel=e=>{if(!l.default.isObject(e))return e;const t=l.default.mapValues(e,e=>l.default.isArray(e)?e.map(n.mapKeysToCamel):l.default.isObject(e)?(0,n.mapKeysToCamel)(e):e);return l.default.mapKeys(t,(e,t)=>l.default.camelCase(t))},n.handleFetch=async function(e,t){const i=await fetch(e,t),s=await i.json();if(!i.ok)throw console.log("response",i),new Error(`Fetch error:${JSON.stringify(Object.assign({status:i.status},(0,n.mapKeysToCamel)(s)))}`);return s};n.isSmartTransactionCancellable=e=>e.minedTx===h.SmartTransactionMinedTx.NOT_MINED&&(!e.cancellationReason||e.cancellationReason===h.SmartTransactionCancellationReason.NOT_CANCELLED);n.incrementNonceInHex=e=>{const t=new c.BigNumber(e,16).toString(10);return(0,s.hexlify)(Number(t)+1)};n.getTxHash=e=>{var t;if(!e)return"";try{const n=(0,a.parse)(e);return null!==(t=null==n?void 0:n.hash)&&void 0!==t?t:""}catch(t){if((e=>"string"==typeof e&&e.startsWith("0x04"))(e))return(0,s.hexlify)((0,r.keccak256)((0,s.arrayify)(e)));throw t}};n.getSmartTransactionMetricsProperties=e=>{if(!e)return{};const t=e.statusMetadata;return{stx_status:e.status,type:e.type,processing_time:(0,n.getStxProcessingTime)(e.time),is_smart_transaction:!0,stx_enabled:!0,current_stx_enabled:!0,stx_user_opt_in:!0,stx_duplicated:null==t?void 0:t.duplicated,stx_timed_out:null==t?void 0:t.timedOut,stx_proxied:null==t?void 0:t.proxied}};n.getSmartTransactionMetricsSensitiveProperties=e=>e?{token_from_symbol:e.sourceTokenSymbol,token_to_symbol:e.destinationTokenSymbol,account_hardware_type:e.accountHardwareType,account_type:e.accountType,device_model:e.deviceModel}:{};n.getReturnTxHashAsap=(e,t)=>e===h.ClientId.Extension?null==t?void 0:t.extensionReturnTxHashAsap:null==t?void 0:t.mobileReturnTxHashAsap;n.shouldMarkRegularTransactionsAsFailed=({smartTransaction:e,clientId:t,getFeatureFlags:i})=>{var s;const{status:r,transactionId:a}=e,o=[h.SmartTransactionStatuses.CANCELLED,h.SmartTransactionStatuses.CANCELLED_USER_CANCELLED,h.SmartTransactionStatuses.UNKNOWN,h.SmartTransactionStatuses.RESOLVED];if(!r||!o.includes(r))return!1;const{smartTransactions:c}=null!==(s=i())&&void 0!==s?s:{},l=(0,n.getReturnTxHashAsap)(t,c);return Boolean(l&&a)};n.markRegularTransactionsAsFailed=({smartTransaction:e,getRegularTransactions:t,updateTransaction:n})=>{const{transactionId:i,status:s,txHashes:r}=e,a=t().filter(e=>e.hash&&(null==r?void 0:r.includes(e.hash))||e.id===i);if(!a.length)throw new Error("Cannot find regular transaction to mark it as failed");for(const e of a){if(e.status===o.TransactionStatus.failed)continue;n(Object.assign(Object.assign({},e),{status:o.TransactionStatus.failed,error:{name:"SmartTransactionFailed",message:`Smart transaction failed with status: ${s}`}}),`Smart transaction status: ${s}`)}}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/utils.cjs"}],[2646,{"fast-json-stable-stringify":4398,uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractPollingControllerBaseMixin=n.getKey=void 0;const r=s(e("fast-json-stable-stringify")),a=e("uuid");n.getKey=e=>(0,r.default)(e),n.AbstractPollingControllerBaseMixin=function(e){var t,s;return t=new WeakMap,s=new WeakMap,class extends e{constructor(){super(...arguments),t.set(this,new Map),s.set(this,new Map)}startPolling(e){const s=(0,a.v4)(),r=(0,n.getKey)(e),o=i(this,t,"f").get(r)??new Set;return o.add(s),i(this,t,"f").set(r,o),1===o.size&&this._startPolling(e),s}stopAllPolling(){i(this,t,"f").forEach((e,t)=>{e.forEach(e=>{this.stopPollingByPollingToken(e)})})}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let n=null;for(const[s,r]of i(this,t,"f"))if(r.delete(e)){0===r.size&&(n=s);break}if(n){this._stopPollingByPollingTokenSetId(n),i(this,t,"f").delete(n);const e=i(this,s,"f").get(n);if(e){for(const t of e)t(JSON.parse(n));e.clear()}}}onPollingComplete(e,t){const r=(0,n.getKey)(e),a=i(this,s,"f").get(r)??new Set;a.add(t),i(this,s,"f").set(r,a)}}}}}},{package:"@metamask/smart-transactions-controller>@metamask/polling-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/polling-controller/dist/AbstractPollingController.cjs"}],[2647,{"./AbstractPollingController.cjs":2646,"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;const s=e("@metamask/base-controller"),r=e("./AbstractPollingController.cjs");function a(e){var t;class n extends((0,r.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{})}_startPolling(e){const n=(0,r.getKey)(e);if(i(this,t,"f")[n])return;const s=this._getNetworkClientById(e.networkClientId);if(!s)throw new Error(`Unable to retrieve blockTracker for networkClientId ${e.networkClientId}`);{const r=this._executePoll.bind(this,e);s.blockTracker.addListener("latest",r),i(this,t,"f")[n]=r}}_stopPollingByPollingTokenSetId(e){const{networkClientId:n}=JSON.parse(e),s=this._getNetworkClientById(n);if(s&&i(this,t,"f")[e]){const n=i(this,t,"f")[e];n&&(s.blockTracker.removeListener("latest",n),delete i(this,t,"f")[e])}}}return t=new WeakMap,n}class o{}n.BlockTrackerPollingControllerOnly=()=>a(o);n.BlockTrackerPollingController=()=>a(s.BaseController)}}},{package:"@metamask/smart-transactions-controller>@metamask/polling-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/polling-controller/dist/BlockTrackerPollingController.cjs"}],[2648,{"./AbstractPollingController.cjs":2646,"@metamask/base-controller":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=this&&this.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=void 0;const r=e("@metamask/base-controller"),a=e("./AbstractPollingController.cjs");function o(e){var t,n;class r extends((0,a.AbstractPollingControllerBaseMixin)(e)){constructor(){super(...arguments),t.set(this,{}),n.set(this,1e3)}setIntervalLength(e){i(this,n,e,"f")}getIntervalLength(){return s(this,n,"f")}_startPolling(e){if(!s(this,n,"f"))throw new Error("intervalLength must be defined and greater than 0");const i=(0,a.getKey)(e),r=s(this,t,"f")[i];this._stopPollingByPollingTokenSetId(i);const o=s(this,t,"f")[i]=setTimeout(async()=>{try{await this._executePoll(e)}catch(e){console.error(e)}o===s(this,t,"f")[i]&&this._startPolling(e)},r?s(this,n,"f"):0)}_stopPollingByPollingTokenSetId(e){const n=s(this,t,"f")[e];n&&(clearTimeout(n),delete s(this,t,"f")[e])}}return t=new WeakMap,n=new WeakMap,r}class c{}n.StaticIntervalPollingControllerOnly=()=>o(c);n.StaticIntervalPollingController=()=>o(r.BaseController)}}},{package:"@metamask/smart-transactions-controller>@metamask/polling-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/polling-controller/dist/StaticIntervalPollingController.cjs"}],[2649,{"./BlockTrackerPollingController.cjs":2647,"./StaticIntervalPollingController.cjs":2648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StaticIntervalPollingController=n.StaticIntervalPollingControllerOnly=n.BlockTrackerPollingController=n.BlockTrackerPollingControllerOnly=void 0;var i=e("./BlockTrackerPollingController.cjs");Object.defineProperty(n,"BlockTrackerPollingControllerOnly",{enumerable:!0,get:function(){return i.BlockTrackerPollingControllerOnly}}),Object.defineProperty(n,"BlockTrackerPollingController",{enumerable:!0,get:function(){return i.BlockTrackerPollingController}});var s=e("./StaticIntervalPollingController.cjs");Object.defineProperty(n,"StaticIntervalPollingControllerOnly",{enumerable:!0,get:function(){return s.StaticIntervalPollingControllerOnly}}),Object.defineProperty(n,"StaticIntervalPollingController",{enumerable:!0,get:function(){return s.StaticIntervalPollingController}})}}},{package:"@metamask/smart-transactions-controller>@metamask/polling-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/polling-controller/dist/index.cjs"}],[2650,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,r=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,d=9007199254740991,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,m=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,n,i=1,s=e.length,r=e[0]+"";i<s;){for(t=e[i++]+"",n=l-t.length;n--;t="0"+t);r+=t}for(s=r.length;48===r.charCodeAt(--s););return r.slice(0,s+1||1)}function g(e,t){var n,i,s=e.c,r=t.c,a=e.s,o=t.s,c=e.e,l=t.e;if(!a||!o)return null;if(n=s&&!s[0],i=r&&!r[0],n||i)return n?i?0:-o:a;if(a!=o)return a;if(n=a<0,i=c==l,!s||!r)return i?0:!s^n?1:-1;if(!i)return c>l^n?1:-1;for(o=(c=s.length)<(l=r.length)?c:l,a=0;a<o;a++)if(s[a]!=r[a])return s[a]>r[a]^n?1:-1;return c==l?0:c>l^n?1:-1}function b(e,t,n,i){if(e<t||e>n||e!==r(e))throw Error(a+(i||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return f(e.e/l)==t&&e.c[t]%2!=0}function x(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var i,s;if(t<0){for(s=n+".";++t;s+=n);e=s+e}else if(++t>(i=e.length)){for(s=n,t-=i;--t;s+=n);e+=s}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,S,T,v,_,E,k,C,P,O,A=W.prototype={constructor:W,toString:null,valueOf:null},I=new W(1),N=20,j=4,R=-7,M=21,L=-1e7,D=1e7,B=!1,U=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function W(e,t){var n,s,a,c,u,h,m,f,p=this;if(!(p instanceof W))return new W(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>D?p.c=p.e=null:e.e<L?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);return void(c>D?p.c=p.e=null:(p.e=c,p.c=[e]))}f=String(e)}else{if(!i.test(f=String(e)))return T(p,f,h);p.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(c=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(c<0&&(c=u),c+=+f.slice(u+1),f=f.substring(0,u)):c<0&&(c=f.length)}else{if(b(t,2,K.length,"Base"),10==t&&G)return z(p=new W(e),N+p.e+1,j);if(f=String(e),h="number"==typeof e){if(0*e!=0)return T(p,f,h,t);if(p.s=1/e<0?(f=f.slice(1),-1):1,W.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(o+e)}else p.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=K.slice(0,t),c=u=0,m=f.length;u<m;u++)if(n.indexOf(s=f.charAt(u))<0){if("."==s){if(u>c){c=m;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,u=-1,c=0;continue}return T(p,String(e),h,t)}h=!1,(c=(f=S(f,t,10,p.s)).indexOf("."))>-1?f=f.replace(".",""):c=f.length}for(u=0;48===f.charCodeAt(u);u++);for(m=f.length;48===f.charCodeAt(--m););if(f=f.slice(u,++m)){if(m-=u,h&&W.DEBUG&&m>15&&(e>d||e!==r(e)))throw Error(o+p.s*e);if((c=c-u-1)>D)p.c=p.e=null;else if(c<L)p.c=[p.e=0];else{if(p.e=c,p.c=[],u=(c+1)%l,c<0&&(u+=l),u<m){for(u&&p.c.push(+f.slice(0,u)),m-=l;u<m;)p.c.push(+f.slice(u,u+=l));u=l-(f=f.slice(u)).length}else u-=m;for(;u--;f+="0");p.c.push(+f)}}else p.c=[p.e=0]}function q(e,t,n,i){var s,r,a,o,c;if(null==n?n=j:b(n,0,8),!e.c)return e.toString();if(s=e.c[0],a=e.e,null==t)c=p(e.c),c=1==i||2==i&&(a<=R||a>=M)?x(c,a):w(c,a,"0");else if(r=(e=z(new W(e),t,n)).e,o=(c=p(e.c)).length,1==i||2==i&&(t<=r||r<=R)){for(;o<t;c+="0",o++);c=x(c,r)}else if(t-=a,c=w(c,r,"0"),r+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=r-o)>0)for(r+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function V(e,t){for(var n,i,s=1,r=new W(e[0]);s<e.length;s++)(!(i=new W(e[s])).s||(n=g(r,i))===t||0===n&&r.s===t)&&(r=i);return r}function $(e,t,n){for(var i=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,i++);return(n=i+n*l-1)>D?e.c=e.e=null:n<L?e.c=[e.e=0]:(e.e=n,e.c=t),e}function z(e,t,n,i){var a,o,d,h,m,f,p,g=e.c,b=u;if(g){e:{for(a=1,h=g[0];h>=10;h/=10,a++);if((o=t-a)<0)o+=l,d=t,m=g[f=0],p=r(m/b[a-d-1]%10);else if((f=s((o+1)/l))>=g.length){if(!i)break e;for(;g.length<=f;g.push(0));m=p=0,a=1,d=(o%=l)-l+1}else{for(m=h=g[f],a=1;h>=10;h/=10,a++);p=(d=(o%=l)-l+a)<0?0:r(m/b[a-d-1]%10)}if(i=i||t<0||null!=g[f+1]||(d<0?m:m%b[a-d-1]),i=n<4?(p||i)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||i||6==n&&(o>0?d>0?m/b[a-d]:0:g[f-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,i?(t-=e.e+1,g[0]=b[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==o?(g.length=f,h=1,f--):(g.length=f+1,h=b[l-o],g[f]=d>0?r(m/b[a-d]%b[d])*h:0),i)for(;;){if(0==f){for(o=1,d=g[0];d>=10;d/=10,o++);for(d=g[0]+=h,h=1;d>=10;d/=10,h++);o!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[f]+=h,g[f]!=c)break;g[f--]=0,h=1}for(o=g.length;0===g[--o];g.pop());}e.e>D?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function X(e){var t,n=e.e;return null===n?e.toString():(t=p(e.c),t=n<=R||n>=M?x(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return W.clone=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,m,t),N=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),j=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-m,0,t),b(n[1],0,m,t),R=n[0],M=n[1]):(b(n,-m,m,t),R=-(M=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-m,-1,t),b(n[1],1,m,t),L=n[0],D=n[1];else{if(b(n,-m,m,t),!n)throw Error(a+t+" cannot be zero: "+n);L=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(a+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,m,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);G="0123456789"==n.slice(0,10),K=n}}return{DECIMAL_PLACES:N,ROUNDING_MODE:j,EXPONENTIAL_AT:[R,M],RANGE:[L,D],CRYPTO:B,MODULO_MODE:U,POW_PRECISION:F,FORMAT:H,ALPHABET:K}},W.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!W.DEBUG)return!0;var t,n,i=e.c,s=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===o||-1===o)&&s>=-m&&s<=m&&s===r(s)){if(0===i[0]){if(0===s&&1===i.length)return!0;break e}if((t=(s+1)%l)<1&&(t+=l),String(i[0]).length==t){for(t=0;t<i.length;t++)if((n=i[t])<0||n>=c||n!==r(n))break e;if(0!==n)return!0}}}else if(null===i&&null===s&&(null===o||1===o||-1===o))return!0;throw Error(a+"Invalid BigNumber: "+e)},W.maximum=W.max=function(){return V(arguments,-1)},W.minimum=W.min=function(){return V(arguments,1)},W.random=(v=9007199254740992,_=Math.random()*v&2097151?function(){return r(Math.random()*v)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,i,o,c,d=0,h=[],f=new W(I);if(null==e?e=N:b(e,0,m),o=s(e/l),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));d<o;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(h.push(c%1e14),d+=2);d=o/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(o*=7);d<o;)(c=281474976710656*(31&t[d])+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(h.push(c%1e14),d+=7);d=o/7}if(!B)for(;d<o;)(c=_())<9e15&&(h[d++]=c%1e14);for(o=h[--d],e%=l,o&&e&&(c=u[l-e],h[d]=r(o/c)*c);0===h[d];h.pop(),d--);if(d<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=l);for(d=1,c=h[0];c>=10;c/=10,d++);d<l&&(i-=l-d)}return f.e=i,f.c=h,f}),W.sum=function(){for(var e=1,t=arguments,n=new W(t[0]);e<t.length;)n=n.plus(t[e++]);return n},S=function(){var e="0123456789";function t(e,t,n,i){for(var s,r,a=[0],o=0,c=e.length;o<c;){for(r=a.length;r--;a[r]*=t);for(a[0]+=i.indexOf(e.charAt(o++)),s=0;s<a.length;s++)a[s]>n-1&&(null==a[s+1]&&(a[s+1]=0),a[s+1]+=a[s]/n|0,a[s]%=n)}return a.reverse()}return function(i,s,r,a,o){var c,l,d,u,h,m,f,g,b=i.indexOf("."),y=N,x=j;for(b>=0&&(u=F,F=0,i=i.replace(".",""),m=(g=new W(s)).pow(i.length-b),F=u,g.c=t(w(p(m.c),m.e,"0"),10,r,e),g.e=g.c.length),d=u=(f=t(i,s,r,o?(c=K,e):(c=e,K))).length;0==f[--u];f.pop());if(!f[0])return c.charAt(0);if(b<0?--d:(m.c=f,m.e=d,m.s=a,f=(m=n(m,g,y,x,r)).c,h=m.r,d=m.e),b=f[l=d+y+1],u=r/2,h=h||l<0||null!=f[l+1],h=x<4?(null!=b||h)&&(0==x||x==(m.s<0?3:2)):b>u||b==u&&(4==x||h||6==x&&1&f[l-1]||x==(m.s<0?8:7)),l<1||!f[0])i=h?w(c.charAt(1),-y,c.charAt(0)):c.charAt(0);else{if(f.length=l,h)for(--r;++f[--l]>r;)f[l]=0,l||(++d,f=[1].concat(f));for(u=f.length;!f[--u];);for(b=0,i="";b<=u;i+=c.charAt(f[b++]));i=w(i,d,c.charAt(0))}return i}}(),n=function(){function e(e,t,n){var i,s,r,a,o=0,c=e.length,l=t%h,d=t/h|0;for(e=e.slice();c--;)o=((s=l*(r=e[c]%h)+(i=d*r+(a=e[c]/h|0)*l)%h*h+o)/n|0)+(i/h|0)+d*a,e[c]=s%n;return o&&(e=[o].concat(e)),e}function t(e,t,n,i){var s,r;if(n!=i)r=n>i?1:-1;else for(s=r=0;s<n;s++)if(e[s]!=t[s]){r=e[s]>t[s]?1:-1;break}return r}function n(e,t,n,i){for(var s=0;n--;)e[n]-=s,s=e[n]<t[n]?1:0,e[n]=s*i+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,s,a,o,d){var u,h,m,p,g,b,y,x,w,S,T,v,_,E,k,C,P,O=i.s==s.s?1:-1,A=i.c,I=s.c;if(!(A&&A[0]&&I&&I[0]))return new W(i.s&&s.s&&(A?!I||A[0]!=I[0]:I)?A&&0==A[0]||!I?0*O:O/0:NaN);for(w=(x=new W(O)).c=[],O=a+(h=i.e-s.e)+1,d||(d=c,h=f(i.e/l)-f(s.e/l),O=O/l|0),m=0;I[m]==(A[m]||0);m++);if(I[m]>(A[m]||0)&&h--,O<0)w.push(1),p=!0;else{for(E=A.length,C=I.length,m=0,O+=2,(g=r(d/(I[0]+1)))>1&&(I=e(I,g,d),A=e(A,g,d),C=I.length,E=A.length),_=C,T=(S=A.slice(0,C)).length;T<C;S[T++]=0);P=I.slice(),P=[0].concat(P),k=I[0],I[1]>=d/2&&k++;do{if(g=0,(u=t(I,S,C,T))<0){if(v=S[0],C!=T&&(v=v*d+(S[1]||0)),(g=r(v/k))>1)for(g>=d&&(g=d-1),y=(b=e(I,g,d)).length,T=S.length;1==t(b,S,y,T);)g--,n(b,C<y?P:I,y,d),y=b.length,u=1;else 0==g&&(u=g=1),y=(b=I.slice()).length;if(y<T&&(b=[0].concat(b)),n(S,b,T,d),T=S.length,-1==u)for(;t(I,S,C,T)<1;)g++,n(S,C<T?P:I,T,d),T=S.length}else 0===u&&(g++,S=[0]);w[m++]=g,S[0]?S[T++]=A[_]||0:(S=[A[_]],T=1)}while((_++<E||null!=S[0])&&O--);p=null!=S[0],w[0]||w.splice(0,1)}if(d==c){for(m=1,O=w[0];O>=10;O/=10,m++);z(x,a+(x.e=m+h*l-1)+1,o,p)}else x.e=h,x.r=+p;return x}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,C=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,n,i){var s,r=n?t:t.replace(O,"");if(P.test(r))e.s=isNaN(r)?null:r<0?-1:1;else{if(!n&&(r=r.replace(E,function(e,t,n){return s="x"==(n=n.toLowerCase())?16:"b"==n?2:8,i&&i!=s?e:t}),i&&(s=i,r=r.replace(k,"$1").replace(C,"0.$1")),t!=r))return new W(r,s);if(W.DEBUG)throw Error(a+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return g(this,new W(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,i,s,r=this;if(null!=e)return b(e,0,m),null==t?t=j:b(t,0,8),z(new W(r),e+r.e+1,t);if(!(n=r.c))return null;if(i=((s=n.length-1)-f(this.e/l))*l,s=n[s])for(;s%10==0;s/=10,i--);return i<0&&(i=0),i},A.dividedBy=A.div=function(e,t){return n(this,new W(e,t),N,j)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new W(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,i,o,c,d,u,h,m,f=this;if((e=new W(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+X(e));if(null!=t&&(t=new W(t)),d=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return m=new W(Math.pow(+X(f),d?e.s*(2-y(e)):+X(e))),t?m.mod(t):m;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new W(NaN);(i=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||d&&f.c[1]>=24e7:f.c[0]<8e13||d&&f.c[0]<=9999975e7)))return c=f.s<0&&y(e)?-0:0,f.e>-1&&(c=1/c),new W(u?1/c:c);F&&(c=s(F/l+2))}for(d?(n=new W(.5),u&&(e.s=1),h=y(e)):h=(o=Math.abs(+X(e)))%2,m=new W(I);;){if(h){if(!(m=m.times(f)).c)break;c?m.c.length>c&&(m.c.length=c):i&&(m=m.mod(t))}if(o){if(0===(o=r(o/2)))break;h=o%2}else if(z(e=e.times(n),e.e+1,1),e.e>14)h=y(e);else{if(0===(o=+X(e)))break;h=o%2}f=f.times(f),c?f.c&&f.c.length>c&&(f.c.length=c):i&&(f=f.mod(t))}return i?m:(u&&(m=I.div(m)),t?m.mod(t):c?z(m,F,j,undefined):m)},A.integerValue=function(e){var t=new W(this);return null==e?e=j:b(e,0,8),z(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===g(this,new W(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return g(this,new W(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=g(this,new W(e,t)))||0===t},A.isInteger=function(){return!!this.c&&f(this.e/l)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return g(this,new W(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=g(this,new W(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,i,s,r,a=this,o=a.s;if(t=(e=new W(e,t)).s,!o||!t)return new W(NaN);if(o!=t)return e.s=-t,a.plus(e);var d=a.e/l,u=e.e/l,h=a.c,m=e.c;if(!d||!u){if(!h||!m)return h?(e.s=-t,e):new W(m?a:NaN);if(!h[0]||!m[0])return m[0]?(e.s=-t,e):new W(h[0]?a:3==j?-0:0)}if(d=f(d),u=f(u),h=h.slice(),o=d-u){for((r=o<0)?(o=-o,s=h):(u=d,s=m),s.reverse(),t=o;t--;s.push(0));s.reverse()}else for(i=(r=(o=h.length)<(t=m.length))?o:t,o=t=0;t<i;t++)if(h[t]!=m[t]){r=h[t]<m[t];break}if(r&&(s=h,h=m,m=s,e.s=-e.s),(t=(i=m.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;i>o;){if(h[--i]<m[i]){for(n=i;n&&!h[--n];h[n]=t);--h[n],h[i]+=c}h[i]-=m[i]}for(;0==h[0];h.splice(0,1),--u);return h[0]?$(e,h,u):(e.s=3==j?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var i,s,r=this;return e=new W(e,t),!r.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||r.c&&!r.c[0]?new W(r):(9==U?(s=e.s,e.s=1,i=n(r,e,0,3),e.s=s,i.s*=s):i=n(r,e,0,U),(e=r.minus(i.times(e))).c[0]||1!=U||(e.s=r.s),e)},A.multipliedBy=A.times=function(e,t){var n,i,s,r,a,o,d,u,m,p,g,b,y,x,w,S=this,T=S.c,v=(e=new W(e,t)).c;if(!(T&&v&&T[0]&&v[0]))return!S.s||!e.s||T&&!T[0]&&!v||v&&!v[0]&&!T?e.c=e.e=e.s=null:(e.s*=S.s,T&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=f(S.e/l)+f(e.e/l),e.s*=S.s,(d=T.length)<(p=v.length)&&(y=T,T=v,v=y,s=d,d=p,p=s),s=d+p,y=[];s--;y.push(0));for(x=c,w=h,s=p;--s>=0;){for(n=0,g=v[s]%w,b=v[s]/w|0,r=s+(a=d);r>s;)n=((u=g*(u=T[--a]%w)+(o=b*u+(m=T[a]/w|0)*g)%w*w+y[r]+n)/x|0)+(o/w|0)+b*m,y[r--]=u%x;y[r]=n}return n?++i:y.splice(0,1),$(e,y,i)},A.negated=function(){var e=new W(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,i=this,s=i.s;if(t=(e=new W(e,t)).s,!s||!t)return new W(NaN);if(s!=t)return e.s=-t,i.minus(e);var r=i.e/l,a=e.e/l,o=i.c,d=e.c;if(!r||!a){if(!o||!d)return new W(s/0);if(!o[0]||!d[0])return d[0]?e:new W(o[0]?i:0*s)}if(r=f(r),a=f(a),o=o.slice(),s=r-a){for(s>0?(a=r,n=d):(s=-s,n=o),n.reverse();s--;n.push(0));n.reverse()}for((s=o.length)-(t=d.length)<0&&(n=d,d=o,o=n,t=s),s=0;t;)s=(o[--t]=o[t]+d[t]+s)/c|0,o[t]=c===o[t]?0:o[t]%c;return s&&(o=[s].concat(o),++a),$(e,o,a)},A.precision=A.sd=function(e,t){var n,i,s,r=this;if(null!=e&&e!==!!e)return b(e,1,m),null==t?t=j:b(t,0,8),z(new W(r),e,t);if(!(n=r.c))return null;if(i=(s=n.length-1)*l+1,s=n[s]){for(;s%10==0;s/=10,i--);for(s=n[0];s>=10;s/=10,i++);}return e&&r.e+1>i&&(i=r.e+1),i},A.shiftedBy=function(e){return b(e,-9007199254740991,d),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,i,s,r,a=this,o=a.c,c=a.s,l=a.e,d=N+4,u=new W("0.5");if(1!==c||!o||!o[0])return new W(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(c=Math.sqrt(+X(a)))||c==1/0?(((t=p(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),i=new W(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new W(c+""),i.c[0])for((c=(l=i.e)+d)<3&&(c=0);;)if(r=i,i=u.times(r.plus(n(a,r,d,1))),p(r.c).slice(0,c)===(t=p(i.c)).slice(0,c)){if(i.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(z(i,i.e+N+2,1),e=!i.times(i).eq(a));break}if(!s&&(z(r,r.e+N+2,0),r.times(r).eq(a))){i=r;break}d+=4,c+=4,s=1}return z(i,i.e+N+1,j,e)},A.toExponential=function(e,t){return null!=e&&(b(e,0,m),e++),q(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(b(e,0,m),e=e+this.e+1),q(this,e,t)},A.toFormat=function(e,t,n){var i,s=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(i=s.toFixed(e,t),s.c){var r,o=i.split("."),c=+n.groupSize,l=+n.secondaryGroupSize,d=n.groupSeparator||"",u=o[0],h=o[1],m=s.s<0,f=m?u.slice(1):u,p=f.length;if(l&&(r=c,c=l,l=r,p-=r),c>0&&p>0){for(r=p%c||c,u=f.substr(0,r);r<p;r+=c)u+=d+f.substr(r,c);l>0&&(u+=d+f.slice(r)),m&&(u="-"+u)}i=h?u+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):u}return(n.prefix||"")+i+(n.suffix||"")},A.toFraction=function(e){var t,i,s,r,o,c,d,h,m,f,g,b,y=this,x=y.c;if(null!=e&&(!(d=new W(e)).isInteger()&&(d.c||1!==d.s)||d.lt(I)))throw Error(a+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+X(d));if(!x)return new W(y);for(t=new W(I),m=i=new W(I),s=h=new W(I),b=p(x),o=t.e=b.length-y.e-1,t.c[0]=u[(c=o%l)<0?l+c:c],e=!e||d.comparedTo(t)>0?o>0?t:m:d,c=D,D=1/0,d=new W(b),h.c[0]=0;f=n(d,t,0,1),1!=(r=i.plus(f.times(s))).comparedTo(e);)i=s,s=r,m=h.plus(f.times(r=m)),h=r,t=d.minus(f.times(r=t)),d=r;return r=n(e.minus(i),s,0,1),h=h.plus(r.times(m)),i=i.plus(r.times(s)),h.s=m.s=y.s,g=n(m,s,o*=2,j).minus(y).abs().comparedTo(n(h,i,o,j).minus(y).abs())<1?[m,s]:[h,i],D=c,g},A.toNumber=function(){return+X(this)},A.toPrecision=function(e,t){return null!=e&&b(e,1,m),q(this,e,t,2)},A.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=R||s>=M?x(p(n.c),s):w(p(n.c),s,"0"):10===e&&G?t=w(p((n=z(new W(n),N+s+1,j)).c),n.e,"0"):(b(e,2,K.length,"Base"),t=S(w(p(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return X(this)},A._isBigNumber=!0,null!=t&&W.set(t),W}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@metamask/smart-transactions-controller>bignumber.js",file:"node_modules/@metamask/smart-transactions-controller/node_modules/bignumber.js/bignumber.js"}],[2651,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={name:"@metamask/smart-transactions-controller",version:"21.1.0",description:"Improves success rates for swaps by trialing transactions privately and finding minimum fees",repository:{type:"git",url:"https://github.com/MetaMask/smart-transactions-controller.git"},license:"SEE LICENSE IN LICENSE",sideEffects:!1,exports:{".":{import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"},require:{types:"./dist/index.d.cts",default:"./dist/index.cjs"}},"./package.json":"./package.json"},main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.cts",files:["dist"],scripts:{build:"ts-bridge --project tsconfig.build.json --clean",lint:"yarn lint:eslint && yarn lint:misc --check && yarn lint:changelog","lint:changelog":"auto-changelog validate --prettier","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write && yarn lint:changelog","lint:misc":"prettier '**/*.json' '**/*.md' '**/*.yml' '!.yarnrc.yml' --ignore-path .gitignore --no-error-on-unmatched-pattern",prepack:"./scripts/prepack.sh",test:"jest && attw --pack","test:watch":"jest --watchAll"},dependencies:{"@babel/runtime":"^7.24.1","@ethereumjs/tx":"^5.2.1","@ethereumjs/util":"^9.0.2","@ethersproject/bytes":"^5.7.0","@ethersproject/keccak256":"^5.8.0","@ethersproject/transactions":"^5.7.0","@metamask/base-controller":"^9.0.0","@metamask/controller-utils":"^11.0.0","@metamask/eth-json-rpc-provider":"^4.1.6","@metamask/eth-query":"^4.0.0","@metamask/messenger":"^0.3.0","@metamask/polling-controller":"^15.0.0","bignumber.js":"^9.0.1","fast-json-patch":"^3.1.0",lodash:"^4.17.21"},devDependencies:{"@arethetypeswrong/cli":"^0.18.2","@lavamoat/allow-scripts":"^3.2.1","@lavamoat/preinstall-always-fail":"^2.1.0","@metamask/auto-changelog":"^3.1.0","@metamask/eslint-config":"^12.2.0","@metamask/eslint-config-jest":"^12.1.0","@metamask/eslint-config-nodejs":"^12.1.0","@metamask/eslint-config-typescript":"^12.1.0","@metamask/gas-fee-controller":"^22.0.0","@metamask/json-rpc-engine":"^10.0.1","@metamask/network-controller":"^25.0.0","@metamask/transaction-controller":"^61.0.0","@ts-bridge/cli":"^0.6.3","@types/jest":"^26.0.24","@types/lodash":"^4.14.194","@types/node":"^18.19.17","@types/sinon":"^9.0.10","@typescript-eslint/eslint-plugin":"^5.33.0","@typescript-eslint/parser":"^5.33.0",eslint:"^8.48.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"~2.26.0","eslint-plugin-jest":"^27.1.5","eslint-plugin-jsdoc":"^39.2.9","eslint-plugin-n":"^15.7.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-promise":"^6.1.1","isomorphic-fetch":"^3.0.0",jest:"^29.7.0",nock:"^14.0.0-beta.7",prettier:"^2.8.8","prettier-plugin-packagejson":"^2.4.3",sinon:"^9.2.4","ts-jest":"^29.1.4",typescript:"~4.8.4"},peerDependencies:{"@metamask/network-controller":"^25.0.0","@metamask/transaction-controller":"^61.0.0"},peerDependenciesMeta:{"@metamask/accounts-controller":{optional:!0},"@metamask/approval-controller":{optional:!0},"@metamask/eth-block-tracker":{optional:!0},"@metamask/gas-fee-controller":{optional:!0},"@metamask/remote-feature-flag-controller":{optional:!0}},packageManager:"yarn@3.2.1",engines:{node:"^18.18 || >=20"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>keccak":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>secp256k1":!1,"@metamask/controller-utils>babel-runtime>core-js":!1}}}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/package.json"}],[2711,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAssetsCaveatMapper=n.assetsEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/snaps-utils"),r=e("@metamask/utils"),a=e("./caveats/index.cjs"),o=e("./enum.cjs").SnapEndowments.Assets;n.assetsEndowmentBuilder=Object.freeze({targetName:o,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:o,allowedCaveats:[s.SnapCaveatType.ChainIds],endowmentGetter:e=>null,subjectTypes:[i.SubjectType.Snap],validator:(0,a.createGenericPermissionValidator)([{type:s.SnapCaveatType.ChainIds},{type:s.SnapCaveatType.MaxRequestTime,optional:!0}])})}),n.getAssetsCaveatMapper=function(e){return(0,r.assert)((0,r.isObject)(e)&&e.scopes),{caveats:[{type:s.SnapCaveatType.ChainIds,value:e.scopes}]}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/assets.cjs"}],[2712,{"@metamask/rpc-errors":2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createGenericPermissionValidator=void 0;const i=e("@metamask/rpc-errors");n.createGenericPermissionValidator=function(e){const t=new Set(e.map(e=>e.type)),n=e.filter(e=>!e.optional);return function({caveats:s}){const r=s??[],a=r.map(e=>e.type),o=new Set(a);if(o.size!==a.length)throw i.rpcErrors.invalidParams({message:"Duplicate caveats are not allowed."});if(!r.every(e=>t.has(e.type)))throw i.rpcErrors.invalidParams({message:`Expected the following caveats: ${e.map(e=>`"${e.type}"`).join(", ")}, received ${r.map(e=>`"${e.type}"`).join(", ")}.`});if(!n.every(e=>o.has(e.type)))throw i.rpcErrors.invalidParams({message:`Expected the following caveats: ${n.map(e=>`"${e.type}"`).join(", ")}.`})}}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/generic.cjs"}],[2713,{"./generic.cjs":2712,"./requestTime.cjs":2714},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./generic.cjs"),n),s(e("./requestTime.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/index.cjs"}],[2714,{"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.maxRequestTimeCaveatSpecifications=n.getMaxRequestTimeCaveat=n.createMaxRequestTimeMapper=n.getMaxRequestTimeCaveatMapper=void 0;const i=e("@metamask/rpc-errors"),s=e("@metamask/snaps-utils"),r=e("@metamask/utils");function a(e){if(!(0,r.hasProperty)(e,"value"))throw i.rpcErrors.invalidParams({message:"Invalid maxRequestTime caveat."});const{value:t}=e;!function(e,t){(0,r.assertStruct)(e,s.MaxRequestTimeStruct,"Invalid maxRequestTime",t)}(t,i.rpcErrors.invalidParams)}n.getMaxRequestTimeCaveatMapper=function(e){return!e||!(0,r.isObject)(e)||(0,r.isObject)(e)&&!(0,r.hasProperty)(e,"maxRequestTime")?{caveats:null}:{caveats:[{type:s.SnapCaveatType.MaxRequestTime,value:e.maxRequestTime}]}},n.createMaxRequestTimeMapper=function(e){return function(t){const{maxRequestTime:n,...i}=t,r=e(i);return n?{...r,caveats:[...r.caveats??[],{type:s.SnapCaveatType.MaxRequestTime,value:n}]}:r}},n.getMaxRequestTimeCaveat=function(e){var t;const n=null==e||null===(t=e.caveats)||void 0===t?void 0:t.find(e=>e.type===s.SnapCaveatType.MaxRequestTime);return(null==n?void 0:n.value)??null},n.maxRequestTimeCaveatSpecifications={[s.SnapCaveatType.MaxRequestTime]:Object.freeze({type:s.SnapCaveatType.MaxRequestTime,validator:e=>a(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/caveats/requestTime.cjs"}],[2715,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.cronjobCaveatSpecifications=n.validateCronjobCaveat=n.getCronjobCaveatJobs=n.getCronjobCaveatMapper=n.cronjobEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Cronjob;function l(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;if(!(0,a.hasProperty)(t,"jobs")||!(0,a.isPlainObject)(t))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});if(!(0,r.isCronjobSpecificationArray)(t.jobs))throw s.rpcErrors.invalidParams({message:"Expected a valid cronjob specification array."})}n.cronjobEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.SnapCronjob],endowmentGetter:e=>null,subjectTypes:[i.SubjectType.Snap],validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.SnapCronjob,optional:!0},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}])})}),n.getCronjobCaveatMapper=function(e){return e&&(0,a.isObject)(e)&&0!==Object.keys(e).length?{caveats:[{type:r.SnapCaveatType.SnapCronjob,value:e}]}:{caveats:null}},n.getCronjobCaveatJobs=function(e){var t;return null!=e&&e.caveats?((0,a.assert)(1===e.caveats.length),(0,a.assert)(e.caveats[0].type===r.SnapCaveatType.SnapCronjob),(null===(t=e.caveats[0].value)||void 0===t?void 0:t.jobs)??null):null},n.validateCronjobCaveat=l,n.cronjobCaveatSpecifications={[r.SnapCaveatType.SnapCronjob]:Object.freeze({type:r.SnapCaveatType.SnapCronjob,validator:e=>l(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/cronjob.cjs"}],[2716,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.SnapEndowments=void 0,function(e){e.NetworkAccess="endowment:network-access",e.SignatureInsight="endowment:signature-insight",e.TransactionInsight="endowment:transaction-insight",e.Cronjob="endowment:cronjob",e.EthereumProvider="endowment:ethereum-provider",e.Rpc="endowment:rpc",e.WebAssemblyAccess="endowment:webassembly",e.NameLookup="endowment:name-lookup",e.LifecycleHooks="endowment:lifecycle-hooks",e.Keyring="endowment:keyring",e.HomePage="endowment:page-home",e.SettingsPage="endowment:page-settings",e.Assets="endowment:assets",e.Protocol="endowment:protocol"}(i||(n.SnapEndowments=i={}))}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/enum.cjs"}],[2717,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ethereumProviderEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.EthereumProvider;n.ethereumProviderEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["ethereum"],subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/ethereum-provider.cjs"}],[2718,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.homePageEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.HomePage;n.homePageEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/home-page.cjs"}],[2719,{"./assets.cjs":2711,"./caveats/index.cjs":2713,"./cronjob.cjs":2715,"./enum.cjs":2716,"./ethereum-provider.cjs":2717,"./home-page.cjs":2718,"./keyring.cjs":2720,"./lifecycle-hooks.cjs":2721,"./name-lookup.cjs":2722,"./network-access.cjs":2723,"./protocol.cjs":2724,"./rpc.cjs":2725,"./settings-page.cjs":2726,"./signature-insight.cjs":2727,"./transaction-insight.cjs":2728,"./web-assembly.cjs":2729,"@metamask/snaps-utils":2903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.getProtocolCaveatScopes=n.getCronjobCaveatJobs=n.getMaxRequestTimeCaveat=n.getKeyringCaveatOrigins=n.getLookupMatchersCaveat=n.getChainIdsCaveat=n.getTransactionOriginCaveat=n.getSignatureOriginCaveat=n.getRpcCaveatOrigins=n.handlerEndowments=n.endowmentCaveatMappers=n.endowmentCaveatSpecifications=n.endowmentPermissionBuilders=void 0;const r=e("@metamask/snaps-utils"),a=e("./assets.cjs"),o=e("./caveats/index.cjs"),c=e("./cronjob.cjs"),l=e("./ethereum-provider.cjs"),d=e("./home-page.cjs"),u=e("./keyring.cjs"),h=e("./lifecycle-hooks.cjs"),m=e("./name-lookup.cjs"),f=e("./network-access.cjs"),p=e("./protocol.cjs"),g=e("./rpc.cjs"),b=e("./settings-page.cjs"),y=e("./signature-insight.cjs"),x=e("./transaction-insight.cjs"),w=e("./web-assembly.cjs");n.endowmentPermissionBuilders={[f.networkAccessEndowmentBuilder.targetName]:f.networkAccessEndowmentBuilder,[x.transactionInsightEndowmentBuilder.targetName]:x.transactionInsightEndowmentBuilder,[c.cronjobEndowmentBuilder.targetName]:c.cronjobEndowmentBuilder,[l.ethereumProviderEndowmentBuilder.targetName]:l.ethereumProviderEndowmentBuilder,[g.rpcEndowmentBuilder.targetName]:g.rpcEndowmentBuilder,[w.webAssemblyEndowmentBuilder.targetName]:w.webAssemblyEndowmentBuilder,[m.nameLookupEndowmentBuilder.targetName]:m.nameLookupEndowmentBuilder,[h.lifecycleHooksEndowmentBuilder.targetName]:h.lifecycleHooksEndowmentBuilder,[u.keyringEndowmentBuilder.targetName]:u.keyringEndowmentBuilder,[b.settingsPageEndowmentBuilder.targetName]:b.settingsPageEndowmentBuilder,[p.protocolEndowmentBuilder.targetName]:p.protocolEndowmentBuilder,[d.homePageEndowmentBuilder.targetName]:d.homePageEndowmentBuilder,[y.signatureInsightEndowmentBuilder.targetName]:y.signatureInsightEndowmentBuilder,[a.assetsEndowmentBuilder.targetName]:a.assetsEndowmentBuilder},n.endowmentCaveatSpecifications={...c.cronjobCaveatSpecifications,...x.transactionInsightCaveatSpecifications,...g.rpcCaveatSpecifications,...m.nameLookupCaveatSpecifications,...u.keyringCaveatSpecifications,...y.signatureInsightCaveatSpecifications,...o.maxRequestTimeCaveatSpecifications,...p.protocolCaveatSpecifications},n.endowmentCaveatMappers={[c.cronjobEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(c.getCronjobCaveatMapper),[x.transactionInsightEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(x.getTransactionInsightCaveatMapper),[g.rpcEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(g.getRpcCaveatMapper),[m.nameLookupEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(m.getNameLookupCaveatMapper),[u.keyringEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(u.getKeyringCaveatMapper),[p.protocolEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(p.getProtocolCaveatMapper),[y.signatureInsightEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(y.getSignatureInsightCaveatMapper),[h.lifecycleHooksEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[d.homePageEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[b.settingsPageEndowmentBuilder.targetName]:o.getMaxRequestTimeCaveatMapper,[a.assetsEndowmentBuilder.targetName]:(0,o.createMaxRequestTimeMapper)(a.getAssetsCaveatMapper)},n.handlerEndowments={[r.HandlerType.OnRpcRequest]:g.rpcEndowmentBuilder.targetName,[r.HandlerType.OnTransaction]:x.transactionInsightEndowmentBuilder.targetName,[r.HandlerType.OnCronjob]:c.cronjobEndowmentBuilder.targetName,[r.HandlerType.OnNameLookup]:m.nameLookupEndowmentBuilder.targetName,[r.HandlerType.OnInstall]:h.lifecycleHooksEndowmentBuilder.targetName,[r.HandlerType.OnUpdate]:h.lifecycleHooksEndowmentBuilder.targetName,[r.HandlerType.OnStart]:h.lifecycleHooksEndowmentBuilder.targetName,[r.HandlerType.OnActive]:h.lifecycleHooksEndowmentBuilder.targetName,[r.HandlerType.OnInactive]:h.lifecycleHooksEndowmentBuilder.targetName,[r.HandlerType.OnKeyringRequest]:u.keyringEndowmentBuilder.targetName,[r.HandlerType.OnHomePage]:d.homePageEndowmentBuilder.targetName,[r.HandlerType.OnSettingsPage]:b.settingsPageEndowmentBuilder.targetName,[r.HandlerType.OnSignature]:y.signatureInsightEndowmentBuilder.targetName,[r.HandlerType.OnUserInput]:null,[r.HandlerType.OnAssetHistoricalPrice]:a.assetsEndowmentBuilder.targetName,[r.HandlerType.OnAssetsLookup]:a.assetsEndowmentBuilder.targetName,[r.HandlerType.OnAssetsConversion]:a.assetsEndowmentBuilder.targetName,[r.HandlerType.OnAssetsMarketData]:a.assetsEndowmentBuilder.targetName,[r.HandlerType.OnProtocolRequest]:p.protocolEndowmentBuilder.targetName,[r.HandlerType.OnClientRequest]:null,[r.HandlerType.OnWebSocketEvent]:f.networkAccessEndowmentBuilder.targetName},s(e("./enum.cjs"),n);var S=e("./rpc.cjs");Object.defineProperty(n,"getRpcCaveatOrigins",{enumerable:!0,get:function(){return S.getRpcCaveatOrigins}});var T=e("./signature-insight.cjs");Object.defineProperty(n,"getSignatureOriginCaveat",{enumerable:!0,get:function(){return T.getSignatureOriginCaveat}});var v=e("./transaction-insight.cjs");Object.defineProperty(n,"getTransactionOriginCaveat",{enumerable:!0,get:function(){return v.getTransactionOriginCaveat}});var _=e("./name-lookup.cjs");Object.defineProperty(n,"getChainIdsCaveat",{enumerable:!0,get:function(){return _.getChainIdsCaveat}}),Object.defineProperty(n,"getLookupMatchersCaveat",{enumerable:!0,get:function(){return _.getLookupMatchersCaveat}});var E=e("./keyring.cjs");Object.defineProperty(n,"getKeyringCaveatOrigins",{enumerable:!0,get:function(){return E.getKeyringCaveatOrigins}});var k=e("./caveats/index.cjs");Object.defineProperty(n,"getMaxRequestTimeCaveat",{enumerable:!0,get:function(){return k.getMaxRequestTimeCaveat}});var C=e("./cronjob.cjs");Object.defineProperty(n,"getCronjobCaveatJobs",{enumerable:!0,get:function(){return C.getCronjobCaveatJobs}});var P=e("./protocol.cjs");Object.defineProperty(n,"getProtocolCaveatScopes",{enumerable:!0,get:function(){return P.getProtocolCaveatScopes}})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/index.cjs"}],[2720,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.keyringCaveatSpecifications=n.getKeyringCaveatOrigins=n.getKeyringCaveatMapper=n.keyringEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Keyring;n.keyringEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.KeyringOrigin,r.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.KeyringOrigin},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getKeyringCaveatMapper=function(e){return{caveats:[{type:r.SnapCaveatType.KeyringOrigin,value:e}]}},n.getKeyringCaveatOrigins=function(e){return(0,a.assert)(null==e?void 0:e.caveats),(0,a.assert)(1===e.caveats.length),(0,a.assert)(e.caveats[0].type===r.SnapCaveatType.KeyringOrigin),e.caveats[0].value},n.keyringCaveatSpecifications={[r.SnapCaveatType.KeyringOrigin]:Object.freeze({type:r.SnapCaveatType.KeyringOrigin,validator:e=>function(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Invalid keyring origins: Expected a plain object."});const{value:t}=e;(0,r.assertIsKeyringOrigins)(t,s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/keyring.cjs"}],[2721,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.lifecycleHooksEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.LifecycleHooks;n.lifecycleHooksEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/lifecycle-hooks.cjs"}],[2722,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nameLookupCaveatSpecifications=n.getLookupMatchersCaveat=n.getChainIdsCaveat=n.getNameLookupCaveatMapper=n.nameLookupEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.NameLookup;function l(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;switch(e.type){case r.SnapCaveatType.ChainIds:(0,a.assertStruct)(t,r.ChainIdsStruct);break;case r.SnapCaveatType.LookupMatchers:(0,a.assertStruct)(t,r.LookupMatchersStruct);break;default:throw s.rpcErrors.invalidParams({message:'Invalid caveat type, must be one of the following: "chainIds", "matchers".'})}}n.nameLookupEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.ChainIds,r.SnapCaveatType.LookupMatchers,r.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.ChainIds,optional:!0},{type:r.SnapCaveatType.LookupMatchers,optional:!0},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getNameLookupCaveatMapper=function(e){if(!e||!(0,a.isObject)(e)||0===Object.keys(e).length)return{caveats:null};const t=[];return e.chains&&t.push({type:r.SnapCaveatType.ChainIds,value:e.chains}),e.matchers&&t.push({type:r.SnapCaveatType.LookupMatchers,value:e.matchers}),(0,a.assert)(t.length>0),{caveats:t}},n.getChainIdsCaveat=function(e){if(null==e||!e.caveats)return null;const t=e.caveats.find(e=>e.type===r.SnapCaveatType.ChainIds);return t?t.value:null},n.getLookupMatchersCaveat=function(e){if(null==e||!e.caveats)return null;const t=e.caveats.find(e=>e.type===r.SnapCaveatType.LookupMatchers);return t?t.value:null},n.nameLookupCaveatSpecifications={[r.SnapCaveatType.ChainIds]:Object.freeze({type:r.SnapCaveatType.ChainIds,validator:e=>l(e)}),[r.SnapCaveatType.LookupMatchers]:Object.freeze({type:r.SnapCaveatType.LookupMatchers,validator:e=>l(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/name-lookup.cjs"}],[2723,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.networkAccessEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.NetworkAccess;n.networkAccessEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["fetch","Request","Headers","Response"],subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/network-access.cjs"}],[2724,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.protocolCaveatSpecifications=n.getProtocolCaveatScopes=n.getProtocolCaveatMapper=n.protocolEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Protocol;n.protocolEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.ProtocolSnapScopes,r.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.ProtocolSnapScopes},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getProtocolCaveatMapper=function(e){if(!e||!(0,a.isObject)(e)||0===Object.keys(e).length)return{caveats:null};const t=[];return e.scopes&&t.push({type:r.SnapCaveatType.ProtocolSnapScopes,value:e.scopes}),{caveats:t}},n.getProtocolCaveatScopes=function(e){var t;const n=null==e||null===(t=e.caveats)||void 0===t?void 0:t.find(e=>e.type===r.SnapCaveatType.ProtocolSnapScopes);return n?n.value:null},n.protocolCaveatSpecifications={[r.SnapCaveatType.ProtocolSnapScopes]:Object.freeze({type:r.SnapCaveatType.ProtocolSnapScopes,validator:e=>function(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,a.assertStruct)(t,r.ProtocolScopesStruct,"Invalid scopes specified",s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/protocol.cjs"}],[2725,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.rpcCaveatSpecifications=n.getRpcCaveatOrigins=n.getRpcCaveatMapper=n.rpcEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.Rpc;n.rpcEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.RpcOrigin,r.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.RpcOrigin},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getRpcCaveatMapper=function(e){return{caveats:[{type:r.SnapCaveatType.RpcOrigin,value:e}]}},n.getRpcCaveatOrigins=function(e){var t;const n=null==e||null===(t=e.caveats)||void 0===t?void 0:t.filter(e=>e.type===r.SnapCaveatType.RpcOrigin);return(0,a.assert)(n),(0,a.assert)(1===n.length),n[0].value},n.rpcCaveatSpecifications={[r.SnapCaveatType.RpcOrigin]:Object.freeze({type:r.SnapCaveatType.RpcOrigin,validator:e=>function(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e.value))throw s.rpcErrors.invalidParams({message:"Invalid JSON-RPC origins: Expected a plain object."});const{value:t}=e;(0,r.assertIsRpcOrigins)(t,s.rpcErrors.invalidParams)}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/rpc.cjs"}],[2726,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.settingsPageEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.SettingsPage;n.settingsPageEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>null,subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/settings-page.cjs"}],[2727,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.signatureInsightCaveatSpecifications=n.getSignatureOriginCaveat=n.getSignatureInsightCaveatMapper=n.signatureInsightEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.SignatureInsight;n.signatureInsightEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.SignatureOrigin],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.SignatureOrigin,optional:!0},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getSignatureInsightCaveatMapper=function(e){return!e||!(0,a.isObject)(e)||(0,a.isObject)(e)&&0===Object.keys(e).length?{caveats:null}:{caveats:[{type:r.SnapCaveatType.SignatureOrigin,value:(0,a.hasProperty)(e,"allowSignatureOrigin")&&e.allowSignatureOrigin}]}},n.getSignatureOriginCaveat=function(e){return null!=e&&e.caveats?((0,a.assert)(1===e.caveats.length),(0,a.assert)(e.caveats[0].type===r.SnapCaveatType.SignatureOrigin),e.caveats[0].value??null):null},n.signatureInsightCaveatSpecifications={[r.SnapCaveatType.SignatureOrigin]:Object.freeze({type:r.SnapCaveatType.SignatureOrigin,validator:e=>function(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,a.assert)("boolean"==typeof t,'Expected caveat value to have type "boolean"')}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/signature-insight.cjs"}],[2728,{"./caveats/index.cjs":2713,"./enum.cjs":2716,"@metamask/permission-controller":2443,"@metamask/rpc-errors":2600,"@metamask/snaps-utils":2903,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.transactionInsightCaveatSpecifications=n.getTransactionOriginCaveat=n.getTransactionInsightCaveatMapper=n.transactionInsightEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("@metamask/rpc-errors"),r=e("@metamask/snaps-utils"),a=e("@metamask/utils"),o=e("./caveats/index.cjs"),c=e("./enum.cjs").SnapEndowments.TransactionInsight;n.transactionInsightEndowmentBuilder=Object.freeze({targetName:c,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:c,allowedCaveats:[r.SnapCaveatType.TransactionOrigin,r.SnapCaveatType.MaxRequestTime],endowmentGetter:e=>null,validator:(0,o.createGenericPermissionValidator)([{type:r.SnapCaveatType.TransactionOrigin,optional:!0},{type:r.SnapCaveatType.MaxRequestTime,optional:!0}]),subjectTypes:[i.SubjectType.Snap]})}),n.getTransactionInsightCaveatMapper=function(e){return!e||!(0,a.isObject)(e)||(0,a.isObject)(e)&&0===Object.keys(e).length?{caveats:null}:{caveats:[{type:r.SnapCaveatType.TransactionOrigin,value:(0,a.hasProperty)(e,"allowTransactionOrigin")&&e.allowTransactionOrigin}]}},n.getTransactionOriginCaveat=function(e){return null!=e&&e.caveats?((0,a.assert)(1===e.caveats.length),(0,a.assert)(e.caveats[0].type===r.SnapCaveatType.TransactionOrigin),e.caveats[0].value??null):null},n.transactionInsightCaveatSpecifications={[r.SnapCaveatType.TransactionOrigin]:Object.freeze({type:r.SnapCaveatType.TransactionOrigin,validator:e=>function(e){if(!(0,a.hasProperty)(e,"value")||!(0,a.isPlainObject)(e))throw s.rpcErrors.invalidParams({message:"Expected a plain object."});const{value:t}=e;(0,a.assert)("boolean"==typeof t,'Expected caveat value to have type "boolean"')}(e)})}}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/transaction-insight.cjs"}],[2729,{"./enum.cjs":2716,"@metamask/permission-controller":2443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.webAssemblyEndowmentBuilder=void 0;const i=e("@metamask/permission-controller"),s=e("./enum.cjs").SnapEndowments.WebAssemblyAccess;n.webAssemblyEndowmentBuilder=Object.freeze({targetName:s,specificationBuilder:e=>({permissionType:i.PermissionType.Endowment,targetName:s,allowedCaveats:null,endowmentGetter:e=>["WebAssembly"],subjectTypes:[i.SubjectType.Snap]})})}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/endowments/web-assembly.cjs"}],[2730,{"./endowments/index.cjs":2719,"./middleware/index.cjs":2731,"./permissions.cjs":2733,"./permitted/index.cjs":2751,"./restricted/index.cjs":2777,"./utils.cjs":2782,"@metamask/snaps-utils":2903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.selectHooks=n.SnapCaveatType=n.createSnapsMethodMiddleware=n.permittedMethods=void 0;var r=e("./permitted/index.cjs");Object.defineProperty(n,"permittedMethods",{enumerable:!0,get:function(){return r.handlers}}),Object.defineProperty(n,"createSnapsMethodMiddleware",{enumerable:!0,get:function(){return r.createSnapsMethodMiddleware}});var a=e("@metamask/snaps-utils");Object.defineProperty(n,"SnapCaveatType",{enumerable:!0,get:function(){return a.SnapCaveatType}});var o=e("./utils.cjs");Object.defineProperty(n,"selectHooks",{enumerable:!0,get:function(){return o.selectHooks}}),s(e("./endowments/index.cjs"),n),s(e("./middleware/index.cjs"),n),s(e("./permissions.cjs"),n),s(e("./restricted/index.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/index.cjs"}],[2731,{"./preinstalled-snaps.cjs":2732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var i=Object.create?function(e,t,n,i){i===undefined&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){i===undefined&&(i=n),e[i]=t[n]},s=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./preinstalled-snaps.cjs"),n)}}},{package:"@metamask/snaps-rpc-methods",file:"node_modules/@metamask/snaps-rpc-methods/dist/middleware/index.cjs"}]],[],{});