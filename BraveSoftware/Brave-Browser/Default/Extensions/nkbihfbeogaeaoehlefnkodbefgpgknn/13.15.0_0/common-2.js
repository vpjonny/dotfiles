LavaPack.loadBundle([[1920,{"./account":1919,"./bytes":1922,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/address.js"}],[1921,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((t,n)=>{i.call(e,r,e=>{e?n(e):t()})})}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1922,{"./helpers":1925,"./internal":1927,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=c;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+"â€¦"};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map(t=>e(t)):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(c(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/bytes.js"}],[1923,{buffer:4084,"ethereum-cryptography/secp256k1":4332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/constants.js"}],[1924,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/encoding.js"}],[1925,{"../../../../../../../../../is-buffer/index.js":4624,"./internal":1927},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/helpers.js"}],[1926,{"./account":1919,"./address":1920,"./asyncEventEmitter":1921,"./bytes":1922,"./constants":1923,"./encoding":1924,"./internal":1927,"./lock":1928,"./provider":1929,"./signature":1930,"./types":1931,"./units":1932,"./withdrawal":1933},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/index.js"}],[1927,{buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/internal.js"}],[1928,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/lock.js"}],[1929,{"micro-ftch":4913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/provider.js"}],[1930,{"./bytes":1922,"./constants":1923,"./helpers":1925,buffer:4084,"ethereum-cryptography/keccak":4311,"ethereum-cryptography/secp256k1":4332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),d=c(r,a);if(!u(d))throw new Error("Invalid signature v value");const p=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(d)).recoverPublicKey(e);return t.from(p.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!u(c(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/signature.js"}],[1931,{"./bytes":1922,"./internal":1927},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/types.js"}],[1932,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/units.js"}],[1933,{"./address":1920,"./bytes":1922,"./types":1931,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),d=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(c,u,l,d)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[c,u,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@ethereumjs/util",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1934,{"./nil.js":1936,"./parse.js":1937,"./stringify.js":1941,"./v1.js":1942,"./v3.js":1943,"./v4.js":1945,"./v5.js":1946,"./validate.js":1947,"./version.js":1948},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}});var n=p(e("./v1.js")),i=p(e("./v3.js")),s=p(e("./v4.js")),o=p(e("./v5.js")),a=p(e("./nil.js")),c=p(e("./version.js")),u=p(e("./validate.js")),l=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/index.js"}],[1935,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,p=s,h=l,f=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,p),l=i(l,h),d=i(d,f)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/md5-browser.js"}],[1936,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/nil.js"}],[1937,{"./validate.js":1947},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/parse.js"}],[1938,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/regex.js"}],[1939,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/rng-browser.js"}],[1940,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/sha1-browser.js"}],[1941,{"./validate.js":1947},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).substr(1));var o=function(e,t=0){const r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/stringify.js"}],[1942,{"./rng.js":1939,"./stringify.js":1941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./rng.js")),i=s(e("./stringify.js"));function s(e){return e&&e.__esModule?e:{default:e}}let o,a,c=0,u=0;var l=function(e,t,r){let s=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,p=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==p){const t=e.random||(e.rng||n.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),f=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(f-u)/1e4;if(m<0&&e.clockseq===undefined&&(p=p+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=f,a=p,h+=122192928e5;const y=(1e4*(268435455&h)+f)%4294967296;l[s++]=y>>>24&255,l[s++]=y>>>16&255,l[s++]=y>>>8&255,l[s++]=255&y;const g=h/4294967296*1e4&268435455;l[s++]=g>>>8&255,l[s++]=255&g,l[s++]=g>>>24&15|16,l[s++]=g>>>16&255,l[s++]=p>>>8|128,l[s++]=255&p;for(let e=0;e<6;++e)l[s+e]=d[e];return t||(0,i.default)(l)};r.default=l}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v1.js"}],[1943,{"./md5.js":1935,"./v35.js":1944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v3.js"}],[1944,{"./parse.js":1937,"./stringify.js":1941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){function s(e,s,o,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof s&&(s=(0,i.default)(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(s),c.set(e,s.length),c=r(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=c[e];return o}return(0,n.default)(c)}try{s.name=e}catch(e){}return s.DNS=o,s.URL=a,s},r.URL=r.DNS=void 0;var n=s(e("./stringify.js")),i=s(e("./parse.js"));function s(e){return e&&e.__esModule?e:{default:e}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v35.js"}],[1945,{"./rng.js":1939,"./stringify.js":1941},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./rng.js")),i=s(e("./stringify.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,r){const s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,i.default)(s)};r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v4.js"}],[1946,{"./sha1.js":1940,"./v35.js":1944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/v5.js"}],[1947,{"./regex.js":1938},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/validate.js"}],[1948,{"./validate.js":1947},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};r.default=s}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry-eth/node_modules/uuid/dist/version.js"}],[1949,{"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Bytes=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class o extends i.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>s.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new n.DataItem(this.bytes)}}r.Bytes=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[1950,{".":1968,"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoAccount=void 0;const n=e("."),i=e("./lib"),s=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(a||(a={}));class c extends s.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[a.outputDescriptors]=this.outputDescriptors.map(e=>e.toDataItem())),new i.DataItem(e)}}}r.CryptoAccount=c,c.fromDataItem=e=>{const r=e.getData(),i=t.alloc(4),s=r[a.masterFingerprint];s&&i.writeUInt32BE(s,0);const o=r[a.outputDescriptors].map(e=>n.CryptoOutput.fromDataItem(e));return new c(i,o)},c.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[1951,{"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoCoinInfo=r.Network=r.Type=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var o,a,c;!function(e){e.type="1",e.network="2"}(o||(o={})),function(e){e[e.bitcoin=0]="bitcoin"}(a=r.Type||(r.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=r.Network||(r.Network={}));class u extends i.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||a.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[o.type]=this.type),this.network&&(e[o.network]=this.network),new n.DataItem(e)}}}r.CryptoCoinInfo=u,u.fromDataItem=e=>{const t=e.getData(),r=t[o.type],n=t[o.network];return new u(r,n)},u.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[1952,{"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoECKey=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var o;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(o||(o={}));class a extends i.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[o.curve]=this.curve),this.privateKey!==undefined&&(e[o.private]=this.privateKey),e[o.data]=this.data,new n.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}r.CryptoECKey=a,a.fromDataItem=e=>{const t=e.getData(),r=t[o.curve],n=t[o.private],i=t[o.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new a({data:i,curve:r,privateKey:n})},a.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[1953,{"./CryptoCoinInfo":1951,"./CryptoKeypath":1954,"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971,bs58check:4088,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoHDKey=void 0;const n=e("bs58check"),i=e("./CryptoCoinInfo"),s=e("./CryptoKeypath"),o=e("./lib"),a=e("./RegistryItem"),c=e("./RegistryType");var u;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(u||(u={}));class l extends a.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,r,i;let s,o,a=0,c=t.alloc(4).fill(0);if(this.isMaster())s=t.from("0488ADE4","hex"),o=0,a=0;else{o=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(r=this.getOrigin())||void 0===r?void 0:r.getDepth());const n=null===(i=this.getOrigin())||void 0===i?void 0:i.getComponents(),u=n[n.length-1];u&&(a=u.isHardened()?u.getIndex()+2147483648:u.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),s=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const u=t.alloc(1);u.writeUInt8(o,0);const l=t.alloc(4);l.writeUInt32BE(a,0);const d=this.getChainCode(),p=this.getKey();return(0,n.encode)(t.concat([s,u,c,l,d,p]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,r,n,i,s,o;let a="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(a+=`${null===(n=null===(r=this.getOrigin())||void 0===r?void 0:r.getSourceFingerprint())||void 0===n?void 0:n.toString("hex")}/${null===(i=this.getOrigin())||void 0===i?void 0:i.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&(null===(s=this.getChildren())||void 0===s?void 0:s.getPath())&&(a+=`/${null===(o=this.getChildren())||void 0===o?void 0:o.getPath()}`),a},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[u.is_master]=!0,e[u.key_data]=this.key,e[u.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[u.is_private]=this.privateKey),e[u.key_data]=this.key,this.chainCode&&(e[u.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[u.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[u.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[u.children]=t}this.parentFingerprint&&(e[u.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[u.name]=this.name),this.note!==undefined&&(e[u.note]=this.note)}return new o.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}r.CryptoHDKey=l,l.fromDataItem=e=>{const r=e.getData(),n=!!r[u.is_master],o=r[u.is_private],a=r[u.key_data],c=r[u.chain_code],d=r[u.use_info]?i.CryptoCoinInfo.fromDataItem(r[u.use_info]):undefined,p=r[u.origin]?s.CryptoKeypath.fromDataItem(r[u.origin]):undefined,h=r[u.children]?s.CryptoKeypath.fromDataItem(r[u.children]):undefined,f=r[u.parent_fingerprint];let m=undefined;f&&(m=t.alloc(4),m.writeUInt32BE(f,0));const y=r[u.name],g=r[u.note];return new l({isMaster:n,isPrivateKey:o,key:a,chainCode:c,useInfo:d,origin:p,children:h,parentFingerprint:m,name:y,note:g})},l.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[1954,{"./PathComponent":1959,"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoKeypath=void 0;const n=e("./lib"),i=e("./PathComponent"),s=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(a||(a={}));class c extends s.RegistryItem{constructor(e=[],t,r){super(),this.components=e,this.sourceFingerprint=t,this.depth=r,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map(e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach(e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())}),e[a.components]=t,this.sourceFingerprint&&(e[a.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[a.depth]=this.depth),new n.DataItem(e)}}}r.CryptoKeypath=c,c.fromDataItem=e=>{const r=e.getData(),n=[],s=r[a.components];if(s)for(let e=0;e<s.length;e+=2){const t=s[e+1],r=s[e];"number"==typeof r?n.push(new i.PathComponent({index:r,hardened:t})):n.push(new i.PathComponent({hardened:t}))}const o=r[a.source_fingerprint];let u;o&&(u=t.alloc(4),u.writeUInt32BE(o,0));const l=r[a.depth];return new c(n,u,l)},c.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[1955,{"./CryptoECKey":1952,"./CryptoHDKey":1953,"./MultiKey":1958,"./RegistryItem":1960,"./RegistryType":1961,"./ScriptExpression":1962,"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoOutput=void 0;const n=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib"),o=e("./MultiKey"),a=e("./RegistryItem"),c=e("./RegistryType"),u=e("./ScriptExpression");class l extends a.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof i.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof n.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof o.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof n.CryptoECKey||this.cryptoKey instanceof i.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach(t=>{const r=t.getTag();e.getTag()===undefined?e.setTag(r):e=new s.DataItem(e,r)}),e}}}r.CryptoOutput=l,l.fromDataItem=e=>{const t=[];let r=e;for(;;){let e=r.getTag();const n=u.ScriptExpression.fromTag(e);if(!n)break;if(t.push(n),!(r.getData()instanceof s.DataItem))break;r=r.getData(),e=r.getTag()}const a=t.length;if(a>0&&(t[a-1].getExpression()===u.ScriptExpressions.MULTISIG.getExpression()||t[a-1].getExpression()===u.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=o.MultiKey.fromDataItem(r);return new l(t,e)}if(r.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=i.CryptoHDKey.fromDataItem(r);return new l(t,e)}{const e=n.CryptoECKey.fromDataItem(r);return new l(t,e)}},l.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[1956,{"./RegistryItem":1960,"./RegistryType":1961,"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoPSBT=void 0;const n=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class o extends i.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new n.DataItem(this.psbt)}}r.CryptoPSBT=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[1957,{"..":1968,"../RegistryType":1961,"../errors":1963,"@ngraveio/bc-ur":3136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URRegistryDecoder=void 0;const n=e("@ngraveio/bc-ur"),i=e(".."),s=e("../RegistryType"),o=e("../errors");class a extends n.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case s.RegistryTypes.BYTES.getType():return i.Bytes.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_HDKEY.getType():return i.CryptoHDKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_KEYPATH.getType():return i.CryptoKeypath.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_COIN_INFO.getType():return i.CryptoCoinInfo.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ECKEY.getType():return i.CryptoECKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_OUTPUT.getType():return i.CryptoOutput.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_PSBT.getType():return i.CryptoPSBT.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ACCOUNT.getType():return i.CryptoAccount.fromCBOR(e.cbor);default:throw new o.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}r.URRegistryDecoder=a}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[1958,{"./CryptoECKey":1952,"./CryptoHDKey":1953,"./RegistryItem":1960,"./RegistryType":1961,"./lib/DataItem":1969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MultiKey=void 0;const n=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib/DataItem"),o=e("./RegistryItem"),a=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class u extends o.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t});return e[c.keys]=t,new s.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(e=>e.getOutputDescriptorContent()).join(",")].join(",")}}r.MultiKey=u,u.fromDataItem=e=>{const t=e.getData(),r=t[c.threshold],s=t[c.keys],o=[];return s.forEach(e=>{e.getTag()===a.RegistryTypes.CRYPTO_HDKEY.getTag()?o.push(i.CryptoHDKey.fromDataItem(e)):e.getTag()===a.RegistryTypes.CRYPTO_ECKEY.getTag()&&o.push(n.CryptoECKey.fromDataItem(e))}),new u(r,o)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[1959,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PathComponent=void 0;class n{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!==(this.index&n.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}r.PathComponent=n,n.HARDENED_BIT=2147483648}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[1960,{"./lib":1971,"@ngraveio/bc-ur":3136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryItem=void 0;const n=e("@ngraveio/bc-ur"),i=e("./lib");r.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,i.encodeDataItem)(this.toDataItem())},this.toUR=()=>new n.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,r)=>{const i=this.toUR();return new n.UREncoder(i,e,t,r)}}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[1961,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryTypes=r.RegistryType=void 0;class n{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}r.RegistryType=n,r.RegistryTypes={UUID:new n("uuid",37),BYTES:new n("bytes",undefined),CRYPTO_HDKEY:new n("crypto-hdkey",303),CRYPTO_KEYPATH:new n("crypto-keypath",304),CRYPTO_COIN_INFO:new n("crypto-coin-info",305),CRYPTO_ECKEY:new n("crypto-eckey",306),CRYPTO_OUTPUT:new n("crypto-output",308),CRYPTO_PSBT:new n("crypto-psbt",310),CRYPTO_ACCOUNT:new n("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new n("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new n("qr-hardware-call",1201),KEY_DERIVATION_CALL:new n("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new n("key-derivation-schema",1302)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[1962,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ScriptExpressions=r.ScriptExpression=void 0;class n{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}r.ScriptExpression=n,n.fromTag=e=>Object.values(r.ScriptExpressions).find(t=>t.getTag()===e),r.ScriptExpressions={SCRIPT_HASH:new n(400,"sh"),WITNESS_SCRIPT_HASH:new n(401,"wsh"),PUBLIC_KEY:new n(402,"pk"),PUBLIC_KEY_HASH:new n(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new n(404,"wpkh"),COMBO:new n(405,"combo"),MULTISIG:new n(406,"multi"),SORTED_MULTISIG:new n(407,"sortedmulti"),ADDRESS:new n(307,"addr"),RAW_SCRIPT:new n(408,"raw")}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[1963,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnknownURTypeError=void 0;class n extends Error{constructor(e){super(e)}}r.UnknownURTypeError=n}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[1964,{"../CryptoHDKey":1953,"../RegistryItem":1960,"../RegistryType":1961,"../lib":1971,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoMultiAccounts=void 0;const n=e("../RegistryType"),i=e("../CryptoHDKey"),s=e("../RegistryItem"),o=e("../lib");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(a||(a={}));class c extends s.RegistryItem{constructor(e,t,r,i,s){super(),this.masterFingerprint=e,this.keys=t,this.device=r,this.deviceId=i,this.version=s,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[a.keys]=this.keys.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),this.device&&(e[a.device]=this.device),this.deviceId&&(e[a.deviceId]=this.deviceId),this.version&&(e[a.version]=this.version),new o.DataItem(e)}}}r.CryptoMultiAccounts=c,c.fromDataItem=e=>{const r=e.getData(),n=t.alloc(4),s=r[a.masterFingerprint];s&&n.writeUInt32BE(s,0);const o=r[a.keys].map(e=>i.CryptoHDKey.fromDataItem(e)),u=r[a.device],l=r[a.deviceId],d=r[a.version];return new c(n,o,u,l,d)},c.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[1965,{"../CryptoKeypath":1954,"../RegistryItem":1960,"../RegistryType":1961,"../lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyDerivationSchema=r.DerivationAlgorithm=r.Curve=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("../CryptoKeypath");var a,c,u;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo"}(a||(a={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(c=r.Curve||(r.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(u=r.DerivationAlgorithm||(r.DerivationAlgorithm={}));class l extends i.RegistryItem{constructor(e,t=c.secp256k1,r=u.slip10){super(),this.keypath=e,this.curve=t,this.algo=r,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[a.keyPath]=t,e[a.curve]=this.curve,e[a.algo]=this.algo,new s.DataItem(e)}}}r.KeyDerivationSchema=l,l.fromDataItem=e=>{const t=e.getData(),r=o.CryptoKeypath.fromDataItem(t[a.keyPath]),n=t[a.curve],i=t[a.algo];return new l(r,n,i)},l.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[1966,{"../RegistryItem":1960,"../RegistryType":1961,"../lib":1971,"./DerivationSchema":1965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyDerivation=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("./DerivationSchema");var a;!function(e){e[e.schemas=1]="schemas"}(a||(a={}));class c extends i.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>n.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[a.schemas]=this.schemas.map(e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}),new s.DataItem(e)}}}r.KeyDerivation=c,c.fromDataItem=e=>{const t=e.getData()[a.schemas].map(e=>o.KeyDerivationSchema.fromDataItem(e));return new c(t)},c.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[1967,{"../RegistryItem":1960,"../RegistryType":1961,"../lib":1971,"./KeyDerivation":1966},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.QRHardwareCall=r.QRHardwareCallType=void 0;const n=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),o=e("./KeyDerivation");var a,c;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin"}(a||(a={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(c=r.QRHardwareCallType||(r.QRHardwareCallType={}));class u extends i.RegistryItem{constructor(e,t,r){super(),this.type=e,this.params=t,this.origin=r,this.getRegistryType=()=>n.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};e[a.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[a.params]=t,this.origin&&(e[a.origin]=this.origin),new s.DataItem(e)}}}r.QRHardwareCall=u,u.fromDataItem=e=>{const t=e.getData(),r=t[a.type]||c.KeyDerivation;let n;if(r===c.KeyDerivation)n=o.KeyDerivation.fromDataItem(t[a.params]);const i=t[a.origin];return new u(r,n,i)},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[1968,{"./Bytes":1949,"./CryptoAccount":1950,"./CryptoCoinInfo":1951,"./CryptoECKey":1952,"./CryptoHDKey":1953,"./CryptoKeypath":1954,"./CryptoOutput":1955,"./CryptoPSBT":1956,"./Decoder":1957,"./MultiKey":1958,"./PathComponent":1959,"./RegistryItem":1960,"./RegistryType":1961,"./ScriptExpression":1962,"./errors":1963,"./extended/CryptoMultiAccounts":1964,"./extended/DerivationSchema":1965,"./extended/KeyDerivation":1966,"./extended/QRHardwareCall":1967,"./lib":1971,"./patchCBOR":1972,"./types":1973,"./utils":1974,"buffer/":4092,tslib:5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Buffer=r.extend=r.PathComponent=r.ScriptExpressions=r.MultiKey=r.CryptoPSBT=r.CryptoOutput=r.CryptoECKey=r.CryptoCoinInfoNetwork=r.CryptoCoinInfoType=r.CryptoCoinInfo=r.CryptoKeypath=r.CryptoMultiAccounts=r.CryptoHDKey=r.CryptoAccount=r.Bytes=r.URRegistryDecoder=r.DataItem=void 0;const n=e("tslib");e("./patchCBOR");const i=e("buffer/");Object.defineProperty(r,"Buffer",{enumerable:!0,get:function(){return i.Buffer}});const s=e("./CryptoHDKey");Object.defineProperty(r,"CryptoHDKey",{enumerable:!0,get:function(){return s.CryptoHDKey}});const o=e("./CryptoKeypath");Object.defineProperty(r,"CryptoKeypath",{enumerable:!0,get:function(){return o.CryptoKeypath}});const a=e("./CryptoCoinInfo");Object.defineProperty(r,"CryptoCoinInfo",{enumerable:!0,get:function(){return a.CryptoCoinInfo}}),Object.defineProperty(r,"CryptoCoinInfoType",{enumerable:!0,get:function(){return a.Type}}),Object.defineProperty(r,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return a.Network}});const c=e("./CryptoECKey");Object.defineProperty(r,"CryptoECKey",{enumerable:!0,get:function(){return c.CryptoECKey}});const u=e("./Bytes");Object.defineProperty(r,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const l=e("./CryptoOutput");Object.defineProperty(r,"CryptoOutput",{enumerable:!0,get:function(){return l.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(r,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const p=e("./CryptoAccount");Object.defineProperty(r,"CryptoAccount",{enumerable:!0,get:function(){return p.CryptoAccount}});const h=e("./Decoder");Object.defineProperty(r,"URRegistryDecoder",{enumerable:!0,get:function(){return h.URRegistryDecoder}});const f=e("./MultiKey");Object.defineProperty(r,"MultiKey",{enumerable:!0,get:function(){return f.MultiKey}});const m=e("./ScriptExpression");Object.defineProperty(r,"ScriptExpressions",{enumerable:!0,get:function(){return m.ScriptExpressions}});const y=e("./PathComponent");Object.defineProperty(r,"PathComponent",{enumerable:!0,get:function(){return y.PathComponent}});const g=e("./RegistryItem"),w=e("./RegistryType"),b=e("./lib");var k=e("./lib");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return k.DataItem}});const v=e("./utils"),_=e("./extended/CryptoMultiAccounts");Object.defineProperty(r,"CryptoMultiAccounts",{enumerable:!0,get:function(){return _.CryptoMultiAccounts}});const T={URRegistryDecoder:h.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:p.CryptoAccount,CryptoHDKey:s.CryptoHDKey,CryptoMultiAccounts:_.CryptoMultiAccounts,CryptoKeypath:o.CryptoKeypath,CryptoCoinInfo:a.CryptoCoinInfo,CryptoCoinInfoType:a.Type,CryptoCoinInfoNetwork:a.Network,CryptoECKey:c.CryptoECKey,CryptoOutput:l.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:f.MultiKey,ScriptExpressions:m.ScriptExpressions,PathComponent:y.PathComponent},E={addReader:b.addReader,addSemanticDecode:b.addSemanticDecode,addSemanticEncode:b.addSemanticEncode,addWriter:b.addWriter,patchTags:v.patchTags},j={RegistryTypes:w.RegistryTypes,RegistryItem:g.RegistryItem,RegistryType:w.RegistryType,decodeToDataItem:b.decodeToDataItem,encodeDataItem:b.encodeDataItem,cbor:E};r.extend=j,(0,n.__exportStar)(e("./errors"),r),(0,n.__exportStar)(e("./Decoder"),r),(0,n.__exportStar)(e("./lib"),r),(0,n.__exportStar)(e("./CryptoAccount"),r),(0,n.__exportStar)(e("./CryptoPSBT"),r),(0,n.__exportStar)(e("./CryptoHDKey"),r),(0,n.__exportStar)(e("./extended/CryptoMultiAccounts"),r),(0,n.__exportStar)(e("./extended/QRHardwareCall"),r),(0,n.__exportStar)(e("./extended/KeyDerivation"),r),(0,n.__exportStar)(e("./extended/DerivationSchema"),r),(0,n.__exportStar)(e("./CryptoOutput"),r),(0,n.__exportStar)(e("./CryptoCoinInfo"),r),(0,n.__exportStar)(e("./CryptoECKey"),r),(0,n.__exportStar)(e("./MultiKey"),r),(0,n.__exportStar)(e("./CryptoKeypath"),r),(0,n.__exportStar)(e("./patchCBOR"),r),(0,n.__exportStar)(e("./PathComponent"),r),(0,n.__exportStar)(e("./RegistryItem"),r),(0,n.__exportStar)(e("./RegistryType"),r),(0,n.__exportStar)(e("./types"),r),(0,n.__exportStar)(e("./utils"),r),r.default=T}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[1969,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=void 0;r.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[1970,{"./DataItem":1969,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){!function(e,r){"function"==typeof define&&define.amd?define([],r):void 0!==t&&t.exports?t.exports=r():e.CBOR=r()}(this,function(){const{DataItem:t}=e("./DataItem");var n=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",r=0;r<this.$hex.length;r+=2)t+="%"+this.$hex.substring(r,r+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],r=0;r<this.$hex.length;r+=2)t.push(parseInt(this.$hex.substring(r,r+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var r="",n=0;n<t.length;n++){var i=t.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),r+=i}return new e(r)},e.fromUtf8String=function(t){for(var r=encodeURIComponent(t),n="",i=0;i<r.length;i++)if("%"===r.charAt(i))n+=r.substring(i+1,i+3),i+=2;else{var s=r.charCodeAt(i).toString(16);s.length<2&&(s="0"+s),n+=s}return new e(n)};var n=[],i={},s=function(e){return function(){throw new Error(e+" not implemented")}};function o(){}function a(){}function c(e,t){var r=e.value;return r<24?r:24==r?t.readByte():25==r?t.readUint16():26==r?t.readUint32():27==r?t.readUint64():31==r?null:void s("Additional info: "+r)()}function u(e,t,r){var n=e<<5;t<24?r.writeByte(n|t):t<256?(r.writeByte(24|n),r.writeByte(t)):t<65536?(r.writeByte(25|n),r.writeUint16(t)):t<4294967296?(r.writeByte(26|n),r.writeUint32(t)):(r.writeByte(27|n),r.writeUint64(t))}o.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,r=1023&e,n=32768&e;if(31===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-25)*(1024+r):Math.pow(2,-24)*r;return n?-i:i},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,r=8388607&e,n=2147483648&e;if(255===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-23-127)*(8388608+r):Math.pow(2,-149)*r;return n?-i:i},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,r=4294967296*(1048575&e)+this.readUint32(),n=2147483648&e;if(2047===t)return 0===r?n?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-52-1023)*(4503599627370496+r):Math.pow(2,-1074)*r;return n?-i:i},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},a.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:s("writeString"),canWriteBinary:function(e){return!1},writeBinary:s("writeChunk")};var l=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return c(t,e);case 1:return-1-c(t,e);case 2:return e.readChunk(c(t,e));case 3:return e.readChunk(c(t,e)).toString("utf-8");case 4:case 5:var r=c(t,e),n=[];if(null!==r){5===t.type&&(r*=2);for(var s=0;s<r;s++)n[s]=d(e)}else for(var o;(o=d(e))!==l;)n.push(o);if(5===t.type){var a={};for(s=0;s<n.length;s+=2)a[n[s]]=n[s+1];return a}return n;case 6:var u=c(t,e),p=i[u];n=d(e);return p?p(n):n;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(c(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return l;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function p(e,t){for(var r=0;r<n.length;r++){var i=n[r].fn(e);if(i!==undefined)return u(6,n[r].tag,t),p(i,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)u(7,20,t);else if(!0===e)u(7,21,t);else if(null===e)u(7,22,t);else if(e===undefined)u(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?u(1,-1-e,t):u(0,e,t):(!function(e,t,r){r.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,function(e){u(3,e,t)});else if(t.canWriteBinary(e))t.writeBinary(e,function(e){u(2,e,t)});else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(m.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){u(4,e.length,t);for(r=0;r<e.length;r++)p(e[r],t)}else{var s=Object.keys(e);u(5,s.length,t);for(r=0;r<s.length;r++){const n=parseInt(s[r]);isNaN(n)?(p(s[r],t),p(e[s[r]],t)):(p(n,t),p(e[s[r]],t))}}}}var h=[],f=[],m={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?f.push(function(r){if(e===r)return t(r)}):f.push(e)},addReader:function(e,t){"string"==typeof e?h.push(function(r,n){if(e===n)return t(r,n)}):h.push(e)},encode:function(e,t){for(var r=0;r<f.length;r++){var n=(0,f[r])(t);if(n)return p(e,n),n.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var r=0;r<f.length;r++){var n=(0,f[r])(t);if(n)return e.getTag()!==undefined?(p(e,n),n.result()):(p(e.getData(),n),n.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var r=0;r<h.length;r++){var n=(0,h[r])(e,t);if(n)return d(n)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,r){for(var n=0;n<h.length;n++){var i=(0,h[n])(e,r);if(i){const e=d(i);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+r)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return n.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return i[e]=t,this}};function y(e){this.buffer=e,this.pos=0}function g(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function w(e){this.hex=e,this.pos=0}function b(e){this.$hex="",this.finalFormat=e||"hex"}return y.prototype=Object.create(o.prototype),y.prototype.peekByte=function(){return this.buffer[this.pos]},y.prototype.readByte=function(){return this.buffer[this.pos++]},y.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},y.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},y.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},y.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},y.prototype.readChunk=function(e){var t=r.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},g.prototype=Object.create(a.prototype),g.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},g.prototype.writeFloat32=function(e){var t=r.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},g.prototype.writeFloat64=function(e){var t=r.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},g.prototype.writeString=function(e,t){var n=r.from(e,"utf-8");t(n.length),this.writeBuffer(n)},g.prototype.canWriteBinary=function(e){return e instanceof r},g.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},g.prototype.writeBuffer=function(e){if(!(e instanceof r))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},g.prototype.result=function(){for(var e=r.alloc(this.byteLength),t=0,n=0;n<this.completeBuffers.length;n++){var i=this.completeBuffers[n];i.copy(e,t,0,i.length),t+=i.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof r&&(m.addReader(function(e,t){return r.isBuffer(e)?new y(e):"hex"===t||"base64"===t?new y(r.from(e,t)):void 0}),m.addWriter(function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new g(e):void 0:new g})),w.prototype=Object.create(o.prototype),w.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},w.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},w.prototype.readChunk=function(t){var n=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof r?r.from(n,"hex"):new e(n)},b.prototype=Object.create(a.prototype),b.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},b.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof r&&t instanceof r},b.prototype.writeBinary=function(t,n){if(t instanceof e)n(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof r&&t instanceof r))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");n(t.length),this.$hex+=t.toString("hex")}},b.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof r?r.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},b.prototype.writeString=function(t,r){var n=e.fromUtf8String(t);r(n.length()),this.$hex+=n.$hex},m.addReader(function(t,r){return t instanceof e||t.$hex?new w(t.$hex):"hex"===r?new w(t):void 0}),m.addWriter(function(e){if("hex"===e)return new b}),m}();return n.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),n})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[1971,{"./DataItem":1969,"./cbor-sync":1970},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=r.addWriter=r.addReader=r.addSemanticEncode=r.addSemanticDecode=r.decodeToDataItem=r.encodeDataItem=void 0;var n=e("./cbor-sync");Object.defineProperty(r,"encodeDataItem",{enumerable:!0,get:function(){return n.encodeDataItem}}),Object.defineProperty(r,"decodeToDataItem",{enumerable:!0,get:function(){return n.decodeToDataItem}}),Object.defineProperty(r,"addSemanticDecode",{enumerable:!0,get:function(){return n.addSemanticDecode}}),Object.defineProperty(r,"addSemanticEncode",{enumerable:!0,get:function(){return n.addSemanticEncode}}),Object.defineProperty(r,"addReader",{enumerable:!0,get:function(){return n.addReader}}),Object.defineProperty(r,"addWriter",{enumerable:!0,get:function(){return n.addWriter}});var i=e("./DataItem");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return i.DataItem}})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[1972,{"./RegistryType":1961,"./ScriptExpression":1962,"./utils":1974},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./utils"),i=e("./RegistryType"),s=e("./ScriptExpression"),o=Object.values(i.RegistryTypes).filter(e=>!!e.getTag()).map(e=>e.getTag()),a=Object.values(s.ScriptExpressions).map(e=>e.getTag());(0,n.patchTags)(o.concat(a))}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[1973,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[1974,{"./lib":1971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.patchTags=void 0;const n=e("./lib"),i=[];r.patchTags=e=>{e.forEach(e=>{i.find(t=>t===e)||((0,n.addSemanticEncode)(e,t=>{if(t instanceof n.DataItem&&t.getTag()===e)return t.getData()}),(0,n.addSemanticDecode)(e,t=>new n.DataItem(t,e)),i.push(e))})}}}},{package:"@metamask/eth-qr-keyring>@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@metamask/eth-qr-keyring/node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[1975,{"./nil.js":1978,"./parse.js":1979,"./stringify.js":1983,"./v1.js":1984,"./v3.js":1985,"./v4.js":1987,"./v5.js":1988,"./validate.js":1989,"./version.js":1990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=p(e("./v1.js")),i=p(e("./v3.js")),s=p(e("./v4.js")),o=p(e("./v5.js")),a=p(e("./nil.js")),c=p(e("./version.js")),u=p(e("./validate.js")),l=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/index.js"}],[1976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,p=s,h=l,f=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,p),l=i(l,h),d=i(d,f)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/md5-browser.js"}],[1977,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/native-browser.js"}],[1978,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/nil.js"}],[1979,{"./validate.js":1989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/parse.js"}],[1980,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/regex.js"}],[1981,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/rng-browser.js"}],[1982,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/sha1-browser.js"}],[1983,{"./validate.js":1989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/stringify.js"}],[1984,{"./rng.js":1981,"./stringify.js":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,p=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),f=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(f-u)/1e4;if(m<0&&e.clockseq===undefined&&(p=p+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=f,a=p,h+=122192928e5;const y=(1e4*(268435455&h)+f)%4294967296;l[n++]=y>>>24&255,l[n++]=y>>>16&255,l[n++]=y>>>8&255,l[n++]=255&y;const g=h/4294967296*1e4&268435455;l[n++]=g>>>8&255,l[n++]=255&g,l[n++]=g>>>24&15|16,l[n++]=g>>>16&255,l[n++]=p>>>8|128,l[n++]=255&p;for(let e=0;e<6;++e)l[n+e]=d[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v1.js"}],[1985,{"./md5.js":1976,"./v35.js":1986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v3.js"}],[1986,{"./parse.js":1979,"./stringify.js":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v35.js"}],[1987,{"./native.js":1977,"./rng.js":1981,"./stringify.js":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v4.js"}],[1988,{"./sha1.js":1982,"./v35.js":1986},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/v5.js"}],[1989,{"./regex.js":1980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/validate.js"}],[1990,{"./validate.js":1989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-qr-keyring>uuid",file:"node_modules/@metamask/eth-qr-keyring/node_modules/uuid/dist/version.js"}],[1991,{"json-rpc-random-id":4654,xtend:5769},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("json-rpc-random-id")(),i=e("xtend");function s(e){this.currentProvider=e}function o(e){return function(...t){const r=t.pop();this.sendAsync({method:e,params:t},r)}}function a(e,t){return function(...r){const n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}t.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,i({id:n(),jsonrpc:"2.0",params:[]},r)),function(e,r){let n=e;return!e&&r.error&&(n=new Error(`EthQuery - RPC Error - ${r.error.message}`)),n?t(n):t(null,r.result)})}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[1992,{"./utils":1997,"@scure/base":2014,buffer:4084,tweetnacl:5690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),c=e("./utils");function u({publicKey:e,data:t,version:r}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),c=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),c=o.base64.decode(e.ciphertext),u=o.base64.decode(e.ephemPublicKey),l=a.box.open(c,s,u,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,c.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,c.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,c.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1993,{"./encryption":1992,"./personal-sign":1994,"./sign-eip7702-authorization":1995,"./sign-typed-data":1996,"./utils":1997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[1994,{"./utils":1997,"@ethereumjs/util":2006},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1995,{"./utils":1997,"@ethereumjs/rlp":1998,"@ethereumjs/util":2006,"@metamask/utils":3116,buffer:4084,"ethereum-cryptography/keccak":4311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function c(e){u(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function u(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=c(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),l=(0,i.toBuffer)(o);return(0,a.concatSig)(l,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(u(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=c(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=c}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[1996,{"./utils":1997,"@ethereumjs/util":2006,"@metamask/abi-utils":1190,"@metamask/abi-utils/dist/parsers":1199,"@metamask/abi-utils/dist/utils":1207,"@metamask/utils":3116,"ethereum-cryptography/keccak":4311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),c=e("ethereum-cryptography/keccak"),u=e("./utils");var l;function d(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function p(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function f(e,t,r,s,u){if(d(u,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",u===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,c.keccak256)(m(r,s,e,u)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=p(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,c.keccak256)(s))];if(r.endsWith("]")){if(u===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map(r=>f(e,t,o,r,u));return["bytes32",(0,n.arrToBufArr)((0,c.keccak256)((0,i.encode)(a.map(([e])=>e),a.map(([,e])=>e))))]}return[r,s]}function m(e,t,r,s){d(s,[l.V3,l.V4]);const o=["bytes32"],a=[b(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=f(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function y(e,t){let r="";const n=g(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`}return r}function g(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])g(n.type,t,r);return r}function w(e,t,r,i){d(i,[l.V3,l.V4]);const s=m(e,t,r,i),o=(0,c.keccak256)(s);return(0,n.arrToBufArr)(o)}function b(e,t){const r=(0,a.stringToBytes)(y(e,t));return(0,n.arrToBufArr)((0,c.keccak256)(r))}function k(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){d(t,[l.V3,l.V4]);const r=k(e),{domain:n}=r;return w("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function _(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map(e=>_(r,e))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function T(e,t){return t.map(t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=p(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t})}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map(({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map(e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:T(n,r)}}return{name:e,type:t,value:_(t,r)}}),l=r.map(e=>"bytes"!==e.type?e.value:(0,u.legacyToBuffer)(e.value)),d=r.map(e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type}),p=e.map(e=>{if(!e.name)throw t;return`${e.type} ${e.name}`});return(0,n.arrToBufArr)((0,c.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,c.keccak256)((0,i.encodePacked)(["string[]"],[p],!0)),(0,c.keccak256)((0,i.encodePacked)(d,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:m,encodeType:y,findTypeDependencies:g,hashStruct:w,hashType:b,sanitizeData:k,eip712Hash:function(e,t){d(t,[l.V3,l.V4]);const r=k(e),i=[(0,a.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==r.primaryType&&i.push(w(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,c.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:v},r.typedSignatureHash=function(e){const t=E(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(d(i),(0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,u.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(d(i),(0,u.isNullish)(e))throw new Error("Missing data parameter");if((0,u.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,u.recoverPublicKey)(s,t),c=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(c)}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1997,{"@ethereumjs/util":2006,"@metamask/utils":3116,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),c=(0,n.bufferToInt)(e),u=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),d=(0,i.remove0x)((0,i.numberToHex)(c));return(0,i.add0x)(u.concat(l,d))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1998,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(Array.isArray(e)){const t=[];let r=0;for(let i=0;i<e.length;i++){const s=n(e[i]);t.push(s),r+=s.length}return h(o(r,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:h(o(t.length,128),t)}function i(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function s(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return d(l(e))}function o(e,t){if(e<56)return Uint8Array.from([e+t]);const r=m(e),n=m(t+55+r.length/2);return Uint8Array.from(p(n+r))}function a(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=c(g(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function c(e){let t,r,n,o,a;const u=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,n=128===l?Uint8Array.from([]):i(e,1,t),2===t&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}if(l<=191){if(r=l-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=s(i(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=i(e,r,t+r),{data:n,remainder:e.slice(t+r)}}if(l<=247){for(t=l-191,o=i(e,1,t);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(t)}}{if(r=l-246,t=s(i(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const n=r+t;if(n>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=i(e,r,n);o.length;)a=c(o),u.push(a.data),o=a.remainder;return{data:u,remainder:e.slice(n)}}}Object.defineProperty(r,"__esModule",{value:!0}),r.RLP=r.utils=r.decode=r.encode=void 0,r.encode=n,r.decode=a;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(e){let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function d(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function p(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=d(e.slice(n,n+2))}return t}function h(...e){if(1===e.length)return e[0];const t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function f(e){return(new TextEncoder).encode(e)}function m(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function y(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return y(e)?p((t="string"!=typeof(r=e)?r:y(r)?r.slice(2):r).length%2?`0${t}`:t):f(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?p(m(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}r.utils={bytesToHex:l,concatBytes:h,hexToBytes:p,utf8ToBytes:f},r.RLP={encode:n,decode:a}}}},{package:"@metamask/eth-sig-util>@ethereumjs/rlp",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/rlp/dist/index.js"}],[1999,{"./bytes":2002,"./constants":2003,"./helpers":2005,"./internal":2007,"@ethereumjs/rlp":1998,buffer:4084,"ethereum-cryptography/keccak":4311,"ethereum-cryptography/secp256k1":4332,"ethereum-cryptography/utils":4334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),c=e("./constants"),u=e("./helpers"),l=e("./internal"),d=BigInt(0);class p{constructor(e=d,t=d,r=c.KECCAK256_RLP,n=c.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new p(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new p((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(c.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(c.KECCAK256_NULL)}}r.Account=p;r.isValidAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,u.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const c=t.from(s+n,"utf8"),d=(0,o.bytesToHex)((0,i.keccak256)(c));let p="0x";for(let e=0;e<n.length;e++)parseInt(d[e],16)>=8?p+=n[e].toUpperCase():p+=n[e];return p};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,u.assertIsBuffer)(e),(0,u.assertIsBuffer)(r),(0,u.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,u.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,u.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,u.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,u.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?c.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?c.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,u.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const f=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(c.KECCAK256_RLP)?f:n,(0,a.arrToBufArr)(i).equals(c.KECCAK256_NULL)?f:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[2,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=[{code:"am",name:"áŠ áˆ›áˆ­áŠ›"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"},{code:"bg",name:"Ð±ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸"},{code:"bn",name:"à¦¬à¦¾à¦‚à¦²à¦¾"},{code:"ca",name:"CatalÃ "},{code:"cs",name:"ÄŒeÅ¡tina"},{code:"da",name:"Dansk"},{code:"de",name:"Deutsch"},{code:"el",name:"ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬"},{code:"en",name:"English"},{code:"es",name:"EspaÃ±ol"},{code:"es_419",name:"EspaÃ±ol (Latin America)"},{code:"et",name:"Estonian"},{code:"fa",name:"ÙØ§Ø±Ø³ÛŒ"},{code:"fi",name:"Suomi"},{code:"fil",name:"Filipino"},{code:"fr",name:"FranÃ§ais"},{code:"ga",name:"Gaeilge"},{code:"gu",name:"àª—à«àªœàª°àª¾àª¤"},{code:"he",name:"×¢×‘×¨×™×ª"},{code:"hi",name:"à¤®à¤¾à¤¨à¤• à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"hn",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"hr",name:"Hrvatski"},{code:"ht",name:"KreyÃ²l ayisyen"},{code:"hu",name:"Magyar"},{code:"id",name:"Bahasa Indonesia"},{code:"it",name:"Italiano"},{code:"ja",name:"æ—¥æœ¬èªž"},{code:"kn",name:"à²•à²¨à³à²¨à²¡"},{code:"ko",name:"í•œêµ­ì–´"},{code:"lt",name:"LietuviÅ¡kai"},{code:"lv",name:"Latvian"},{code:"ml",name:"à´®à´²à´¯à´¾à´³à´‚"},{code:"mr",name:"à¤®à¤°à¤¾à¤ à¥€"},{code:"ms",name:"Malay"},{code:"nl",name:"Nederlands"},{code:"no",name:"Norwegian"},{code:"pl",name:"Polskie"},{code:"pt",name:"PortuguÃªs"},{code:"pt_BR",name:"PortuguÃªs (Brazillian)"},{code:"pt_PT",name:"PortuguÃªs (European)"},{code:"ro",name:"Limba romÃ¢nÄƒ"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"sk",name:"SlovenÄina"},{code:"sl",name:"SlovenÅ¡Äina"},{code:"sr",name:"ÑÑ€Ð¿ÑÐºÐ¸"},{code:"sv",name:"Svenska"},{code:"sw",name:"Swahili"},{code:"ta",name:"à®¤à®®à®¿à®´à¯"},{code:"te",name:"à°¤à±†à°²à±à°—à±"},{code:"th",name:"à¹„à¸—à¸¢"},{code:"tl",name:"Filipino"},{code:"tr",name:"TÃ¼rkÃ§e"},{code:"uk",name:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° Ð¼Ð¾Ð²Ð°"},{code:"vi",name:"Tiáº¿ng Viá»‡t"},{code:"zh_CN",name:"ä¸­æ–‡(ç®€ä½“)"},{code:"zh_TW",name:"ä¸­æ–‡(ç¹é«”)"}]}}},{package:"$root$",file:"app/_locales/index.json"}],[2e3,{"./account":1999,"./bytes":2002,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[2001,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((t,n)=>{i.call(e,r,e=>{e?n(e):t()})})}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[2002,{"./helpers":2005,"./internal":2007,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function c(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=c;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return c(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+"â€¦"};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map(t=>e(t)):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map(t=>e(t)):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(c(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[2003,{buffer:4084,"ethereum-cryptography/secp256k1":4332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[2004,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[2005,{"../../../../../../is-buffer/index.js":4624,"./internal":2007},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[2006,{"./account":1999,"./address":2e3,"./asyncEventEmitter":2001,"./bytes":2002,"./constants":2003,"./encoding":2004,"./internal":2007,"./lock":2008,"./provider":2009,"./signature":2010,"./types":2011,"./units":2012,"./withdrawal":2013},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[2007,{buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"](t=>e.indexOf(t)>=0)},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[2008,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[2009,{"micro-ftch":4913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[2010,{"./bytes":2002,"./constants":2003,"./helpers":2005,buffer:4084,"ethereum-cryptography/keccak":4311,"ethereum-cryptography/secp256k1":4332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function c(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function u(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),d=c(r,a);if(!u(d))throw new Error("Invalid signature v value");const p=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(d)).recoverPublicKey(e);return t.from(p.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!u(c(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!u(c(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[2011,{"./bytes":2002,"./internal":2007},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[2012,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[2013,{"./address":2e3,"./bytes":2002,"./types":2011,buffer:4084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,c=(0,s.toType)(t,s.TypeOutput.BigInt),u=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),d=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(c,u,l,d)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,c=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),u=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[c,u,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[2014,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function a(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach(e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)});;){let e=0,n=!0;for(let s=i;s<o.length;s++){const a=o[s],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!==t*e)throw new Error("convertRadix: carry overflow");e=c%r;const u=Math.floor(c/r);if(o[s]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(u?n=!1:i=s)}if(s.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=r.stringToBytes=r.str=r.bytesToString=r.hex=r.utf8=r.bech32m=r.bech32=r.base58check=r.createBase58check=r.base58xmr=r.base58xrp=r.base58flickr=r.base58=r.base64urlnopad=r.base64url=r.base64nopad=r.base64=r.base32crockford=r.base32hexnopad=r.base32hex=r.base32nopad=r.base32=r.base16=r.utils=void 0,r.assertNumber=n;const d=(e,t)=>t?d(t,e%t):e,p=(e,t)=>e+(t-d(e,t));function h(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(p(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${p(t,r)}`);let s=0,o=0;const a=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((s>>o-r&a)>>>0);s&=2**o-1}if(s=s<<r-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}function f(e){return n(e),{encode:t=>{if(!i(t))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(t,e,256))}}}function m(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(p(8,e)>32||p(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!i(r))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(r,e,8,t))}}}function y(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!i(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),s=new Uint8Array(r.length+e);return s.set(r),s.set(n,r.length),s},decode(r){if(!i(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),s=t(n).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return n}}}r.utils={alphabet:o,chain:s,checksum:g,convertRadix:l,convertRadix2:h,radix:f,radix2:m,join:a,padding:c},r.base16=s(m(4),o("0123456789ABCDEF"),a("")),r.base32=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),a("")),r.base32nopad=s(m(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a("")),r.base32hex=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),a("")),r.base32hexnopad=s(m(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a("")),r.base32crockford=s(m(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),u(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),r.base64=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),a("")),r.base64nopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a("")),r.base64url=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),a("")),r.base64urlnopad=s(m(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(""));const w=e=>s(f(58),o(e),a(""));r.base58=w("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),r.base58flickr=w("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),r.base58xrp=w("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];r.base58xmr={encode(e){let t="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);t+=r.base58.encode(i).padStart(b[i.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=b.indexOf(i.length),o=r.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(t)}};r.createBase58check=e=>s(g(4,t=>e(e(t))),r.base58),r.base58check=r.createBase58check;const k=s(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),v=[996825010,642813549,513874426,1027748829,705979059];function _(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<v.length;e++)1==(t>>e&1)&&(r^=v[e]);return r}function T(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=_(i)^r>>5}i=_(i);for(let t=0;t<n;t++)i=_(i)^31&e.charCodeAt(t);for(let e of t)i=_(i)^e;for(let e=0;e<6;e++)i=_(i);return i^=r,k.encode(h([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,r=m(5),n=r.decode,i=r.encode,s=y(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),o=T(s,r,t);return`${s}1${k.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=n.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=k.decode(o).slice(0,-6),c=T(s,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:y(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}r.bech32=E("bech32"),r.bech32m=E("bech32m"),r.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},r.hex=s(m(4),o("0123456789abcdef"),a(""),u(e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const j={utf8:r.utf8,hex:r.hex,base16:r.base16,base32:r.base32,base64:r.base64,base64url:r.base64url,base58:r.base58,base58xmr:r.base58xmr},S="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";r.bytesToString=(e,t)=>{if("string"!=typeof e||!j.hasOwnProperty(e))throw new TypeError(S);if(!i(t))throw new TypeError("bytesToString() expects Uint8Array");return j[e].encode(t)},r.str=r.bytesToString;r.stringToBytes=(e,t)=>{if(!j.hasOwnProperty(e))throw new TypeError(S);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return j[e].decode(t)},r.bytes=r.stringToBytes}}},{package:"@metamask/eth-sig-util>@scure/base",file:"node_modules/@metamask/eth-sig-util/node_modules/@scure/base/lib/index.js"}],[2015,{"./simple-keyring.cjs":2016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("./simple-keyring.cjs");Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/index.cjs"}],[2016,{"@ethereumjs/util":697,"@metamask/eth-sig-util":1993,"@metamask/utils":3116,buffer:4084,"ethereum-cryptography/keccak":4311,randombytes:5165},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const l=e("@ethereumjs/util"),d=e("@metamask/eth-sig-util"),p=e("@metamask/utils"),h=e("ethereum-cryptography/keccak"),f=u(e("randombytes")),m="Simple Key Pair";class y{constructor(e=[]){n.add(this),i.set(this,void 0),this.type=m,a(this,i,[],"f"),this.deserialize(e).catch(e=>{throw new Error(`Problem deserializing SimpleKeyring ${e.message}`)})}async serialize(){return c(this,i,"f").map(e=>e.privateKey.toString("hex"))}async deserialize(e){a(this,i,e.map(e=>{const r=(0,l.stripHexPrefix)(e),n=t.from(r,"hex");return{privateKey:n,publicKey:t.from((0,l.privateToPublic)(n))}}),"f")}async addAccounts(e=1){const r=[];for(let n=0;n<e;n++){const e=g(),n=t.from((0,l.privateToPublic)(e));r.push({privateKey:e,publicKey:n})}a(this,i,c(this,i,"f").concat(r),"f");return r.map(({publicKey:e})=>(0,p.add0x)((0,p.bytesToHex)((0,l.publicToAddress)(e))))}async getAccounts(){return c(this,i,"f").map(({publicKey:e})=>(0,p.add0x)((0,p.bytesToHex)((0,l.publicToAddress)(e))))}async signTransaction(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return t.sign(i)??t}async signEip7702Authorization(e,t,r={}){const i=c(this,n,"m",s).call(this,e,r);return(0,d.signEIP7702Authorization)({privateKey:i,authorization:t})}async signMessage(e,r,i={withAppKeyOrigin:"",validateMessage:!0}){const o=(0,l.stripHexPrefix)(r);if(i.validateMessage&&(0===o.length||!o.match(/^[a-fA-F0-9]*$/u)))throw new Error("Cannot sign invalid message");const a=c(this,n,"m",s).call(this,e,i),u=(0,l.ecsign)(t.from(o,"hex"),a);return(0,d.concatSig)(t.from((0,p.bigIntToBytes)(u.v)),t.from(u.r),t.from(u.s))}async signPersonalMessage(e,t,r={withAppKeyOrigin:""}){const i=c(this,n,"m",s).call(this,e,r);return(0,d.personalSign)({privateKey:i,data:t})}async decryptMessage(e,t){const r=c(this,n,"m",o).call(this,e).privateKey.toString("hex");return(0,d.decrypt)({privateKey:r,encryptedData:t})}async signTypedData(e,t,r){let{version:i}=r??{version:d.SignTypedDataVersion.V1};i&&function(e){return e in d.SignTypedDataVersion}(i)||(i=d.SignTypedDataVersion.V1);const o=c(this,n,"m",s).call(this,e,r);return(0,d.signTypedData)({privateKey:o,data:t,version:i})}async getEncryptionPublicKey(e,t){const r=c(this,n,"m",s).call(this,e,t);return(0,d.getEncryptionPublicKey)(r.toString("hex"))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=c(this,n,"m",o).call(this,e,{withAppKeyOrigin:t});return(0,p.add0x)((0,p.bytesToHex)((0,l.publicToAddress)(r.publicKey)))}async exportAccount(e,t={withAppKeyOrigin:""}){return c(this,n,"m",o).call(this,e,t).privateKey.toString("hex")}removeAccount(e){if(!c(this,i,"f").map(({publicKey:e})=>(0,p.bytesToHex)((0,l.publicToAddress)(e)).toLowerCase()).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);a(this,i,c(this,i,"f").filter(({publicKey:t})=>(0,p.bytesToHex)((0,l.publicToAddress)(t)).toLowerCase()!==e.toLowerCase()),"f")}}function g(){const e=(0,f.default)(32);if(!(0,l.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}i=new WeakMap,n=new WeakSet,s=function(e,t={withAppKeyOrigin:""}){if(!e)throw new Error("Must specify address.");return c(this,n,"m",o).call(this,e,t).privateKey},o=function(e,r={}){const n=(0,d.normalize)(e);let s=c(this,i,"f").find(({publicKey:e})=>(0,p.bytesToHex)((0,l.publicToAddress)(e))===n);if(!s)throw new Error("Simple Keyring - Unable to find matching address.");if(r.withAppKeyOrigin){const{privateKey:e}=s,n=t.from(r.withAppKeyOrigin,"utf8"),i=t.concat([e,n]),o=(0,h.keccak256)(i),a=(0,l.privateToPublic)(o);s={privateKey:t.from(o),publicKey:t.from(a)}}return s},y.type=m,r.default=y}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/simple-keyring.cjs"}],[2017,{"./util.cjs":2030},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaseInsensitiveMap=void 0;const n=e("./util.cjs");class i extends Map{static fromObject(e){return new i(Object.entries(e))}toObject(){return Object.fromEntries(this.entries())}get(e){return super.get(e.toLowerCase())}getOrThrow(e,t="Key"){return this.get(e)??(0,n.throwError)(`${t} '${e}' not found`)}has(e){return super.has(e.toLowerCase())}set(e,t){return super.set(e.toLowerCase(),t)}delete(e){return super.delete(e.toLowerCase())}}r.CaseInsensitiveMap=i}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/CaseInsensitiveMap.cjs"}],[2018,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DeferredPromise=void 0;r.DeferredPromise=class{constructor(){if(this.resolve=undefined,this.reject=undefined,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),!this.resolve||!this.reject)throw new Error("Promise constructor failed")}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/DeferredPromise.cjs"}],[2019,{"./CaseInsensitiveMap.cjs":2017},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapIdMap=r.InvalidSnapIdError=void 0;const o=e("./CaseInsensitiveMap.cjs");class a extends Error{constructor(e,t){super(`Snap "${e}" is not allowed to set "${t}"`),this.name="InvalidSnapIdError",this.snapId=e,this.key=t}}r.InvalidSnapIdError=a;class c{constructor(e){n.set(this,void 0),i(this,n,new o.CaseInsensitiveMap(e),"f")}toObject(){return s(this,n,"f").toObject()}static fromObject(e){return new c(Object.entries(e))}get(e,t){const r=s(this,n,"f").get(t);return r?.snapId===e?r:undefined}getSnapId(e){return s(this,n,"f").get(e)?.snapId}pop(e,t){const r=this.get(e,t);return this.delete(e,t),r}has(e,t){return this.get(e,t)!==undefined}hasSnapId(e){return[...s(this,n,"f").values()].some(t=>t.snapId===e)}delete(e,t){return this.has(e,t)&&s(this,n,"f").delete(t)}set(e,t){if(s(this,n,"f").has(e)&&!this.has(t.snapId,e))throw new a(t.snapId,e);return s(this,n,"f").set(e,t),this}values(){return s(this,n,"f").values()}get size(){return s(this,n,"f").size}}r.SnapIdMap=c,n=new WeakMap}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapIdMap.cjs"}],[2020,{"./DeferredPromise.cjs":2018,"./SnapIdMap.cjs":2019,"./SnapKeyringMessenger.cjs":2021,"./account.cjs":2022,"./events.cjs":2023,"./logger.cjs":2025,"./migrations/index.cjs":2026,"./options.cjs":2028,"./types.cjs":2029,"./util.cjs":2030,"./versions.cjs":2031,"@ethereumjs/tx":683,"@metamask/eth-sig-util":1993,"@metamask/keyring-api":2193,"@metamask/keyring-internal-api":2206,"@metamask/keyring-internal-snap-client":2210,"@metamask/keyring-snap-sdk":2231,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116,uuid:2032},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y,g,w,b,k,v,_,T,E,j,S,A,P,C,I,x,M,R,O,B,N,K,D,U,L,q,F=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},H=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapKeyring=r.SNAP_KEYRING_TYPE=void 0;const $=e("@ethereumjs/tx"),V=e("@metamask/eth-sig-util"),G=e("@metamask/keyring-api"),W=e("@metamask/keyring-internal-api"),z=e("@metamask/keyring-internal-snap-client"),J=e("@metamask/keyring-snap-sdk"),Y=e("@metamask/keyring-utils"),X=e("@metamask/superstruct"),Q=e("@metamask/utils"),Z=e("uuid"),ee=e("./account.cjs"),te=e("./DeferredPromise.cjs"),re=e("./events.cjs"),ne=e("./logger.cjs"),ie=e("./migrations/index.cjs"),se=e("./options.cjs"),oe=e("./SnapIdMap.cjs"),ae=e("./SnapKeyringMessenger.cjs"),ce=e("./types.cjs"),ue=e("./util.cjs"),le=e("./versions.cjs");function de(e){return(0,G.isEvmAccountType)(e.type)?e.address.toLowerCase():e.address}r.SNAP_KEYRING_TYPE="Snap Keyring";class pe{constructor({messenger:e,callbacks:t,isAnyAccountTypeAllowed:r=!1}){n.add(this),this.name=ae.SNAP_KEYRING_NAME,this.state=null,i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),this.type=pe.type,F(this,i,e,"f"),F(this,s,new z.KeyringInternalSnapClient({messenger:e}),"f"),F(this,c,new oe.SnapIdMap,"f"),F(this,o,new oe.SnapIdMap,"f"),F(this,u,new oe.SnapIdMap,"f"),F(this,l,t,"f"),F(this,d,r,"f"),F(this,a,new Map,"f")}async handleKeyringSnapMessage(e,t){switch((0,X.assert)(t,ce.SnapMessageStruct),t.method){case`${G.KeyringEvent.AccountCreated}`:return H(this,n,"m",f).call(this,e,t);case`${G.KeyringEvent.AccountUpdated}`:return H(this,n,"m",m).call(this,e,t);case`${G.KeyringEvent.AccountDeleted}`:return H(this,n,"m",y).call(this,e,t);case`${G.KeyringEvent.RequestApproved}`:return H(this,n,"m",w).call(this,e,t);case`${G.KeyringEvent.RequestRejected}`:return H(this,n,"m",b).call(this,e,t);case`${G.KeyringEvent.AccountBalancesUpdated}`:return H(this,n,"m",v).call(this,e,t);case`${G.KeyringEvent.AccountAssetListUpdated}`:return H(this,n,"m",_).call(this,e,t);case`${G.KeyringEvent.AccountTransactionsUpdated}`:return H(this,n,"m",T).call(this,e,t);case`${J.SnapManageAccountsMethod.GetSelectedAccounts}`:return H(this,n,"m",g).call(this,e,t);default:throw new Error(`Method not supported: ${t.method}`)}}async serialize(){return{accounts:H(this,o,"f").toObject()}}async deserialize(e){if(e===undefined)return;const t={};for(const[r,n]of Object.entries(e.accounts))(0,ie.isAccountV1)(n.account)?(console.info(`SnapKeyring - Found a KeyringAccountV1, migrating to V2: ${n.account.id}`),t[r]={...n,account:(0,ie.migrateAccountV1)(n.account)}):t[r]=n;F(this,o,oe.SnapIdMap.fromObject(t),"f")}async getAccounts(){return(0,ue.unique)([...H(this,o,"f").values()].map(({account:e})=>de(e)))}async getAccountsBySnapId(e){return(0,ue.unique)([...H(this,o,"f").values()].filter(({snapId:t})=>t===e).map(({account:e})=>de(e)))}async createAccount(e,t,r){const n=new z.KeyringInternalSnapClient({messenger:H(this,i,"f"),snapId:e}),s="metamask";if((0,Q.hasProperty)(t,s))throw new Error(`The '${s}' property is reserved for internal use`);if(!r)return await n.createAccount(t);const o=(0,Z.v4)();return H(this,u,"f").set(o,{snapId:e,options:r}),await n.createAccount({...t,metamask:{correlationId:o}})}hasSnapId(e){return H(this,o,"f").hasSnapId(e)}async resolveAccountAddress(e,t,r){if(!this.hasSnapId(e))throw new Error(`Unable to resolve account address: unknown Snap ID: ${e}`);return await H(this,s,"f").withSnapId(e).resolveAccountAddress(t,r)}async submitRequest({origin:e,account:t,method:r,params:i,scope:s}){const{account:o,snapId:a}=H(this,n,"m",E).call(this,t);return await H(this,n,"m",A).call(this,{origin:e,snapId:a,account:o,method:r,params:i,scope:s,noPending:!0})}async signTransaction(e,t,r={}){const i=t.common.chainId(),s=(0,ue.toJson)({...t.toJSON(),from:e,type:`0x${t.type.toString(16)}`,chainId:(0,Q.bigIntToHex)(i)}),o=await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignTransaction,params:[s],scope:(0,Q.toCaipChainId)(Q.KnownCaipNamespace.Eip155,`${i}`)}),a=(0,X.mask)(o,(0,X.object)({r:(0,X.string)(),s:(0,X.string)(),v:(0,X.string)()}));return $.TransactionFactory.fromTxData({...s,r:a.r,s:a.s,v:a.v})}async signTypedData(e,t,r={version:V.SignTypedDataVersion.V1}){const i={[V.SignTypedDataVersion.V1]:G.EthMethod.SignTypedDataV1,[V.SignTypedDataVersion.V3]:G.EthMethod.SignTypedDataV3,[V.SignTypedDataVersion.V4]:G.EthMethod.SignTypedDataV4}[r.version]||G.EthMethod.SignTypedDataV1,s=t.domain?.chainId;return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:i,params:(0,ue.toJson)([e,t]),...s===undefined?{}:{scope:(0,Q.toCaipChainId)(Q.KnownCaipNamespace.Eip155,`${s}`)}}),G.EthBytesStruct)}async signMessage(e,t){return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.Sign,params:(0,ue.toJson)([e,t])}),G.EthBytesStruct)}async signPersonalMessage(e,t){return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PersonalSign,params:(0,ue.toJson)([t,e])}),G.EthBytesStruct)}async prepareUserOperation(e,t,r){return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PrepareUserOperation,params:(0,ue.toJson)(t),noPending:!0,scope:(0,Q.toCaipChainId)(Q.KnownCaipNamespace.Eip155,r.chainId)}),G.EthBaseUserOperationStruct)}async patchUserOperation(e,t,r){return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.PatchUserOperation,params:(0,ue.toJson)([t]),noPending:!0,scope:(0,Q.toCaipChainId)(Q.KnownCaipNamespace.Eip155,r.chainId)}),G.EthUserOperationPatchStruct)}async signUserOperation(e,t,r){return(0,Y.strictMask)(await H(this,n,"m",j).call(this,{origin:"metamask",address:e,method:G.EthMethod.SignUserOperation,params:(0,ue.toJson)([t]),scope:(0,Q.toCaipChainId)(Q.KnownCaipNamespace.Eip155,r.chainId)}),G.EthBytesStruct)}exportAccount(e){throw new Error("Exporting accounts from snaps is not supported.")}async removeAccount(e){const{account:t,snapId:r}=H(this,n,"m",N).call(this,e);await H(this,n,"m",B).call(this,r,t)}async setSelectedAccounts(e){H(this,n,"m",K).call(this,e);const t=[...H(this,a,"f").entries()];await Promise.all(t.map(async([e,t])=>{try{await H(this,s,"f").withSnapId(e).setSelectedAccounts(t)}catch(t){console.error(`Failed to set selected accounts for ${e} snap: '${t.message}'`)}}))}getAccountByAddress(e){const t=[...H(this,o,"f").values()].find(({account:{address:t}})=>(0,ue.equalsIgnoreCase)(t,e));return t?H(this,n,"m",q).call(this,t.account,t.snapId):undefined}listAccounts(){return[...H(this,o,"f").values()].map(({account:e,snapId:t})=>H(this,n,"m",q).call(this,e,t))}}r.SnapKeyring=pe,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,n=new WeakSet,p=function(e){return(0,le.getKeyringVersionFromPlatform)(t=>H(this,i,"f").call("SnapController:isMinimumPlatformVersion",e,t))},h=function(e,t){if(t){const r=H(this,u,"f").pop(e,t);if(r)return r.options;console.warn(`SnapKeyring - Received unmapped correlation ID: "${t}"`)}return undefined},f=async function(e,t){(0,X.assert)(t,re.AccountCreatedEventStruct);const{metamask:r,account:i,accountNameSuggestion:s,displayAccountNameSuggestion:a,displayConfirmation:c}=t.params,u=(0,ee.transformAccount)(i),p=de(u);if(!H(this,d,"f")&&u.type===G.AnyAccountType.Account)throw new Error(`Cannot create generic account '${u.id}'`);const f=H(this,o,"f").get(e,u.id);if(f&&de(f.account)===p)return null;if(await H(this,l,"f").addressExists(p))throw new Error(`Account address '${p}' already exists`);if(H(this,o,"f").has(e,u.id))throw new Error(`Account '${u.id}' already exists`);const m=new te.DeferredPromise;return await H(this,l,"f").addAccount(p,e,async t=>{t&&(H(this,o,"f").set(u.id,{account:u,snapId:e}),H(this,l,"f").saveState().then(()=>{m.resolve(u.id)}).catch(async t=>{await H(this,n,"m",B).call(this,e,u),m.reject(t)}))},m.promise,s,(0,se.getInternalOptionsOf)([H(this,n,"m",h).call(this,e,r?.correlationId)??{},{displayConfirmation:c,displayAccountNameSuggestion:a}])),null},m=async function(e,t){(0,X.assert)(t,re.AccountUpdatedEventStruct);const{account:r}=t.params,{account:n}=H(this,o,"f").get(e,r.id)??(0,ue.throwError)(`Account '${r.id}' not found`),i=(0,ee.transformAccount)(r),s=i.type===G.AnyAccountType.Account||n.type===G.AnyAccountType.Account;if(!H(this,d,"f")&&s)throw new Error(`Cannot update generic account '${i.id}'`);if(!(0,ue.equalsIgnoreCase)(n.address,i.address))throw new Error(`Cannot change address of account '${i.id}'`);return H(this,o,"f").set(i.id,{account:i,snapId:e}),await H(this,l,"f").saveState(),null},y=async function(e,t){(0,X.assert)(t,re.AccountDeletedEventStruct);const{id:r}=t.params,n=H(this,o,"f").get(e,r);if(n===undefined)return null;const{account:i}=n;return await H(this,l,"f").removeAccount(de(i),e,async e=>{e&&await H(this,l,"f").saveState()}),null},g=async function(e,t){return(0,X.assert)(t,J.GetSelectedAccountsRequestStruct),H(this,a,"f").get(e)??[]},w=async function(e,t){(0,X.assert)(t,re.RequestApprovedEventStruct);const{id:r,result:n}=t.params,{promise:i}=H(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return H(this,c,"f").delete(e,r),i.resolve(n),null},b=async function(e,t){(0,X.assert)(t,re.RequestRejectedEventStruct);const{id:r}=t.params,{promise:n}=H(this,c,"f").get(e,r)??(0,ue.throwError)(`Request '${r}' not found`);return H(this,c,"f").delete(e,r),n.reject(new Error("Request rejected by user or snap.")),null},k=async function(e,t,r){return H(this,i,"f").publish(t,...r(r=>Object.entries(r).reduce((r,[n,i])=>(H(this,o,"f").has(e,n)?r[n]=i:console.warn(`SnapKeyring - ${t} - Found an unknown account ID "${n}" for Snap ID "${e}". Skipping.`),r),{}))),null},v=async function(e,t){(0,X.assert)(t,G.AccountBalancesUpdatedEventStruct);const r=t.params;return H(this,n,"m",k).call(this,e,"SnapKeyring:accountBalancesUpdated",e=>(r.balances=e(r.balances),[r]))},_=async function(e,t){(0,X.assert)(t,G.AccountAssetListUpdatedEventStruct);const r=t.params;return H(this,n,"m",k).call(this,e,"SnapKeyring:accountAssetListUpdated",e=>(r.assets=e(r.assets),[r]))},T=async function(e,t){(0,X.assert)(t,G.AccountTransactionsUpdatedEventStruct);const r=t.params;return H(this,n,"m",k).call(this,e,"SnapKeyring:accountTransactionsUpdated",e=>(r.transactions=e(r.transactions),[r]))},E=function(e){const t=[...H(this,o,"f").values()].find(t=>t.account.id===e);if(!t)throw new Error(`Unable to get account: unknown account ID: '${e}'`);return t},j=async function({origin:e,address:t,method:r,params:i,scope:s="",noPending:o=!1}){const{account:a,snapId:c}=H(this,n,"m",N).call(this,t);return await H(this,n,"m",A).call(this,{origin:e,snapId:c,account:a,method:r,params:i,scope:s,noPending:o})},S=async function({snapId:e,version:t,request:r}){const n=H(this,s,"f").withSnapId(e);return t===W.KeyringVersion.V1?await n.submitRequestV1((0,W.toKeyringRequestV1)(r)):await n.submitRequest(r)},A=async function({origin:e,snapId:t,account:r,method:i,params:s,scope:o,noPending:a}){if(!H(this,n,"m",P).call(this,r,i))throw new Error(`Method '${i}' not supported for account ${r.address}`);if(!e?.trim())throw new Error("An `origin` is required");const c=(0,Z.v4)(),u=H(this,n,"m",C).call(this,c,t);try{const l=H(this,n,"m",p).call(this,t),d={id:c,origin:e,scope:o,account:r.id,request:{method:i,...s!==undefined&&{params:s}}};(0,ne.projectLogger)("Submit Snap request: ",d);const h=await H(this,n,"m",S).call(this,{version:l,snapId:t,request:d});if(a&&h.pending)throw new Error(`Request '${c}' to Snap '${t}' is pending and noPending is true.`);return h.pending?((h.redirect?.message||h.redirect?.url)&&await H(this,n,"m",M).call(this,h.redirect,t),u.promise):H(this,n,"m",x).call(this,h,c,t)}catch(e){throw(0,ne.projectLogger)("Snap Request failed: ",{requestId:c}),H(this,n,"m",I).call(this,c,t),e}},P=function(e,t){return e.methods.includes(t)},C=function(e,t){const r=new te.DeferredPromise;return H(this,c,"f").set(e,{promise:r,snapId:t}),r},I=function(e,t){H(this,c,"f").delete(t,e)},x=function(e,t,r){return H(this,c,"f").delete(r,t),e.result},M=async function(e,t){const{message:r="",url:i=""}=e,s=H(this,n,"m",R).call(this,i);s&&H(this,n,"m",O).call(this,s,t),await H(this,l,"f").redirectUser(t,s,r)},R=function(e){return e?(0,ue.sanitizeUrl)(e):e},O=function(e,t){const{origin:r}=new URL(e),i=H(this,n,"m",D).call(this,t);if(!i)throw new Error(`Snap '${t}' not found.`);if(!H(this,n,"m",L).call(this,i).includes(r))throw new Error(`Redirect URL domain '${r}' is not an allowed origin by snap '${t}'`)},B=async function(e,t){H(this,o,"f").delete(e,t.id);try{await H(this,s,"f").withSnapId(e).deleteAccount(t.id)}catch(r){console.error(`Account '${t.address}' may not have been removed from snap '${e}':`,r)}},N=function(e){return[...H(this,o,"f").values()].find(({account:t})=>(0,ue.equalsIgnoreCase)(t.address,e))??(0,ue.throwError)(`Account '${e}' not found`)},K=function(e){const t=H(this,a,"f");t.clear();for(const r of e){const e=H(this,o,"f").getSnapId(r);if(!e)continue;const n=t.get(e)??[];n.push(r),t.set(e,n)}},D=function(e){return H(this,i,"f").call("SnapController:get",e)},U=function(e){const t=H(this,n,"m",D).call(this,e);return t?{id:e,name:t.manifest.proposedName,enabled:t.enabled}:undefined},L=function(e){return e.manifest.initialPermissions["endowment:keyring"]?.allowedOrigins??[]},q=function(e,t){const r=H(this,n,"m",U).call(this,t);return{...e,address:de(e),metadata:{name:"",importTime:0,keyring:{type:this.type},...r!==undefined&&{snap:r}}}},pe.type=r.SNAP_KEYRING_TYPE}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyring.cjs"}],[2021,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SNAP_KEYRING_NAME=void 0,r.SNAP_KEYRING_NAME="SnapKeyring"}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/SnapKeyringMessenger.cjs"}],[2022,{"./migrations/index.cjs":2026,"@metamask/keyring-api":2193,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountV1Struct=void 0,r.assertKeyringAccount=o,r.transformAccount=function(e){return o((0,s.isAccountV1)(e)?(0,s.transformAccountV1)(e):e)};const n=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("./migrations/index.cjs");function o(e){switch(e.type){case n.BtcAccountType.P2pkh:return(0,i.assert)(e,n.BtcP2pkhAccountStruct),e;case n.BtcAccountType.P2sh:return(0,i.assert)(e,n.BtcP2shAccountStruct),e;case n.BtcAccountType.P2wpkh:return(0,i.assert)(e,n.BtcP2wpkhAccountStruct),e;case n.BtcAccountType.P2tr:return(0,i.assert)(e,n.BtcP2trAccountStruct),e;case n.SolAccountType.DataAccount:return(0,i.assert)(e,n.SolDataAccountStruct),e;case n.EthAccountType.Erc4337:return(0,i.assert)(e,n.EthErc4337AccountStruct),e;case n.EthAccountType.Eoa:return(0,i.assert)(e,n.EthEoaAccountStruct),e;case n.TrxAccountType.Eoa:return(0,i.assert)(e,n.TrxEoaAccountStruct),e;case n.AnyAccountType.Account:return(0,i.assert)(e,n.KeyringAccountStruct),e;default:throw new Error(`Unknown account type: '${e.type}'`)}}r.KeyringAccountV1Struct=(0,i.omit)(n.KeyringAccountStruct,["scopes"])}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/account.cjs"}],[2023,{"./account.cjs":2022,"@metamask/keyring-api":2193,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequestRejectedEventStruct=r.RequestApprovedEventStruct=r.AccountDeletedEventStruct=r.AccountUpdatedEventStruct=r.AccountCreatedEventStruct=void 0;const n=e("@metamask/keyring-api");Object.defineProperty(r,"AccountDeletedEventStruct",{enumerable:!0,get:function(){return n.AccountDeletedEventStruct}}),Object.defineProperty(r,"RequestApprovedEventStruct",{enumerable:!0,get:function(){return n.RequestApprovedEventStruct}}),Object.defineProperty(r,"RequestRejectedEventStruct",{enumerable:!0,get:function(){return n.RequestRejectedEventStruct}});const i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("./account.cjs");r.AccountCreatedEventStruct=(0,i.object)({...n.AccountCreatedEventStruct.schema,params:(0,i.object)({...n.AccountCreatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})}),r.AccountUpdatedEventStruct=(0,i.object)({...n.AccountUpdatedEventStruct.schema,params:(0,i.object)({...n.AccountUpdatedEventStruct.schema.params.schema,account:(0,s.union)([o.KeyringAccountV1Struct,n.KeyringAccountStruct])})})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/events.cjs"}],[2024,{"./SnapKeyring.cjs":2020,"./options.cjs":2028,"./types.cjs":2029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./options.cjs"),r),i(e("./types.cjs"),r),i(e("./SnapKeyring.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/index.cjs"}],[2025,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-snap-keyring")}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/logger.cjs"}],[2026,{"./v1.cjs":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./v1.cjs"),r)}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/index.cjs"}],[2027,{"../account.cjs":2022,"@metamask/keyring-api":2193,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAccountV1=a,r.getScopesForAccountV1=c,r.transformAccountV1=function(e){const{type:t}=e;if(t===n.EthAccountType.Eoa)return{...e,scopes:c(e)};return(0,o.assertKeyringAccount)(e)},r.migrateAccountV1=function(e){if(!a(e))return e;return{...e,scopes:c(e)}};const n=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct"),o=e("../account.cjs");function a(e){return(0,s.is)(e,o.KeyringAccountV1Struct)}function c(e){switch(e.type){case n.EthAccountType.Eoa:return[n.EthScope.Eoa];case n.EthAccountType.Erc4337:return[n.EthScope.Testnet];case n.BtcAccountType.P2pkh:case n.BtcAccountType.P2sh:case n.BtcAccountType.P2wpkh:case n.BtcAccountType.P2tr:return[(0,i.isBtcMainnetAddress)(e.address)?n.BtcScope.Mainnet:n.BtcScope.Testnet];case n.SolAccountType.DataAccount:return[n.SolScope.Mainnet,n.SolScope.Testnet,n.SolScope.Devnet];case n.TrxAccountType.Eoa:return[n.TrxScope.Mainnet,n.TrxScope.Nile,n.TrxScope.Shasta];default:return[n.EthScope.Eoa]}}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/migrations/v1.cjs"}],[2028,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){return{displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0}}Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultInternalOptions=n,r.getInternalOptionsOf=function(e){const t={},r={displayAccountNameSuggestion:!0,displayConfirmation:!0,setSelectedAccount:!0},n=Object.keys(r);for(const i of n){t[i]=undefined;for(const n of[...e,r])n[i]!==undefined&&t[i]===undefined&&(t[i]=n[i])}return t}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/options.cjs"}],[2029,{"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SnapMessageStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.SnapMessageStruct=(0,n.object)({method:(0,n.string)(),params:(0,n.optional)((0,n.union)([(0,n.array)(i.JsonStruct),(0,n.record)((0,n.string)(),i.JsonStruct)]))})}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/types.cjs"}],[2030,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unique=function(e){return[...new Set(e)]},r.toJson=function(e){return JSON.parse(JSON.stringify(e))},r.ensureDefined=function(e){if(e===undefined)throw new Error("Argument is undefined")},r.throwError=function(e){throw new Error(e)},r.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},r.sanitizeUrl=function(e){return new URL(e).toString()}}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/util.cjs"}],[2031,{"@metamask/keyring-internal-api":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PLATFORM_VERSION_TO_KEYRING_VERSION=void 0,r.getKeyringVersionFromPlatform=function(e){for(const[t,n]of r.PLATFORM_VERSION_TO_KEYRING_VERSION)if(e(t))return n;return n.KeyringVersion.V1};const n=e("@metamask/keyring-internal-api");r.PLATFORM_VERSION_TO_KEYRING_VERSION=[["7.0.0",n.KeyringVersion.V2]]}}},{package:"@metamask/eth-snap-keyring",file:"node_modules/@metamask/eth-snap-keyring/dist/versions.cjs"}],[2032,{"./nil.js":2035,"./parse.js":2036,"./stringify.js":2040,"./v1.js":2041,"./v3.js":2042,"./v4.js":2044,"./v5.js":2045,"./validate.js":2046,"./version.js":2047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=p(e("./v1.js")),i=p(e("./v3.js")),s=p(e("./v4.js")),o=p(e("./v5.js")),a=p(e("./nil.js")),c=p(e("./version.js")),u=p(e("./validate.js")),l=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/index.js"}],[2033,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,p=s,h=l,f=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,p),l=i(l,h),d=i(d,f)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/md5-browser.js"}],[2034,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/native-browser.js"}],[2035,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/nil.js"}],[2036,{"./validate.js":2046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/parse.js"}],[2037,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/regex.js"}],[2038,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/rng-browser.js"}],[2039,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/sha1-browser.js"}],[2040,{"./validate.js":2046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/stringify.js"}],[2041,{"./rng.js":2038,"./stringify.js":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,p=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),f=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(f-u)/1e4;if(m<0&&e.clockseq===undefined&&(p=p+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=f,a=p,h+=122192928e5;const y=(1e4*(268435455&h)+f)%4294967296;l[n++]=y>>>24&255,l[n++]=y>>>16&255,l[n++]=y>>>8&255,l[n++]=255&y;const g=h/4294967296*1e4&268435455;l[n++]=g>>>8&255,l[n++]=255&g,l[n++]=g>>>24&15|16,l[n++]=g>>>16&255,l[n++]=p>>>8|128,l[n++]=255&p;for(let e=0;e<6;++e)l[n+e]=d[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v1.js"}],[2042,{"./md5.js":2033,"./v35.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v3.js"}],[2043,{"./parse.js":2036,"./stringify.js":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v35.js"}],[2044,{"./native.js":2034,"./rng.js":2038,"./stringify.js":2040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v4.js"}],[2045,{"./sha1.js":2039,"./v35.js":2043},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/v5.js"}],[2046,{"./regex.js":2037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/validate.js"}],[2047,{"./validate.js":2046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/eth-snap-keyring>uuid",file:"node_modules/@metamask/eth-snap-keyring/node_modules/uuid/dist/version.js"}],[2060,{"./helpers":2062,"./prefix-for-chain":2064,"./prefix-for-network":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountLink=r.createCustomAccountLink=r.createAccountLinkForChain=r.createAccountLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function c(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function u(e,t){return i.addPathToUrl(t,"address",e)}r.createAccountLink=a,r.createAccountLinkForChain=c,r.createCustomAccountLink=u,r.getAccountLink=function(e,t,r={},n=""){return r.blockExplorerUrl?u(e,r.blockExplorerUrl):n?a(e,n):c(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[2061,{"./helpers":2062,"./prefix-for-chain":2064,"./prefix-for-network":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getBlockExplorerLink=r.createExplorerLinkForChain=r.createExplorerLink=r.createCustomExplorerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){return i.addPathToUrl(t,"tx",e)}function c(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}function u(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}r.createCustomExplorerLink=a,r.createExplorerLink=c,r.createExplorerLinkForChain=u,r.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?a(e.hash,t.blockExplorerUrl):e.chainId?u(e.hash,e.chainId):c(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[2062,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addPathToUrl=void 0,r.addPathToUrl=(e,t,r)=>{const{username:n,password:i,protocol:s,host:o,pathname:a,search:c,hash:u}=new URL(e),l=a.endsWith("/")?`${a}${t}/${r}`:`${a}/${t}/${r}`;return new URL(`${s}//${n?`${n}:${i}`:""}${o}${l}${c}${u}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[2063,{"./account-link":2060,"./explorer-link":2061,"./token-tracker-link":2066},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("./account-link"),i=e("./explorer-link"),s=e("./token-tracker-link");t.exports={createExplorerLink:i.createExplorerLink,createCustomExplorerLink:i.createCustomExplorerLink,createExplorerLinkForChain:i.createExplorerLinkForChain,createAccountLink:n.createAccountLink,createCustomAccountLink:n.createCustomAccountLink,createAccountLinkForChain:n.createAccountLinkForChain,createTokenTrackerLink:s.createTokenTrackerLink,createCustomTokenTrackerLink:s.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:s.createTokenTrackerLinkForChain,getBlockExplorerLink:i.getBlockExplorerLink,getAccountLink:n.getAccountLink,getTokenTrackerLink:s.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[2064,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x5":t="goerli.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[2065,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 5:t="goerli.";break;case 11155111:t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[2066,{"./helpers":2062,"./prefix-for-chain":2064,"./prefix-for-network":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenTrackerLink=r.createTokenTrackerLinkForChain=r.createCustomTokenTrackerLink=r.createTokenTrackerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t,r){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}function c(e,t){return i.addPathToUrl(t,"token",e)}function u(e,t,r){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}r.createTokenTrackerLink=a,r.createCustomTokenTrackerLink=c,r.createTokenTrackerLinkForChain=u,r.getTokenTrackerLink=function(e,t,r,n,i={}){return i.blockExplorerUrl?c(e,i.blockExplorerUrl):r?a(e,r,n):u(e,t,n)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[2067,{"./has-tx-object":2068,"@babel/runtime/helpers/asyncToGenerator":616,"@babel/runtime/helpers/interopRequireDefault":624,"@babel/runtime/regenerator":642,"@metamask/ethjs-filter":2070,"@metamask/ethjs-util":2075,"ethjs-abi":4381,"js-sha3":4652,"promise-to-callback":5090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),s=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("ethjs-abi"),a=e("@metamask/ethjs-filter"),c=e("@metamask/ethjs-util").getKeys,u=e("js-sha3").keccak_256,l=e("promise-to-callback"),d=e("./has-tx-object");t.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=this;function r(e){return function(){var t,r=[].slice.call(arguments);"function"==typeof r[r.length-1]&&(t=r.pop());var i=function(e){return n.apply(this,arguments)}({methodObject:e,methodArgs:r});return t?l(i)(t):i}}function n(){return(n=(0,s.default)(i.default.mark(function e(r){var n,s,a,c,u,l,p;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.methodObject,s=r.methodArgs,a="call",c={},d(s)&&(c=s.pop()),(u=Object.assign({},t.defaultTxObject,c,{to:t.address})).data=o.encodeMethod(n,s),!1===n.constant&&(a="sendTransaction"),e.next=9,t.query[a](u);case 9:if(l=e.sent,"call"!==a){e.next=20;break}return e.prev=11,p=o.decodeMethod(n,l),e.abrupt("return",p);case 16:throw e.prev=16,e.t0=e.catch(11),new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(l)+" "+e.t0);case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}},e,null,[[11,16]])}))).apply(this,arguments)}t.abi=e.contractABI||[],t.query=e.query,t.address=e.address||"0x",t.bytecode=e.contractBytecode||"0x",t.defaultTxObject=e.contractDefaultTxObject||{},t.filters=new a(t.query),(p=t.abi,p.filter(function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0})).forEach(function(e){"function"===e.type?t[e.name]=r(e):"event"===e.type&&(t[e.name]=function(e){return function(){var r=[].slice.call(arguments),n=c(e.inputs,"type",!1),i=["0x"+u(e.name+"("+n.join(",")+")")],s=Object.assign({},r[0])||{},a=Object.assign({},r[0]||{},{to:t.address,topics:i}),l=Object.assign({},s,{decoder:function(t){return o.decodeEvent(e,t,i)},defaultFilterObject:a});return new t.filters.Filter(l)}}(e))});var p}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/contract.js"}],[2068,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===Object.keys(t).length)return!0;var r=Object.keys(t);if(n.some(function(e){return r.includes(e)}))return!0;return!1}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/has-tx-object.js"}],[2069,{"./contract":2067,"./has-tx-object":2068,"@metamask/ethjs-filter":2070,"@metamask/ethjs-util":2075,"ethjs-abi":4381,"js-sha3":4652},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("ethjs-abi"),i=(e("js-sha3").keccak_256,e("@metamask/ethjs-filter"),e("@metamask/ethjs-util").getKeys),s=e("./contract"),o=e("./has-tx-object");t.exports=function(e){return function(t,r,a){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==r&&"string"!=typeof r)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof r);if(void 0!==a&&"object"!=typeof a)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var c={at:function(n){return new s({address:n,query:e,contractBytecode:r,contractDefaultTxObject:a,contractABI:t})},new:function(){var s={},c=null,u=[].slice.call(arguments);"function"==typeof u[u.length-1]&&(c=u.pop()),o(u)&&(s=u.pop());var l=function(e){return e.filter(function(e){return"constructor"===e.type})[0]}(t),d=Object.assign({},a,s);if(r&&(d.data=r),l){var p=n.encodeParams(i(l.inputs,"type"),u).substring(2);d.data=""+d.data+p}return c?e.sendTransaction(d,c):e.sendTransaction(d)}};return c}}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/index.js"}],[2070,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){function r(e){var r=this;r.filterId=null,r.options=Object.assign({delay:300,decoder:function(e){return e},defaultFilterObject:{}},e||{}),r.watchers={},r.interval=setInterval(function(){null!==r.filterId&&Object.keys(r.watchers).length>0&&t.getFilterChanges(r.filterId,function(e,t){var n=[],i=null;if(!e)try{t.forEach(function(e,i){n[i]=t[i],"object"==typeof t[i]&&(n[i].data=r.options.decoder(n[i].data))})}catch(e){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(n)+"': "+e)}Object.keys(r.watchers).forEach(function(s){var o=r.watchers[s];!0!==o.stop?i?o.callback(i,null):e?o.callback(e,null):Array.isArray(n)&&t.length>0&&o.callback(e,n):delete r.watchers[s]})})},r.options.delay)}return r.prototype.at=function(e){this.filterId=e},r.prototype.watch=function(e){var t=e||function(){},r=this,n=Math.random().toString(36).substring(7);return r.watchers[n]={callback:t,stop:!1,stopWatching:function(){r.watchers[n].stop=!0}},r.watchers[n]},r.prototype.uninstall=function(e){var r=this,n=e||null;r.watchers=Object.assign({}),clearInterval(r.interval);var i=new Promise(function(e,n){t.uninstallFilter(r.filterId,function(t,r){t?n(t):e(r)})});return n&&i.then(function(e){return n(null,e)}).catch(function(e){return n(e,null)}),n?null:i},r.prototype.new=function(){var r=null,n=this,i=[],s=[].slice.call(arguments);"function"==typeof s[s.length-1]&&(r=s.pop()),"Filter"===e&&i.push(Object.assign(n.options.defaultFilterObject,s[s.length-1]||{}));var o=new Promise(function(r,s){i.push(function(e,t){e?s(e):(n.filterId=t,r(t))}),t["new"+e].apply(t,i)});return r&&o.then(function(e){return r(null,e)}).catch(function(e){return r(e,null)}),r?null:o},r}t.exports=function e(t){var r=this;if(!(r instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof t)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");r.Filter=n("Filter",t),r.BlockFilter=n("BlockFilter",t),r.PendingTransactionFilter=n("PendingTransactionFilter",t)}}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-filter",file:"node_modules/@metamask/ethjs-filter/lib/index.js"}],[2071,{"@metamask/ethjs-util":2075,"@metamask/number-to-bn":2398,"ethjs-schema":4383,"strip-hex-prefix":5666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/number-to-bn"),i=e("ethjs-schema"),s=e("@metamask/ethjs-util"),o=s.arrayContainsArray,a=s.getBinarySize,c=s.padToEven,u=e("strip-hex-prefix");function l(e,t,r){if(-1===["string","number","object"].indexOf(typeof e)||null===e)return e;var i=n(e),s=r&&i.toString(16).length%2?"0":"";if(n(e).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+i.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+s+i.toString(16):i}function d(e,t){var r=e;return-1===i.tags.indexOf(e)&&(r=l(e,t)),r}function p(e,t){var r=e,n=0;if("string"==typeof e&&(r="0x"+c(u(e)),n=a(r)),"0x00"===r&&(r="0x0"),"number"==typeof t&&null!==e&&"0x"!==r&&"0x0"!==r&&(!/^[0-9A-Fa-f]+$/.test(u(r))||n!==2+2*t))throw new Error("[ethjs-format] hex string '"+r+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+n+" bytes");return r}function h(e,t,r){var n=Object.assign({},t),s=null;if("string"==typeof e&&(s="Boolean|EthSyncing"===e?Object.assign({},i.objects.EthSyncing):"DATA|Transaction"===e?Object.assign({},i.objects.Transaction):Object.assign({},i.objects[e])),!o(Object.keys(t),s.__required))throw new Error("[ethjs-format] object "+JSON.stringify(t)+" must contain properties: "+s.__required.join(", "));return Object.keys(s).forEach(function(e){"__required"!==e&&void 0!==t[e]&&(n[e]=m(s[e],t[e],r))}),n}function f(e,t,r,n){var i=t.slice(),s=e;if("Array|DATA"===e&&(s=["D"]),"FilterChange"===e&&"string"==typeof t[0]&&(s=["D32"]),!0===r&&"number"==typeof n&&t.length<n)throw new Error("array "+JSON.stringify(t)+" must contain at least "+n+" params, but only contains "+t.length+".");return s=s.slice(),t.forEach(function(e,t){var n=0;s.length>1&&(n=t),i[t]=m(s[n],e,r)}),i}function m(e,t,r,n){var i=t;return"Q"===e?i=l(t,r):"QP"===e?i=l(t,r,!0):"Q|T"===e?i=d(t,r):"D"===e?i=p(t):"D20"===e?i=p(t,20):"D32"===e?i=p(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=h(e,t,r):Array.isArray(t)&&(i=f(e,t,r,n)),i}t.exports={schema:i,formatQuantity:l,formatQuantityOrTag:d,formatObject:h,formatArray:f,format:m,formatInputs:function(e,t){return m(i.methods[e][0],t,!0,i.methods[e][2])},formatOutputs:function(e,t){return m(i.methods[e][1],t,!1)}}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-format",file:"node_modules/@metamask/ethjs-format/lib/index.js"}],[2072,{"@metamask/ethjs-format":2071,"@metamask/ethjs-rpc":2073,"promise-to-callback":5090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/ethjs-format"),i=e("@metamask/ethjs-rpc"),s=e("promise-to-callback");function o(e,t){var r=this,n=t||{};if(!(this instanceof o))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");r.options=Object.assign({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),r.rpc=new i(e),r.setProvider=r.rpc.setProvider}function a(e,t){return function(){var r=null,i=null,o=this,a=[].slice.call(arguments),c=e.replace("eth_","");a.length>0&&"function"==typeof a[a.length-1]&&(r=a.pop());var u=function(){var r=this;return new Promise(function(s,u){if(a.length<t[2])u(new Error("[ethjs-query] method '"+c+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+a.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else if(a.length>t[0].length)u(new Error("[ethjs-query] method '"+c+"' requires at most "+t[0].length+" params, "+a.length+" provided '"+JSON.stringify(a,null,o.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else{t[3]&&a.length<t[3]&&a.push("latest"),r.log("attempting method formatting for '"+c+"' with inputs "+JSON.stringify(a,null,r.options.jsonSpace));try{i=n.formatInputs(e,a),r.log("method formatting success for '"+c+"' with formatted result: "+JSON.stringify(i,null,r.options.jsonSpace))}catch(e){return void u(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(a,null,r.options.jsonSpace)+"' for method '"+c+"' error: "+e))}r.rpc.sendAsync({method:e,params:i}).then(function(t){r.log("attempting method formatting for '"+c+"' with raw outputs: "+JSON.stringify(t,null,r.options.jsonSpace));var i=n.formatOutputs(e,t);r.log("method formatting success for '"+c+"' formatted result: "+JSON.stringify(i,null,r.options.jsonSpace)),s(i)}).catch(function(e){u(e)})}})}.call(this);return r?s(u)(r):u}}t.exports=o,o.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},Object.keys(n.schema.methods).forEach(function(e){Object.defineProperty(o.prototype,e.replace("eth_",""),{enumerable:!0,value:a(e,n.schema.methods[e])})})}}},{package:"eth-method-registry>@metamask/ethjs-query",file:"node_modules/@metamask/ethjs-query/lib/index.js"}],[2073,{"promise-to-callback":5090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("promise-to-callback");function i(e,t){var r=this,n=t||{};if(!(this instanceof i))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');r.options=Object.assign({jsonSpace:n.jsonSpace||0,max:n.max||9999999999999}),r.idCounter=Math.floor(Math.random()*r.options.max),r.setProvider=function(e){if("object"!=typeof e)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new EthRPC(provider);')");r.currentProvider=e},r.setProvider(e)}t.exports=i,i.prototype.sendAsync=function(e,t){var r=this;r.idCounter=r.idCounter%r.options.max;var i,s,o=(i=e,s=r.idCounter++,Object.assign({},{id:s,jsonrpc:"2.0",params:[]},i)),a=new Promise(function(e,t){r.currentProvider.sendAsync(o,function(n,i){var s=i||{};if(n||s.error){var a="[ethjs-rpc] "+(s.error?"rpc":"")+" error with payload "+JSON.stringify(o,null,r.options.jsonSpace)+" "+(n?String(n):JSON.stringify(s.error,null,r.options.jsonSpace)),c=new Error(a);return c.value=n||s.error,void t(c)}e(s.result)})});return t?n(a)(t):a}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-rpc",file:"node_modules/@metamask/ethjs-rpc/lib/index.js"}],[2074,{"@metamask/number-to-bn":2398,"bn.js":4023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("bn.js"),i=e("@metamask/number-to-bn"),s=new n(0),o=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",r=a[t];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function u(e){if("string"==typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"==typeof e)return String(e);if("object"==typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}t.exports={unitMap:a,numberToString:u,getValueOfUnit:c,fromWei:function(e,t,r){var n=i(e),u=n.lt(s),l=c(t),d=a[t].length-1||1,p=r||{};u&&(n=n.mul(o));for(var h=n.mod(l).toString(10);h.length<d;)h="0"+h;p.pad||(h=h.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var f=n.div(l).toString(10);p.commify&&(f=f.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=f+("0"==h?"":"."+h);return u&&(m="-"+m),m},toWei:function(e,t){var r=u(e),i=c(t),s=a[t].length-1||1,l="-"===r.substring(0,1);if(l&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var d=r.split(".");if(d.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var p=d[0],h=d[1];if(p||(p="0"),h||(h="0"),h.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;h.length<s;)h+="0";p=new n(p),h=new n(h);var f=p.mul(i).add(h);return l&&(f=f.mul(o)),new n(f.toString(10),10)}}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit",file:"node_modules/@metamask/ethjs-unit/lib/index.js"}],[2075,{buffer:4084,"is-hex-prefixed":4629,"strip-hex-prefix":5666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function o(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=o(e);return r.from(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:s,intToHex:o,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(r.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return r.from(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");n.push(s)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-util",file:"node_modules/@metamask/ethjs-util/lib/index.js"}],[2084,{"./constants.cjs":2085,"./decodePermission/index.cjs":2087,"./errors.cjs":2089,"./logger.cjs":2091,"./types.cjs":2092,"./utils.cjs":2093,"@metamask/base-controller":1362,"@metamask/delegation-deployments":2094,"@metamask/snaps-utils":2903},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultGatorPermissionsControllerState=void 0;const m=e("@metamask/base-controller"),y=e("@metamask/delegation-deployments"),g=e("@metamask/snaps-utils"),w=e("./constants.cjs"),b=e("./decodePermission/index.cjs"),k=e("./errors.cjs"),v=e("./logger.cjs"),_=e("./types.cjs"),T=e("./utils.cjs"),E="GatorPermissionsController",j=y.DELEGATOR_CONTRACTS[w.DELEGATION_FRAMEWORK_VERSION],S={isGatorPermissionsEnabled:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsMapSerialized:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},isFetchingGatorPermissions:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},gatorPermissionsProviderSnapId:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},pendingRevocations:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0}};function A(){return{isGatorPermissionsEnabled:!1,gatorPermissionsMapSerialized:(0,T.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}}),isFetchingGatorPermissions:!1,gatorPermissionsProviderSnapId:"npm:@metamask/gator-permissions-snap",pendingRevocations:[]}}r.getDefaultGatorPermissionsControllerState=A;class P extends m.BaseController{constructor({messenger:e,state:t}){super({name:E,metadata:S,messenger:e,state:{...A(),...t,isFetchingGatorPermissions:!1}}),n.add(this),f(this,n,"m",u).call(this)}get gatorPermissionsMap(){return(0,T.deserializeGatorPermissionsMap)(this.state.gatorPermissionsMapSerialized)}get permissionsProviderSnapId(){return this.state.gatorPermissionsProviderSnapId}async enableGatorPermissions(){f(this,n,"m",s).call(this,!0)}async disableGatorPermissions(){this.update(e=>{e.isGatorPermissionsEnabled=!1,e.gatorPermissionsMapSerialized=(0,T.serializeGatorPermissionsMap)({"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}})})}get pendingRevocations(){return this.state.pendingRevocations}async fetchAndUpdateGatorPermissions(e){try{f(this,n,"m",i).call(this,!0),f(this,n,"m",l).call(this);const t=await f(this,n,"m",d).call(this,{snapId:this.state.gatorPermissionsProviderSnapId,params:e}),r=f(this,n,"m",h).call(this,t);return this.update(e=>{e.gatorPermissionsMapSerialized=(0,T.serializeGatorPermissionsMap)(r)}),r}catch(e){throw(0,v.controllerLog)("Failed to fetch gator permissions",e),new k.GatorPermissionsFetchError({message:"Failed to fetch gator permissions",cause:e})}finally{f(this,n,"m",i).call(this,!1)}}decodePermissionFromPermissionContextForOrigin({origin:e,chainId:t,delegation:{caveats:r,delegator:n,delegate:i,authority:s},metadata:{justification:o,origin:a}}){if(e!==this.permissionsProviderSnapId)throw new k.OriginNotAllowedError({origin:e});const c=j[t];if(!c)throw new Error(`Contracts not found for chainId: ${t}`);try{const e=r.map(e=>e.enforcer),u=(0,b.identifyPermissionByEnforcers)({enforcers:e,contracts:c}),{expiry:l,data:d}=(0,b.getPermissionDataAndExpiry)({contracts:c,caveats:r,permissionType:u});return(0,b.reconstructDecodedPermission)({chainId:t,permissionType:u,delegator:n,delegate:i,authority:s,expiry:l,data:d,justification:o,specifiedOrigin:a})}catch(e){throw new k.PermissionDecodingError({cause:e})}}async submitRevocation(e){(0,v.controllerLog)("submitRevocation method called",{permissionContext:e.permissionContext}),f(this,n,"m",l).call(this);const t={snapId:this.state.gatorPermissionsProviderSnapId,origin:"metamask",handler:g.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:_.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,params:e}};try{const r=await this.messenger.call("SnapController:handleRequest",t);await this.fetchAndUpdateGatorPermissions({isRevoked:!1}),(0,v.controllerLog)("Successfully submitted revocation",{permissionContext:e.permissionContext,result:r})}catch(t){if(t instanceof k.GatorPermissionsFetchError)throw(0,v.controllerLog)("Revocation submitted successfully but failed to refresh permissions list",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsFetchError({message:"Failed to refresh permissions list after successful revocation",cause:t});throw(0,v.controllerLog)("Failed to submit revocation",{error:t,permissionContext:e.permissionContext}),new k.GatorPermissionsProviderError({method:_.GatorPermissionsSnapRpcMethod.PermissionProviderSubmitRevocation,cause:t})}finally{f(this,n,"m",c).call(this,e.permissionContext)}}async addPendingRevocation(e){const{txId:t,permissionContext:r}=e;(0,v.controllerLog)("addPendingRevocation method called",{txId:t,permissionContext:r}),f(this,n,"m",l).call(this);const i={approved:undefined,rejected:undefined,confirmed:undefined,failed:undefined,dropped:undefined,timeoutId:undefined},s=e=>{this.fetchAndUpdateGatorPermissions({isRevoked:!1}).catch(n=>{(0,v.controllerLog)(`Failed to refresh permissions after ${e}`,{txId:t,permissionContext:r,error:n})})},c=()=>{i.approved&&(this.messenger.unsubscribe("TransactionController:transactionApproved",i.approved),i.approved=undefined),i.rejected&&(this.messenger.unsubscribe("TransactionController:transactionRejected",i.rejected),i.rejected=undefined)},u=(e,t=!0)=>{c(),i.confirmed&&this.messenger.unsubscribe("TransactionController:transactionConfirmed",i.confirmed),i.failed&&this.messenger.unsubscribe("TransactionController:transactionFailed",i.failed),i.dropped&&this.messenger.unsubscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId!==undefined&&clearTimeout(i.timeoutId),t&&f(this,n,"m",a).call(this,e)};i.approved=e=>{e.transactionMeta.id===t&&((0,v.controllerLog)("Transaction approved by user, adding to pending revocations",{txId:t,permissionContext:r}),f(this,n,"m",o).call(this,t,r),c())},i.rejected=e=>{e.transactionMeta.id===t&&((0,v.controllerLog)("Transaction rejected by user, cleaning up listeners",{txId:t,permissionContext:r}),u(e.transactionMeta.id,!1))},i.confirmed=e=>{e.id===t&&((0,v.controllerLog)("Transaction confirmed, submitting revocation",{txId:t,permissionContext:r}),this.submitRevocation({permissionContext:r}).catch(e=>{(0,v.controllerLog)("Failed to submit revocation after transaction confirmed",{txId:t,permissionContext:r,error:e})}).finally(()=>s("transaction confirmed")),u(e.id))},i.failed=e=>{e.transactionMeta.id===t&&((0,v.controllerLog)("Transaction failed, cleaning up revocation listener",{txId:t,permissionContext:r,error:e.error}),u(e.transactionMeta.id),s("transaction failed"))},i.dropped=e=>{e.transactionMeta.id===t&&((0,v.controllerLog)("Transaction dropped, cleaning up revocation listener",{txId:t,permissionContext:r}),u(e.transactionMeta.id),s("transaction dropped"))},this.messenger.subscribe("TransactionController:transactionApproved",i.approved),this.messenger.subscribe("TransactionController:transactionRejected",i.rejected),this.messenger.subscribe("TransactionController:transactionConfirmed",i.confirmed),this.messenger.subscribe("TransactionController:transactionFailed",i.failed),this.messenger.subscribe("TransactionController:transactionDropped",i.dropped),i.timeoutId=setTimeout(()=>{(0,v.controllerLog)("Pending revocation timed out, cleaning up listeners",{txId:t,permissionContext:r}),u(t)},72e5)}async submitDirectRevocation(e){f(this,n,"m",l).call(this);const t=`no-tx-${e.permissionContext}`;f(this,n,"m",o).call(this,t,e.permissionContext),await this.submitRevocation(e)}isPendingRevocation(e){return this.state.pendingRevocations.some(t=>t.permissionContext.toLowerCase()===e.toLowerCase())}}n=new WeakSet,i=function(e){this.update(t=>{t.isFetchingGatorPermissions=e})},s=function(e){this.update(t=>{t.isGatorPermissionsEnabled=e})},o=function(e,t){this.update(r=>{r.pendingRevocations=[...r.pendingRevocations,{txId:e,permissionContext:t}]})},a=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.txId!==e)})},c=function(e){this.update(t=>{t.pendingRevocations=t.pendingRevocations.filter(t=>t.permissionContext.toLowerCase()!==e.toLowerCase())})},u=function(){this.messenger.registerActionHandler(`${E}:fetchAndUpdateGatorPermissions`,this.fetchAndUpdateGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${E}:enableGatorPermissions`,this.enableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${E}:disableGatorPermissions`,this.disableGatorPermissions.bind(this)),this.messenger.registerActionHandler(`${E}:decodePermissionFromPermissionContextForOrigin`,this.decodePermissionFromPermissionContextForOrigin.bind(this));const e=`${E}:submitRevocation`;this.messenger.registerActionHandler(e,this.submitRevocation.bind(this)),this.messenger.registerActionHandler(`${E}:addPendingRevocation`,this.addPendingRevocation.bind(this)),this.messenger.registerActionHandler(`${E}:submitDirectRevocation`,this.submitDirectRevocation.bind(this)),this.messenger.registerActionHandler(`${E}:isPendingRevocation`,this.isPendingRevocation.bind(this))},l=function(){if(!this.state.isGatorPermissionsEnabled)throw new k.GatorPermissionsNotEnabledError},d=async function({snapId:e,params:t}){try{return await this.messenger.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:g.HandlerType.OnRpcRequest,request:{jsonrpc:"2.0",method:_.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,...t!==undefined&&{params:t}}})}catch(e){throw(0,v.controllerLog)("Failed to handle snap request to gator permissions provider",e),new k.GatorPermissionsProviderError({method:_.GatorPermissionsSnapRpcMethod.PermissionProviderGetGrantedPermissions,cause:e})}},p=function(e){const{permissionResponse:t}=e,{dependencyInfo:r,signer:n,...i}=t;return{...e,permissionResponse:{...i}}},h=function(e){const t={"erc20-token-revocation":{},"native-token-stream":{},"native-token-periodic":{},"erc20-token-stream":{},"erc20-token-periodic":{},other:{}};if(!e)return t;for(const r of e){const{permissionResponse:{permission:{type:e},chainId:i}}=r,s=Object.prototype.hasOwnProperty.call(t,e)?e:"other";t[s][i]=[...t[s][i]||[],f(this,n,"m",p).call(this,r)]}return t},r.default=P}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/GatorPermissionsController.cjs"}],[2085,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=void 0,r.DELEGATION_FRAMEWORK_VERSION="1.3.0"}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/constants.cjs"}],[2086,{"./utils.cjs":2088,"@metamask/delegation-core":1462,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;const n=e("@metamask/delegation-core"),i=e("@metamask/utils"),s=e("./utils.cjs");r.identifyPermissionByEnforcers=({enforcers:e,contracts:t})=>{const r=new Map;for(const t of e.map(i.getChecksumAddress))r.set(t,(r.get(t)??0)+1);const n=new Set(r.keys()),o=(0,s.createPermissionRulesForChainId)(t);let a=null;for(const{optionalEnforcers:e,requiredEnforcers:t,permissionType:i}of o){const s=new Set([...e,...t.keys()]);let o=!1;for(const e of n)if(!s.has(e)){o=!0;break}let c=!0;for(const[e,n]of t.entries())if((r.get(e)??0)!==n){c=!1;break}if(c&&!o){if(a)throw new Error("Multiple permission types match");a=i}}if(!a)throw new Error("Unable to identify permission type");return a};r.getPermissionDataAndExpiry=({contracts:e,caveats:t,permissionType:r})=>{const n=t.map(e=>({...e,enforcer:(0,i.getChecksumAddress)(e.enforcer)})),{erc20StreamingEnforcer:o,erc20PeriodicEnforcer:a,nativeTokenStreamingEnforcer:c,nativeTokenPeriodicEnforcer:u,timestampEnforcer:l}=(0,s.getChecksumEnforcersByChainId)(e),d=(0,s.getTermsByEnforcer)({caveats:n,enforcer:l,throwIfNotFound:!1});let p,h=null;switch(d&&(h=(e=>{if(66!==e.length)throw new Error(`Invalid TimestampEnforcer terms length: expected 66 characters (0x + 64 hex), got ${e.length}`);const[t,r]=(0,s.splitHex)(e,[16,16]);if(0!==(0,i.hexToNumber)(t))throw new Error("Invalid expiry: timestampAfterThreshold must be 0");const n=(0,i.hexToNumber)(r);if(0===n)throw new Error("Invalid expiry: timestampBeforeThreshold must be greater than 0");return n})(d)),r){case"erc20-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:o}),[t,r,a,c,u]=(0,s.splitHex)(e,[20,32,32,32,32]);p={tokenAddress:t,initialAmount:r,maxAmount:a,amountPerSecond:c,startTime:(0,i.hexToNumber)(u)};break}case"erc20-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:a}),[t,r,o,c]=(0,s.splitHex)(e,[20,32,32,32]);p={tokenAddress:t,periodAmount:r,periodDuration:(0,i.hexToNumber)(o),startTime:(0,i.hexToNumber)(c)};break}case"native-token-stream":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:c}),[t,r,o,a]=(0,s.splitHex)(e,[32,32,32,32]);p={initialAmount:t,maxAmount:r,amountPerSecond:o,startTime:(0,i.hexToNumber)(a)};break}case"native-token-periodic":{const e=(0,s.getTermsByEnforcer)({caveats:n,enforcer:u}),[t,r,o]=(0,s.splitHex)(e,[32,32,32]);p={periodAmount:t,periodDuration:(0,i.hexToNumber)(r),startTime:(0,i.hexToNumber)(o)};break}case"erc20-token-revocation":p={};break;default:throw new Error("Invalid permission type")}return{expiry:h,data:p}};r.reconstructDecodedPermission=({chainId:e,permissionType:t,delegator:r,delegate:s,authority:o,expiry:a,data:c,justification:u,specifiedOrigin:l})=>{if(o!==n.ROOT_AUTHORITY)throw new Error("Invalid authority");return{chainId:(0,i.numberToHex)(e),address:r,signer:{type:"account",data:{address:s}},permission:{type:t,data:c,justification:u},expiry:a,origin:l}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/decodePermission.cjs"}],[2087,{"./decodePermission.cjs":2086},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructDecodedPermission=r.getPermissionDataAndExpiry=r.identifyPermissionByEnforcers=void 0;var n=e("./decodePermission.cjs");Object.defineProperty(r,"identifyPermissionByEnforcers",{enumerable:!0,get:function(){return n.identifyPermissionByEnforcers}}),Object.defineProperty(r,"getPermissionDataAndExpiry",{enumerable:!0,get:function(){return n.getPermissionDataAndExpiry}}),Object.defineProperty(r,"reconstructDecodedPermission",{enumerable:!0,get:function(){return n.reconstructDecodedPermission}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/index.cjs"}],[2088,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitHex=r.getTermsByEnforcer=r.isSubset=r.createPermissionRulesForChainId=r.getChecksumEnforcersByChainId=void 0;const n=e("@metamask/utils"),i="ERC20PeriodTransferEnforcer",s="ERC20StreamingEnforcer",o="ExactCalldataEnforcer",a="NativeTokenPeriodTransferEnforcer",c="NativeTokenStreamingEnforcer",u="TimestampEnforcer",l="ValueLteEnforcer",d="NonceEnforcer",p="AllowedCalldataEnforcer";r.getChecksumEnforcersByChainId=e=>{const t=t=>{const r=e[t];if(!r)throw new Error(`Contract not found: ${t}`);return(0,n.getChecksumAddress)(r)};return{erc20StreamingEnforcer:t(s),erc20PeriodicEnforcer:t(i),nativeTokenStreamingEnforcer:t(c),nativeTokenPeriodicEnforcer:t(a),exactCalldataEnforcer:t(o),valueLteEnforcer:t(l),timestampEnforcer:t(u),nonceEnforcer:t(d),allowedCalldataEnforcer:t(p)}};r.createPermissionRulesForChainId=e=>{const{erc20StreamingEnforcer:t,erc20PeriodicEnforcer:n,nativeTokenStreamingEnforcer:i,nativeTokenPeriodicEnforcer:s,exactCalldataEnforcer:o,valueLteEnforcer:a,timestampEnforcer:c,nonceEnforcer:u,allowedCalldataEnforcer:l}=(0,r.getChecksumEnforcersByChainId)(e),d=new Set([c]);return[{requiredEnforcers:new Map([[i,1],[o,1],[u,1]]),optionalEnforcers:d,permissionType:"native-token-stream"},{requiredEnforcers:new Map([[s,1],[o,1],[u,1]]),optionalEnforcers:d,permissionType:"native-token-periodic"},{requiredEnforcers:new Map([[t,1],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-stream"},{requiredEnforcers:new Map([[n,1],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-periodic"},{requiredEnforcers:new Map([[l,2],[a,1],[u,1]]),optionalEnforcers:d,permissionType:"erc20-token-revocation"}]};r.isSubset=(e,t)=>{for(const r of e)if(!t.has(r))return!1;return!0},r.getTermsByEnforcer=function({caveats:e,enforcer:t,throwIfNotFound:r}){const n=e.filter(e=>e.enforcer===t);if(0===n.length){if(r??1)throw new Error("Invalid caveats");return null}if(n.length>1)throw new Error("Invalid caveats");return n[0].terms},r.splitHex=function(e,t){let r=2;const n=[];for(const i of t){const t=2*i,s=e.slice(r,r+t);r+=t,n.push(`0x${s}`)}return n}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/decodePermission/utils.cjs"}],[2089,{"./types.cjs":2092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionDecodingError=r.OriginNotAllowedError=r.GatorPermissionsProviderError=r.GatorPermissionsNotEnabledError=r.GatorPermissionsMapSerializationError=r.GatorPermissionsFetchError=r.GatorPermissionsControllerError=void 0;const n=e("./types.cjs");class i extends Error{constructor({cause:e,message:t,code:r}){super(t),this.cause=e,this.code=r}}r.GatorPermissionsControllerError=i;r.GatorPermissionsFetchError=class extends i{constructor({cause:e,message:t}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsFetchError})}};r.GatorPermissionsMapSerializationError=class extends i{constructor({cause:e,message:t,data:r}){super({cause:e,message:t,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsMapSerializationError}),this.data=r}};r.GatorPermissionsNotEnabledError=class extends i{constructor(){super({cause:new Error("Gator permissions are not enabled"),message:"Gator permissions are not enabled",code:n.GatorPermissionsControllerErrorCode.GatorPermissionsNotEnabled})}};r.GatorPermissionsProviderError=class extends i{constructor({cause:e,method:t}){super({cause:e,message:`Failed to handle snap request to gator permissions provider for method ${t}`,code:n.GatorPermissionsControllerErrorCode.GatorPermissionsProviderError})}};r.OriginNotAllowedError=class extends i{constructor({origin:e}){const t=`Origin ${e} not allowed`;super({cause:new Error(t),message:t,code:n.GatorPermissionsControllerErrorCode.OriginNotAllowedError})}};r.PermissionDecodingError=class extends i{constructor({cause:e}){super({cause:e,message:"Failed to decode permission",code:n.GatorPermissionsControllerErrorCode.PermissionDecodingError})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/errors.cjs"}],[2090,{"./GatorPermissionsController.cjs":2084,"./constants.cjs":2085,"./utils.cjs":2093},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.DELEGATION_FRAMEWORK_VERSION=r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=r.GatorPermissionsController=void 0;var i=e("./GatorPermissionsController.cjs");Object.defineProperty(r,"GatorPermissionsController",{enumerable:!0,get:function(){return n(i).default}});var s=e("./utils.cjs");Object.defineProperty(r,"serializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.serializeGatorPermissionsMap}}),Object.defineProperty(r,"deserializeGatorPermissionsMap",{enumerable:!0,get:function(){return s.deserializeGatorPermissionsMap}});var o=e("./constants.cjs");Object.defineProperty(r,"DELEGATION_FRAMEWORK_VERSION",{enumerable:!0,get:function(){return o.DELEGATION_FRAMEWORK_VERSION}})}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/index.cjs"}],[2091,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.utilsLog=r.controllerLog=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("gator-permissions-controller"),r.controllerLog=(0,n.createModuleLogger)(r.projectLogger,"GatorPermissionsController"),r.utilsLog=(0,n.createModuleLogger)(r.projectLogger,"utils")}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/logger.cjs"}],[2092,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.GatorPermissionsSnapRpcMethod=r.GatorPermissionsControllerErrorCode=void 0,function(e){e.GatorPermissionsFetchError="gator-permissions-fetch-error",e.GatorPermissionsNotEnabled="gator-permissions-not-enabled",e.GatorPermissionsProviderError="gator-permissions-provider-error",e.GatorPermissionsMapSerializationError="gator-permissions-map-serialization-error",e.PermissionDecodingError="permission-decoding-error",e.OriginNotAllowedError="origin-not-allowed-error"}(n||(r.GatorPermissionsControllerErrorCode=n={})),function(e){e.PermissionProviderGetGrantedPermissions="permissionsProvider_getGrantedPermissions",e.PermissionProviderSubmitRevocation="permissionsProvider_submitRevocation"}(i||(r.GatorPermissionsSnapRpcMethod=i={}))}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/types.cjs"}],[2093,{"./errors.cjs":2089,"./logger.cjs":2091},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeGatorPermissionsMap=r.serializeGatorPermissionsMap=void 0;const n=e("./errors.cjs"),i=e("./logger.cjs");r.serializeGatorPermissionsMap=function(e){try{return JSON.stringify(e)}catch(t){throw(0,i.utilsLog)("Failed to serialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to serialize gator permissions map",data:e})}},r.deserializeGatorPermissionsMap=function(e){try{return JSON.parse(e)}catch(t){throw(0,i.utilsLog)("Failed to deserialize gator permissions map",t),new n.GatorPermissionsMapSerializationError({cause:t,message:"Failed to deserialize gator permissions map",data:e})}}}}},{package:"@metamask/gator-permissions-controller",file:"node_modules/@metamask/gator-permissions-controller/dist/utils.cjs"}],[2094,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={DelegationManager:"0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x69Aa2f9fe1572F1B640E1bbc512f5c3a734fc77c",MultiSigDeleGatorImpl:"0x56a9EdB16a0105eb5a4C54f4C062e2868844f3A7",HybridDeleGatorImpl:"0x48dBe696A4D990079e039489bA2053B36E8FFEC4",EIP7702StatelessDeleGatorImpl:"0x63c0c19a282a1B52b07dD5a65b58948A07DAE32B",AllowedCalldataEnforcer:"0xc2b0d624c1c4319760C96503BA27C347F3260f55",AllowedMethodsEnforcer:"0x2c21fD0Cb9DC8445CB3fb0DC5E7Bb0Aca01842B5",AllowedTargetsEnforcer:"0x7F20f61b1f09b08D970938F6fa563634d65c4EeB",BlockNumberEnforcer:"0x5d9818dF0AE3f66e9c3D0c5029DAF99d1823ca6c",DeployedEnforcer:"0x24ff2AA430D53a8CD6788018E902E098083dcCd2",ERC20BalanceChangeEnforcer:"0xcdF6aB796408598Cea671d79506d7D48E97a5437",ERC20TransferAmountEnforcer:"0xf100b0819427117EcF76Ed94B358B1A5b5C6D2Fc",ERC20PeriodTransferEnforcer:"0x474e3Ae7E169e940607cC624Da8A15Eb120139aB",ERC20StreamingEnforcer:"0x56c97aE02f233B29fa03502Ecc0457266d9be00e",ERC721BalanceChangeEnforcer:"0x8aFdf96eDBbe7e1eD3f5Cd89C7E084841e12A09e",ERC721TransferEnforcer:"0x3790e6B7233f779b09DA74C72b6e94813925b9aF",ERC1155BalanceChangeEnforcer:"0x63c322732695cAFbbD488Fc6937A0A7B66fC001A",ExactCalldataBatchEnforcer:"0x982FD5C86BBF425d7d1451f974192d4525113DfD",ExactCalldataEnforcer:"0x99F2e9bF15ce5eC84685604836F71aB835DBBdED",ExactExecutionBatchEnforcer:"0x1e141e455d08721Dd5BCDA1BaA6Ea5633Afd5017",ExactExecutionEnforcer:"0x146713078D39eCC1F5338309c28405ccf85Abfbb",IdEnforcer:"0xC8B5D93463c893401094cc70e66A206fb5987997",LimitedCallsEnforcer:"0x04658B29F6b82ed55274221a06Fc97D318E25416",NativeBalanceChangeEnforcer:"0xbD7B277507723490Cd50b12EaaFe87C616be6880",ArgsEqualityCheckEnforcer:"0x44B8C6ae3C304213c3e298495e12497Ed3E56E41",NativeTokenPaymentEnforcer:"0x4803a326ddED6dDBc60e659e5ed12d85c7582811",NativeTokenTransferAmountEnforcer:"0xF71af580b9c3078fbc2BBF16FbB8EEd82b330320",NativeTokenStreamingEnforcer:"0xD10b97905a320b13a0608f7E9cC506b56747df19",NativeTokenPeriodTransferEnforcer:"0x9BC0FAf4Aca5AE429F4c06aEEaC517520CB16BD9",NonceEnforcer:"0xDE4f2FAC4B3D87A1d9953Ca5FC09FCa7F366254f",OwnershipTransferEnforcer:"0x7EEf9734E7092032B5C56310Eb9BbD1f4A524681",RedeemerEnforcer:"0xE144b0b2618071B4E56f746313528a669c7E65c5",SpecificActionERC20TransferBatchEnforcer:"0x00e0251aaA263dfE3B3541B758A82D1CBA1c3B6D",TimestampEnforcer:"0x1046bb45C8d673d4ea75321280DB34899413c069",ValueLteEnforcer:"0x92Bf12322527cAA612fd31a0e810472BBB106A8F",MultiTokenPeriodEnforcer:"0xFB2f1a9BD76d3701B730E5d69C3219D42D80eBb7"},i={DelegationManager:"0x56D56e07e3d6Ee5a24e30203A37a0a460f42D7A3",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0xd1f421EDbA5e3FA9efe3874827114b20C5BEC40C",HybridDeleGatorImpl:"0x941f3a016F8726d5643Ce62452d0D78492D42b42",AllowedCalldataEnforcer:"0xff71d60f3208469cBCE0859717B5198042DCB3F3",AllowedMethodsEnforcer:"0xe32C2561792e8446Abe73B9f557B881C13906186",AllowedTargetsEnforcer:"0x06aaE4c67EEA95277c46Bf79b1583d4a01772D22",BlockNumberEnforcer:"0x8E470D2Ae278457b42d2405E0B8Cd4BE21Ed9045",DeployedEnforcer:"0xf9088f013dBD9ebb7Cebd66fEB48253c6Ac5a820",ERC20BalanceGteEnforcer:"0xB7B6f32ec6343261D814e55Ed8C5925d91Cab861",ERC20TransferAmountEnforcer:"0x9A069b18032B31429A363AeCFb1B6A0564b44471",IdEnforcer:"0x91015c3b9D9523966eD2399885e5Df7A567f916c",LimitedCallsEnforcer:"0xe694bFfffEA3E85923b1210b37e6a0175e910863",NonceEnforcer:"0xE83BCFD8bBE672A96747e831050a91cf44F4F87A",TimestampEnforcer:"0x550FdD13eEBC1f22ea2a2480024BacBF0Ad7e5CE",ValueLteEnforcer:"0xBE32a6DB7471F63BB168C088c57Db01AfAe87967",NativeTokenTransferAmountEnforcer:"0x5eD3833d7B957A8DB8A461c3AF2d668Ec25382E0",NativeBalanceGteEnforcer:"0x376a98860E210DdEda3689fb39565592c563cB0A",ArgsEqualityCheckEnforcer:"0x7378dE585998d3E18Ce147867C335C25B3dB8Ee5",NativeTokenPaymentEnforcer:"0x87Fe18EbF99e42fcE8A03a25F1d20E119407f8e7",RedeemerEnforcer:"0x926672b130D1EF60A9d6b11D2048d121b30f40C1"},s={DelegationManager:"0xbe4138886cb096bdc1b930f2f0ca7892aa234d78",EntryPoint:"0x0000000071727De22E5E9d8BAf0edAc6f37da032",SimpleFactory:"0x6ff518884f21168c30c58CB21184D6AdBC18Ad90",MultiSigDeleGatorImpl:"0x11f555af5844d85bfcf5d61d2a22866527eb585a",HybridDeleGatorImpl:"0xd6edd1256deccb2b06bdecef92dc16bcf26e531b",AllowedCalldataEnforcer:"0x48db3835a873d64a4af2c09f014052407c003bd7",AllowedMethodsEnforcer:"0xfd731951bf1c52afccee3e6f14ab656475b76dd4",AllowedTargetsEnforcer:"0xbc8673c0afa52d86d991c06881e55b2966920564",BlockNumberEnforcer:"0xc15faffa0d879b9263c15a46ce31eacfa2e0e8ae",DeployedEnforcer:"0x5accb9559b56a6c1e3f90e342c85c42d93720d43",ERC20BalanceGteEnforcer:"0xb5d6b1ec6d868a3bae5b7f48178eaa2686a7a087",ERC20TransferAmountEnforcer:"0x92ac423b9c111962179a6242e1adb58d02c103be",IdEnforcer:"0x34152d9f3f8f74338d50703e780389e829b4abac",LimitedCallsEnforcer:"0x4b3adad4a328bee8ba17b86074d92fe7372180cd",NonceEnforcer:"0x2f32ff3fc3086d7f63f16fe8d0065390d460b40d",TimestampEnforcer:"0x78e05f779490c24bf3bfa135b4112e7003b321cd",ValueLteEnforcer:"0xfc20ede0a1132e839fbda9d7ed3904ff3c89540f"},o={mainnet:1,optimism:10,bsc:56,gnosis:100,polygon:137,base:8453,arbitrum:42161,linea:59144,berachain:80094,unichain:130,arbitrumNova:42170,bscTestnet:97,megaEthTestnet:6342,chiado:10200,lineaSepolia:59141,berachainBepolia:80069,baseSepolia:84532,arbitrumSepolia:421614,sepolia:11155111,optimismSepolia:11155420,unichainSepolia:1301,polygonAmoy:80002,monadTestnet:10143,lineaGoerli:59140},a={"1.0.0":{[o.optimism]:s,[o.polygon]:s,[o.base]:s,[o.arbitrum]:s,[o.linea]:s,[o.sepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"},[o.lineaSepolia]:{...s,HybridDeleGatorImpl:"0x5989F5D13DF8fc818EdA65e417AED90459fD67F7"}},"1.1.0":{[o.arbitrum]:i,[o.base]:i,[o.linea]:i,[o.optimism]:i,[o.polygon]:i,[o.sepolia]:i,[o.lineaSepolia]:i,[o.baseSepolia]:{...i,SimpleFactory:"0xE8eA1DE8D6AfE400B7C8C1A81B7C29B7876b4d02"}},"1.3.0":{[o.mainnet]:n,[o.polygon]:n,[o.bsc]:n,[o.optimism]:n,[o.arbitrum]:n,[o.linea]:n,[o.base]:n,[o.gnosis]:n,[o.berachain]:n,[o.unichain]:n,[o.arbitrumNova]:n,[o.sepolia]:n,[o.lineaSepolia]:n,[o.baseSepolia]:n,[o.megaEthTestnet]:n,[o.chiado]:n,[o.bscTestnet]:n,[o.optimismSepolia]:n,[o.arbitrumSepolia]:n,[o.berachainBepolia]:n,[o.unichainSepolia]:n,[o.polygonAmoy]:n,[o.monadTestnet]:n}};r.CHAIN_ID=o,r.DELEGATOR_CONTRACTS=a}}},{package:"@metamask/gator-permissions-controller>@metamask/delegation-deployments",file:"node_modules/@metamask/gator-permissions-controller/node_modules/@metamask/delegation-deployments/dist/index.js"}],[2095,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=["#01888C","#FC7500","#034F5D","#F73F01","#FC1960","#C7144C","#F3C100","#1598F2","#2465E1","#F19E02"]}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/colors.js"}],[2096,{"./colors":2095,"./paper":2102,color:2101,"mersenne-twister":4912},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=e("mersenne-twister"),s=e("./paper"),o=e("color"),a=e("./colors"),c="http://www.w3.org/2000/svg";function u(e,t,r,i,s){var o=t/2,a=document.createElementNS(c,"rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",t),a.setAttributeNS(null,"height",t);var u=n.random(),d=2*Math.PI*u,p=t/i*n.random()+r*t/i,h=Math.cos(d)*p,f=Math.sin(d)*p,m="translate("+h.toFixed(14)+" "+f.toFixed(14)+")"+" "+("rotate("+(360*u+180*n.random()).toFixed(1)+" "+o.toFixed(14)+" "+o.toFixed(14)+")");a.setAttributeNS(null,"transform",m);var y=l(e);a.setAttributeNS(null,"fill",y),s.appendChild(a)}function l(e){n.random();var t=Math.floor(e.length*n.random());return e.splice(t,1)[0]}t.exports=function(e,t){n=new i(t);var r=function(e,t){var r=30*t.random()-d/2;return e.map(function(e){var t=o(e);return t.rotate(r),t.hexString()})}(a.slice(),n),p=s(e,l(r)).container,h=document.createElementNS(c,"svg");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",e),h.setAttributeNS(null,"height",e),p.appendChild(h);for(var f=0;f<3;f++)u(r,e,f,3,h);return p};var d=30}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/index.js"}],[2097,{"color-name":2100},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("color-name"),i={};for(var s in n)n.hasOwnProperty(s)&&(i[n[s]]=s);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in o)if(o.hasOwnProperty(a)){if(!("channels"in o[a]))throw new Error("missing channels property: "+a);if(!("labels"in o[a]))throw new Error("missing channel labels property: "+a);if(o[a].labels.length!==o[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=o[a].channels,u=o[a].labels;delete o[a].channels,delete o[a].labels,Object.defineProperty(o[a],"channels",{value:c}),Object.defineProperty(o[a],"labels",{value:u})}function l(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}o.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(n,i,s),a=Math.max(n,i,s),c=a-o;return a===o?t=0:n===a?t=(i-s)/c:i===a?t=2+(s-n)/c:s===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(o+a)/2,[t,100*(a===o?0:r<=.5?c/(a+o):c/(2-a-o)),100*r]},o.rgb.hsv=function(e){var t,r,n,i,s,o=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(o,a,c),l=u-Math.min(o,a,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=s=0:(s=l/u,t=d(o),r=d(a),n=d(c),o===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*s,100*u]},o.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[o.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},o.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,s=Infinity;for(var o in n)if(n.hasOwnProperty(o)){var a=l(e,n[o]);a<s&&(s=a,r=o)}return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,r,n,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[s=255*c,s,s];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*s;return i},o.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=s<=1?s:2-s,[t,100*(0===n?2*i/(s+i):2*r/(n+r)),100*((n+r)/2)]},o.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}},o.hsv.hsl=function(e){var t,r,n,i=e[0],s=e[1]/100,o=e[2]/100,a=Math.max(o,.01);return n=(2-s)*o,r=s*a,[i,100*(r=(r/=(t=(2-s)*a)<=1?t:2-t)||0),100*(n/=2)]},o.hwb.rgb=function(e){var t,r,n,i,s,o,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),n=6*c-(t=Math.floor(6*c)),1&t&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:s=r,o=i,a=u;break;case 1:s=i,o=r,a=u;break;case 2:s=u,o=r,a=i;break;case 3:s=u,o=i,a=r;break;case 4:s=i,o=u,a=r;break;case 5:s=r,o=u,a=i}return[255*s,255*o,255*a]},o.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){var t,r,n,i=e[0]/100,s=e[1]/100,o=e[2]/100;return r=-.9689*i+1.8758*s+.0415*o,n=.0557*i+-.204*s+1.057*o,t=(t=3.2406*i+-1.5372*s+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var s=Math.pow(r,3),o=Math.pow(t,3),a=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},o.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},o.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.max(Math.max(r,n),i),o=Math.min(Math.min(r,n),i),a=s-o;return t=a<=0?0:s===r?(n-i)/a%6:s===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(i=(r-.5*n)/(1-n)),[e[0],100*n,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,s=[0,0,0],o=t%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:s[0]=1,s[1]=a,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=a;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=a,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return i=(1-r)*n,[255*(r*s[0]+i),255*(r*s[1]+i),255*(r*s[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/conversions.js"}],[2098,{"./conversions":2097,"./route":2099},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions"),i=e("./route"),s={};Object.keys(n).forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:n[e].channels}),Object.defineProperty(s[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach(function(r){var n=t[r];s[e][r]=function(e){var t=function(t){if(t===undefined||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),s[e][r].raw=function(e){var t=function(t){return t===undefined||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})}),t.exports=s}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/index.js"}],[2099,{"./conversions":2097},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./conversions");function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),s=Object.keys(n[i]),o=s.length,a=0;a<o;a++){var c=s[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}function s(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],o=t[e].parent;t[o].parent;)r.unshift(t[o].parent),i=s(n[t[o].parent][o],i),o=t[o].parent;return i.conversion=r,i}t.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),s=n.length,a=0;a<s;a++){var c=n[a];null!==t[c].parent&&(r[c]=o(c,t))}return r}}}},{package:"@metamask/jazzicon>color>color-convert",file:"node_modules/@metamask/jazzicon/node_modules/color-convert/route.js"}],[2100,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}}},{package:"@metamask/jazzicon>color>color-convert>color-name",file:"node_modules/@metamask/jazzicon/node_modules/color-name/index.js"}],[2101,{clone:4118,"color-convert":2098,"color-string":4149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("clone"),i=e("color-convert"),s=e("color-string"),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=s.getRgba(e))this.setValues("rgb",t);else if(t=s.getHsla(e))this.setValues("hsl",t);else{if(!(t=s.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if((t=e).r!==undefined||t.red!==undefined)this.setValues("rgb",t);else if(t.l!==undefined||t.lightness!==undefined)this.setValues("hsl",t);else if(t.v!==undefined||t.value!==undefined)this.setValues("hsv",t);else if(t.w!==undefined||t.whiteness!==undefined)this.setValues("hwb",t);else{if(t.c===undefined&&t.cyan===undefined)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var e=this.values.rgb,t=[],r=0;r<3;r++)t[r]=e[r]/255;return t.push(this.values.alpha),t},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(e){return e===undefined?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return s.hexString(this.values.rgb)},rgbString:function(){return s.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return s.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return s.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return s.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return s.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return s.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return s.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t=(t+e)%360)<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){var r=this,n=e,i=t===undefined?.5:t,s=2*i-1,o=r.alpha()-n.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,c=1-a;return this.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue()).alpha(r.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e=new o;return e.values=n(this.values),e}},o.prototype.getValues=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=this.values[e][r];return 1!==this.values.alpha&&(t.a=this.values.alpha),t},o.prototype.setValues=function(e,t){var r,n,s={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"===e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(t[e.charAt(0)]!==undefined){for(r=0;r<e.length;r++)this.values[e][r]=t[e.charAt(r)];a=t.a}else if(t[s[e][0]]!==undefined){var c=s[e];for(r=0;r<e.length;r++)this.values[e][r]=t[c[r]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,a===undefined?this.values.alpha:a)),"alpha"===e)return!1;for(r=0;r<e.length;r++)n=Math.max(0,Math.min(o[e][r],this.values[e][r])),this.values[e][r]=Math.round(n);for(var u in s)for(u!==e&&(this.values[u]=i[e][u](this.values[e])),r=0;r<u.length;r++)n=Math.max(0,Math.min(o[u][r],this.values[u][r])),this.values[u][r]=Math.round(n);return!0},o.prototype.setSpace=function(e,t){var r=t[0];return r===undefined?this.getValues(e):("number"==typeof r&&(r=Array.prototype.slice.call(t)),this.setValues(e,r),this)},o.prototype.setChannel=function(e,t,r){return r===undefined?this.values[e][t]:(r===this.values[e][t]||(this.values[e][t]=r,this.setValues(e,this.values[e])),this)},t.exports=o}}},{package:"@metamask/jazzicon>color",file:"node_modules/@metamask/jazzicon/node_modules/color/index.js"}],[2102,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=document.createElement("div");return r.style.borderRadius="50px",r.style.overflow="hidden",r.style.padding="0px",r.style.margin="0px",r.style.width=e+"px",r.style.height=e+"px",r.style.display="inline-block",r.style.background=t,{container:r}}}}},{package:"@metamask/jazzicon",file:"node_modules/@metamask/jazzicon/paper.js"}],[2103,{"./v2/utils.cjs":2118,"@metamask/rpc-errors":2600,"@metamask/safe-event-emitter":2602,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0;const b=e("@metamask/rpc-errors"),k=w(e("@metamask/safe-event-emitter")),v=e("@metamask/utils"),_=e("./v2/utils.cjs");class T extends k.default{constructor({notificationHandler:e}={}){super(),n.add(this),s.set(this,!1),o.set(this,void 0),a.set(this,void 0),y(this,o,[],"f"),y(this,a,e,"f")}destroy(){g(this,o,"f").forEach(e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}),y(this,o,[],"f"),y(this,s,!0,"f")}push(e){g(this,n,"m",c).call(this),g(this,o,"f").push(e)}handle(e,t){if(g(this,n,"m",c).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?g(this,n,"m",u).call(this,e,t):g(this,n,"m",u).call(this,e):t?g(this,n,"m",l).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return g(this,n,"m",c).call(this),async(e,t,r,n)=>{try{const[s,a,c]=await g(i,i,"m",p).call(i,e,t,g(this,o,"f"));return a?(await g(i,i,"m",f).call(i,c),n(s)):r(async e=>{try{await g(i,i,"m",f).call(i,c)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _promiseHandle(e){return new Promise((t,r)=>{g(this,n,"m",l).call(this,e,(e,n)=>{e&&n===undefined?r(e):t(n)}).catch(r)})}}r.JsonRpcEngine=T,i=T,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=function(){if(g(this,s,"f"))throw new Error("This engine is destroyed and can no longer be used.")},u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new b.JsonRpcError(b.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const r=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter(e=>e!==undefined);return t?t(null,r):r}catch(e){if(t)return t(e);throw e}},l=async function(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new b.JsonRpcError(b.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:null,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new b.JsonRpcError(b.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return g(this,a,"f")&&!(0,v.isJsonRpcRequest)(e)?t(null):t(r,{id:e.id??null,jsonrpc:"2.0",error:r})}if(g(this,a,"f")&&(0,v.isJsonRpcNotification)(e)&&!(0,v.isJsonRpcRequest)(e)){try{await g(this,a,"f").call(this,e)}catch(r){return t(r)}return t(null)}let r=null;const n={...e},s={id:n.id,jsonrpc:n.jsonrpc};try{await g(i,i,"m",d).call(i,n,s,g(this,o,"f"))}catch(e){r=e}return r&&(delete s.result,s.error??(s.error=(0,b.serializeError)(r))),t(r,s)},d=async function(e,t,r){const[n,s,o]=await g(i,i,"m",p).call(i,e,t,r);if(g(i,i,"m",m).call(i,e,t,s),await g(i,i,"m",f).call(i,o),n)throw n},p=async function(e,t,r){const n=[];let s=null,o=!1;for(const a of r)if([s,o]=await g(i,i,"m",h).call(i,e,t,a,n),o)break;return[s,o,n.reverse()]},h=async function(e,t,r,n){return new Promise(i=>{const s=e=>{const r=e??t.error;r&&(t.error=(0,b.serializeError)(r)),i([r,!0])},o=r=>{t.error?s(t.error):(r&&("function"!=typeof r&&s(new b.JsonRpcError(b.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${(0,_.stringify)(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,o,s)}catch(e){s(e)}})},f=async function(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})},m=function(e,t,r){if(!(0,v.hasProperty)(t,"result")&&!(0,v.hasProperty)(t,"error"))throw new b.JsonRpcError(b.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${(0,_.stringify)(e)}`,{request:e});if(!r)throw new b.JsonRpcError(b.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${(0,_.stringify)(e)}`,{request:e})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.cjs"}],[2104,{"./mergeMiddleware.cjs":2110,"./v2/compatibility-utils.cjs":2115,"@metamask/rpc-errors":2600,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asV2Middleware=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("./mergeMiddleware.cjs"),o=e("./v2/compatibility-utils.cjs");r.asV2Middleware=function(e,...t){const r="function"==typeof e?(0,s.mergeMiddleware)([e,...t]):e.asMiddleware();return async({request:e,context:t,next:s})=>{const a=(0,o.deepClone)(e);(0,o.propagateToRequest)(a,t);const c=await new Promise(e=>{const t={jsonrpc:"2.0",id:a.id},i=r=>{r!==undefined&&(t.error=(0,n.serializeError)(r)),e(t)};r(a,t,e=>e(i),i)});if((0,o.propagateToContext)(a,t),(0,i.hasProperty)(c,"error")&&c.error)throw(0,o.deserializeError)(c.error);return(0,i.hasProperty)(c,"result")?c.result:s((0,o.fromLegacyRequest)(a))}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/asV2Middleware.cjs"}],[2105,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let s;const o=new Promise(e=>{s=e});let a=null,c=!1;const u=async()=>(c=!0,n(e=>{a=e,s()}),o);try{await e(t,r,u),c?(await o,a(null)):i(null)}catch(e){a?a(e):i(e)}}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.cjs"}],[2106,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const s=e[t.method];return s===undefined?n():"function"==typeof s?s(t,r,n,i):(r.result=s,i())}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.cjs"}],[2107,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;const n=4294967295;let i=Math.floor(Math.random()*n);r.getUniqueId=function(){return i=(i+1)%n,i}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/getUniqueId.cjs"}],[2108,{"./getUniqueId.cjs":2107},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;const n=e("./getUniqueId.cjs");r.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const s=e.id,o=(0,n.getUniqueId)();e.id=o,t.id=o,r(r=>{e.id=s,t.id=s,r()})}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.cjs"}],[2109,{"./JsonRpcEngine.cjs":2103,"./asV2Middleware.cjs":2104,"./createAsyncMiddleware.cjs":2105,"./createScaffoldMiddleware.cjs":2106,"./getUniqueId.cjs":2107,"./idRemapMiddleware.cjs":2108,"./mergeMiddleware.cjs":2110},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=r.JsonRpcEngine=r.createIdRemapMiddleware=r.getUniqueId=r.createScaffoldMiddleware=r.createAsyncMiddleware=r.asV2Middleware=void 0;var n=e("./asV2Middleware.cjs");Object.defineProperty(r,"asV2Middleware",{enumerable:!0,get:function(){return n.asV2Middleware}});var i=e("./createAsyncMiddleware.cjs");Object.defineProperty(r,"createAsyncMiddleware",{enumerable:!0,get:function(){return i.createAsyncMiddleware}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return o.getUniqueId}});var a=e("./idRemapMiddleware.cjs");Object.defineProperty(r,"createIdRemapMiddleware",{enumerable:!0,get:function(){return a.createIdRemapMiddleware}});var c=e("./JsonRpcEngine.cjs");Object.defineProperty(r,"JsonRpcEngine",{enumerable:!0,get:function(){return c.JsonRpcEngine}});var u=e("./mergeMiddleware.cjs");Object.defineProperty(r,"mergeMiddleware",{enumerable:!0,get:function(){return u.mergeMiddleware}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/index.cjs"}],[2110,{"./JsonRpcEngine.cjs":2103},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;const n=e("./JsonRpcEngine.cjs");r.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.cjs"}],[2111,{"./MiddlewareContext.cjs":2113,"./utils.cjs":2118,"@metamask/utils":3116,"deep-freeze-strict":4236},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineV2=void 0;const m=e("@metamask/utils"),y=f(e("deep-freeze-strict")),g=e("./MiddlewareContext.cjs"),w=e("./utils.cjs");Symbol("Invalid engine");class b{constructor({middleware:e}){n.add(this),i.set(this,void 0),s.set(this,!1),p(this,i,[...e],"f")}static create({middleware:e}){if(0===e.length)throw new w.JsonRpcEngineError("Middleware array cannot be empty");return new b({middleware:e})}async handle(e,{context:t}={}){const r=(0,w.isRequest)(e),{result:i}=await h(this,n,"m",o).call(this,e,t);if(r&&i===undefined)throw new w.JsonRpcEngineError(`Nothing ended request: ${(0,w.stringify)(e)}`);return i}asMiddleware(){return h(this,n,"m",d).call(this),async({request:e,context:t,next:r})=>{const{result:i,request:s}=await h(this,n,"m",o).call(this,e,t);return i===undefined?await r(s):i}}async destroy(){if(h(this,s,"f"))return;p(this,s,!0,"f");const e=Promise.all(h(this,i,"f").map(async e=>"destroy"in e&&"function"==typeof e.destroy?e.destroy():undefined));p(this,i,[],"f"),await e}}r.JsonRpcEngineV2=b,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=async function(e,t=new g.MiddlewareContext){h(this,n,"m",d).call(this),(0,y.default)(e);const r={request:e,result:undefined},i=h(this,n,"m",c).call(this),s=i.next().value,o=g.MiddlewareContext.isInstance(t)?t:new g.MiddlewareContext(t),l=h(this,n,"m",a).call(this,i,r,o),p=await s({request:e,context:o,next:l()});return h(this,n,"m",u).call(this,p,r),r},a=function(e,t,r){const i=()=>{let s=!1;return async(o=t.request)=>{if(s)throw new w.JsonRpcEngineError(`Middleware attempted to call next() multiple times for request: ${(0,w.stringify)(o)}`);s=!0,o!==t.request&&(h(this,n,"m",l).call(this,t.request,o),t.request=(0,y.default)(o));const{value:a,done:c}=e.next();if(c)return undefined;const d=await a({request:o,context:r,next:i()});return h(this,n,"m",u).call(this,d,t),t.result}};return i},c=function(){return h(this,i,"f")[Symbol.iterator]()},u=function(e,t){if((0,w.isNotification)(t.request)&&e!==undefined)throw new w.JsonRpcEngineError(`Result returned for notification: ${(0,w.stringify)(t.request)}`);e!==undefined&&e!==t.result&&("object"==typeof e&&null!==e&&(0,y.default)(e),t.result=e)},l=function(e,t){if(t.jsonrpc!==e.jsonrpc)throw new w.JsonRpcEngineError(`Middleware attempted to modify readonly property "jsonrpc" for request: ${(0,w.stringify)(e)}`);if((0,m.hasProperty)(t,"id")!==(0,m.hasProperty)(e,"id")||t.id!==e.id)throw new w.JsonRpcEngineError(`Middleware attempted to modify readonly property "id" for request: ${(0,w.stringify)(e)}`)},d=function(){if(h(this,s,"f"))throw new w.JsonRpcEngineError("Engine is destroyed")}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcEngineV2.cjs"}],[2112,{"../getUniqueId.cjs":2107,"./JsonRpcEngineV2.cjs":2111,"@metamask/rpc-errors":2600,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcServer=void 0;const u=e("@metamask/rpc-errors"),l=e("@metamask/utils"),d=e("./JsonRpcEngineV2.cjs"),p=e("../getUniqueId.cjs"),h="2.0";class f{constructor(e){i.set(this,void 0),s.set(this,void 0),a(this,s,e.onError,"f"),(0,l.hasProperty)(e,"engine")?a(this,i,e.engine,"f"):a(this,i,d.JsonRpcEngineV2.create({middleware:e.middleware}),"f")}async handle(e,t){const[r,a]=function(e){if((0,l.isObject)(e)&&(0,l.hasProperty)(e,"id"))return[e.id,!0];return[undefined,!1]}(e);try{const s=c(n,n,"m",o).call(n,e,a),u=await c(this,i,"f").handle(s,t);if(u!==undefined)return{jsonrpc:h,id:r,result:u}}catch(e){if(c(this,s,"f")?.call(this,e),a)return{jsonrpc:h,id:r,error:(0,u.serializeError)(e,{shouldIncludeStack:!1,shouldPreserveMessage:!0})}}return undefined}}r.JsonRpcServer=f,n=f,i=new WeakMap,s=new WeakMap,o=function(e,t){if(!function(e){return(0,l.isObject)(e)&&(0,l.hasProperty)(e,"method")&&"string"==typeof e.method&&function(e){if((0,l.hasProperty)(e,"params"))return Array.isArray(e.params)||(0,l.isObject)(e.params);return!0}(e)}(e))throw u.rpcErrors.invalidRequest({data:{request:e}});const r={jsonrpc:h,method:e.method};return(0,l.hasProperty)(e,"params")&&(r.params=e.params),t&&(r.id=(0,p.getUniqueId)()),r}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/JsonRpcServer.cjs"}],[2113,{"./utils.cjs":2118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.MiddlewareContext=void 0;const i=e("./utils.cjs"),s=Symbol.for("json-rpc-engine#MiddlewareContext");class o extends Map{static isInstance(e){return(0,i.isInstance)(e,s)}constructor(e){var t,r;super(e&&(r=e,Symbol.iterator in r)?e:(t=e??{},Reflect.ownKeys(t).map(e=>[e,t[e]]))),this[n]=!0,Object.freeze(this)}get(e){return super.get(e)}assertGet(e){if(!super.has(e))throw new Error(`Context key "${String(e)}" not found`);return super.get(e)}set(e,t){if(super.has(e))throw new Error(`MiddlewareContext key "${String(e)}" already exists`);return super.set(e,t),this}}r.MiddlewareContext=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/MiddlewareContext.cjs"}],[2114,{"../index.cjs":2109,"./JsonRpcEngineV2.cjs":2111,"./compatibility-utils.cjs":2115},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asLegacyMiddleware=void 0;const n=e("./compatibility-utils.cjs"),i=e("./JsonRpcEngineV2.cjs"),s=e("../index.cjs");r.asLegacyMiddleware=function(e,...t){const r="function"==typeof e?i.JsonRpcEngineV2.create({middleware:[e,...t]}).asMiddleware():e.asMiddleware();return(0,s.createAsyncMiddleware)(async(e,t,i)=>{const s=(0,n.fromLegacyRequest)(e),o=(0,n.makeContext)(e);let a;const c=await r({request:s,context:o,next:e=>(a=e,Promise.resolve(undefined))});return a!==undefined&&a!==s&&Object.assign(e,(0,n.deepClone)(a)),(0,n.propagateToRequest)(e,o),c!==undefined?(t.result=(0,n.deepClone)(c),undefined):i()})}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/asLegacyMiddleware.cjs"}],[2115,{"./MiddlewareContext.cjs":2113,"./utils.cjs":2118,"@metamask/rpc-errors":2600,"@metamask/utils":3116,klona:4690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeError=r.propagateToRequest=r.propagateToContext=r.makeContext=r.fromLegacyRequest=r.requestProps=r.deepClone=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils"),s=e("klona"),o=e("./MiddlewareContext.cjs"),a=e("./utils.cjs");function c(e,t){Object.keys(e).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)&&!t.has(e)).forEach(r=>{t.set(r,e[r])})}r.deepClone=e=>(0,s.klona)(e),r.requestProps=["jsonrpc","method","params","id"],r.fromLegacyRequest=function(e){const t={jsonrpc:"2.0",method:e.method};return t.id=e.id,(0,i.hasProperty)(e,"params")&&e.params!==undefined&&(t.params=(0,r.deepClone)(e.params)),t},r.makeContext=function(e){const t=new o.MiddlewareContext;return c(e,t),t},r.propagateToContext=c,r.propagateToRequest=function(e,t){Array.from(t.keys()).filter(e=>"string"==typeof e&&!r.requestProps.includes(e)).forEach(r=>{e[r]=t.get(r)})},r.deserializeError=function(e){if("function"==typeof Error.isError&&Error.isError(e))return e;if(e instanceof Error)return e;if("string"==typeof e)return new Error(e);if(!(0,i.isObject)(e))return new Error(`Unknown error: ${(0,a.stringify)(e)}`);const t="number"==typeof e.code&&Number.isInteger(e.code)?e.code:undefined;let r="Unknown error";"string"==typeof e.message?r=e.message:"number"==typeof t&&(r=(0,n.getMessageFromCode)(t,r));const{stack:s,cause:o,data:c}=e,u=t===undefined?new Error(r,{cause:o}):new n.JsonRpcError(t,r,function(e,t){return(0,i.isObject)(e)?{...e,cause:t}:(0,i.isValidJson)(e)?e:{cause:t}}(c,o));return"string"==typeof s&&(u.stack=s),u}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/compatibility-utils.cjs"}],[2116,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return({request:t,context:r,next:n})=>{const i=e[t.method];return i===undefined?n():"function"==typeof i?i({request:t,context:r,next:n}):i}}}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/createScaffoldMiddleware.cjs"}],[2117,{"../getUniqueId.cjs":2107,"./JsonRpcEngineV2.cjs":2111,"./JsonRpcServer.cjs":2112,"./MiddlewareContext.cjs":2113,"./asLegacyMiddleware.cjs":2114,"./createScaffoldMiddleware.cjs":2116,"./utils.cjs":2118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isRequest=r.isNotification=r.MiddlewareContext=r.JsonRpcServer=r.JsonRpcEngineV2=r.createScaffoldMiddleware=r.getUniqueId=r.asLegacyMiddleware=void 0;var n=e("./asLegacyMiddleware.cjs");Object.defineProperty(r,"asLegacyMiddleware",{enumerable:!0,get:function(){return n.asLegacyMiddleware}});var i=e("../getUniqueId.cjs");Object.defineProperty(r,"getUniqueId",{enumerable:!0,get:function(){return i.getUniqueId}});var s=e("./createScaffoldMiddleware.cjs");Object.defineProperty(r,"createScaffoldMiddleware",{enumerable:!0,get:function(){return s.createScaffoldMiddleware}});var o=e("./JsonRpcEngineV2.cjs");Object.defineProperty(r,"JsonRpcEngineV2",{enumerable:!0,get:function(){return o.JsonRpcEngineV2}});var a=e("./JsonRpcServer.cjs");Object.defineProperty(r,"JsonRpcServer",{enumerable:!0,get:function(){return a.JsonRpcServer}});var c=e("./MiddlewareContext.cjs");Object.defineProperty(r,"MiddlewareContext",{enumerable:!0,get:function(){return c.MiddlewareContext}});var u=e("./utils.cjs");Object.defineProperty(r,"isNotification",{enumerable:!0,get:function(){return u.isNotification}}),Object.defineProperty(r,"isRequest",{enumerable:!0,get:function(){return u.isRequest}}),Object.defineProperty(r,"JsonRpcEngineError",{enumerable:!0,get:function(){return u.JsonRpcEngineError}})}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/index.cjs"}],[2118,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngineError=r.isInstance=r.stringify=r.isNotification=r.isRequest=void 0;const i=e("@metamask/utils");r.isRequest=e=>(0,i.hasProperty)(e,"id");r.isNotification=e=>!(0,r.isRequest)(e),r.stringify=function(e){return JSON.stringify(e,null,2)};r.isInstance=(e,t)=>(0,i.isObject)(e)&&t in e&&!0===e[t];const s=Symbol.for("json-rpc-engine#JsonRpcEngineError");class o extends Error{constructor(e){super(e),this[n]=!0,this.name="JsonRpcEngineError"}static isInstance(e){return(0,r.isInstance)(e,s)}}r.JsonRpcEngineError=o,n=s}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/dist/v2/utils.cjs"}],[2119,{"./dist/v2/index.cjs":2117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./dist/v2/index.cjs")}}},{package:"@metamask/json-rpc-engine",file:"node_modules/@metamask/json-rpc-engine/v2.js"}],[2120,{"readable-stream":2137},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("readable-stream");r.default=function(e){if(!e?.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:()=>undefined,write:function(e,n,i){t.handle(e,(e,t)=>{r.push(t)}),i()}});return t.on&&t.on("notification",e=>{r.push(e)}),r}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createEngineStream.cjs"}],[2121,{"@metamask/safe-event-emitter":2602,"@metamask/utils":3116,"readable-stream":2137},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("@metamask/safe-event-emitter")),s=e("@metamask/utils"),o=e("readable-stream");r.default=function(e={}){const t={},r=new o.Duplex({objectMode:!0,read:()=>undefined,write:function(r,i,o){let c=null;try{!(0,s.hasProperty)(r,"id")?function(r){e?.retryOnMessage&&r.method===e.retryOnMessage&&Object.values(t).forEach(({req:e,retryCount:r=0})=>{if(!e.id)return;if(r>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const n=t[e.id];n&&(n.retryCount=r+1),a(e)});n.emit("notification",r)}(r):function(e){const{id:r}=e;if(null===r)return;const n=t[r];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${r}"`);delete t[r],Object.assign(n.res,e),setTimeout(n.end)}(r)}catch(e){c=e}o(c)}}),n=new i.default;return{events:n,middleware:(e,r,n,i)=>{t[e.id]={req:e,res:r,next:n,end:i},a(e)},stream:r};function a(e){r.push(e)}}}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/createStreamMiddleware.cjs"}],[2122,{"./createEngineStream.cjs":2120,"./createStreamMiddleware.cjs":2121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createStreamMiddleware=r.createEngineStream=void 0;const i=n(e("./createEngineStream.cjs"));r.createEngineStream=i.default;const s=n(e("./createStreamMiddleware.cjs"));r.createStreamMiddleware=s.default}}},{package:"@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/dist/index.cjs"}],[2123,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/errors-browser.js"}],[2124,{"./_stream_readable":2126,"./_stream_writable":2128,_process:5089,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(u,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[2125,{"./_stream_transform":2127,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2126,{"../errors":2123,"./_stream_duplex":2124,"./internal/streams/async_iterator":2129,"./internal/streams/buffer_list":2130,"./internal/streams/destroy":2131,"./internal/streams/from":2133,"./internal/streams/state":2135,"./internal/streams/stream":2136,_process:5089,buffer:4084,events:4384,inherits:4617,"string_decoder/":5665,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=E,E.ReadableState=T;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,p,h=e("./internal/streams/buffer_list"),f=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,g=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var v=f.errorOrDestroy,_=["error","close","destroy","pause","resume"];function T(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof n;this._readableState=new T(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function j(e,t,r,n,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,u);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),s)v(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?v(e,new k):S(e,u,t,!0);else if(u.ended)v(e,new w);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?S(e,u,t,!1):x(e,u)):S(e,u,t,!1)}else n||(u.reading=!1,x(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),x(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),j(this,e,t,!1,r)},E.prototype.unshift=function(e){return j(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(I,e))}function I(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function x(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){c("readable nexttick read 0"),e.read(0)}function B(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function K(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):C(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?K(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){v(this,new b("_read()"))},E.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:y;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",p),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var d=!1;function p(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==L(s.pipes,e))&&!d&&(c("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function h(t){c("onerror",t),y(),e.removeListener("error",h),0===i(e,"error")&&v(e,t)}function f(){e.removeListener("finish",m),y()}function m(){c("onfinish"),e.removeListener("close",f),y()}function y(){c("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",m),e.emit("pipe",n),s.flowing||(c("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=L(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?C(this):i.reading||r.nextTick(O,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(R,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(R,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=K,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return p===undefined&&(p=e("./internal/streams/from")),p(E,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2127,{"../errors":2123,"./_stream_duplex":2124,inherits:4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(t,r){p(e,t,r)})}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[2128,{"../errors":2123,"./_stream_duplex":2124,"./internal/streams/destroy":2131,"./internal/streams/state":2135,"./internal/streams/stream":2136,_process:5089,buffer:4084,inherits:4617,"util-deprecate":5730},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=T;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,h=p.ERR_INVALID_ARG_TYPE,f=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,g=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,v=l.errorOrDestroy;function _(){}function T(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(I,e,t),e._writableState.errorEmitted=!0,v(e,i)):(s(i),e._writableState.errorEmitted=!0,v(e,i),I(e,t))}(e,n,i,t,s);else{var o=P(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),i?r.nextTick(S,e,n,o,s):S(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(E,this))return new E(t);this._writableState=new T(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function j(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),I(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,j(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(j(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function I(e,t){var n=P(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,o),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===E&&(e&&e._writableState instanceof T)}})):u=function(e){return e instanceof this},E.prototype.pipe=function(){v(this,new y)},E.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,u=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=_),s.ending?function(e,t){var n=new b;v(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var s;return null===n?s=new w:"string"==typeof n||t.objectMode||(s=new h("chunk",["string","Buffer"],n)),!s||(v(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else j(e,t,!1,c,n,i,s);return u}(this,s,u,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new f("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[2129,{"./end-of-stream":2132,_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t=e[o];if(null!==t){var r=e[p].read();null!==r&&(e[l]=null,e[o]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(f,e)}var y=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(undefined,!0));if(this[p].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[c]?n(e[c]):t(h(undefined,!0))})});var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[u]?r(h(undefined,!0)):t[d](r,n)},n)}}(i,this));else{var s=this[p].read();if(null!==s)return Promise.resolve(h(s,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){e?r(e):t(h(undefined,!0))})})}),n),y);t.exports=function(e){var t,r=Object.create(g,(i(t={},p,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[p].read();n?(r[l]=null,r[o]=null,r[a]=null,e(h(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[l]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(h(undefined,!0))),r[u]=!0}),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2130,{buffer:4084,util:4036},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=e("buffer").Buffer,u=e("util").inspect,l=u&&u.custom||"inspect";function d(e,t,r){c.prototype.copy.call(e,t,r)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,n=0;r;)d(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2131,{_process:5089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2132,{"../../../errors":2123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){o=!1,d=!0,a||s.call(t)},h=function(e){s.call(t,e)},f=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",p),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",p),t.removeListener("error",h),t.removeListener("close",f)}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[2133,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2134,{"../../../errors":2123,"./end-of-stream":2132},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var l,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new s("streams");var p=r.map(function(t,i){var s=i<r.length-1;return function(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,function(e){l||(l=e),e&&p.forEach(c),s||(p.forEach(c),d(l))})});return r.reduce(u)}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[2135,{"../../../errors":2123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[2136,{events:4384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2137,{"./lib/_stream_duplex.js":2124,"./lib/_stream_passthrough.js":2125,"./lib/_stream_readable.js":2126,"./lib/_stream_transform.js":2127,"./lib/_stream_writable.js":2128,"./lib/internal/streams/end-of-stream.js":2132,"./lib/internal/streams/pipeline.js":2134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/json-rpc-middleware-stream>readable-stream",file:"node_modules/@metamask/json-rpc-middleware-stream/node_modules/readable-stream/readable-browser.js"}],[2138,{"./BIP44Node.cjs":2139,"./SLIP10Node.cjs":2140,"./constants.cjs":2141,"./utils.cjs":2158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP44CoinTypeNode=r.BIP_44_COIN_TYPE_DEPTH=void 0;const o=e("./BIP44Node.cjs"),a=e("./constants.cjs"),c=e("./SLIP10Node.cjs"),u=e("./utils.cjs");r.BIP_44_COIN_TYPE_DEPTH=2;class l{static async fromJSON(e,t,r){p(t),d(e.depth);const n=await o.BIP44Node.fromExtendedKey({depth:e.depth,index:e.index,network:e.network,parentFingerprint:e.parentFingerprint,chainCode:(0,u.hexStringToBytes)(e.chainCode),privateKey:(0,u.nullableHexStringToBytes)(e.privateKey),publicKey:(0,u.hexStringToBytes)(e.publicKey)},r);return new l(n,t)}static async fromDerivationPath(e,t,r){d(e.length-1);const n=await o.BIP44Node.fromDerivationPath({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new l(n,i)}static async fromSeed({derivationPath:e,network:t},r){d(e.length-1);const n=await o.BIP44Node.fromSeed({derivationPath:e,network:t},r),i=(0,u.getBIP44CoinType)(e);return new l(n,i)}static async fromNode(e,t){if(!(e instanceof o.BIP44Node))throw new Error("Invalid node: Expected an instance of BIP44Node.");return p(t),d(e.depth),Promise.resolve(new l(e,t))}constructor(e,t){n.set(this,void 0),i(this,n,e,"f"),this.coin_type=t,this.path=(0,u.getBIP44CoinTypePathString)(t),Object.freeze(this)}get depth(){return s(this,n,"f").depth}get privateKeyBytes(){return s(this,n,"f").privateKeyBytes}get publicKeyBytes(){return s(this,n,"f").publicKeyBytes}get chainCodeBytes(){return s(this,n,"f").chainCodeBytes}get privateKey(){return s(this,n,"f").privateKey}get publicKey(){return s(this,n,"f").publicKey}get compressedPublicKey(){return s(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return s(this,n,"f").compressedPublicKeyBytes}get chainCode(){return s(this,n,"f").chainCode}get address(){return s(this,n,"f").address}get masterFingerprint(){return s(this,n,"f").masterFingerprint}get parentFingerprint(){return s(this,n,"f").parentFingerprint}get fingerprint(){return s(this,n,"f").fingerprint}get index(){return s(this,n,"f").index}get network(){return s(this,n,"f").network}get curve(){return s(this,n,"f").curve}get extendedKey(){return s(this,n,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:r}){return await s(this,n,"f").derive((0,u.getBIP44CoinTypeToAddressPathTuple)({account:e,change:t,address_index:r}))}toJSON(){return{...s(this,n,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function d(e){if(e!==r.BIP_44_COIN_TYPE_DEPTH)throw new Error(`Invalid depth: Coin type nodes must be of depth ${r.BIP_44_COIN_TYPE_DEPTH}. Received: "${e}"`)}function p(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function h(e,t){if(e instanceof l)return d(e.depth),e;if("string"==typeof e){const r=await o.BIP44Node.fromExtendedKey(e,t),n=await l.fromNode(r,r.index-a.BIP_32_HARDENED_OFFSET);return d(n.depth),n}return l.fromJSON(e,e.coin_type,t)}r.BIP44CoinTypeNode=l,n=new WeakMap,r.deriveBIP44AddressKey=async function(e,{account:t=0,change:r=0,address_index:n},i){const s=(0,u.getBIP44CoinTypeToAddressPathTuple)({account:t,change:r,address_index:n}),a=await h(e,i),l=await(0,c.deriveChildNode)({path:s,node:a},i);return new o.BIP44Node(l)},r.getBIP44AddressKeyDeriver=async function(e,t,r){const{account:n=0,change:i=0}=t??{},s=await h(e,r),a=(0,u.getHardenedBIP32NodeToken)(n),l=(0,u.getBIP32NodeToken)(i),d=async(e,t=!1)=>{const n=await(0,c.deriveChildNode)({path:[a,l,t?(0,u.getHardenedBIP32NodeToken)(e):(0,u.getUnhardenedBIP32NodeToken)(e)],node:s},r);return new o.BIP44Node(n)};return d.coin_type=s.coin_type,d.path=(0,u.getBIP44ChangePathString)(s.path,{account:n,change:i}),Object.freeze(d),d}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44CoinTypeNode.cjs"}],[2139,{"./SLIP10Node.cjs":2140,"./constants.cjs":2141,"./extended-keys.cjs":2155,"./utils.cjs":2158,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.validateBIP44Depth=r.BIP44Node=void 0;const o=e("@metamask/utils"),a=e("./constants.cjs"),c=e("./extended-keys.cjs"),u=e("./SLIP10Node.cjs"),l=e("./utils.cjs");class d{static async fromJSON(e,t){return d.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,c.decodeExtendedKey)(e),{type:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:u}=r;if("private"===n){const{privateKey:e}=r;return d.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,privateKey:e,chainCode:i},t)}const{publicKey:l}=r;return d.fromExtendedKey({depth:s,parentFingerprint:o,index:a,network:u,publicKey:l,chainCode:i},t)}const{privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:l}=e;p(s);const h=await u.SLIP10Node.fromExtendedKey({privateKey:r,publicKey:n,chainCode:i,depth:s,parentFingerprint:o,index:a,network:l,curve:"secp256k1"},t);return new d(h)}static async fromDerivationPath({derivationPath:e,network:t},r){p(e.length-1),h(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromDerivationPath({derivationPath:e,network:t,curve:"secp256k1"},r);return new d(n)}static async fromSeed({derivationPath:e,network:t},r){p(e.length-1),h(e,a.MIN_BIP_44_DEPTH);const n=await u.SLIP10Node.fromSeed({derivationPath:e,network:t,curve:"secp256k1"},r);return new d(n)}get depth(){return i(this,n,"f").depth}get privateKeyBytes(){return i(this,n,"f").privateKeyBytes}get publicKeyBytes(){return i(this,n,"f").publicKeyBytes}get chainCodeBytes(){return i(this,n,"f").chainCodeBytes}get privateKey(){return i(this,n,"f").privateKey}get publicKey(){return i(this,n,"f").publicKey}get compressedPublicKey(){return i(this,n,"f").compressedPublicKey}get compressedPublicKeyBytes(){return i(this,n,"f").compressedPublicKeyBytes}get chainCode(){return i(this,n,"f").chainCode}get address(){return i(this,n,"f").address}get masterFingerprint(){return i(this,n,"f").masterFingerprint}get parentFingerprint(){return i(this,n,"f").parentFingerprint}get fingerprint(){return i(this,n,"f").fingerprint}get index(){return i(this,n,"f").index}get network(){return i(this,n,"f").network}get extendedKey(){return i(this,n,"f").extendedKey}get curve(){return i(this,n,"f").curve}constructor(e){n.set(this,void 0),s(this,n,e,"f"),Object.freeze(this)}neuter(){const e=i(this,n,"f").neuter();return new d(e)}async derive(e){if(this.depth===a.MAX_BIP_44_DEPTH)throw new Error("Illegal operation: This HD tree node is already a leaf node.");p(this.depth+e.length),h(e,this.depth+1);const t=await i(this,n,"f").derive(e);return new d(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function p(e){if((0,u.validateBIP32Depth)(e),e<a.MIN_BIP_44_DEPTH||e>a.MAX_BIP_44_DEPTH)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function h(e,t){e.forEach((e,r)=>{const n=t+r;if(n!==a.MIN_BIP_44_DEPTH)switch((0,o.assert)("string"==typeof e),n){case 1:if(e!==a.BIP44PurposeNodeToken)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${a.BIP44PurposeNodeToken}".`);break;case 2:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!a.BIP_32_PATH_REGEX.test(e)||!(0,l.isHardened)(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case a.MAX_BIP_44_DEPTH:if(!a.BIP_32_PATH_REGEX.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||a.BIP_39_PATH_REGEX.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')})}r.BIP44Node=d,n=new WeakMap,r.validateBIP44Depth=p}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/BIP44Node.cjs"}],[2140,{"./constants.cjs":2141,"./curves/index.cjs":2146,"./derivation.cjs":2148,"./derivers/bip32.cjs":2149,"./derivers/bip39.cjs":2150,"./extended-keys.cjs":2155,"./guard.cjs":2156,"./utils.cjs":2158,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildNode=r.validateRootIndex=r.validateMasterParentFingerprint=r.validateParentFingerprint=r.validateBIP32Depth=r.SLIP10Node=void 0;const u=e("@metamask/utils"),l=e("./constants.cjs"),d=e("./curves/index.cjs"),p=e("./derivation.cjs"),h=e("./derivers/bip32.cjs"),f=e("./derivers/bip39.cjs"),m=e("./extended-keys.cjs"),y=e("./guard.cjs"),g=e("./utils.cjs");class w{static async fromJSON(e,t){return n.fromExtendedKey(e,t)}static async fromExtendedKey(e,t){if("string"==typeof e){const r=(0,m.decodeExtendedKey)(e),{chainCode:i,depth:s,parentFingerprint:o,index:a}=r;if("private"===r.type){const{privateKey:e}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,privateKey:e,chainCode:i,curve:"secp256k1"},t)}const{publicKey:c}=r;return n.fromExtendedKey({depth:s,parentFingerprint:o,index:a,publicKey:c,chainCode:i,curve:"secp256k1"},t)}const{depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:p,privateKey:h,publicKey:f,chainCode:w,curve:T,guard:E}=e,j=(0,g.getBytes)(w,l.BYTES_KEY_LENGTH);(0,g.validateCurve)(T),b(r),(0,g.validateBIP32Index)(c),_(c,r),(0,g.validateNetwork)(p),k(o,r),v(s,o,r);const S=(0,d.getCurveByName)(T);if(h){const e=(0,g.getBytesUnsafe)(h,S.privateKeyLength);(0,u.assert)(S.isValidPrivateKey(e),`Invalid private key: Value is not a valid ${T} private key.`);const l=E===y.PUBLIC_KEY_GUARD&&f?(0,g.getBytes)(f,S.publicKeyLength):undefined;return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:p,chainCode:j,privateKey:e,publicKey:l,curve:T},t,a(this,n,"f",i))}if(f){const e=(0,g.getBytes)(f,S.publicKeyLength);return new n({depth:r,masterFingerprint:s,parentFingerprint:o,index:c,network:p,chainCode:j,publicKey:e,curve:T},t,a(this,n,"f",i))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,network:t,curve:r},n){if((0,g.validateCurve)(r),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");const i=await(0,f.getDerivationPathWithSeed)({path:e,curve:r},n);return await(0,p.deriveKeyFromPath)({path:i,depth:e.length-1,network:t,curve:r},n)}static async fromSeed({derivationPath:e,network:t,curve:r},n){if((0,g.validateCurve)(r),"ed25519Bip32"===r)throw new Error('Invalid curve: The curve "ed25519Bip32" is not supported by the `fromSeed` function.');if(!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await(0,p.deriveKeyFromPath)({path:e,depth:e.length-1,network:t,curve:r},n)}constructor({depth:e,masterFingerprint:t,parentFingerprint:r,index:l,network:d="mainnet",chainCode:p,privateKey:h,publicKey:f,curve:m},y={},g){s.set(this,void 0),o.set(this,void 0),(0,u.assert)(g===a(n,n,"f",i),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, `SLIP10Node.fromDerivationPath`, or `SLIP10Node.fromSeed`."),(0,u.assert)(h!==undefined||f!==undefined,"SLIP10Node requires either a private key or a public key to be set."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=r,this.index=l,this.network=d,this.chainCodeBytes=p,this.privateKeyBytes=h,this.curve=m,c(this,s,f,"f"),c(this,o,y,"f"),Object.freeze(this)}get chainCode(){return(0,u.bytesToHex)(this.chainCodeBytes)}get privateKey(){return this.privateKeyBytes?(0,u.bytesToHex)(this.privateKeyBytes):undefined}get publicKey(){return(0,u.bytesToHex)(this.publicKeyBytes)}get publicKeyBytes(){return a(this,s,"f")!==undefined||((0,u.assert)(this.privateKeyBytes,"Either a private key or public key is required."),c(this,s,(0,d.getCurveByName)(this.curve).getPublicKey(this.privateKeyBytes),"f")),a(this,s,"f")}get compressedPublicKeyBytes(){return(0,d.getCurveByName)(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return(0,u.bytesToHex)(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return(0,u.bytesToHex)((0,h.publicKeyToEthAddress)(this.publicKeyBytes))}get fingerprint(){return(0,g.getFingerprint)(this.compressedPublicKeyBytes,(0,d.getCurveByName)(this.curve).compressedPublicKeyLength)}get extendedKey(){(0,u.assert)("secp256k1"===this.curve,"Unable to get extended key for this node: Only secp256k1 is supported.");const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,chainCode:this.chainCodeBytes};return this.privateKeyBytes?(0,m.encodeExtendedKey)({...e,type:"private",privateKey:this.privateKeyBytes}):(0,m.encodeExtendedKey)({...e,type:"public",publicKey:this.publicKeyBytes})}neuter(){return new n({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve,network:this.network},a(this,o,"f"),a(n,n,"f",i))}async derive(e){return await T({path:e,node:this},a(this,o,"f"))}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,network:this.network,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function b(e){if(!(0,g.isValidInteger)(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}function k(e,t){if(!(0,g.isValidInteger)(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}function v(e,t,r){if(e&&r>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}function _(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}async function T({path:e,node:t},r){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return b(n),await(0,p.deriveKeyFromPath)({path:e,node:t,depth:n},r)}r.SLIP10Node=w,n=w,s=new WeakMap,o=new WeakMap,i={value:Symbol("SLIP10Node.constructor")},r.validateBIP32Depth=b,r.validateParentFingerprint=k,r.validateMasterParentFingerprint=v,r.validateRootIndex=_,r.deriveChildNode=T}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/SLIP10Node.cjs"}],[2141,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BIP_32_HARDENED_OFFSET=r.BIP_39_PATH_REGEX=r.CIP_3_PATH_REGEX=r.SLIP_10_PATH_REGEX=r.BIP_32_PATH_REGEX=r.UNPREFIXED_BIP_32_PATH_REGEX=r.UNPREFIXED_PATH_REGEX=r.BIP44PurposeNodeToken=r.MAX_BIP_32_INDEX=r.MAX_UNHARDENED_BIP_32_INDEX=r.MAX_BIP_44_DEPTH=r.MIN_BIP_44_DEPTH=r.BYTES_KEY_LENGTH=void 0,r.BYTES_KEY_LENGTH=32,r.MIN_BIP_44_DEPTH=0,r.MAX_BIP_44_DEPTH=5,r.MAX_UNHARDENED_BIP_32_INDEX=2147483647,r.MAX_BIP_32_INDEX=4294967295,r.BIP44PurposeNodeToken="bip32:44'",r.UNPREFIXED_PATH_REGEX=/^\d+$/u,r.UNPREFIXED_BIP_32_PATH_REGEX=/^(?<index>\d+)'?$/u,r.BIP_32_PATH_REGEX=/^bip32:\d+'?$/u,r.SLIP_10_PATH_REGEX=/^slip10:\d+'?$/u,r.CIP_3_PATH_REGEX=/^cip3:\d+'?$/u,r.BIP_39_PATH_REGEX=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,r.BIP_32_HARDENED_OFFSET=2147483648}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/constants.cjs"}],[2142,{"./utils.cjs":2158,"@noble/hashes/hmac":3163,"@noble/hashes/pbkdf2":3165,"@noble/hashes/ripemd160":3166,"@noble/hashes/sha256":3169,"@noble/hashes/sha3":3170,"@noble/hashes/sha512":3171},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=r.ripemd160=r.pbkdf2Sha512=r.keccak256=r.hmacSha512=void 0;const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/pbkdf2"),s=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),a=e("@noble/hashes/sha3"),c=e("@noble/hashes/sha512"),u=e("./utils.cjs");r.hmacSha512=async function(e,t,r={}){if(r.hmacSha512)return await r.hmacSha512(e,t);if((0,u.isWebCryptoSupported)()){const r=await crypto.subtle.importKey("raw",e,{name:"HMAC",hash:"SHA-512"},!1,["sign"]),n=await crypto.subtle.sign("HMAC",r,t);return new Uint8Array(n)}return(0,n.hmac)(c.sha512,e,t)},r.keccak256=function(e){return(0,a.keccak_256)(e)},r.pbkdf2Sha512=async function(e,t,r,n,s={}){if(s.pbkdf2Sha512)return await s.pbkdf2Sha512(e,t,r,n);if((0,u.isWebCryptoSupported)()){const i=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]),s=await crypto.subtle.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:"SHA-512"}},i,8*n);return new Uint8Array(s)}return await(0,i.pbkdf2Async)(c.sha512,e,t,{c:r,dkLen:n})},r.ripemd160=function(e){return(0,s.ripemd160)(e)},r.sha256=function(e){return(0,o.sha256)(e)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/cryptography.cjs"}],[2143,{"./ed25519.cjs":2144,"./ed25519Bip32.cjs":2145,"./secp256k1.cjs":2147,"@noble/curves/abstract/modular":3152},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mod=r.getCurveByName=r.curves=void 0;const o=s(e("./ed25519.cjs")),a=s(e("./ed25519Bip32.cjs")),c=s(e("./secp256k1.cjs"));r.curves={secp256k1:c,ed25519:o,ed25519Bip32:a},r.getCurveByName=function(e){return r.curves[e]};var u=e("@noble/curves/abstract/modular");Object.defineProperty(r,"mod",{enumerable:!0,get:function(){return u.mod}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/curve.cjs"}],[2144,{"@metamask/utils":3116,"@noble/curves/ed25519":3156},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/ed25519");r.curve=i.ed25519.CURVE,r.name="ed25519",r.secret=(0,n.stringToBytes)("ed25519 seed");r.isValidPrivateKey=e=>!0,r.deriveUnhardenedKeys=!1,r.publicKeyLength=33;r.getPublicKey=(()=>{let e=!1;return(t,r)=>{e||(i.ed25519.ExtendedPoint.BASE._setWindowSize(4),e=!0);const s=i.ed25519.getPublicKey(t);return(0,n.concatBytes)([new Uint8Array([0]),s])}})();r.publicAdd=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")};r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519.cjs"}],[2145,{"@metamask/utils":3116,"@noble/curves/abstract/modular":3152,"@noble/curves/ed25519":3156},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.multiplyWithBase=r.bytesToNumberLE=r.publicKeyLength=r.deriveUnhardenedKeys=r.isValidPrivateKey=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/abstract/modular"),s=e("@noble/curves/ed25519");function o(e,t){const r=e[t];return(0,n.assert)(r!==undefined,"Private key is too short."),r}r.curve=s.ed25519.CURVE,r.name="ed25519Bip32",r.secret=(0,n.stringToBytes)("");r.isValidPrivateKey=e=>!(7&o(e,0))&&(!(128&o(e,31))&&!(64&~o(e,31))),r.deriveUnhardenedKeys=!0,r.publicKeyLength=32;r.bytesToNumberLE=e=>(0,n.hexToBigInt)((0,n.bytesToHex)(Uint8Array.from(e).reverse()));r.multiplyWithBase=e=>{const t=(0,i.mod)((0,r.bytesToNumberLE)(e),r.curve.n);return s.ed25519.ExtendedPoint.BASE.multiply(t).toRawBytes()};r.getPublicKey=(e,t)=>(0,r.multiplyWithBase)(e.slice(0,32));r.publicAdd=(e,t)=>s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(e))).add(s.ed25519.ExtendedPoint.fromHex((0,n.remove0x)((0,n.bytesToHex)(t)))).toRawBytes();r.compressPublicKey=e=>e;r.decompressPublicKey=e=>e,r.privateKeyLength=64,r.masterNodeGenerationSpec="cip3",r.compressedPublicKeyLength=32}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/ed25519Bip32.cjs"}],[2146,{"./curve.cjs":2143,"./ed25519.cjs":2144,"./ed25519Bip32.cjs":2145,"./secp256k1.cjs":2147},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.ed25519Bip32=r.ed25519=r.secp256k1=void 0,s(e("./curve.cjs"),r),r.secp256k1=o(e("./secp256k1.cjs")),r.ed25519=o(e("./ed25519.cjs")),r.ed25519Bip32=o(e("./ed25519Bip32.cjs"))}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/index.cjs"}],[2147,{"../utils.cjs":2158,"@metamask/utils":3116,"@noble/curves/secp256k1":3157},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compressedPublicKeyLength=r.masterNodeGenerationSpec=r.privateKeyLength=r.decompressPublicKey=r.compressPublicKey=r.publicAdd=r.getPublicKey=r.isValidPrivateKey=r.publicKeyLength=r.deriveUnhardenedKeys=r.secret=r.name=r.curve=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/secp256k1"),s=e("../utils.cjs");r.curve=i.secp256k1.CURVE,r.name="secp256k1",r.secret=(0,n.stringToBytes)("Bitcoin seed"),r.deriveUnhardenedKeys=!0,r.publicKeyLength=65;r.isValidPrivateKey=e=>i.secp256k1.utils.isValidPrivateKey(e);r.getPublicKey=(()=>{let e=!1;return(t,r=!1)=>(e||(i.secp256k1.ProjectivePoint.BASE._setWindowSize(4),e=!0),i.secp256k1.getPublicKey(t,r))})();r.publicAdd=(e,t)=>{(0,n.assert)((0,s.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const r=i.secp256k1.ProjectivePoint.fromHex(e).add(i.secp256k1.ProjectivePoint.fromPrivateKey(t));return r.assertValidity(),r.toRawBytes(!1)};r.compressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!0);r.decompressPublicKey=e=>i.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1),r.privateKeyLength=32,r.masterNodeGenerationSpec="slip10",r.compressedPublicKeyLength=33}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/curves/secp256k1.cjs"}],[2148,{"./BIP44CoinTypeNode.cjs":2138,"./BIP44Node.cjs":2139,"./SLIP10Node.cjs":2140,"./constants.cjs":2141,"./curves/index.cjs":2146,"./derivers/index.cjs":2152,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validatePathSegment=r.deriveKeyFromPath=void 0;const n=e("@metamask/utils"),i=e("./BIP44CoinTypeNode.cjs"),s=e("./BIP44Node.cjs"),o=e("./constants.cjs"),a=e("./curves/index.cjs"),c=e("./derivers/index.cjs"),u=e("./SLIP10Node.cjs");function l(e,t,r){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let i=!1;if(e.forEach((e,t)=>{if(0===t){if(i=e instanceof Uint8Array||o.BIP_39_PATH_REGEX.test(e),!(e instanceof Uint8Array||i||o.BIP_32_PATH_REGEX.test(e)||o.SLIP_10_PATH_REGEX.test(e)||o.CIP_3_PATH_REGEX.test(e)))throw d()}else if(e instanceof Uint8Array||!o.BIP_32_PATH_REGEX.test(e)&&!o.SLIP_10_PATH_REGEX.test(e)&&!o.CIP_3_PATH_REGEX.test(e))throw d()}),r===o.MIN_BIP_44_DEPTH&&(!i||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${o.MIN_BIP_44_DEPTH}. Received: "${String(e)}".`);if(!t&&!i)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&i)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const s=i?e.slice(1):e;if(s.length>0){const e=s[0]?.split(":")[0];(0,n.assert)(e),(0,n.assert)(s.every(t=>t.startsWith(`${e}:`)),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}function d(){return new Error("Invalid HD path segment: The path segment is malformed.")}r.deriveKeyFromPath=async function(e,t){const{path:r,depth:o=r.length}=e,p="node"in e?e.node:undefined,h="network"in e?e.network:p?.network,f="curve"in e?e.curve:p?.curve;if(p&&!(p instanceof u.SLIP10Node)&&!(p instanceof s.BIP44Node)&&!(p instanceof i.BIP44CoinTypeNode))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!f)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return l(r,Boolean(p?.privateKey)||Boolean(p?.publicKey),o),await r.reduce(async(e,r,i)=>{const s=await e;if("string"==typeof r){const[e,i]=r.split(":");(0,n.assert)(e),(0,n.assert)(i),(0,n.assert)(function(e){return e in c.derivers}(e),`Unknown derivation type: "${e}".`);const o=c.derivers[e];return await o.deriveChildKey({path:i,node:s,curve:(0,a.getCurveByName)(f),network:h},t)}return(0,n.assert)(0===i,d()),await c.derivers.bip39.deriveChildKey({path:r,node:s,curve:(0,a.getCurveByName)(f),network:h},t)},Promise.resolve(p))},r.validatePathSegment=l}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivation.cjs"}],[2149,{"../constants.cjs":2141,"../cryptography.cjs":2142,"../curves/index.cjs":2146,"../utils.cjs":2158,"./shared.cjs":2153,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.publicKeyToEthAddress=r.privateKeyToEthAddress=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../cryptography.cjs"),a=e("../curves/index.cjs"),c=e("../utils.cjs");function u(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,a.secp256k1.publicKeyLength),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),(0,o.keccak256)(e.slice(1)).slice(-20)}async function l(e,t,r){const{childIndex:n,privateKey:s,publicKey:o,isHardened:a,chainCode:u,curve:l}=t;if((0,c.validateBIP32Index)(n+1),s){const e=await(0,i.deriveSecretExtension)({privateKey:s,publicKey:l.compressPublicKey(o),childIndex:n+1,isHardened:a,curve:l}),c=await(0,i.generateEntropy)({chainCode:u,extension:e},r);return{...t,childIndex:n+1,entropy:c}}const d=(0,i.derivePublicExtension)({parentPublicKey:o,childIndex:n+1}),p=await(0,i.generateEntropy)({chainCode:u,extension:d});return{...t,childIndex:n+1,entropy:p}}r.privateKeyToEthAddress=function(e){return(0,n.assert)(e instanceof Uint8Array&&(0,c.isValidBytesKey)(e,s.BYTES_KEY_LENGTH),"Invalid key: The key must be a 32-byte, non-zero Uint8Array."),u(a.secp256k1.getPublicKey(e,!1))},r.publicKeyToEthAddress=u,r.deriveChildKey=async function(e,t){return(0,n.assert)("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),(0,i.deriveChildKey)(e,l,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip32.cjs"}],[2150,{"../SLIP10Node.cjs":2140,"../constants.cjs":2141,"../cryptography.cjs":2142,"../curves/index.cjs":2146,"../guard.cjs":2156,"../utils.cjs":2158,"@metamask/scure-bip39":2603,"@metamask/scure-bip39/dist/wordlists/english.js":2604,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.entropyToCip3MasterNode=r.createBip39KeyFromSeed=r.deriveChildKey=r.getDerivationPathWithSeed=r.multipathToBip39Mnemonic=r.bip39MnemonicToMultipath=r.mnemonicToSeed=void 0;const n=e("@metamask/scure-bip39"),i=e("@metamask/scure-bip39/dist/wordlists/english.js"),s=e("@metamask/utils"),o=e("../constants.cjs"),a=e("../cryptography.cjs"),c=e("../curves/index.cjs"),u=e("../guard.cjs"),l=e("../SLIP10Node.cjs"),d=e("../utils.cjs"),p=[12,15,18,21,24];function h(e){const t=e.split(" ");(0,s.assert)(p.includes(t.length),"Invalid mnemonic phrase: The mnemonic phrase must consist of 12, 15, 18, 21, or 24 words."),(0,s.assert)(t.every(e=>i.wordlist.includes(e)),"Invalid mnemonic phrase: The mnemonic phrase contains an unknown word.")}async function f(e,t="",r){const n=`mnemonic${t}`.normalize("NFKD");return await(0,a.pbkdf2Sha512)(function(e,t){if("string"==typeof e)return h(e),(0,s.stringToBytes)(e.normalize("NFKD"));const r=Array.from(new Uint16Array(e.buffer)).map(e=>t[e]).join(" ");return h(r),(0,s.stringToBytes)(r)}(e,i.wordlist),(0,s.stringToBytes)(n),2048,64,r)}function m(e){return e instanceof Uint8Array?e:((0,s.assert)(e.startsWith("bip39:"),'Invalid HD path segment: The BIP-39 path must start with "bip39:".'),e.slice(6))}async function y(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const i=await(0,a.hmacSha512)(t.secret,e,n),c=i.slice(0,o.BYTES_KEY_LENGTH),p=i.slice(o.BYTES_KEY_LENGTH);(0,s.assert)(t.isValidPrivateKey(c),"Invalid private key: The private key must greater than 0 and less than the curve order.");const h=t.getPublicKey(c,!1),f=(0,d.getFingerprint)(t.compressPublicKey(h),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:c,publicKey:h,chainCode:p,masterFingerprint:f,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}async function g(e,t,r,n){(0,s.assert)(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const i=await(0,a.pbkdf2Sha512)(t.secret,e,4096,96,n);i[0]&=248,i[31]&=31,i[31]|=64;const o=i.slice(0,t.privateKeyLength),c=i.slice(t.privateKeyLength);(0,s.assert)(t.isValidPrivateKey(o),"Invalid private key.");const p=t.getPublicKey(o,!1),h=(0,d.getFingerprint)(t.compressPublicKey(p),t.compressedPublicKeyLength);return l.SLIP10Node.fromExtendedKey({privateKey:o,publicKey:p,chainCode:c,masterFingerprint:h,network:r,depth:0,parentFingerprint:0,index:0,curve:t.name,guard:u.PUBLIC_KEY_GUARD},n)}r.mnemonicToSeed=f,r.bip39MnemonicToMultipath=function(e){return`bip39:${e.toLowerCase().trim()}`},r.multipathToBip39Mnemonic=m,r.getDerivationPathWithSeed=async function({path:e,curve:t},r){const[o,...a]=e,u=m(o),l=(0,c.getCurveByName)(t);switch(l.masterNodeGenerationSpec){case"slip10":return[await f(u,"",r),...a];case"cip3":return[(0,n.mnemonicToEntropy)(u,i.wordlist),...a];default:return(0,s.assertExhaustive)(l)}},r.deriveChildKey=async function({path:e,curve:t,network:r},n){switch((0,s.assert)(e instanceof Uint8Array,"Invalid path: The path must be a Uint8Array."),t.masterNodeGenerationSpec){case"slip10":return y(e,t,r,n);case"cip3":return g(e,t,r,n);default:throw new Error("Unsupported master node generation spec.")}},r.createBip39KeyFromSeed=y,r.entropyToCip3MasterNode=g}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/bip39.cjs"}],[2151,{"../SLIP10Node.cjs":2140,"../constants.cjs":2141,"../curves/index.cjs":2146,"../utils.cjs":2158,"./shared.cjs":2153,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=r.derivePublicKey=r.deriveChainCode=r.derivePrivateKey=r.getKeyExtension=r.add=r.mod2Pow256=r.trunc28Mul8=r.padEnd32Bytes=r.bigIntToBytes=r.bytesToBigInt=r.toReversed=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../curves/index.cjs"),a=e("../SLIP10Node.cjs"),c=e("../utils.cjs");r.toReversed=e=>e.slice().reverse();r.bytesToBigInt=e=>{const t=(0,r.toReversed)(e),i=(0,n.bytesToHex)(t);return BigInt(i)};r.bigIntToBytes=e=>{const t=e.toString(16);return(0,r.toReversed)((0,n.hexToBytes)(t))};r.padEnd32Bytes=e=>(0,n.concatBytes)([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]);r.trunc28Mul8=e=>{const t=(0,r.bytesToBigInt)(e.slice(0,28))*BigInt(8);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(t))};r.mod2Pow256=e=>(0,r.padEnd32Bytes)((0,r.bigIntToBytes)((0,o.mod)((0,r.bytesToBigInt)(e),BigInt(2)**BigInt(256))));r.add=(e,t)=>{const n=(0,r.bytesToBigInt)(e)+(0,r.bytesToBigInt)(t);return(0,r.padEnd32Bytes)((0,r.bigIntToBytes)(n)).slice(0,32)};r.getKeyExtension=(e,t,r)=>(0,n.concatBytes)([new Uint8Array([e]),t,(0,c.numberToUint32)(r,!0)]);const u=2,l=0;r.derivePrivateKey=async({parentNode:e,childIndex:t,isHardened:o},a)=>{const c=o?(0,r.getKeyExtension)(l,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(u,e.publicKeyBytes,t),d=await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:c},a),p=d.subarray(0,32),h=d.subarray(32),f=e.privateKeyBytes.subarray(0,32),m=e.privateKeyBytes.subarray(32),y=(0,r.add)((0,r.trunc28Mul8)(p),f),g=(0,r.add)(h,m);return(0,n.concatBytes)([y,g])};const d=3,p=1;r.deriveChainCode=async({parentNode:e,childIndex:t,isHardened:n},o)=>{const a=n?(0,r.getKeyExtension)(p,e.privateKeyBytes,t+s.BIP_32_HARDENED_OFFSET):(0,r.getKeyExtension)(d,e.publicKeyBytes,t);return(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:a},o)).subarray(32)};const h=2;r.derivePublicKey=async({parentNode:e,childIndex:t,curve:n},s)=>{const o=(0,r.getKeyExtension)(h,e.publicKeyBytes,t),a=(await(0,i.generateEntropy)({chainCode:e.chainCodeBytes,extension:o},s)).slice(0,32),c=n.getPublicKey((0,r.trunc28Mul8)(a));return n.publicAdd(e.publicKeyBytes,c)},r.deriveChildKey=async function(e,t){const{curve:o,node:c,path:u}=e;(0,i.validateNode)(c);const{childIndex:l,isHardened:d}=(0,i.getValidatedPath)(u,c,o);if("ed25519Bip32"!==o.name||!c)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const p=l+(d?s.BIP_32_HARDENED_OFFSET:0),{privateKeyBytes:h,chainCodeBytes:f,publicKeyBytes:m,masterFingerprint:y,depth:g,fingerprint:w}=c;if(h){const e={privateKeyBytes:h,chainCodeBytes:f,publicKeyBytes:m},i=await(0,r.derivePrivateKey)({parentNode:e,childIndex:l,isHardened:d},t),s=await(0,r.deriveChainCode)({parentNode:e,childIndex:l,isHardened:d},t);return a.SLIP10Node.fromExtendedKey({privateKey:(0,n.bytesToHex)(i),chainCode:(0,n.bytesToHex)(s),masterFingerprint:y,depth:g+1,parentFingerprint:w,index:p,curve:o.name},t)}(0,n.assert)(!d,"Invalid parameters: Cannot derive hardened child keys without a private key.");const b={chainCodeBytes:f,publicKeyBytes:m},k=await(0,r.derivePublicKey)({parentNode:b,childIndex:l,isHardened:!1,curve:o},t),v=await(0,r.deriveChainCode)({parentNode:b,childIndex:l,isHardened:!1},t);return a.SLIP10Node.fromExtendedKey({publicKey:(0,n.bytesToHex)(k),chainCode:(0,n.bytesToHex)(v),masterFingerprint:y,depth:g+1,parentFingerprint:w,index:p,curve:o.name},t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/cip3.cjs"}],[2152,{"./bip32.cjs":2149,"./bip39.cjs":2150,"./cip3.cjs":2151,"./slip10.cjs":2154},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.derivers=void 0;const o=s(e("./bip32.cjs")),a=s(e("./bip39.cjs")),c=s(e("./cip3.cjs")),u=s(e("./slip10.cjs"));r.derivers={bip32:o,bip39:a,slip10:u,cip3:c};var l=e("./bip39.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/index.cjs"}],[2153,{"../SLIP10Node.cjs":2140,"../constants.cjs":2141,"../cryptography.cjs":2142,"../curves/index.cjs":2146,"../guard.cjs":2156,"../utils.cjs":2158,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getValidatedPath=r.validateNode=r.generateEntropy=r.privateAdd=r.derivePublicChildKey=r.derivePublicExtension=r.deriveSecretExtension=r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("../constants.cjs"),s=e("../cryptography.cjs"),o=e("../curves/index.cjs"),a=e("../guard.cjs"),c=e("../SLIP10Node.cjs"),u=e("../utils.cjs");async function l(e,t,r){const{privateKey:n,publicKey:s,entropy:o,childIndex:u,isHardened:d,depth:p,parentFingerprint:m,masterFingerprint:y,curve:g,network:w}=e;try{return n?await async function({entropy:e,privateKey:t,depth:r,masterFingerprint:n,parentFingerprint:s,childIndex:o,isHardened:u,curve:l,network:d},p){const h=o+(u?i.BIP_32_HARDENED_OFFSET:0),{privateKey:m,chainCode:y}=function({privateKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);if("ed25519"===r.name)return{privateKey:n,chainCode:i};const s=f(e,n,r);return{privateKey:s,chainCode:i}}({privateKey:t,entropy:e,curve:l});return await c.SLIP10Node.fromExtendedKey({privateKey:m,chainCode:y,depth:r+1,masterFingerprint:n,parentFingerprint:s,index:h,curve:l.name,network:d,guard:a.PUBLIC_KEY_GUARD},p)}({entropy:o,privateKey:n,depth:p,masterFingerprint:y,parentFingerprint:m,childIndex:u,isHardened:d,curve:g,network:w},r):await h({entropy:o,publicKey:s,depth:p,masterFingerprint:y,parentFingerprint:m,childIndex:u,curve:g,network:w},r)}catch(n){return await l(await t(n,e,r),t,r)}}async function d({privateKey:e,publicKey:t,childIndex:r,isHardened:s,curve:o}){return s?(0,n.concatBytes)([new Uint8Array([0]),e,(0,u.numberToUint32)(r+i.BIP_32_HARDENED_OFFSET)]):((0,u.validateBytes)(t,o.compressedPublicKeyLength),p({parentPublicKey:t,childIndex:r}))}function p({parentPublicKey:e,childIndex:t}){return(0,n.concatBytes)([e,(0,u.numberToUint32)(t)])}async function h({entropy:e,publicKey:t,depth:r,masterFingerprint:n,parentFingerprint:i,childIndex:s,curve:o,network:a},u){const{publicKey:l,chainCode:d}=function({publicKey:e,entropy:t,curve:r}){const n=t.slice(0,32),i=t.slice(32);return{publicKey:r.publicAdd(e,n),chainCode:i}}({publicKey:t,entropy:e,curve:o});return await c.SLIP10Node.fromExtendedKey({publicKey:l,chainCode:d,depth:r+1,masterFingerprint:n,parentFingerprint:i,index:s,curve:o.name,network:a},u)}function f(e,t,r){(0,n.assert)((0,u.isValidBytesKey)(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const i=(0,n.bytesToBigInt)(e),s=(0,n.bytesToBigInt)(t);if(s>=r.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const a=(0,o.mod)(i+s,r.curve.n),c=(0,n.hexToBytes)(a.toString(16).padStart(64,"0"));if(!r.isValidPrivateKey(c))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return c}async function m({chainCode:e,extension:t},r){return await(0,s.hmacSha512)(e,t,r)}function y(e){(0,n.assert)(e,"Invalid parameters: Must specify a node to derive from.")}function g(e,t,r){!function(e,t,r){(0,n.assert)("string"==typeof e,"Invalid path: Must be a string.");const i=e.endsWith("'");(0,n.assert)(!i||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),(0,n.assert)(i||r.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${r.name}.`)}(e,t,r);const s=e.split("'")[0];(0,n.assert)(s);const o=parseInt(s,10);if(!i.UNPREFIXED_PATH_REGEX.test(s)||!Number.isInteger(o)||o<0||o>=i.BIP_32_HARDENED_OFFSET)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${i.BIP_32_HARDENED_OFFSET}.`);return{childIndex:o,isHardened:e.includes("'")}}r.deriveChildKey=async function({path:e,node:t,curve:r,network:n},i,s){y(t);const{childIndex:o,isHardened:a}=g(e,t,r),c={chainCode:t.chainCodeBytes,childIndex:o,isHardened:a,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:r,network:n};if(t.privateKeyBytes){const e=await d({privateKey:t.privateKeyBytes,get publicKey(){return t.compressedPublicKeyBytes},childIndex:o,isHardened:a,curve:r}),n=await m({chainCode:t.chainCodeBytes,extension:e},s);return await l({privateKey:t.privateKeyBytes,get publicKey(){return t.publicKeyBytes},entropy:n,...c},i,s)}const u=p({parentPublicKey:t.compressedPublicKeyBytes,childIndex:o}),h=await m({chainCode:t.chainCodeBytes,extension:u},s);return await l({publicKey:t.compressedPublicKeyBytes,entropy:h,...c},i,s)},r.deriveSecretExtension=d,r.derivePublicExtension=p,r.derivePublicChildKey=h,r.privateAdd=f,r.generateEntropy=m,r.validateNode=y,r.getValidatedPath=g}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/shared.cjs"}],[2154,{"../constants.cjs":2141,"../utils.cjs":2158,"./shared.cjs":2153,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deriveChildKey=void 0;const n=e("@metamask/utils"),i=e("./shared.cjs"),s=e("../constants.cjs"),o=e("../utils.cjs");async function a(e,t,r){const{curve:a,isHardened:c,childIndex:u,entropy:l,chainCode:d}=t;if("ed25519"===a.name)throw e;const p=c?u+s.BIP_32_HARDENED_OFFSET:u,h=await(0,i.generateEntropy)({chainCode:d,extension:(0,n.concatBytes)([1,l.slice(32,64),(0,o.numberToUint32)(p)])},r);return{...t,entropy:h}}r.deriveChildKey=async function(e,t){return await(0,i.deriveChildKey)(e,a,t)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/derivers/slip10.cjs"}],[2155,{"./BIP44Node.cjs":2139,"./curves/secp256k1.cjs":2147,"./utils.cjs":2158,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeExtendedKey=r.decodeExtendedKey=void 0;const n=e("@metamask/utils"),i=e("./BIP44Node.cjs"),s=e("./curves/secp256k1.cjs"),o=e("./utils.cjs"),a=76067358,c=76066276,u=70617039,l=70615956;r.decodeExtendedKey=e=>{const t=(0,o.decodeBase58check)(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const r=(0,n.createDataView)(t),d=r.getUint32(0,!1),{network:p,type:h}=function(e){switch(e){case a:return{type:"public",network:"mainnet"};case u:return{type:"public",network:"testnet"};case c:return{type:"private",network:"mainnet"};case l:return{type:"private",network:"testnet"};default:throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")}}(d),f=r.getUint8(4);(0,i.validateBIP44Depth)(f);const m=r.getUint32(5,!1),y=r.getUint32(9,!1),g=t.slice(13,45);if(!(0,o.isValidBytesKey)(g,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const w=t.slice(45,78);if(!(0,o.isValidBytesKey)(w,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const b=(0,n.createDataView)(w);if("public"===h){if(2!==b.getUint8(0)&&3!==b.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{type:h,depth:f,parentFingerprint:m,index:y,network:p,chainCode:g,publicKey:(0,s.decompressPublicKey)(w)}}if(0!==b.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{type:h,depth:f,parentFingerprint:m,index:y,network:p,chainCode:g,privateKey:w.slice(1)}};r.encodeExtendedKey=e=>{const{type:t,depth:r,parentFingerprint:i,index:d,network:p,chainCode:h}=e,f=new Uint8Array(78),m=(0,n.createDataView)(f),y=function(e,t){switch(e){case"mainnet":return"public"===t?a:c;case"testnet":return"public"===t?u:l;default:return(0,n.assertExhaustive)(e)}}(p,t);if(m.setUint32(0,y,!1),m.setUint8(4,r),m.setUint32(5,i,!1),m.setUint32(9,d,!1),f.set(h,13),"public"===t){const{publicKey:t}=e,r=(0,s.compressPublicKey)(t);f.set(r,45)}if("private"===t){const{privateKey:t}=e;f.set(t,46)}return(0,o.encodeBase58check)(f)}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/extended-keys.cjs"}],[2156,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PUBLIC_KEY_GUARD=void 0,r.PUBLIC_KEY_GUARD=Symbol("Public key guard. Do not export this from the module.")}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/guard.cjs"}],[2157,{"./BIP44CoinTypeNode.cjs":2138,"./BIP44Node.cjs":2139,"./SLIP10Node.cjs":2140,"./constants.cjs":2141,"./curves/index.cjs":2146,"./derivers/index.cjs":2152,"./utils.cjs":2158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.mnemonicToSeed=r.createBip39KeyFromSeed=r.mnemonicPhraseToBytes=r.isValidBIP32PathSegment=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44AddressKeyDeriver=r.deriveBIP44AddressKey=r.BIP_44_COIN_TYPE_DEPTH=r.BIP44CoinTypeNode=r.ed25519Bip32=r.ed25519=r.secp256k1=r.SLIP10Node=r.BIP44Node=void 0;var s=e("./BIP44Node.cjs");Object.defineProperty(r,"BIP44Node",{enumerable:!0,get:function(){return s.BIP44Node}});var o=e("./SLIP10Node.cjs");Object.defineProperty(r,"SLIP10Node",{enumerable:!0,get:function(){return o.SLIP10Node}});var a=e("./curves/index.cjs");Object.defineProperty(r,"secp256k1",{enumerable:!0,get:function(){return a.secp256k1}}),Object.defineProperty(r,"ed25519",{enumerable:!0,get:function(){return a.ed25519}}),Object.defineProperty(r,"ed25519Bip32",{enumerable:!0,get:function(){return a.ed25519Bip32}});var c=e("./BIP44CoinTypeNode.cjs");Object.defineProperty(r,"BIP44CoinTypeNode",{enumerable:!0,get:function(){return c.BIP44CoinTypeNode}}),Object.defineProperty(r,"BIP_44_COIN_TYPE_DEPTH",{enumerable:!0,get:function(){return c.BIP_44_COIN_TYPE_DEPTH}}),Object.defineProperty(r,"deriveBIP44AddressKey",{enumerable:!0,get:function(){return c.deriveBIP44AddressKey}}),Object.defineProperty(r,"getBIP44AddressKeyDeriver",{enumerable:!0,get:function(){return c.getBIP44AddressKeyDeriver}}),i(e("./constants.cjs"),r);var u=e("./utils.cjs");Object.defineProperty(r,"getBIP44CoinTypeToAddressPathTuple",{enumerable:!0,get:function(){return u.getBIP44CoinTypeToAddressPathTuple}}),Object.defineProperty(r,"isValidBIP32PathSegment",{enumerable:!0,get:function(){return u.isValidBIP32PathSegment}}),Object.defineProperty(r,"mnemonicPhraseToBytes",{enumerable:!0,get:function(){return u.mnemonicPhraseToBytes}});var l=e("./derivers/index.cjs");Object.defineProperty(r,"createBip39KeyFromSeed",{enumerable:!0,get:function(){return l.createBip39KeyFromSeed}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}})}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/index.cjs"}],[2158,{"./BIP44CoinTypeNode.cjs":2138,"./constants.cjs":2141,"./cryptography.cjs":2142,"./curves/index.cjs":2146,"@metamask/scure-bip39/dist/wordlists/english.js":2604,"@metamask/utils":3116,"@scure/base":3195},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getBIP44CoinType=r.validateNetwork=r.isWebCryptoSupported=r.numberToUint32=r.validateCurve=r.mnemonicPhraseToBytes=r.getFingerprint=r.encodeBase58check=r.decodeBase58check=r.validateBytes=r.getBytesUnsafe=r.getBytes=r.isValidInteger=r.isValidBytesKey=r.nullableHexStringToBytes=r.hexStringToBytes=r.isHardened=r.isValidBIP32PathSegment=r.isValidBIP32Index=r.validateBIP32Index=r.getBIP32NodeToken=r.getUnhardenedBIP32NodeToken=r.getHardenedBIP32NodeToken=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44ChangePathString=r.getBIP44CoinTypePathString=void 0;const n=e("@metamask/scure-bip39/dist/wordlists/english.js"),i=e("@metamask/utils"),s=e("@scure/base"),o=e("./BIP44CoinTypeNode.cjs"),a=e("./constants.cjs"),c=e("./cryptography.cjs"),u=e("./curves/index.cjs");function l(e){return h(e),`${d(e)}'`}function d(e){return h(e),`bip32:${e}`}function p(e){if("number"==typeof e)return d(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?l(e.index):d(e.index)}function h(e){if(!f(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function f(e){return g(e)&&e<=a.MAX_BIP_32_INDEX}function m(e){return e instanceof Uint8Array?e:(0,i.hexToBytes)(e)}function y(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function g(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function w(e,t){if(!y(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}r.getBIP44CoinTypePathString=function(e){return`m / ${a.BIP44PurposeNodeToken} / ${l(e)}`},r.getBIP44ChangePathString=function(e,t){return`${e} / ${l(t.account??0)} / ${p(t.change??0)}`},r.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:r}){return[l(e),p(t),p(r)]},r.getHardenedBIP32NodeToken=l,r.getUnhardenedBIP32NodeToken=d,r.getBIP32NodeToken=p,r.validateBIP32Index=h,r.isValidBIP32Index=f,r.isValidBIP32PathSegment=function(e){if("string"!=typeof e)return!1;const t=e.match(a.UNPREFIXED_BIP_32_PATH_REGEX);if(void 0===t?.groups?.index)return!1;const r=parseInt(t.groups.index,10);return g(r)&&r<=a.MAX_UNHARDENED_BIP_32_INDEX},r.isHardened=function(e){return e.endsWith("'")},r.hexStringToBytes=m,r.nullableHexStringToBytes=function(e){return e!==undefined?m(e):undefined},r.isValidBytesKey=y,r.isValidInteger=g,r.getBytes=function(e,t){if(e instanceof Uint8Array)return w(e,t),e;if("string"==typeof e){const r=(0,i.hexToBytes)(e);return w(r,t),r}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.getBytesUnsafe=function e(t,r){if(t instanceof Uint8Array)return(0,i.assert)(t.length===r,`Invalid value: Must be a ${r}-byte byte array.`),t;if("string"==typeof t)return e((0,i.hexToBytes)(t),r);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")},r.validateBytes=w;r.decodeBase58check=e=>{const t=(0,s.base58check)(c.sha256);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}};r.encodeBase58check=e=>(0,s.base58check)(c.sha256).encode(e);r.getFingerprint=(e,t)=>{if(!y(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);const r=(0,c.ripemd160)((0,c.sha256)(e));return(0,i.createDataView)(r).getUint32(0,!1)},r.mnemonicPhraseToBytes=function(e){const t=e.split(" ").map(e=>{const t=n.wordlist.indexOf(e);return(0,i.assert)(-1!==t,`Invalid mnemonic phrase: Unknown word "${e}".`),t});return new Uint8Array(new Uint16Array(t).buffer)},r.validateCurve=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(u.curves).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(u.curves).join(", ")}.`)},r.numberToUint32=function(e,t=!1){const r=new Uint8Array(4);return(0,i.createDataView)(r).setUint32(0,e,t),r},r.isWebCryptoSupported=function(){return Boolean(globalThis.crypto?.subtle)},r.validateNetwork=function(e){if(e!==undefined){if("string"!=typeof e)throw new Error("Invalid network: Must be a string if specified.");if(!["mainnet","testnet"].includes(e))throw new Error('Invalid network: Must be either "mainnet" or "testnet" if specified.')}},r.getBIP44CoinType=function(e){const t=e[o.BIP_44_COIN_TYPE_DEPTH].split(":")[1]?.replace("'","");(0,i.assert)(t,"Invalid derivation path: Coin type is not specified.");const r=Number.parseInt(t,10);return(0,i.assert)(g(r),"Invalid derivation path: Coin type is not a valid integer."),r}}}},{package:"@metamask/snaps-sdk>@metamask/key-tree",file:"node_modules/@metamask/key-tree/dist/utils.cjs"}],[2159,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountOptionsStruct=r.KeyringAccountEntropyOptionsStruct=r.KeyringAccountEntropyPrivateKeyOptionsStruct=r.KeyringAccountEntropyMnemonicOptionsStruct=r.KeyringAccountEntropyTypeOption=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");var o;!function(e){e.Mnemonic="mnemonic",e.PrivateKey="private-key"}(o||(r.KeyringAccountEntropyTypeOption=o={})),r.KeyringAccountEntropyMnemonicOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.Mnemonic}`),id:(0,i.string)(),derivationPath:(0,i.string)(),groupIndex:(0,i.number)()}),r.KeyringAccountEntropyPrivateKeyOptionsStruct=(0,i.object)({type:(0,i.literal)(`${o.PrivateKey}`)}),r.KeyringAccountEntropyOptionsStruct=(0,n.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&e.type===o.PrivateKey?r.KeyringAccountEntropyPrivateKeyOptionsStruct:r.KeyringAccountEntropyMnemonicOptionsStruct),r.KeyringAccountOptionsStruct=(0,i.intersection)([(0,i.record)((0,i.string)(),s.JsonStruct),(0,n.type)({entropy:(0,n.exactOptional)(r.KeyringAccountEntropyOptionsStruct),exportable:(0,n.exactOptional)((0,i.boolean)())})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account-options.cjs"}],[2160,{"./account-options.cjs":2159,"./caip.cjs":2164,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountStruct=r.KeyringAccountTypeStruct=r.AnyAccountType=r.TrxAccountType=r.SolAccountType=r.BtcAccountType=r.EthAccountType=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./account-options.cjs"),o=e("./caip.cjs");var a,c,u,l,d;!function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(a||(r.EthAccountType=a={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(c||(r.BtcAccountType=c={})),function(e){e.DataAccount="solana:data-account"}(u||(r.SolAccountType=u={})),function(e){e.Eoa="tron:eoa"}(l||(r.TrxAccountType=l={})),function(e){e.Account="any:account"}(d||(r.AnyAccountType=d={})),r.KeyringAccountTypeStruct=(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),r.KeyringAccountStruct=(0,n.object)({id:n.AccountIdStruct,type:(0,i.enums)([`${a.Eoa}`,`${a.Erc4337}`,`${c.P2pkh}`,`${c.P2sh}`,`${c.P2wpkh}`,`${c.P2tr}`,`${u.DataAccount}`,`${l.Eoa}`,`${d.Account}`]),address:(0,i.string)(),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),options:s.KeyringAccountOptionsStruct,methods:(0,i.array)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/account.cjs"}],[2161,{"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResolvedAccountAddressStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.ResolvedAccountAddressStruct=(0,n.object)({address:i.CaipAccountIdStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/address.cjs"}],[2162,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AssetStruct=r.NonFungibleAssetStruct=r.FungibleAssetStruct=r.FungibleAssetAmountStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.FungibleAssetAmountStruct=(0,n.object)({unit:(0,i.string)(),amount:n.StringNumberStruct}),r.FungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!0),type:s.CaipAssetTypeStruct,...r.FungibleAssetAmountStruct.schema}),r.NonFungibleAssetStruct=(0,n.object)({fungible:(0,i.literal)(!1),id:s.CaipAssetIdStruct}),r.AssetStruct=(0,n.selectiveUnion)(e=>(0,s.isPlainObject)(e)&&!e.fungible?r.NonFungibleAssetStruct:r.FungibleAssetStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/asset.cjs"}],[2163,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BalanceStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.BalanceStruct=(0,n.object)({amount:n.StringNumberStruct,unit:(0,i.string)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/balance.cjs"}],[2164,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaipChainIdStruct=r.CaipAssetTypeOrIdStruct=r.CaipAssetTypeStruct=r.CaipAssetIdStruct=r.CaipAccountIdStruct=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"CaipAccountIdStruct",{enumerable:!0,get:function(){return n.CaipAccountIdStruct}}),Object.defineProperty(r,"CaipAssetIdStruct",{enumerable:!0,get:function(){return n.CaipAssetIdStruct}}),Object.defineProperty(r,"CaipAssetTypeStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeStruct}}),Object.defineProperty(r,"CaipAssetTypeOrIdStruct",{enumerable:!0,get:function(){return n.CaipAssetTypeOrIdStruct}}),Object.defineProperty(r,"CaipChainIdStruct",{enumerable:!0,get:function(){return n.CaipChainIdStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/caip.cjs"}],[2165,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DerivationPathStruct=void 0;const n=e("@metamask/utils");r.DerivationPathStruct=(0,n.definePattern)("DerivationPath",/^m(?:\/\d+'?)+$/u)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/derivation.cjs"}],[2166,{"./caip.cjs":2164,"./derivation.cjs":2165,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct=r.DiscoveredAccountType=void 0;const n=e("@metamask/superstruct"),i=e("./caip.cjs"),s=e("./derivation.cjs");var o;!function(e){e.Bip44="bip44"}(o||(r.DiscoveredAccountType=o={})),r.DiscoveredBip44AccountStruct=(0,n.object)({type:(0,n.literal)(`${o.Bip44}`),scopes:(0,n.array)(i.CaipChainIdStruct),derivationPath:s.DerivationPathStruct}),r.DiscoveredAccountStruct=r.DiscoveredBip44AccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/discovery.cjs"}],[2167,{"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringAccountDataStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.KeyringAccountDataStruct=(0,n.record)((0,n.string)(),i.JsonStruct)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/export.cjs"}],[2168,{"./account-options.cjs":2159,"./account.cjs":2160,"./address.cjs":2161,"./asset.cjs":2162,"./balance.cjs":2163,"./caip.cjs":2164,"./discovery.cjs":2166,"./export.cjs":2167,"./options.cjs":2169,"./pagination.cjs":2170,"./request.cjs":2171,"./response.cjs":2172,"./transaction.cjs":2173,"./v2/index.cjs":2179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./account.cjs"),r),i(e("./account-options.cjs"),r),i(e("./address.cjs"),r),i(e("./asset.cjs"),r),i(e("./balance.cjs"),r),i(e("./caip.cjs"),r),i(e("./discovery.cjs"),r),i(e("./export.cjs"),r),i(e("./request.cjs"),r),i(e("./response.cjs"),r),i(e("./transaction.cjs"),r),i(e("./pagination.cjs"),r),i(e("./options.cjs"),r),i(e("./v2/index.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/index.cjs"}],[2169,{"@metamask/keyring-utils":2239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MetaMaskOptionsStruct=void 0;const n=e("@metamask/keyring-utils");r.MetaMaskOptionsStruct=(0,n.object)({metamask:(0,n.exactOptional)((0,n.object)({correlationId:n.UuidStruct}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/options.cjs"}],[2170,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PaginationStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct");r.PaginationStruct=(0,n.object)({limit:(0,i.number)(),next:(0,n.exactOptional)((0,i.nullable)((0,i.string)()))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/pagination.cjs"}],[2171,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringRequestStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringRequestStruct=(0,n.object)({id:n.UuidStruct,scope:(0,i.string)(),account:n.UuidStruct,origin:(0,i.string)(),request:(0,n.object)({method:(0,i.string)(),params:(0,n.exactOptional)((0,i.union)([(0,i.array)(s.JsonStruct),(0,i.record)((0,i.string)(),s.JsonStruct)]))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/request.cjs"}],[2172,{"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringResponseStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.KeyringResponseStruct=(0,i.union)([(0,n.object)({pending:(0,i.literal)(!0),redirect:(0,n.exactOptional)((0,n.object)({message:(0,n.exactOptional)((0,i.string)()),url:(0,n.exactOptional)((0,i.string)())}))}),(0,n.object)({pending:(0,i.literal)(!1),result:s.JsonStruct})])}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/response.cjs"}],[2173,{"./asset.cjs":2162,"./caip.cjs":2164,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionsPageStruct=r.TransactionStruct=r.TransactionEventStruct=r.TransactionType=r.TransactionStatus=r.FeeType=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("./asset.cjs"),o=e("./caip.cjs"),a=(0,n.object)({address:(0,i.string)(),asset:(0,i.nullable)(s.AssetStruct)});var c;!function(e){e.Base="base",e.Priority="priority"}(c||(r.FeeType=c={}));const u=(0,n.object)({type:(0,i.enums)([`${c.Base}`,`${c.Priority}`]),asset:s.AssetStruct});var l,d;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(l||(r.TransactionStatus=l={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.StakeDeposit="stake:deposit",e.StakeWithdraw="stake:withdraw",e.Unknown="unknown"}(d||(r.TransactionType=d={})),r.TransactionEventStruct=(0,n.object)({status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)())}),r.TransactionStruct=(0,n.object)({id:(0,i.string)(),chain:o.CaipChainIdStruct,account:n.UuidStruct,status:(0,i.enums)([`${l.Submitted}`,`${l.Unconfirmed}`,`${l.Confirmed}`,`${l.Failed}`]),timestamp:(0,i.nullable)((0,i.number)()),type:(0,i.enums)([`${d.Send}`,`${d.Receive}`,`${d.Swap}`,`${d.BridgeSend}`,`${d.BridgeReceive}`,`${d.StakeDeposit}`,`${d.StakeWithdraw}`,`${d.Unknown}`]),from:(0,i.array)(a),to:(0,i.array)(a),fees:(0,i.array)(u),events:(0,i.array)(r.TransactionEventStruct)}),r.TransactionsPageStruct=(0,n.object)({data:(0,i.array)(r.TransactionStruct),next:(0,i.nullable)((0,i.string)())})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/transaction.cjs"}],[2174,{"../../derivation.cjs":2165,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountBip44DiscoverOptionsStruct=r.CreateAccountBip44DeriveIndexOptionsStruct=r.CreateAccountBip44DerivePathOptionsStruct=void 0;const n=e("@metamask/superstruct"),i=e("../../derivation.cjs");r.CreateAccountBip44DerivePathOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:derive-path"),entropySource:(0,n.string)(),derivationPath:i.DerivationPathStruct}),r.CreateAccountBip44DeriveIndexOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:derive-index"),entropySource:(0,n.string)(),groupIndex:(0,n.number)()}),r.CreateAccountBip44DiscoverOptionsStruct=(0,n.object)({type:(0,n.literal)("bip44:discover"),entropySource:(0,n.string)(),groupIndex:(0,n.number)()})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/bip44.cjs"}],[2175,{"./bip44.cjs":2174,"./private-key.cjs":2176,"@metamask/keyring-utils":2239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountOptionsStruct=r.AccountCreationType=void 0;const s=e("@metamask/keyring-utils"),o=e("./bip44.cjs"),a=e("./private-key.cjs");var c;i(e("./bip44.cjs"),r),i(e("./private-key.cjs"),r),function(e){e.Bip44DerivePath="bip44:derive-path",e.Bip44DeriveIndex="bip44:derive-index",e.Bip44Discover="bip44:discover",e.PrivateKeyImport="private-key:import"}(c||(r.AccountCreationType=c={})),r.CreateAccountOptionsStruct=(0,s.selectiveUnion)(e=>{const t=e?.type;switch(t){case c.Bip44DerivePath:return o.CreateAccountBip44DerivePathOptionsStruct;case c.Bip44DeriveIndex:return o.CreateAccountBip44DeriveIndexOptionsStruct;case c.Bip44Discover:return o.CreateAccountBip44DiscoverOptionsStruct;case c.PrivateKeyImport:return a.CreateAccountPrivateKeyOptionsStruct;default:return o.CreateAccountBip44DerivePathOptionsStruct}})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/index.cjs"}],[2176,{"../../account.cjs":2160,"../private-key.cjs":2182,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CreateAccountPrivateKeyOptionsStruct=void 0;const n=e("@metamask/superstruct"),i=e("../../account.cjs"),s=e("../private-key.cjs");r.CreateAccountPrivateKeyOptionsStruct=(0,n.object)({type:(0,n.literal)("private-key:import"),privateKey:(0,n.string)(),encoding:s.PrivateKeyEncodingStruct,accountType:(0,n.exactOptional)(i.KeyringAccountTypeStruct)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/create-account/private-key.cjs"}],[2177,{"./private-key.cjs":2178},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.ExportedAccountStruct=r.ExportAccountOptionsStruct=r.AccountExportType=void 0;const s=e("./private-key.cjs");var o;i(e("./private-key.cjs"),r),function(e){e.PrivateKey="private-key"}(o||(r.AccountExportType=o={})),r.ExportAccountOptionsStruct=s.ExportAccountPrivateKeyOptionsStruct,r.ExportedAccountStruct=s.PrivateKeyExportedAccountStruct}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/export-account/index.cjs"}],[2178,{"../private-key.cjs":2182,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExportAccountPrivateKeyOptionsStruct=r.PrivateKeyExportedAccountStruct=void 0;const n=e("@metamask/superstruct"),i=e("../private-key.cjs");r.PrivateKeyExportedAccountStruct=(0,n.object)({type:(0,n.literal)("private-key"),privateKey:(0,n.string)(),encoding:i.PrivateKeyEncodingStruct}),r.ExportAccountPrivateKeyOptionsStruct=(0,n.object)({type:(0,n.literal)("private-key"),encoding:i.PrivateKeyEncodingStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/export-account/private-key.cjs"}],[2179,{"./create-account/index.cjs":2175,"./export-account/index.cjs":2177,"./keyring-capabilities.cjs":2180,"./keyring-type.cjs":2181,"./private-key.cjs":2182},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./keyring-capabilities.cjs"),r),i(e("./keyring-type.cjs"),r),i(e("./create-account/index.cjs"),r),i(e("./export-account/index.cjs"),r),i(e("./private-key.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/index.cjs"}],[2180,{"../caip.cjs":2164,"./private-key.cjs":2182,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringCapabilitiesStruct=void 0;const n=e("@metamask/superstruct"),i=e("./private-key.cjs"),s=e("../caip.cjs");r.KeyringCapabilitiesStruct=(0,n.object)({scopes:(0,n.nonempty)((0,n.array)(s.CaipChainIdStruct)),bip44:(0,n.exactOptional)((0,n.object)({derivePath:(0,n.boolean)(),deriveIndex:(0,n.boolean)(),discover:(0,n.boolean)()})),privateKey:(0,n.exactOptional)((0,n.object)({importFormats:(0,n.exactOptional)((0,n.array)(i.ImportPrivateKeyFormatStruct)),exportFormats:(0,n.exactOptional)((0,n.array)(i.ExportPrivateKeyFormatStruct))}))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/keyring-capabilities.cjs"}],[2181,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringType=void 0,function(e){e.Hd="hd",e.PrivateKey="private-key",e.Qr="qr",e.Snap="snap",e.Ledger="ledger",e.Lattice="lattice",e.Trezor="trezor",e.OneKey="onekey"}(n||(r.KeyringType=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/keyring-type.cjs"}],[2182,{"../account.cjs":2160,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ExportPrivateKeyFormatStruct=r.ImportPrivateKeyFormatStruct=r.PrivateKeyEncodingStruct=r.PrivateKeyEncoding=void 0;const n=e("@metamask/superstruct"),i=e("../account.cjs");var s;!function(e){e.Hexadecimal="hexadecimal",e.Base58="base58"}(s||(r.PrivateKeyEncoding=s={})),r.PrivateKeyEncodingStruct=(0,n.enums)([`${s.Hexadecimal}`,`${s.Base58}`]),r.ImportPrivateKeyFormatStruct=(0,n.object)({encoding:r.PrivateKeyEncodingStruct,type:(0,n.exactOptional)(i.KeyringAccountTypeStruct)}),r.ExportPrivateKeyFormatStruct=(0,n.object)({encoding:r.PrivateKeyEncodingStruct})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/api/v2/private-key.cjs"}],[2183,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.BtcScope=void 0,function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(n||(r.BtcScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/constants.cjs"}],[2184,{"./constants.cjs":2183,"./types.cjs":2185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/index.cjs"}],[2185,{"../api/index.cjs":2168,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"bitcoin-address-validation":3973},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BtcP2trAccountStruct=r.BtcP2wpkhAccountStruct=r.BtcP2shAccountStruct=r.BtcP2pkhAccountStruct=r.BtcMethod=r.BtcP2trAddressStruct=r.BtcP2wpkhAddressStruct=r.BtcP2shAddressStruct=r.BtcP2pkhAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("bitcoin-address-validation"),o=e("../api/index.cjs"),a=(e,t)=>{try{return(0,s.getAddressInfo)(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}};var c;r.BtcP2pkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2pkhAddressStruct",e=>a(e,s.AddressType.p2pkh)),r.BtcP2shAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2shAddressStruct",e=>a(e,s.AddressType.p2sh)),r.BtcP2wpkhAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2wpkhAddressStruct",e=>a(e,s.AddressType.p2wpkh)),r.BtcP2trAddressStruct=(0,i.refine)((0,i.string)(),"BtcP2trAddressStruct",e=>a(e,s.AddressType.p2tr)),function(e){e.SignPsbt="signPsbt",e.ComputeFee="computeFee",e.FillPsbt="fillPsbt",e.BroadcastPsbt="broadcastPsbt",e.SendTransfer="sendTransfer",e.GetUtxo="getUtxo",e.ListUtxos="listUtxos",e.PublicDescriptor="publicDescriptor",e.SignMessage="signMessage"}(c||(r.BtcMethod=c={}));const u=(0,n.object)({...o.KeyringAccountStruct.schema,scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(c)))});r.BtcP2pkhAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2pkhAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2pkh}`)}),r.BtcP2shAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2shAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2sh}`)}),r.BtcP2wpkhAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2wpkhAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2wpkh}`)}),r.BtcP2trAccountStruct=(0,n.object)({...u.schema,address:r.BtcP2trAddressStruct,type:(0,i.literal)(`${o.BtcAccountType.P2tr}`)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/btc/types.cjs"}],[2186,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.EthScope=void 0,function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(n||(r.EthScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/constants.cjs"}],[2187,{"./types.cjs":2188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/index.cjs"}],[2188,{"../types.cjs":2190,"@metamask/keyring-utils":2239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthUserOperationPatchStruct=r.EthBaseUserOperationStruct=r.EthBaseTransactionStruct=r.EthUserOperationStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("../types.cjs");r.EthUserOperationStruct=(0,n.object)({sender:i.EthAddressStruct,nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct,maxFeePerGas:i.EthUint256Struct,maxPriorityFeePerGas:i.EthUint256Struct,paymasterAndData:i.EthBytesStruct,signature:i.EthBytesStruct}),r.EthBaseTransactionStruct=(0,n.object)({to:i.EthAddressStruct,value:i.EthUint256Struct,data:i.EthBytesStruct}),r.EthBaseUserOperationStruct=(0,n.object)({nonce:i.EthUint256Struct,initCode:i.EthBytesStruct,callData:i.EthBytesStruct,gasLimits:(0,n.exactOptional)((0,n.object)({callGasLimit:i.EthUint256Struct,verificationGasLimit:i.EthUint256Struct,preVerificationGas:i.EthUint256Struct})),dummyPaymasterAndData:i.EthBytesStruct,dummySignature:i.EthBytesStruct,bundlerUrl:n.UrlStruct}),r.EthUserOperationPatchStruct=(0,n.object)({paymasterAndData:i.EthBytesStruct,callGasLimit:(0,n.exactOptional)(i.EthUint256Struct),verificationGasLimit:(0,n.exactOptional)(i.EthUint256Struct),preVerificationGas:(0,n.exactOptional)(i.EthUint256Struct)})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/erc4337/types.cjs"}],[2189,{"./constants.cjs":2186,"./erc4337/index.cjs":2187,"./types.cjs":2190,"./utils.cjs":2191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./erc4337/index.cjs"),r),i(e("./types.cjs"),r),i(e("./utils.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/index.cjs"}],[2190,{"../api/index.cjs":2168,"./index.cjs":2189,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthErc4337AccountStruct=r.EthEoaAccountStruct=r.EthMethod=r.EthUint256Struct=r.EthAddressStruct=r.EthBytesStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./index.cjs"),a=e("../api/index.cjs");var c;r.EthBytesStruct=(0,s.definePattern)("EthBytes",/^0x[0-9a-f]*$/iu),r.EthAddressStruct=(0,s.definePattern)("EthAddress",/^0x[0-9a-f]{40}$/iu),r.EthUint256Struct=(0,s.definePattern)("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu),function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(c||(r.EthMethod=c={})),r.EthEoaAccountStruct=(0,n.object)({...a.KeyringAccountStruct.schema,address:r.EthAddressStruct,type:(0,i.literal)(`${a.EthAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)((0,i.literal)(o.EthScope.Eoa))),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTransaction}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`]))}),r.EthErc4337AccountStruct=(0,n.object)({...a.KeyringAccountStruct.schema,address:r.EthAddressStruct,type:(0,i.literal)(`${a.EthAccountType.Erc4337}`),scopes:(0,i.nonempty)((0,i.array)(a.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)([`${c.PersonalSign}`,`${c.Sign}`,`${c.SignTypedDataV1}`,`${c.SignTypedDataV3}`,`${c.SignTypedDataV4}`,`${c.PrepareUserOperation}`,`${c.PatchUserOperation}`,`${c.SignUserOperation}`]))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/types.cjs"}],[2191,{"../api/index.cjs":2168},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEvmAccountType=function(e){return e===n.EthAccountType.Eoa||e===n.EthAccountType.Erc4337};const n=e("../api/index.cjs")}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/eth/utils.cjs"}],[2192,{"./api/index.cjs":2168,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccountAssetListUpdatedEventStruct=r.AccountTransactionsUpdatedEventStruct=r.AccountBalancesUpdatedEventStruct=r.RequestRejectedEventStruct=r.RequestApprovedEventStruct=r.AccountDeletedEventStruct=r.AccountUpdatedEventStruct=r.AccountCreatedEventStruct=r.KeyringEvent=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./api/index.cjs");var a;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(a||(r.KeyringEvent=a={})),r.AccountCreatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountCreated}`),params:(0,n.object)({account:o.KeyringAccountStruct,accountNameSuggestion:(0,n.exactOptional)((0,i.string)()),displayConfirmation:(0,n.exactOptional)((0,i.boolean)()),displayAccountNameSuggestion:(0,n.exactOptional)((0,i.boolean)()),...o.MetaMaskOptionsStruct.schema})}),r.AccountUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountUpdated}`),params:(0,n.object)({account:o.KeyringAccountStruct})}),r.AccountDeletedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountDeleted}`),params:(0,n.object)({id:n.UuidStruct})}),r.RequestApprovedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.RequestApproved}`),params:(0,n.object)({id:n.UuidStruct,result:s.JsonStruct})}),r.RequestRejectedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.RequestRejected}`),params:(0,n.object)({id:n.UuidStruct})}),r.AccountBalancesUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountBalancesUpdated}`),params:(0,n.object)({balances:(0,i.record)(n.AccountIdStruct,(0,i.record)(s.CaipAssetTypeStruct,o.FungibleAssetAmountStruct))})}),r.AccountTransactionsUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountTransactionsUpdated}`),params:(0,n.object)({transactions:(0,i.record)(n.AccountIdStruct,(0,i.array)(o.TransactionStruct))})}),r.AccountAssetListUpdatedEventStruct=(0,n.object)({method:(0,i.literal)(`${a.AccountAssetListUpdated}`),params:(0,n.object)({assets:(0,i.record)(n.AccountIdStruct,(0,n.object)({added:(0,i.array)(s.CaipAssetTypeOrIdStruct),removed:(0,i.array)(s.CaipAssetTypeOrIdStruct)}))})})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/events.cjs"}],[2193,{"./api/index.cjs":2168,"./btc/index.cjs":2184,"./eth/index.cjs":2189,"./events.cjs":2192,"./rpc.cjs":2194,"./sol/index.cjs":2196,"./trx/index.cjs":2199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./api/index.cjs"),r),i(e("./btc/index.cjs"),r),i(e("./sol/index.cjs"),r),i(e("./eth/index.cjs"),r),i(e("./trx/index.cjs"),r),i(e("./rpc.cjs"),r),i(e("./events.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/index.cjs"}],[2194,{"./api/index.cjs":2168,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RejectRequestResponseStruct=r.RejectRequestRequestStruct=r.ApproveRequestResponseStruct=r.ApproveRequestRequestStruct=r.SubmitRequestResponseStruct=r.SubmitRequestRequestStruct=r.GetRequestResponseStruct=r.GetRequestRequestStruct=r.ListRequestsResponseStruct=r.ListRequestsRequestStruct=r.ExportAccountResponseStruct=r.ExportAccountRequestStruct=r.DeleteAccountResponseStruct=r.DeleteAccountRequestStruct=r.UpdateAccountResponseStruct=r.UpdateAccountRequestStruct=r.FilterAccountChainsResponseStruct=r.FilterAccountChainsStruct=r.ResolveAccountAddressResponseStruct=r.ResolveAccountAddressRequestStruct=r.GetAccountBalancesResponseStruct=r.GetAccountBalancesRequestStruct=r.ListAccountAssetsResponseStruct=r.ListAccountAssetsRequestStruct=r.ListAccountTransactionsResponseStruct=r.ListAccountTransactionsRequestStruct=r.DiscoverAccountsResponseStruct=r.DiscoverAccountsRequestStruct=r.SetSelectedAccountsResponseStruct=r.SetSelectedAccountsRequestStruct=r.CreateAccountResponseStruct=r.CreateAccountRequestStruct=r.GetAccountResponseStruct=r.GetAccountRequestStruct=r.ListAccountsResponseStruct=r.ListAccountsRequestStruct=r.KeyringRpcMethod=void 0,r.isKeyringRpcMethod=function(e){return Object.values(a).includes(e)};const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("./api/index.cjs");var a;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest",e.SetSelectedAccounts="keyring_setSelectedAccounts"}(a||(r.KeyringRpcMethod=a={}));const c={jsonrpc:(0,i.literal)("2.0"),id:(0,i.union)([(0,i.string)(),(0,i.number)(),(0,i.literal)(null)])};r.ListAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccounts")}),r.ListAccountsResponseStruct=(0,i.array)(o.KeyringAccountStruct),r.GetAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_getAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.GetAccountResponseStruct=o.KeyringAccountStruct,r.CreateAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_createAccount"),params:(0,n.object)({options:(0,i.record)((0,i.string)(),s.JsonStruct)})}),r.CreateAccountResponseStruct=o.KeyringAccountStruct,r.SetSelectedAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_setSelectedAccounts"),params:(0,n.object)({accounts:(0,i.array)((0,i.string)())})}),r.SetSelectedAccountsResponseStruct=(0,i.literal)(null),r.DiscoverAccountsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_discoverAccounts"),params:(0,n.object)({scopes:(0,i.array)(o.CaipChainIdStruct),entropySource:(0,i.string)(),groupIndex:(0,i.number)()})}),r.DiscoverAccountsResponseStruct=(0,i.array)(o.DiscoveredAccountStruct),r.ListAccountTransactionsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccountTransactions"),params:(0,n.object)({id:n.UuidStruct,pagination:o.PaginationStruct})}),r.ListAccountTransactionsResponseStruct=o.TransactionsPageStruct,r.ListAccountAssetsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listAccountAssets"),params:(0,n.object)({id:n.UuidStruct})}),r.ListAccountAssetsResponseStruct=(0,i.array)(o.CaipAssetTypeOrIdStruct),r.GetAccountBalancesRequestStruct=(0,n.object)({...c,method:(0,i.literal)(`${a.GetAccountBalances}`),params:(0,n.object)({id:n.UuidStruct,assets:(0,i.array)(o.CaipAssetTypeStruct)})}),r.GetAccountBalancesResponseStruct=(0,i.record)(o.CaipAssetTypeStruct,o.BalanceStruct),r.ResolveAccountAddressRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_resolveAccountAddress"),params:(0,n.object)({scope:o.CaipChainIdStruct,request:n.JsonRpcRequestStruct})}),r.ResolveAccountAddressResponseStruct=(0,i.nullable)((0,n.object)({address:o.CaipAccountIdStruct})),r.FilterAccountChainsStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_filterAccountChains"),params:(0,n.object)({id:n.UuidStruct,chains:(0,i.array)((0,i.string)())})}),r.FilterAccountChainsResponseStruct=(0,i.array)((0,i.string)()),r.UpdateAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_updateAccount"),params:(0,n.object)({account:o.KeyringAccountStruct})}),r.UpdateAccountResponseStruct=(0,i.literal)(null),r.DeleteAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_deleteAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.DeleteAccountResponseStruct=(0,i.literal)(null),r.ExportAccountRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_exportAccount"),params:(0,n.object)({id:n.UuidStruct})}),r.ExportAccountResponseStruct=o.KeyringAccountDataStruct,r.ListRequestsRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_listRequests")}),r.ListRequestsResponseStruct=(0,i.array)(o.KeyringRequestStruct),r.GetRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_getRequest"),params:(0,n.object)({id:n.UuidStruct})}),r.GetRequestResponseStruct=o.KeyringRequestStruct,r.SubmitRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_submitRequest"),params:o.KeyringRequestStruct}),r.SubmitRequestResponseStruct=o.KeyringResponseStruct,r.ApproveRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_approveRequest"),params:(0,n.object)({id:n.UuidStruct,data:(0,i.record)((0,i.string)(),s.JsonStruct)})}),r.ApproveRequestResponseStruct=(0,i.literal)(null),r.RejectRequestRequestStruct=(0,n.object)({...c,method:(0,i.literal)("keyring_rejectRequest"),params:(0,n.object)({id:n.UuidStruct})}),r.RejectRequestResponseStruct=(0,i.literal)(null)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/rpc.cjs"}],[2195,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.SolScope=void 0,function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(n||(r.SolScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/constants.cjs"}],[2196,{"./constants.cjs":2195,"./types.cjs":2197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/index.cjs"}],[2197,{"../api/index.cjs":2168,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SolDataAccountStruct=r.SolMethod=r.SolAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../api/index.cjs");var a;r.SolAddressStruct=(0,s.definePattern)("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu),function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(a||(r.SolMethod=a={})),r.SolDataAccountStruct=(0,n.object)({...o.KeyringAccountStruct.schema,address:r.SolAddressStruct,type:(0,i.literal)(`${o.SolAccountType.DataAccount}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(a)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/sol/types.cjs"}],[2198,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.TrxScope=void 0,function(e){e.Mainnet="tron:728126428",e.Nile="tron:3448148188",e.Shasta="tron:2494104990"}(n||(r.TrxScope=n={}))}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/constants.cjs"}],[2199,{"./constants.cjs":2198,"./types.cjs":2200},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./constants.cjs"),r),i(e("./types.cjs"),r)}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/index.cjs"}],[2200,{"../api/index.cjs":2168,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TrxEoaAccountStruct=r.TrxMethod=r.TrxAddressStruct=void 0;const n=e("@metamask/keyring-utils"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../api/index.cjs");var a;r.TrxAddressStruct=(0,s.definePattern)("TrxAddress",/^T[1-9A-HJ-NP-Za-km-z]{33}$/iu),function(e){e.SignMessage="signMessage",e.SignTransaction="signTransaction",e.SignMessageV2="signMessageV2",e.VerifyMessageV2="verifyMessageV2"}(a||(r.TrxMethod=a={})),r.TrxEoaAccountStruct=(0,n.object)({...o.KeyringAccountStruct.schema,address:r.TrxAddressStruct,type:(0,i.literal)(`${o.TrxAccountType.Eoa}`),scopes:(0,i.nonempty)((0,i.array)(o.CaipChainIdStruct)),methods:(0,i.array)((0,i.enums)(Object.values(a)))})}}},{package:"@metamask/keyring-api",file:"node_modules/@metamask/keyring-api/dist/trx/types.cjs"}],[2201,{"./constants.cjs":2202,"@ethereumjs/util":697,"@metamask/base-controller":1362,"@metamask/eth-hd-keyring":1861,"@metamask/eth-sig-util":1993,"@metamask/eth-simple-keyring":2015,"@metamask/utils":3116,"async-mutex":3906,"ethereumjs-wallet":4352,lodash:4838,ulid:5694},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y,g,w,b,k,v,_,T,E,j,S,A,P,C,I,x,M,R,O,B,N,K,D,U,L,q,F,H=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),$=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),V=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&H(t,e,r);return $(t,e),t},G=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},W=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},z=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringController=r.getDefaultKeyringState=r.keyringBuilderFactory=r.SignTypedDataVersion=r.AccountImportStrategy=r.isCustodyKeyring=r.KeyringTypes=void 0;const J=e("@ethereumjs/util"),Y=e("@metamask/base-controller"),X=e("@metamask/eth-hd-keyring"),Q=e("@metamask/eth-sig-util"),Z=z(e("@metamask/eth-simple-keyring")),ee=e("@metamask/utils"),te=e("async-mutex"),re=V(e("ethereumjs-wallet")),ne=e("lodash"),ie=e("ulid"),se=e("./constants.cjs"),oe="KeyringController";var ae;!function(e){e.simple="Simple Key Pair",e.hd="HD Key Tree",e.qr="QR Hardware Wallet Device",e.trezor="Trezor Hardware",e.oneKey="OneKey Hardware",e.ledger="Ledger Hardware",e.lattice="Lattice Hardware",e.snap="Snap Keyring"}(ae||(r.KeyringTypes=ae={}));var ce,ue;function le(e){const t=()=>new e;return t.type=e.type,t}r.isCustodyKeyring=e=>e.startsWith("Custody"),function(e){e.privateKey="privateKey",e.json="json"}(ce||(r.AccountImportStrategy=ce={})),function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(ue||(r.SignTypedDataVersion=ue={})),r.keyringBuilderFactory=le;const de=[le(Z.default),le(X.HdKeyring)];function pe(e){if(!((0,ee.hasProperty)(e,"mnemonic")&&e.mnemonic instanceof Uint8Array))throw new Error("Can't get mnemonic bytes from keyring")}function he(e){if("string"!=typeof e)throw new Error(se.KeyringControllerError.WrongPasswordType);if(!e||!e.length)throw new Error(se.KeyringControllerError.InvalidEmptyPassword)}async function fe({keyring:e,metadata:t}){const r=await e.getAccounts();return{type:e.type,accounts:r.map(me),metadata:t}}function me(e){return function(e){return(0,ee.isStrictHexString)(e.toLowerCase())&&(0,ee.isValidHexAddress)(e)}(e)?(0,Q.normalize)(e):e}r.getDefaultKeyringState=()=>({isUnlocked:!1,keyrings:[]});class ye extends Y.BaseController{constructor(e){const{encryptor:t,keyringBuilders:p,messenger:h,state:f}=e;super({name:oe,metadata:{vault:{includeInStateLogs:!1,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1},isUnlocked:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!0,usedInUi:!0},keyrings:{includeInStateLogs:!0,persist:!1,includeInDebugSnapshot:!1,usedInUi:!0},encryptionKey:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1},encryptionSalt:{includeInStateLogs:!1,persist:!1,includeInDebugSnapshot:!1,usedInUi:!1}},messenger:h,state:{...(0,r.getDefaultKeyringState)(),...f}}),n.add(this),i.set(this,new te.Mutex),s.set(this,new te.Mutex),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),G(this,o,p?p.concat(de):de,"f"),G(this,a,t,"f"),G(this,c,[],"f"),G(this,u,[],"f"),W(this,n,"m",d).call(this)}async addNewAccount(e){return W(this,n,"m",K).call(this),W(this,n,"m",D).call(this,async()=>{const t=this.getKeyringsByType("HD Key Tree")[0];if(!t)throw new Error("No HD keyring found");const r=await t.getAccounts();if(e&&r.length!==e){if(e>r.length)throw new Error("Account out of sequence");const t=r[e];if(!t)throw new Error(`Can't find account at index ${e}`);return t}const[i]=await t.addAccounts(1);return await W(this,n,"m",b).call(this),i})}async addNewAccountForKeyring(e,t){return W(this,n,"m",K).call(this),W(this,n,"m",D).call(this,async()=>{const r=await W(this,n,"m",A).call(this);if(t&&r.length!==t){if(t>r.length)throw new Error("Account out of sequence");const e=r[t];return(0,ee.assertIsStrictHexString)(e),e}await e.addAccounts(1);const i=(await W(this,n,"m",A).call(this)).find(e=>!r.includes(e));return(0,ee.assertIsStrictHexString)(i),i})}async createNewVaultAndRestore(e,t){return W(this,n,"m",D).call(this,async()=>{he(e),await W(this,n,"m",y).call(this,e,{type:ae.hd,opts:{mnemonic:t,numberOfAccounts:1}})})}async createNewVaultAndKeychain(e){return W(this,n,"m",D).call(this,async()=>{(await W(this,n,"m",A).call(this)).length||await W(this,n,"m",y).call(this,e,{type:ae.hd})})}async addNewKeyring(e,t){return W(this,n,"m",K).call(this),W(this,n,"m",f).call(this,await W(this,n,"m",D).call(this,async()=>W(this,n,"m",C).call(this,e,t)))}async verifyPassword(e){if(!this.state.vault)throw new Error(se.KeyringControllerError.VaultError);await W(this,a,"f").decrypt(e,this.state.vault)}isUnlocked(){return this.state.isUnlocked}async exportSeedPhrase(e,t){W(this,n,"m",K).call(this),await this.verifyPassword(e);const r=W(this,n,"m",h).call(this,t);if(!r)throw new Error("Keyring not found");return pe(r),r.mnemonic}async exportAccount(e,t){await this.verifyPassword(e);const r=await this.getKeyringForAccount(t);if(!r.exportAccount)throw new Error(se.KeyringControllerError.UnsupportedExportAccount);return await r.exportAccount(me(t))}async getAccounts(){return W(this,n,"m",K).call(this),this.state.keyrings.reduce((e,t)=>e.concat(t.accounts),[])}async getEncryptionPublicKey(e,t){W(this,n,"m",K).call(this);const r=(0,Q.normalize)(e),i=await this.getKeyringForAccount(e);if(!i.getEncryptionPublicKey)throw new Error(se.KeyringControllerError.UnsupportedGetEncryptionPublicKey);return await i.getEncryptionPublicKey(r,t)}async decryptMessage(e){W(this,n,"m",K).call(this);const t=(0,Q.normalize)(e.from),r=await this.getKeyringForAccount(t);if(!r.decryptMessage)throw new Error(se.KeyringControllerError.UnsupportedDecryptMessage);return r.decryptMessage(t,e.data)}async getKeyringForAccount(e){W(this,n,"m",K).call(this);const t=me(e),r=await Promise.all(W(this,c,"f").map(async({keyring:e})=>Promise.all([e,e.getAccounts()]))),i=r.filter(e=>e[1].map(me).includes(t));if(i.length&&i[0]?.length)return i[0][0];let s="";throw r.length?i.length||(s="There are keyrings, but none match the address"):s="There are no keyrings",new Error(`${se.KeyringControllerError.NoKeyring}. Error info: ${s}`)}getKeyringsByType(e){return W(this,n,"m",K).call(this),W(this,c,"f").filter(({keyring:t})=>t.type===e).map(({keyring:e})=>e)}async persistAllKeyrings(){return W(this,n,"m",U).call(this,async()=>(W(this,n,"m",K).call(this),await W(this,n,"m",j).call(this),!0))}async importAccountWithStrategy(e,t){return W(this,n,"m",K).call(this),W(this,n,"m",D).call(this,async()=>{let r;switch(e){case ce.privateKey:const[n]=t;if(!n)throw new Error("Cannot import an empty key.");const i=(0,ee.add0x)(n);let s;try{s=(0,ee.hexToBytes)(i)}catch{throw new Error("Cannot import invalid private key.")}if(!(0,J.isValidPrivate)(s)||66!==(0,J.getBinarySize)(i))throw new Error("Cannot import invalid private key.");r=(0,ee.remove0x)(i);break;case ce.json:let o;const[a,c]=t;try{o=re.thirdparty.fromEtherWallet(a,c)}catch(e){o=o||await re.default.fromV3(a,c,!0)}r=(0,ee.bytesToHex)(o.getPrivateKey());break;default:throw new Error(`Unexpected import strategy: '${String(e)}'`)}const i=await W(this,n,"m",C).call(this,ae.simple,[r]);return(await i.getAccounts())[0]})}async removeAccount(e){W(this,n,"m",K).call(this),await W(this,n,"m",D).call(this,async()=>{const t=await this.getKeyringForAccount(e),r=0===this.state.keyrings.findIndex(t=>t.accounts.includes(e)),i=1===(await t.getAccounts()).length;if(r&&i)throw new Error(se.KeyringControllerError.LastAccountInPrimaryKeyring);if(!t.removeAccount)throw new Error(se.KeyringControllerError.UnsupportedRemoveAccount);t.removeAccount(e),i&&await W(this,n,"m",O).call(this)}),this.messenger.publish(`${oe}:accountRemoved`,e)}async setLocked(){return W(this,n,"m",K).call(this),W(this,n,"m",U).call(this,async()=>{G(this,l,undefined,"f"),await W(this,n,"m",x).call(this),this.update(e=>{e.isUnlocked=!1,e.keyrings=[],delete e.encryptionKey,delete e.encryptionSalt}),this.messenger.publish(`${oe}:lock`)})}async signMessage(e){if(W(this,n,"m",K).call(this),!e.data)throw new Error("Can't sign an empty message");const t=(0,Q.normalize)(e.from),r=await this.getKeyringForAccount(t);if(!r.signMessage)throw new Error(se.KeyringControllerError.UnsupportedSignMessage);return await r.signMessage(t,e.data)}async signEip7702Authorization(e){const t=(0,Q.normalize)(e.from),r=await this.getKeyringForAccount(t);if(!r.signEip7702Authorization)throw new Error(se.KeyringControllerError.UnsupportedSignEip7702Authorization);const{chainId:n,nonce:i}=e,s=(0,Q.normalize)(e.contractAddress);if(s===undefined)throw new Error(se.KeyringControllerError.MissingEip7702AuthorizationContractAddress);return await r.signEip7702Authorization(t,[n,s,i])}async signPersonalMessage(e){W(this,n,"m",K).call(this);const t=(0,Q.normalize)(e.from),r=await this.getKeyringForAccount(t);if(!r.signPersonalMessage)throw new Error(se.KeyringControllerError.UnsupportedSignPersonalMessage);const i=me(e.data);return await r.signPersonalMessage(t,i)}async signTypedMessage(e,t){W(this,n,"m",K).call(this);try{if(![ue.V1,ue.V3,ue.V4].includes(t))throw new Error(`Unexpected signTypedMessage version: '${t}'`);const r=(0,Q.normalize)(e.from),n=await this.getKeyringForAccount(r);if(!n.signTypedData)throw new Error(se.KeyringControllerError.UnsupportedSignTypedMessage);return await n.signTypedData(r,t!==ue.V1&&"string"==typeof e.data?JSON.parse(e.data):e.data,{version:t})}catch(e){throw new Error(`Keyring Controller signTypedMessage: ${e}`)}}async signTransaction(e,t,r){W(this,n,"m",K).call(this);const i=(0,Q.normalize)(t),s=await this.getKeyringForAccount(i);if(!s.signTransaction)throw new Error(se.KeyringControllerError.UnsupportedSignTransaction);return await s.signTransaction(i,e,r)}async prepareUserOperation(e,t,r){W(this,n,"m",K).call(this);const i=(0,Q.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.prepareUserOperation)throw new Error(se.KeyringControllerError.UnsupportedPrepareUserOperation);return await s.prepareUserOperation(i,t,r)}async patchUserOperation(e,t,r){W(this,n,"m",K).call(this);const i=(0,Q.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.patchUserOperation)throw new Error(se.KeyringControllerError.UnsupportedPatchUserOperation);return await s.patchUserOperation(i,t,r)}async signUserOperation(e,t,r){W(this,n,"m",K).call(this);const i=(0,Q.normalize)(e),s=await this.getKeyringForAccount(i);if(!s.signUserOperation)throw new Error(se.KeyringControllerError.UnsupportedSignUserOperation);return await s.signUserOperation(i,t,r)}changePassword(e){return W(this,n,"m",K).call(this),W(this,n,"m",D).call(this,async()=>{he(e),await W(this,n,"m",g).call(this,e,{ignoreExistingVault:!0})})}async submitEncryptionKey(e,t){const{newMetadata:r}=await W(this,n,"m",U).call(this,async()=>{const r=await W(this,n,"m",E).call(this,{encryptionKey:e,encryptionSalt:t});return W(this,n,"m",N).call(this),r});try{await W(this,n,"m",U).call(this,async()=>{r&&await W(this,n,"m",j).call(this)})}catch(e){console.error("Failed to update vault during login:",e)}}async exportEncryptionKey(){return W(this,n,"m",K).call(this),await W(this,n,"m",q).call(this,async()=>(function(e){if(!e)throw new Error(se.KeyringControllerError.EncryptionKeyNotSet)}(W(this,l,"f")?.serialized),W(this,l,"f").serialized))}async submitPassword(e){const{newMetadata:t}=await W(this,n,"m",U).call(this,async()=>{const t=await W(this,n,"m",E).call(this,{password:e});return W(this,n,"m",N).call(this),t});try{await W(this,n,"m",U).call(this,async()=>{(t||W(this,n,"m",S).call(this))&&(await W(this,n,"m",g).call(this,e,{ignoreExistingVault:!0}),await W(this,n,"m",j).call(this))})}catch(e){console.error("Failed to update vault during login:",e)}}async verifySeedPhrase(e){return W(this,n,"m",K).call(this),W(this,n,"m",q).call(this,async()=>W(this,n,"m",b).call(this,e))}async withKeyring(e,t,r={createIfMissing:!1}){return W(this,n,"m",K).call(this),W(this,n,"m",D).call(this,async()=>{let i;if("address"in e?i=await this.getKeyringForAccount(e.address):"type"in e?(i=this.getKeyringsByType(e.type)[e.index||0],!i&&r.createIfMissing&&(i=await W(this,n,"m",C).call(this,e.type,r.createWithData))):"id"in e&&(i=W(this,n,"m",p).call(this,e.id)),!i)throw new Error(se.KeyringControllerError.KeyringNotFound);const s=await t({keyring:i,metadata:W(this,n,"m",f).call(this,i)});if(Object.is(s,i))throw new Error(se.KeyringControllerError.UnsafeDirectKeyringAccess);return s})}async getAccountKeyringType(e){W(this,n,"m",K).call(this);return(await this.getKeyringForAccount(e)).type}}async function ge(e,t){const r=await e.acquire();try{return await t({releaseLock:r})}finally{r()}}function we(){return{id:(0,ie.ulid)(),name:""}}r.KeyringController=ye,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,n=new WeakSet,d=function(){this.messenger.registerActionHandler(`${oe}:signMessage`,this.signMessage.bind(this)),this.messenger.registerActionHandler(`${oe}:signEip7702Authorization`,this.signEip7702Authorization.bind(this)),this.messenger.registerActionHandler(`${oe}:signPersonalMessage`,this.signPersonalMessage.bind(this)),this.messenger.registerActionHandler(`${oe}:signTypedMessage`,this.signTypedMessage.bind(this)),this.messenger.registerActionHandler(`${oe}:decryptMessage`,this.decryptMessage.bind(this)),this.messenger.registerActionHandler(`${oe}:getEncryptionPublicKey`,this.getEncryptionPublicKey.bind(this)),this.messenger.registerActionHandler(`${oe}:getAccounts`,this.getAccounts.bind(this)),this.messenger.registerActionHandler(`${oe}:getKeyringsByType`,this.getKeyringsByType.bind(this)),this.messenger.registerActionHandler(`${oe}:getKeyringForAccount`,this.getKeyringForAccount.bind(this)),this.messenger.registerActionHandler(`${oe}:persistAllKeyrings`,this.persistAllKeyrings.bind(this)),this.messenger.registerActionHandler(`${oe}:prepareUserOperation`,this.prepareUserOperation.bind(this)),this.messenger.registerActionHandler(`${oe}:patchUserOperation`,this.patchUserOperation.bind(this)),this.messenger.registerActionHandler(`${oe}:signUserOperation`,this.signUserOperation.bind(this)),this.messenger.registerActionHandler(`${oe}:addNewAccount`,this.addNewAccount.bind(this)),this.messenger.registerActionHandler(`${oe}:withKeyring`,this.withKeyring.bind(this)),this.messenger.registerActionHandler(`${oe}:addNewKeyring`,this.addNewKeyring.bind(this)),this.messenger.registerActionHandler(`${oe}:createNewVaultAndKeychain`,this.createNewVaultAndKeychain.bind(this)),this.messenger.registerActionHandler(`${oe}:createNewVaultAndRestore`,this.createNewVaultAndRestore.bind(this))},p=function(e){return W(this,c,"f").find(({metadata:t})=>t.id===e)?.keyring},h=function(e){return e?W(this,n,"m",p).call(this,e):W(this,c,"f")[0]?.keyring},f=function(e){const t=W(this,c,"f").find(t=>t.keyring===e);if(!t)throw new Error(se.KeyringControllerError.KeyringNotFound);return t.metadata},m=function(e){return W(this,o,"f").find(t=>t.type===e)},y=async function(e,t){if(W(this,n,"m",L).call(this),"string"!=typeof e)throw new TypeError(se.KeyringControllerError.WrongPasswordType);this.update(e=>{delete e.encryptionKey,delete e.encryptionSalt}),await W(this,n,"m",g).call(this,e,{ignoreExistingVault:!0}),await W(this,n,"m",x).call(this),await W(this,n,"m",P).call(this,t.type,t.opts),W(this,n,"m",N).call(this)},g=async function(e,t={ignoreExistingVault:!1}){W(this,n,"m",L).call(this);const{vault:r}=this.state;if("string"!=typeof e)throw new TypeError(se.KeyringControllerError.WrongPasswordType);let i,s;if(r&&!t.ignoreExistingVault){const{exportedKeyString:t,salt:n}=await W(this,a,"f").decryptWithDetail(e,r);i=t,s=n}else s=W(this,a,"f").generateSalt(),i=await W(this,a,"f").exportKey(await W(this,a,"f").keyFromPassword(e,s,!0));G(this,l,{salt:s,serialized:i},"f")},w=function(e,t){if(W(this,n,"m",L).call(this),"string"!=typeof e||"string"!=typeof t)throw new TypeError(se.KeyringControllerError.WrongEncryptionKeyType);const{vault:r}=this.state;if(r&&JSON.parse(r).salt!==t)throw new Error(se.KeyringControllerError.ExpiredCredentials);G(this,l,{salt:t,serialized:e},"f")},b=async function(e){W(this,n,"m",L).call(this);const t=W(this,n,"m",h).call(this,e);if(!t)throw new Error(se.KeyringControllerError.KeyringNotFound);if(t.type!==ae.hd)throw new Error(se.KeyringControllerError.UnsupportedVerifySeedPhrase);pe(t);const r=t.mnemonic,i=await t.getAccounts();if(0===i.length)throw new Error("Cannot verify an empty keyring.");const s=W(this,n,"m",m).call(this,ae.hd)();await s.deserialize({mnemonic:r,numberOfAccounts:i.length});const o=await s.getAccounts();if(o.length!==i.length)throw new Error("Seed phrase imported incorrect number of accounts.");return o.forEach((e,t)=>{if(e.toLowerCase()!==i[t].toLowerCase())throw new Error("Seed phrase imported different accounts.")}),r},k=async function(){return Promise.all(W(this,c,"f").map(fe))},v=async function({includeUnsupported:e}={includeUnsupported:!0}){const t=await Promise.all(W(this,c,"f").map(async({keyring:e,metadata:t})=>({type:e.type,data:await e.serialize(),metadata:t})));return e&&t.push(...W(this,u,"f")),t},_=async function(){return{keyrings:await W(this,n,"m",v).call(this),encryptionKey:W(this,l,"f")}},T=async function(e){await W(this,n,"m",x).call(this);const t=[];let r=!1;for(const i of e){const e=await W(this,n,"m",M).call(this,i);if(e){const{keyring:n,metadata:i}=e;t.push({keyring:n,metadata:i}),e.newMetadata&&(r=!0)}}return{keyrings:t,newMetadata:r}},E=async function(e){return W(this,n,"m",F).call(this,async()=>{if(!this.state.vault)throw new Error(se.KeyringControllerError.VaultError);const t=JSON.parse(this.state.vault);"password"in e?await W(this,n,"m",g).call(this,e.password):W(this,n,"m",w).call(this,e.encryptionKey,e.encryptionSalt||t.salt);const r=W(this,l,"f")?.serialized;if(!r)throw new Error(se.KeyringControllerError.MissingCredentials);const i=await W(this,a,"f").importKey(r),s=await W(this,a,"f").decryptWithKey(i,t);if("object"!=typeof(o=s)||!Array.isArray(o)||!o.every(e=>e.type&&(0,ee.isValidJson)(e.data)))throw new Error(se.KeyringControllerError.VaultDataError);var o;const{keyrings:c,newMetadata:u}=await W(this,n,"m",T).call(this,s),d=await W(this,n,"m",k).call(this);return this.update(e=>{e.keyrings=d,e.encryptionKey=r,e.encryptionSalt=W(this,l,"f")?.salt}),{keyrings:c,newMetadata:u}})},j=function(){return W(this,n,"m",F).call(this,async()=>{if(await W(this,n,"m",B).call(this),!W(this,l,"f"))throw new Error(se.KeyringControllerError.MissingCredentials);const e=await W(this,n,"m",v).call(this);if(!e.some(e=>e.type===ae.hd))throw new Error(se.KeyringControllerError.NoHdKeyring);const t=await W(this,a,"f").importKey(W(this,l,"f").serialized),r=await W(this,a,"f").encryptWithKey(t,e);r.salt=W(this,l,"f").salt;const i={vault:JSON.stringify(r),encryptionKey:W(this,l,"f").serialized,encryptionSalt:W(this,l,"f").salt},s=await W(this,n,"m",k).call(this);return this.update(e=>{e.vault=i.vault,e.keyrings=s,e.encryptionKey=i.encryptionKey,e.encryptionSalt=i.encryptionSalt}),!0})},S=function(){const{vault:e}=this.state;return!(!e||!W(this,a,"f").isVaultUpdated)&&!W(this,a,"f").isVaultUpdated(e)},A=async function(e=[]){const t=W(this,c,"f").map(({keyring:e})=>e);return(await Promise.all([...t,...e].map(async e=>e.getAccounts()))).reduce((e,t)=>e.concat(t),[]).map(me)},P=async function(e,t){W(this,n,"m",L).call(this);const r=await W(this,n,"m",C).call(this,e,t),[i]=await r.getAccounts();if(!i)throw new Error(se.KeyringControllerError.NoFirstAccount);return i},C=async function(e,t){const r=await W(this,n,"m",I).call(this,e,t);return W(this,c,"f").push({keyring:r,metadata:we()}),r},I=async function(e,t){W(this,n,"m",L).call(this);const r=W(this,n,"m",m).call(this,e);if(!r)throw new Error(`${se.KeyringControllerError.NoKeyringBuilder}. Keyring type: ${e}`);const i=r();if(t&&await i.deserialize(t),i.init&&await i.init(),!(e!==ae.hd||(0,ee.isObject)(t)&&t.mnemonic)){if(!i.generateRandomMnemonic)throw new Error(se.KeyringControllerError.UnsupportedGenerateRandomMnemonic);await i.generateRandomMnemonic(),await i.addAccounts(1)}return i},x=async function(){W(this,n,"m",L).call(this);for(const{keyring:e}of W(this,c,"f"))await W(this,n,"m",R).call(this,e);G(this,c,[],"f"),G(this,u,[],"f")},M=async function(e){W(this,n,"m",L).call(this);try{const{type:t,data:r,metadata:i}=e;let s=!1,o=i;const a=await W(this,n,"m",I).call(this,t,r);return await W(this,n,"m",B).call(this,[a]),o||(s=!0,o=we()),W(this,c,"f").push({keyring:a,metadata:o}),{keyring:a,metadata:o,newMetadata:s}}catch(t){return console.error(t),W(this,u,"f").push(e),undefined}},R=async function(e){await(e.destroy?.())},O=async function(){W(this,n,"m",L).call(this);const e=[];await Promise.all(W(this,c,"f").map(async({keyring:t,metadata:r})=>{(await t.getAccounts()).length>0?e.push({keyring:t,metadata:r}):await W(this,n,"m",R).call(this,t)})),G(this,c,e,"f")},B=async function(e=[]){const t=await W(this,n,"m",A).call(this,e);if(new Set(t).size!==t.length)throw new Error(se.KeyringControllerError.DuplicatedAccount)},N=function(){W(this,n,"m",L).call(this),this.update(e=>{e.isUnlocked=!0}),this.messenger.publish(`${oe}:unlock`)},K=function(){if(!this.state.isUnlocked)throw new Error(se.KeyringControllerError.ControllerLocked)},D=async function(e){return W(this,n,"m",U).call(this,async({releaseLock:t})=>{const r=JSON.stringify(await W(this,n,"m",_).call(this)),i=await e({releaseLock:t}),s=JSON.stringify(await W(this,n,"m",_).call(this));return(0,ne.isEqual)(r,s)||await W(this,n,"m",j).call(this),i})},U=async function(e){return W(this,n,"m",q).call(this,async({releaseLock:t})=>{const r=await W(this,n,"m",v).call(this),i=(0,ne.cloneDeep)(W(this,l,"f"));try{return await e({releaseLock:t})}catch(e){throw G(this,l,i,"f"),await W(this,n,"m",T).call(this,r),e}})},L=function(){if(!W(this,i,"f").isLocked())throw new Error(se.KeyringControllerError.ControllerLockRequired)},q=async function(e){return ge(W(this,i,"f"),e)},F=async function(e){return W(this,n,"m",L).call(this),ge(W(this,s,"f"),e)},r.default=ye}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/KeyringController.cjs"}],[2202,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringControllerError=void 0,function(e){e.NoKeyring="KeyringController - No keyring found",e.KeyringNotFound="KeyringController - Keyring not found.",e.UnsafeDirectKeyringAccess="KeyringController - Returning keyring instances is unsafe",e.WrongPasswordType="KeyringController - Password must be of type string.",e.WrongEncryptionKeyType="KeyringController - Encryption key must be of type string.",e.InvalidEmptyPassword="KeyringController - Password cannot be empty.",e.NoFirstAccount="KeyringController - First Account not found.",e.DuplicatedAccount="KeyringController - The account you are trying to import is a duplicate",e.VaultError="KeyringController - Cannot unlock without a previous vault.",e.VaultDataError="KeyringController - The decrypted vault has an unexpected shape.",e.UnsupportedEncryptionKeyExport="KeyringController - The encryptor does not support encryption key export.",e.UnsupportedGenerateRandomMnemonic="KeyringController - The current keyring does not support the method generateRandomMnemonic.",e.UnsupportedExportAccount="`KeyringController - The keyring for the current address does not support the method exportAccount",e.UnsupportedRemoveAccount="`KeyringController - The keyring for the current address does not support the method removeAccount",e.UnsupportedSignTransaction="KeyringController - The keyring for the current address does not support the method signTransaction.",e.UnsupportedSignMessage="KeyringController - The keyring for the current address does not support the method signMessage.",e.UnsupportedSignPersonalMessage="KeyringController - The keyring for the current address does not support the method signPersonalMessage.",e.UnsupportedSignEip7702Authorization="KeyringController - The keyring for the current address does not support the method signEip7702Authorization.",e.UnsupportedGetEncryptionPublicKey="KeyringController - The keyring for the current address does not support the method getEncryptionPublicKey.",e.UnsupportedDecryptMessage="KeyringController - The keyring for the current address does not support the method decryptMessage.",e.UnsupportedSignTypedMessage="KeyringController - The keyring for the current address does not support the method signTypedMessage.",e.UnsupportedGetAppKeyAddress="KeyringController - The keyring for the current address does not support the method getAppKeyAddress.",e.UnsupportedExportAppKeyForAddress="KeyringController - The keyring for the current address does not support the method exportAppKeyForAddress.",e.UnsupportedPrepareUserOperation="KeyringController - The keyring for the current address does not support the method prepareUserOperation.",e.UnsupportedPatchUserOperation="KeyringController - The keyring for the current address does not support the method patchUserOperation.",e.UnsupportedSignUserOperation="KeyringController - The keyring for the current address does not support the method signUserOperation.",e.UnsupportedVerifySeedPhrase="KeyringController - The keyring does not support the method verifySeedPhrase.",e.MissingEip7702AuthorizationContractAddress="KeyringController - The EIP-7702 Authorization is invalid. No contract address provided.",e.NoAccountOnKeychain="KeyringController - The keychain doesn't have accounts.",e.ControllerLocked="KeyringController - The operation cannot be completed while the controller is locked.",e.MissingCredentials="KeyringController - Cannot persist vault without password and encryption key",e.MissingVaultData="KeyringController - Cannot persist vault without vault information",e.ExpiredCredentials="KeyringController - Encryption key and salt provided are expired",e.NoKeyringBuilder="KeyringController - No keyringBuilder found for keyring",e.DataType="KeyringController - Incorrect data type provided",e.NoHdKeyring="KeyringController - No HD Keyring found",e.ControllerLockRequired="KeyringController - attempt to update vault during a non mutually exclusive operation",e.LastAccountInPrimaryKeyring="KeyringController - Last account in primary keyring cannot be removed",e.EncryptionKeyNotSet="KeyringController - Encryption key not set"}(n||(r.KeyringControllerError=n={}))}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/constants.cjs"}],[2203,{"./KeyringController.cjs":2201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./KeyringController.cjs"),r)}}},{package:"@metamask/keyring-controller",file:"node_modules/@metamask/keyring-controller/dist/index.cjs"}],[2204,{"./v1.cjs":2205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./v1.cjs"),r)}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/compatibility/index.cjs"}],[2205,{"@metamask/keyring-api":2193,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SubmitRequestResponseV1Struct=r.KeyringResponseV1Struct=r.KeyringRequestV1Struct=void 0,r.toKeyringRequestV1=function(e){const{origin:t,...r}=e;return r};const n=e("@metamask/keyring-api"),i=e("@metamask/superstruct");r.KeyringRequestV1Struct=(0,i.omit)(n.KeyringRequestStruct,["origin"]),r.KeyringResponseV1Struct=n.KeyringResponseStruct,r.SubmitRequestResponseV1Struct=r.KeyringResponseV1Struct}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/compatibility/v1.cjs"}],[2206,{"./compatibility/index.cjs":2204,"./types.cjs":2207,"./versions.cjs":2208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./compatibility/index.cjs"),r),i(e("./types.cjs"),r),i(e("./versions.cjs"),r)}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/index.cjs"}],[2207,{"@metamask/keyring-api":2193,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InternalAccountStruct=r.InternalAccountStructs=r.InternalTrxEoaAccountStruct=r.InternalSolDataAccountStruct=r.InternalBtcP2trAccountStruct=r.InternalBtcP2wpkhAccountStruct=r.InternalBtcP2shAccountStruct=r.InternalBtcP2pkhAccountStruct=r.InternalEthErc4337AccountStruct=r.InternalEthEoaAccountStruct=r.InternalAccountMetadataStruct=void 0;const n=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct");r.InternalAccountMetadataStruct=(0,i.object)({metadata:(0,i.object)({name:(0,s.string)(),nameLastUpdatedAt:(0,i.exactOptional)((0,s.number)()),snap:(0,i.exactOptional)((0,i.object)({id:(0,s.string)(),enabled:(0,s.boolean)(),name:(0,s.string)()})),lastSelected:(0,i.exactOptional)((0,s.number)()),importTime:(0,s.number)(),keyring:(0,i.object)({type:(0,s.string)()})})}),r.InternalEthEoaAccountStruct=(0,i.object)({...n.EthEoaAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalEthErc4337AccountStruct=(0,i.object)({...n.EthErc4337AccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalBtcP2pkhAccountStruct=(0,i.object)({...n.BtcP2pkhAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalBtcP2shAccountStruct=(0,i.object)({...n.BtcP2shAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalBtcP2wpkhAccountStruct=(0,i.object)({...n.BtcP2wpkhAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalBtcP2trAccountStruct=(0,i.object)({...n.BtcP2trAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalSolDataAccountStruct=(0,i.object)({...n.SolDataAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalTrxEoaAccountStruct=(0,i.object)({...n.TrxEoaAccountStruct.schema,...r.InternalAccountMetadataStruct.schema}),r.InternalAccountStructs={[`${n.EthAccountType.Eoa}`]:r.InternalEthEoaAccountStruct,[`${n.EthAccountType.Erc4337}`]:r.InternalEthErc4337AccountStruct,[`${n.BtcAccountType.P2pkh}`]:r.InternalBtcP2pkhAccountStruct,[`${n.BtcAccountType.P2sh}`]:r.InternalBtcP2shAccountStruct,[`${n.BtcAccountType.P2wpkh}`]:r.InternalBtcP2wpkhAccountStruct,[`${n.BtcAccountType.P2tr}`]:r.InternalBtcP2trAccountStruct,[`${n.SolAccountType.DataAccount}`]:r.InternalSolDataAccountStruct,[`${n.TrxAccountType.Eoa}`]:r.InternalTrxEoaAccountStruct},r.InternalAccountStruct=(0,i.object)({...n.KeyringAccountStruct.schema,...r.InternalAccountMetadataStruct.schema})}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/types.cjs"}],[2208,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringVersion=void 0,function(e){e.V1="v1",e.V2="v2"}(n||(r.KeyringVersion=n={}))}}},{package:"@metamask/keyring-internal-api",file:"node_modules/@metamask/keyring-internal-api/dist/versions.cjs"}],[2209,{"@metamask/keyring-api":2193,"@metamask/keyring-internal-api":2206,"@metamask/keyring-snap-client":2214,"@metamask/keyring-utils":2239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringInternalSnapClient=void 0;const l=e("@metamask/keyring-api"),d=e("@metamask/keyring-internal-api"),p=e("@metamask/keyring-snap-client"),h=e("@metamask/keyring-utils");class f{constructor(e,t,r,a){n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),c(this,s,e,"f"),c(this,n,t,"f"),c(this,i,r,"f"),c(this,o,a,"f")}async send(e){return u(this,s,"f").call("SnapController:handleRequest",{snapId:u(this,n,"f"),origin:u(this,i,"f"),handler:u(this,o,"f"),request:e})}}n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap;class m extends p.KeyringClient{constructor({messenger:e,snapId:t="undefined",origin:r="metamask",handler:n="onKeyringRequest"}){super(new f(e,t,r,n)),a.set(this,void 0),c(this,a,e,"f")}withSnapId(e){return new m({messenger:u(this,a,"f"),snapId:e})}async submitRequestV1(e){return(0,h.strictMask)(await this.send({method:l.KeyringRpcMethod.SubmitRequest,params:e}),d.SubmitRequestResponseV1Struct)}}r.KeyringInternalSnapClient=m,a=new WeakMap}}},{package:"@metamask/keyring-internal-snap-client",file:"node_modules/@metamask/keyring-internal-snap-client/dist/KeyringInternalSnapClient.cjs"}],[2210,{"./KeyringInternalSnapClient.cjs":2209},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./KeyringInternalSnapClient.cjs"),r)}}},{package:"@metamask/keyring-internal-snap-client",file:"node_modules/@metamask/keyring-internal-snap-client/dist/index.cjs"}],[2211,{"@metamask/keyring-api":2193,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936,uuid:2215},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringClient=void 0;const o=e("@metamask/keyring-api"),a=e("@metamask/keyring-utils"),c=e("@metamask/superstruct"),u=e("uuid");r.KeyringClient=class{constructor(e){n.set(this,void 0),i(this,n,e,"f")}async send(e){return s(this,n,"f").send({jsonrpc:"2.0",id:(0,u.v4)(),...e})}async listAccounts(){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ListAccounts}),o.ListAccountsResponseStruct)}async getAccount(e){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.GetAccount,params:{id:e}}),o.GetAccountResponseStruct)}async getAccountBalances(e,t){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.GetAccountBalances,params:{id:e,assets:t}}),o.GetAccountBalancesResponseStruct)}async createAccount(e={}){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.CreateAccount,params:{options:e}}),o.CreateAccountResponseStruct)}async discoverAccounts(e,t,r){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.DiscoverAccounts,params:{scopes:e,entropySource:t,groupIndex:r}}),o.DiscoverAccountsResponseStruct)}async listAccountTransactions(e,t){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ListAccountTransactions,params:{id:e,pagination:t}}),o.ListAccountTransactionsResponseStruct)}async listAccountAssets(e){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ListAccountAssets,params:{id:e}}),o.ListAccountAssetsResponseStruct)}async resolveAccountAddress(e,t){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ResolveAccountAddress,params:{scope:e,request:t}}),o.ResolveAccountAddressResponseStruct)}async setSelectedAccounts(e){(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.SetSelectedAccounts,params:{accounts:e}}),o.SetSelectedAccountsResponseStruct)}async filterAccountChains(e,t){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.FilterAccountChains,params:{id:e,chains:t}}),o.FilterAccountChainsResponseStruct)}async updateAccount(e){(0,c.assert)(await this.send({method:o.KeyringRpcMethod.UpdateAccount,params:{account:e}}),o.UpdateAccountResponseStruct)}async deleteAccount(e){(0,c.assert)(await this.send({method:o.KeyringRpcMethod.DeleteAccount,params:{id:e}}),o.DeleteAccountResponseStruct)}async exportAccount(e){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ExportAccount,params:{id:e}}),o.ExportAccountResponseStruct)}async listRequests(){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.ListRequests}),o.ListRequestsResponseStruct)}async getRequest(e){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.GetRequest,params:{id:e}}),o.GetRequestResponseStruct)}async submitRequest(e){return(0,a.strictMask)(await this.send({method:o.KeyringRpcMethod.SubmitRequest,params:e}),o.SubmitRequestResponseStruct)}async approveRequest(e,t={}){(0,c.assert)(await this.send({method:o.KeyringRpcMethod.ApproveRequest,params:{id:e,data:t}}),o.ApproveRequestResponseStruct)}async rejectRequest(e){(0,c.assert)(await this.send({method:o.KeyringRpcMethod.RejectRequest,params:{id:e}}),o.RejectRequestResponseStruct)}},n=new WeakMap}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringClient.cjs"}],[2212,{"./KeyringClient.cjs":2211,"@metamask/keyring-api":2193},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringPublicClient=r.KeyringPublicRpcMethod=void 0;const o=e("@metamask/keyring-api"),a=e("./KeyringClient.cjs");r.KeyringPublicRpcMethod=[o.KeyringRpcMethod.CreateAccount,o.KeyringRpcMethod.GetAccount,o.KeyringRpcMethod.UpdateAccount,o.KeyringRpcMethod.DeleteAccount,o.KeyringRpcMethod.ExportAccount,o.KeyringRpcMethod.ListAccounts,o.KeyringRpcMethod.FilterAccountChains,o.KeyringRpcMethod.GetRequest,o.KeyringRpcMethod.ApproveRequest,o.KeyringRpcMethod.RejectRequest,o.KeyringRpcMethod.ListRequests];r.KeyringPublicClient=class{constructor(e){n.set(this,void 0),i(this,n,new a.KeyringClient(e),"f")}async createAccount(e){return s(this,n,"f").createAccount(e)}async deleteAccount(e){return s(this,n,"f").deleteAccount(e)}async listAccounts(){return s(this,n,"f").listAccounts()}async getAccount(e){return s(this,n,"f").getAccount(e)}async getRequest(e){return s(this,n,"f").getRequest(e)}async listRequests(){return s(this,n,"f").listRequests()}async updateAccount(e){return s(this,n,"f").updateAccount(e)}async approveRequest(e,t){return s(this,n,"f").approveRequest(e,t)}async rejectRequest(e){return s(this,n,"f").rejectRequest(e)}async filterAccountChains(e,t){return s(this,n,"f").filterAccountChains(e,t)}async exportAccount(e){return s(this,n,"f").exportAccount(e)}},n=new WeakMap}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringPublicClient.cjs"}],[2213,{"./KeyringPublicClient.cjs":2212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.KeyringSnapRpcClient=r.SnapRpcSender=void 0;const a=e("./KeyringPublicClient.cjs");class c{constructor(e,t){n.set(this,void 0),i.set(this,void 0),s(this,n,e,"f"),s(this,i,t,"f")}async send(e){return o(this,i,"f").request({method:"wallet_invokeKeyring",params:{snapId:o(this,n,"f"),request:e}})}}r.SnapRpcSender=c,n=new WeakMap,i=new WeakMap;class u extends a.KeyringPublicClient{constructor(e,t){super(new c(e,t))}}r.KeyringSnapRpcClient=u}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/KeyringSnapRpcClient.cjs"}],[2214,{"./KeyringClient.cjs":2211,"./KeyringPublicClient.cjs":2212,"./KeyringSnapRpcClient.cjs":2213},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./KeyringClient.cjs"),r),i(e("./KeyringSnapRpcClient.cjs"),r),i(e("./KeyringPublicClient.cjs"),r)}}},{package:"@metamask/keyring-snap-client",file:"node_modules/@metamask/keyring-snap-client/dist/index.cjs"}],[2215,{"./nil.js":2218,"./parse.js":2219,"./stringify.js":2223,"./v1.js":2224,"./v3.js":2225,"./v4.js":2227,"./v5.js":2228,"./validate.js":2229,"./version.js":2230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return c.default}});var n=p(e("./v1.js")),i=p(e("./v3.js")),s=p(e("./v4.js")),o=p(e("./v5.js")),a=p(e("./nil.js")),c=p(e("./version.js")),u=p(e("./validate.js")),l=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/index.js"}],[2216,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t,r,n,s,o){return i((a=i(i(t,e),i(n,o)))<<(c=s)|a>>>32-c,r);var a,c}function o(e,t,r,n,i,o,a){return s(t&r|~t&n,e,t,i,o,a)}function a(e,t,r,n,i,o,a){return s(t&n|r&~n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return s(t^r^n,e,t,i,o,a)}function u(e,t,r,n,i,o,a){return s(r^(t|~n),e,t,i,o,a)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,s=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const n=r,p=s,h=l,f=d;r=o(r,s,l,d,e[t],7,-680876936),d=o(d,r,s,l,e[t+1],12,-389564586),l=o(l,d,r,s,e[t+2],17,606105819),s=o(s,l,d,r,e[t+3],22,-1044525330),r=o(r,s,l,d,e[t+4],7,-176418897),d=o(d,r,s,l,e[t+5],12,1200080426),l=o(l,d,r,s,e[t+6],17,-1473231341),s=o(s,l,d,r,e[t+7],22,-45705983),r=o(r,s,l,d,e[t+8],7,1770035416),d=o(d,r,s,l,e[t+9],12,-1958414417),l=o(l,d,r,s,e[t+10],17,-42063),s=o(s,l,d,r,e[t+11],22,-1990404162),r=o(r,s,l,d,e[t+12],7,1804603682),d=o(d,r,s,l,e[t+13],12,-40341101),l=o(l,d,r,s,e[t+14],17,-1502002290),s=o(s,l,d,r,e[t+15],22,1236535329),r=a(r,s,l,d,e[t+1],5,-165796510),d=a(d,r,s,l,e[t+6],9,-1069501632),l=a(l,d,r,s,e[t+11],14,643717713),s=a(s,l,d,r,e[t],20,-373897302),r=a(r,s,l,d,e[t+5],5,-701558691),d=a(d,r,s,l,e[t+10],9,38016083),l=a(l,d,r,s,e[t+15],14,-660478335),s=a(s,l,d,r,e[t+4],20,-405537848),r=a(r,s,l,d,e[t+9],5,568446438),d=a(d,r,s,l,e[t+14],9,-1019803690),l=a(l,d,r,s,e[t+3],14,-187363961),s=a(s,l,d,r,e[t+8],20,1163531501),r=a(r,s,l,d,e[t+13],5,-1444681467),d=a(d,r,s,l,e[t+2],9,-51403784),l=a(l,d,r,s,e[t+7],14,1735328473),s=a(s,l,d,r,e[t+12],20,-1926607734),r=c(r,s,l,d,e[t+5],4,-378558),d=c(d,r,s,l,e[t+8],11,-2022574463),l=c(l,d,r,s,e[t+11],16,1839030562),s=c(s,l,d,r,e[t+14],23,-35309556),r=c(r,s,l,d,e[t+1],4,-1530992060),d=c(d,r,s,l,e[t+4],11,1272893353),l=c(l,d,r,s,e[t+7],16,-155497632),s=c(s,l,d,r,e[t+10],23,-1094730640),r=c(r,s,l,d,e[t+13],4,681279174),d=c(d,r,s,l,e[t],11,-358537222),l=c(l,d,r,s,e[t+3],16,-722521979),s=c(s,l,d,r,e[t+6],23,76029189),r=c(r,s,l,d,e[t+9],4,-640364487),d=c(d,r,s,l,e[t+12],11,-421815835),l=c(l,d,r,s,e[t+15],16,530742520),s=c(s,l,d,r,e[t+2],23,-995338651),r=u(r,s,l,d,e[t],6,-198630844),d=u(d,r,s,l,e[t+7],10,1126891415),l=u(l,d,r,s,e[t+14],15,-1416354905),s=u(s,l,d,r,e[t+5],21,-57434055),r=u(r,s,l,d,e[t+12],6,1700485571),d=u(d,r,s,l,e[t+3],10,-1894986606),l=u(l,d,r,s,e[t+10],15,-1051523),s=u(s,l,d,r,e[t+1],21,-2054922799),r=u(r,s,l,d,e[t+8],6,1873313359),d=u(d,r,s,l,e[t+15],10,-30611744),l=u(l,d,r,s,e[t+6],15,-1560198380),s=u(s,l,d,r,e[t+13],21,1309151649),r=u(r,s,l,d,e[t+4],6,-145523070),d=u(d,r,s,l,e[t+11],10,-1120210379),l=u(l,d,r,s,e[t+2],15,718787259),s=u(s,l,d,r,e[t+9],21,-343485551),r=i(r,n),s=i(s,p),l=i(l,h),d=i(d,f)}return[r,s,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};r.default=l}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/md5-browser.js"}],[2217,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};r.default=n}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/native-browser.js"}],[2218,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="00000000-0000-0000-0000-000000000000"}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/nil.js"}],[2219,{"./validate.js":2229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};r.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/parse.js"}],[2220,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/regex.js"}],[2221,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let n;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/rng-browser.js"}],[2222,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=i(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],l=r[3],d=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=i(o,5)+n(r,c,u,l)+d+t[r]+s[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};r.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/sha1-browser.js"}],[2223,{"./validate.js":2229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.unsafeStringify=o;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}var a=function(e,t=0){const r=o(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};r.default=a}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/stringify.js"}],[2224,{"./rng.js":2221,"./stringify.js":2223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./rng.js"))&&n.__esModule?n:{default:n},s=e("./stringify.js");let o,a,c=0,u=0;var l=function(e,t,r){let n=t&&r||0;const l=t||new Array(16);let d=(e=e||{}).node||o,p=e.clockseq!==undefined?e.clockseq:a;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=a=16383&(t[6]<<8|t[7]))}let h=e.msecs!==undefined?e.msecs:Date.now(),f=e.nsecs!==undefined?e.nsecs:u+1;const m=h-c+(f-u)/1e4;if(m<0&&e.clockseq===undefined&&(p=p+1&16383),(m<0||h>c)&&e.nsecs===undefined&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=f,a=p,h+=122192928e5;const y=(1e4*(268435455&h)+f)%4294967296;l[n++]=y>>>24&255,l[n++]=y>>>16&255,l[n++]=y>>>8&255,l[n++]=255&y;const g=h/4294967296*1e4&268435455;l[n++]=g>>>8&255,l[n++]=255&g,l[n++]=g>>>24&15|16,l[n++]=g>>>16&255,l[n++]=p>>>8|128,l[n++]=255&p;for(let e=0;e<6;++e)l[n+e]=d[e];return t||(0,s.unsafeStringify)(l)};r.default=l}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v1.js"}],[2225,{"./md5.js":2216,"./v35.js":2226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./md5.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);r.default=o}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v3.js"}],[2226,{"./parse.js":2219,"./stringify.js":2223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0,r.default=function(e,t,r){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,i=e("./stringify.js"),s=(n=e("./parse.js"))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v35.js"}],[2227,{"./native.js":2217,"./rng.js":2221,"./stringify.js":2223},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./native.js")),i=o(e("./rng.js")),s=e("./stringify.js");function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.unsafeStringify)(o)};r.default=a}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v4.js"}],[2228,{"./sha1.js":2222,"./v35.js":2226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("./v35.js")),i=s(e("./sha1.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);r.default=o}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/v5.js"}],[2229,{"./regex.js":2220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./regex.js"))&&n.__esModule?n:{default:n};var s=function(e){return"string"==typeof e&&i.default.test(e)};r.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/validate.js"}],[2230,{"./validate.js":2229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./validate.js"))&&n.__esModule?n:{default:n};var s=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};r.default=s}}},{package:"@metamask/keyring-snap-client>uuid",file:"node_modules/@metamask/keyring-snap-client/node_modules/uuid/dist/version.js"}],[2231,{"./methods.cjs":2232,"./rpc-handler.cjs":2233,"./snap-utils.cjs":2234,"./time.cjs":2235},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./rpc-handler.cjs"),r),i(e("./snap-utils.cjs"),r),i(e("./time.cjs"),r),i(e("./methods.cjs"),r)}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/index.cjs"}],[2232,{"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GetSelectedAccountsResponseStruct=r.GetSelectedAccountsRequestStruct=r.SnapManageAccountsMethod=void 0;const n=e("@metamask/superstruct");var i;!function(e){e.GetSelectedAccounts="getSelectedAccounts"}(i||(r.SnapManageAccountsMethod=i={})),r.GetSelectedAccountsRequestStruct=(0,n.object)({method:(0,n.literal)(i.GetSelectedAccounts)}),r.GetSelectedAccountsResponseStruct=(0,n.array)((0,n.string)())}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/methods.cjs"}],[2233,{"@metamask/keyring-api":2193,"@metamask/keyring-utils":2239,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MethodNotSupportedError=void 0,r.handleKeyringRequest=async function(e,t){try{return await async function(e,t){switch((0,s.assert)(t,i.JsonRpcRequestStruct),t.method){case`${n.KeyringRpcMethod.ListAccounts}`:return(0,s.assert)(t,n.ListAccountsRequestStruct),e.listAccounts();case`${n.KeyringRpcMethod.GetAccount}`:return(0,s.assert)(t,n.GetAccountRequestStruct),e.getAccount(t.params.id);case`${n.KeyringRpcMethod.CreateAccount}`:return(0,s.assert)(t,n.CreateAccountRequestStruct),e.createAccount(t.params.options);case`${n.KeyringRpcMethod.DiscoverAccounts}`:if(e.discoverAccounts===undefined)throw new o(t.method);return(0,s.assert)(t,n.DiscoverAccountsRequestStruct),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${n.KeyringRpcMethod.ListAccountTransactions}`:if(e.listAccountTransactions===undefined)throw new o(t.method);return(0,s.assert)(t,n.ListAccountTransactionsRequestStruct),e.listAccountTransactions(t.params.id,t.params.pagination);case`${n.KeyringRpcMethod.ListAccountAssets}`:if(e.listAccountAssets===undefined)throw new o(t.method);return(0,s.assert)(t,n.ListAccountAssetsRequestStruct),e.listAccountAssets(t.params.id);case`${n.KeyringRpcMethod.GetAccountBalances}`:if(e.getAccountBalances===undefined)throw new o(t.method);return(0,s.assert)(t,n.GetAccountBalancesRequestStruct),e.getAccountBalances(t.params.id,t.params.assets);case`${n.KeyringRpcMethod.ResolveAccountAddress}`:if(e.resolveAccountAddress===undefined)throw new o(t.method);return(0,s.assert)(t,n.ResolveAccountAddressRequestStruct),e.resolveAccountAddress(t.params.scope,t.params.request);case`${n.KeyringRpcMethod.SetSelectedAccounts}`:if(e.setSelectedAccounts===undefined)throw new o(t.method);return(0,s.assert)(t,n.SetSelectedAccountsRequestStruct),e.setSelectedAccounts(t.params.accounts);case`${n.KeyringRpcMethod.FilterAccountChains}`:return(0,s.assert)(t,n.FilterAccountChainsStruct),e.filterAccountChains(t.params.id,t.params.chains);case`${n.KeyringRpcMethod.UpdateAccount}`:return(0,s.assert)(t,n.UpdateAccountRequestStruct),e.updateAccount(t.params.account);case`${n.KeyringRpcMethod.DeleteAccount}`:return(0,s.assert)(t,n.DeleteAccountRequestStruct),e.deleteAccount(t.params.id);case`${n.KeyringRpcMethod.ExportAccount}`:if(e.exportAccount===undefined)throw new o(t.method);return(0,s.assert)(t,n.ExportAccountRequestStruct),e.exportAccount(t.params.id);case`${n.KeyringRpcMethod.ListRequests}`:if(e.listRequests===undefined)throw new o(t.method);return(0,s.assert)(t,n.ListRequestsRequestStruct),e.listRequests();case`${n.KeyringRpcMethod.GetRequest}`:if(e.getRequest===undefined)throw new o(t.method);return(0,s.assert)(t,n.GetRequestRequestStruct),e.getRequest(t.params.id);case`${n.KeyringRpcMethod.SubmitRequest}`:return(0,s.assert)(t,n.SubmitRequestRequestStruct),e.submitRequest(t.params);case`${n.KeyringRpcMethod.ApproveRequest}`:if(e.approveRequest===undefined)throw new o(t.method);return(0,s.assert)(t,n.ApproveRequestRequestStruct),e.approveRequest(t.params.id,t.params.data);case`${n.KeyringRpcMethod.RejectRequest}`:if(e.rejectRequest===undefined)throw new o(t.method);return(0,s.assert)(t,n.RejectRequestRequestStruct),e.rejectRequest(t.params.id);default:throw new o(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}};const n=e("@metamask/keyring-api"),i=e("@metamask/keyring-utils"),s=e("@metamask/superstruct");class o extends Error{constructor(e){super(`Method not supported: ${e}`)}}r.MethodNotSupportedError=o}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/rpc-handler.cjs"}],[2234,{"./methods.cjs":2232,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.emitSnapKeyringEvent=async function(e,t,r){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...r}}})},r.getSelectedAccounts=async function(e){const t=await e.request({method:"snap_manageAccounts",params:{method:i.SnapManageAccountsMethod.GetSelectedAccounts}});return(0,n.assert)(t,i.GetSelectedAccountsResponseStruct),t};const n=e("@metamask/superstruct"),i=e("./methods.cjs")}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/snap-utils.cjs"}],[2235,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return Math.floor(e.getTime()/1e3)}Object.defineProperty(r,"__esModule",{value:!0}),r.toUnixTimestamp=n,r.getCurrentUnixTimestamp=function(){return n(new Date)}}}},{package:"@metamask/eth-snap-keyring>@metamask/keyring-snap-sdk",file:"node_modules/@metamask/keyring-snap-sdk/dist/time.cjs"}],[2236,{"./index.cjs":2239,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcRequestStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("./index.cjs");r.JsonRpcRequestStruct=(0,s.object)({jsonrpc:(0,n.literal)("2.0"),id:(0,n.union)([(0,n.string)(),(0,n.number)(),(0,n.literal)(null)]),method:(0,n.string)(),params:(0,s.exactOptional)((0,n.union)([(0,n.array)(i.JsonStruct),(0,n.record)((0,n.string)(),i.JsonStruct)]))})}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/JsonRpcRequest.cjs"}],[2237,{"bitcoin-address-validation":3973},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isBtcMainnetAddress=function(e){return(0,n.validate)(e,n.Network.mainnet)},r.isBtcTestnetAddress=function(e){return(0,n.validate)(e,n.Network.testnet)};const n=e("bitcoin-address-validation")}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/btc/address.cjs"}],[2238,{"./address.cjs":2237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./address.cjs"),r)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/btc/index.cjs"}],[2239,{"./JsonRpcRequest.cjs":2236,"./btc/index.cjs":2238,"./scopes.cjs":2240,"./superstruct.cjs":2241,"./types.cjs":2242,"./typing.cjs":2243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./btc/index.cjs"),r),i(e("./types.cjs"),r),i(e("./typing.cjs"),r),i(e("./scopes.cjs"),r),i(e("./superstruct.cjs"),r),i(e("./JsonRpcRequest.cjs"),r)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/index.cjs"}],[2240,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ETH_SCOPE_EOA=void 0,r.isScopeEqual=s,r.isScopeEqualToAny=function(e,t){return t.some(t=>s(e,t))};const n=e("@metamask/utils");r.ETH_SCOPE_EOA=`${n.KnownCaipNamespace.Eip155}:0`;const i=`${n.KnownCaipNamespace.Eip155}:`;function s(e,t){const n=e===r.ETH_SCOPE_EOA,s=t===r.ETH_SCOPE_EOA;return n?t.startsWith(i):s?e.startsWith(i):e===t}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/scopes.cjs"}],[2241,{"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.object=function(e){return(0,n.object)(e)},r.type=function(e){return(0,n.type)(e)},r.exactOptional=function(e){return new n.Struct({...e,validator:(t,r)=>!i(r)||e.validator(t,r),refiner:(t,r)=>!i(r)||e.refiner(t,r)})},r.strictMask=function(e,t,r){return(0,n.assert)(e,t,r),e},r.selectiveUnion=function(e){return new n.Struct({type:"union",schema:null,*entries(t,r){yield*e(t).entries(t,r)},*refiner(t,r){yield*e(t).refiner(t,r)},coercer:(t,r)=>e(t).coercer(t,r),validator:(t,r)=>e(t).validator(t,r)})};const n=e("@metamask/superstruct");function i(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/superstruct.cjs"}],[2242,{"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.StringNumberStruct=r.UrlStruct=r.AccountIdStruct=r.UuidStruct=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils");r.UuidStruct=(0,i.definePattern)("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),r.AccountIdStruct=r.UuidStruct,r.UrlStruct=(0,n.define)("Url",e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}),r.StringNumberStruct=(0,i.definePattern)("StringNumber",/^\d+(\.\d+)?$/u)}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/types.cjs"}],[2243,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expectTrue=function(){}}}},{package:"@metamask/keyring-utils",file:"node_modules/@metamask/keyring-utils/dist/typing.cjs"}],[2244,{"@metamask/base-controller":1362,uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.LoggingController=void 0;const o=e("@metamask/base-controller"),a=e("uuid"),c="LoggingController",u={logs:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!1}},l={logs:{}};class d extends o.BaseController{constructor({messenger:e,state:t}){super({name:c,metadata:u,messenger:e,state:{...l,...t}}),n.add(this),this.messenger.registerActionHandler(`${c}:add`,e=>this.add(e))}add(e){const t={id:s(this,n,"m",i).call(this),timestamp:Date.now(),log:e};this.update(e=>{e.logs[t.id]=t})}clear(){this.update(e=>{e.logs={}})}}r.LoggingController=d,n=new WeakSet,i=function(){let e=(0,a.v1)();for(;e in this.state.logs;)e=(0,a.v1)();return e}}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/LoggingController.cjs"}],[2245,{"./LoggingController.cjs":2244,"./logTypes/index.cjs":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./LoggingController.cjs"),r),i(e("./logTypes/index.cjs"),r)}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/index.cjs"}],[2246,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.SigningStage=r.SigningMethod=void 0,function(e){e.PersonalSign="personal_sign",e.EthSignTypedData="eth_signTypedData",e.EthSignTypedDataV3="eth_signTypedData_v3",e.EthSignTypedDataV4="eth_signTypedData_v4"}(n||(r.SigningMethod=n={})),function(e){e.Proposed="proposed",e.Rejected="rejected",e.Signed="signed"}(i||(r.SigningStage=i={}))}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/EthSignLog.cjs"}],[2247,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.LogType=void 0,function(e){e.GenericLog="GenericLog",e.EthSignLog="EthSignLog"}(n||(r.LogType=n={}))}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/LogType.cjs"}],[2248,{"./EthSignLog.cjs":2246,"./LogType.cjs":2247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./EthSignLog.cjs"),r),i(e("./LogType.cjs"),r)}}},{package:"@metamask/logging-controller",file:"node_modules/@metamask/logging-controller/dist/logTypes/index.cjs"}],[2257,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y,g,w=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},b=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.Messenger=r.MOCK_ANY_NAMESPACE=void 0,r.MOCK_ANY_NAMESPACE="MOCK_ANY_NAMESPACE";r.Messenger=class{constructor({captureException:e,namespace:t,parent:r}){n.add(this),i.set(this,void 0),s.set(this,void 0),o.set(this,new Map),a.set(this,new Map),c.set(this,new Map),u.set(this,new Map),l.set(this,new Map),d.set(this,new Map),w(this,i,t,"f"),w(this,s,r,"f"),this.captureException=e??b(this,s,"f")?.captureException}registerActionHandler(e,t){if(!b(this,n,"m",g).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${b(this,i,"f")}:'`);b(this,n,"m",p).call(this,e,t),b(this,s,"f")&&this.delegate({actions:[e],messenger:b(this,s,"f")})}registerMethodActionHandlers(e,t){for(const r of t){const t=e[r];if("function"==typeof t){const n=`${e.name}:${r}`;this.registerActionHandler(n,t.bind(e))}}}unregisterActionHandler(e){if(!b(this,n,"m",g).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${b(this,i,"f")}:'`);b(this,n,"m",h).call(this,e)}clearActions(){for(const e of b(this,o,"f").keys())b(this,n,"m",h).call(this,e)}call(e,...t){const r=b(this,o,"f").get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!b(this,n,"m",g).call(this,e))throw new Error(`Only allowed registering initial payloads for events prefixed by '${b(this,i,"f")}:'`);b(this,s,"f")&&!b(this,c,"f").get(e)?.has(b(this,s,"f"))&&this.delegate({events:[e],messenger:b(this,s,"f")}),b(this,n,"m",f).call(this,{eventType:e,getPayload:t})}publish(e,...t){if(!b(this,n,"m",g).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${b(this,i,"f")}:'`);b(this,s,"f")&&!b(this,c,"f").get(e)?.has(b(this,s,"f"))&&this.delegate({events:[e],messenger:b(this,s,"f")}),b(this,n,"m",m).call(this,e,...t)}subscribe(e,t,r){const i=t;if(b(this,n,"m",y).call(this,e,i,{delegation:!1,selector:r}),r){const t=b(this,l,"f").get(e);if(t){const e=r(...t());b(this,d,"f").set(i,e)}}}unsubscribe(e,t){const r=b(this,a,"f").get(e),n=t;if(!r)throw new Error(`Subscription not found for event: ${e}`);const i=r.get(n);if(!i)throw new Error(`Subscription not found for event: ${e}`);i.selector&&b(this,d,"f").delete(n),r.delete(n)}clearEventSubscriptions(e){const t=b(this,a,"f").get(e);if(t){for(const[e,r]of t.entries())r.delegation||t.delete(e);0===t.size&&b(this,a,"f").delete(e)}}clearSubscriptions(){for(const e of b(this,a,"f").keys())this.clearEventSubscriptions(e)}delegate({actions:e,events:t,messenger:r}){for(const t of e||[]){const e=(...e)=>{const r=b(this,o,"f").get(t);if(!r)throw new Error(`A handler for ${t} has not been registered`);return r(...e)};let n=b(this,u,"f").get(t);if(n||(n=new Set,b(this,u,"f").set(t,n)),n.has(r))throw new Error(`The action '${t}' has already been delegated to this messenger`);n.add(r),r._internalRegisterDelegatedActionHandler(t,e)}for(const e of t||[]){const t=(...t)=>{r._internalPublishDelegated(e,...t)};let i=b(this,c,"f").get(e);if(i||(i=new Map,b(this,c,"f").set(e,i)),i.has(r))throw new Error(`The event '${e}' has already been delegated to this messenger`);i.set(r,t);const s=b(this,l,"f").get(e);s&&r._internalRegisterDelegatedInitialEventPayload({eventType:e,getPayload:s}),b(this,n,"m",y).call(this,e,t,{delegation:!0})}}revoke({actions:e,events:t,messenger:r}){if(r===b(this,s,"f"))throw new Error("Cannot revoke from parent");for(const t of e||[]){const e=b(this,u,"f").get(t);e&&e.has(r)&&(r._internalUnregisterDelegatedActionHandler(t),e.delete(r),0===e.size&&b(this,u,"f").delete(t))}for(const e of t||[]){const t=b(this,c,"f").get(e);if(!t)continue;const n=t.get(r);n&&(this.unsubscribe(e,n),t.delete(r),0===t.size&&b(this,c,"f").delete(e))}}_internalRegisterDelegatedActionHandler(e,t){b(this,n,"m",p).call(this,e,t)}_internalUnregisterDelegatedActionHandler(e){b(this,n,"m",h).call(this,e)}_internalRegisterDelegatedInitialEventPayload({eventType:e,getPayload:t}){b(this,n,"m",f).call(this,{eventType:e,getPayload:t})}_internalPublishDelegated(e,...t){b(this,n,"m",m).call(this,e,...t)}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,n=new WeakSet,p=function(e,t){if(b(this,o,"f").has(e))throw new Error(`A handler for ${e} has already been registered`);b(this,o,"f").set(e,t)},h=function(e){b(this,o,"f").delete(e)},f=function({eventType:e,getPayload:t}){b(this,l,"f").set(e,t);const r=b(this,c,"f").get(e);if(r)for(const n of r.keys())n._internalRegisterDelegatedInitialEventPayload({eventType:e,getPayload:t})},m=function(e,...t){const r=b(this,a,"f").get(e);if(r)for(const[e,{selector:n}]of r.entries())try{if(n){const r=b(this,d,"f").get(e),i=n(...t);i!==r&&(b(this,d,"f").set(e,i),e(i,r))}else e(...t)}catch(e){this.captureException?this.captureException(e instanceof Error?e:new Error(String(e))):console.error(e)}},y=function(e,t,r){let n=b(this,a,"f").get(e);n||(n=new Map,b(this,a,"f").set(e,n)),n.set(t,r)},g=function(e){return b(this,i,"f")===r.MOCK_ANY_NAMESPACE||e.startsWith(`${b(this,i,"f")}:`)}}}},{package:"@metamask/messenger",file:"node_modules/@metamask/messenger/dist/Messenger.cjs"}],[2258,{"./Messenger.cjs":2257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Messenger=r.MOCK_ANY_NAMESPACE=void 0;var n=e("./Messenger.cjs");Object.defineProperty(r,"MOCK_ANY_NAMESPACE",{enumerable:!0,get:function(){return n.MOCK_ANY_NAMESPACE}}),Object.defineProperty(r,"Messenger",{enumerable:!0,get:function(){return n.Messenger}})}}},{package:"@metamask/messenger",file:"node_modules/@metamask/messenger/dist/index.cjs"}],[2259,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC1155=void 0,r.abiERC1155=[{inputs:[{internalType:"string",name:"uri_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC1155.js"}],[2260,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC20=void 0,r.abiERC20=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC20.js"}],[2261,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC721=void 0,r.abiERC721=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC721.js"}],[2262,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiFiatTokenV2=void 0,r.abiFiatTokenV2=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/abis/fiatTokenV2.js"}],[2263,{"./abis/abiERC1155":2259,"./abis/abiERC20":2260,"./abis/abiERC721":2261,"./abis/fiatTokenV2":2262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiFiatTokenV2=r.abiERC1155=r.abiERC721=r.abiERC20=void 0;const n=e("./abis/abiERC20");Object.defineProperty(r,"abiERC20",{enumerable:!0,get:function(){return n.abiERC20}});const i=e("./abis/abiERC721");Object.defineProperty(r,"abiERC721",{enumerable:!0,get:function(){return i.abiERC721}});const s=e("./abis/abiERC1155");Object.defineProperty(r,"abiERC1155",{enumerable:!0,get:function(){return s.abiERC1155}});const o=e("./abis/fiatTokenV2");Object.defineProperty(r,"abiFiatTokenV2",{enumerable:!0,get:function(){return o.abiFiatTokenV2}})}}},{package:"@metamask/metamask-eth-abis",file:"node_modules/@metamask/metamask-eth-abis/dist/index.js"}],[2295,{"../api/accounts-api.cjs":2297,"../constants.cjs":2298,"../types.cjs":2300,"../utils.cjs":2301,"@metamask/base-controller":1362,"@metamask/keyring-api":2193,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.MultichainNetworkController=void 0;const f=e("@metamask/base-controller"),m=e("@metamask/keyring-api"),y=e("@metamask/utils"),g=e("../api/accounts-api.cjs"),w=e("../constants.cjs"),b=e("../types.cjs"),k=e("../utils.cjs");class v extends f.BaseController{constructor({messenger:e,state:t,networkService:r}){super({messenger:e,name:b.MULTICHAIN_NETWORK_CONTROLLER_NAME,metadata:w.MULTICHAIN_NETWORK_CONTROLLER_METADATA,state:{...(0,w.getDefaultMultichainNetworkControllerState)(),...t,multichainNetworkConfigurationsByChainId:w.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS}}),n.add(this),i.set(this,void 0),p(this,i,r,"f"),h(this,n,"m",l).call(this),h(this,n,"m",d).call(this)}async setActiveNetwork(e){if((0,y.isCaipChainId)(e)){if(!(0,k.checkIfSupportedCaipChainId)(e))throw new Error(`Unsupported Caip chain ID: ${String(e)}`);return h(this,n,"m",o).call(this,e)}return await h(this,n,"m",s).call(this,e)}async getNetworksWithTransactionActivityByAccounts(){const e=this.messenger.call("AccountsController:listMultichainAccounts").filter(e=>(0,m.isEvmAccountType)(e.type));if(!e||0===e.length)return this.state.networksWithTransactionActivity;const t=e.map(e=>(0,g.toAllowedCaipAccountIds)(e)).flat(),r=await h(this,i,"f").fetchNetworkActivity(t),n=(0,g.toActiveNetworksByAddress)(r);return this.update(e=>{e.networksWithTransactionActivity=n}),this.state.networksWithTransactionActivity}async removeNetwork(e){return(0,k.isEvmCaipChainId)(e)?await h(this,n,"m",a).call(this,e):h(this,n,"m",c).call(this,e)}}r.MultichainNetworkController=v,i=new WeakMap,n=new WeakSet,s=async function(e){const{selectedNetworkClientId:t}=this.messenger.call("NetworkController:getState"),r=!this.state.isEvmSelected,n=e!==t;(r||n)&&(r&&this.update(e=>{e.isEvmSelected=!0}),n&&await this.messenger.call("NetworkController:setActiveNetwork",e),(r||n)&&this.messenger.publish("MultichainNetworkController:networkDidChange",e))},o=function(e){(e!==this.state.selectedMultichainNetworkChainId||this.state.isEvmSelected)&&(this.update(t=>{t.selectedMultichainNetworkChainId=e,t.isEvmSelected=!1}),this.messenger.publish("MultichainNetworkController:networkDidChange",e))},a=async function(e){const t=(0,k.convertEvmCaipToHexChainId)(e);if(this.messenger.call("NetworkController:getSelectedChainId")===t){if(this.state.isEvmSelected)throw new Error("Cannot remove the currently selected network");const e="0x1",t=this.messenger.call("NetworkController:findNetworkClientIdByChainId",e);await this.messenger.call("NetworkController:setActiveNetwork",t)}this.messenger.call("NetworkController:removeNetwork",t)},c=function(e){throw new Error("Removal of non-EVM networks is not supported")},u=function(e){const{type:t,scopes:r}=e;if((0,m.isEvmAccountType)(t)){if(this.state.isEvmSelected)return;return void this.update(e=>{e.isEvmSelected=!0})}if(r.includes(this.state.selectedMultichainNetworkChainId))return void this.update(e=>{e.isEvmSelected=!1});const n=(0,k.getChainIdForNonEvm)(r);this.update(e=>{e.selectedMultichainNetworkChainId=n,e.isEvmSelected=!1})},l=function(){this.messenger.subscribe("AccountsController:selectedAccountChange",e=>h(this,n,"m",u).call(this,e))},d=function(){this.messenger.registerActionHandler("MultichainNetworkController:setActiveNetwork",this.setActiveNetwork.bind(this)),this.messenger.registerActionHandler("MultichainNetworkController:getNetworksWithTransactionActivityByAccounts",this.getNetworksWithTransactionActivityByAccounts.bind(this))}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/MultichainNetworkController/MultichainNetworkController.cjs"}],[2296,{"../api/accounts-api.cjs":2297,"@metamask/superstruct":2936,lodash:4838},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.MultichainNetworkService=void 0;const u=e("@metamask/superstruct"),l=e("lodash"),d=e("../api/accounts-api.cjs");r.MultichainNetworkService=class{constructor({fetch:e,batchSize:t}){n.add(this),i.set(this,void 0),s.set(this,void 0),a(this,i,e,"f"),a(this,s,t??20,"f")}async fetchNetworkActivity(e){if(0===e.length)return{activeNetworks:[]};if(e.length<=c(this,s,"f"))return c(this,n,"m",o).call(this,e);const t=(0,l.chunk)(e,c(this,s,"f"));return{activeNetworks:(await Promise.all(t.map(e=>c(this,n,"m",o).call(this,e)))).flatMap(e=>e.activeNetworks)}}},i=new WeakMap,s=new WeakMap,n=new WeakSet,o=async function(e){try{const t=(0,d.buildActiveNetworksUrl)(e),r=await c(this,i,"f").call(this,t.toString(),{method:"GET",headers:{[d.MULTICHAIN_ACCOUNTS_CLIENT_HEADER]:d.MULTICHAIN_ACCOUNTS_CLIENT_ID,Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return(0,u.assert)(n,d.ActiveNetworksResponseStruct),n}catch(e){if(e instanceof Error){if("AbortError"===e.name)throw new Error("Request timeout: Failed to fetch active networks");throw e}throw new Error(`Failed to fetch active networks: ${String(e)}`)}}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/MultichainNetworkService/MultichainNetworkService.cjs"}],[2297,{"@metamask/keyring-api":2193,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.buildActiveNetworksUrl=r.toActiveNetworksByAddress=r.toAllowedCaipAccountIds=r.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES=r.MULTICHAIN_ACCOUNTS_CLIENT_ID=r.MULTICHAIN_ACCOUNTS_CLIENT_HEADER=r.MULTICHAIN_ACCOUNTS_BASE_URL=r.ActiveNetworksResponseStruct=void 0;const n=e("@metamask/keyring-api"),i=e("@metamask/superstruct"),s=e("@metamask/utils");r.ActiveNetworksResponseStruct=(0,i.object)({activeNetworks:(0,i.array)(s.CaipAccountIdStruct)}),r.MULTICHAIN_ACCOUNTS_BASE_URL="https://accounts.api.cx.metamask.io",r.MULTICHAIN_ACCOUNTS_CLIENT_HEADER="x-metamask-clientproduct",r.MULTICHAIN_ACCOUNTS_CLIENT_ID="metamask-multichain-network-controller",r.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES=[String(n.BtcScope.Mainnet),String(n.BtcScope.Testnet),String(n.BtcScope.Testnet4),String(n.BtcScope.Signet),String(n.BtcScope.Regtest),String(n.SolScope.Mainnet),String(n.SolScope.Devnet),String(n.EthScope.Mainnet),String(n.EthScope.Testnet),String(n.EthScope.Eoa),String(n.TrxScope.Mainnet),String(n.TrxScope.Nile),String(n.TrxScope.Shasta)],r.toAllowedCaipAccountIds=function(e){const t=[];for(const n of e.scopes)r.MULTICHAIN_ALLOWED_ACTIVE_NETWORK_SCOPES.includes(n)&&t.push(`${n}:${e.address}`);return t},r.toActiveNetworksByAddress=function(e){const t={};return e.activeNetworks.forEach(e=>{const{address:r,chain:{namespace:n,reference:i}}=(0,s.parseCaipAccountId)(e);t[r]||(t[r]={namespace:n,activeChains:[]}),t[r].activeChains.push(i)}),t},r.buildActiveNetworksUrl=function(e){const t=new URL(`${r.MULTICHAIN_ACCOUNTS_BASE_URL}/v2/activeNetworks`);return t.searchParams.append("accountIds",e.join(",")),t}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/api/accounts-api.cjs"}],[2298,{"@metamask/keyring-api":2193,"@metamask/network-controller":2319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MULTICHAIN_NETWORK_DECIMAL_PLACES=r.MULTICHAIN_NETWORK_TICKER=r.MULTICHAIN_NETWORK_CONTROLLER_METADATA=r.getDefaultMultichainNetworkControllerState=r.NETWORKS_METADATA=r.NON_EVM_TESTNET_IDS=r.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS=r.TRX_SHASTA_NATIVE_ASSET=r.TRX_NILE_NATIVE_ASSET=r.TRX_NATIVE_ASSET=r.SOL_DEVNET_NATIVE_ASSET=r.SOL_TESTNET_NATIVE_ASSET=r.SOL_NATIVE_ASSET=r.BTC_REGTEST_NATIVE_ASSET=r.BTC_SIGNET_NATIVE_ASSET=r.BTC_TESTNET4_NATIVE_ASSET=r.BTC_TESTNET_NATIVE_ASSET=r.BTC_NATIVE_ASSET=void 0;const n=e("@metamask/keyring-api"),i=e("@metamask/network-controller");r.BTC_NATIVE_ASSET=`${n.BtcScope.Mainnet}/slip44:0`,r.BTC_TESTNET_NATIVE_ASSET=`${n.BtcScope.Testnet}/slip44:0`,r.BTC_TESTNET4_NATIVE_ASSET=`${n.BtcScope.Testnet4}/slip44:0`,r.BTC_SIGNET_NATIVE_ASSET=`${n.BtcScope.Signet}/slip44:0`,r.BTC_REGTEST_NATIVE_ASSET=`${n.BtcScope.Regtest}/slip44:0`,r.SOL_NATIVE_ASSET=`${n.SolScope.Mainnet}/slip44:501`,r.SOL_TESTNET_NATIVE_ASSET=`${n.SolScope.Testnet}/slip44:501`,r.SOL_DEVNET_NATIVE_ASSET=`${n.SolScope.Devnet}/slip44:501`,r.TRX_NATIVE_ASSET=`${n.TrxScope.Mainnet}/slip44:195`,r.TRX_NILE_NATIVE_ASSET=`${n.TrxScope.Nile}/slip44:195`,r.TRX_SHASTA_NATIVE_ASSET=`${n.TrxScope.Shasta}/slip44:195`,r.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS={[n.BtcScope.Mainnet]:{chainId:n.BtcScope.Mainnet,name:"Bitcoin",nativeCurrency:r.BTC_NATIVE_ASSET,isEvm:!1},[n.BtcScope.Testnet]:{chainId:n.BtcScope.Testnet,name:"Bitcoin Testnet",nativeCurrency:r.BTC_TESTNET_NATIVE_ASSET,isEvm:!1},[n.BtcScope.Testnet4]:{chainId:n.BtcScope.Testnet4,name:"Bitcoin Testnet4",nativeCurrency:r.BTC_TESTNET4_NATIVE_ASSET,isEvm:!1},[n.BtcScope.Signet]:{chainId:n.BtcScope.Signet,name:"Bitcoin Mutinynet",nativeCurrency:r.BTC_SIGNET_NATIVE_ASSET,isEvm:!1},[n.BtcScope.Regtest]:{chainId:n.BtcScope.Regtest,name:"Bitcoin Regtest",nativeCurrency:r.BTC_REGTEST_NATIVE_ASSET,isEvm:!1},[n.SolScope.Mainnet]:{chainId:n.SolScope.Mainnet,name:"Solana",nativeCurrency:r.SOL_NATIVE_ASSET,isEvm:!1},[n.SolScope.Testnet]:{chainId:n.SolScope.Testnet,name:"Solana Testnet",nativeCurrency:r.SOL_TESTNET_NATIVE_ASSET,isEvm:!1},[n.SolScope.Devnet]:{chainId:n.SolScope.Devnet,name:"Solana Devnet",nativeCurrency:r.SOL_DEVNET_NATIVE_ASSET,isEvm:!1},[n.TrxScope.Mainnet]:{chainId:n.TrxScope.Mainnet,name:"Tron",nativeCurrency:r.TRX_NATIVE_ASSET,isEvm:!1},[n.TrxScope.Nile]:{chainId:n.TrxScope.Nile,name:"Tron Nile",nativeCurrency:r.TRX_NILE_NATIVE_ASSET,isEvm:!1},[n.TrxScope.Shasta]:{chainId:n.TrxScope.Shasta,name:"Tron Shasta",nativeCurrency:r.TRX_SHASTA_NATIVE_ASSET,isEvm:!1}},r.NON_EVM_TESTNET_IDS=[n.BtcScope.Testnet,n.BtcScope.Testnet4,n.BtcScope.Signet,n.BtcScope.Regtest,n.SolScope.Testnet,n.SolScope.Devnet,n.TrxScope.Nile,n.TrxScope.Shasta],r.NETWORKS_METADATA={[n.BtcScope.Mainnet]:{features:[],status:i.NetworkStatus.Available},[n.SolScope.Mainnet]:{features:[],status:i.NetworkStatus.Available},[n.TrxScope.Mainnet]:{features:[],status:i.NetworkStatus.Available}};r.getDefaultMultichainNetworkControllerState=()=>({multichainNetworkConfigurationsByChainId:r.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS,selectedMultichainNetworkChainId:n.SolScope.Mainnet,isEvmSelected:!0,networksWithTransactionActivity:{}}),r.MULTICHAIN_NETWORK_CONTROLLER_METADATA={multichainNetworkConfigurationsByChainId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},selectedMultichainNetworkChainId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},isEvmSelected:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0},networksWithTransactionActivity:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!0,usedInUi:!0}},r.MULTICHAIN_NETWORK_TICKER={[n.BtcScope.Mainnet]:"BTC",[n.BtcScope.Testnet]:"tBTC",[n.BtcScope.Testnet4]:"tBTC",[n.BtcScope.Signet]:"sBTC",[n.BtcScope.Regtest]:"rBTC",[n.SolScope.Mainnet]:"SOL",[n.SolScope.Testnet]:"tSOL",[n.SolScope.Devnet]:"dSOL",[n.TrxScope.Mainnet]:"TRX",[n.TrxScope.Nile]:"tTRX",[n.TrxScope.Shasta]:"sTRX"},r.MULTICHAIN_NETWORK_DECIMAL_PLACES={[n.BtcScope.Mainnet]:8,[n.BtcScope.Testnet]:8,[n.BtcScope.Testnet4]:8,[n.BtcScope.Signet]:8,[n.BtcScope.Regtest]:8,[n.SolScope.Mainnet]:5,[n.SolScope.Testnet]:5,[n.SolScope.Devnet]:5,[n.TrxScope.Mainnet]:6,[n.TrxScope.Nile]:6,[n.TrxScope.Shasta]:6}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/constants.cjs"}],[2299,{"./MultichainNetworkController/MultichainNetworkController.cjs":2295,"./MultichainNetworkService/MultichainNetworkService.cjs":2296,"./constants.cjs":2298,"./utils.cjs":2301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toEvmCaipChainId=r.toMultichainNetworkConfigurationsByChainId=r.toMultichainNetworkConfiguration=r.checkIfSupportedCaipChainId=r.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS=r.MULTICHAIN_NETWORK_DECIMAL_PLACES=r.MULTICHAIN_NETWORK_TICKER=r.NON_EVM_TESTNET_IDS=r.getDefaultMultichainNetworkControllerState=r.MultichainNetworkService=r.MultichainNetworkController=void 0;var n=e("./MultichainNetworkController/MultichainNetworkController.cjs");Object.defineProperty(r,"MultichainNetworkController",{enumerable:!0,get:function(){return n.MultichainNetworkController}});var i=e("./MultichainNetworkService/MultichainNetworkService.cjs");Object.defineProperty(r,"MultichainNetworkService",{enumerable:!0,get:function(){return i.MultichainNetworkService}});var s=e("./constants.cjs");Object.defineProperty(r,"getDefaultMultichainNetworkControllerState",{enumerable:!0,get:function(){return s.getDefaultMultichainNetworkControllerState}}),Object.defineProperty(r,"NON_EVM_TESTNET_IDS",{enumerable:!0,get:function(){return s.NON_EVM_TESTNET_IDS}}),Object.defineProperty(r,"MULTICHAIN_NETWORK_TICKER",{enumerable:!0,get:function(){return s.MULTICHAIN_NETWORK_TICKER}}),Object.defineProperty(r,"MULTICHAIN_NETWORK_DECIMAL_PLACES",{enumerable:!0,get:function(){return s.MULTICHAIN_NETWORK_DECIMAL_PLACES}}),Object.defineProperty(r,"AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS",{enumerable:!0,get:function(){return s.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS}});var o=e("./utils.cjs");Object.defineProperty(r,"checkIfSupportedCaipChainId",{enumerable:!0,get:function(){return o.checkIfSupportedCaipChainId}}),Object.defineProperty(r,"toMultichainNetworkConfiguration",{enumerable:!0,get:function(){return o.toMultichainNetworkConfiguration}}),Object.defineProperty(r,"toMultichainNetworkConfigurationsByChainId",{enumerable:!0,get:function(){return o.toMultichainNetworkConfigurationsByChainId}}),Object.defineProperty(r,"toEvmCaipChainId",{enumerable:!0,get:function(){return o.toEvmCaipChainId}})}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/index.cjs"}],[2300,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MULTICHAIN_NETWORK_CONTROLLER_NAME=void 0,r.MULTICHAIN_NETWORK_CONTROLLER_NAME="MultichainNetworkController"}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/types.cjs"}],[2301,{"./constants.cjs":2298,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isKnownCaipNamespace=r.toMultichainNetworkConfigurationsByChainId=r.toMultichainNetworkConfiguration=r.convertEvmCaipToHexChainId=r.toEvmCaipChainId=r.checkIfSupportedCaipChainId=r.getChainIdForNonEvm=r.isEvmCaipChainId=void 0;const n=e("@metamask/utils"),i=e("./constants.cjs");r.isEvmCaipChainId=function(e){const{namespace:t}=(0,n.parseCaipChainId)(e);return t===n.KnownCaipNamespace.Eip155},r.getChainIdForNonEvm=function(e){const t=e.find(e=>Object.keys(i.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS).includes(e));if(t)return t;throw new Error(`Unsupported scope: ${e.join(", ")}.`)},r.checkIfSupportedCaipChainId=function(e){return Object.keys(i.AVAILABLE_MULTICHAIN_NETWORK_CONFIGURATIONS).includes(e)};r.toEvmCaipChainId=e=>(0,n.toCaipChainId)(n.KnownCaipNamespace.Eip155,(0,n.hexToNumber)(e).toString()),r.convertEvmCaipToHexChainId=function(e){const{namespace:t,reference:r}=(0,n.parseCaipChainId)(e);if(t===n.KnownCaipNamespace.Eip155)return(0,n.add0x)(parseInt(r,10).toString(16));throw new Error(`Unsupported CAIP chain ID namespace: ${t}. Only eip155 is supported.`)};r.toMultichainNetworkConfiguration=e=>{const{chainId:t,name:n,rpcEndpoints:i,defaultRpcEndpointIndex:s,nativeCurrency:o,blockExplorerUrls:a,defaultBlockExplorerUrlIndex:c}=e;return{chainId:(0,r.toEvmCaipChainId)(t),isEvm:!0,name:n||i[s].url,nativeCurrency:o,blockExplorerUrls:a,defaultBlockExplorerUrlIndex:c||0}};r.toMultichainNetworkConfigurationsByChainId=e=>Object.entries(e).reduce((e,[,t])=>({...e,[(0,r.toEvmCaipChainId)(t.chainId)]:(0,r.toMultichainNetworkConfiguration)(t)}),{}),r.isKnownCaipNamespace=function(e){return Object.values(n.KnownCaipNamespace).includes(e)}}}},{package:"@metamask/multichain-network-controller",file:"node_modules/@metamask/multichain-network-controller/dist/utils.cjs"}],[2305,{"./types.cjs":2313,"@metamask/base-controller":1362,"@metamask/controller-utils":1449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y,g,w,b,k,v,_,T,E,j,S,A,P,C,I,x=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},M=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.NameController=r.NameOrigin=r.PROPOSED_NAME_EXPIRE_DURATION=r.FALLBACK_VARIATION=void 0;const R=e("@metamask/base-controller"),O=e("@metamask/controller-utils"),B=e("./types.cjs");var N;r.FALLBACK_VARIATION="*",r.PROPOSED_NAME_EXPIRE_DURATION=86400,function(e){e.ACCOUNT_IDENTITY="account-identity",e.ADDRESS_BOOK="address-book",e.API="api",e.UI="ui"}(N||(r.NameOrigin=N={}));const K={names:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},nameSources:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}};class D extends R.BaseController{constructor({messenger:e,providers:t,state:r,updateDelay:o}){super({name:"NameController",metadata:K,messenger:e,state:{names:{[B.NameType.ETHEREUM_ADDRESS]:{}},nameSources:{},...r}}),n.add(this),i.set(this,void 0),s.set(this,void 0),x(this,i,t,"f"),x(this,s,o??120,"f")}setName(e){M(this,n,"m",y).call(this,e);const{value:t,type:r,name:i,sourceId:s,origin:o,variation:a}=e,c=s??null,u=null===i?null:N.API,l=o??u;M(this,n,"m",f).call(this,t,r,a,e=>{e.name=i,e.sourceId=c,e.origin=l})}async updateProposedNames(e){M(this,n,"m",g).call(this,e);const t=(await Promise.all(M(this,i,"f").map(t=>M(this,n,"m",u).call(this,e,t)))).filter(e=>Boolean(e));return M(this,n,"m",o).call(this,e,t),M(this,n,"m",a).call(this,M(this,i,"f")),M(this,n,"m",C).call(this),M(this,n,"m",c).call(this,t)}}r.NameController=D,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=function(e,t){const{value:r,type:i,variation:s}=e,o=M(this,n,"m",m).call(this);M(this,n,"m",f).call(this,r,i,s,e=>{M(this,n,"m",P).call(this,e.proposedNames,i);for(const r of t){const{results:t}=r;for(const n of Object.keys(r.results)){const r=t[n],{proposedNames:i,updateDelay:s}=r,a=e.proposedNames[n]??{proposedNames:[],lastRequestTime:null,updateDelay:null};e.proposedNames[n]=a,i&&(a.proposedNames=i),a.lastRequestTime=o,a.updateDelay=s??null}}})},a=function(e){const t={...this.state.nameSources};for(const r of e){const{sourceLabels:e}=r.getMetadata();for(const r of Object.keys(e))t[r]={label:e[r]}}this.update(e=>{e.nameSources=t})},c=function(e){return e.reduce((e,t)=>{const{results:r}=t;for(const t of Object.keys(r)){const{proposedNames:n,error:i}=r[t];e.results[t]={proposedNames:n,error:i}}return e},{results:{}})},u=async function(e,t){const{value:r,type:i,sourceIds:o,onlyUpdateAfterDelay:a,variation:c}=e,u=c??"",d=M(this,n,"m",A).call(this,t,i),f=M(this,n,"m",m).call(this),y=M(this,n,"m",p).call(this,r,i),g=d.filter(e=>{if(o&&!o.includes(e))return!1;if(a){const t=this.state.names[i]?.[y]?.[u]??{},r=t.proposedNames?.[e]??{},n=r.lastRequestTime??0,o=r.updateDelay??M(this,s,"f");if(f-n<o)return!1}return!0});if(!g.length)return undefined;const w={value:M(this,n,"m",p).call(this,r,i),type:i,sourceIds:o?g:undefined,variation:M(this,n,"m",h).call(this,u,i)};let b,k;try{k=await t.getProposedNames(w),b=k.error}catch(e){b=e}return M(this,n,"m",l).call(this,k,b,g)},l=function(e,t,r){const i=t??undefined;return{results:r.reduce((r,i)=>{const s=e?.results?.[i],o=M(this,n,"m",d).call(this,s,t);return{...r,[i]:o}},{}),error:i}},d=function(e,t){const r=e?.error??t??undefined,n=e?.updateDelay??undefined;let i=r?undefined:e?.proposedNames??undefined;return i&&(i=i.filter(e=>e?.length)),{proposedNames:i,error:r,updateDelay:n}},p=function(e,t){return t===B.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},h=function(e,t){return t===B.NameType.ETHEREUM_ADDRESS?e.toLowerCase():e},f=function(e,t,r,i){const s=r??"",o=M(this,n,"m",p).call(this,e,t),a=M(this,n,"m",h).call(this,s,t);[o,a].some(e=>!(0,O.isSafeDynamicKey)(e))||this.update(e=>{const r=e.names[t]||{};e.names[t]=r;const n=r[o]||{};r[o]=n;const s=n[a]??{proposedNames:{},name:null,sourceId:null,origin:null};n[a]=s,i(s)})},m=function(){return Math.round(Date.now()/1e3)},y=function(e){const{name:t,value:r,type:i,sourceId:s,variation:o,origin:a}=e,c=[];if(M(this,n,"m",w).call(this,r,c),M(this,n,"m",b).call(this,i,c),M(this,n,"m",k).call(this,t,c),M(this,n,"m",_).call(this,s,i,t,c),M(this,n,"m",E).call(this,o,i,c),M(this,n,"m",j).call(this,a,t,c),c.length)throw new Error(c.join(" "))},g=function(e){const{value:t,type:r,sourceIds:i,variation:s}=e,o=[];if(M(this,n,"m",w).call(this,t,o),M(this,n,"m",b).call(this,r,o),M(this,n,"m",v).call(this,i,r,o),M(this,n,"m",T).call(this,r,o),M(this,n,"m",E).call(this,s,r,o),o.length)throw new Error(o.join(" "))},w=function(e,t){e?.length&&"string"==typeof e||t.push("Must specify a non-empty string for value.")},b=function(e,t){Object.values(B.NameType).includes(e)||t.push(`Must specify one of the following types: ${Object.values(B.NameType).join(", ")}`)},k=function(e,t){null!==e&&(e?.length&&"string"==typeof e||t.push("Must specify a non-empty string or null for name."))},v=function(e,t,r){if(!e)return;const i=M(this,n,"m",S).call(this,t),s=[];for(const t of e)i.includes(t)||s.push(t);s.length&&r.push(`Unknown source IDs for type '${t}': ${s.join(", ")}`)},_=function(e,t,r,i){if(null===e||e===undefined)return;if(null===r)return void i.push(`Cannot specify a source ID when clearing the saved name: ${e}`);const s=M(this,n,"m",S).call(this,t);e.length&&"string"==typeof e?s.includes(e)||i.push(`Unknown source ID for type '${t}': ${e}`):i.push("Must specify a non-empty string for sourceId.")},T=function(e,t){const r=M(this,n,"m",S).call(this,e),i=r.filter((e,t)=>r.indexOf(e)!==t);i.length&&t.push(`Duplicate source IDs found for type '${e}': ${i.join(", ")}`)},E=function(e,t,n){t===B.NameType.ETHEREUM_ADDRESS&&(e?.length&&"string"==typeof e&&(e.match(/^0x[0-9A-Fa-f]+$/u)||e===r.FALLBACK_VARIATION)||n.push(`Must specify a chain ID in hexadecimal format or the fallback, "${r.FALLBACK_VARIATION}", for variation when using '${t}' type.`))},j=function(e,t,r){e&&(null!==t?Object.values(N).includes(e)||r.push(`Must specify one of the following origins: ${Object.values(N).join(", ")}`):r.push(`Cannot specify an origin when clearing the saved name: ${e}`))},S=function(e){return M(this,i,"f").map(t=>M(this,n,"m",A).call(this,t,e)).flat()},A=function(e,t){return e.getMetadata().sourceIds[t]},P=function(e,t){if(0===Object.keys(e).length)return;const r=M(this,n,"m",S).call(this,t),i=Object.keys(e).filter(e=>!r.includes(e));for(const t of i)delete e[t]},C=function(){const e=M(this,n,"m",m).call(this);this.update(t=>{const i=M(this,n,"m",I).call(this,t);for(const{nameType:n,value:s,variation:o,entry:a}of i){if(null!==a.name)continue;Object.values(a.proposedNames).every(t=>e-(t.lastRequestTime??0)>=r.PROPOSED_NAME_EXPIRE_DURATION)&&delete t.names[n][s][o]}})},I=function(e){return Object.entries(e.names).flatMap(([e,t])=>Object.entries(t).flatMap(([t,r])=>Object.entries(r).map(([r,n])=>({entry:n,nameType:e,value:t,variation:r}))))}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/NameController.cjs"}],[2306,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ETHERSCAN_SUPPORTED_NETWORKS=r.CHAIN_IDS=void 0,r.CHAIN_IDS={MAINNET:"0x1",GOERLI:"0x5",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_SEPOLIA:"0xaa37dc",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_SEPOLIA:"0xe705",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64"};const n="etherscan.io",i="api";r.ETHERSCAN_SUPPORTED_NETWORKS={[r.CHAIN_IDS.GOERLI]:{domain:n,subdomain:`${i}-goerli`},[r.CHAIN_IDS.MAINNET]:{domain:n,subdomain:i},[r.CHAIN_IDS.SEPOLIA]:{domain:n,subdomain:`${i}-sepolia`},[r.CHAIN_IDS.LINEA_GOERLI]:{domain:"lineascan.build",subdomain:"goerli"},[r.CHAIN_IDS.LINEA_SEPOLIA]:{domain:"lineascan.build",subdomain:"sepolia"},[r.CHAIN_IDS.LINEA_MAINNET]:{domain:"lineascan.build",subdomain:i},[r.CHAIN_IDS.BSC]:{domain:"bscscan.com",subdomain:i},[r.CHAIN_IDS.BSC_TESTNET]:{domain:"bscscan.com",subdomain:`${i}-testnet`},[r.CHAIN_IDS.OPTIMISM]:{domain:n,subdomain:`${i}-optimistic`},[r.CHAIN_IDS.OPTIMISM_SEPOLIA]:{domain:n,subdomain:`${i}-sepolia-optimistic`},[r.CHAIN_IDS.POLYGON]:{domain:"polygonscan.com",subdomain:i},[r.CHAIN_IDS.POLYGON_TESTNET]:{domain:"polygonscan.com",subdomain:`${i}-mumbai`},[r.CHAIN_IDS.AVALANCHE]:{domain:"snowtrace.io",subdomain:i},[r.CHAIN_IDS.AVALANCHE_TESTNET]:{domain:"snowtrace.io",subdomain:`${i}-testnet`},[r.CHAIN_IDS.FANTOM]:{domain:"ftmscan.com",subdomain:i},[r.CHAIN_IDS.FANTOM_TESTNET]:{domain:"ftmscan.com",subdomain:`${i}-testnet`},[r.CHAIN_IDS.MOONBEAM]:{domain:"moonscan.io",subdomain:`${i}-moonbeam`},[r.CHAIN_IDS.MOONBEAM_TESTNET]:{domain:"moonscan.io",subdomain:`${i}-moonbase`},[r.CHAIN_IDS.MOONRIVER]:{domain:"moonscan.io",subdomain:`${i}-moonriver`},[r.CHAIN_IDS.GNOSIS]:{domain:"gnosisscan.io",subdomain:`${i}-gnosis`}}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/constants.cjs"}],[2307,{"./NameController.cjs":2305,"./providers/ens.cjs":2309,"./providers/etherscan.cjs":2310,"./providers/lens.cjs":2311,"./providers/token.cjs":2312,"./types.cjs":2313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./NameController.cjs"),r),i(e("./types.cjs"),r),i(e("./providers/ens.cjs"),r),i(e("./providers/etherscan.cjs"),r),i(e("./providers/token.cjs"),r),i(e("./providers/lens.cjs"),r)}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/index.cjs"}],[2308,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("name-controller")}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/logger.cjs"}],[2309,{"../logger.cjs":2308,"../types.cjs":2313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.ENSNameProvider=void 0;const a=e("../logger.cjs"),c=e("../types.cjs"),u="ens",l=(0,a.createModuleLogger)(a.projectLogger,"ens");r.ENSNameProvider=class{constructor({isEnabled:e,reverseLookup:t}){n.set(this,void 0),i.set(this,void 0),s(this,n,e||(()=>!0),"f"),s(this,i,t,"f")}getMetadata(){return{sourceIds:{[c.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Ethereum Name Service (ENS)"}}}async getProposedNames(e){if(!o(this,n,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t,variation:r}=e;l("Invoking callback",{value:t,chainId:r});try{const e=await o(this,i,"f").call(this,t,r),n=e?[e]:[];return l("New proposed names",n),{results:{[u]:{proposedNames:n}}}}catch(e){throw l("Request failed",e),e}}},n=new WeakMap,i=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/ens.cjs"}],[2310,{"../constants.cjs":2306,"../logger.cjs":2308,"../types.cjs":2313,"../util.cjs":2314,"async-mutex":3906},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},l=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.EtherscanNameProvider=void 0;const d=e("async-mutex"),p=e("../constants.cjs"),h=e("../logger.cjs"),f=e("../types.cjs"),m=e("../util.cjs"),y="etherscan",g=(0,h.createModuleLogger)(h.projectLogger,"etherscan");r.EtherscanNameProvider=class{constructor({isEnabled:e}={}){n.add(this),i.set(this,void 0),s.set(this,0),o.set(this,new d.Mutex),u(this,i,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[f.NameType.ETHEREUM_ADDRESS]:[y]},sourceLabels:{[y]:"Etherscan (Verified Contract Name)"}}}async getProposedNames(e){if(!l(this,i,"f").call(this))return g("Skipping request as disabled"),{results:{[y]:{proposedNames:[]}}};const t=await l(this,o,"f").acquire();try{const{value:t,variation:r}=e,i=Date.now();if(i-l(this,s,"f")<5e3)return g("Skipping request to avoid rate limit"),{results:{[y]:{updateDelay:5}}};const o=l(this,n,"m",c).call(this,r,{module:"contract",action:"getsourcecode",address:t}),{responseData:u,error:d}=await l(this,n,"m",a).call(this,o);if(d)throw g("Request failed",d),d;if("NOTOK"===u?.message)return g("Request warning",u.result),{results:{[y]:{updateDelay:5}}};const p=(u?.result??[]).map(e=>e.ContractName);return g("New proposed names",p),{results:{[y]:{proposedNames:p}}}}finally{t()}}},i=new WeakMap,s=new WeakMap,o=new WeakMap,n=new WeakSet,a=async function(e){try{g("Sending request",e);return{responseData:await(0,m.handleFetch)(e)}}catch(e){return(0,m.assertIsError)(e),{error:e}}finally{u(this,s,Date.now(),"f")}},c=function(e,t){const r=p.ETHERSCAN_SUPPORTED_NETWORKS[e];if(!r)throw new Error(`Etherscan does not support chain with ID: ${e}`);let n=`https://${r.subdomain}.${r.domain}/api`;return Object.keys(t).forEach((e,r)=>{const i=t[e];n+=`${0===r?"?":"&"}${e}=${i}`}),n}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/etherscan.cjs"}],[2311,{"../logger.cjs":2308,"../types.cjs":2313,"../util.cjs":2314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.LensNameProvider=void 0;const o=e("../logger.cjs"),a=e("../types.cjs"),c=e("../util.cjs"),u="lens",l=(0,o.createModuleLogger)(o.projectLogger,"lens");r.LensNameProvider=class{constructor({isEnabled:e}={}){n.set(this,void 0),i(this,n,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[a.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Lens Protocol"}}}async getProposedNames(e){if(!s(this,n,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t}=e,r={address:t};l("Sending request",{variables:r});try{const e=await(0,c.graphQL)("https://api.lens.dev","\nquery HandlesForAddress($address: EthereumAddress!) {\n  profiles(request: { ownedBy: [$address] }) {\n    items {\n      handle\n    }\n  }\n}",r),t=(e?.profiles?.items??[]).map(e=>e.handle);return l("New proposed names",t),{results:{[u]:{proposedNames:t}}}}catch(e){throw l("Request failed",e),e}}},n=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/lens.cjs"}],[2312,{"../logger.cjs":2308,"../types.cjs":2313,"../util.cjs":2314},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenNameProvider=void 0;const o=e("../logger.cjs"),a=e("../types.cjs"),c=e("../util.cjs"),u="token",l=(0,o.createModuleLogger)(o.projectLogger,"token");r.TokenNameProvider=class{constructor({isEnabled:e}={}){n.set(this,void 0),i(this,n,e||(()=>!0),"f")}getMetadata(){return{sourceIds:{[a.NameType.ETHEREUM_ADDRESS]:[u]},sourceLabels:{[u]:"Blockchain (Token Name)"}}}async getProposedNames(e){if(!s(this,n,"f").call(this))return l("Skipping request as disabled"),{results:{[u]:{proposedNames:[]}}};const{value:t,variation:r}=e,i=`https://token.api.cx.metamask.io/token/${r}?address=${t}`;l("Sending request",i);try{const e=(await(0,c.handleFetch)(i)).name,t=e?[e]:[];return l("New proposed names",t),{results:{[u]:{proposedNames:t}}}}catch(e){throw l("Request failed",e),e}}},n=new WeakMap}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/providers/token.cjs"}],[2313,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.NameType=void 0,function(e){e.ETHEREUM_ADDRESS="ethereumAddress"}(n||(r.NameType=n={}))}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/types.cjs"}],[2314,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){async function n(e,t){const r=await i(e,t);return await r.json()}async function i(e,t){const r=await fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${e}'`);return r}Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsError=r.successfulFetch=r.handleFetch=r.graphQL=void 0,r.graphQL=async function(e,t,r){const i=JSON.stringify({query:t,variables:r}),s=await n(e,{body:i,method:"POST",headers:{"Content-Type":"application/json"}});return s?.data},r.handleFetch=n,r.successfulFetch=i,r.assertIsError=function(e){if(!(e instanceof Error))throw new Error(`Invalid error of type '${typeof e}'`)}}}},{package:"@metamask/name-controller",file:"node_modules/@metamask/name-controller/dist/util.cjs"}],[2315,{"./constants.cjs":2316,"./create-auto-managed-network-client.cjs":2317,"./logger.cjs":2320,"./types.cjs":2323,"@metamask/base-controller":1362,"@metamask/controller-utils":1449,"@metamask/eth-query":1991,"@metamask/rpc-errors":2600,"@metamask/swappable-obj-proxy":2945,"@metamask/utils":3116,"fast-deep-equal":4391,immer:4616,lodash:4838,reselect:5308,"uri-js":5708,uuid:5734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d,p,h,f,m,y,g,w,b,k,v,_,T,E,j,S,A,P,C,I,x,M=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),R=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&M(t,e,r);return R(t,e),t},B=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},N=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},K=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkController=r.selectAvailableNetworkClientIds=r.getAvailableNetworkClientIds=r.selectNetworkConfigurations=r.getNetworkConfigurations=r.getDefaultNetworkControllerState=r.knownKeysOf=r.RpcEndpointType=void 0;const D=e("@metamask/base-controller"),U=e("@metamask/controller-utils"),L=K(e("@metamask/eth-query")),q=e("@metamask/rpc-errors"),F=e("@metamask/swappable-obj-proxy"),H=e("@metamask/utils"),$=K(e("fast-deep-equal")),V=e("immer"),G=e("lodash"),W=e("reselect"),z=O(e("uri-js")),J=e("uuid"),Y=e("./constants.cjs"),X=e("./create-auto-managed-network-client.cjs"),Q=e("./logger.cjs"),Z=e("./types.cjs"),ee=(0,Q.createModuleLogger)(Q.projectLogger,"NetworkController"),te=/^https:\/\/(?<networkName>[^.]+)\.infura\.io\/v\d+\/(?<apiKey>.+)$/u;var re;function ne(e){return Object.keys(e)}!function(e){e.Custom="custom",e.Infura="infura"}(re||(r.RpcEndpointType=re={})),r.knownKeysOf=ne;const ie="NetworkController";function se(e=[]){const t=Object.values(U.InfuraNetworkType).reduce((e,t)=>{const r=U.ChainId[t];if(Y.DEPRECATED_NETWORKS.has(r))return e;const n=`https://${t}.infura.io/v3/{infuraProjectId}`,i={blockExplorerUrls:[],chainId:r,defaultRpcEndpointIndex:0,name:U.NetworkNickname[t],nativeCurrency:U.NetworksTicker[t],rpcEndpoints:[{failoverUrls:[],networkClientId:t,type:re.Infura,url:n}]};return{...e,[r]:i}},{}),r={[U.ChainId["megaeth-testnet"]]:oe(U.CustomNetworkType["megaeth-testnet"]),[U.ChainId["megaeth-testnet-v2"]]:oe(U.CustomNetworkType["megaeth-testnet-v2"]),[U.ChainId["monad-testnet"]]:oe(U.CustomNetworkType["monad-testnet"])};return e.reduce((e,t)=>((0,H.hasProperty)(r,t)&&(e[t]=r[t]),e),t)}function oe(e){const{ticker:t,rpcPrefs:r}=U.BUILT_IN_NETWORKS[e],n=U.BUILT_IN_CUSTOM_NETWORKS_RPC[e];return{blockExplorerUrls:[r.blockExplorerUrl],chainId:U.ChainId[e],defaultRpcEndpointIndex:0,defaultBlockExplorerUrlIndex:0,name:U.NetworkNickname[e],nativeCurrency:t,rpcEndpoints:[{failoverUrls:[],networkClientId:e,type:re.Custom,url:n}]}}function ae(e){const t=se(e);return{selectedNetworkClientId:U.InfuraNetworkType.mainnet,networksMetadata:{},networkConfigurationsByChainId:t}}r.getDefaultNetworkControllerState=ae;function ce(e){return Object.values(e.networkConfigurationsByChainId)}function ue(e){return e.flatMap(e=>e.rpcEndpoints.map(e=>e.networkClientId))}function le(e){const t=z.parse(e);return t.error===undefined&&("http"===t.scheme||"https"===t.scheme)}function de(e){const t=te.exec(e);if(t?.groups){if((0,U.isInfuraNetworkType)(t.groups.networkName))return t.groups.networkName;throw new Error(`Unknown Infura network '${t.groups.networkName}'`)}throw new Error("Could not derive Infura network from RPC endpoint URL")}function pe(e){return new Map(Object.values(e).flatMap(e=>e.rpcEndpoints.map(t=>[t.networkClientId,e])))}r.getNetworkConfigurations=ce,r.selectNetworkConfigurations=(0,W.createSelector)(e=>e.networkConfigurationsByChainId,e=>Object.values(e)),r.getAvailableNetworkClientIds=ue,r.selectAvailableNetworkClientIds=(0,W.createSelector)(r.selectNetworkConfigurations,ue);class he extends D.BaseController{constructor(e){const{messenger:t,state:r,infuraProjectId:y,log:g,getRpcServiceOptions:w,getBlockTrackerOptions:b,additionalDefaultNetworks:k,isRpcFailoverEnabled:_=!1}=e,T={...ae(k),...r};!function(e){const t=Object.entries(e.networkConfigurationsByChainId),r=ue(ce(e));if(0===t.length)throw new Error("NetworkController state is invalid: `networkConfigurationsByChainId` cannot be empty");for(const[e,r]of t){if(e!==r.chainId)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${r.name}' is filed under '${e}' which does not match its \`chainId\` of '${r.chainId}'`);if(r.blockExplorerUrls.length>0?r.defaultBlockExplorerUrlIndex===undefined||r.blockExplorerUrls[r.defaultBlockExplorerUrlIndex]===undefined:r.defaultBlockExplorerUrlIndex!==undefined)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${r.name}' has a \`defaultBlockExplorerUrlIndex\` that does not refer to an entry in \`blockExplorerUrls\``);if(r.rpcEndpoints[r.defaultRpcEndpointIndex]===undefined)throw new Error(`NetworkController state has invalid \`networkConfigurationsByChainId\`: Network configuration '${r.name}' has a \`defaultRpcEndpointIndex\` that does not refer to an entry in \`rpcEndpoints\``)}if([...new Set(r)].length<r.length)throw new Error("NetworkController state has invalid `networkConfigurationsByChainId`: Every RPC endpoint across all network configurations must have a unique `networkClientId`")}(T);const E=function(e,t){const r=ce(e).sort((e,t)=>e.chainId.localeCompare(t.chainId)),n=ue(r),i=Object.keys(e.networksMetadata).filter(e=>!n.includes(e));return(0,V.produce)(e,s=>{if(!n.includes(e.selectedNetworkClientId)){const n=r[0],i=n.rpcEndpoints[n.defaultRpcEndpointIndex].networkClientId;t.captureException?.(new Error(`\`selectedNetworkClientId\` '${e.selectedNetworkClientId}' does not refer to an RPC endpoint within a network configuration; correcting to '${i}'`)),s.selectedNetworkClientId=i}if(i.length>0){for(const e of i)delete s.networksMetadata[e];t.captureException?.(new Error("`networksMetadata` had invalid network client IDs, which have been removed"))}})}(T,t);if(!y||"string"!=typeof y)throw new Error("Invalid Infura project ID");super({name:ie,metadata:{selectedNetworkClientId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},networksMetadata:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0},networkConfigurationsByChainId:{includeInStateLogs:!0,persist:!0,includeInDebugSnapshot:!1,usedInUi:!0}},messenger:t,state:E}),n.add(this),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),p.set(this,void 0),h.set(this,void 0),f.set(this,void 0),m.set(this,void 0),B(this,s,y,"f"),B(this,d,g,"f"),B(this,p,w,"f"),B(this,h,b,"f"),B(this,m,_,"f"),B(this,o,this.state.selectedNetworkClientId,"f"),B(this,f,pe(this.state.networkConfigurationsByChainId),"f"),this.messenger.registerActionHandler(`${this.name}:getEthQuery`,()=>N(this,i,"f")),this.messenger.registerActionHandler(`${this.name}:getNetworkClientById`,this.getNetworkClientById.bind(this)),this.messenger.registerActionHandler(`${this.name}:getEIP1559Compatibility`,this.getEIP1559Compatibility.bind(this)),this.messenger.registerActionHandler(`${this.name}:setActiveNetwork`,this.setActiveNetwork.bind(this)),this.messenger.registerActionHandler(`${this.name}:setProviderType`,this.setProviderType.bind(this)),this.messenger.registerActionHandler(`${this.name}:findNetworkClientIdByChainId`,this.findNetworkClientIdByChainId.bind(this)),this.messenger.registerActionHandler(`${this.name}:getNetworkConfigurationByChainId`,this.getNetworkConfigurationByChainId.bind(this)),this.messenger.registerActionHandler(`${this.name}:getNetworkConfigurationByNetworkClientId`,this.getNetworkConfigurationByNetworkClientId.bind(this)),this.messenger.registerActionHandler(`${this.name}:getSelectedNetworkClient`,this.getSelectedNetworkClient.bind(this)),this.messenger.registerActionHandler(`${this.name}:getSelectedChainId`,this.getSelectedChainId.bind(this)),this.messenger.registerActionHandler(`${this.name}:addNetwork`,this.addNetwork.bind(this)),this.messenger.registerActionHandler(`${this.name}:removeNetwork`,this.removeNetwork.bind(this)),this.messenger.registerActionHandler(`${this.name}:updateNetwork`,this.updateNetwork.bind(this)),this.messenger.subscribe(`${this.name}:rpcEndpointChainUnavailable`,({networkClientId:e})=>{N(this,n,"m",v).call(this,e,{networkStatus:Y.NetworkStatus.Unavailable})}),this.messenger.subscribe(`${this.name}:rpcEndpointChainDegraded`,({networkClientId:e})=>{N(this,n,"m",v).call(this,e,{networkStatus:Y.NetworkStatus.Degraded})}),this.messenger.subscribe(`${this.name}:rpcEndpointChainAvailable`,({networkClientId:e})=>{N(this,n,"m",v).call(this,e,{networkStatus:Y.NetworkStatus.Available})})}enableRpcFailover(){N(this,n,"m",y).call(this,!0)}disableRpcFailover(){N(this,n,"m",y).call(this,!1)}getProviderAndBlockTracker(){return{provider:N(this,a,"f"),blockTracker:N(this,c,"f")}}getSelectedNetworkClient(){return N(this,a,"f")&&N(this,c,"f")?{provider:N(this,a,"f"),blockTracker:N(this,c,"f")}:undefined}getSelectedChainId(){const e=this.getNetworkConfigurationByNetworkClientId(this.state.selectedNetworkClientId);return e?.chainId}getNetworkClientRegistry(){const e=N(this,n,"m",C).call(this);return Object.assign({},e[Z.NetworkClientType.Infura],e[Z.NetworkClientType.Custom])}getNetworkClientById(e){if(!e)throw new Error("No network client ID was provided.");const t=N(this,n,"m",C).call(this);if((0,U.isInfuraNetworkType)(e)){const r=t[Z.NetworkClientType.Infura][e];if(!r)throw new Error(`No Infura network client was found with the ID "${e}".`);return r}const r=t[Z.NetworkClientType.Custom][e];if(!r)throw new Error(`No custom network client was found with the ID "${e}".`);return r}initializeProvider({lookupNetwork:e=!0}={}){return N(this,n,"m",x).call(this,this.state.selectedNetworkClientId),e?this.lookupNetwork():undefined}async lookupNetwork(e){e?await N(this,n,"m",b).call(this,e):await N(this,n,"m",k).call(this)}async lookupNetworkByClientId(e){await N(this,n,"m",b).call(this,e)}async setProviderType(e){if(e===U.NetworkType.rpc)throw new Error(`NetworkController - cannot call "setProviderType" with type "${U.NetworkType.rpc}". Use "setActiveNetwork"`);if(!(0,U.isInfuraNetworkType)(e))throw new Error(`Unknown Infura provider type "${String(e)}".`);await this.setActiveNetwork(e)}async setActiveNetwork(e,t={}){B(this,o,this.state.selectedNetworkClientId,"f"),await N(this,n,"m",g).call(this,e,t)}async getEIP1559Compatibility(e){if(e)return this.get1559CompatibilityWithNetworkClientId(e);if(!N(this,i,"f"))return!1;const{EIPS:t}=this.state.networksMetadata[this.state.selectedNetworkClientId];if(t[1559]!==undefined)return t[1559];const r=await N(this,n,"m",T).call(this,this.state.selectedNetworkClientId);return this.update(e=>{r!==undefined&&(e.networksMetadata[e.selectedNetworkClientId].EIPS[1559]=r)}),r}async get1559CompatibilityWithNetworkClientId(e){let t=this.state.networksMetadata[e];t?.EIPS[1559]===undefined&&(await this.lookupNetwork(e),t=this.state.networksMetadata[e]);const{EIPS:r}=t;return r[1559]}async resetConnection(){await N(this,n,"m",g).call(this,this.state.selectedNetworkClientId)}getNetworkConfigurationByChainId(e){return this.state.networkConfigurationsByChainId[e]}getNetworkConfigurationByNetworkClientId(e){return N(this,f,"f").get(e)}addNetwork(e){const{rpcEndpoints:t}=e,r=N(this,n,"m",C).call(this);N(this,n,"m",E).call(this,{mode:"add",networkFields:e,autoManagedNetworkClientRegistry:r});const i=t.map(e=>({type:"add",rpcEndpoint:e.type===re.Custom?{...e,networkClientId:(0,J.v4)()}:e})),s=N(this,n,"m",j).call(this,{networkFields:e,networkClientOperations:i});return N(this,n,"m",S).call(this,{networkFields:e,networkClientOperations:i,autoManagedNetworkClientRegistry:r}),this.update(t=>{N(this,n,"m",P).call(this,{state:t,mode:"add",networkFields:e,networkConfigurationToPersist:s})}),this.messenger.publish(`${ie}:networkAdded`,s),s}async updateNetwork(e,t,{replacementSelectedRpcEndpointIndex:r}={}){const i=this.state.networkConfigurationsByChainId[e];if(i===undefined)throw new Error(`Could not update network: Cannot find network configuration for chain '${e}'`);const s=e,{chainId:o,rpcEndpoints:a}=t,c=N(this,n,"m",C).call(this);N(this,n,"m",E).call(this,{mode:"update",networkFields:t,existingNetworkConfiguration:i,autoManagedNetworkClientRegistry:c});const u=[];for(const e of a){const t=i.rpcEndpoints.find(t=>t.type===e.type&&t.url===e.url&&(t.networkClientId===e.networkClientId||e.networkClientId===undefined)),r=i.rpcEndpoints.find(t=>t.type===re.Infura&&e.type===re.Infura||t.type===e.type&&t.networkClientId===e.networkClientId&&t.url===e.url),n=i.rpcEndpoints.find(t=>t.type===e.type&&(t.url===e.url||t.networkClientId===e.networkClientId));if(o!==s&&r!==undefined){const t=e.type===re.Infura?e:{...e,networkClientId:(0,J.v4)()};u.push({type:"replace",oldRpcEndpoint:r,newRpcEndpoint:t})}else if(t!==undefined){let r;r=t.type===re.Infura?t:Object.assign({},e,{networkClientId:t.networkClientId}),u.push({type:"noop",rpcEndpoint:r})}else if(n===undefined){const t={type:"add",rpcEndpoint:e.type===re.Infura?e:{...e,networkClientId:(0,J.v4)()}};u.push(t)}else{let t;t=e.type===re.Infura?e:{...e,networkClientId:(0,J.v4)()},u.push({type:"replace",oldRpcEndpoint:n,newRpcEndpoint:t})}}for(const e of i.rpcEndpoints)if(!u.some(t=>{const r="replace"===t.type?t.oldRpcEndpoint:t.rpcEndpoint;return r.type===e.type&&r.networkClientId===e.networkClientId&&r.url===e.url})){const t={type:"remove",rpcEndpoint:e};u.push(t)}const l=N(this,n,"m",j).call(this,{networkFields:t,networkClientOperations:u});if(r===undefined&&u.some(e=>"remove"===e.type&&e.rpcEndpoint.networkClientId===this.state.selectedNetworkClientId)&&!u.some(e=>"replace"===e.type&&e.oldRpcEndpoint.networkClientId===this.state.selectedNetworkClientId))throw new Error(`Could not update network: Cannot update RPC endpoints in such a way that the selected network '${this.state.selectedNetworkClientId}' would be removed without a replacement. Choose a different RPC endpoint as the selected network via the \`replacementSelectedRpcEndpointIndex\` option.`);N(this,n,"m",S).call(this,{networkFields:t,networkClientOperations:u,autoManagedNetworkClientRegistry:c});const d=u.map((e,t)=>[e,t]).find(([e,t])=>"replace"===e.type&&e.oldRpcEndpoint.networkClientId===this.state.selectedNetworkClientId),p=r??d?.[1];let h;if(p!==undefined&&(h=l.rpcEndpoints[p],h===undefined))throw new Error(`Could not update network: \`replacementSelectedRpcEndpointIndex\` ${p} does not refer to an entry in \`rpcEndpoints\``);return h&&h.networkClientId!==this.state.selectedNetworkClientId?await this.setActiveNetwork(h.networkClientId,{updateState:e=>{N(this,n,"m",P).call(this,{state:e,mode:"update",networkFields:t,networkConfigurationToPersist:l,existingNetworkConfiguration:i})}}):this.update(e=>{N(this,n,"m",P).call(this,{state:e,mode:"update",networkFields:t,networkConfigurationToPersist:l,existingNetworkConfiguration:i})}),N(this,n,"m",A).call(this,{networkClientOperations:u,autoManagedNetworkClientRegistry:c}),l}removeNetwork(e){const t=this.state.networkConfigurationsByChainId[e];if(t===undefined)throw new Error(`Cannot find network configuration for chain '${e}'`);if(t.rpcEndpoints.some(e=>e.networkClientId===this.state.selectedNetworkClientId))throw new Error("Cannot remove the currently selected network");const r=N(this,n,"m",C).call(this),i=t.rpcEndpoints.map(e=>({type:"remove",rpcEndpoint:e}));N(this,n,"m",A).call(this,{networkClientOperations:i,autoManagedNetworkClientRegistry:r}),this.update(e=>{N(this,n,"m",P).call(this,{state:e,mode:"remove",existingNetworkConfiguration:t});for(const r of t.rpcEndpoints)delete e.networksMetadata[r.networkClientId]}),this.messenger.publish("NetworkController:networkRemoved",t)}async rollbackToPreviousProvider(){await N(this,n,"m",g).call(this,N(this,o,"f"))}async destroy(){await(N(this,c,"f")?.destroy())}loadBackup({networkConfigurationsByChainId:e}){this.update(t=>{t.networkConfigurationsByChainId={...t.networkConfigurationsByChainId,...e}})}findNetworkClientIdByChainId(e){const t=this.state.networkConfigurationsByChainId[e];if(!t)throw new Error(`Invalid chain ID "${e}"`);const{networkClientId:r}=t.rpcEndpoints[t.defaultRpcEndpointIndex];return r}}r.NetworkController=he,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,m=new WeakMap,n=new WeakSet,y=function(e){if(N(this,m,"f")===e)return;const t=N(this,n,"m",C).call(this);for(const r of Object.values(t))for(const t of Object.keys(r)){const n=r[t];n.configuration.failoverRpcUrls&&n.configuration.failoverRpcUrls.length>0&&(e?n.enableRpcFailover():n.disableRpcFailover())}B(this,m,e,"f")},g=async function(e,t={}){this.messenger.publish("NetworkController:networkWillChange",this.state),N(this,n,"m",x).call(this,e,t),this.messenger.publish("NetworkController:networkDidChange",this.state),await this.lookupNetwork()},w=async function(e){const t=((0,U.isInfuraNetworkType)(e),this.getNetworkClientById(e)).configuration.type===Z.NetworkClientType.Infura;let r,i;try{i=await N(this,n,"m",T).call(this,e),r=Y.NetworkStatus.Available}catch(e){if(ee("NetworkController: lookupNetwork: ",e),function(e){return"object"==typeof e&&null!==e&&"code"in e}(e)){let n;if(t&&(0,H.hasProperty)(e,"message")&&"string"==typeof e.message)try{n=JSON.parse(e.message)}catch{N(this,d,"f")?.warn("NetworkController: lookupNetwork: json parse error: ",e)}(0,H.isPlainObject)(n)&&n.error===Y.INFURA_BLOCKED_KEY?r=Y.NetworkStatus.Blocked:e.code===q.errorCodes.rpc.internal?(r=Y.NetworkStatus.Unknown,N(this,d,"f")?.warn("NetworkController: lookupNetwork: rpc internal error: ",e)):(r=Y.NetworkStatus.Unavailable,N(this,d,"f")?.warn("NetworkController: lookupNetwork: ",e))}else ee("NetworkController - could not determine network status",e),r=Y.NetworkStatus.Unknown,N(this,d,"f")?.warn("NetworkController: lookupNetwork: ",e)}return{isInfura:t,networkStatus:r,isEIP1559Compatible:i}},b=async function(e){const{networkStatus:t,isEIP1559Compatible:r}=await N(this,n,"m",w).call(this,e);N(this,n,"m",v).call(this,e,{networkStatus:t,isEIP1559Compatible:r})},k=async function(){if(!N(this,i,"f"))return;let e=!1;const t=()=>{e=!0;try{this.messenger.unsubscribe("NetworkController:networkDidChange",t)}catch(e){if(!(e instanceof Error)||"Subscription not found for event: NetworkController:networkDidChange"!==e.message)throw e}};this.messenger.subscribe("NetworkController:networkDidChange",t);const{isInfura:r,networkStatus:s,isEIP1559Compatible:o}=await N(this,n,"m",w).call(this,this.state.selectedNetworkClientId);if(!e){try{this.messenger.unsubscribe("NetworkController:networkDidChange",t)}catch(e){if(!(e instanceof Error)||"Subscription not found for event: NetworkController:networkDidChange"!==e.message)throw e}N(this,n,"m",v).call(this,this.state.selectedNetworkClientId,{networkStatus:s,isEIP1559Compatible:o}),r?s===Y.NetworkStatus.Available?this.messenger.publish("NetworkController:infuraIsUnblocked"):s===Y.NetworkStatus.Blocked&&this.messenger.publish("NetworkController:infuraIsBlocked"):this.messenger.publish("NetworkController:infuraIsUnblocked")}},v=function(e,t){this.update(r=>{var n;(n=r.networksMetadata)[e]??(n[e]={status:Y.NetworkStatus.Unknown,EIPS:{}});const i=r.networksMetadata[e];i.status=t.networkStatus,"isEIP1559Compatible"in t&&(t.isEIP1559Compatible===undefined?delete i.EIPS[1559]:i.EIPS[1559]=t.isEIP1559Compatible)})},_=function(e=this.state.selectedNetworkClientId){const t=this.getNetworkClientById(e),r=new L.default(t.provider);return new Promise((e,t)=>{r.sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},(r,n)=>{r?t(r):e(n)})})},T=async function(e){const t=await N(this,n,"m",_).call(this,e);return t?t.baseFeePerGas!==undefined:undefined},E=function(e){const{mode:t,networkFields:r,autoManagedNetworkClientRegistry:n}=e,i="existingNetworkConfiguration"in e?e.existingNetworkConfiguration:null,s="update"===t?"Could not update network":"Could not add network";if(!(0,H.isStrictHexString)(r.chainId)||!(0,U.isSafeChainId)(r.chainId))throw new Error(`${s}: Invalid \`chainId\` '${r.chainId}' (must start with "0x" and not exceed the maximum)`);if(null===i||r.chainId!==i.chainId){const t=this.state.networkConfigurationsByChainId[r.chainId];if(t!==undefined)throw null===i?new Error(`Could not add network for chain ${e.networkFields.chainId} as another network for that chain already exists ('${t.name}')`):new Error(`Cannot move network from chain ${i.chainId} to ${r.chainId} as another network for that chain already exists ('${t.name}')`)}if(r.blockExplorerUrls.length>0?r.defaultBlockExplorerUrlIndex===undefined||r.blockExplorerUrls[r.defaultBlockExplorerUrlIndex]===undefined:r.defaultBlockExplorerUrlIndex!==undefined)throw new Error(`${s}: \`defaultBlockExplorerUrlIndex\` must refer to an entry in \`blockExplorerUrls\``);if(0===r.rpcEndpoints.length)throw new Error(`${s}: \`rpcEndpoints\` must be a non-empty array`);for(const e of r.rpcEndpoints){if(!le(e.url))throw new Error(`${s}: An entry in \`rpcEndpoints\` has invalid URL '${e.url}'`);const o="networkClientId"in e?e.networkClientId:undefined;if(e.type===re.Custom&&o!==undefined&&(0,U.isInfuraNetworkType)(o))throw new Error(`${s}: Custom RPC endpoint '${e.url}' has invalid network client ID '${o}'`);if("update"===t&&o!==undefined&&e.type===re.Custom&&!Object.values(n).some(e=>o in e))throw new Error(`${s}: RPC endpoint '${e.url}' refers to network client '${o}' that does not exist`);if(r.rpcEndpoints.some(t=>t!==e&&z.equal(t.url,e.url)))throw new Error(`${s}: Each entry in rpcEndpoints must have a unique URL`);const a=Object.values(this.state.networkConfigurationsByChainId).filter(e=>!i||e.chainId!==i.chainId);for(const r of a){if(r.rpcEndpoints.find(t=>z.equal(e.url,t.url)))throw"update"===t?new Error(`Could not update network to point to same RPC endpoint as existing network for chain ${r.chainId} ('${r.name}')`):new Error(`Could not add network that points to same RPC endpoint as existing network for chain ${r.chainId} ('${r.name}')`)}}if([...new Set(r.rpcEndpoints)].length<r.rpcEndpoints.length)throw new Error(`${s}: Each entry in rpcEndpoints must be unique`);const o=r.rpcEndpoints.map(e=>"networkClientId"in e?e.networkClientId:undefined).filter(e=>e!==undefined);if([...new Set(o)].length<o.length)throw new Error(`${s}: Each entry in rpcEndpoints must have a unique networkClientId`);const a=r.rpcEndpoints.filter(e=>e.type===re.Infura);if(a.length>1)throw new Error(`${s}: There cannot be more than one Infura RPC endpoint`);const c=a[0];if(c){const e=de(c.url),n=U.NetworkNickname[e],i=U.ChainId[e];if(r.chainId!==i)throw new Error("add"===t?`Could not add network with chain ID ${r.chainId} and Infura RPC endpoint for '${n}' which represents ${i}, as the two conflict`:`Could not update network with chain ID ${r.chainId} and Infura RPC endpoint for '${n}' which represents ${i}, as the two conflict`)}if(r.rpcEndpoints[r.defaultRpcEndpointIndex]===undefined)throw new Error(`${s}: \`defaultRpcEndpointIndex\` must refer to an entry in \`rpcEndpoints\``)},j=function({networkFields:e,networkClientOperations:t}){return{...e,rpcEndpoints:t.filter(e=>"add"===e.type||"noop"===e.type).map(e=>e.rpcEndpoint).concat(t.filter(e=>"replace"===e.type).map(e=>e.newRpcEndpoint))}},S=function({networkFields:e,networkClientOperations:t,autoManagedNetworkClientRegistry:r}){const n=t.filter(e=>"add"===e.type).map(e=>e.rpcEndpoint).concat(t.filter(e=>"replace"===e.type).map(e=>e.newRpcEndpoint));for(const t of n)t.type===re.Infura?r[Z.NetworkClientType.Infura][t.networkClientId]=(0,X.createAutoManagedNetworkClient)({networkClientId:t.networkClientId,networkClientConfiguration:{type:Z.NetworkClientType.Infura,chainId:e.chainId,network:t.networkClientId,failoverRpcUrls:t.failoverUrls,infuraProjectId:N(this,s,"f"),ticker:e.nativeCurrency},getRpcServiceOptions:N(this,p,"f"),getBlockTrackerOptions:N(this,h,"f"),messenger:this.messenger,isRpcFailoverEnabled:N(this,m,"f"),logger:N(this,d,"f")}):r[Z.NetworkClientType.Custom][t.networkClientId]=(0,X.createAutoManagedNetworkClient)({networkClientId:t.networkClientId,networkClientConfiguration:{type:Z.NetworkClientType.Custom,chainId:e.chainId,failoverRpcUrls:t.failoverUrls,rpcUrl:t.url,ticker:e.nativeCurrency},getRpcServiceOptions:N(this,p,"f"),getBlockTrackerOptions:N(this,h,"f"),messenger:this.messenger,isRpcFailoverEnabled:N(this,m,"f"),logger:N(this,d,"f")})},A=function({networkClientOperations:e,autoManagedNetworkClientRegistry:t}){const r=e.filter(e=>"remove"===e.type).map(e=>e.rpcEndpoint).concat(e.filter(e=>"replace"===e.type).map(e=>e.oldRpcEndpoint));for(const e of r){const r=this.getNetworkClientById(e.networkClientId);r.destroy(),delete t[r.configuration.type][e.networkClientId]}},P=function(e){const{state:t,mode:r}=e;("remove"===r||"update"===r&&e.networkFields.chainId!==e.existingNetworkConfiguration.chainId)&&delete t.networkConfigurationsByChainId[e.existingNetworkConfiguration.chainId],"add"!==r&&"update"!==r||((0,$.default)(t.networkConfigurationsByChainId[e.networkFields.chainId],e.networkConfigurationToPersist)||(e.networkConfigurationToPersist.lastUpdatedAt=Date.now()),t.networkConfigurationsByChainId[e.networkFields.chainId]=e.networkConfigurationToPersist),B(this,f,pe((0,G.cloneDeep)(t.networkConfigurationsByChainId)),"f")},C=function(){return B(this,u,N(this,u,"f")??N(this,n,"m",I).call(this),"f")},I=function(){return ne(this.state.networkConfigurationsByChainId).flatMap(e=>{const t=this.state.networkConfigurationsByChainId[e];return t.rpcEndpoints.map(e=>{if(e.type===re.Infura){const r=de(e.url);return[e.networkClientId,(0,X.createAutoManagedNetworkClient)({networkClientId:e.networkClientId,networkClientConfiguration:{type:Z.NetworkClientType.Infura,network:r,failoverRpcUrls:e.failoverUrls,infuraProjectId:N(this,s,"f"),chainId:t.chainId,ticker:t.nativeCurrency},getRpcServiceOptions:N(this,p,"f"),getBlockTrackerOptions:N(this,h,"f"),messenger:this.messenger,isRpcFailoverEnabled:N(this,m,"f"),logger:N(this,d,"f")})]}return[e.networkClientId,(0,X.createAutoManagedNetworkClient)({networkClientId:e.networkClientId,networkClientConfiguration:{type:Z.NetworkClientType.Custom,chainId:t.chainId,failoverRpcUrls:e.failoverUrls,rpcUrl:e.url,ticker:t.nativeCurrency},getRpcServiceOptions:N(this,p,"f"),getBlockTrackerOptions:N(this,h,"f"),messenger:this.messenger,isRpcFailoverEnabled:N(this,m,"f"),logger:N(this,d,"f")})]})}).reduce((e,[t,r])=>({...e,[r.configuration.type]:{...e[r.configuration.type],[t]:r}}),{[Z.NetworkClientType.Custom]:{},[Z.NetworkClientType.Infura]:{}})},x=function(e,{updateState:t}={}){const r=N(this,n,"m",C).call(this);let s;if((0,U.isInfuraNetworkType)(e)){const t=r[Z.NetworkClientType.Infura][e];if(!t)throw new Error(`No Infura network client found with ID '${e}'`);s=t}else{const t=r[Z.NetworkClientType.Custom][e];if(!t)throw new Error(`No network client found with ID '${e}'`);s=t}B(this,l,s,"f"),this.update(r=>{var n;r.selectedNetworkClientId=e,(n=r.networksMetadata)[e]??(n[e]={status:Y.NetworkStatus.Unknown,EIPS:{}}),t?.(r)}),N(this,a,"f")?N(this,a,"f").setTarget(N(this,l,"f").provider):B(this,a,(0,F.createSwappableProxy)(N(this,l,"f").provider),"f"),N(this,c,"f")?N(this,c,"f").setTarget(N(this,l,"f").blockTracker):B(this,c,(0,F.createEventEmitterProxy)(N(this,l,"f").blockTracker,{eventFilter:"skipInternal"}),"f"),B(this,i,new L.default(N(this,a,"f")),"f")}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/NetworkController.cjs"}],[2316,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.DEPRECATED_NETWORKS=r.INFURA_BLOCKED_KEY=r.NetworkStatus=void 0,function(e){e.Unknown="unknown",e.Available="available",e.Degraded="degraded",e.Unavailable="unavailable",e.Blocked="blocked"}(n||(r.NetworkStatus=n={})),r.INFURA_BLOCKED_KEY="countryBlocked",r.DEPRECATED_NETWORKS=new Set(["0xe704","0x5"])}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/constants.cjs"}],[2317,{"./create-network-client.cjs":2318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAutoManagedNetworkClient=void 0;const n=e("./create-network-client.cjs"),i="__target__",s={__UNINITIALIZED__:!0};r.createAutoManagedNetworkClient=function({networkClientId:e,networkClientConfiguration:t,getRpcServiceOptions:r,getBlockTrackerOptions:o=()=>({}),messenger:a,isRpcFailoverEnabled:c,logger:u}){let l,d=c;const p=()=>{if(l??(l=(0,n.createNetworkClient)({id:e,configuration:t,getRpcServiceOptions:r,getBlockTrackerOptions:o,messenger:a,isRpcFailoverEnabled:d,logger:u})),l===undefined)throw new Error("It looks like `createNetworkClient` didn't return anything. Perhaps it's being mocked?");return l},h=new Proxy(s,{get(e,t,r){if(t===i)return l?.provider;const{provider:n}=p();if(t in n){const e=n[t];return"function"==typeof e?function(...t){return e.apply(this===r?n:this,t)}:e}return undefined},has(e,t){if(t===i)return!0;const{provider:r}=p();return t in r}}),f=new Proxy(s,{get(e,t,r){if(t===i)return l?.blockTracker;const{blockTracker:n}=p();if(t in n){const e=n[t];return"function"==typeof e?function(...t){return e.apply(this===r?n:this,t)}:e}return undefined},has(e,t){if(t===i)return!0;const{blockTracker:r}=p();return t in r}}),m=()=>{l?.destroy()};return{configuration:t,provider:h,blockTracker:f,destroy:m,enableRpcFailover:()=>{d=!0,m(),l=undefined},disableRpcFailover:()=>{d=!1,m(),l=undefined}}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-auto-managed-network-client.cjs"}],[2318,{"./rpc-service/rpc-service-chain.cjs":2321,"./types.cjs":2323,"@metamask/connectivity-controller":1443,"@metamask/controller-utils":1449,"@metamask/eth-block-tracker":1858,"@metamask/eth-json-rpc-infura":1874,"@metamask/eth-json-rpc-middleware":2329,"@metamask/eth-json-rpc-provider":1899,"@metamask/json-rpc-engine":2109,"@metamask/json-rpc-engine/v2":2119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNetworkClient=void 0;const n=e("@metamask/connectivity-controller"),i=e("@metamask/controller-utils"),s=e("@metamask/eth-block-tracker"),o=e("@metamask/eth-json-rpc-infura"),a=e("@metamask/eth-json-rpc-middleware"),c=e("@metamask/eth-json-rpc-provider"),u=e("@metamask/eth-json-rpc-provider"),l=e("@metamask/json-rpc-engine"),d=e("@metamask/json-rpc-engine/v2"),p=e("./rpc-service/rpc-service-chain.cjs"),h=e("./types.cjs");function f({network:e}){return(0,d.createScaffoldMiddleware)({eth_chainId:i.ChainId[e]})}r.createNetworkClient=function({id:e,configuration:t,getRpcServiceOptions:r,getBlockTrackerOptions:i,messenger:y,isRpcFailoverEnabled:g,logger:w}){const b=t.type===h.NetworkClientType.Infura?`https://${t.network}.infura.io/v3/${t.infuraProjectId}`:t.rpcUrl,k=function({id:e,primaryEndpointUrl:t,configuration:r,getRpcServiceOptions:i,messenger:s,isRpcFailoverEnabled:o,logger:a}){const c=o?[t,...r.failoverRpcUrls??[]]:[t],u=()=>s.call("ConnectivityController:getState").connectivityStatus===n.CONNECTIVITY_STATUSES.Offline,l=c.map(e=>({...i(e),endpointUrl:e,logger:a,isOffline:u})),d=e=>"error"in e?e.error:"value"in e?e.value:undefined,h=new p.RpcServiceChain([l[0],...l.slice(1)]);return h.onBreak(t=>{const n=d(t);if(n===undefined)throw new Error("Could not make request to endpoint.");s.publish("NetworkController:rpcEndpointChainUnavailable",{chainId:r.chainId,networkClientId:e,error:n})}),h.onServiceBreak(({endpointUrl:t,primaryEndpointUrl:n,...i})=>{const o=d(i);if(o===undefined)throw new Error("Could not make request to endpoint.");s.publish("NetworkController:rpcEndpointUnavailable",{chainId:r.chainId,networkClientId:e,primaryEndpointUrl:n,endpointUrl:t,error:o})}),h.onDegraded(t=>{const n=d(t);s.publish("NetworkController:rpcEndpointChainDegraded",{chainId:r.chainId,networkClientId:e,error:n})}),h.onServiceDegraded(({endpointUrl:t,primaryEndpointUrl:n,...i})=>{const o=d(i);s.publish("NetworkController:rpcEndpointDegraded",{chainId:r.chainId,networkClientId:e,primaryEndpointUrl:n,endpointUrl:t,error:o})}),h.onAvailable(()=>{s.publish("NetworkController:rpcEndpointChainAvailable",{chainId:r.chainId,networkClientId:e})}),h.onServiceRetry(({attempt:t,endpointUrl:n,primaryEndpointUrl:i})=>{s.publish("NetworkController:rpcEndpointRetried",{chainId:r.chainId,networkClientId:e,primaryEndpointUrl:i,endpointUrl:n,attempt:t})}),h}({id:e,primaryEndpointUrl:b,configuration:t,getRpcServiceOptions:r,messenger:y,isRpcFailoverEnabled:g,logger:w});let v;v=t.type===h.NetworkClientType.Infura?(0,l.asV2Middleware)((0,o.createInfuraMiddleware)({rpcService:k,options:{source:"metamask"}})):(0,a.createFetchMiddleware)({rpcService:k});const _=(0,u.providerFromMiddlewareV2)(v),T=function({networkClientType:e,endpointUrl:t,getOptions:r,provider:n}){const i={};return new s.PollingBlockTracker({...i,...r(t),provider:n})}({networkClientType:t.type,endpointUrl:b,getOptions:i,provider:_}),E=t.type===h.NetworkClientType.Infura?function({blockTracker:e,network:t,rpcProvider:r,rpcApiMiddleware:n}){return d.JsonRpcEngineV2.create({middleware:[f({network:t}),(0,a.createBlockCacheMiddleware)({blockTracker:e}),(0,a.createInflightCacheMiddleware)(),(0,a.createBlockRefMiddleware)({blockTracker:e,provider:r}),(0,a.createRetryOnEmptyMiddleware)({blockTracker:e,provider:r}),(0,a.createBlockTrackerInspectorMiddleware)({blockTracker:e}),n]}).asMiddleware()}({blockTracker:T,network:t.network,rpcProvider:_,rpcApiMiddleware:v}):function({blockTracker:e,chainId:t,rpcApiMiddleware:r}){const n=[];return d.JsonRpcEngineV2.create({middleware:[...n,m(t),(0,a.createBlockRefRewriteMiddleware)({blockTracker:e}),(0,a.createBlockCacheMiddleware)({blockTracker:e}),(0,a.createInflightCacheMiddleware)(),(0,a.createBlockTrackerInspectorMiddleware)({blockTracker:e}),r]}).asMiddleware()}({blockTracker:T,chainId:t.chainId,rpcApiMiddleware:v});return{configuration:t,provider:new c.InternalProvider({engine:d.JsonRpcEngineV2.create({middleware:[E]})}),blockTracker:T,destroy:()=>{T.destroy()}}};const m=e=>({request:t,next:r})=>"eth_chainId"===t.method?e:r()}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-network-client.cjs"}],[2319,{"./NetworkController.cjs":2315,"./constants.cjs":2316,"./rpc-service/rpc-service.cjs":2322,"./types.cjs":2323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.isConnectionError=r.NetworkClientType=r.RpcEndpointType=r.NetworkController=r.knownKeysOf=r.selectAvailableNetworkClientIds=r.getDefaultNetworkControllerState=void 0;var s=e("./NetworkController.cjs");Object.defineProperty(r,"getDefaultNetworkControllerState",{enumerable:!0,get:function(){return s.getDefaultNetworkControllerState}}),Object.defineProperty(r,"selectAvailableNetworkClientIds",{enumerable:!0,get:function(){return s.selectAvailableNetworkClientIds}}),Object.defineProperty(r,"knownKeysOf",{enumerable:!0,get:function(){return s.knownKeysOf}}),Object.defineProperty(r,"NetworkController",{enumerable:!0,get:function(){return s.NetworkController}}),Object.defineProperty(r,"RpcEndpointType",{enumerable:!0,get:function(){return s.RpcEndpointType}}),i(e("./constants.cjs"),r);var o=e("./types.cjs");Object.defineProperty(r,"NetworkClientType",{enumerable:!0,get:function(){return o.NetworkClientType}});var a=e("./rpc-service/rpc-service.cjs");Object.defineProperty(r,"isConnectionError",{enumerable:!0,get:function(){return a.isConnectionError}})}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/index.cjs"}],[2320,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("network-controller")}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/logger.cjs"}],[2321,{"../logger.cjs":2320,"./rpc-service.cjs":2322,"@metamask/controller-utils":1449},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},l=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.RpcServiceChain=void 0;const d=e("@metamask/controller-utils"),p=e("./rpc-service.cjs"),h=e("../logger.cjs"),f=(0,h.createModuleLogger)(h.projectLogger,"RpcServiceChain"),m="available",y="degraded",g="unknown",w="unavailable";r.RpcServiceChain=class{constructor(e){n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u(this,a,e.map(e=>new p.RpcService(e)),"f"),u(this,o,l(this,a,"f")[0],"f"),u(this,c,g,"f"),u(this,i,new d.CockatielEventEmitter,"f"),u(this,s,new d.CockatielEventEmitter,"f");for(const e of l(this,a,"f"))e.onDegraded(e=>{if(l(this,c,"f")!==y){f('Updating status to "degraded"',e),u(this,c,y,"f");const{endpointUrl:t,...r}=e;l(this,s,"f").emit(r)}});u(this,n,new d.CockatielEventEmitter,"f");for(const e of l(this,a,"f"))e.onAvailable(e=>{if(l(this,c,"f")!==m){f('Updating status to "available"',e),u(this,c,m,"f");const{endpointUrl:t,...r}=e;l(this,n,"f").emit(r)}})}onServiceRetry(e){const t=l(this,a,"f").map(t=>t.onRetry(t=>{e({...t,primaryEndpointUrl:l(this,o,"f").endpointUrl.toString()})}));return{dispose(){t.forEach(e=>e.dispose())}}}onBreak(e){return l(this,i,"f").addListener(e)}onServiceBreak(e){const t=l(this,a,"f").map(t=>t.onBreak(t=>{e({...t,primaryEndpointUrl:l(this,o,"f").endpointUrl.toString()})}));return{dispose(){t.forEach(e=>e.dispose())}}}onDegraded(e){return l(this,s,"f").addListener(e)}onServiceDegraded(e){const t=l(this,a,"f").map(t=>t.onDegraded(t=>{e({...t,primaryEndpointUrl:l(this,o,"f").endpointUrl.toString()})}));return{dispose(){t.forEach(e=>e.dispose())}}}onAvailable(e){return l(this,n,"f").addListener(e)}async request(e,t={}){let r,n;for(const[s,o]of l(this,a,"f").entries()){f(`Trying service #${s+1}...`);const p=o.getCircuitState();try{n=await o.request(e,t),f("Service successfully received request."),r=s;break}catch(e){const{lastError:t}=o,r=o.getCircuitState()===d.CircuitState.Open;if(f("Service failed! error =",e,"lastError = ",t),r){if(s<l(this,a,"f").length-1){f("This service's circuit is open. Proceeding to next service...");continue}p!==d.CircuitState.Open&&l(this,c,"f")!==w&&t!==undefined&&(f('This service\'s circuit just opened and it is the last service. Updating status to "unavailable" and triggering onBreak.'),u(this,c,w,"f"),l(this,i,"f").emit({error:t}))}throw f((r?"":"This service's circuit is closed. ")+"Re-throwing error."),e}}if(n){if(r!==undefined)for(const[e,t]of[...l(this,a,"f").entries()].slice(r+1))f(`Resetting policy for service #${e+1}.`),t.resetPolicy();return n}throw new Error("Nothing to return")}},n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/rpc-service/rpc-service-chain.cjs"}],[2322,{"../logger.cjs":2320,"@metamask/controller-utils":1449,"@metamask/rpc-errors":2600,"@metamask/utils":3116,cockatiel:4144,deepmerge:4237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c,u,l,d=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.RpcService=r.isConnectionError=r.CUSTOM_RPC_ERRORS=r.CONNECTION_ERRORS=r.DEFAULT_MAX_CONSECUTIVE_FAILURES=r.DEFAULT_MAX_RETRIES=void 0;const f=e("@metamask/controller-utils"),m=e("@metamask/rpc-errors"),y=e("@metamask/utils"),g=(e("cockatiel"),h(e("deepmerge"))),w=e("../logger.cjs"),b=(0,w.createModuleLogger)(w.projectLogger,"RpcService");function k(e){if("object"!=typeof e||null===e||!("message"in e))return!1;const{message:t}=e;return"string"==typeof t&&!function(e){return e.includes("Nock:")}(t)&&r.CONNECTION_ERRORS.some(({constructorName:r,pattern:n})=>e.constructor.name===r&&n.test(t))}function v(e){return e instanceof SyntaxError||/invalid json/iu.test((0,y.getErrorMessage)(e))}r.DEFAULT_MAX_RETRIES=4,r.DEFAULT_MAX_CONSECUTIVE_FAILURES=3*(1+r.DEFAULT_MAX_RETRIES),r.CONNECTION_ERRORS=[{constructorName:"TypeError",pattern:/network error/u},{constructorName:"TypeError",pattern:/Failed to fetch/u},{constructorName:"TypeError",pattern:/NetworkError when attempting to fetch resource\./u},{constructorName:"TypeError",pattern:/The Internet connection appears to be offline\./u},{constructorName:"TypeError",pattern:/Load failed/u},{constructorName:"TypeError",pattern:/Network request failed/u},{constructorName:"FetchError",pattern:/request to (.+) failed/u},{constructorName:"TypeError",pattern:/fetch failed/u},{constructorName:"TypeError",pattern:/terminated/u}],r.CUSTOM_RPC_ERRORS={unauthorized:-32006,httpClientError:-32080},r.isConnectionError=k;r.RpcService=class{constructor(e){n.add(this),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0);const{btoa:t,endpointUrl:u,fetch:l,logger:h,fetchOptions:m={},policyOptions:g={},isOffline:w}=e;d(this,i,l,"f");const b=(_=u)instanceof URL?_:new URL(_);var _;d(this,s,p(this,n,"m",c).call(this,b,m,t),"f"),this.endpointUrl=function(e){const t=new URL(e.toString());return t.username="",t.password="",t}(b),d(this,o,h,"f"),d(this,a,(0,f.createServicePolicy)({maxRetries:r.DEFAULT_MAX_RETRIES,maxConsecutiveFailures:r.DEFAULT_MAX_CONSECUTIVE_FAILURES,...g,retryFilterPolicy:(0,f.handleWhen)(e=>!w()&&(k(e)||v(e)||"httpStatus"in e&&(502===e.httpStatus||503===e.httpStatus||504===e.httpStatus)||(0,y.hasProperty)(e,"code")&&("ETIMEDOUT"===e.code||"ECONNRESET"===e.code)))}),"f")}resetPolicy(){p(this,a,"f").reset()}getCircuitState(){return p(this,a,"f").getCircuitState()}onRetry(e){return p(this,a,"f").onRetry(t=>{e({...t,endpointUrl:this.endpointUrl.toString()})})}onBreak(e){return p(this,a,"f").onBreak(t=>{"isolated"in t||e({...t,endpointUrl:this.endpointUrl.toString()})})}onDegraded(e){return p(this,a,"f").onDegraded(t=>{e({...t??{},endpointUrl:this.endpointUrl.toString()})})}onAvailable(e){return p(this,a,"f").onAvailable(()=>{e({endpointUrl:this.endpointUrl.toString()})})}async request(e,t={}){const r=p(this,n,"m",u).call(this,e,t);return await p(this,n,"m",l).call(this,r)}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakSet,c=function(e,t,r){if(e.username&&e.password){const n=r(`${e.username}:${e.password}`);return(0,g.default)(t,{headers:{Authorization:`Basic ${n}`}})}return t},u=function(e,t){const r=(0,g.default)({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},(0,g.default)(p(this,s,"f"),t)),{id:n,jsonrpc:i,method:o,params:a}=e;return{...r,body:JSON.stringify({id:n,jsonrpc:i,method:o,params:a})}},l=async function(e){let t;try{b(`[${this.endpointUrl}] Circuit state`,p(this,a,"f").getCircuitState());const r=await p(this,a,"f").execute(async r=>{if(b("REQUEST INITIATED:",this.endpointUrl.toString(),"::",e,`(attempt ${r.attempt+1})`),t=await p(this,i,"f").call(this,this.endpointUrl,e),!t.ok)throw new f.HttpError(t.status);return b("REQUEST SUCCESSFUL:",this.endpointUrl.toString(),t.status),await t.json()});return this.lastError=undefined,r}catch(e){if(b("REQUEST ERROR:",this.endpointUrl.toString(),e),this.lastError=e instanceof Error?e:new Error((0,y.getErrorMessage)(e)),e instanceof f.HttpError){const t=e.httpStatus;if(401===t)throw new m.JsonRpcError(r.CUSTOM_RPC_ERRORS.unauthorized,"Unauthorized.",{httpStatus:t});if(429===t)throw m.rpcErrors.limitExceeded({message:"Request is being rate limited.",data:{httpStatus:t}});if(t>=500||402===t||404===t)throw m.rpcErrors.resourceUnavailable({message:"RPC endpoint not found or unavailable.",data:{httpStatus:t}});throw new m.JsonRpcError(r.CUSTOM_RPC_ERRORS.httpClientError,"RPC endpoint returned HTTP client error.",{httpStatus:t})}if(v(e))throw m.rpcErrors.parse({message:"RPC endpoint did not return JSON."});if(e instanceof f.BrokenCircuitError){p(this,o,"f")?.warn(e);const t=p(this,a,"f").getRemainingCircuitOpenDuration(),r=Intl.NumberFormat(undefined,{maximumFractionDigits:2}).format((t??p(this,a,"f").circuitBreakDuration)/y.Duration.Minute);throw m.rpcErrors.resourceUnavailable({message:`RPC endpoint returned too many errors, retrying in ${r} minutes. Consider using a different RPC endpoint.`})}throw e}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/rpc-service/rpc-service.cjs"}],[2323,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkClientType=void 0,function(e){e.Custom="custom",e.Infura="infura"}(n||(r.NetworkClientType=n={}))}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/types.cjs"}],[2324,{"./logging-utils.cjs":2331,"./utils/cache.cjs":2338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockCacheMiddleware=void 0;const o=e("./logging-utils.cjs"),a=e("./utils/cache.cjs"),c=(0,o.createModuleLogger)(o.projectLogger,"block-cache"),u=[undefined,null,"<nil>"];class l{constructor(){n.set(this,void 0),i(this,n,{},"f")}getBlockCache(e){const t=Number.parseInt(e,16);let r=s(this,n,"f")[t];if(!r){const e={};s(this,n,"f")[t]=e,r=e}return r}async get(e,t){const r=this.getBlockCache(t),n=(0,a.cacheIdentifierForRequest)(e,!0);return n?r[n]:undefined}async set(e,t,r){if(!this.canCacheResult(e,r))return;const n=(0,a.cacheIdentifierForRequest)(e,!0);if(!n)return;this.getBlockCache(t)[n]=r}canCacheRequest(e){if(!(0,a.canCache)(e.method))return!1;return"pending"!==(0,a.blockTagForRequest)(e)}canCacheResult(e,t){return!u.includes(t)&&!(e.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)&&(!t?.blockHash||"0x0000000000000000000000000000000000000000000000000000000000000000"===t.blockHash))}clearBefore(e){const t=Number.parseInt(e,16);Object.keys(s(this,n,"f")).map(Number).filter(e=>e<t).forEach(e=>delete s(this,n,"f")[e])}}n=new WeakMap,r.createBlockCacheMiddleware=function({blockTracker:e}={}){if(!e)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const t=new l,r={[a.CacheStrategy.Permanent]:t,[a.CacheStrategy.Block]:t,[a.CacheStrategy.Fork]:t,[a.CacheStrategy.Never]:undefined};return async({request:n,next:i,context:s})=>{if(s.get("skipCache"))return i();const o=(0,a.cacheTypeForMethod)(n.method),u=r[o];if(!u)return i();if(!u.canCacheRequest(n))return i();const l=(0,a.blockTagForRequest)(n),d=l&&"string"==typeof l?l:"latest";let p;if(c("blockTag = %o, req = %o",d,n),"earliest"===d)p="0x00";else if("latest"===d){c("Fetching latest block number to determine cache key");const r=await e.getLatestBlock();c("Clearing values stored under block numbers before %o",r),t.clearBefore(r),p=r}else p=d;const h=await u.get(n,p);if(h===undefined){c("No cache stored under block number %o, carrying request forward",p);const e=await i();return c("Populating cache with",e),await u.set(n,p,e),e}return c("Cache hit, reusing cache result stored under block number %o",p),h}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-cache.cjs"}],[2325,{"./utils/cache.cjs":2338},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefRewriteMiddleware=void 0;const n=e("./utils/cache.cjs");r.createBlockRefRewriteMiddleware=function({blockTracker:e}={}){if(!e)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return async({request:t,next:r})=>{const i=(0,n.blockTagParamIndex)(t.method);if(i===undefined)return r();if("latest"!==(Array.isArray(t.params)&&t.params[i]?t.params[i]:"latest"))return r();const s=await e.getLatestBlock();if(Array.isArray(t.params)){const e=t.params.slice();return e[i]=s,r({...t,params:e})}return r()}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref-rewrite.cjs"}],[2326,{"./logging-utils.cjs":2331,"./utils/cache.cjs":2338,klona:4690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefMiddleware=void 0;const n=e("klona"),i=e("./logging-utils.cjs"),s=e("./utils/cache.cjs"),o=(0,i.createModuleLogger)(i.projectLogger,"block-ref");r.createBlockRefMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return async({request:r,next:i})=>{const a=(0,s.blockTagParamIndex)(r.method);if(a===undefined)return i();if("latest"!==(Array.isArray(r.params)?r.params[a]??"latest":"latest"))return o('blockRef is not "latest", carrying request forward'),i();const c=await t.getLatestBlock();o(`blockRef is "latest", setting param ${a} to latest block ${c}`);const u=(0,n.klona)(r);return Array.isArray(u.params)&&(u.params[a]=c),o("Performing another request %o",u),await e.request(u)}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref.cjs"}],[2327,{"./logging-utils.cjs":2331,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockTrackerInspectorMiddleware=void 0;const n=e("@metamask/utils"),i=e("./logging-utils.cjs"),s=(0,i.createModuleLogger)(i.projectLogger,"block-tracker-inspector"),o=["eth_getTransactionByHash","eth_getTransactionReceipt"];r.createBlockTrackerInspectorMiddleware=function({blockTracker:e}){return async({request:t,next:r})=>{if(!o.includes(t.method))return r();const i=await r(),a=function(e){if(!e||"object"!=typeof e||!(0,n.hasProperty)(e,"blockNumber"))return undefined;return"string"==typeof e.blockNumber?e.blockNumber:undefined}(i);if(a){s("res.result.blockNumber exists, proceeding. res = %o",i);Number.parseInt(a,16)>Number.parseInt(e.getCurrentBlock(),16)&&(s("blockNumber from response is greater than current block number, refreshing current block number"),await e.checkForLatestBlock())}return i}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/block-tracker-inspector.cjs"}],[2328,{"@metamask/rpc-errors":2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFetchMiddleware=void 0;const n=e("@metamask/rpc-errors");r.createFetchMiddleware=function({rpcService:e,options:t={}}){return async({request:r,context:i})=>{const s=i.get("origin"),o=t.originHttpHeaderKey!==undefined&&s!==undefined?{[t.originHttpHeaderKey]:s}:{},a=await e.request(r,{headers:o});if("error"in a)throw n.rpcErrors.internal({data:a.error});return a.result}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/fetch.cjs"}],[2329,{"./block-cache.cjs":2324,"./block-ref-rewrite.cjs":2325,"./block-ref.cjs":2326,"./block-tracker-inspector.cjs":2327,"./fetch.cjs":2328,"./inflight-cache.cjs":2330,"./methods/wallet-get-granted-execution-permissions.cjs":2332,"./methods/wallet-get-supported-execution-permissions.cjs":2333,"./providerAsMiddleware.cjs":2336,"./retryOnEmpty.cjs":2337,"./wallet.cjs":2345},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.GetSupportedExecutionPermissionsResultStruct=r.SupportedExecutionPermissionConfigStruct=r.GetGrantedExecutionPermissionsResultStruct=r.GrantedExecutionPermissionStruct=r.createFetchMiddleware=void 0,i(e("./block-cache.cjs"),r),i(e("./block-ref-rewrite.cjs"),r),i(e("./block-ref.cjs"),r),i(e("./block-tracker-inspector.cjs"),r);var s=e("./fetch.cjs");Object.defineProperty(r,"createFetchMiddleware",{enumerable:!0,get:function(){return s.createFetchMiddleware}}),i(e("./inflight-cache.cjs"),r);var o=e("./methods/wallet-get-granted-execution-permissions.cjs");Object.defineProperty(r,"GrantedExecutionPermissionStruct",{enumerable:!0,get:function(){return o.GrantedExecutionPermissionStruct}}),Object.defineProperty(r,"GetGrantedExecutionPermissionsResultStruct",{enumerable:!0,get:function(){return o.GetGrantedExecutionPermissionsResultStruct}});var a=e("./methods/wallet-get-supported-execution-permissions.cjs");Object.defineProperty(r,"SupportedExecutionPermissionConfigStruct",{enumerable:!0,get:function(){return a.SupportedExecutionPermissionConfigStruct}}),Object.defineProperty(r,"GetSupportedExecutionPermissionsResultStruct",{enumerable:!0,get:function(){return a.GetSupportedExecutionPermissionsResultStruct}}),i(e("./providerAsMiddleware.cjs"),r),i(e("./retryOnEmpty.cjs"),r),i(e("./wallet.cjs"),r)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/index.cjs"}],[2330,{"./logging-utils.cjs":2331,"./utils/cache.cjs":2338,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInflightCacheMiddleware=void 0;const n=e("@metamask/utils"),i=e("./logging-utils.cjs"),s=e("./utils/cache.cjs"),o=(0,i.createModuleLogger)(i.projectLogger,"inflight-cache");function a(e,t){setTimeout(()=>{t.forEach(([t,r])=>{"result"in e?t(e.result):r(e.error)})})}r.createInflightCacheMiddleware=function(){const e={};return async({request:t,context:r,next:i})=>{if(r.get("skipCache"))return i();const c=(0,s.cacheIdentifierForRequest)(t);if(!c)return o("Request is not cacheable, proceeding. req = %o",t),i();let u=e[c];if(u)return o("Running %i handler(s) for request %o",u.length,t),await function(e){const{resolve:t,promise:r,reject:i}=(0,n.createDeferredPromise)();return e.push([e=>t(e),e=>i(e)]),r}(u);u=[],e[c]=u,o("Carrying original request forward %o",t);try{const e=await i();return o("Running %i collected handler(s) for successful request %o",u.length,t),a({result:e},u),e}catch(e){throw o("Running %i collected handler(s) for failed request %o",u.length,t),a({error:e},u),e}finally{delete e[c]}}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/inflight-cache.cjs"}],[2331,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-json-rpc-middleware")}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/logging-utils.cjs"}],[2332,{"../utils/structs.cjs":2342,"../utils/validation.cjs":2344,"@metamask/rpc-errors":2600,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletGetGrantedExecutionPermissionsHandler=r.GetGrantedExecutionPermissionsResultStruct=r.GrantedExecutionPermissionStruct=r.GetGrantedExecutionPermissionsParamsStruct=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/structs.cjs"),a=e("../utils/validation.cjs");r.GetGrantedExecutionPermissionsParamsStruct=o.NoParamsStruct;const c=(0,i.object)({factory:s.StrictHexStruct,factoryData:s.StrictHexStruct}),u=(0,i.object)({type:(0,i.string)(),isAdjustmentAllowed:(0,i.boolean)(),data:(0,i.record)((0,i.string)(),(0,i.unknown)())});r.GrantedExecutionPermissionStruct=(0,i.object)({chainId:s.StrictHexStruct,from:s.HexChecksumAddressStruct,to:s.HexChecksumAddressStruct,permission:u,context:s.StrictHexStruct,dependencies:(0,i.array)(c),delegationManager:s.HexChecksumAddressStruct}),r.GetGrantedExecutionPermissionsResultStruct=(0,i.array)(r.GrantedExecutionPermissionStruct),r.createWalletGetGrantedExecutionPermissionsHandler=function({processGetGrantedExecutionPermissions:e}){return async({request:t,context:i})=>{if(!e)throw n.rpcErrors.methodNotSupported("wallet_getGrantedExecutionPermissions - no middleware configured");const{params:s}=t;return(0,a.validateParams)(s,r.GetGrantedExecutionPermissionsParamsStruct),await e(t,i)}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-granted-execution-permissions.cjs"}],[2333,{"../utils/structs.cjs":2342,"../utils/validation.cjs":2344,"@metamask/rpc-errors":2600,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletGetSupportedExecutionPermissionsHandler=r.GetSupportedExecutionPermissionsResultStruct=r.SupportedExecutionPermissionConfigStruct=r.GetSupportedExecutionPermissionsParamsStruct=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/structs.cjs"),a=e("../utils/validation.cjs");r.GetSupportedExecutionPermissionsParamsStruct=o.NoParamsStruct,r.SupportedExecutionPermissionConfigStruct=(0,i.object)({chainIds:(0,i.array)(s.StrictHexStruct),ruleTypes:(0,i.array)((0,i.string)())}),r.GetSupportedExecutionPermissionsResultStruct=(0,i.record)((0,i.string)(),r.SupportedExecutionPermissionConfigStruct),r.createWalletGetSupportedExecutionPermissionsHandler=function({processGetSupportedExecutionPermissions:e}){return async({request:t,context:i})=>{if(!e)throw n.rpcErrors.methodNotSupported("wallet_getSupportedExecutionPermissions - no middleware configured");const{params:s}=t;return(0,a.validateParams)(s,r.GetSupportedExecutionPermissionsParamsStruct),await e(t,i)}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-supported-execution-permissions.cjs"}],[2334,{"../utils/validation.cjs":2344,"@metamask/rpc-errors":2600,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletRequestExecutionPermissionsHandler=r.RequestExecutionPermissionsStruct=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation.cjs"),a=(0,i.object)({type:(0,i.string)(),isAdjustmentAllowed:(0,i.boolean)(),data:(0,i.record)((0,i.string)(),(0,i.unknown)())}),c=(0,i.object)({type:(0,i.string)(),data:(0,i.record)((0,i.string)(),(0,i.unknown)())}),u=(0,i.object)({chainId:s.StrictHexStruct,from:(0,i.optional)(s.HexChecksumAddressStruct),to:s.HexChecksumAddressStruct,permission:a,rules:(0,i.optional)((0,i.union)([(0,i.array)(c),(0,i.literal)(null)]))});r.RequestExecutionPermissionsStruct=(0,i.array)(u),r.createWalletRequestExecutionPermissionsHandler=function({processRequestExecutionPermissions:e}){return async({request:t,context:i})=>{if(!e)throw n.rpcErrors.methodNotSupported("wallet_requestExecutionPermissions - no middleware configured");const{params:s}=t;return(0,o.validateParams)(s,r.RequestExecutionPermissionsStruct),await e(s,t,i)}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-request-execution-permissions.cjs"}],[2335,{"../utils/validation.cjs":2344,"@metamask/rpc-errors":2600,"@metamask/superstruct":2936,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletRevokeExecutionPermissionHandler=r.RevokeExecutionPermissionRequestParamsStruct=r.RevokeExecutionPermissionResultStruct=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation.cjs");r.RevokeExecutionPermissionResultStruct=(0,i.object)({}),r.RevokeExecutionPermissionRequestParamsStruct=(0,i.object)({permissionContext:s.StrictHexStruct}),r.createWalletRevokeExecutionPermissionHandler=function({processRevokeExecutionPermission:e}){return async({request:t,context:i})=>{if(!e)throw n.rpcErrors.methodNotSupported("wallet_revokeExecutionPermission - no middleware configured");const{params:s}=t;return(0,o.validateParams)(s,r.RevokeExecutionPermissionRequestParamsStruct),await e(s,t,i)}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-revoke-execution-permission.cjs"}],[2336,{"@metamask/json-rpc-engine":2109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerAsMiddlewareV2=r.providerAsMiddleware=void 0;const n=e("@metamask/json-rpc-engine");r.providerAsMiddleware=function(e){return(0,n.createAsyncMiddleware)(async(t,r)=>{r.result=await e.request(t)})},r.providerAsMiddlewareV2=function(e){return async({request:t})=>e.request(t)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/providerAsMiddleware.cjs"}],[2337,{"./logging-utils.cjs":2331,"./utils/cache.cjs":2338,"./utils/error.cjs":2340,"./utils/timeout.cjs":2343,klona:4690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRetryOnEmptyMiddleware=void 0;const n=e("klona"),i=e("./logging-utils.cjs"),s=e("./utils/cache.cjs"),o=e("./utils/error.cjs"),a=e("./utils/timeout.cjs"),c=(0,i.createModuleLogger)(i.projectLogger,"retry-on-empty"),u=[null,"<nil>"];r.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return async({request:r,next:i})=>{const l=(0,s.blockTagParamIndex)(r.method);if(l===undefined)return i();let d=Array.isArray(r.params)&&r.params[l]?r.params[l]:undefined;if(d??(d="latest"),["latest","pending"].includes(d))return i();const p=Number.parseInt(d.slice(2),16);if(Number.isNaN(p))return i();const h=await t.getLatestBlock(),f=Number.parseInt(h.slice(2),16);if(p>f)return c("Requested block number %o is higher than latest block number %o, falling through to original request",p,f),i();c("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",p,f);const m=(0,n.klona)(r),y=await async function(e,t){for(let r=0;r<e;r++)try{return await t()}catch(e){if((0,o.isExecutionRevertedError)(e))throw e;c("(call %i) Request failed, waiting 1s to retry again...",r+1),await(0,a.timeout)(1e3)}throw c("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(10,async()=>{c("Performing request %o",m);const t=await e.request(m);c("Result is %o",t);if(u.includes(t))throw new Error(`RetryOnEmptyMiddleware - empty result "${JSON.stringify(t)}" for request "${JSON.stringify(m)}"`);return t});return c("Copying result %o",y),y}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/retryOnEmpty.cjs"}],[2338,{"safe-stable-stringify":5554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cacheTypeForMethod=r.blockTagParamIndex=r.blockTagForRequest=r.canCache=r.cacheIdentifierForRequest=r.CacheStrategy=void 0;const n=(0,e("safe-stable-stringify").configure)({bigint:!1,circularValue:Error});var i;function s(e){return a(e)!==i.Never}function o(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return undefined}}function a(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i||(r.CacheStrategy=i={})),r.cacheIdentifierForRequest=function(e,t){const r=t?function(e){if(!e.params)return[];const t=o(e.method);if(t===undefined||!Array.isArray(e.params)||t>=e.params.length)return e.params;if("eth_getBlockByNumber"===e.method)return e.params.slice(1);return e.params.slice(0,t)}(e):e.params??[];return s(e.method)?`${e.method}:${n(r)}`:null},r.canCache=s,r.blockTagForRequest=function(e){if(!e.params)return undefined;const t=o(e.method);return t===undefined||!Array.isArray(e.params)||t>=e.params.length?undefined:e.params[t]},r.blockTagParamIndex=o,r.cacheTypeForMethod=a}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/cache.cjs"}],[2339,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stripArrayTypeIfPresent=void 0;r.stripArrayTypeIfPresent=e=>e?.match(/\S\[\d*\]$/u)?e.replace(/\[\d*\]$/gu,"").trim():e}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/common.cjs"}],[2340,{"@metamask/rpc-errors":2600,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isExecutionRevertedError=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils");r.isExecutionRevertedError=function(e){return(0,i.isJsonRpcError)(e)&&e.code===n.errorCodes.rpc.invalidInput&&"execution reverted"===e.message}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/error.cjs"}],[2341,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"string"!=typeof e?e:JSON.parse(e)}function i(e){return e.startsWith("0X")?`0x${e.slice(2)}`:e}Object.defineProperty(r,"__esModule",{value:!0}),r.parseTypedMessage=r.normalizeTypedMessage=void 0,r.normalizeTypedMessage=function(e){let t;try{t=n(e)}catch{return e}const{verifyingContract:r}=t.domain??{};return r?JSON.stringify({...t,domain:{...t.domain,verifyingContract:i(r)}}):e},r.parseTypedMessage=n}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/normalize.cjs"}],[2342,{"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NoParamsStruct=r.EmptyArrayStruct=void 0;const n=e("@metamask/superstruct");r.EmptyArrayStruct=(0,n.define)("EmptyArray",e=>!(!Array.isArray(e)||0!==e.length)||"Expected an empty array"),r.NoParamsStruct=(0,n.optional)((0,n.union)([(0,n.object)({}),r.EmptyArrayStruct]))}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/structs.cjs"}],[2343,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=void 0,r.timeout=async function(e){return new Promise(t=>setTimeout(t,e))}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/timeout.cjs"}],[2344,{"@metamask/rpc-errors":2600,"@metamask/superstruct":2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resemblesAddress=r.validateParams=r.validateAndNormalizeKeyholder=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct");function s(e){return 42===e.length}r.validateAndNormalizeKeyholder=async function(e,t,{getAccounts:r}){if("string"==typeof e&&e.length>0&&s(e)){const i=(await r(t.assertGet("origin"))).map(e=>e.toLowerCase()),s=e.toLowerCase();if(i.includes(s))return s;throw n.providerErrors.unauthorized()}throw n.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})},r.validateParams=function(e,t){const[r]=(0,i.validate)(e,t);if(r)throw n.rpcErrors.invalidParams(function(e,t){return`${t}\n\n${e.failures().map(e=>`${e.path.join(" > ")}${e.path.length?" - ":""}${e.message}`).join("\n")}`}(r,"Invalid params"))},r.resemblesAddress=s}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/utils/validation.cjs"}],[2345,{"./methods/wallet-get-granted-execution-permissions.cjs":2332,"./methods/wallet-get-supported-execution-permissions.cjs":2333,"./methods/wallet-request-execution-permissions.cjs":2334,"./methods/wallet-revoke-execution-permission.cjs":2335,"./utils/common.cjs":2339,"./utils/normalize.cjs":2341,"./utils/validation.cjs":2344,"@metamask/eth-sig-util":1993,"@metamask/json-rpc-engine/v2":2119,"@metamask/rpc-errors":2600,"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletMiddleware=void 0;const o=s(e("@metamask/eth-sig-util")),a=e("@metamask/json-rpc-engine/v2"),c=e("@metamask/rpc-errors"),u=e("@metamask/utils"),l=e("./methods/wallet-get-granted-execution-permissions.cjs"),d=e("./methods/wallet-get-supported-execution-permissions.cjs"),p=e("./methods/wallet-request-execution-permissions.cjs"),h=e("./methods/wallet-revoke-execution-permission.cjs"),f=e("./utils/common.cjs"),m=e("./utils/normalize.cjs"),y=e("./utils/validation.cjs");function g(e){const{primaryType:t,types:r}=(0,m.parseTypedMessage)(e);if(!r)throw c.rpcErrors.invalidInput();if(!r[(0,f.stripArrayTypeIfPresent)(t)])throw c.rpcErrors.invalidInput()}function w(e){const{domain:{verifyingContract:t}={}}=(0,m.parseTypedMessage)(e);if(t&&"cosmos"!==t&&!(0,u.isValidHexAddress)(t))throw c.rpcErrors.invalidInput()}r.createWalletMiddleware=function({getAccounts:e,processDecryptMessage:t,processEncryptionPublicKey:r,processPersonalMessage:n,processTransaction:i,processSignTransaction:s,processTypedMessage:u,processTypedMessageV3:f,processTypedMessageV4:b,processRequestExecutionPermissions:k,processRevokeExecutionPermission:v,processGetGrantedExecutionPermissions:_,processGetSupportedExecutionPermissions:T}){if(!e)throw new Error("opts.getAccounts is required");return(0,a.createScaffoldMiddleware)({eth_accounts:async function({context:t}){return await e(t.assertGet("origin"))},eth_coinbase:async function({context:t}){return(await e(t.assertGet("origin")))[0]||null},eth_sendTransaction:async function({request:e,context:t}){if(!i)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const r=e.params[0],n={...r,from:await E(r?.from||"",t)};return await i(n,e,t)},eth_signTransaction:async function({request:e,context:t}){if(!s)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const r=e.params[0],n={...r,from:await E(r?.from||"",t)};return await s(n,e,t)},eth_signTypedData:async function({request:e,context:t}){if(!u)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=r[0],i=await E(r[1],t),s={...r[2]||{},from:i,data:n,signatureMethod:"eth_signTypedData",version:"V1"};return await u(s,e,t,"V1")},eth_signTypedData_v3:async function({request:e,context:t}){if(!f)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=await E(r[0],t),i=(0,m.normalizeTypedMessage)(r[1]);g(i),w(i);const s={data:i,from:n,version:"V3",signatureMethod:"eth_signTypedData_v3"};return await f(s,e,t,"V3")},eth_signTypedData_v4:async function({request:e,context:t}){if(!b)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,n=await E(r[0],t),i=(0,m.normalizeTypedMessage)(r[1]);g(i),w(i);const s={data:i,from:n,version:"V4",signatureMethod:"eth_signTypedData_v4"};return await b(s,e,t,"V4")},personal_sign:async function({request:e,context:t}){if(!n)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const r=e.params,i=r[0],s=r[1],o=r[2]||{};let a,u;(0,y.resemblesAddress)(i)&&!(0,y.resemblesAddress)(s)?(a=i,u=s):(u=i,a=s);a=await E(a,t);const l={...o,from:a,data:u,signatureMethod:"personal_sign"};return await n(l,e,t)},eth_getEncryptionPublicKey:async function({request:e,context:t}){if(!r)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,i=await E(n[0],t);return await r(i,{id:e.id,origin:t.assertGet("origin"),securityAlertResponse:t.get("securityAlertResponse")})},eth_decrypt:async function({request:e,context:r}){if(!t)throw c.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw c.rpcErrors.invalidInput();const n=e.params,i=n[0],s=await E(n[1],r),o={...n[2]||{},from:s,data:i};return await t(o,{id:e.id,origin:r.assertGet("origin"),securityAlertResponse:r.get("securityAlertResponse")})},personal_ecRecover:async function({request:e}){if(!(e.params&&Array.isArray(e.params)&&e.params.length>=2))throw c.rpcErrors.invalidInput();const t=e.params,r=t[0],n=t[1];return o.recoverPersonalSignature({data:r,signature:n})},wallet_requestExecutionPermissions:(0,p.createWalletRequestExecutionPermissionsHandler)({processRequestExecutionPermissions:k}),wallet_revokeExecutionPermission:(0,h.createWalletRevokeExecutionPermissionHandler)({processRevokeExecutionPermission:v}),wallet_getGrantedExecutionPermissions:(0,l.createWalletGetGrantedExecutionPermissionsHandler)({processGetGrantedExecutionPermissions:_}),wallet_getSupportedExecutionPermissions:(0,d.createWalletGetSupportedExecutionPermissionsHandler)({processGetSupportedExecutionPermissions:T})});async function E(t,r){return(0,y.validateAndNormalizeKeyholder)(t,r,{getAccounts:e})}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/network-controller/node_modules/@metamask/eth-json-rpc-middleware/dist/wallet.cjs"}],[2351,{"@ethersproject/providers":784,assert:4080,"async-mutex":2356},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,c=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.NonceTracker=void 0;const d=l(e("assert")),p=e("async-mutex"),h=e("@ethersproject/providers");r.NonceTracker=class{constructor(e){n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),c(this,n,e.provider,"f"),c(this,i,e.blockTracker,"f"),c(this,s,e.getPendingTransactions,"f"),c(this,o,e.getConfirmedTransactions,"f"),c(this,a,{},"f")}setProvider({provider:e,blockTracker:t}){d.default("object"==typeof e,"missing or invalid provider"),d.default("object"==typeof t,"missing or invalid blockTracker"),c(this,n,e,"f"),c(this,i,t,"f")}async getGlobalLock(){const e=this._lookupMutex("global");return{releaseLock:await e.acquire()}}async getNonceLock(e){await this._globalMutexFree();const t=await this._takeMutex(e);try{const r=await this._getNetworkNextNonce(e),n=this._getHighestLocallyConfirmed(e),i=r.nonce,o=Math.max(i,n),a=u(this,s,"f").call(this,e),c=this._getHighestContinuousFrom(a,o),l={params:{highestLocallyConfirmed:n,nextNetworkNonce:i,highestSuggested:o},local:c,network:r},p=Math.max(r.nonce,c.nonce);return d.default(Number.isInteger(p),`nonce-tracker - nextNonce is not an integer - got: (${typeof p}) "${p}"`),{nextNonce:p,nonceDetails:l,releaseLock:t}}catch(e){throw t(),e}}async _globalMutexFree(){const e=this._lookupMutex("global");(await e.acquire())()}async _takeMutex(e){const t=this._lookupMutex(e);return await t.acquire()}_lookupMutex(e){let t=u(this,a,"f")[e];return t||(t=new p.Mutex,u(this,a,"f")[e]=t),t}async _getNetworkNextNonce(e){const t=await u(this,i,"f").getLatestBlock(),r=await new h.Web3Provider(u(this,n,"f")).getTransactionCount(e,t);return d.default(Number.isInteger(r),`nonce-tracker - baseCount is not an integer - got: (${typeof r}) "${r}"`),{name:"network",nonce:r,details:{blockNumber:t,baseCount:r}}}_getHighestLocallyConfirmed(e){const t=u(this,o,"f").call(this,e),r=this._getHighestNonce(t);return Number.isInteger(r)?r+1:0}_getHighestNonce(e){const t=e.map(e=>{const{nonce:t}=e.txParams;return d.default("string"==typeof t,"nonces should be hex strings"),parseInt(t,16)});return Math.max.apply(null,t)}_getHighestContinuousFrom(e,t){const r=e.map(e=>{const{nonce:t}=e.txParams;return d.default("string"==typeof t,"nonces should be hex strings"),parseInt(t,16)});let n=t;for(;r.includes(n);)n+=1;return{name:"local",nonce:n,details:{startPoint:t,highest:n}}}},n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker",file:"node_modules/@metamask/nonce-tracker/dist/NonceTracker.js"}],[2352,{"./NonceTracker":2351},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NonceTracker=void 0;var n=e("./NonceTracker");Object.defineProperty(r,"NonceTracker",{enumerable:!0,get:function(){return n.NonceTracker}})}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker",file:"node_modules/@metamask/nonce-tracker/dist/index.js"}],[2353,{"./Semaphore":2354,tslib:5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("tslib"),i=e("./Semaphore"),s=function(){function e(e){this._semaphore=new i.default(1,e)}return e.prototype.acquire=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var e;return(0,n.__generator)(this,function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}})})},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();r.default=s}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/Mutex.js"}],[2354,{"./errors":2355,tslib:5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("tslib"),i=e("./errors"),s=function(){function e(e,t){if(void 0===t&&(t=i.E_CANCELED),this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise(function(t,r){return e._queue.push({resolve:t,reject:r})});return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r,i;return(0,n.__generator)(this,function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:t=n.sent(),r=t[0],i=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,n.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.waitForUnlock=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,n.__generator)(this,function(t){return this.isLocked()?[2,new Promise(function(t){return e._waiters.push({resolve:t})})]:[2,Promise.resolve()]})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=undefined,e()}},e.prototype.cancel=function(){var e=this;this._queue.forEach(function(t){return t.reject(e._cancelError)}),this._queue=[]},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._resolveWaiters(),e._dispatch())},t.resolve([this._value--,this._currentReleaser])}},e.prototype._resolveWaiters=function(){this._waiters.forEach(function(e){return e.resolve()}),this._waiters=[]},e}();r.default=s}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/Semaphore.js"}],[2355,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.E_CANCELED=r.E_ALREADY_LOCKED=r.E_TIMEOUT=void 0,r.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),r.E_ALREADY_LOCKED=new Error("mutex already locked"),r.E_CANCELED=new Error("request for lock canceled")}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/errors.js"}],[2356,{"./Mutex":2353,"./Semaphore":2354,"./errors":2355,"./tryAcquire":2357,"./withTimeout":2358,tslib:5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tryAcquire=r.withTimeout=r.Semaphore=r.Mutex=void 0;var n=e("tslib"),i=e("./Mutex");Object.defineProperty(r,"Mutex",{enumerable:!0,get:function(){return i.default}});var s=e("./Semaphore");Object.defineProperty(r,"Semaphore",{enumerable:!0,get:function(){return s.default}});var o=e("./withTimeout");Object.defineProperty(r,"withTimeout",{enumerable:!0,get:function(){return o.withTimeout}});var a=e("./tryAcquire");Object.defineProperty(r,"tryAcquire",{enumerable:!0,get:function(){return a.tryAcquire}}),(0,n.__exportStar)(e("./errors"),r)}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/index.js"}],[2357,{"./errors":2355,"./withTimeout":2358},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tryAcquire=void 0;var n=e("./errors"),i=e("./withTimeout");r.tryAcquire=function(e,t){return void 0===t&&(t=n.E_ALREADY_LOCKED),(0,i.withTimeout)(e,0,t)}}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/tryAcquire.js"}],[2358,{"./errors":2355,tslib:5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.withTimeout=void 0;var n=e("tslib"),i=e("./errors");r.withTimeout=function(e,t,r){var s=this;return void 0===r&&(r=i.E_TIMEOUT),{acquire:function(){return new Promise(function(i,o){return(0,n.__awaiter)(s,void 0,void 0,function(){var s,a,c,u;return(0,n.__generator)(this,function(n){switch(n.label){case 0:s=!1,a=setTimeout(function(){s=!0,o(r)},t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.acquire()];case 2:return c=n.sent(),s?(Array.isArray(c)?c[1]:c)():(clearTimeout(a),i(c)),[3,4];case 3:return u=n.sent(),s||(clearTimeout(a),o(u)),[3,4];case 4:return[2]}})})})},runExclusive:function(e){return(0,n.__awaiter)(this,void 0,void 0,function(){var t,r;return(0,n.__generator)(this,function(n){switch(n.label){case 0:t=function(){return undefined},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){e.release()},cancel:function(){return e.cancel()},waitForUnlock:function(){return e.waitForUnlock()},isLocked:function(){return e.isLocked()}}}}}},{package:"@metamask/transaction-controller>@metamask/nonce-tracker>async-mutex",file:"node_modules/@metamask/nonce-tracker/node_modules/async-mutex/lib/withTimeout.js"}]],[],{});