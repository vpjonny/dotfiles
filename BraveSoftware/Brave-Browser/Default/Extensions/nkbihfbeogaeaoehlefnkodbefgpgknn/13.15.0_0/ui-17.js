LavaPack.loadBundle([[7953,{"../../../../components/app/preferred-avatar":6237,"../../../../components/component-library":6529,"../../../../components/ui/tooltip":7020,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useCopyToClipboard":7220,"../../../../hooks/useI18nContext":7235,"@metamask/design-system-react":1807,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=f(e("react")),r=f(e("prop-types")),o=e("react-router-dom"),i=e("@metamask/design-system-react"),l=e("../../../../components/component-library"),c=e("../../../../components/app/preferred-avatar"),u=f(e("../../../../components/ui/tooltip")),d=e("../../../../hooks/useI18nContext"),m=e("../../../../hooks/useCopyToClipboard"),p=e("../../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}function g(e){const t=(0,n.c)(53),{navigate:a,name:r,address:f,checkSummedAddress:g,memo:h,editRoute:_,listRoute:E}=e,y=(0,d.useI18nContext)(),[b,S]=(0,m.useCopyToClipboard)();if(!f){let e;return t[0]!==E?(e=s.default.createElement(o.Navigate,{to:{pathname:E}}),t[0]=E,t[1]=e):e=t[1],e}let T,v;t[2]!==f?(T=s.default.createElement(c.PreferredAvatar,{size:i.AvatarAccountSize.Lg,address:f}),t[2]=f,t[3]=T):T=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(v={overflow:"hidden"},t[4]=v):v=t[4];const x=r||f;let C,k,w,I,M,N,D,R,A,P,O;t[5]!==x?(C=s.default.createElement(l.Text,{className:"address-book__header__name","data-testid":"address-book-name",variant:p.TextVariant.bodyLgMedium,marginInlineStart:4,style:v,ellipsis:!0},x),t[5]=x,t[6]=C):C=t[6],t[7]!==T||t[8]!==C?(k=s.default.createElement(l.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},T,C),t[7]=T,t[8]=C,t[9]=k):k=t[9],t[10]!==f||t[11]!==_||t[12]!==a?(w=()=>{a(`${_}/${f}`)},t[10]=f,t[11]=_,t[12]=a,t[13]=w):w=t[13],t[14]!==y?(I=y("edit"),t[14]=y,t[15]=I):I=t[15],t[16]!==w||t[17]!==I?(M=s.default.createElement("div",{className:"address-book__view-contact__group"},s.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,onClick:w},I)),t[16]=w,t[17]=I,t[18]=M):M=t[18],t[19]!==y?(N=y("publicAddress"),t[19]=y,t[20]=N):N=t[20],t[21]!==N?(D=s.default.createElement("div",{className:"address-book__view-contact__group__label"},N),t[21]=N,t[22]=D):D=t[22],t[23]!==g?(R=function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(g),t[23]=g,t[24]=R):R=t[24],t[25]!==R?(A=s.default.createElement("div",{className:"address-book__view-contact__group__static-address","data-testid":"address-book-view-contact-address"},R),t[25]=R,t[26]=A):A=t[26],t[27]!==b||t[28]!==y?(P=y(b?"copiedExclamation":"copyToClipboard"),t[27]=b,t[28]=y,t[29]=P):P=t[29],t[30]!==g||t[31]!==S?(O=()=>{S(g)},t[30]=g,t[31]=S,t[32]=O):O=t[32];const B=b?l.IconName.CopySuccess:l.IconName.Copy;let L,F,U,j,W,V;return t[33]!==O||t[34]!==B?(L=s.default.createElement(l.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:O,iconName:B,size:l.ButtonIconSize.Lg,color:p.IconColor.primaryDefault}),t[33]=O,t[34]=B,t[35]=L):L=t[35],t[36]!==P||t[37]!==L?(F=s.default.createElement(u.default,{position:"bottom",title:P},L),t[36]=P,t[37]=L,t[38]=F):F=t[38],t[39]!==A||t[40]!==F?(U=s.default.createElement("div",{className:"address-book__view-contact__group__value"},A,F),t[39]=A,t[40]=F,t[41]=U):U=t[41],t[42]!==D||t[43]!==U?(j=s.default.createElement("div",{className:"address-book__view-contact__group"},D,U),t[42]=D,t[43]=U,t[44]=j):j=t[44],t[45]!==h||t[46]!==y?(W=h.length>0?s.default.createElement("div",{className:"address-book__view-contact__group"},s.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},y("memo")),s.default.createElement("div",{className:"address-book__view-contact__group__static-address"},h)):null,t[45]=h,t[46]=y,t[47]=W):W=t[47],t[48]!==j||t[49]!==W||t[50]!==k||t[51]!==M?(V=s.default.createElement("div",{className:"settings-page__content-row"},s.default.createElement("div",{className:"settings-page__content-item"},k,M,j,W)),t[48]=j,t[49]=W,t[50]=k,t[51]=M,t[52]=V):V=t[52],V}g.propTypes={name:r.default.string,address:r.default.string,navigate:r.default.func.isRequired,checkSummedAddress:r.default.string,memo:r.default.string,editRoute:r.default.string,listRoute:r.default.string.isRequired};a.default=s.default.memo(g)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[7954,{"../../../../../shared/modules/hexstring-utils":5922,"../../../../helpers/constants/routes":7088,"../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../../../selectors":8094,"./view-contact.component":7953,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=u(e("../../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../../selectors"),i=e("../../../../helpers/constants/routes"),l=e("../../../../../shared/modules/hexstring-utils"),c=u(e("./view-contact.component"));function u(e){return e&&e.__esModule?e:{default:e}}a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{const{location:a,params:n}=t,s=a.pathname.match(/[^/]+$/u)[0],r=s.includes("0x")?s.toLowerCase():n.id,c=(0,o.getInternalAccountByAddress)(e,r),u=(0,o.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||c.metadata.name,address:u?r:null,checkSummedAddress:(0,l.toChecksumHexAddress)(r),memo:d,editRoute:i.CONTACT_EDIT_ROUTE,listRoute:i.CONTACT_LIST_ROUTE}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[7955,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/zendesk-url":7095,"../../../hooks/useI18nContext":7235,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DeprecatedNetworkModal=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../hooks/useI18nContext"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=c(e("../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}a.DeprecatedNetworkModal=e=>{const t=(0,n.c)(28),{onClose:a}=e,c=(0,r.useI18nContext)();let u,d,m,p,f,g,h,_,E,y,b,S,T;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s.default.createElement(o.ModalOverlay,null),t[0]=u):u=t[0],t[1]!==c?(d=c("deprecatedNetwork"),t[1]=c,t[2]=d):d=t[2],t[3]!==d?(m=s.default.createElement(o.ModalHeader,{paddingTop:2,paddingBottom:2},d),t[3]=d,t[4]=m):m=t[4],t[5]!==c?(p=c("learnMoreUpperCase"),t[5]=c,t[6]=p):p=t[6],t[7]!==p?(f=s.default.createElement(o.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:l.default.NETWORK_DEPRECATED,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal},p),t[7]=p,t[8]=f):f=t[8],t[9]!==c||t[10]!==f?(g=c("deprecatedNetworkDescription",[f]),t[9]=c,t[10]=f,t[11]=g):g=t[11],t[12]!==g?(h=s.default.createElement(o.ModalBody,null,s.default.createElement(o.Box,{paddingBottom:2},s.default.createElement(o.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},g))),t[12]=g,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(_={variant:i.TextVariant.bodyMdMedium},E={fontSize:"14px"},t[14]=_,t[15]=E):(_=t[14],E=t[15]),t[16]!==c?(y=c("deprecatedNetworkButtonMsg"),t[16]=c,t[17]=y):y=t[17],t[18]!==a||t[19]!==y?(b=s.default.createElement(o.Box,{display:i.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},s.default.createElement(o.ButtonPrimary,{block:!0,size:o.ButtonPrimarySize.Lg,onClick:a,textProps:_,style:E},y)),t[18]=a,t[19]=y,t[20]=b):b=t[20],t[21]!==b||t[22]!==m||t[23]!==h?(S=s.default.createElement(o.ModalContent,null,m,h,b),t[21]=b,t[22]=m,t[23]=h,t[24]=S):S=t[24],t[25]!==a||t[26]!==S?(T=s.default.createElement(o.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:a},u,S),t[25]=a,t[26]=S,t[27]=T):T=t[27],T}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[7956,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/identity/useAccountSyncing":7168,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useDeleteAccountSyncDataProps=a.BackupAndSyncDevSettings=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../hooks/identity/useAccountSyncing");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const c=e=>{const t=(0,n.c)(16),{onDelete:a,deleteSuccessful:i,title:l,description:c}=e;let u,d,m,p,f;t[0]!==l?(u=s.default.createElement("span",null,l),t[0]=l,t[1]=u):u=t[1],t[2]!==c?(d=s.default.createElement("div",{className:"settings-page__content-description"},c),t[2]=c,t[3]=d):d=t[3],t[4]!==u||t[5]!==d?(m=s.default.createElement("div",{className:"settings-page__content-item"},u,d),t[4]=u,t[5]=d,t[6]=m):m=t[6],t[7]!==a?(p=s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:a},"Reset")),t[7]=a,t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f={height:"40px",width:"40px"},t[9]=f):f=t[9];const g=!i;let h,_;return t[10]!==g?(h=s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center,paddingLeft:2,paddingRight:2,style:f},s.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:o.IconColor.successDefault,size:r.IconSize.Lg,hidden:g}))),t[10]=g,t[11]=h):h=t[11],t[12]!==m||t[13]!==p||t[14]!==h?(_=s.default.createElement("div",{className:"settings-page__content-padded"},s.default.createElement(r.Box,{className:"settings-page__content-row",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,gap:4},m,p,h)),t[12]=m,t[13]=p,t[14]=h,t[15]=_):_=t[15],_},u=()=>{const e=(0,n.c)(5),[t,a]=(0,s.useState)(!1),{dispatchDeleteAccountSyncingData:r}=(0,i.useDeleteAccountSyncingDataFromUserStorage)();let o;e[0]!==r?(o=async()=>{await r(),a(!0)},e[0]=r,e[1]=o):o=e[1];const l=o;let c;return e[2]!==t||e[3]!==l?(c={deleteSuccessful:t,onDelete:l,title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."},e[2]=t,e[3]=l,e[4]=c):c=e[4],c};a.useDeleteAccountSyncDataProps=u;a.BackupAndSyncDevSettings=()=>{const e=(0,n.c)(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),e[0]=t):t=e[0];const a=u();let o;return e[1]!==a?(o=s.default.createElement(s.default.Fragment,null,t,s.default.createElement(c,a)),e[1]=a,e[2]=o):o=e[2],o}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[7957,{"../../../../app/scripts/lib/util":372,"../../../../shared/constants/app":5775,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/utils/settings-search":7131,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,"./backup-and-sync":7956,"./developer-options-toggle-row-component":7958,"./migrate-to-split-state-test":7960,"./sentry-test":7961,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),m=e("../../../../app/scripts/lib/util"),p=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=y(e("./developer-options-toggle-row-component")),h=y(e("./sentry-test")),_=e("./backup-and-sync"),E=y(e("./migrate-to-split-state-test"));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,u.useI18nContext)(),t=(0,s.useDispatch)(),a=(0,r.useNavigate)(),[y,b]=(0,n.useState)(!1),[S,T]=(0,n.useState)(!1),[v,x]=(0,n.useState)(!0),C=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>n.default.createRef());(0,n.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),C)},[e,C]);const k=(0,n.useCallback)(()=>{(0,d.resetViewedNotifications)(),b(!0)},[]),w=(0,n.useCallback)(async()=>{await t((0,d.resetOnboarding)()),T(!0);const e=`${l.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true`;if((0,m.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else a(e)},[t,a]),I=(0,s.useSelector)(f.getRemoteFeatureFlags);return n.default.createElement("div",{className:"settings-page__body"},n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:C[0]},"Current States"),n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(o.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,"Remote feature flags"),n.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),n.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(I)))),n.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header",color:i.TextColor.textAlternative,paddingTop:6,ref:C[0]},"Reset States"),n.default.createElement("div",{className:"settings-page__content-padded"},n.default.createElement(o.Box,{ref:C[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,"Announcements"),n.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:k},"Reset")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:i.IconColor.successDefault,size:o.IconSize.Lg,hidden:!y})))),n.default.createElement(o.Box,{ref:C[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},n.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},n.default.createElement("span",null,"Onboarding"),n.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:w},"Reset")),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(o.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},n.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:i.IconColor.successDefault,size:o.IconSize.Lg,hidden:!S})))),n.default.createElement(g.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:v,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),x(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:C[3]})),n.default.createElement(_.BackupAndSyncDevSettings,null),n.default.createElement(h.default,null),n.default.createElement("hr",null),n.default.createElement(E.default,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[7958,{"../../../components/component-library":6529,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/design-system":7083,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=l(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=l(e("../../../components/ui/toggle-button"));function l(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(15),{title:a,description:l,isEnabled:c,onToggle:u,dataTestId:d,settingsRef:m}=e;let p,f,g,h,_;return t[0]!==a?(p=s.default.createElement("span",null,a),t[0]=a,t[1]=p):p=t[1],t[2]!==l?(f=s.default.createElement("div",{className:"settings-page__content-description"},l),t[2]=l,t[3]=f):f=t[3],t[4]!==p||t[5]!==f?(g=s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-description"},p,f)),t[4]=p,t[5]=f,t[6]=g):g=t[6],t[7]!==d||t[8]!==c||t[9]!==u?(h=s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(i.default,{value:c,onToggle:u,offLabel:"Off",onLabel:"On",dataTestId:d})),t[7]=d,t[8]=c,t[9]=u,t[10]=h):h=t[10],t[11]!==m||t[12]!==g||t[13]!==h?(_=s.default.createElement(r.Box,{ref:m,className:"settings-page__content-row",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,gap:4},g,h),t[11]=m,t[12]=g,t[13]=h,t[14]=_):_=t[14],_}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[7959,{"./developer-options-tab":7957},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./developer-options-tab"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[7960,{"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170,"webextension-polyfill":5763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=e("@metamask/design-system-react"),o=(n=e("webextension-polyfill"))&&n.__esModule?n:{default:n},i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(36),[t,a]=(0,i.useState)(null),[n,l]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[m,p]=(0,i.useState)("unknown"),f=c;let g,h,_;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{let e=!0;const t=(e,t)=>{if("local"===t){if(e.splitStateMigrationEnabled){const{newValue:t}=e.splitStateMigrationEnabled;a(f(t))}if(e.meta){const t=e.meta.newValue;p("string"==typeof(null==t?void 0:t.storageKind)?t.storageKind:"data")}if(e.splitStateMigrationMaxAccounts){const{newValue:t}=e.splitStateMigrationMaxAccounts;l(t===undefined?"":String(t))}if(e.splitStateMigrationMaxNetworks){const{newValue:t}=e.splitStateMigrationMaxNetworks;d(t===undefined?"":String(t))}}};return(async()=>{const{splitStateMigrationEnabled:t,splitStateMigrationMaxAccounts:n,splitStateMigrationMaxNetworks:s,meta:r}=await o.default.storage.local.get(["splitStateMigrationEnabled","splitStateMigrationMaxAccounts","splitStateMigrationMaxNetworks","meta"]);e&&(a(f(t)),p("string"==typeof(null==r?void 0:r.storageKind)?r.storageKind:"data"),l(n===undefined?"":String(n)),d(s===undefined?"":String(s)))})(),o.default.storage.onChanged.addListener(t),()=>{e=!1,o.default.storage.onChanged.removeListener(t)}},h=[],e[0]=g,e[1]=h):(g=e[0],h=e[1]),(0,i.useEffect)(g,h),e[2]===Symbol.for("react.memo_cache_sentinel")?(_=async e=>{null===e?await o.default.storage.local.remove("splitStateMigrationEnabled"):await o.default.storage.local.set({splitStateMigrationEnabled:e}),a(e)},e[2]=_):_=e[2];const E=_;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=async e=>{const{value:t}=e.target;""===t?await o.default.storage.local.remove("splitStateMigrationMaxAccounts"):await o.default.storage.local.set({splitStateMigrationMaxAccounts:t}),l(t)},e[3]=y):y=e[3];const b=y;let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=async e=>{const{value:t}=e.target;""===t?await o.default.storage.local.remove("splitStateMigrationMaxNetworks"):await o.default.storage.local.set({splitStateMigrationMaxNetworks:t}),d(t)},e[4]=S):S=e[4];const T=S;let v,x,C,k,w,I;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=i.default.createElement(r.Text,null,"Split State Migration"),x={marginTop:"8px",marginBottom:"8px"},e[5]=v,e[6]=x):(v=e[5],x=e[6]),e[7]!==m?(C=i.default.createElement("div",{style:x},i.default.createElement("strong",null,"Current storage kind: ",m)),e[7]=m,e[8]=C):C=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(w=i.default.createElement("hr",null),I=i.default.createElement("h2",null,"Split State Migration Flags"),k=i.default.createElement("span",null,"Migration Enabled flag:"),e[9]=k,e[10]=w,e[11]=I):(k=e[9],w=e[10],I=e[11]);const M=null===t;let N,D;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=()=>E(null),e[12]=N):N=e[12],e[13]!==M?(D=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:M,onChange:N}),"Unset (uses remote feature flags)")),e[13]=M,e[14]=D):D=e[14];const R="0"===t;let A,P;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=()=>E("0"),e[15]=A):A=e[15],e[16]!==R?(P=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:R,onChange:A}),"0 (Off)")),e[16]=R,e[17]=P):P=e[17];const O="1"===t;let B,L,F,U,j,W,V,$;return e[18]===Symbol.for("react.memo_cache_sentinel")?(B=()=>E("1"),e[18]=B):B=e[18],e[19]!==O?(L=i.default.createElement("div",null,i.default.createElement("label",null,i.default.createElement("input",{type:"radio",name:"split-state-migration-enabled",checked:O,onChange:B}),"1 (On)")),e[19]=O,e[20]=L):L=e[20],e[21]!==D||e[22]!==P||e[23]!==L?(F=i.default.createElement("div",null,k,D,P,L),e[21]=D,e[22]=P,e[23]=L,e[24]=F):F=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(U=i.default.createElement("span",null,"Max Accounts flag:"),e[25]=U):U=e[25],e[26]!==n?(j=i.default.createElement("div",null,i.default.createElement("label",null,U,i.default.createElement("input",{min:0,max:99999999,type:"number",value:n,onChange:b}))),e[26]=n,e[27]=j):j=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(W=i.default.createElement("span",null,"Max Networks flag:"),e[28]=W):W=e[28],e[29]!==u?(V=i.default.createElement("div",null,i.default.createElement("label",null,W,i.default.createElement("input",{min:0,max:99999999,type:"number",value:u,onChange:T}))),e[29]=u,e[30]=V):V=e[30],e[31]!==F||e[32]!==j||e[33]!==V||e[34]!==C?($=i.default.createElement("div",null,v,C,w,I,F,j,V),e[31]=F,e[32]=j,e[33]=V,e[34]=C,e[35]=$):$=e[35],$};function c(e){if(e===undefined||null===e)return null;const t=String(e);return"false"===t?"0":"true"===t?"1":t}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/migrate-to-split-state-test.tsx"}],[7961,{"../../../../shared/lib/trace":5897,"../../../../shared/modules/i18n":5923,"../../../components/component-library":6529,"../../../components/component-library/button/button.types":6507,"../../../ducks/locale/locale":7066,"../../../helpers/constants/design-system":7083,"../../../store/actions":8127,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../../shared/lib/trace"),c=e("../../../components/component-library/button/button.types"),u=e("../../../store/actions"),d=e("../../../../shared/modules/i18n"),m=e("../../../ducks/locale/locale");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function f(e){return new Promise(t=>setTimeout(t,e))}function g(){const e=(0,n.c)(1),t=h;let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(M,{name:"Generate UI Error",description:s.default.createElement("span",null,"Generate an unhandled ",s.default.createElement("b",null,"TestError")," in this window."),onClick:t,expectError:!0}),e[0]=a):a=e[0],a}async function h(){var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function _(){const e=(0,n.c)(1),t=E;let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(M,{name:"Generate Background Error",description:s.default.createElement("span",null,"Generate an unhandled ",s.default.createElement("b",null,"TestError")," in the service worker."),onClick:t,expectError:!0}),e[0]=a):a=e[0],a}async function E(){var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function y(){const e=(0,n.c)(1),t=b;let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(M,{name:"Capture UI Error",description:s.default.createElement("span",null,"Capture a ",s.default.createElement("b",null,"TestError")," in this window."),onClick:t}),e[0]=a):a=e[0],a}async function b(){var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))}function S(){const e=(0,n.c)(1),t=T;let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(M,{name:"Capture Background Error",description:s.default.createElement("span",null,"Capture a ",s.default.createElement("b",null,"TestError")," in the service worker."),onClick:t}),e[0]=a):a=e[0],a}async function T(){var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))}function v(){const e=(0,n.c)(1),t=x;let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(M,{name:"Generate Trace",description:s.default.createElement("span",null,"Generate a ",s.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:t}),e[0]=a):a=e[0],a}async function x(){await(0,l.trace)({name:l.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},C)}async function C(e){await(0,l.trace)({name:l.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},w),await(0,l.trace)({name:l.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},k)}function k(){return f(500)}function w(){return f(1e3)}function I(e){const t=(0,n.c)(6),{currentLocale:a}=e,o=(0,r.useDispatch)();let i;t[0]!==a||t[1]!==o?(i=async()=>{const e=await(0,d.fetchLocale)(a);await o((0,u.setCurrentLocale)(a,{...e,developerOptions:undefined})),await(0,u.forceUpdateMetamaskState)(o)},t[0]=a,t[1]=o,t[2]=i):i=t[2];const l=i;let c,m;return t[3]===Symbol.for("react.memo_cache_sentinel")?(c=s.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),t[3]=c):c=t[3],t[4]!==l?(m=s.default.createElement(M,{name:"Generate A Page Crash",description:c,onClick:l,expectError:!0,testId:"developer-options-generate-page-crash-button"}),t[4]=l,t[5]=m):m=t[5],m}function M({name:e,description:t,onClick:a,expectError:n,testId:r}){const[l,u]=(0,s.useState)(!1),d=(0,s.useCallback)(async()=>{let e=!1;try{await a()}catch(t){throw e=!0,t}finally{!n&&e||u(!0)}},[a]);return s.default.createElement(o.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},s.default.createElement("div",{className:"settings-page__content-item"},s.default.createElement("div",{className:"settings-page__content-description"},t)),s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:d,size:c.ButtonSize.Lg,"data-testid":r},e)),s.default.createElement("div",{className:"settings-page__content-item-col"},s.default.createElement(o.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},s.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:i.IconColor.successDefault,size:o.IconSize.Lg,hidden:!l}))))}a.default=()=>{const e=(0,n.c)(8),t=(0,r.useSelector)(m.getCurrentLocale)||d.FALLBACK_LOCALE;let a,i,l,c,u,p,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),e[0]=a):a=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.default.createElement(g,null),l=s.default.createElement(_,null),c=s.default.createElement(y,null),u=s.default.createElement(S,null),p=s.default.createElement(v,null),e[1]=i,e[2]=l,e[3]=c,e[4]=u,e[5]=p):(i=e[1],l=e[2],c=e[3],u=e[4],p=e[5]),e[6]!==t?(f=s.default.createElement(s.default.Fragment,null,a,s.default.createElement("div",{className:"settings-page__content-padded"},i,l,c,u,p,s.default.createElement(I,{currentLocale:t}))),e[6]=t,e[7]=f):f=e[7],f}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[7962,{"../../../../shared/constants/metametrics":5791,"../../../components/component-library":6529,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/settings-search":7131,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),o=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function m(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class p extends n.PureComponent{constructor(...e){super(...e),m(this,"settingsRefs",Array((0,o.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:a,toggleCallback:s,toggleDataTestId:o,toggleContainerDataTestId:i,toggleOffLabel:c,toggleOnLabel:u}){return n.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e),n.default.createElement("div",{className:"settings-page__content-description"},t)),n.default.createElement("div",{className:"settings-page__content-item-col","data-testid":i},n.default.createElement(r.default,{value:a,onToggle:s,offLabel:c,onLabel:u,dataTestId:o})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:a,setAddSnapAccountEnabled:s}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("span",null,e("snapAccounts")),n.default.createElement("div",{className:"settings-page__content-description"},n.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:a,toggleCallback:e=>{t({event:i.MetaMetricsEventName.AddSnapAccountEnabled,category:i.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),s(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:a}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>a(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return n.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}a.default=p,m(p,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[7963,{"../../../selectors":8094,"../../../store/actions":8127,"./experimental-tab.component":7962,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),i=(n=e("./experimental-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.connect)(e=>{const t=(0,o.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,o.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,o.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,r.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,r.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,r.setFeatureNotificationsEnabled)(t))}))(i.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[7964,{"./experimental-tab.container":7963},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./experimental-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[7965,{"./settings.container":7992},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[7966,{"./info-tab.component":7967},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./info-tab.component"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[7967,{"../../../../shared/constants/metametrics":5791,"../../../components/app/modals/visit-support-data-consent-modal":6180,"../../../components/component-library":6529,"../../../components/ui/button":6912,"../../../helpers/constants/common":7081,"../../../helpers/utils/build-types":7107,"../../../helpers/utils/settings-search":7131,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=m(e("prop-types")),r=m(e("../../../components/ui/button")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=m(e("../../../components/app/modals/visit-support-data-consent-modal"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function f(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends n.PureComponent{constructor(...e){super(...e),f(this,"state",{version:"13.15.0",isVisitSupportDataConsentModalOpen:!1}),f(this,"settingsRefs",Array((0,c.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("about"))).fill(undefined).map(()=>n.default.createRef())),f(this,"toggleVisitSupportDataConsentModal",()=>{this.setState(e=>({isVisitSupportDataConsentModalOpen:!e.isVisitSupportDataConsentModalOpen}))})}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),n.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),n.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?n.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),n.default.createElement(o.Tag,{label:e("new"),className:"info-tab__tag"}))):null,n.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:`https://raw.githubusercontent.com/MetaMask/metamask-extension/v${this.state.version}/attribution.txt`,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),n.default.createElement("hr",{className:"info-tab__separator"}),n.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:this.toggleVisitSupportDataConsentModal},e("supportCenter"))),n.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),n.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},n.default.createElement(r.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return n.default.createElement("div",{className:"settings-page__body"},n.default.createElement("div",{className:"settings-page__content-row"},n.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),n.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),n.default.createElement("div",{className:"info-tab__item"},n.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),n.default.createElement("div",{className:"info-tab__logo-wrapper"},n.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})),this.state.isVisitSupportDataConsentModalOpen&&n.default.createElement(d.default,{isOpen:this.state.isVisitSupportDataConsentModalOpen,onClose:this.toggleVisitSupportDataConsentModal}))}}a.default=g,f(g,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[7968,{"./networks-form":7970},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./networks-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[7969,{"../../../../../shared/modules/conversion.utils":5913,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useNetworkFormState=void 0;var n=e("react-compiler-runtime"),s=e("react"),r=e("../../../../../shared/modules/conversion.utils");a.useNetworkFormState=e=>{const t=(0,n.c)(13),[a,o]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("");let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={rpcEndpoints:[],defaultRpcEndpointIndex:undefined},t[0]=d):d=t[0];const[m,p]=(0,s.useState)(d);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined},t[1]=f):f=t[1];const[g,h]=(0,s.useState)(f);let _;t[2]!==e?(_=()=>{o((null==e?void 0:e.name)??""),l(e?(0,r.hexToDecimal)(e.chainId):""),u((null==e?void 0:e.nativeCurrency)??""),p({rpcEndpoints:(null==e?void 0:e.rpcEndpoints)??[],defaultRpcEndpointIndex:null==e?void 0:e.defaultRpcEndpointIndex}),h({blockExplorerUrls:(null==e?void 0:e.blockExplorerUrls)??[],defaultBlockExplorerUrlIndex:null==e?void 0:e.defaultBlockExplorerUrlIndex})},t[2]=e,t[3]=_):_=t[3];const E=null==e?void 0:e.chainId;let y,b,S;return t[4]!==E?(y=[E],t[4]=E,t[5]=y):y=t[5],(0,s.useEffect)(_,y),t[6]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{o(""),l(""),u(""),p({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),h({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined})},t[6]=b):b=t[6],t[7]!==g||t[8]!==i||t[9]!==a||t[10]!==m||t[11]!==c?(S={name:a,setName:o,chainId:i,setChainId:l,ticker:c,setTicker:u,rpcUrls:m,setRpcUrls:p,blockExplorers:g,setBlockExplorers:h,clear:b},t[7]=g,t[8]=i,t[9]=a,t[10]=m,t[11]=c,t[12]=S):S=t[12],S}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form-state.ts"}],[7970,{"../../../../../shared/constants/metametrics":5791,"../../../../../shared/constants/network":5795,"../../../../../shared/lib/network-utils":5886,"../../../../../shared/lib/only-keep-host":5887,"../../../../../shared/modules/conversion.utils":5913,"../../../../../shared/modules/network.utils":5926,"../../../../../shared/modules/rpc.utils":5929,"../../../../../shared/modules/selectors/networks":5934,"../../../../components/component-library":6529,"../../../../components/multichain/dropdown-editor/dropdown-editor":6743,"../../../../components/multichain/network-list-menu/rpc-list-item":6788,"../../../../contexts/metametrics":7040,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useI18nContext":7235,"../../../../selectors":8094,"../../../../store/actions":8127,"./use-safe-chains":7971,"@metamask/controller-utils":1449,"@metamask/network-controller":2319,"@metamask/utils":3116,loglevel:4846,react:5256,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.NetworksForm=void 0;var n,s=(n=e("loglevel"))&&n.__esModule?n:{default:n},r=I(e("react")),o=e("react-redux"),i=e("@metamask/network-controller"),l=e("@metamask/utils"),c=e("@metamask/controller-utils"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../../shared/constants/network"),m=e("../../../../../shared/modules/conversion.utils"),p=e("../../../../../shared/modules/network.utils"),f=e("../../../../../shared/modules/rpc.utils"),g=e("../../../../../shared/lib/network-utils"),h=e("../../../../contexts/metametrics"),_=e("../../../../hooks/useI18nContext"),E=e("../../../../../shared/modules/selectors/networks"),y=e("../../../../store/actions"),b=e("../../../../components/component-library"),S=e("../../../../helpers/constants/design-system"),T=I(e("../../../../components/multichain/network-list-menu/rpc-list-item")),v=e("../../../../components/multichain/dropdown-editor/dropdown-editor"),x=e("../../../../selectors"),C=e("../../../../../shared/lib/only-keep-host"),k=e("./use-safe-chains");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}const M=({networkFormState:e,existingNetwork:t,trackRpcUpdateFromBanner:a,onRpcAdd:n,onBlockExplorerAdd:w,toggleNetworkMenuAfterSubmit:I=!0,onComplete:M,onEdit:D})=>{var R,A,P,O,B,L,F,U;const j=(0,_.useI18nContext)(),W=(0,o.useDispatch)(),V=(0,r.useContext)(h.MetaMetricsContext),$=(0,r.useRef)(null),z=(0,o.useSelector)(E.getNetworkConfigurationsByChainId),H=(0,o.useSelector)(x.getIsRpcFailoverEnabled),{name:G,setName:Y,chainId:K,setChainId:q,ticker:J,setTicker:X,rpcUrls:Q,setRpcUrls:Z,blockExplorers:ee,setBlockExplorers:te}=e,ae=Q.defaultRpcEndpointIndex===undefined?undefined:Q.rpcEndpoints[Q.defaultRpcEndpointIndex],{safeChains:ne}=(0,k.useSafeChains)(),[se,re]=(0,r.useState)({}),[oe,ie]=(0,r.useState)({}),[le,ce]=(0,r.useState)(),[ue,de]=(0,r.useState)(),[me,pe]=(0,r.useState)(),fe=(0,o.useSelector)(x.getTokenNetworkFilter);(0,r.useEffect)(()=>{var e,t;const a=K?N(K):undefined,n=a?d.NETWORK_TO_NAME_MAP[a]??(null===(e=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===e?void 0:e.name)??(null==ne||null===(t=ne.find(e=>N(e.chainId)===a))||void 0===t?void 0:t.name):undefined,s=n&&n!==G;ce(s?n:undefined),ie(e=>({...e,name:s?{key:"wrongNetworkName",msg:j("wrongNetworkName")}:undefined}))},[K,G,ne]),(0,r.useEffect)(()=>{var e,t;const a=K?N(K):undefined,n=a?d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[a]??(null==ne||null===(e=ne.find(e=>N(e.chainId)===a))||void 0===e||null===(e=e.nativeCurrency)||void 0===e?void 0:e.symbol):undefined,s=!!a&&(null===(t=c.NETWORKS_BYPASSING_VALIDATION[a])||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.toLowerCase())===(null==J?void 0:J.toLowerCase()),r=n&&n!==J&&!s;de(r?n:undefined),ie(e=>({...e,ticker:r?{key:"chainListReturnedDifferentTickerSymbol",msg:j("chainListReturnedDifferentTickerSymbol")}:undefined}))},[K,J,ne]),(0,r.useEffect)(()=>{let e;K===undefined||""===K?e=undefined:K.startsWith("0x")?/^0x[0-9a-f]+$/iu.test(K)?(0,p.isPrefixedFormattedHexString)(K)||(e=["invalidHexNumber",j("invalidHexNumberLeadingZeros")]):e=["invalidHexNumber",j("invalidHexNumber")]:/^[0-9]+$/u.test(K)?K.startsWith("0")&&(e=["invalidNumberLeadingZeros",j("invalidNumberLeadingZeros")]):e=["invalidNumber",j("invalidNumber")],!K||e||(0,p.isSafeChainId)(parseInt(K,K.startsWith("0x")?16:10))||(e=["invalidChainIdTooBig",j("invalidChainIdTooBig")]);const a=N(K);if(!e&&!t){const t=a?z[a]:undefined;t&&(e=["existingChainId",j("chainIdExistsErrorMsg",[t.name])])}let n;me&&a&&me!==a&&(n=["endpointReturnedDifferentChainId",j("endpointReturnedDifferentChainId",[(0,m.hexToDecimal)(me)])]),re(t=>({...t,chainId:e?{key:e[0],msg:e[1]}:undefined,rpcUrl:n?{key:n[0],msg:n[1]}:undefined}))},[K,me,null==t?void 0:t.chainId]),(0,r.useEffect)(()=>{var e;const t=null==Q||null===(e=Q.rpcEndpoints)||void 0===e||null===(e=e[(null==Q?void 0:Q.defaultRpcEndpointIndex)??-1])||void 0===e?void 0:e.url;var a;t&&(0,f.jsonRpcRequest)((a=t,a.endsWith("{infuraProjectId}")?a.replace("{infuraProjectId}",d.infuraProjectId??""):a),"eth_chainId").then(e=>{pe(e)}).catch(e=>{pe(undefined),s.default.warn("Failed to fetch the chainId from the endpoint.",e),re(e=>({...e,rpcUrl:{key:"failedToFetchChainId",msg:j("failedToFetchChainId")}}))})},[K,Q]);return r.default.createElement(b.Box,{height:S.BlockSize.Full,display:S.Display.Flex,justifyContent:S.JustifyContent.spaceBetween,flexDirection:S.FlexDirection.Column,alignItems:S.AlignItems.center,ref:$,className:"networks-tab__scrollable"},r.default.createElement(b.Box,{width:S.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingBottom:2},r.default.createElement(b.FormTextField,{id:"networkName",size:b.FormTextFieldSize.Lg,placeholder:j("enterNetworkName"),"data-testid":"network-form-name-input",autoFocus:!0,helpText:(G&&(null==oe||null===(R=oe.name)||void 0===R?void 0:R.msg)||le)&&r.default.createElement(r.default.Fragment,null,G&&(null==oe||null===(A=oe.name)||void 0===A?void 0:A.msg)&&r.default.createElement(b.HelpText,{variant:S.TextVariant.bodySm,severity:b.HelpTextSeverity.Warning},oe.name.msg),le&&r.default.createElement(b.Text,{as:"span",variant:S.TextVariant.bodySm,color:S.TextColor.textDefault,"data-testid":"network-form-name-suggestion"},j("suggestedTokenName"),r.default.createElement(b.ButtonLink,{as:"button",variant:S.TextVariant.bodySm,color:S.TextColor.primaryDefault,onClick:()=>{Y(le)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},le))),onChange:e=>{var t;Y(null===(t=e.target)||void 0===t?void 0:t.value)},label:j("networkName"),labelProps:{children:undefined,variant:S.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:S.BorderRadius.LG},inputProps:{"data-testid":"network-form-network-name"},value:G}),r.default.createElement(v.DropdownEditor,{title:j("defaultRpcUrl"),placeholder:j("addAUrl"),style:v.DropdownEditorStyle.PopoverStyle,items:Q.rpcEndpoints,itemKey:e=>e.url,selectedItemIndex:Q.defaultRpcEndpointIndex,error:Boolean(se.rpcUrl),buttonDataTestId:"test-add-rpc-drop-down",renderItem:(e,t)=>t||null!=e&&e.name||(null==e?void 0:e.type)===i.RpcEndpointType.Infura?r.default.createElement(T.default,{rpcEndpoint:e}):r.default.createElement(b.Text,{ellipsis:!0,variant:S.TextVariant.bodyMd,paddingTop:3,paddingBottom:3,display:S.Display.Flex,alignItems:S.AlignItems.center,gap:1},(0,T.stripProtocol)((0,T.stripKeyFromInfuraUrl)(e.url)),H&&e.failoverUrls&&e.failoverUrls.length>0?r.default.createElement(b.Tag,{label:j("failover"),display:S.Display.Inline}):null),renderTooltip:(e,t)=>{const a=(0,T.stripKeyFromInfuraUrl)(e.url);return a.length>(t?37:35)?a:undefined},addButtonText:j("addRpcUrl"),itemIsDeletable:e=>e.type!==i.RpcEndpointType.Infura,onItemAdd:n,onItemSelected:e=>Z(t=>({...t,defaultRpcEndpointIndex:e})),onItemDeleted:(e,t)=>{var a;Z({rpcEndpoints:null===(a=Q.rpcEndpoints)||void 0===a?void 0:a.slice(0,e).concat(Q.rpcEndpoints.slice(e+1)),defaultRpcEndpointIndex:t})}}),(null===(P=se.rpcUrl)||void 0===P?void 0:P.msg)&&r.default.createElement(b.Box,null,r.default.createElement(b.HelpText,{variant:S.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},null===(O=se.rpcUrl)||void 0===O?void 0:O.msg)),H&&ae&&ae.failoverUrls&&ae.failoverUrls.length>0?r.default.createElement(b.FormTextField,{id:"failoverRpcUrl",size:b.FormTextFieldSize.Lg,paddingTop:4,label:j("failoverRpcUrl"),labelProps:{children:undefined,variant:S.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:S.BorderRadius.LG},value:(0,C.onlyKeepHost)(ae.failoverUrls[0]),disabled:!0}):null,r.default.createElement(b.FormTextField,{id:"chainId",size:b.FormTextFieldSize.Lg,placeholder:j("enterChainId"),paddingTop:4,"data-testid":"network-form-chain-id-input",onChange:e=>{var t;q(null===(t=e.target)||void 0===t?void 0:t.value.trim())},error:Boolean(null==se?void 0:se.chainId),label:j("chainId"),labelProps:{children:undefined,variant:S.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:S.BorderRadius.LG},inputProps:{"data-testid":"network-form-chain-id"},value:K,disabled:Boolean(t)}),null!==(B=se.chainId)&&void 0!==B&&B.msg?r.default.createElement(b.HelpText,{variant:S.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},se.chainId.msg):null,"existingChainId"===(null===(L=se.chainId)||void 0===L?void 0:L.key)?r.default.createElement(b.Box,null,r.default.createElement(b.HelpText,{variant:S.TextVariant.bodySm,severity:b.HelpTextSeverity.Danger,"data-testid":"network-form-chain-id-error"},j("updateOrEditNetworkInformations")," ",r.default.createElement(b.ButtonLink,{as:"button",variant:S.TextVariant.bodySm,color:S.TextColor.primaryDefault,onClick:()=>{const e=N(K);e&&(W((0,y.setEditedNetwork)({chainId:e})),null==D||D())}},j("editNetworkLink")))):null,r.default.createElement(b.FormTextField,{id:"nativeCurrency",size:b.FormTextFieldSize.Lg,placeholder:j("enterSymbol"),paddingTop:4,"data-testid":"network-form-ticker",helpText:ue?r.default.createElement(b.Text,{as:"span",variant:S.TextVariant.bodySm,color:S.TextColor.textDefault,"data-testid":"network-form-ticker-suggestion"},j("suggestedCurrencySymbol"),r.default.createElement(b.ButtonLink,{as:"button",variant:S.TextVariant.bodySm,color:S.TextColor.primaryDefault,onClick:()=>{X(ue)},paddingLeft:1,paddingRight:1,style:{verticalAlign:"baseline"}},ue)):null,onChange:e=>{var t;X(null===(t=e.target)||void 0===t?void 0:t.value)},label:j("currencySymbol"),labelProps:{children:undefined,variant:S.TextVariant.bodyMdMedium},textFieldProps:{borderRadius:S.BorderRadius.LG},inputProps:{"data-testid":"network-form-ticker-input"},value:J}),J&&null!==(F=oe.ticker)&&void 0!==F&&F.msg?r.default.createElement(b.HelpText,{variant:S.TextVariant.bodySm,severity:b.HelpTextSeverity.Warning,"data-testid":"network-form-ticker-warning"},oe.ticker.msg):null,r.default.createElement(v.DropdownEditor,{title:j("blockExplorerUrl"),placeholder:j("addAUrl"),style:v.DropdownEditorStyle.BoxStyle,items:ee.blockExplorerUrls,itemKey:e=>`${e}`,selectedItemIndex:ee.defaultBlockExplorerUrlIndex,addButtonText:j("addBlockExplorerUrl"),onItemAdd:w,buttonDataTestId:"test-explorer-drop-down",onItemSelected:e=>te(t=>({...t,defaultBlockExplorerUrlIndex:e})),onItemDeleted:(e,t)=>{var a;te({blockExplorerUrls:null===(a=ee.blockExplorerUrls)||void 0===a?void 0:a.slice(0,e).concat(ee.blockExplorerUrls.slice(e+1)),defaultBlockExplorerUrlIndex:t})},onDropdownOpened:()=>{$.current&&($.current.scrollTop=$.current.scrollHeight)},renderItem:e=>r.default.createElement(b.Text,{as:"button",paddingLeft:0,paddingRight:0,paddingTop:3,paddingBottom:3,color:S.TextColor.textDefault,variant:S.TextVariant.bodyMd,backgroundColor:S.BackgroundColor.transparent,ellipsis:!0},(0,T.stripProtocol)(e)),renderTooltip:e=>e.length>36?e:undefined})),r.default.createElement(b.Box,{className:"networks-tab__network-form__footer",backgroundColor:S.BackgroundColor.backgroundDefault,padding:4,width:S.BlockSize.Full},r.default.createElement(b.ButtonPrimary,{disabled:!G||!K||!J||!(null!=Q&&null!==(U=Q.rpcEndpoints)&&void 0!==U&&U.length)||Object.values(se).some(e=>e),onClick:async()=>{try{const r=K?N(K):undefined;if(r===d.CHAIN_IDS.GOERLI)W((0,y.showDeprecatedNetworkModal)());else if(r){var e,n;const o={chainId:r,name:G,nativeCurrency:J,rpcEndpoints:null==Q?void 0:Q.rpcEndpoints,defaultRpcEndpointIndex:(null==Q?void 0:Q.defaultRpcEndpointIndex)??0,blockExplorerUrls:null==ee?void 0:ee.blockExplorerUrls,defaultBlockExplorerUrlIndex:null==ee?void 0:ee.defaultBlockExplorerUrlIndex};if(t){const e={replacementSelectedRpcEndpointIndex:r===t.chainId?null==Q?void 0:Q.defaultRpcEndpointIndex:undefined};if(await W((0,y.updateNetwork)(o,e)),1===Object.keys(fe).length&&(await W((0,y.setTokenNetworkFilter)({[t.chainId]:!0})),await W((0,y.setEnabledNetworks)(t.chainId))),a){var s;const e=o.rpcEndpoints[o.defaultRpcEndpointIndex],a=null===(s=t.rpcEndpoints)||void 0===s?void 0:s[t.defaultRpcEndpointIndex??0],n=(0,l.hexToNumber)(r),i=e=>(0,g.isPublicEndpointUrl)(e,d.infuraProjectId??"")?(0,C.onlyKeepHost)(e):"custom";V({category:u.MetaMetricsEventCategory.Network,event:u.MetaMetricsEventName.NetworkConnectionBannerRpcUpdated,properties:{chain_id_caip:`eip155:${n}`,from_rpc_domain:null!=a&&a.url?i(a.url):"unknown",to_rpc_domain:i(e.url)}})}}else await W((0,y.addNetwork)(o)),await W((0,y.setEnabledNetworks)(o.chainId));V({event:u.MetaMetricsEventName.CustomNetworkAdded,category:u.MetaMetricsEventCategory.Network,properties:{block_explorer_url:null==ee||null===(e=ee.blockExplorerUrls)||void 0===e?void 0:e[(null==ee?void 0:ee.defaultBlockExplorerUrlIndex)??-1],chain_id:r,network_name:G,source_connection_method:u.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:J},sensitiveProperties:{rpcUrl:(0,k.rpcIdentifierUtility)(null==Q||null===(n=Q.rpcEndpoints[Q.defaultRpcEndpointIndex??-1])||void 0===n?void 0:n.url,ne??[])}}),W((0,y.setEditedNetwork)({chainId:r,nickname:G,editCompleted:!0,newNetwork:!t}))}}catch(e){console.error(e)}finally{I&&W((0,y.toggleNetworkMenu)()),null==M||M()}},size:b.ButtonPrimarySize.Lg,width:S.BlockSize.Full},j("save"))))};function N(e){return(0,l.isStrictHexString)(e)?e:/^\d+$/u.test(e)?`0x${(0,m.decimalToHex)(e)}`:undefined}a.NetworksForm=M;a.default=M}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.tsx"}],[7971,{"../../../../../shared/constants/network":5795,"../../../../../shared/constants/time":5812,"../../../../../shared/lib/fetch-with-cache":5870,"../../../../../shared/modules/conversion.utils":5913,"../../../../selectors":8094,"@metamask/utils":3116,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.useSafeChains=a.rpcIdentifierUtility=a.getSafeNativeCurrencySymbol=void 0;var n,s=e("react-compiler-runtime"),r=e("react"),o=e("react-redux"),i=e("@metamask/utils"),l=e("../../../../selectors"),c=(n=e("../../../../../shared/lib/fetch-with-cache"))&&n.__esModule?n:{default:n},u=e("../../../../../shared/constants/network"),d=e("../../../../../shared/constants/time"),m=e("../../../../../shared/modules/conversion.utils");a.useSafeChains=()=>{const e=(0,s.c)(4),t=(0,o.useSelector)(l.getUseSafeChainsListValidation);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={safeChains:[]},e[0]=a):a=e[0];const[n,i]=(0,r.useState)(a);let m,p;return e[1]!==t?(m=()=>{let e=!0;return t&&(0,c.default)({url:u.CHAIN_SPEC_URL,functionName:"getSafeChainsList",allowStale:!0,cacheOptions:{cacheRefreshTime:d.DAY}}).then(t=>{e&&i({safeChains:t})}).catch(t=>{e&&i({error:t})}),()=>{e=!1}},p=[t],e[1]=t,e[2]=m,e[3]=p):(m=e[2],p=e[3]),(0,r.useEffect)(m,p),n};a.getSafeNativeCurrencySymbol=(e,t)=>{var a;if(!e||!t)return undefined;const n=(0,i.isStrictHexString)(t)&&parseInt((0,m.hexToDecimal)(t),10);return"number"!=typeof n?undefined:null===(a=e.find(e=>e.chainId===n.toString()))||void 0===a||null===(a=a.nativeCurrency)||void 0===a?void 0:a.symbol};a.rpcIdentifierUtility=(e,t)=>{const{host:a}=new URL(e);for(const e of t)for(const t of e.rpc)try{if(a===new URL(t).host)return a}catch{continue}return"Unknown rpcUrl"}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/use-safe-chains.ts"}],[7972,{"../../../../components/component-library":6529,"../../../../helpers/constants/design-system":7083,"../../../../helpers/constants/zendesk-url":7095,"../../../../hooks/useI18nContext":7235,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,n.c)(41),{onConfirm:a,onCancel:c}=e,u=(0,r.useI18nContext)();let d,m;t[0]!==u?(d=u("learnMoreUpperCase"),t[0]=u,t[1]=d):d=t[1];t[2]!==d?(m=s.default.createElement("a",{key:"change-password__link-text",href:l.default.PASSWORD_RESET,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("span",{className:"change-password__link-text"},d)),t[2]=d,t[3]=m):m=t[3];const p=m;let f,g,h,_,E,y,b,S,T,v,x,C,k,w,I,M;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.default.createElement(i.ModalOverlay,null),t[4]=f):f=t[4];t[5]===Symbol.for("react.memo_cache_sentinel")?(g=s.default.createElement(i.Box,{display:o.Display.Flex,justifyContent:o.JustifyContent.center},s.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Xl,color:o.IconColor.warningDefault})),t[5]=g):g=t[5];t[6]!==u?(h=u("changePasswordWarning"),t[6]=u,t[7]=h):h=t[7];t[8]!==h?(_=s.default.createElement(i.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},h),t[8]=h,t[9]=_):_=t[9];t[10]!==u?(E=u("changePasswordWarningDescription"),t[10]=u,t[11]=E):E=t[11];t[12]!==p||t[13]!==E?(y=s.default.createElement(i.Text,{variant:o.TextVariant.bodySm,marginTop:4},E," ",p),t[12]=p,t[13]=E,t[14]=y):y=t[14];t[15]!==_||t[16]!==y?(b=s.default.createElement(i.ModalHeader,null,s.default.createElement(i.Box,null,g,_,y)),t[15]=_,t[16]=y,t[17]=b):b=t[17];t[18]!==c?(S=()=>c(),t[18]=c,t[19]=S):S=t[19];t[20]!==u?(T=u("cancel"),t[20]=u,t[21]=T):T=t[21];t[22]!==S||t[23]!==T?(v=s.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,"data-testid":"change-password-warning-cancel",size:i.ButtonSize.Lg,block:!0,onClick:S},T),t[22]=S,t[23]=T,t[24]=v):v=t[24];t[25]!==a?(x=()=>a(),t[25]=a,t[26]=x):x=t[26];t[27]!==u?(C=u("confirm"),t[27]=u,t[28]=C):C=t[28];t[29]!==x||t[30]!==C?(k=s.default.createElement(i.Button,{"data-testid":"change-password-warning-confirm",size:i.ButtonSize.Lg,block:!0,onClick:x},C),t[29]=x,t[30]=C,t[31]=k):k=t[31];t[32]!==v||t[33]!==k?(w=s.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},s.default.createElement(i.Box,{display:o.Display.Flex,marginTop:2,gap:4},v,k)),t[32]=v,t[33]=k,t[34]=w):w=t[34];t[35]!==w||t[36]!==b?(I=s.default.createElement(i.ModalContent,{alignItems:o.AlignItems.center},b,w),t[35]=w,t[36]=b,t[37]=I):I=t[37];t[38]!==c||t[39]!==I?(M=s.default.createElement(i.Modal,{isOpen:!0,onClose:c,className:"change-password-warning-modal","data-testid":"change-password-warning-modal"},f,I),t[38]=c,t[39]=I,t[40]=M):M=t[40];return M};var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=c(e("../../../../helpers/constants/zendesk-url"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password-warning.tsx"}],[7973,{"../../../../../shared/constants/app-state":5774,"../../../../../shared/constants/metametrics":5791,"../../../../components/app/password-form/password-form":6201,"../../../../components/app/toast-master/utils":6419,"../../../../components/component-library":6529,"../../../../components/ui/mascot":6971,"../../../../components/ui/spinner":7002,"../../../../contexts/metametrics":7040,"../../../../helpers/constants/design-system":7083,"../../../../helpers/constants/routes":7088,"../../../../helpers/constants/zendesk-url":7095,"../../../../helpers/utils/build-types":7107,"../../../../hooks/useI18nContext":7235,"../../../../selectors":8094,"../../../../store/actions":8127,"./change-password-warning":7972,events:4384,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=x(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/build-types"),u=x(e("../../../../components/ui/mascot")),d=x(e("../../../../components/ui/spinner")),m=e("../../../../hooks/useI18nContext"),p=e("../../../../store/actions"),f=x(e("../../../../components/app/password-form/password-form")),g=e("../../../../helpers/constants/routes"),h=e("../../../../components/app/toast-master/utils"),_=e("../../../../../shared/constants/app-state"),E=e("../../../../selectors"),y=x(e("../../../../helpers/constants/zendesk-url")),b=e("../../../../contexts/metametrics"),S=e("../../../../../shared/constants/metametrics"),T=x(e("./change-password-warning"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}const C=1,k=2,w=3;a.default=()=>{const e=(0,m.useI18nContext)(),t=(0,r.useDispatch)(),a=(0,o.useNavigate)(),v=(0,s.useContext)(b.MetaMetricsContext),x=(0,r.useSelector)(E.getIsSocialLoginFlow),I=(0,s.useRef)(new n.default),[M,N]=(0,s.useState)(C),[D,R]=(0,s.useState)(""),[A,P]=(0,s.useState)(!1),[O,B]=(0,s.useState)(!1),[L,F]=(0,s.useState)(""),[U,j]=(0,s.useState)(!1),W=async()=>{try{j(!1),N(w),await t((0,p.changePassword)(L,D)),v({category:S.MetaMetricsEventCategory.Settings,event:S.MetaMetricsEventName.PasswordChanged,properties:{biometrics_enabled:!1}}),a(g.SECURITY_ROUTE),t((0,h.setShowPasswordChangeToast)(_.PasswordChangeToastType.Success))}catch(e){console.error(e),N(k),t((0,h.setShowPasswordChangeToast)(_.PasswordChangeToastType.Errored))}},V=s.default.createElement("a",{onClick:e=>{e.stopPropagation(),v({category:S.MetaMetricsEventCategory.Onboarding,event:S.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"change_password",url:y.default.PASSWORD_ARTICLE}})},key:"change-password__link-text",href:y.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},s.default.createElement("span",{className:"change-password__link-text"},e("learnMoreUpperCaseWithDot")));return(0,s.useEffect)(()=>{(async()=>{x&&await t((0,p.checkIsSeedlessPasswordOutdated)())})()},[t,x]),s.default.createElement(i.Box,{padding:4,className:"change-password"},M===C&&s.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),(async()=>{try{await(0,p.verifyPassword)(D),P(!1),N(k)}catch(e){P(!0)}})()}},s.default.createElement(i.FormTextField,{id:"current-password",label:e("enterPasswordCurrent"),textFieldProps:{type:i.TextFieldType.Password},size:i.FormTextFieldSize.Lg,labelProps:{marginBottom:1},inputProps:{autoFocus:!0,"data-testid":"verify-current-password-input"},value:D,error:A,helpText:A?e("unlockPageIncorrectPassword"):null,onChange:e=>{R(e.target.value),P(!1)}}),s.default.createElement(i.Button,{type:"submit",block:!0,size:i.ButtonSize.Lg,disabled:A||!D,"data-testid":"verify-current-password-button"},e("continue"))),M===k&&s.default.createElement(i.Box,{as:"form",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:6,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,onSubmit:e=>{e.preventDefault(),x?j(!0):W()}},s.default.createElement(i.Box,null,s.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:4,as:"h2"},e(x?"changePasswordDetailsSocial":"createPasswordDetails")),s.default.createElement(f.default,{onChange:e=>F(e),pwdInputTestId:"change-password-input",confirmPwdInputTestId:"change-password-confirm-input"}),s.default.createElement(i.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},s.default.createElement(i.Checkbox,{inputProps:{"data-testid":"change-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:O,onChange:()=>{B(!O)},label:s.default.createElement(s.default.Fragment,null,e(x?"passwordTermsWarningSocial":"passwordTermsWarning"),"",V)}))),s.default.createElement(i.Button,{type:"submit",disabled:!D||!L||!O,"data-testid":"change-password-button",block:!0},e("save"))),M===w&&s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,marginTop:12},s.default.createElement("div",null,(0,c.isFlask)()||(0,c.isBeta)()?s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"100",height:"100"}):s.default.createElement(u.default,{animationEventEmitter:I.current,width:"100",height:"100"})),s.default.createElement(d.default,{className:"change-password__spinner"}),s.default.createElement(i.Text,{variant:l.TextVariant.bodyLgMedium,marginBottom:4},e("changePasswordLoading")),s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},e("changePasswordLoadingNote"))),U&&s.default.createElement(T.default,{onConfirm:()=>{W()},onCancel:()=>j(!1)}))}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/change-password.tsx"}],[7974,{"./change-password":7973},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./change-password"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/change-password/index.ts"}],[7975,{"../../../../../shared/constants/metametrics":5791,"../../../../../shared/lib/ui-utils":5904,"../../../../components/app/clear-metametrics-data":6050,"../../../../components/app/data-deletion-error-modal":6094,"../../../../components/component-library":6529,"../../../../ducks/app/app":7052,"../../../../helpers/constants/design-system":7083,"../../../../helpers/utils/util":7141,"../../../../hooks/useI18nContext":7235,"../../../../selectors":8094,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=h(e("react")),r=e("react-redux"),o=e("../../../../../shared/lib/ui-utils"),i=h(e("../../../../components/app/clear-metametrics-data")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors"),m=e("../../../../ducks/app/app"),p=h(e("../../../../components/app/data-deletion-error-modal")),f=e("../../../../helpers/utils/util"),g=e("../../../../../shared/constants/metametrics");function h(e){return e&&e.__esModule?e:{default:e}}const _=s.default.forwardRef((e,t)=>{const a=(0,n.c)(47),{defaultPrivacySettings:h}=e,_=(0,u.useI18nContext)(),E=(0,r.useDispatch)(),y=(0,r.useSelector)(d.getMetaMetricsId),b=(0,r.useSelector)(d.getMetaMetricsDataDeletionStatus),S=(0,r.useSelector)(d.getMetaMetricsDataDeletionTimestamp),T=(0,f.formatDate)(S,"d/MM/y"),v=(0,r.useSelector)(d.getShowDeleteMetaMetricsDataModal),x=(0,r.useSelector)(d.getShowDataDeletionErrorModal),C=(0,r.useSelector)(d.getLatestMetricsEventTimestamp);let k,w,I=!(0,r.useSelector)(d.getParticipateInMetaMetrics);if(!I&&b){let e;a[0]!==C||a[1]!==b||a[2]!==S?(e=[g.DeleteRegulationStatus.Initialized,g.DeleteRegulationStatus.Running,g.DeleteRegulationStatus.Finished].includes(b)&&S>C,a[0]=C,a[1]=b,a[2]=S,a[3]=e):e=a[3],I=e}a[4]!==_?(k=_("privacyMsg"),a[4]=_,a[5]=k):k=a[5],a[6]!==k?(w=s.default.createElement("a",{href:o.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"metametrics-consensys-privacy-link"},k),a[6]=k,a[7]=w):w=a[7];const M=w,N=l.Box,D=c.Display,R=c.FlexDirection;let A,P;a[8]!==_?(A=_("deleteMetaMetricsData"),a[8]=_,a[9]=A):A=a[9],a[10]!==A?(P=s.default.createElement("span",null,A),a[10]=A,a[11]=P):P=a[11];const O=I&&Boolean(y)?_("deleteMetaMetricsDataRequestedDescription",[T,M]):_("deleteMetaMetricsDataDescription",[M]);let B,L;a[12]!==O?(B=s.default.createElement("div",{className:"settings-page__content-description"},O),a[12]=O,a[13]=B):B=a[13],a[14]!==B||a[15]!==P?(L=s.default.createElement("div",{className:"settings-page__content-item"},P,B),a[14]=B,a[15]=P,a[16]=L):L=a[16];const F="settings-page__content-item-col "+(h?"settings-page__button-defaut-settings":"");let U,j;a[17]!==y||a[18]!==_?(U=Boolean(!y)&&s.default.createElement(l.Box,{display:c.Display.InlineFlex},s.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm}),s.default.createElement(l.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,marginBottom:2},_("metaMetricsIdNotAvailableError"))),a[17]=y,a[18]=_,a[19]=U):U=a[19],a[20]!==E?(j=()=>{E((0,m.openDeleteMetaMetricsDataModal)())},a[20]=E,a[21]=j):j=a[21];const W=I;let V,$,z,H,G,Y,K;return a[22]!==_?(V=_("deleteMetaMetricsData"),a[22]=_,a[23]=V):V=a[23],a[24]!==I||a[25]!==j||a[26]!==V?($=s.default.createElement(l.ButtonPrimary,{"data-testid":"delete-metametrics-data-button",className:"settings-page__button",width:c.BlockSize.Full,onClick:j,disabled:W},V),a[24]=I,a[25]=j,a[26]=V,a[27]=$):$=a[27],a[28]!==F||a[29]!==U||a[30]!==$?(z=s.default.createElement("div",{className:F},U,$),a[28]=F,a[29]=U,a[30]=$,a[31]=z):z=a[31],a[32]!==N||a[33]!==t||a[34]!==L||a[35]!==z||a[36]!==D.Flex||a[37]!==R.Column?(H=s.default.createElement(N,{ref:t,className:"settings-page__content-row",display:D.Flex,flexDirection:R.Column,gap:4},L,z),a[32]=N,a[33]=t,a[34]=L,a[35]=z,a[36]=D.Flex,a[37]=R.Column,a[38]=H):H=a[38],a[39]!==v?(G=v&&s.default.createElement(i.default,null),a[39]=v,a[40]=G):G=a[40],a[41]!==x?(Y=x&&s.default.createElement(p.default,null),a[41]=x,a[42]=Y):Y=a[42],a[43]!==H||a[44]!==G||a[45]!==Y?(K=s.default.createElement(s.default.Fragment,null,H,G,Y),a[43]=H,a[44]=G,a[45]=Y,a[46]=K):K=a[46],K});a.default=_}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/delete-metametrics-data-button.tsx"}],[7976,{"./delete-metametrics-data-button":7975},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./delete-metametrics-data-button"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/delete-metametrics-data-button/index.ts"}],[7977,{"./security-tab.container":7983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./security-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[7978,{"./metametrics-toggle":7979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./metametrics-toggle"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/index.ts"}],[7979,{"../../../../../shared/constants/metametrics":5791,"../../../../components/component-library":6529,"../../../../components/ui/toggle-button":7016,"../../../../contexts/metametrics":7040,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useMetametrics":7238,"../../../../selectors":8094,"../../../../selectors/identity/backup-and-sync":8093,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../contexts/metametrics"),c=e("../../../../hooks/useMetametrics"),u=e("../../../../selectors/identity/backup-and-sync"),d=e("../../../../../shared/constants/metametrics"),m=e("../../../../components/component-library"),p=(n=e("../../../../components/ui/toggle-button"))&&n.__esModule?n:{default:n},f=e("../../../../helpers/constants/design-system"),g=e("../../../../selectors");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(41),{dataCollectionForMarketing:a,setDataCollectionForMarketing:n,fromDefaultSettings:h}=e,_=h!==undefined&&h,E=(0,i.useI18nContext)(),y=(0,r.useContext)(l.MetaMetricsContext),{enableMetametrics:b,error:S}=(0,c.useEnableMetametrics)(),{disableMetametrics:T,error:v}=(0,c.useDisableMetametrics)(),x=S||v,C=(0,o.useSelector)(u.selectIsBackupAndSyncEnabled),k=(0,o.useSelector)(g.getParticipateInMetaMetrics),w=(0,o.useSelector)(g.getUseExternalServices);let I;t[0]!==a||t[1]!==T||t[2]!==b||t[3]!==_||t[4]!==C||t[5]!==k||t[6]!==n||t[7]!==y?(I=async e=>{e?(await b(),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOnMetaMetrics,properties:{isProfileSyncingEnabled:C,participateInMetaMetrics:k,location:_?"Default Settings":"Settings"}})):(a&&await n(!1),await T(),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.TurnOffMetaMetrics,properties:{isProfileSyncingEnabled:C,participateInMetaMetrics:k}}),y({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!1,has_marketing_consent:!1,location:"Settings"}}))},t[0]=a,t[1]=T,t[2]=b,t[3]=_,t[4]=C,t[5]=k,t[6]=n,t[7]=y,t[8]=I):I=t[8];const M=I;let N,D,R,A,P;t[9]!==E?(N=E("participateInMetaMetrics"),t[9]=E,t[10]=N):N=t[10],t[11]!==N?(D=r.default.createElement("span",null,N),t[11]=N,t[12]=D):D=t[12],t[13]!==E?(R=E("participateInMetaMetricsDescription"),t[13]=E,t[14]=R):R=t[14],t[15]!==R?(A=r.default.createElement("div",{className:"settings-page__content-description"},R),t[15]=R,t[16]=A):A=t[16],t[17]!==D||t[18]!==A?(P=r.default.createElement("div",{className:"settings-page__content-item"},D,A),t[17]=D,t[18]=A,t[19]=P):P=t[19];const O=!w;let B,L,F,U,j,W,V;return t[20]!==M?(B=e=>M(!e),t[20]=M,t[21]=B):B=t[21],t[22]!==E?(L=E("off"),t[22]=E,t[23]=L):L=t[23],t[24]!==E?(F=E("on"),t[24]=E,t[25]=F):F=t[25],t[26]!==k||t[27]!==L||t[28]!==F||t[29]!==O||t[30]!==B?(U=r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participate-in-meta-metrics-toggle"},r.default.createElement(p.default,{value:k,disabled:O,onToggle:B,offLabel:L,onLabel:F})),t[26]=k,t[27]=L,t[28]=F,t[29]=O,t[30]=B,t[31]=U):U=t[31],t[32]!==U||t[33]!==P?(j=r.default.createElement(m.Box,{className:"settings-page__content-row",display:f.Display.Flex,flexDirection:f.FlexDirection.Row,justifyContent:f.JustifyContent.spaceBetween,gap:4,"data-testid":"participate-in-meta-metrics-container"},P,U),t[32]=U,t[33]=P,t[34]=j):j=t[34],t[35]!==x||t[36]!==E?(W=x&&r.default.createElement(m.Box,{paddingBottom:4},r.default.createElement(m.Text,{as:"p",color:f.TextColor.errorDefault,variant:f.TextVariant.bodySm},E("notificationsSettingsBoxError"))),t[35]=x,t[36]=E,t[37]=W):W=t[37],t[38]!==j||t[39]!==W?(V=r.default.createElement(m.Box,null,j,W),t[38]=j,t[39]=W,t[40]=V):V=t[40],V}}}},{package:"$root$",file:"ui/pages/settings/security-tab/metametrics-toggle/metametrics-toggle.tsx"}],[7980,{"./reveal-srp-list":7981},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RevealSrpList",{enumerable:!0,get:function(){return n.RevealSrpList}});var n=e("./reveal-srp-list")}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/index.ts"}],[7981,{"../../../../components/app/srp-quiz-modal/SRPQuiz":6410,"../../../../components/component-library":6529,"../../../../components/multichain/multi-srp/srp-list/srp-list":6775,"../../../../components/ui/card":6916,"../../../../helpers/constants/design-system":7083,"../../../../helpers/constants/routes":7088,"../../../../hooks/social-sync/useSyncSRPs":7205,"../../../../hooks/useI18nContext":7235,"../../../../selectors":8094,"@metamask/seedless-onboarding-controller":2620,lodash:4838,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RevealSrpList=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-router-dom"),o=e("react-redux"),i=e("@metamask/seedless-onboarding-controller"),l=e("lodash"),c=e("../../../../components/component-library"),u=E(e("../../../../components/app/srp-quiz-modal/SRPQuiz")),d=e("../../../../components/multichain/multi-srp/srp-list/srp-list"),m=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useI18nContext"),f=e("../../../../helpers/constants/routes"),g=e("../../../../selectors"),h=E(e("../../../../components/ui/card")),_=e("../../../../hooks/social-sync/useSyncSRPs");function E(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function b(e){const[t,a]=e.split("@"),n=t.slice(0,1);return`${`${n}${"*".repeat(t.length-n.length)}`}@${a}`}a.RevealSrpList=()=>{const e=(0,n.c)(24),t=(0,p.useI18nContext)(),a=(0,r.useNavigate)(),[E,y]=(0,s.useState)(!1),[S,T]=(0,s.useState)(""),v=(0,o.useSelector)(g.getIsSocialLoginFlow),x=(0,o.useSelector)(g.getSocialLoginType),C=(0,o.useSelector)(g.getSocialLoginEmail);let k;(0,_.useSyncSRPs)(),e[0]!==a?(k=(e,t)=>{if(t){const e=`${f.ONBOARDING_REVIEW_SRP_ROUTE}/?isFromReminder=true&isFromSettingsSecurity=true`;a(e)}else T(e),y(!0)},e[0]=a,e[1]=k):k=e[1];const w=k,I=b;let M,N,D,R,A,P,O;return e[2]!==v||e[3]!==C||e[4]!==x||e[5]!==t?(M=v&&s.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},s.default.createElement(c.Text,{marginBottom:2,variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative,textTransform:m.TextTransform.Uppercase},t("securitySocialLoginLabel",[x])),s.default.createElement(h.default,{className:"srp-reveal-list__social-login-card",backgroundColor:m.BackgroundColor.backgroundMuted,border:!1},s.default.createElement(c.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center,gap:3},s.default.createElement(c.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,gap:2},x===i.AuthConnection.Apple?s.default.createElement(c.Icon,{name:c.IconName.Apple,color:m.IconColor.iconDefault,size:c.IconSize.Lg}):s.default.createElement("img",{src:"images/icons/google.svg",className:"srp-reveal-list__social-icon",alt:"Google icon"})),s.default.createElement(c.Box,{flexDirection:m.FlexDirection.Column},s.default.createElement(c.Text,{fontWeight:m.FontWeight.Medium},t("securitySocialLoginEnabled")),C&&s.default.createElement(c.Text,{variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative},I(C))))),s.default.createElement(c.Text,{marginTop:1,variant:m.TextVariant.bodySm,color:m.TextColor.textAlternative},t("securitySocialLoginEnabledDescription",[(0,l.capitalize)(x)])),s.default.createElement(c.Box,{width:m.BlockSize.Full,className:"srp-reveal-list__divider",marginTop:4})),e[2]=v,e[3]=C,e[4]=x,e[5]=t,e[6]=M):M=e[6],e[7]!==t?(N=t("securitySrpLabel"),e[7]=t,e[8]=N):N=e[8],e[9]!==N?(D=s.default.createElement(c.Text,{marginBottom:2,variant:m.TextVariant.bodyMd,color:m.TextColor.textAlternative,textTransform:m.TextTransform.Uppercase},N),e[9]=N,e[10]=D):D=e[10],e[11]!==w?(R=s.default.createElement(d.SrpList,{onActionComplete:w,hideShowAccounts:!1,isSettingsPage:!0}),e[11]=w,e[12]=R):R=e[12],e[13]!==D||e[14]!==R?(A=s.default.createElement(c.Box,{paddingTop:4,paddingLeft:4,paddingRight:4,paddingBottom:0,className:"srp-reveal-list__srp-list"},D,R),e[13]=D,e[14]=R,e[15]=A):A=e[15],e[16]!==a||e[17]!==S||e[18]!==E?(P=E&&S&&s.default.createElement(u.default,{keyringId:S,isOpen:E,onClose:()=>y(!1),navigate:a}),e[16]=a,e[17]=S,e[18]=E,e[19]=P):P=e[19],e[20]!==M||e[21]!==A||e[22]!==P?(O=s.default.createElement(c.Box,{className:"srp-reveal-list"},M,A,P),e[20]=M,e[21]=A,e[22]=P,e[23]=O):O=e[23],O}}}},{package:"$root$",file:"ui/pages/settings/security-tab/reveal-srp-list/reveal-srp-list.tsx"}],[7982,{"../../../../app/scripts/lib/util":372,"../../../../shared/constants/app":5775,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/network":5795,"../../../../shared/lib/ui-utils":5904,"../../../../shared/modules/environment":5917,"../../../components/app/srp-quiz-modal/SRPQuiz":6410,"../../../components/component-library":6529,"../../../components/ui/popover":6989,"../../../components/ui/text-field":7012,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/constants/zendesk-url":7095,"../../../helpers/utils/settings-search":7131,"../../../store/actions":8127,"./delete-metametrics-data-button":7976,"./metametrics-toggle":7978,lodash:4838,loglevel:4846,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("lodash"),s=k(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=k(e("loglevel")),i=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/network"),d=e("../../../../shared/lib/ui-utils"),m=k(e("../../../components/app/srp-quiz-modal/SRPQuiz")),p=e("../../../components/component-library"),f=k(e("../../../components/ui/text-field")),g=k(e("../../../components/ui/toggle-button")),h=k(e("../../../components/ui/popover")),_=e("../../../helpers/constants/design-system"),E=e("../../../helpers/constants/routes"),y=e("../../../helpers/utils/settings-search"),b=e("../../../store/actions"),S=k(e("../../../helpers/constants/zendesk-url")),T=e("../../../../shared/modules/environment"),v=k(e("./metametrics-toggle")),x=k(e("./delete-metametrics-data-button"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function k(e){return e&&e.__esModule?e:{default:e}}function w(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class I extends r.PureComponent{constructor(...e){super(...e),w(this,"state",{ipfsGateway:this.props.ipfsGateway||u.IPFS_DEFAULT_GATEWAY_URL,ipfsGatewayError:"",srpQuizModalVisible:!1,showDataCollectionDisclaimer:!1,ipfsToggle:this.props.ipfsGateway.length>0,hasEmailMarketingConsentError:!1}),w(this,"settingsRefCounter",0),w(this,"settingsRefs",Array((0,y.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map(()=>r.default.createRef())),w(this,"hideSrpQuizModal",()=>this.setState({srpQuizModalVisible:!1})),w(this,"renderDataCollectionWarning",()=>{const{t:e}=this.context;return r.default.createElement(h.default,{wrapTitle:!0,centerTitle:!0,onClose:()=>this.setState({showDataCollectionDisclaimer:!1}),title:r.default.createElement(p.Icon,{size:p.IconSize.Xl,name:p.IconName.Danger,color:_.IconColor.warningDefault}),footer:r.default.createElement(p.Button,{width:_.BlockSize.Full,type:"primary",onClick:()=>this.setState({showDataCollectionDisclaimer:!1})},e("dataCollectionWarningPopoverButton"))},r.default.createElement(p.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:2,margin:4},r.default.createElement(p.Text,null,e("dataCollectionWarningPopoverDescription"))))})}componentDidUpdate(e){const{t:t}=this.context;(0,y.handleSettingsRefs)(t,t("securityAndPrivacy"),this.settingsRefs),!0!==e.dataCollectionForMarketing||!0!==this.props.participateInMetaMetrics||!1!==this.props.dataCollectionForMarketing||this.props.socialLoginEnabled||this.setState({showDataCollectionDisclaimer:!0})}async componentDidMount(){const{t:e}=this.context;if((0,y.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs),this.props.metaMetricsDataDeletionId&&await(0,b.updateDataDeletionTaskStatus)(),this.props.socialLoginEnabled){const e=await this.props.getMarketingConsent();this.props.setDataCollectionForMarketing(e)}}toggleSetting(e,t){t(!e)}async toggleDataCollectionForMarketing(e){if(this.props.socialLoginEnabled)try{await this.props.setMarketingConsent(e)}catch(e){o.default.error("Error setting marketing consent",e)}this.props.setDataCollectionForMarketing(e),this.props.participateInMetaMetrics?this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(e),location:"Settings"}}):this.props.socialLoginEnabled||this.props.setParticipateInMetaMetrics(!0)}renderSeedWords(){const{t:e}=this.context,{isSeedPhraseBackedUp:t,socialLoginEnabled:a,socialLoginType:s,navigate:o,hdEntropyIndex:i}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securitySrpDescription")),r.default.createElement(p.BannerAlert,{"data-testid":"backup-state-banner-alert",description:a?e("securityLoginWithSocial",[(0,n.capitalize)(s)]):e(t?"securityLoginWithSrpBackedUp":"securityLoginWithSrpNotBackedUp"),paddingTop:2,paddingBottom:2,marginTop:4,severity:t?p.BannerAlertSeverity.Success:p.BannerAlertSeverity.Danger})),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{"data-testid":"reveal-seed-words",size:p.ButtonSize.Lg,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.KeyExportSelected,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings",hd_entropy_index:i}}),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:c.MetaMetricsEventKeyType.Srp,location:"Settings"}}),o(E.REVEAL_SRP_LIST_ROUTE)}},e(a?"securitySrpWalletRecovery":t?"revealSeedWords":"revealSecretRecoveryPhrase")))),this.state.srpQuizModalVisible&&r.default.createElement(m.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal,navigate:this.props.navigate})))}renderChangePassword(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__security-tab-sub-header"},e("securityChangePasswordTitle")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityChangePasswordDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{"data-testid":"change-password-button",size:p.ButtonSize.Lg,onClick:()=>{t(E.SECURITY_PASSWORD_CHANGE_ROUTE)}},e("securityChangePassword"))))))}renderSecurityAlertsToggle(){const{t:e}=this.context,{securityAlertsEnabled:t,hasActiveShieldSubscription:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[16]},r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},e("securityAlerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("div",{className:"settings-page__content-description"},e("securityAlertsDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.SECURITY_ALERTS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"securityAlert"},r.default.createElement(g.default,{value:t,onToggle:this.toggleSecurityAlert.bind(this),offLabel:e("off"),onLabel:e("on"),disabled:a})))))}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("usePhishingDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},r.default.createElement(g.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}renderUse4ByteResolutionToggle(){const{t:e}=this.context,{use4ByteResolution:t,setUse4ByteResolution:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("use4ByteResolution")),r.default.createElement("div",{className:"settings-page__content-description"},e("toggleDecodeDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"4byte-resolution-container"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDataCollectionForMarketing(){const{t:e}=this.context,{dataCollectionForMarketing:t,useExternalServices:a,socialLoginEnabled:n,participateInMetaMetrics:s}=this.props,o=this.toggleDataCollectionForMarketing.bind(this);return r.default.createElement(p.Box,null,r.default.createElement(p.Box,{ref:this.settingsRefs[19],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("dataCollectionForMarketing")),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement("span",null,e(n?"dataCollectionForMarketingDescriptionSocialLogin":"dataCollectionForMarketingDescription")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"data-collection-for-marketing-toggle"},r.default.createElement(g.default,{value:t,disabled:!a||!s,onToggle:e=>o(!e),offLabel:e("off"),onLabel:e("on")}))),this.state.hasEmailMarketingConsentError&&r.default.createElement(p.Box,{paddingBottom:4},r.default.createElement(p.Text,{as:"p",color:_.TextColor.errorDefault,variant:_.TextVariant.bodySm},e("notificationsSettingsBoxError"))))}renderChooseYourNetworkButton(){const{t:e}=this.context,{navigate:t}=this.props;return r.default.createElement(p.Box,{className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("chooseYourNetwork")),r.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[r.default.createElement("a",{href:d.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg")),r.default.createElement("a",{href:S.default.SOLANA_ACCOUNTS,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link-solana"},e("chooseYourNetworkDescriptionCallToAction"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(E.ADD_POPULAR_CUSTOM_NETWORK):t(E.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork"))))}renderSafeChainsListValidationToggle(){const{t:e}=this.context,{useSafeChainsListValidation:t,setUseSafeChainsListValidation:a}=this.props,n=e("useSafeChainsListValidationWebsite");return r.default.createElement(p.Box,{ref:this.settingsRefs[14],className:"settings-page__content-row","data-testid":"setting-safe-chains-validation",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useSafeChainsListValidation")),r.default.createElement("div",{className:"settings-page__content-description"},e("useSafeChainsListValidationDescription",[r.default.createElement("b",{key:"safechain-list-validation-website"},n)]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useSafeChainsListValidation"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")}))))}renderIpfsGatewayControl(){const{t:e}=this.context,{setIpfsGateway:t,setIsIpfsGatewayEnabled:a,useAddressBarEnsResolution:n,setUseAddressBarEnsResolution:s}=this.props;let o="";const l=a=>{if(a.length>0)try{const n=(0,i.addUrlProtocolPrefix)(a);n||(o=e("invalidIpfsGateway"));const s=new URL(n);"gateway.ipfs.io"===s.host&&(o=e("forbiddenIpfsGateway")),0===o.length&&t(s.host)}catch(t){o=e("invalidIpfsGateway")}else o=e("invalidIpfsGateway");this.setState({ipfsGateway:a,ipfsGatewayError:o})};return r.default.createElement(p.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("ipfsGateway")),r.default.createElement("div",{className:"settings-page__content-description"},e("ipfsGatewayDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfsToggle"},r.default.createElement(g.default,{value:this.state.ipfsToggle,onToggle:e=>{e?(a(!1),t("")):(a(!0),l(this.state.ipfsGateway)),this.setState({ipfsToggle:!e})},offLabel:e("off"),onLabel:e("on")}))),this.state.ipfsToggle&&r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("addIPFSGateway")),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(f.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>l(e.target.value),error:this.state.ipfsGatewayError,fullWidth:!0,margin:"dense"}))),r.default.createElement(p.Box,{className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,ref:this.settingsRefs[11],marginTop:3,id:"ens-domains"},r.default.createElement("div",null,e("ensDomainsSettingTitle"),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement(p.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),r.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},r.default.createElement(p.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart1")),r.default.createElement(p.Text,{as:"li",color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionPart2"))),r.default.createElement(p.Text,{color:_.TextColor.inherit,variant:_.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfs-gateway-resolution-container"},r.default.createElement(g.default,{value:n,onToggle:e=>s(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"advanced-settings-autodetect-tokens"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("autoDetectTokens")),r.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[r.default.createElement("a",{href:d.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,n.startCase)(e("learnMore")))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useMultiAccountBalanceChecker")),r.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.toggleSetting(e,a)},offLabel:e("off"),onLabel:e("on")})))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("currencyRateCheckToggle")),r.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[r.default.createElement("a",{key:"coingecko_link",href:d.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),r.default.createElement("a",{key:"cryptocompare_link",href:d.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),r.default.createElement("a",{key:"privacy_policy_link",href:d.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderDisplayNftMediaToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[12],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,id:"display-nft-media"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("displayNftMedia")),r.default.createElement("div",{className:"settings-page__content-description"},e("displayNftMediaDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"displayNftMedia"},r.default.createElement(g.default,{value:t,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&n&&s(!1),a(!e)},offLabel:e("off"),onLabel:e("on")})))}renderNftDetectionToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:a,useNftDetection:n,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[13],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useNftDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("useNftDetectionDescriptionText"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useNftDetection"},r.default.createElement(g.default,{value:n,onToggle:e=>{this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||a(!e),s(!e)},offLabel:e("off"),onLabel:e("on")})))}renderExternalNameSourcesToggle(){const{t:e}=this.context,{useExternalNameSources:t,setUseExternalNameSources:a}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[15],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("externalNameSourcesSetting")),r.default.createElement("div",{className:"settings-page__content-description"},e("externalNameSourcesSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useExternalNameSources"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))}renderSimulationsToggle(){const{t:e}=this.context,{useTransactionSimulations:t,setUseTransactionSimulations:a,hasActiveShieldSubscription:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[17],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("simulationsSettingSubHeader")),r.default.createElement("div",{className:"settings-page__content-description"},e("simulationsSettingDescription",[r.default.createElement("a",{key:"learn_more_link",href:d.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useTransactionSimulations"},r.default.createElement(g.default,{value:t,onToggle:e=>{a(!e)},offLabel:e("off"),onLabel:e("on"),disabled:n})))}toggleSecurityAlert(e){const t=!e,{setSecurityAlertsEnabled:a}=this.props;this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{blockaid_alerts_enabled:t}}),a(t)}renderUseExternalServices(){const{t:e}=this.context,{useExternalServices:t,toggleExternalServices:a,setBasicFunctionalityModalOpen:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-show-testnet-conversion"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement(p.Box,{display:_.Display.Flex,justifyContent:_.JustifyContent.spaceBetween,alignItems:_.AlignItems.center,marginBottom:2},r.default.createElement(p.Text,{variant:_.TextVariant.headingSm},e("basicConfigurationLabel")),r.default.createElement(g.default,{value:t,onToggle:()=>{t?n():(a(!0),this.context.trackEvent({category:c.MetaMetricsEventCategory.Settings,event:c.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"security_privacy",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_notifications_on:!1,was_profile_syncing_on:!1}}))},offLabel:e("off"),onLabel:e("on")})),r.default.createElement(p.Text,{marginBottom:2,color:_.TextColor.textAlternative},e("basicConfigurationDescription",[r.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"}))}renderSkipDeepLinkInterstitial(){const{t:e}=this.context,{skipDeepLinkInterstitial:t,setSkipDeepLinkInterstitial:a}=this.props;return r.default.createElement(r.default.Fragment,null,r.default.createElement(p.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"setting-skip-deep-link-interstitial",display:_.Display.Flex,flexDirection:_.FlexDirection.Column,gap:4,id:"skip-deep-link-interstitial"},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("skipDeepLinkInterstitial")),r.default.createElement("div",{className:"settings-page__content-description"},e("skipDeepLinkInterstitialDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"skipDeepLinkInterstitial"},r.default.createElement(g.default,{value:t,onToggle:e=>a(!e),offLabel:e("off"),onLabel:e("on")})))))}render(){const{petnamesEnabled:e,dataCollectionForMarketing:t}=this.props,{showDataCollectionDisclaimer:a}=this.state;return r.default.createElement("div",{className:"settings-page__body"},this.renderUseExternalServices(),a?this.renderDataCollectionWarning():null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),(0,T.getIsSeedlessOnboardingFeatureEnabled)()&&this.renderChangePassword(),this.renderSecurityAlertsToggle(),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("alerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderSkipDeepLinkInterstitial()),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("smartContracts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderUse4ByteResolutionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderSimulationsToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header",ref:this.settingsRefs[6]},this.context.t("networkProvider")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderSafeChainsListValidationToggle(),this.renderIpfsGatewayControl()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderDisplayNftMediaToggle(),this.renderNftDetectionToggle()),e&&r.default.createElement(r.default.Fragment,null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("settingsSubHeadingSignaturesAndTransactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderExternalNameSourcesToggle())),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(v.default,{dataCollectionForMarketing:t,setDataCollectionForMarketing:this.toggleDataCollectionForMarketing.bind(this)}),this.renderDataCollectionForMarketing(),r.default.createElement(x.default,{ref:this.settingsRefs[20]})))}}a.default=I,w(I,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),w(I,"propTypes",{navigate:s.default.func.isRequired,openSeaEnabled:s.default.bool,setOpenSeaEnabled:s.default.func,useNftDetection:s.default.bool,setUseNftDetection:s.default.func,dataCollectionForMarketing:s.default.bool,setDataCollectionForMarketing:s.default.func.isRequired,participateInMetaMetrics:s.default.bool.isRequired,setParticipateInMetaMetrics:s.default.func.isRequired,setUsePhishDetect:s.default.func.isRequired,usePhishDetect:s.default.bool.isRequired,setUse4ByteResolution:s.default.func.isRequired,use4ByteResolution:s.default.bool.isRequired,useTokenDetection:s.default.bool.isRequired,setUseTokenDetection:s.default.func.isRequired,setIpfsGateway:s.default.func.isRequired,setIsIpfsGatewayEnabled:s.default.func.isRequired,ipfsGateway:s.default.string.isRequired,useMultiAccountBalanceChecker:s.default.bool.isRequired,setUseMultiAccountBalanceChecker:s.default.func.isRequired,useSafeChainsListValidation:s.default.bool.isRequired,setUseSafeChainsListValidation:s.default.func.isRequired,useCurrencyRateCheck:s.default.bool.isRequired,setUseCurrencyRateCheck:s.default.func.isRequired,useAddressBarEnsResolution:s.default.bool.isRequired,setUseAddressBarEnsResolution:s.default.func.isRequired,useExternalNameSources:s.default.bool.isRequired,setUseExternalNameSources:s.default.func.isRequired,setBasicFunctionalityModalOpen:s.default.func.isRequired,setUseTransactionSimulations:s.default.func.isRequired,useTransactionSimulations:s.default.bool.isRequired,petnamesEnabled:s.default.bool.isRequired,securityAlertsEnabled:s.default.bool,useExternalServices:s.default.bool,toggleExternalServices:s.default.func,setSkipDeepLinkInterstitial:s.default.func.isRequired,skipDeepLinkInterstitial:s.default.bool,setSecurityAlertsEnabled:s.default.func,metaMetricsDataDeletionId:s.default.string,hdEntropyIndex:s.default.number,isSeedPhraseBackedUp:s.default.bool,socialLoginEnabled:s.default.bool,socialLoginType:s.default.string,setMarketingConsent:s.default.func,getMarketingConsent:s.default.func,hasActiveShieldSubscription:s.default.bool})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[7983,{"../../../../shared/modules/selectors/networks":5934,"../../../ducks/app/app":7052,"../../../ducks/metamask/metamask":7067,"../../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../../selectors":8094,"../../../selectors/subscription":8123,"../../../store/actions":8127,"./security-tab.component":7982,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-redux"),s=e("redux"),r=p(e("../../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../../store/actions"),i=e("../../../selectors"),l=e("../../../../shared/modules/selectors/networks"),c=e("../../../ducks/app/app"),u=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/subscription"),m=p(e("./security-tab.component"));function p(e){return e&&e.__esModule?e:{default:e}}a.default=(0,s.compose)(r.default,(0,n.connect)(e=>{const{metamask:t}=e,{usePhishDetect:a,useTokenDetection:n,ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:m,openSeaEnabled:p,useNftDetection:f,use4ByteResolution:g,useExternalServices:h,useExternalNameSources:_}=t,{skipDeepLinkInterstitial:E}=(0,i.getPreferences)(e);return{networkConfigurations:(0,l.getNetworkConfigurationsByChainId)(e),participateInMetaMetrics:(0,i.getParticipateInMetaMetrics)(e),dataCollectionForMarketing:(0,i.getDataCollectionForMarketing)(e),usePhishDetect:a,useTokenDetection:n,hasActiveShieldSubscription:(0,d.getIsActiveShieldSubscription)(e),ipfsGateway:s,useMultiAccountBalanceChecker:r,useSafeChainsListValidation:o,useCurrencyRateCheck:c,useAddressBarEnsResolution:m,openSeaEnabled:p,useNftDetection:f,use4ByteResolution:g,useExternalNameSources:_,useExternalServices:h,securityAlertsEnabled:(0,i.getIsSecurityAlertsEnabled)(e),useTransactionSimulations:t.useTransactionSimulations,metaMetricsDataDeletionId:(0,i.getMetaMetricsDataDeletionId)(e),hdEntropyIndex:(0,i.getHDEntropyIndex)(e),skipDeepLinkInterstitial:Boolean(E),isSeedPhraseBackedUp:(0,u.getIsPrimarySeedPhraseBackedUp)(e),socialLoginEnabled:(0,i.getIsSocialLoginFlow)(e),socialLoginType:(0,i.getSocialLoginType)(e)}},e=>({setParticipateInMetaMetrics:t=>e((0,o.setParticipateInMetaMetrics)(t)),setDataCollectionForMarketing:t=>e((0,o.setDataCollectionForMarketing)(t)),setUsePhishDetect:t=>e((0,o.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,o.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,o.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,o.setIpfsGateway)(t)),setIsIpfsGatewayEnabled:t=>e((0,o.setIsIpfsGatewayEnabled)(t)),setUseMultiAccountBalanceChecker:t=>e((0,o.setUseMultiAccountBalanceChecker)(t)),setUseAddressBarEnsResolution:t=>e((0,o.setUseAddressBarEnsResolution)(t)),setUseSafeChainsListValidation:t=>e((0,o.setUseSafeChainsListValidation)(t)),setBasicFunctionalityModalOpen:()=>e((0,c.openBasicFunctionalityModal)()),setSkipDeepLinkInterstitial:t=>e((0,o.setSkipDeepLinkInterstitial)(t)),setOpenSeaEnabled:t=>e((0,o.setOpenSeaEnabled)(t)),setUseNftDetection:t=>e((0,o.setUseNftDetection)(t)),setUse4ByteResolution:t=>e((0,o.setUse4ByteResolution)(t)),setUseExternalNameSources:t=>e((0,o.setUseExternalNameSources)(t)),toggleExternalServices:t=>e((0,o.toggleExternalServices)(t)),setUseTransactionSimulations:t=>e((0,o.setUseTransactionSimulations)(t)),updateDataDeletionTaskStatus:()=>(0,o.updateDataDeletionTaskStatus)(),setSecurityAlertsEnabled:e=>(0,o.setSecurityAlertsEnabled)(e),getMarketingConsent:()=>(0,o.getMarketingConsent)(),setMarketingConsent:t=>e((0,o.setMarketingConsent)(t))})))(m.default)}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[7984,{"./settings-search-list":7985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search-list"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[7985,{"../../../components/component-library":6529,"../../../contexts/i18n":7035,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/settings-search":7131,classnames:4117,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=p;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../helpers/utils/settings-search"),l=e("../../../contexts/i18n"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function p(e){const t=(0,n.c)(28),{results:a,onClickSetting:r}=e,d=(0,s.useContext)(l.I18nContext);let m,p,f,g,h,_,E,y,b,S;if(t[0]!==a?(m=[a],t[0]=a,t[1]=m):m=t[1],(0,s.useEffect)(i.highlightSearchedText,m),t[2]!==r||t[3]!==a||t[4]!==d){let e;t[6]!==r||t[7]!==d?(e=e=>{const{icon:t,iconName:a,tabMessage:n,sectionMessage:i,route:l}=e;return Boolean(t||n||i)&&s.default.createElement("div",{key:`settings_${l}`},s.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>r(e)},a?s.default.createElement(c.Icon,{name:a}):s.default.createElement("i",{className:(0,o.default)("settings-page__header__search__list__item__icon",t)}),s.default.createElement("span",{id:`menu-tab_${l}`,className:(0,o.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":n(d)===d("securityAndPrivacy")})},n(d)),s.default.createElement(c.Icon,{name:c.IconName.ArrowRight,size:u.Size.SM,className:"settings-page__header__search__list__item__caret"}),s.default.createElement("span",{id:`menu-section_${l}`,className:(0,o.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":n(d)===d("securityAndPrivacy")||n(d)===d("alerts")})},i(d))))},t[6]=r,t[7]=d,t[8]=e):e=t[8],p=a.slice(0,5).map(e),t[2]=r,t[3]=a,t[4]=d,t[5]=p}else p=t[5];return t[9]!==a.length||t[10]!==d?(f=0===a.length&&s.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},s.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},d("settingsSearchMatchingNotFound"))),t[9]=a.length,t[10]=d,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g={cursor:"auto",display:"flex"},t[12]=g):g=t[12],t[13]!==d?(h=d("missingSetting"),t[13]=d,t[14]=h):h=t[14],t[15]!==h?(_=s.default.createElement("span",{className:"settings-page__header__search__list__item__request"},h),t[15]=h,t[16]=_):_=t[16],t[17]!==d?(E=d("missingSettingRequest"),t[17]=d,t[18]=E):E=t[18],t[19]!==E?(y=s.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},E),t[19]=E,t[20]=y):y=t[20],t[21]!==_||t[22]!==y?(b=s.default.createElement("div",{className:"settings-page__header__search__list__item",style:g},_,y),t[21]=_,t[22]=y,t[23]=b):b=t[23],t[24]!==p||t[25]!==f||t[26]!==b?(S=s.default.createElement("div",{className:"settings-page__header__search__list"},p,f,b),t[24]=p,t[25]=f,t[26]=b,t[27]=S):S=t[27],S}p.propTypes={results:r.default.array,onClickSetting:r.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[7986,{"./settings-search":7987},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=(n=e("./settings-search"))&&n.__esModule?n:{default:n};a.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[7987,{"../../../../shared/modules/string-utils":5945,"../../../components/component-library":6529,"../../../components/ui/text-field":7012,"../../../contexts/i18n":7035,"../../../helpers/constants/design-system":7083,"@material-ui/core/InputAdornment":1014,"fuse.js":4442,"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=g;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=p(e("prop-types")),o=p(e("fuse.js")),i=p(e("@material-ui/core/InputAdornment")),l=p(e("../../../components/ui/text-field")),c=e("../../../contexts/i18n"),u=e("../../../../shared/modules/string-utils"),d=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function g(e){const t=(0,n.c)(30),{onSearch:a,error:r,settingsRoutesList:p}=e,f=(0,s.useContext)(c.I18nContext),[g,h]=(0,s.useState)(""),[_,E]=(0,s.useState)(m.IconColor.iconMuted);let y,b;if(t[0]!==p||t[1]!==f){let e;y=Object.values(p),t[4]!==f?(e=(e,t)=>e[t](f),t[4]=f,t[5]=e):e=t[5],b=new o.default(y,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:e}),t[0]=p,t[1]=f,t[2]=y,t[3]=b}else y=t[2],b=t[3];const S=b;let T;t[6]!==a||t[7]!==y||t[8]!==S?(T=e=>{const t=e.trimStart();h(t),E(""===t?m.IconColor.iconMuted:m.IconColor.iconDefault);const n=S.search(t),s=[...y.filter(e=>e.tabMessage&&t&&(0,u.isEqualCaseInsensitive)(e.tab,t)),...n];a({searchQuery:t,results:s})},t[6]=a,t[7]=y,t[8]=S,t[9]=T):T=t[9];const v=T;let x;t[10]!==_?(x=()=>s.default.createElement(i.default,{position:"start",style:{marginRight:"12px"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Search,color:_})),t[10]=_,t[11]=x):x=t[11];const C=x;let k;t[12]!==v||t[13]!==g?(k=()=>s.default.createElement(s.default.Fragment,null,g&&s.default.createElement(i.default,{className:"imageclosectn",position:"end",onClick:()=>v(""),style:{cursor:"pointer"}},s.default.createElement(d.Icon,{name:d.IconName.Close,color:m.IconColor.iconDefault,size:d.IconSize.Xs}))),t[12]=v,t[13]=g,t[14]=k):k=t[14];const w=k;let I,M,N,D,R;return t[15]!==f?(I=f("search"),t[15]=f,t[16]=I):I=t[16],t[17]!==v?(M=e=>v(e.target.value),t[17]=v,t[18]=M):M=t[18],t[19]!==C?(N=C(),t[19]=C,t[20]=N):N=t[20],t[21]!==w?(D=w(),t[21]=w,t[22]=D):D=t[22],t[23]!==r||t[24]!==g||t[25]!==I||t[26]!==M||t[27]!==N||t[28]!==D?(R=s.default.createElement(l.default,{id:"search-settings",placeholder:I,type:"text",value:g,onChange:M,error:r,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:N,endAdornment:D,theme:"bordered"}),t[23]=r,t[24]=g,t[25]=I,t[26]=M,t[27]=N,t[28]=D,t[29]=R):R=t[29],R}g.propTypes={onSearch:r.default.func,error:r.default.string,settingsRoutesList:r.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[7988,{"./settings-tab.container":7990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./settings-tab.container"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[7989,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/preferences":5800,"../../../components/component-library":6529,"../../../components/ui/dropdown":6935,"../../../components/ui/toggle-button":7016,"../../../helpers/constants/available-conversions.json":7080,"../../../helpers/constants/design-system":7083,"../../../helpers/utils/settings-search":7131,"@metamask/design-system-react":1807,classnames:4117,"prop-types":5094,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=h(e("prop-types")),r=h(e("classnames")),o=e("@metamask/design-system-react"),i=h(e("../../../helpers/constants/available-conversions.json")),l=e("../../../helpers/constants/design-system"),c=h(e("../../../components/ui/dropdown")),u=h(e("../../../components/ui/toggle-button")),d=h(e("../../../../app/_locales/index.json")),m=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/utils/settings-search"),f=e("../../../../shared/constants/preferences"),g=e("../../../components/component-library");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function E(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y=i.default.sort((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())).map(({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e})),b=d.default.map(e=>({name:`${e.name}`,value:e.code}));class S extends n.PureComponent{constructor(...e){super(...e),E(this,"settingsRefs",Array((0,p.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("general"))).fill(undefined).map(()=>n.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,p.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("currencyConversion"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"currency-select",id:"select-currency",options:y,selectedOption:t,onChange:e=>{a(e),this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.CurrentCurrency,properties:{current_currency:e,location:"settings-page"}})},className:"settings-page__content-item__dropdown"}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("currentLanguage"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{"data-testid":"locale-select",id:"select-locale",options:b,selectedOption:a,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:a}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,id:"toggle-zero-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("hideZeroBalanceTokens"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{value:t,onToggle:e=>a(!e),"data-testid":"toggle-zero-balance-button"})))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,avatarType:a,setAvatarType:s,selectedAddress:i}=this.props;let c;return a!==undefined?c=a:t&&(c="blockies"),n.default.createElement(g.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,id:"blockie-optin"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("accountIdenticon")),n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:3,className:"settings-page__content-item__description"},e("accountIdenticonDescription")),n.default.createElement("div",{className:"settings-page__content-item__identicon gap-8"},n.default.createElement("button",{"data-testid":"maskicon_icon",onClick:()=>s("maskicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{address:i,variant:o.AvatarAccountVariant.Maskicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"maskicon"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("maskicons"))),n.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>s("jazzicon"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"jazzicon",address:i,variant:o.AvatarAccountVariant.Jazzicon,className:(0,r.default)({"outline outline-2 outline-primary-default":"jazzicon"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("jazzicons"))),n.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>s("blockies"),className:"flex items-center gap-2 justify-center flex-wrap"},n.default.createElement(o.AvatarAccount,{id:"blockies",address:i,variant:o.AvatarAccountVariant.Blockies,className:(0,r.default)({"outline outline-2 outline-primary-default":"blockies"===c})}),n.default.createElement(g.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6"},e("blockies"))))))}renderShowNativeTokenAsMainBalance(){const{t:e}=this.context,t=e=>{this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.SettingsUpdated,properties:{show_native_token_as_main_balance:e}})},{setShowNativeTokenAsMainBalancePreference:a,showNativeTokenAsMainBalance:s}=this.props;return n.default.createElement(g.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,id:"toggle-show-native-token-as-main-balance"},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},e("showNativeTokenAsMainBalance"))),n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(u.default,{className:"show-native-token-as-main-balance",value:s,onToggle:e=>{a(!e),t(!e)}})))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:a}=this.props,s=[{name:e("lightTheme"),value:f.ThemeType.light},{name:e("darkTheme"),value:f.ThemeType.dark},{name:e("osTheme"),value:f.ThemeType.os}];return n.default.createElement(g.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement(g.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,className:"settings-page__content-item__title"},this.context.t("theme")),n.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),n.default.createElement("div",{className:"settings-page__content-item"},n.default.createElement("div",{className:"settings-page__content-item-col"},n.default.createElement(c.default,{id:"select-theme",options:s,selectedOption:t,onChange:e=>{this.context.trackEvent({category:m.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),a(e)}}))))}render(){return n.default.createElement("div",{className:"settings-page__body"},this.renderCurrentConversion(),this.renderShowNativeTokenAsMainBalance(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}a.default=S,E(S,"contextTypes",{t:s.default.func,metricsEvent:s.default.func,trackEvent:s.default.func}),E(S,"propTypes",{avatarType:s.default.string,setAvatarType:s.default.func,setCurrentCurrency:s.default.func,updateCurrentLocale:s.default.func,currentLocale:s.default.string,useBlockie:s.default.bool,currentCurrency:s.default.string,showNativeTokenAsMainBalance:s.default.bool,setShowNativeTokenAsMainBalancePreference:s.default.func,hideZeroBalanceTokens:s.default.bool,setHideZeroBalanceTokens:s.default.func,selectedAddress:s.default.string,theme:s.default.string,setTheme:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[7990,{"../../../../shared/modules/selectors/networks":5934,"../../../selectors":8094,"../../../store/actions":8127,"./settings-tab.component":7989,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=(n=e("./settings-tab.component"))&&n.__esModule?n:{default:n};a.default=(0,s.connect)(e=>{const{metamask:t}=e,{currentCurrency:a,useBlockie:n,currentLocale:s}=t,{ticker:r}=(0,i.getProviderConfig)(e),{address:l}=(0,o.getSelectedInternalAccount)(e),{hideZeroBalanceTokens:c,showNativeTokenAsMainBalance:u,avatarType:d}=(0,o.getPreferences)(e);return{currentLocale:s,currentCurrency:a,nativeCurrency:r,useBlockie:n,avatarType:d,showNativeTokenAsMainBalance:u,hideZeroBalanceTokens:c,selectedAddress:l,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}},e=>({setCurrentCurrency:t=>e((0,r.setCurrentCurrency)(t)),setAvatarType:t=>e((0,r.setAvatarType)(t)),updateCurrentLocale:t=>e((0,r.updateCurrentLocale)(t)),setShowNativeTokenAsMainBalancePreference:t=>e((0,r.setShowNativeTokenAsMainBalancePreference)(t)),setParticipateInMetaMetrics:t=>e((0,r.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,r.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,r.setTheme)(t))}))(l.default)}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[7991,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../components/app/password-outdated-modal":6202,"../../components/app/shield-entry-modal":6267,"../../components/app/snaps/snap-icon":6291,"../../components/app/snaps/snap-settings-page":6311,"../../components/app/tab-bar":6413,"../../components/component-library":6529,"../../components/ui/metafox-logo":6977,"../../helpers/constants/design-system":7083,"../../helpers/constants/routes":7088,"../../helpers/utils/settings-search":7131,"../routes/utils":7935,"./advanced-tab":7938,"./backup-and-sync-tab":7941,"./contact-list-tab":7951,"./developer-options-tab":7959,"./experimental-tab":7964,"./info-tab":7966,"./security-tab":7977,"./security-tab/change-password":7974,"./security-tab/reveal-srp-list":7980,"./settings-search":7986,"./settings-search-list":7984,"./settings-tab":7988,"./transaction-shield-tab":8012,"./transaction-shield-tab/claims-area":7997,"./transaction-shield-tab/manage-shield-plan":8013,classnames:4117,"prop-types":5094,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=O(e("prop-types")),o=e("react-router-dom"),i=O(e("classnames")),l=O(e("../../components/app/tab-bar")),c=e("../../helpers/constants/routes"),u=e("../../helpers/utils/settings-search"),d=e("../../components/component-library"),m=e("../../helpers/constants/design-system"),p=O(e("../../components/ui/metafox-logo")),f=e("../../../app/scripts/lib/util"),g=e("../../../shared/constants/app"),h=e("../../components/app/snaps/snap-icon"),_=e("../../components/app/snaps/snap-settings-page"),E=O(e("../../components/app/password-outdated-modal")),y=O(e("../../components/app/shield-entry-modal")),b=e("../routes/utils"),S=O(e("./settings-tab")),T=O(e("./advanced-tab")),v=O(e("./info-tab")),x=O(e("./security-tab")),C=O(e("./contact-list-tab")),k=(O(e("./developer-options-tab")),O(e("./experimental-tab"))),w=O(e("./settings-search")),I=O(e("./settings-search-list")),M=e("./security-tab/reveal-srp-list"),N=O(e("./backup-and-sync-tab")),D=O(e("./security-tab/change-password")),R=O(e("./transaction-shield-tab/claims-area")),A=O(e("./transaction-shield-tab")),P=O(e("./transaction-shield-tab/manage-shield-plan"));function O(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function L(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const F=e=>{const t=(0,n.c)(4),{onMount:a}=e;let r,i,l;return t[0]!==a?(r=()=>{a()},i=[a],t[0]=a,t[1]=r,t[2]=i):(r=t[1],i=t[2]),s.default.useEffect(r,i),t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.default.createElement(o.Navigate,{to:{pathname:c.DEFAULT_ROUTE}}),t[3]=l):l=t[3],l};F.propTypes={onMount:r.default.func.isRequired};class U extends s.PureComponent{constructor(...e){super(...e),L(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:"",showShieldEntryModal:!1})}componentDidMount(){this.handleConversionDate(),this.props.shouldShowShieldEntryModal&&(this.props.hasSubscribedToShield?setTimeout(()=>{this.props.navigate(c.TRANSACTION_SHIELD_ROUTE)}):this.setState({showShieldEntryModal:!0}))}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{navigate:t}=this.props;t(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{navigate:e,backRoute:t,currentPath:a,mostRecentOverviewPage:n,addNewNetwork:r,isPasswordChangePage:o,isRevealSrpListPage:l,isSeedlessPasswordOutdated:u,isTransactionShieldPage:h}=this.props,{t:_}=this.context,b=(0,f.getEnvironmentType)(),S=b===g.ENVIRONMENT_TYPE_POPUP||b===g.ENVIRONMENT_TYPE_SIDEPANEL,T=b===g.ENVIRONMENT_TYPE_SIDEPANEL,v=l||o||h;return s.default.createElement("div",{className:(0,i.default)("main-container main-container--has-shadow settings-page",{"settings-page--selected":a!==c.SETTINGS_ROUTE,"settings-page--sidepanel":T})},this.state.showShieldEntryModal&&s.default.createElement(y.default,{skipEventSubmission:!0,onClose:()=>this.setState({showShieldEntryModal:!1})}),u&&s.default.createElement(E.default,null),s.default.createElement(d.Box,{className:"settings-page__header",padding:4,paddingBottom:2},s.default.createElement("div",{className:(0,i.default)("settings-page__header__title-container",{"settings-page__header__title-container--hide-search":v})},S&&s.default.createElement(s.default.Fragment,null,a===c.SETTINGS_ROUTE?s.default.createElement(p.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:()=>e(c.DEFAULT_ROUTE),display:[m.Display.Flex,m.Display.None]}):s.default.createElement(d.ButtonIcon,{ariaLabel:_("back"),iconName:d.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:m.Color.iconDefault,onClick:()=>e(t),display:[m.Display.Flex,m.Display.None],size:d.ButtonIconSize.Md})),this.renderTitle(),this.renderSearch(),s.default.createElement(d.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:d.IconName.Close,ariaLabel:_("close"),onClick:()=>{e(r?c.NETWORKS_ROUTE:n)},size:d.ButtonIconSize.Md,marginLeft:"auto"}))),s.default.createElement("div",{className:"settings-page__content"},s.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),s.default.createElement("div",{className:"settings-page__content__modules"},this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:a,addressName:n,snapSettingsTitle:r}=this.props;let o;return o=t&&n?e("details"):a&&t?e(a):r||e("settings"),s.default.createElement("div",{className:"settings-page__header__title-container__title"},s.default.createElement(d.Text,{variant:m.TextVariant.headingMd,ellipsis:!0},o))}renderSearch(){const{isSearchList:e,searchText:t,searchResults:a}=this.state,{isRevealSrpListPage:n,isPasswordChangePage:r,isTransactionShieldPage:o}=this.props;return n||r||o?null:s.default.createElement(d.Box,{className:"settings-page__header__title-container__search",display:[m.Display.Block]},s.default.createElement(w.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,u.getSettingsRoutes)()}),e&&t.length>=3&&s.default.createElement(I.default,{results:a,onClickSetting:e=>this.handleClickSetting(e)}))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:a,isAddressEntryPage:n,pathnameI18nKey:r,addressName:o,backRoute:i,navigate:l}=this.props;let u;u=e(a&&n?"settings":n?"contacts":r||"general");const p=i!==c.SETTINGS_ROUTE;return!t.startsWith(c.NETWORKS_ROUTE)&&s.default.createElement(d.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:m.Display.Flex,flexDirection:m.FlexDirection.Row,alignItems:m.AlignItems.center},p&&s.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,onClick:()=>l(i),marginRight:2,size:d.ButtonIconSize.Md,"data-testid":"settings-back-button"}),s.default.createElement(d.Text,{variant:m.TextVariant.headingSm},u),n&&s.default.createElement("div",{className:"settings-page__subheader--break"},s.default.createElement("span",null," > "),o))}renderTabs(){const{navigate:e,currentPath:t,useExternalServices:a,settingsPageSnaps:n,isMetaMaskShieldFeatureEnabled:r,hasSubscribedToShield:i}=this.props,{t:u}=this.context,m=n.map(({id:e,name:t})=>({content:t,icon:s.default.createElement(h.SnapIcon,{snapId:e,avatarSize:d.IconSize.Md,style:{"--size":"20px"}}),key:`${c.SNAP_SETTINGS_ROUTE}/${encodeURIComponent(e)}`})),p=[{content:u("general"),icon:s.default.createElement(d.Icon,{name:d.IconName.Setting}),key:c.GENERAL_ROUTE},...m,{content:u("advanced"),icon:s.default.createElement("i",{className:"fas fa-sliders-h"}),key:c.ADVANCED_ROUTE},{content:u("backupAndSync"),icon:s.default.createElement(d.Icon,{name:d.IconName.SecurityTime}),key:c.BACKUPANDSYNC_ROUTE},{content:u("contacts"),icon:s.default.createElement(d.Icon,{name:d.IconName.Book}),key:c.CONTACT_LIST_ROUTE},{content:u("securityAndPrivacy"),icon:s.default.createElement(d.Icon,{name:d.IconName.Lock}),key:c.SECURITY_ROUTE},{content:u("experimental"),icon:s.default.createElement(d.Icon,{name:d.IconName.Flask}),key:c.EXPERIMENTAL_ROUTE},{content:u("about"),icon:s.default.createElement(d.Icon,{name:d.IconName.Info}),key:c.ABOUT_US_ROUTE}];return a&&p.splice(4,0,{content:u("notifications"),icon:s.default.createElement(d.Icon,{name:d.IconName.Notification}),key:c.NOTIFICATIONS_SETTINGS_ROUTE}),r&&a&&p.splice(-4,0,{content:u("shieldTx"),icon:s.default.createElement(d.Icon,{name:d.IconName.ShieldLock}),key:c.TRANSACTION_SHIELD_ROUTE}),s.default.createElement(l.default,{tabs:p,isActive:e=>e===c.GENERAL_ROUTE&&t===c.SETTINGS_ROUTE||(!(e!==c.CONTACT_LIST_ROUTE||!t.includes(c.CONTACT_LIST_ROUTE))||(0,o.matchPath)(e,t)),onSelect:t=>{t!==c.TRANSACTION_SHIELD_ROUTE||i?e(t):this.setState({showShieldEntryModal:!0})}})}renderContent(){return s.default.createElement(o.Routes,null,s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.GENERAL_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(S.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.ABOUT_US_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(v.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.SNAP_SETTINGS_ROUTE,c.SETTINGS_ROUTE)}/:snapId`,element:s.default.createElement(_.SnapSettingsRenderer,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.ADVANCED_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(T.default,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.BACKUPANDSYNC_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(N.default,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.ADD_NETWORK_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu({isAddingNewNetwork:!0})})}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.NETWORKS_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.ADD_POPULAR_CUSTOM_NETWORK,c.SETTINGS_ROUTE),element:s.default.createElement(F,{onMount:()=>this.props.toggleNetworkMenu()})}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.SECURITY_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(x.default,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.TRANSACTION_SHIELD_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(A.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(R.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(P.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE,c.SETTINGS_ROUTE)}/*`,element:s.default.createElement(P.default,{isPastPlan:!0})}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.EXPERIMENTAL_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(k.default,null)}),!1,s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.CONTACT_LIST_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(C.default,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.CONTACT_ADD_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(C.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.CONTACT_EDIT_ROUTE,c.SETTINGS_ROUTE)}/:id`,element:s.default.createElement(C.default,null)}),s.default.createElement(o.Route,{path:`${(0,b.toRelativeRoutePath)(c.CONTACT_VIEW_ROUTE,c.SETTINGS_ROUTE)}/:id`,element:s.default.createElement(C.default,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.REVEAL_SRP_LIST_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(M.RevealSrpList,null)}),s.default.createElement(o.Route,{path:(0,b.toRelativeRoutePath)(c.SECURITY_PASSWORD_CHANGE_ROUTE,c.SETTINGS_ROUTE),element:s.default.createElement(D.default,null)}),s.default.createElement(o.Route,{path:"*",element:s.default.createElement(S.default,{lastFetchedConversionDate:this.state.lastFetchedConversionDate})}))}}L(U,"propTypes",{addNewNetwork:r.default.bool,addressName:r.default.string,backRoute:r.default.string,conversionDate:r.default.number,currentPath:r.default.string,hasSubscribedToShield:r.default.bool,isAddressEntryPage:r.default.bool,isMetaMaskShieldFeatureEnabled:r.default.bool,isPasswordChangePage:r.default.bool,isPopup:r.default.bool,isRevealSrpListPage:r.default.bool,isSeedlessPasswordOutdated:r.default.bool,isTransactionShieldPage:r.default.bool,mostRecentOverviewPage:r.default.string.isRequired,navigate:r.default.func.isRequired,pathnameI18nKey:r.default.string,settingsPageSnaps:r.default.array,shouldShowShieldEntryModal:r.default.bool,snapSettingsTitle:r.default.string,toggleNetworkMenu:r.default.func.isRequired,useExternalServices:r.default.bool}),L(U,"contextTypes",{t:r.default.func});a.default=U}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[7992,{"../../../app/scripts/lib/util":372,"../../../shared/constants/app":5775,"../../../shared/lib/deep-links/routes/shield":5843,"../../../shared/modules/environment":5917,"../../../shared/modules/hexstring-utils":5922,"../../../shared/modules/selectors/networks":5934,"../../ducks/history/history":7064,"../../ducks/metamask/metamask":7067,"../../helpers/constants/routes":7088,"../../helpers/higher-order-components/with-router-hooks/with-router-hooks":7104,"../../helpers/utils/snaps":7132,"../../helpers/utils/util":7141,"../../selectors":8094,"../../selectors/subscription/subscription":8124,"../../store/actions":8127,"./settings.component":7991,"./transaction-shield-tab/types":8020,"react-redux":5221,redux:5300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("redux"),s=e("react-redux"),r=T(e("../../helpers/higher-order-components/with-router-hooks/with-router-hooks")),o=e("../../selectors"),i=e("../../../shared/constants/app"),l=e("../../../app/scripts/lib/util"),c=e("../../ducks/history/history"),u=e("../../../shared/modules/hexstring-utils"),d=e("../../helpers/constants/routes"),m=e("../../../shared/modules/selectors/networks"),p=e("../../store/actions"),f=e("../../helpers/utils/util"),g=e("../../helpers/utils/snaps"),h=e("../../ducks/metamask/metamask"),_=e("../../../shared/modules/environment"),E=e("../../selectors/subscription/subscription"),y=e("../../../shared/lib/deep-links/routes/shield"),b=T(e("./settings.component")),S=e("./transaction-shield-tab/types");function T(e){return e&&e.__esModule?e:{default:e}}const v={[d.ABOUT_US_ROUTE]:"about",[d.ADD_NETWORK_ROUTE]:"networks",[d.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[d.ADVANCED_ROUTE]:"advanced",[d.BACKUPANDSYNC_ROUTE]:"backupAndSync",[d.CONTACT_ADD_ROUTE]:"newContact",[d.CONTACT_EDIT_ROUTE]:"editContact",[d.CONTACT_LIST_ROUTE]:"contacts",[d.CONTACT_VIEW_ROUTE]:"viewContact",[d.DEVELOPER_OPTIONS_ROUTE]:"developerOptions",[d.EXPERIMENTAL_ROUTE]:"experimental",[d.GENERAL_ROUTE]:"general",[d.NETWORKS_FORM_ROUTE]:"networks",[d.NETWORKS_ROUTE]:"networks",[d.REVEAL_SRP_LIST_ROUTE]:"revealSecretRecoveryPhrase",[d.SECURITY_PASSWORD_CHANGE_ROUTE]:"securityChangePassword",[d.SECURITY_ROUTE]:"securityAndPrivacy",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL]:"shieldClaim",[d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE]:"shieldClaimsListTitle",[d.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE]:"shieldPastPlansTitle",[d.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE]:"shieldManagePlan",[d.TRANSACTION_SHIELD_ROUTE]:"shieldTx"};a.default=(0,n.compose)(r.default,(0,s.connect)((e,t)=>{var a,n;const{location:s}=t,{pathname:r,search:p}=s,{ticker:b}=(0,m.getProviderConfig)(e),{metamask:{currencyRates:T,socialLoginEmail:x}}=e,C=(0,o.getSettingsPageSnapsIds)(e),k=(0,o.getSnapsMetadata)(e),w=null===(a=T[b])||void 0===a?void 0:a.conversionDate,I="true"===new URLSearchParams(p).get(y.SHIELD_QUERY_PARAMS.showShieldEntryModal),M=(null===(n=r.match(/[^/]+$/u))||void 0===n?void 0:n[0])||"",N=M.includes("0x"),D=Boolean(r.match(d.CONTACT_ADD_ROUTE)),R=Boolean(r.match(d.CONTACT_EDIT_ROUTE)),A=Boolean(r.match(d.REVEAL_SRP_LIST_ROUTE)),P=Boolean(r.match(d.SECURITY_PASSWORD_CHANGE_ROUTE)),O=Boolean(r.startsWith(d.TRANSACTION_SHIELD_ROUTE)),B=Boolean(r.match(d.NETWORKS_FORM_ROUTE))||Boolean(r.match(d.ADD_NETWORK_ROUTE)),L=Boolean(r.match(d.ADD_NETWORK_ROUTE)),F=Boolean(r.match(d.ADD_POPULAR_CUSTOM_NETWORK)),U=Boolean(r.match(d.SNAP_SETTINGS_ROUTE)),j=Boolean(r.match(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)),W=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL)),V=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL)),$=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.FULL)),z=Boolean(r.startsWith(d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)),H=Boolean(r.startsWith(d.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE)),G=Boolean(r.startsWith(d.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE)),Y=(0,l.getEnvironmentType)(),K=Y===i.ENVIRONMENT_TYPE_POPUP||Y===i.ENVIRONMENT_TYPE_SIDEPANEL,q=Boolean(x);let J=v[r];A&&q&&(J="securitySrpWalletRecovery"),(W||V||$)&&(J="shieldClaimsListTitle");let X=d.SETTINGS_ROUTE;R?X=`${d.CONTACT_VIEW_ROUTE}/${M}`:N||D?X=d.CONTACT_LIST_ROUTE:B||F?X=d.NETWORKS_ROUTE:A||P?X=d.SECURITY_ROUTE:j?X=d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE:W||$?X=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${S.CLAIMS_TAB_KEYS.PENDING}`:V?X=`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE}?tab=${S.CLAIMS_TAB_KEYS.HISTORY}`:(z||H||G)&&(X=d.TRANSACTION_SHIELD_ROUTE);const Q=(0,o.getAddressBookEntryOrAccountName)(e,!(0,u.isBurnAddress)(M)&&(0,u.isValidHexAddress)(M,{mixedCaseUseChecksum:!0})?M:""),Z=(0,o.getUseExternalServices)(e),ee=(0,f.getSnapName)(k),te=C.map(e=>({id:e,name:ee(e)})),ae=U&&ee((0,g.decodeSnapIdFromPathname)(r));return{addNewNetwork:L,addressName:Q,backRoute:X,conversionDate:w,currentPath:r,hasSubscribedToShield:(0,E.getHasSubscribedToShield)(e),isAddressEntryPage:N,isMetaMaskShieldFeatureEnabled:(0,_.getIsMetaMaskShieldFeatureEnabled)(),isPasswordChangePage:P,isPopup:K,isRevealSrpListPage:A,isSeedlessPasswordOutdated:(0,h.getIsSeedlessPasswordOutdated)(e),isTransactionShieldPage:O,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),pathnameI18nKey:J,settingsPageSnaps:te,shouldShowShieldEntryModal:I,snapSettingsTitle:ae,useExternalServices:Z}},function(e){return{toggleNetworkMenu:t=>e((0,p.toggleNetworkMenu)(t))}}))(b.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[7993,{"../../../../components/app/preferred-avatar":6237,"../../../../components/component-library":6529,"../../../../helpers/utils/util":7141,"../../../../selectors/multichain-accounts/account-tree":8098,"@metamask/design-system-react":1807,classnames:4117,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),i=e("react-redux"),l=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../components/app/preferred-avatar"),d=e("../../../../selectors/multichain-accounts/account-tree"),m=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(40),{label:a,modalTitle:n,onAccountSelect:p,impactedWalletAddress:f,disabled:h}=e,_=h!==undefined&&h,[E,y]=(0,r.useState)(!1),b=(0,i.useSelector)(d.getWalletsWithAccounts);let S;t[0]!==b?(S=Object.values(b).reduce(g,{}),t[0]=b,t[1]=S):S=t[1];const T=S;let v;if(t[2]!==T||t[3]!==f){{const e=Object.values(T).find(e=>e.accounts.some(e=>e.address.toLowerCase()===f.toLowerCase()));e?v=e.accounts.find(e=>e.address.toLowerCase()===f.toLowerCase())??null:v=null}t[2]=T,t[3]=f,t[4]=v}else v=t[4];const x=v;let C,k,w,I,M,N,D,R,A,P,O,B,L,F,U;return t[5]!==_?(C=(0,l.default)("mb-2",{"opacity-50":_}),t[5]=_,t[6]=C):C=t[6],t[7]!==a||t[8]!==C?(k=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,className:C},a),t[7]=a,t[8]=C,t[9]=k):k=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(w=()=>y(!0),t[10]=w):w=t[10],t[11]!==n||t[12]!==x?(I=x?r.default.createElement(r.default.Fragment,null,r.default.createElement(u.PreferredAvatar,{address:(null==x?void 0:x.address)??"",size:o.AvatarAccountSize.Sm}),r.default.createElement(o.Text,null,null==x?void 0:x.name)):r.default.createElement(o.Text,{color:o.TextColor.TextAlternative},n),t[11]=n,t[12]=x,t[13]=I):I=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(M=r.default.createElement(o.Icon,{className:"ml-auto",size:o.IconSize.Sm,color:o.IconColor.IconDefault,name:o.IconName.ArrowDown}),t[14]=M):M=t[14],t[15]!==_||t[16]!==I?(N=r.default.createElement("button",{"data-testid":"account-selector-button",disabled:_},I,M),t[15]=_,t[16]=I,t[17]=N):N=t[17],t[18]!==n||t[19]!==N?(D=r.default.createElement(o.Box,{asChild:!0,borderColor:o.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:w,"aria-label":n},N),t[18]=n,t[19]=N,t[20]=D):D=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(R=()=>y(!1),t[21]=R):R=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(A=r.default.createElement(c.ModalOverlay,null),t[22]=A):A=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(P=()=>y(!1),t[23]=P):P=t[23],t[24]!==n?(O=r.default.createElement(c.ModalHeader,{onClose:P},n),t[24]=n,t[25]=O):O=t[25],t[26]!==T||t[27]!==p||t[28]!==(null==x?void 0:x.address)?(B=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},Object.entries(T).map(e=>{const[t,a]=e;return r.default.createElement(o.Box,{key:t},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative,className:"px-4 py-2"},t),a.accounts.map(e=>r.default.createElement(o.Box,{asChild:!0,key:e.id,className:(0,l.default)("account-selector-modal__account w-full flex items-center gap-4 px-4 py-3",{"account-selector-modal__account--selected":e.address.toLowerCase()===(null==x?void 0:x.address.toLowerCase())}),onClick:()=>{p(e.address),y(!1)}},r.default.createElement("button",{"data-testid":`account-selector-account-item-${e.address.toLowerCase()}`},r.default.createElement(u.PreferredAvatar,{address:e.address??"",size:o.AvatarAccountSize.Lg}),r.default.createElement(o.Box,{className:"text-left"},r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},e.name),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,fontWeight:o.FontWeight.Medium,color:o.TextColor.TextAlternative},(0,m.shortenAddress)(e.address)))))))})),t[26]=T,t[27]=p,t[28]=null==x?void 0:x.address,t[29]=B):B=t[29],t[30]!==O||t[31]!==B?(L=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},O,B),t[30]=O,t[31]=B,t[32]=L):L=t[32],t[33]!==E||t[34]!==L?(F=r.default.createElement(c.Modal,{isOpen:E,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:R,className:"account-selector-modal","data-testid":"account-selector-modal"},A,L),t[33]=E,t[34]=L,t[35]=F):F=t[35],t[36]!==D||t[37]!==F||t[38]!==k?(U=r.default.createElement(o.Box,null,k,D,F),t[36]=D,t[37]=F,t[38]=k,t[39]=U):U=t[39],U};function f(e){return e.type.startsWith("eip155:")}function g(e,t){const a=t.metadata.name;return e[a]||(e[a]={id:t.id,name:t.metadata.name,accounts:[]}),Object.values(t.groups).forEach(t=>{const n=t.accounts.find(f);n&&e[a].accounts.push({id:t.id,name:t.metadata.name,address:n.address,type:n.type})}),e}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/account-selector.tsx"}],[7994,{"./account-selector":7993},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./account-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/account-selector/index.ts"}],[7996,{"../../../../contexts/claims/claims":7033,"../../../../helpers/constants/routes":7088,"../claims-form":8e3,"../claims-list":8003,"../types":8020,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=d(e("react")),r=e("react-router-dom"),o=e("../../../../contexts/claims/claims"),i=d(e("../claims-list")),l=d(e("../claims-form")),c=e("../../../../helpers/constants/routes"),u=e("../types");function d(e){return e&&e.__esModule?e:{default:e}}a.default=()=>{const e=(0,n.c)(5);let t,a,d,m,p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.default.createElement(r.Route,{path:"/",element:s.default.createElement(i.default,null)}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s.default.createElement(r.Route,{path:c.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.RELATIVE,element:s.default.createElement(l.default,null)}),e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.RELATIVE}/:draftId`,element:s.default.createElement(l.default,{mode:u.CLAIMS_FORM_MODES.EDIT_DRAFT})}),e[2]=d):d=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.RELATIVE}/:claimId`,element:s.default.createElement(l.default,{mode:u.CLAIMS_FORM_MODES.VIEW})}),e[3]=m):m=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.default.createElement(o.ClaimsProvider,null,s.default.createElement(r.Routes,null,t,a,d,m,s.default.createElement(r.Route,{path:`${c.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.RELATIVE}/:claimId`,element:s.default.createElement(l.default,{mode:u.CLAIMS_FORM_MODES.VIEW})}))),e[4]=p):p=e[4],p}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/claims-area.tsx"}],[7997,{"./claims-area":7996},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-area"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-area/index.ts"}],[7998,{"../../../../../app/scripts/lib/util":372,"../../../../../shared/constants/app-state":5774,"../../../../../shared/constants/subscriptions":5809,"../../../../components/app/toast-master/utils":6419,"../../../../components/component-library":6529,"../../../../components/component-library/file-uploader":6515,"../../../../components/component-library/textarea":6592,"../../../../components/ui/loading-screen":6965,"../../../../components/ui/tooltip":7020,"../../../../contexts/claims/claims":7033,"../../../../helpers/constants/common":7081,"../../../../helpers/constants/design-system":7083,"../../../../helpers/constants/routes":7088,"../../../../hooks/shield/metrics/useSubscriptionMetrics":7194,"../../../../hooks/shield/useClaimDraft":7196,"../../../../hooks/shield/useClaimState":7197,"../../../../hooks/useI18nContext":7235,"../../../../selectors/shield/claims":8116,"../../../../selectors/subscription":8123,"../../../../store/actions":8127,"../account-selector":7994,"../claim-error":7995,"../network-selector":8015,"../types":8020,"./constants":7999,"./utils":8001,"@metamask/controller-utils":1449,"@metamask/design-system-react":1807,classnames:4117,loglevel:4846,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=L(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/controller-utils"),r=e("@metamask/design-system-react"),o=e("react-redux"),i=e("react-router-dom"),l=B(e("classnames")),c=B(e("loglevel")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../contexts/claims/claims"),m=e("../../../../components/component-library/textarea"),p=e("../../../../components/component-library"),f=e("../../../../helpers/constants/design-system"),g=e("../../../../hooks/shield/useClaimState"),h=e("../../../../hooks/shield/useClaimDraft"),_=e("../../../../../app/scripts/lib/util"),E=e("../../../../helpers/constants/routes"),y=e("../../../../store/actions"),b=B(e("../../../../components/ui/loading-screen")),S=e("../../../../components/app/toast-master/utils"),T=e("../../../../../shared/constants/app-state"),v=e("../../../../helpers/constants/common"),x=e("../../../../components/component-library/file-uploader"),C=e("../types"),k=e("../claim-error"),w=B(e("../account-selector")),I=B(e("../network-selector")),M=e("../../../../selectors/shield/claims"),N=e("../../../../hooks/shield/metrics/useSubscriptionMetrics"),D=e("../../../../../shared/constants/subscriptions"),R=e("../../../../selectors/subscription"),A=B(e("../../../../components/ui/tooltip")),P=e("./constants"),O=e("./utils");function B(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(L=function(e){return e?a:t})(e)}a.default=({mode:e=C.CLAIMS_FORM_MODES.NEW})=>{var t,a;const B=e===C.CLAIMS_FORM_MODES.VIEW,L=e===C.CLAIMS_FORM_MODES.NEW,F=e===C.CLAIMS_FORM_MODES.EDIT_DRAFT,U=(0,u.useI18nContext)(),j=(0,o.useDispatch)(),W=(0,i.useNavigate)(),{refetchClaims:V}=(0,d.useClaims)(),{hasMaxDrafts:$,saveDraft:z,deleteDraft:H}=(0,h.useClaimDraft)(),G=(0,o.useSelector)(M.getValidSubmissionWindowDays),Y=(0,o.useSelector)(R.getLatestShieldSubscription),{captureShieldCtaClickedEvent:K,captureShieldClaimSubmissionEvent:q}=(0,N.useSubscriptionMetrics)(),[J,X]=(0,n.useState)(!1),{chainId:Q,setChainId:Z,email:ee,setEmail:te,impactedWalletAddress:ae,setImpactedWalletAddress:ne,impactedTransactionHash:se,setImpactedTransactionHash:re,reimbursementWalletAddress:oe,setReimbursementWalletAddress:ie,caseDescription:le,setCaseDescription:ce,files:ue,setFiles:de,uploadedFiles:me,claimSignature:pe,currentDraftId:fe}=(0,g.useClaimState)(e),[ge,he]=(0,n.useState)({}),_e=(0,n.useCallback)((e,t,a)=>{he(n=>({...n,[e]:t?{key:e,msg:t,params:a}:undefined}))},[he]),Ee=(0,n.useCallback)(()=>{if(ee){const e=(0,_.isValidEmail)(ee);_e(C.SUBMIT_CLAIM_FIELDS.EMAIL,e?undefined:P.FIELD_ERROR_MESSAGE_KEY_MAP[C.SUBMIT_CLAIM_FIELDS.EMAIL])}else{var e;_e(C.SUBMIT_CLAIM_FIELDS.EMAIL,null===(e=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[ee,_e]),ye=(0,n.useCallback)(e=>{var t;const a=e??ae;if(!oe||!a)return void _e(C.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,undefined);const n=oe.toLowerCase()===a.toLowerCase();_e(C.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,n?null===(t=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey:undefined)},[oe,ae,_e]),be=(0,n.useCallback)(()=>{if(oe){(0,s.isValidHexAddress)(oe)?ye():_e(C.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,P.FIELD_ERROR_MESSAGE_KEY_MAP[C.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS])}else{var e;_e(C.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS,null===(e=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[oe,_e,ye]),Se=(0,n.useCallback)(()=>{if(se){const e=(0,O.isValidTransactionHash)(se);_e(C.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,e?undefined:P.FIELD_ERROR_MESSAGE_KEY_MAP[C.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH])}else{var e;_e(C.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH,null===(e=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)}},[se,_e]),Te=(0,n.useCallback)(()=>{var e;_e(C.SUBMIT_CLAIM_FIELDS.CASE_DESCRIPTION,le?undefined:null===(e=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===e?void 0:e.messageKey)},[le,_e]),ve=(0,n.useMemo)(()=>Object.values(ge).some(e=>e!==undefined)||!Q||!ee||!ae||!se||!oe||!le,[ge,Q,ee,ae,se,oe,le]),xe=(0,n.useCallback)(e=>{const{message:t,data:a}=e;if(null!=a&&a.errorsDetails)null==a||a.errorsDetails.forEach(e=>{let t="";var a;C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED===e.errorCode?t=(null===(a=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED])||void 0===a?void 0:a.messageKey)??"":t=P.FIELD_ERROR_MESSAGE_KEY_MAP[e.field]??"";_e(e.field,t||e.error)});else{const e=a?P.ERROR_MESSAGE_MAP[null==a?void 0:a.errorCode]:undefined;let n;if((null==a?void 0:a.errorCode)===C.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED)n=[G];if(null!=e&&e.field)return void _e(e.field,e.messageKey,n);let s="";s=t===T.ClaimSubmitToastType.Errored?T.ClaimSubmitToastType.Errored:e?U(e.messageKey,n):t,j((0,S.setShowClaimSubmitToast)(s))}},[j,_e,U,G]),Ce=(0,n.useCallback)(async()=>{window.open(v.FIND_TRANSACTION_HASH_LINK,"_blank","noopener,noreferrer"),K({source:D.ShieldMetricsSourceEnum.Settings,ctaActionClicked:D.ShieldCtaActionClickedEnum.FindingTxHash,redirectToUrl:v.FIND_TRANSACTION_HASH_LINK})},[K]),ke=(0,n.useCallback)(async()=>{if(ve)return;const e=(e,t)=>{Y&&q({subscriptionStatus:Y.status,attachmentsCount:(null==ue?void 0:ue.length)??0,submissionStatus:e,errorMessage:t})};try{X(!0);const t=Number(Q);if(e("started"),await(0,y.submitShieldClaim)({chainId:t.toString(),email:ee,impactedWalletAddress:ae,impactedTxHash:se,reimbursementWalletAddress:oe,description:le,signature:pe,files:ue}),e("completed"),fe)try{await H(fe)}catch{c.default.error("Failed to delete draft after successful claim submission")}j((0,S.setShowClaimSubmitToast)(T.ClaimSubmitToastType.Success)),await V(),W(E.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(t){xe(t);e("failed",t instanceof k.SubmitClaimError?t.message:undefined)}finally{X(!1)}},[ve,Q,ee,ae,se,oe,le,ue,j,W,V,pe,xe,q,Y,fe,H]),we=(0,n.useMemo)(()=>Boolean(Q||ee||ae||se||oe||le),[Q,ee,ae,se,oe,le]),Ie=(0,n.useCallback)(async({overrides:e={}}={})=>{try{await z({chainId:e.chainId??Q,email:ee,impactedWalletAddress:e.impactedWalletAddress??ae,impactedTxHash:se,reimbursementWalletAddress:oe,description:le,draftId:fe}),j((0,S.setShowClaimSubmitToast)(T.ClaimSubmitToastType.DraftSaved)),F||W(E.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(e){c.default.error("Error saving draft",e),j((0,S.setShowClaimSubmitToast)(T.ClaimSubmitToastType.DraftSaveFailed))}},[z,Q,ee,ae,se,oe,le,fe,F,j,W]),Me=(0,n.useCallback)(async()=>{if(fe)try{await H(fe),j((0,S.setShowClaimSubmitToast)(T.ClaimSubmitToastType.DraftDeleted)),W(E.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}catch(e){c.default.error("Error deleting draft",e),j((0,S.setShowClaimSubmitToast)(T.ClaimSubmitToastType.DraftDeleteFailed))}},[fe,H,j,W]),Ne=(0,n.useMemo)(()=>{if(F)return n.default.createElement(r.Button,{"data-testid":"shield-claim-delete-draft-button",className:"flex-1",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,disabled:J,onClick:Me},U("shieldClaimDeleteDraft"));const e=$&&L,t=n.default.createElement(r.Button,{"data-testid":"shield-claim-save-draft-button",className:e?"w-full":"flex-1",variant:r.ButtonVariant.Secondary,size:r.ButtonSize.Lg,disabled:!we||J||e,onClick:()=>Ie()},U("shieldClaimSaveAsDraft"));return e?n.default.createElement(A.default,{title:U("shieldClaimMaxDraftsReached"),wrapperClassName:"flex-1",position:"top"},t):t},[F,$,L,we,J,Ie,U,Me]);return n.default.createElement(r.Box,{className:"submit-claim-page flex flex-col pt-4 px-4 pb-4","data-testid":"submit-claim-page",gap:4},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},B?U("shieldClaimDetailsViewClaims",[n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:v.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},U("here")))]):U("shieldClaimDetails",[G,n.default.createElement(r.TextButton,{key:"here-link",className:"min-w-0",asChild:!0},n.default.createElement("a",{href:v.TRANSACTION_SHIELD_SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer"},U("shieldClaimViewGuidelines")))])),n.default.createElement(r.Box,null,n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},U("shieldClaimPersonalDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimEmail")}*`,placeholder:"johncarpenter@sample.com",inputProps:{"data-testid":"shield-claim-email-input"},helpText:ge.email?U(ge.email.msg,ge.email.params):U("shieldClaimEmailHelpText"),helpTextProps:{"data-testid":"shield-claim-help-text",color:f.TextColor.textAlternative},id:"email",name:"email",size:p.FormTextFieldSize.Lg,onChange:e=>te(e.target.value),onBlur:async()=>{Ee(),F&&await Ie()},value:ee,error:Boolean(ge.email),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimReimbursementWalletAddress")}*`,placeholder:"e.g. 0x71C...B5f6d",inputProps:{"data-testid":"shield-claim-reimbursement-wallet-address-input"},helpTextProps:{"data-testid":"shield-claim-reimbursement-wallet-address-help-text",color:f.TextColor.textAlternative},helpText:ge.reimbursementWalletAddress?U(ge.reimbursementWalletAddress.msg,ge.reimbursementWalletAddress.params):U("shieldClaimReimbursementWalletAddressHelpText"),id:"reimbursement-wallet-address",name:"reimbursement-wallet-address",size:p.FormTextFieldSize.Lg,onChange:e=>ie(e.target.value),onBlur:async()=>{be(),F&&await Ie()},value:oe,error:Boolean(ge.reimbursementWalletAddress),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(r.Box,{className:"mt-4"},n.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,className:"mb-2"},U("shieldClaimIncidentDetails")),n.default.createElement(r.Box,{borderColor:r.BoxBorderColor.BorderMuted,className:"w-full h-[1px] border border-b-0"})),n.default.createElement(w.default,{label:`${U("shieldClaimImpactedWalletAddress")}*`,modalTitle:U("shieldClaimSelectAccount"),impactedWalletAddress:ae,onAccountSelect:async e=>{var t;ne(e),F&&await Ie({overrides:{impactedWalletAddress:e}});const a=(null===(t=P.ERROR_MESSAGE_MAP[C.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES])||void 0===t?void 0:t.messageKey)??"";!oe||ge.reimbursementWalletAddress&&ge.reimbursementWalletAddress.msg!==a||ye(e)},disabled:B}),n.default.createElement(I.default,{label:`${U("shieldClaimNetwork")}*`,modalTitle:U("shieldClaimSelectNetwork"),selectedChainId:Q,onNetworkSelect:async e=>{Z(e),F&&await Ie({overrides:{chainId:e}})},disabled:B}),n.default.createElement(p.FormTextField,{label:`${U("shieldClaimImpactedTxHash")}*`,placeholder:"e.g. a1084235686add...q46q8wurgw",inputProps:{"data-testid":"shield-claim-impacted-tx-hash-input"},helpText:ge.impactedTxHash?n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.Inherit,"data-testid":"shield-claim-impacted-tx-hash-error"},`${U(null===(t=ge.impactedTxHash)||void 0===t?void 0:t.msg,null===(a=ge.impactedTxHash)||void 0===a?void 0:a.params)} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:Ce},U("shieldClaimImpactedTxHashHelpTextLink"))):n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.TextAlternative},`${U("shieldClaimImpactedTxHashHelpText")} `,n.default.createElement(r.TextButton,{size:r.TextButtonSize.BodySm,className:"min-w-0",onClick:Ce},U("shieldClaimImpactedTxHashHelpTextLink"))),id:"impacted-tx-hash",name:"impacted-tx-hash",size:p.FormTextFieldSize.Lg,onChange:e=>re(e.target.value),onBlur:async()=>{Se(),F&&await Ie()},value:se,error:Boolean(ge.impactedTxHash),required:!0,width:f.BlockSize.Full,disabled:B}),n.default.createElement(r.Box,{className:"flex flex-col gap-1"},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium,className:(0,l.default)({"opacity-50":B})},`${U("shieldClaimDescription")}*`),n.default.createElement(m.Textarea,{id:"description",name:"description","data-testid":"shield-claim-description-textarea",placeholder:U("shieldClaimDescriptionPlaceholder"),onChange:e=>ce(e.target.value),onBlur:async()=>{Te(),F&&await Ie()},value:le,error:Boolean(ge.caseDescription),width:f.BlockSize.Full,rows:4,resize:m.TextareaResize.Vertical,borderRadius:f.BorderRadius.LG,paddingTop:3,paddingBottom:3,maxLength:2e3,disabled:B}),ge.caseDescription&&n.default.createElement(r.Text,{variant:r.TextVariant.BodySm,color:r.TextColor.ErrorDefault,className:"mt-0.5","data-testid":"shield-claim-description-error"},U(ge.caseDescription.msg,ge.caseDescription.params))),B?n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:1},n.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},U("shieldClaimFileUploader")),n.default.createElement(r.Box,{flexDirection:r.BoxFlexDirection.Column,gap:2},me.map((e,t)=>{var a;return n.default.createElement(r.Box,{asChild:!0,key:e.originalname||t,alignItems:r.BoxAlignItems.Center,flexDirection:r.BoxFlexDirection.Row,backgroundColor:r.BoxBackgroundColor.BackgroundSection,paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,gap:2,className:"rounded-lg"},n.default.createElement("a",{href:e.publicUrl,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(r.Icon,{name:null!==(a=e.contentType)&&void 0!==a&&a.includes("image")?r.IconName.Image:r.IconName.File,size:r.IconSize.Lg}),n.default.createElement(r.Text,{variant:r.TextVariant.BodySm},e.originalname)))}))):n.default.createElement(x.FileUploader,{id:"upload-images-file-uploader","data-testid":"upload-images-file-uploader",label:U("shieldClaimFileUploader"),onChange:e=>de(e),accept:["application/pdf","image/png","image/jpeg"].join(","),acceptText:U("shieldClaimFileUploaderAcceptText",[P.MAX_FILE_SIZE_MB]),helpText:U("shieldClaimFileUploaderHelpText"),maxFileSize:P.MAX_FILE_SIZE_BYTES}),!B&&n.default.createElement(r.Box,{className:"flex gap-2"},Ne,n.default.createElement(r.Button,{"data-testid":"shield-claim-submit-button",className:"flex-1",variant:r.ButtonVariant.Primary,size:r.ButtonSize.Lg,disabled:ve||J,onClick:ke},U("shieldClaimSubmit"))),J&&n.default.createElement(b.default,null))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/claims-form.tsx"}],[7999,{"../types":8020},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MAX_PENDING_CLAIMS=a.MAX_FILE_SIZE_MB=a.MAX_FILE_SIZE_BYTES=a.MAX_DRAFT_CLAIMS=a.FIELD_ERROR_MESSAGE_KEY_MAP=a.ERROR_MESSAGE_MAP=void 0;var n=e("../types");const s=a.MAX_FILE_SIZE_MB=5;a.MAX_FILE_SIZE_BYTES=1024*s*1024,a.ERROR_MESSAGE_MAP={[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_ELIGIBLE]:{messageKey:"shieldClaimImpactedTxHashNotEligible",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.SUBMISSION_WINDOW_EXPIRED]:{messageKey:"shieldClaimSubmissionWindowExpired"},[n.SUBMIT_CLAIM_ERROR_CODES.MAX_CLAIMS_LIMIT_EXCEEDED]:{messageKey:"shieldClaimMaxClaimsLimitExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.DUPLICATE_CLAIM_EXISTS]:{messageKey:"shieldClaimDuplicateClaimExists"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_WALLET_ADDRESSES]:{messageKey:"shieldClaimSameWalletAddressesError",field:n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_SIZE_EXCEEDED]:{messageKey:"shieldClaimFileErrorSizeExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.FILES_COUNT_EXCEEDED]:{messageKey:"shieldClaimFileErrorCountExceeded"},[n.SUBMIT_CLAIM_ERROR_CODES.INVALID_FILES_TYPE]:{messageKey:"shieldClaimFileErrorInvalidType"},[n.SUBMIT_CLAIM_ERROR_CODES.FIELD_REQUIRED]:{messageKey:"shieldClaimInvalidRequired"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_COVERAGE_NOT_COVERED]:{messageKey:"shieldClaimSignatureCoverageNotCovered"},[n.SUBMIT_CLAIM_ERROR_CODES.SIGNATURE_VERIFICATION_FAILED]:{messageKey:"shieldClaimWalletOwnershipValidationFailed"},[n.SUBMIT_CLAIM_ERROR_CODES.CHAIN_NOT_SUPPORTED]:{messageKey:"shieldClaimChainNotSupported",field:n.SUBMIT_CLAIM_FIELDS.CHAIN_ID},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FOUND]:{messageKey:"shieldClaimTransactionNotFound",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_FROM_WALLET_ADDRESS]:{messageKey:"shieldClaimTransactionNotFromWalletAddress",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH},[n.SUBMIT_CLAIM_ERROR_CODES.TRANSACTION_NOT_SUCCESSFUL]:{messageKey:"shieldClaimTransactionNotSuccessful",field:n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH}},a.FIELD_ERROR_MESSAGE_KEY_MAP={[n.SUBMIT_CLAIM_FIELDS.CHAIN_ID]:"shieldClaimInvalidChainId",[n.SUBMIT_CLAIM_FIELDS.EMAIL]:"shieldClaimInvalidEmail",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress",[n.SUBMIT_CLAIM_FIELDS.IMPACTED_TRANSACTION_HASH]:"shieldClaimInvalidTxHash",[n.SUBMIT_CLAIM_FIELDS.REIMBURSEMENT_WALLET_ADDRESS]:"shieldClaimInvalidWalletAddress"},a.MAX_PENDING_CLAIMS=3,a.MAX_DRAFT_CLAIMS=3}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/constants.ts"}],[8e3,{"./claims-form":7998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-form"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/index.ts"}],[8001,{"@metamask/utils":3116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isValidTransactionHash=function(e){return 66===e.length&&(0,n.isStrictHexString)(e)};var n=e("@metamask/utils")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-form/utils.ts"}],[8002,{"../../../../../shared/constants/preferences":5800,"../../../../components/ui/loading-screen":6965,"../../../../components/ui/tabs":7008,"../../../../contexts/claims/claims":7033,"../../../../helpers/constants/routes":7088,"../../../../hooks/shield/useClaimDraft":7196,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useTheme":7264,"../../../asset/util":7306,"../claims-form/constants":7999,"../types":8020,"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("@metamask/design-system-react"),i=e("react-router-dom"),l=(n=e("../../../../components/ui/loading-screen"))&&n.__esModule?n:{default:n},c=e("../../../../hooks/useI18nContext"),u=e("../../../../contexts/claims/claims"),d=e("../../../../helpers/constants/routes"),m=e("../../../../components/ui/tabs"),p=e("../../../asset/util"),f=e("../../../../../shared/constants/preferences"),g=e("../../../../hooks/useTheme"),h=e("../types"),_=e("../../../../hooks/shield/useClaimDraft"),E=e("../claims-form/constants");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(45),t=(0,c.useI18nContext)(),a=(0,i.useNavigate)(),n=(0,g.useTheme)(),[y,b]=(0,i.useSearchParams)(),{pendingClaims:S,completedClaims:T,rejectedClaims:v,isLoading:x}=(0,u.useClaims)(),{drafts:C}=(0,_.useClaimDraft)();let k;e[0]!==y?(k=()=>{const e=y.get("tab");if(e===h.CLAIMS_TAB_KEYS.PENDING||e===h.CLAIMS_TAB_KEYS.HISTORY)return e},e[0]=y,e[1]=k):k=e[1];const[w]=(0,r.useState)(k);let I,M,N;e[2]!==y||e[3]!==b?(I=()=>{y.has("tab")&&(y.delete("tab"),b(y,{replace:!0}))},M=[y,b],e[2]=y,e[3]=b,e[4]=I,e[5]=M):(I=e[4],M=e[5]),(0,r.useEffect)(I,M),e[6]!==a||e[7]!==t?(N=(e,n,s)=>{const i=s!==undefined&&s;let l="";if(i){const a=e.updatedAt??null;a&&(l=t("shieldClaimsLastEdited",[(0,p.getShortDateFormatterV2)().format(new Date(a))]))}else l=(0,p.getShortDateFormatterV2)().format(new Date(e.createdAt));const c=i?e.draftId:e.id;return r.default.createElement(o.Box,{asChild:!0,key:c,"data-testid":`claim-item-${c}`,backgroundColor:o.BoxBackgroundColor.BackgroundSection,className:"claim-item flex items-center justify-between w-full p-4 rounded-lg",onClick:()=>{if(i)a(`${d.TRANSACTION_SHIELD_CLAIM_ROUTES.EDIT_DRAFT.FULL}/${c}`);else{const e=n===h.CLAIMS_TAB_KEYS.PENDING?d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_PENDING.FULL:d.TRANSACTION_SHIELD_CLAIM_ROUTES.VIEW_HISTORY.FULL;a(`${e}/${c}`)}}},r.default.createElement("button",null,r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium,textAlign:o.TextAlign.Left},t("shieldClaimsNumber",[c])),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,textAlign:o.TextAlign.Left,color:o.TextColor.TextAlternative},l)),r.default.createElement(o.Icon,{name:o.IconName.ArrowRight,size:o.IconSize.Md,color:o.IconColor.IconDefault})))},e[6]=a,e[7]=t,e[8]=N):N=e[8];const D=N;let R;e[9]!==D?(R=e=>r.default.createElement(o.Box,null,r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,fontWeight:o.FontWeight.Medium,className:"mb-3"},e.title),r.default.createElement(o.Box,{className:"flex flex-col gap-2"},e.claims.map(t=>D(t,e.tabKey,e.isDraft??!1)))),e[9]=D,e[10]=R):R=e[10];const A=R;let P;e[11]!==a||e[12]!==t||e[13]!==n?(P=e=>{const s=n===f.ThemeType.dark?"./images/empty-state-activity-dark.png":"./images/empty-state-activity-light.png";return r.default.createElement(o.Box,{className:"h-full flex justify-center items-center"},r.default.createElement(o.Box,{className:"text-center"},r.default.createElement("img",{src:s,alt:t("activity"),className:"mb-2 mx-auto",width:72,height:72}),r.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm,color:o.TextColor.TextAlternative,className:"mb-2"},e===h.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaims"):t("shieldClaimGroupNoCompletedClaims")),r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative,className:"mb-4"},e===h.CLAIMS_TAB_KEYS.PENDING?t("shieldClaimGroupNoOpenClaimsDescription"):t("shieldClaimGroupNoCompletedClaimsDescription")),e===h.CLAIMS_TAB_KEYS.PENDING&&r.default.createElement(o.Button,{"data-testid":"claims-list-empty-new-claim-button",variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Lg,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit"))))},e[11]=a,e[12]=t,e[13]=n,e[14]=P):P=e[14];const O=P;if(x){let t;return e[15]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement(l.default,null),e[15]=t):t=e[15],t}let B,L,F,U,j,W,V,$,z;return e[16]===Symbol.for("react.memo_cache_sentinel")?(B={className:"px-4"},L={className:"flex-1 overflow-y-hidden"},e[16]=B,e[17]=L):(B=e[16],L=e[17]),e[18]!==t?(F=t("shieldClaimsTabPending"),e[18]=t,e[19]=F):F=e[19],e[20]!==A||e[21]!==C||e[22]!==O||e[23]!==a||e[24]!==S||e[25]!==t?(U=S.length>0||C.length>0?r.default.createElement(o.Box,{className:"h-full flex flex-col justify-between"},r.default.createElement(o.Box,{className:"flex-1 overflow-y-auto"},r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},S.length>0&&A({title:t("shieldClaimGroupActive"),claims:S,tabKey:h.CLAIMS_TAB_KEYS.PENDING}),C.length>0&&A({title:t("shieldClaimGroupDrafts"),claims:C,tabKey:h.CLAIMS_TAB_KEYS.PENDING,isDraft:!0}),r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},t("shieldClaimGroupActiveNote",[E.MAX_DRAFT_CLAIMS,E.MAX_PENDING_CLAIMS])))),r.default.createElement(o.Box,{className:"p-4"},r.default.createElement(o.Button,{"data-testid":"claims-list-submit-claim-button",className:"w-full",variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,disabled:S.length>=E.MAX_PENDING_CLAIMS,onClick:()=>{a(d.TRANSACTION_SHIELD_CLAIM_ROUTES.NEW.FULL)}},t("shieldClaimSubmit")))):O(h.CLAIMS_TAB_KEYS.PENDING),e[20]=A,e[21]=C,e[22]=O,e[23]=a,e[24]=S,e[25]=t,e[26]=U):U=e[26],e[27]!==F||e[28]!==U?(j=r.default.createElement(m.Tab,{name:F,className:"flex-1 px-4 py-2",tabKey:"pending"},U),e[27]=F,e[28]=U,e[29]=j):j=e[29],e[30]!==t?(W=t("shieldClaimsTabHistory"),e[30]=t,e[31]=W):W=e[31],e[32]!==A||e[33]!==T||e[34]!==O||e[35]!==v||e[36]!==t?(V=T.length>0||v.length>0?r.default.createElement(o.Box,{padding:4,className:"flex flex-col gap-4"},T.length>0&&A({title:t("shieldClaimGroupCompleted"),claims:T,tabKey:h.CLAIMS_TAB_KEYS.HISTORY}),v.length>0&&A({title:t("shieldClaimGroupRejected"),claims:v,tabKey:h.CLAIMS_TAB_KEYS.HISTORY})):O(h.CLAIMS_TAB_KEYS.HISTORY),e[32]=A,e[33]=T,e[34]=O,e[35]=v,e[36]=t,e[37]=V):V=e[37],e[38]!==W||e[39]!==V?($=r.default.createElement(m.Tab,{name:W,className:"flex-1 px-4 py-2",tabKey:"history"},V),e[38]=W,e[39]=V,e[40]=$):$=e[40],e[41]!==w||e[42]!==j||e[43]!==$?(z=r.default.createElement(m.Tabs,{"data-testid":"claims-list-page",defaultActiveTabKey:w,className:"h-full flex flex-col overflow-y-hidden",tabListProps:B,tabContentProps:L},j,$),e[41]=w,e[42]=j,e[43]=$,e[44]=z):z=e[44],z}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/claims-list.tsx"}],[8003,{"./claims-list":8002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./claims-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/claims-list/index.ts"}],[8004,{"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react");a.default=e=>{const t=(0,s.c)(6),{"data-testid":a,className:n,children:i}=e,l=n===undefined?"":n;let c,u;return t[0]!==l?(c=(0,o.twMerge)("button-row-container",l),t[0]=l,t[1]=c):c=t[1],t[2]!==i||t[3]!==a||t[4]!==c?(u=r.default.createElement(o.Box,{className:c,"data-testid":a},i),t[2]=i,t[3]=a,t[4]=c,t[5]=u):u=t[5],u}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/button-row-container.tsx"}],[8005,{"../../../../components/component-library/skeleton":6575,"../../../../helpers/constants/design-system":7083,"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library/skeleton");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(null,arguments)}a.default=e=>{const t=(0,n.c)(37),{title:a,description:l,descriptionClassName:u,descriptionTestId:d,startIconName:m,endIconName:p,endAccessory:f,onClick:g,"data-testid":h,className:_,loading:E,disabled:y}=e,b=_===undefined?"":_,S=E!==undefined&&E,T=y!==undefined&&y,v=g?"button":"div";let x;e:{if(f){let e;t[0]!==f?(e=s.default.createElement(r.Box,{className:"ml-auto flex-shrink-0"},f),t[0]=f,t[1]=e):e=t[1],x=e;break e}if(g&&!S){const e=p??r.IconName.ArrowRight;let a;t[2]!==e?(a=s.default.createElement(r.Icon,{name:e,size:r.IconSize.Sm,color:r.IconColor.IconAlternative,className:"ml-auto"}),t[2]=e,t[3]=a):a=t[3],x=a;break e}x=null}const C=x;let k;e:{if(S){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement(i.Skeleton,{width:"100%",height:20}),t[4]=e):e=t[4],k=e;break e}if("string"==typeof l){let e,a;t[5]!==u?(e=(0,r.twMerge)("text-text-alternative",u),t[5]=u,t[6]=e):e=t[6],t[7]!==l||t[8]!==d||t[9]!==e?(a=s.default.createElement(r.Text,{"data-testid":d,variant:r.TextVariant.BodySm,className:e},l),t[7]=l,t[8]=d,t[9]=e,t[10]=a):a=t[10],k=a;break e}k=l}const w=k;let I,M,N;t[11]!==b?(I=(0,r.twMerge)("button-row flex w-full items-center px-4 gap-4",b),t[11]=b,t[12]=I):I=t[12],t[13]!==v||t[14]!==T?(M="button"===v?{disabled:T}:{},t[13]=v,t[14]=T,t[15]=M):M=t[15],t[16]!==S||t[17]!==m?(N=m&&(S?s.default.createElement(i.Skeleton,{width:40,height:40,borderRadius:o.BorderRadius.full,style:{flexShrink:0}}):s.default.createElement(r.AvatarIcon,{iconName:m,size:r.AvatarIconSize.Lg,color:r.IconColor.IconAlternative})),t[16]=S,t[17]=m,t[18]=N):N=t[18];const D=S?2:0;let R,A,P,O;return t[19]!==S||t[20]!==a?(R=S?s.default.createElement(i.Skeleton,{width:"100%",height:20}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyMd,fontWeight:r.FontWeight.Medium},a),t[19]=S,t[20]=a,t[21]=R):R=t[21],t[22]!==w||t[23]!==R||t[24]!==D?(A=s.default.createElement(r.Box,{className:"flex flex-col text-left w-full",gap:D},R,w),t[22]=w,t[23]=R,t[24]=D,t[25]=A):A=t[25],t[26]!==v||t[27]!==C||t[28]!==A||t[29]!==M||t[30]!==N?(P=s.default.createElement(v,c({className:"button-row__button"},M),N,A,C),t[26]=v,t[27]=C,t[28]=A,t[29]=M,t[30]=N,t[31]=P):P=t[31],t[32]!==h||t[33]!==g||t[34]!==P||t[35]!==I?(O=s.default.createElement(r.Box,{asChild:!0,className:I,"data-testid":h,onClick:g},P),t[32]=h,t[33]=g,t[34]=P,t[35]=I,t[36]=O):O=t[36],O}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/button-row.tsx"}],[8006,{"../../../../../shared/lib/shield":5891,"../../../../components/component-library":6529,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useI18nContext":7235,"../../../asset/util":7306,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){const t=(0,s.c)(28),{onConfirm:a,onClose:n,subscription:d}=e,m=(0,l.useI18nContext)();let p;t[0]!==d?(p=(0,u.getIsShieldSubscriptionPaused)(d),t[0]=d,t[1]=p):p=t[1];const f=p;let g,h,_,E,y,b,S,T,v,x;t[2]===Symbol.for("react.memo_cache_sentinel")?(g=r.default.createElement(o.ModalOverlay,null),t[2]=g):g=t[2];t[3]!==m?(h=m("areYouSure"),t[3]=m,t[4]=h):h=t[4];t[5]!==n||t[6]!==h?(_=r.default.createElement(o.ModalHeader,{onClose:n},h),t[5]=n,t[6]=h,t[7]=_):_=t[7];t[8]!==f||t[9]!==d||t[10]!==m?(E=f?m("shieldTxCancelWhenPausedDetails"):m("shieldTxCancelDetails",[r.default.createElement(o.Text,{key:"cancel-date",variant:i.TextVariant.bodyMdMedium,as:"span"},(0,c.getShortDateFormatterV2)().format(new Date(d.currentPeriodEnd)))]),t[8]=f,t[9]=d,t[10]=m,t[11]=E):E=t[11];t[12]!==E?(y=r.default.createElement(o.ModalBody,null,r.default.createElement(o.Text,{variant:i.TextVariant.bodyMd},E)),t[12]=E,t[13]=y):y=t[13];t[14]!==m?(b=m("shieldTxMembershipCancel"),t[14]=m,t[15]=b):b=t[15];t[16]!==b?(S={"data-testid":"cancel-membership-modal-submit-button",children:b,danger:!0},t[16]=b,t[17]=S):S=t[17];t[18]!==a||t[19]!==S?(T=r.default.createElement(o.ModalFooter,{onSubmit:a,submitButtonProps:S}),t[18]=a,t[19]=S,t[20]=T):T=t[20];t[21]!==_||t[22]!==y||t[23]!==T?(v=r.default.createElement(o.ModalContent,{alignItems:i.AlignItems.flexStart},_,y,T),t[21]=_,t[22]=y,t[23]=T,t[24]=v):v=t[24];t[25]!==n||t[26]!==v?(x=r.default.createElement(o.Modal,{isOpen:!0,onClose:n,className:"cancel-membership-modal","data-testid":"cancel-membership-modal"},g,v),t[25]=n,t[26]=v,t[27]=x):x=t[27];return x};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../../../asset/util"),u=e("../../../../../shared/lib/shield")}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/cancel-membership-modal.tsx"}],[8007,{"../../../../components/app/preferred-avatar":6237,"../../../../hooks/useDisplayName":7225,"@metamask/design-system-react":1807,"@metamask/name-controller":2307,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),i=e("@metamask/name-controller"),l=e("../../../../hooks/useDisplayName"),c=e("../../../../components/app/preferred-avatar");a.default=e=>{const t=(0,s.c)(17),{payerAddress:a,chainId:n,showIcon:u}=e,d=u===undefined||u;let m;t[0]!==n||t[1]!==a?(m={value:a,type:i.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!1,variation:n},t[0]=n,t[1]=a,t[2]=m):m=t[2];const{name:p,icon:f,subtitle:g}=(0,l.useDisplayName)(m);let h;t[3]!==f||t[4]!==a?(h=()=>f?r.default.createElement(o.Icon,{name:f.name,className:"crypto-account-display__icon",size:o.IconSize.Sm,color:f.color}):r.default.createElement(c.PreferredAvatar,{className:"rounded-md",address:a,size:o.AvatarAccountSize.Xs}),t[3]=f,t[4]=a,t[5]=h):h=t[5];const _=h;let E;t[6]!==p||t[7]!==g?(E=()=>g?r.default.createElement(o.Text,{variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative},p,", ",g):p,t[6]=p,t[7]=g,t[8]=E):E=t[8];const y=E;let b,S,T;return t[9]!==_||t[10]!==d?(b=d&&_(),t[9]=_,t[10]=d,t[11]=b):b=t[11],t[12]!==y?(S=y(),t[12]=y,t[13]=S):S=t[13],t[14]!==b||t[15]!==S?(T=r.default.createElement(o.Box,{className:"flex gap-2 items-center"},b,S),t[14]=b,t[15]=S,t[16]=T):T=t[16],T}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/crypto-account-display.tsx"}],[8008,{"./button-row":8005,"./button-row-container":8004,"./membership-error-banner":8009,"./membership-header":8010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ButtonRow",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(a,"ButtonRowContainer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"MembershipErrorBanner",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(a,"MembershipHeader",{enumerable:!0,get:function(){return o.default}});var n=i(e("./button-row")),s=i(e("./button-row-container")),r=i(e("./membership-error-banner")),o=i(e("./membership-header"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/index.ts"}],[8009,{"../../../../components/component-library":6529,"../../../../hooks/useI18nContext":7235,"../../../asset/util":7306,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../../components/component-library"),i=e("../../../../hooks/useI18nContext"),l=e("../../../asset/util");a.default=e=>{const t=(0,s.c)(19),{isPaused:a,isCryptoPayment:n,isCardPayment:c,isSubscriptionEndingSoon:u,currentShieldSubscription:d,onActionButtonClick:m}=e,p=(0,i.useI18nContext)();if(a){let e,a,s,i="shieldTxMembershipErrorPausedUnexpected",l="shieldTxMembershipErrorPausedUnexpectedAction";return n?(i="shieldTxMembershipErrorPausedCryptoInsufficientFunds",l="shieldTxMembershipErrorPausedCryptoInsufficientFundsAction"):c&&(i="shieldTxMembershipErrorPausedCard",l="shieldTxMembershipErrorPausedCardAction"),t[0]!==i||t[1]!==p?(e=p(i,[24]),t[0]=i,t[1]=p,t[2]=e):e=t[2],t[3]!==l||t[4]!==p?(a=p(l),t[3]=l,t[4]=p,t[5]=a):a=t[5],t[6]!==m||t[7]!==e||t[8]!==a?(s=r.default.createElement(o.BannerAlert,{description:e,severity:o.BannerAlertSeverity.Danger,marginBottom:4,actionButtonLabel:a,actionButtonOnClick:m}),t[6]=m,t[7]=e,t[8]=a,t[9]=s):s=t[9],s}if(d&&u){let e,a,n;return t[10]!==d.currentPeriodEnd||t[11]!==p?(e=p("shieldTxMembershipErrorInsufficientFunds",[(0,l.getShortDateFormatterV2)().format(new Date(d.currentPeriodEnd))]),t[10]=d.currentPeriodEnd,t[11]=p,t[12]=e):e=t[12],t[13]!==p?(a=p("shieldTxMembershipRenew"),t[13]=p,t[14]=a):a=t[14],t[15]!==m||t[16]!==e||t[17]!==a?(n=r.default.createElement(o.BannerAlert,{description:e,severity:o.BannerAlertSeverity.Warning,marginBottom:4,actionButtonLabel:a,actionButtonOnClick:m}),t[15]=m,t[16]=e,t[17]=a,t[18]=n):n=t[18],n}return null}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/membership-error-banner.tsx"}],[8010,{"../../../../../shared/constants/preferences":5800,"../../../../components/component-library":6529,"../../../../components/component-library/skeleton":6575,"../../../../helpers/constants/design-system":7083,"../../../../hooks/useI18nContext":7235,"../../../../hooks/useTheme":7264,"../../../asset/util":7306,"../shield-banner-animation":8018,"@metamask/design-system-react":1807,classnames:4117,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=g(e("classnames")),i=e("../../../../../shared/constants/preferences"),l=e("../../../../hooks/useTheme"),c=e("../../../../components/component-library/skeleton"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/component-library"),m=g(e("../shield-banner-animation")),p=e("../../../../hooks/useI18nContext"),f=e("../../../asset/util");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(51),{showSkeletonLoader:a,isCancelled:g,isTrialing:h,isPaused:_,customerId:E,startDate:y,endDate:b,trialDaysLeft:S,cancelledDate:T,className:v}=e,x=(0,p.useI18nContext)(),C=(0,l.useTheme)(),k=C===i.ThemeType.light,w=g||_;let I;e:{if(!y||!b){I="";break e}let e;t[0]!==y?(e=(0,f.getShortDateFormatterV2)().format(new Date(y)),t[0]=y,t[1]=e):e=t[1];const a=e;let n;t[2]!==b?(n=(0,f.getShortDateFormatterV2)().format(new Date(b)),t[2]=b,t[3]=n):n=t[3];I=`${a} - ${n}`}const M=I;let N;e:{if(!h||!S){N="";break e}let e;t[4]!==x||t[5]!==S?(e=x("shieldTxMembershipFreeTrialDaysLeft",[S]),t[4]=x,t[5]=S,t[6]=e):e=t[6],N=e}const D=N;let R;e:{if(!g||!T){R="";break e}let e;t[7]!==T||t[8]!==x?(e=x("shieldTxMembershipCancelledDate",[(0,f.getShortDateFormatterV2)().format(new Date(T))]),t[7]=T,t[8]=x,t[9]=e):e=t[9],R=e}let A;A=g?R:h?D:M;const P=A;let O;e:{if(_){let e,a;t[10]!==x?(e=x("shieldTxMembershipPaused"),t[10]=x,t[11]=e):e=t[11],t[12]!==e?(a=s.default.createElement(d.Tag,{label:s.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.TextAlternative},e),borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.backgroundMuted,"data-testid":"shield-detail-paused-tag"}),t[12]=e,t[13]=a):a=t[13],O=a;break e}if(h){let e,a;t[14]!==x?(e=x("shieldTxMembershipFreeTrial"),t[14]=x,t[15]=e):e=t[15],t[16]!==e?(a=s.default.createElement(d.Tag,{label:s.default.createElement(r.Text,{variant:r.TextVariant.BodySm,fontWeight:r.FontWeight.Medium,color:r.TextColor.SuccessDefault},e),borderStyle:u.BorderStyle.none,borderRadius:u.BorderRadius.SM,backgroundColor:u.BackgroundColor.successMuted,"data-testid":"shield-detail-trial-tag"}),t[16]=e,t[17]=a):a=t[17],O=a;break e}O=null}const B=O,L=w?C:i.ThemeType.dark,F=w&&!a,U=!w&&!a,j=k&&w&&!a;let W;t[18]!==v||t[19]!==a||t[20]!==F||t[21]!==U||t[22]!==j?(W=(0,o.default)("transaction-shield-page__row transaction-shield-page__membership flex py-4 pl-4 pr-2",{"transaction-shield-page__membership--loading":a,"transaction-shield-page__membership--inactive":F,"transaction-shield-page__membership--active":U,"transaction-shield-page__membership--inactive-light":j},v??""),t[18]=v,t[19]=a,t[20]=F,t[21]=U,t[22]=j,t[23]=W):W=t[23];const V=a?2:0;let $,z,H,G,Y,K,q;return t[24]!==w||t[25]!==B||t[26]!==a||t[27]!==x?($=a?s.default.createElement(c.Skeleton,{className:"w-2/3 h-5"}):s.default.createElement(r.Box,{className:"flex items-center gap-3"},s.default.createElement(r.Text,{variant:r.TextVariant.HeadingSm,fontWeight:r.FontWeight.Medium,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-membership-status"},x(w?"shieldTxMembershipInactive":"shieldTxMembershipActive")),B),t[24]=w,t[25]=B,t[26]=a,t[27]=x,t[28]=$):$=t[28],t[29]!==P||t[30]!==a?(z=a?s.default.createElement(c.Skeleton,{width:"60%",height:16}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-note"},P),t[29]=P,t[30]=a,t[31]=z):z=t[31],t[32]!==V||t[33]!==$||t[34]!==z?(H=s.default.createElement(r.Box,{className:"flex flex-col",gap:V},$,z),t[32]=V,t[33]=$,t[34]=z,t[35]=H):H=t[35],t[36]!==E||t[37]!==a||t[38]!==x?(G=s.default.createElement(r.Box,null,a?s.default.createElement(c.Skeleton,{width:"60%",height:16}):s.default.createElement(r.Text,{variant:r.TextVariant.BodyXs,className:"transaction-shield-page__membership-text","data-testid":"shield-detail-customer-id"},x("shieldTxMembershipId"),": ",E||"")),t[36]=E,t[37]=a,t[38]=x,t[39]=G):G=t[39],t[40]!==H||t[41]!==G?(Y=s.default.createElement(r.Box,{className:"flex flex-col justify-between w-full h-full"},H,G),t[40]=H,t[41]=G,t[42]=Y):Y=t[42],t[43]!==w||t[44]!==a?(K=!a&&s.default.createElement(m.default,{containerClassName:"transaction-shield-page-shield-banner__container",canvasClassName:"transaction-shield-page-shield-banner__canvas",isInactive:w}),t[43]=w,t[44]=a,t[45]=K):K=t[45],t[46]!==W||t[47]!==Y||t[48]!==K||t[49]!==L?(q=s.default.createElement(r.Box,{"data-theme":L,className:W,alignItems:r.BoxAlignItems.Center,justifyContent:r.BoxJustifyContent.Between},Y,K),t[46]=W,t[47]=Y,t[48]=K,t[49]=L,t[50]=q):q=t[50],q}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/membership-header.tsx"}],[8011,{"../../../../hooks/subscription/useSubscriptionPricing":7209,"../../../../hooks/useI18nContext":7235,"../../../shield-plan/utils":8025,"@metamask/design-system-react":1807,"@metamask/subscription-controller":2932,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("@metamask/subscription-controller"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../hooks/subscription/useSubscriptionPricing"),c=e("../../../shield-plan/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(14),{subscriptionPricing:a,handlePaymentError:u}=e,m=(0,i.useI18nContext)(),p=(0,l.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,a);let f;if(t[0]!==p||t[1]!==m){e:{const e=null==p?void 0:p.find(d);if(!e){f="";break e}const a=`$${(0,c.getProductPrice)(e)}`;let n;t[3]!==m||t[4]!==a?(n=m("shieldPlanMonthlyPrice",[a]),t[3]=m,t[4]=a,t[5]=n):n=t[5],f=n}t[0]=p,t[1]=m,t[2]=f}else f=t[2];const g=f;let h,_,E;return t[6]!==u?(h=()=>{u()},t[6]=u,t[7]=h):h=t[7],t[8]!==g||t[9]!==m?(_=m("shieldTxMembershipRenewDescription",[g]),t[8]=g,t[9]=m,t[10]=_):_=t[10],t[11]!==h||t[12]!==_?(E=s.default.createElement(r.Button,{"data-testid":"shield-detail-renew-button",className:"w-full",variant:r.ButtonVariant.Secondary,onClick:h},_),t[11]=h,t[12]=_,t[13]=E):E=t[13],E};function d(e){return e.interval===o.RECURRING_INTERVALS.month}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/components/reactivate-button.tsx"}],[8012,{"./transaction-shield":8019},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./transaction-shield"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/index.ts"}],[8013,{"./manage-shield-plan":8014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./manage-shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/manage-shield-plan/index.ts"}],[8014,{"../../../../../shared/constants/subscriptions":5809,"../../../../../shared/lib/shield":5891,"../../../../components/app/api-error-handler":5974,"../../../../components/app/modals/add-funds-modal":6127,"../../../../components/ui/loading-screen":6965,"../../../../helpers/constants/routes":7088,"../../../../hooks/subscription/useHandlePayment":7207,"../../../../hooks/subscription/useSubscription":7208,"../../../../hooks/subscription/useSubscriptionPricing":7209,"../../../../hooks/useI18nContext":7235,"../../../asset/util":7306,"../components":8008,"../components/cancel-membership-modal":8006,"../components/crypto-account-display":8007,"../payment-method-row":8017,"../types":8020,"@metamask/design-system-react":1807,"@metamask/subscription-controller":2932,react:5256,"react-compiler-runtime":5170,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/design-system-react"),o=e("@metamask/subscription-controller"),i=e("react-router-dom"),l=e("../../../../hooks/useI18nContext"),c=e("../components"),u=e("../../../../hooks/subscription/useSubscription"),d=x(e("../components/cancel-membership-modal")),m=x(e("../../../../components/app/api-error-handler")),p=e("../../../../../shared/constants/subscriptions"),f=x(e("../../../../components/ui/loading-screen")),g=e("../../../asset/util"),h=e("../payment-method-row"),_=e("../../../../hooks/subscription/useSubscriptionPricing"),E=e("../../../../hooks/subscription/useHandlePayment"),y=e("../../../../../shared/lib/shield"),b=e("../types"),S=x(e("../../../../components/app/modals/add-funds-modal")),T=e("../../../../helpers/constants/routes"),v=x(e("../components/crypto-account-display"));function x(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(81),{isPastPlan:a}=e,x=a!==undefined&&a,C=(0,l.useI18nContext)(),k=(0,i.useNavigate)(),[w,I]=(0,s.useState)(!1),{subscriptions:M,lastSubscription:N,loading:D,error:R}=(0,u.useUserSubscriptions)(),A=(0,u.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,M),P=(0,u.useUserLastSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,N),O=x?P:A??P;let B;t[0]===Symbol.for("react.memo_cache_sentinel")?(B={refetch:!0},t[0]=B):B=t[0];const{subscriptionPricing:L,loading:F,error:U}=(0,_.useSubscriptionPricing)(B),j=(null==O?void 0:O.status)===o.SUBSCRIPTION_STATUSES.canceled;let W;t[1]!==M?(W=(0,y.getIsShieldSubscriptionPaused)(M),t[1]=M,t[2]=W):W=t[2];const V=W,$=j||V;let z;t[3]!==M?(z=(0,y.getIsShieldSubscriptionEndingSoon)(M),t[3]=M,t[4]=z):z=t[4];const H=z,G=!j&&A&&!(null!=A&&A.cancelAtPeriodEnd);let Y;t[5]!==(null==O?void 0:O.paymentMethod)?(Y=(null==O?void 0:O.paymentMethod)&&(0,b.isCryptoPaymentMethod)(null==O?void 0:O.paymentMethod),t[5]=null==O?void 0:O.paymentMethod,t[6]=Y):Y=t[6];const K=Y;let q;t[7]!==O?(q=O&&(0,b.isCardPaymentMethod)(O.paymentMethod),t[7]=O,t[8]=q):q=t[8];const J=q,X=j??!1;let Q,Z;t[9]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>I(!0),t[9]=Q):Q=t[9],t[10]!==A||t[11]!==O||t[12]!==L||t[13]!==M||t[14]!==X?(Z={currentShieldSubscription:A,displayedShieldSubscription:O,subscriptions:M,isCancelled:X,subscriptionPricing:L,onOpenAddFundsModal:Q},t[10]=A,t[11]=O,t[12]=L,t[13]=M,t[14]=X,t[15]=Z):Z=t[15];const{handlePaymentError:ee,handlePaymentErrorInsufficientFunds:te,handlePaymentMethodChange:ae,isUnexpectedErrorCryptoPayment:ne,hasAvailableSelectedTokenToTriggerCheckInsufficientFunds:se,currentToken:re,resultTriggerSubscriptionCheckInsufficientFunds:oe,updateSubscriptionCardPaymentMethodResult:ie,updateSubscriptionCryptoPaymentMethodResult:le}=(0,E.useHandlePayment)(Z),[ce,ue]=(0,s.useState)(!1),[de,me]=(0,u.useCancelSubscription)(A),[pe,fe]=(0,u.useUnCancelSubscription)(A),[ge,he]=(0,u.useOpenGetSubscriptionBillingPortal)(O),_e=D||F||he.pending||fe.pending||me.pending||ie.pending||le.pending||oe.pending,Ee=R||U||he.error||fe.error||me.error||ie.error||le.error||oe.error;let ye;e:{if(!O){ye="";break e}const e=(null==O?void 0:O.interval)===o.RECURRING_INTERVALS.year;if(x){let a;t[16]!==e||t[17]!==C?(a=C(e?"shieldPlanYearly":"shieldPlanMonthly"),t[16]=e,t[17]=C,t[18]=a):a=t[18],ye=a;break e}let a;t[19]!==(null==O?void 0:O.currentPeriodEnd)||t[20]!==e||t[21]!==C?(a=C("shieldTxDetails2Description",[C(e?"shieldPlanYearly":"shieldPlanMonthly"),(0,g.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodEnd))]),t[19]=null==O?void 0:O.currentPeriodEnd,t[20]=e,t[21]=C,t[22]=a):a=t[22],ye=a}const be=ye;if(!_e&&Ee){let e;return t[23]!==Ee?(e=s.default.createElement(r.Box,{className:"transaction-shield-page w-full","data-testid":"transaction-shield-page",padding:4},s.default.createElement(m.default,{className:"transaction-shield-page__error-content mx-auto",error:Ee,location:p.ShieldUnexpectedErrorEventLocationEnum.TransactionShieldTab})),t[23]=Ee,t[24]=e):e=t[24],e}const Se=K??!1,Te=J??!1;let ve,xe,Ce,ke,we,Ie,Me,Ne,De,Re,Ae;return t[25]!==A||t[26]!==ee||t[27]!==V||t[28]!==H||t[29]!==Se||t[30]!==Te?(ve=s.default.createElement(c.MembershipErrorBanner,{isPaused:V,isCryptoPayment:Se,isCardPayment:Te,isSubscriptionEndingSoon:H,currentShieldSubscription:A,onActionButtonClick:ee}),t[25]=A,t[26]=ee,t[27]=V,t[28]=H,t[29]=Se,t[30]=Te,t[31]=ve):ve=t[31],t[32]!==be||t[33]!==O||t[34]!==ge||t[35]!==ee||t[36]!==te||t[37]!==ae||t[38]!==se||t[39]!==x||t[40]!==V||t[41]!==ne||t[42]!==k||t[43]!==L||t[44]!==C?(xe=O&&s.default.createElement(c.ButtonRowContainer,null,x&&s.default.createElement(c.ButtonRow,{title:C("shieldTxDetails1Title"),description:`${(0,g.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodStart))} - ${(0,g.getShortDateFormatterV2)().format(new Date(null==O?void 0:O.currentPeriodEnd))}`}),s.default.createElement(c.ButtonRow,{title:C("shieldTxDetails2Title"),description:be}),s.default.createElement(h.PaymentMethodRow,{displayedShieldSubscription:O,subscriptionPricing:L,onPaymentMethodChange:ae,isCheckSubscriptionInsufficientFundsDisabled:!se,handlePaymentErrorInsufficientFunds:te,isPaused:V,isUnexpectedErrorCryptoPayment:ne,handlePaymentError:ee}),(0,b.isCryptoPaymentMethod)(O.paymentMethod)&&s.default.createElement(c.ButtonRow,{title:C("shieldTxBillingAccount"),description:s.default.createElement(v.default,{payerAddress:O.paymentMethod.crypto.payerAddress,chainId:O.paymentMethod.crypto.chainId})}),!x&&(null==O?void 0:O.status)!==o.SUBSCRIPTION_STATUSES.provisional&&s.default.createElement(s.default.Fragment,null,s.default.createElement(r.Box,{className:"transaction-shield-page__divider my-4"},s.default.createElement(r.Box,{className:"border-t border-muted w-full h-px"})),s.default.createElement(c.ButtonRow,{"data-testid":"shield-detail-view-billing-history-button",title:C("shieldTxMembershipBillingDetailsViewBillingHistory"),onClick:()=>{ge()}})),x&&(null==O?void 0:O.isEligibleForSupport)&&s.default.createElement(s.default.Fragment,null,s.default.createElement(r.Box,{className:"transaction-shield-page__divider my-4"},s.default.createElement(r.Box,{className:"border-t border-muted w-full h-px"})),s.default.createElement(c.ButtonRow,{"data-testid":"shield-detail-submit-case-button",title:C("shieldTxMembershipMakeClaim"),onClick:()=>{k(T.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}}))),t[32]=be,t[33]=O,t[34]=ge,t[35]=ee,t[36]=te,t[37]=ae,t[38]=se,t[39]=x,t[40]=V,t[41]=ne,t[42]=k,t[43]=L,t[44]=C,t[45]=xe):xe=t[45],t[46]!==xe?(Ce=s.default.createElement(r.Box,{className:"flex-1"},xe),t[46]=xe,t[47]=Ce):Ce=t[47],t[48]!==(null==A?void 0:A.cancelAtPeriodEnd)||t[49]!==pe||t[50]!==$||t[51]!==C?(ke=!$&&(null==A?void 0:A.cancelAtPeriodEnd)&&s.default.createElement(r.Button,{"data-testid":"shield-tx-membership-uncancel-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{pe()}},C("shieldTxMembershipResubscribe")),t[48]=null==A?void 0:A.cancelAtPeriodEnd,t[49]=pe,t[50]=$,t[51]=C,t[52]=ke):ke=t[52],t[53]!==ge||t[54]!==j||t[55]!==C?(we=j&&s.default.createElement(r.Button,{"data-testid":"shield-detail-view-billing-history-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{ge()}},C("shieldTxViewPastInvoice")),t[53]=ge,t[54]=j,t[55]=C,t[56]=we):we=t[56],t[57]!==G||t[58]!==C?(Ie=G&&s.default.createElement(r.Button,{"data-testid":"shield-tx-membership-cancel-button",variant:r.ButtonVariant.Secondary,className:"w-full",onClick:()=>{ue(!0)}},C("shieldTxMembershipCancel")),t[57]=G,t[58]=C,t[59]=Ie):Ie=t[59],t[60]!==ke||t[61]!==we||t[62]!==Ie?(Me=s.default.createElement(r.Box,{className:"p-4"},ke,we,Ie),t[60]=ke,t[61]=we,t[62]=Ie,t[63]=Me):Me=t[63],t[64]!==_e?(Ne=_e&&s.default.createElement(f.default,null),t[64]=_e,t[65]=Ne):Ne=t[65],t[66]!==A||t[67]!==de||t[68]!==ce?(De=A&&ce&&s.default.createElement(d.default,{onClose:()=>ue(!1),onConfirm:async()=>{ue(!1),await de()},subscription:A}),t[66]=A,t[67]=de,t[68]=ce,t[69]=De):De=t[69],t[70]!==A||t[71]!==re||t[72]!==w?(Re=re&&w&&A&&(0,b.isCryptoPaymentMethod)(A.paymentMethod)&&s.default.createElement(S.default,{onClose:()=>{I(!1)},token:re,chainId:A.paymentMethod.crypto.chainId,payerAddress:A.paymentMethod.crypto.payerAddress}),t[70]=A,t[71]=re,t[72]=w,t[73]=Re):Re=t[73],t[74]!==ve||t[75]!==Ce||t[76]!==Me||t[77]!==Ne||t[78]!==De||t[79]!==Re?(Ae=s.default.createElement(r.Box,{className:"manage-plan-page w-full h-full flex flex-col","data-testid":"manage-plan-page"},ve,Ce,Me,Ne,De,Re),t[74]=ve,t[75]=Ce,t[76]=Me,t[77]=Ne,t[78]=De,t[79]=Re,t[80]=Ae):Ae=t[80],Ae}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/manage-shield-plan/manage-shield-plan.tsx"}],[8015,{"./network-selector":8016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./network-selector"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/index.ts"}],[8016,{"../../../../../shared/modules/selectors/networks":5934,"../../../../components/component-library":6529,"../../../../components/multichain/network-list-item":6778,"../../../../helpers/constants/design-system":7083,"../../../../selectors/multichain":8103,"../../../../selectors/shield/claims":8116,"@metamask/design-system-react":1807,classnames:4117,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),i=e("@metamask/design-system-react"),l=(n=e("classnames"))&&n.__esModule?n:{default:n},c=e("../../../../components/component-library"),u=e("../../../../../shared/modules/selectors/networks"),d=e("../../../../components/multichain/network-list-item"),m=e("../../../../selectors/multichain"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../selectors/shield/claims");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,s.c)(41),{label:a,modalTitle:n,onNetworkSelect:g,selectedChainId:h,disabled:_}=e,E=_!==undefined&&_,[y,b]=(0,r.useState)(!1),S=(0,o.useSelector)(u.getNetworkConfigurationsByChainId),T=(0,o.useSelector)(f.getSupportedNetworksForClaim);let v;t[0]!==S||t[1]!==T?(v=Object.values(S).filter(e=>T.includes(e.chainId)),t[0]=S,t[1]=T,t[2]=v):v=t[2];const x=v;let C;t[3]!==x||t[4]!==h?(C=x.find(e=>e.chainId===h),t[3]=x,t[4]=h,t[5]=C):C=t[5];const k=C;let w,I,M,N,D,R,A,P,O,B,L,F,U,j,W;return t[6]!==E?(w=(0,l.default)("mb-2",{"opacity-50":E}),t[6]=E,t[7]=w):w=t[7],t[8]!==a||t[9]!==w?(I=r.default.createElement(i.Text,{variant:i.TextVariant.BodyMd,fontWeight:i.FontWeight.Medium,className:w},a),t[8]=a,t[9]=w,t[10]=I):I=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(M=()=>b(!0),t[11]=M):M=t[11],t[12]!==n||t[13]!==k?(N=k?r.default.createElement(r.default.Fragment,null,r.default.createElement(i.AvatarNetwork,{src:(0,m.getImageForChainId)(k.chainId),alt:k.name,size:i.AvatarNetworkSize.Sm}),r.default.createElement(i.Text,null,k.name)):r.default.createElement(i.Text,{color:i.TextColor.TextAlternative},n),t[12]=n,t[13]=k,t[14]=N):N=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(D=r.default.createElement(i.Icon,{className:"ml-auto",size:i.IconSize.Sm,color:i.IconColor.IconDefault,name:i.IconName.ArrowDown}),t[15]=D):D=t[15],t[16]!==E||t[17]!==N?(R=r.default.createElement("button",{"data-testid":"network-selector-button",disabled:E},N,D),t[16]=E,t[17]=N,t[18]=R):R=t[18],t[19]!==n||t[20]!==R?(A=r.default.createElement(i.Box,{asChild:!0,borderColor:i.BoxBorderColor.BorderDefault,className:"w-full flex items-center gap-2 px-4 h-12 border rounded-lg",onClick:M,"aria-label":n},R),t[19]=n,t[20]=R,t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(P=()=>b(!1),t[22]=P):P=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(O=r.default.createElement(c.ModalOverlay,null),t[23]=O):O=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(B=()=>b(!1),t[24]=B):B=t[24],t[25]!==n?(L=r.default.createElement(c.ModalHeader,{onClose:B},n),t[25]=n,t[26]=L):L=t[26],t[27]!==x||t[28]!==g||t[29]!==h?(F=r.default.createElement(c.ModalBody,{paddingRight:0,paddingLeft:0},r.default.createElement(i.Box,{className:"flex flex-col w-full"},x.map(e=>{const{name:t,chainId:a}=e;return r.default.createElement(d.NetworkListItem,{key:a,name:t,selected:h===a,onClick:()=>{g(a),b(!1)},iconSrc:(0,m.getImageForChainId)(a),iconSize:i.IconSize.Sm,focus:!1,chainId:a,variant:p.TextVariant.bodyMdMedium})}))),t[27]=x,t[28]=g,t[29]=h,t[30]=F):F=t[30],t[31]!==L||t[32]!==F?(U=r.default.createElement(c.ModalContent,{size:c.ModalContentSize.Sm},L,F),t[31]=L,t[32]=F,t[33]=U):U=t[33],t[34]!==y||t[35]!==U?(j=r.default.createElement(c.Modal,{isOpen:y,isClosedOnEscapeKey:!0,isClosedOnOutsideClick:!0,onClose:P,className:"network-selector-modal","data-testid":"network-selector-modal"},O,U),t[34]=y,t[35]=U,t[36]=j):j=t[36],t[37]!==A||t[38]!==j||t[39]!==I?(W=r.default.createElement(i.Box,null,I,A,j),t[37]=A,t[38]=j,t[39]=I,t[40]=W):W=t[40],W}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/network-selector/network-selector.tsx"}],[8017,{"../../../../shared/lib/shield":5891,"../../../components/ui/tooltip":7020,"../../../hooks/subscription/useSubscriptionPricing":7209,"../../../hooks/useI18nContext":7235,"../../shield-plan/shield-payment-modal":8022,"./components":8008,"./types":8020,"@metamask/design-system-react":1807,"@metamask/subscription-controller":2932,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.PaymentMethodRow=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/subscription-controller"),o=e("@metamask/design-system-react"),i=e("../../../hooks/useI18nContext"),l=e("../../../hooks/subscription/useSubscriptionPricing"),c=(n=e("../../../components/ui/tooltip"))&&n.__esModule?n:{default:n},u=e("../../shield-plan/shield-payment-modal"),d=e("../../../../shared/lib/shield"),m=e("./types"),p=e("./components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a.PaymentMethodRow=({displayedShieldSubscription:e,subscriptionPricing:t,onPaymentMethodChange:a,showSkeletonLoader:n=!1,isCheckSubscriptionInsufficientFundsDisabled:f,isPaused:g,isUnexpectedErrorCryptoPayment:h,handlePaymentError:_,handlePaymentErrorInsufficientFunds:E})=>{const y=(0,i.useI18nContext)(),[b,S]=(0,s.useState)(!1),T=(0,s.useMemo)(()=>!!e&&(0,d.getIsShieldSubscriptionCanChangePaymentMethodToCard)(e),[e]),v=(0,s.useMemo)(()=>!!e&&(0,d.getIsShieldSubscriptionEndingSoon)(e),[e]),x=(0,l.useSubscriptionPaymentMethods)(r.PAYMENT_TYPES.byCrypto,t),C=(0,l.useSubscriptionProductPlans)(r.PRODUCT_TYPES.SHIELD,t),k=(0,s.useMemo)(()=>e&&C?C.find(t=>t.interval===e.interval):undefined,[C,e]),{availableTokenBalances:w}=(0,l.useAvailableTokenBalances)({paymentChains:null==x?void 0:x.chains,price:k,productType:r.PRODUCT_TYPES.SHIELD}),I=(0,s.useMemo)(()=>{if(!e||!(0,m.isCryptoPaymentMethod)(e.paymentMethod))return w;const t=e.paymentMethod;return w.filter(e=>{var a,n;return(null===(a=e.address)||void 0===a?void 0:a.toLocaleLowerCase())!==(null===(n=t.crypto.tokenAddress)||void 0===n?void 0:n.toLocaleLowerCase())||e.chainId.toLowerCase()!==t.crypto.chainId.toLowerCase()})},[w,e]),M=I.length>0,N=e&&(0,m.isCryptoPaymentMethod)(e.paymentMethod)&&e.paymentMethod.crypto.error===r.CRYPTO_PAYMENT_METHOD_ERRORS.INSUFFICIENT_BALANCE,D=(0,s.useMemo)(()=>{const e=(null==x?void 0:x.chains)??[];return[...new Set(e.flatMap(e=>e.tokens.map(e=>e.symbol)))]},[null==x?void 0:x.chains]),R=(0,s.useMemo)(()=>e?e.paymentMethod.type:r.PAYMENT_TYPES.byCard,[e]),A=(0,s.useMemo)(()=>{if(!e)return I[0];if((0,m.isCryptoPaymentMethod)(e.paymentMethod)){const t=e.paymentMethod.crypto;return I.find(e=>e.symbol===t.tokenSymbol&&e.chainId===t.chainId)||I[0]}return I[0]},[e,I]),P=(0,s.useCallback)(()=>{S(!1)},[]),O=(0,s.useCallback)(e=>{e===r.PAYMENT_TYPES.byCard&&a(e)},[a]),B=(0,s.useCallback)(e=>{a(r.PAYMENT_TYPES.byCrypto,e),S(!1)},[a]),L=(0,s.useMemo)(()=>e&&(0,m.isCryptoPaymentMethod)(e.paymentMethod),[e]),F=(0,s.useMemo)(()=>{if(!e||!L)return y("shieldPlanCard");const{tokenSymbol:t}=e.paymentMethod.crypto;return y("shieldTxDetails3DescriptionCrypto",[t])},[e,L,y]),U=(0,s.useCallback)(e=>s.default.createElement(o.Box,{className:"flex items-center gap-1"},s.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},F),s.default.createElement(o.Icon,{name:o.IconName.Warning,size:o.IconSize.Lg,color:e})),[F]),j=(0,s.useMemo)(()=>{if(!e)return!1;const{status:t}=e;return t===r.SUBSCRIPTION_STATUSES.canceled||t===r.SUBSCRIPTION_STATUSES.provisional},[e]),W=(0,s.useMemo)(()=>{if(!e)return"";const t=y("shieldTxDetails3Title");if(g&&!h){const e=L?"shieldTxMembershipErrorPausedCryptoTooltip":"shieldTxMembershipErrorPausedCardTooltip",a=L&&N?E:_,n=L&&N&&f;return s.default.createElement(c.default,{position:"top",title:y(e)},s.default.createElement(p.ButtonRow,{title:t,description:U(o.IconColor.ErrorDefault),descriptionClassName:"text-error-default",endAccessory:!n&&s.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:a},y(L&&N?"addFunds":"update"))}))}return v?s.default.createElement(p.ButtonRow,{title:t,description:U(o.IconColor.WarningDefault),endAccessory:s.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:_},y("shieldTxMembershipRenew"))}):s.default.createElement(p.ButtonRow,{title:t,description:F,descriptionTestId:"shield-detail-payment-method",endAccessory:L&&!j?s.default.createElement(o.Button,{"data-testid":"shield-detail-payment-method-button",variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,onClick:()=>S(!0)},y("update")):undefined})},[e,y,g,h,v,F,L,j,N,E,_,f,U]);return n?s.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,fontWeight:o.FontWeight.Medium},"-"):g&&!h||v?s.default.createElement(s.default.Fragment,null,W):s.default.createElement(s.default.Fragment,null,s.default.createElement(o.Box,null,W),s.default.createElement(u.ShieldPaymentModal,{disableCardOption:!T,isOpen:b,onClose:P,selectedPaymentMethod:R,setSelectedPaymentMethod:O,availableTokenBalances:I,selectedToken:A,onAssetChange:B,hasStableTokenWithBalance:M,tokensSupported:D}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/payment-method-row.tsx"}],[8018,{"../../../contexts/rive-wasm":7041,"@metamask/design-system-react":1807,"@rive-app/react-canvas":3194,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@rive-app/react-canvas"),o=e("@metamask/design-system-react"),i=e("../../../contexts/rive-wasm");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(25),{containerClassName:a,canvasClassName:l,isInactive:d}=e,m=d!==undefined&&d,p=(0,i.useRiveWasmContext)(),{isWasmReady:f,error:g}=p,{buffer:h,error:_,loading:E}=(0,i.useRiveWasmFile)("./images/riv_animations/shield_banner.riv");let y,b,S;t[0]!==_||t[1]!==g?(y=()=>{g&&console.error("[Rive] Failed to load WASM:",g),_&&console.error("[Rive] Failed to load buffer:",_)},b=[g,_],t[0]=_,t[1]=g,t[2]=y,t[3]=b):(y=t[2],b=t[3]),(0,s.useEffect)(y,b),t[4]!==h?(S={buffer:h},t[4]=h,t[5]=S):S=t[5];const{riveFile:T,status:v}=(0,r.useRiveFile)(S),x=T??undefined,C=T?"shield_banner_illustration":undefined;let k,w;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=new r.Layout({fit:r.Fit.Contain,alignment:r.Alignment.Center}),t[6]=k):k=t[6],t[7]!==x||t[8]!==C?(w={riveFile:x,stateMachines:C,autoplay:!1,layout:k},t[7]=x,t[8]=C,t[9]=w):w=t[9];const{rive:I,RiveComponent:M}=(0,r.useRive)(w);let N,D,R,A;if(t[10]!==h||t[11]!==E||t[12]!==m||t[13]!==f||t[14]!==I?(D=()=>{if(I&&f&&!E&&h){const e=I.stateMachineInputs("shield_banner_illustration");if(e){const t=e.find(c);t&&(t.value=m);const a=e.find(u);a&&a.fire(),I.play()}}},N=[I,f,E,h,m],t[10]=h,t[11]=E,t[12]=m,t[13]=f,t[14]=I,t[15]=N,t[16]=D):(N=t[15],D=t[16]),(0,s.useEffect)(D,N),!f||E||!h||"loading"===v||"failed"===v){let e;return t[17]!==a?(e=s.default.createElement(o.Box,{className:a}),t[17]=a,t[18]=e):e=t[18],e}return t[19]!==M||t[20]!==l?(R=s.default.createElement(M,{className:l}),t[19]=M,t[20]=l,t[21]=R):R=t[21],t[22]!==a||t[23]!==R?(A=s.default.createElement(o.Box,{className:a},R),t[22]=a,t[23]=R,t[24]=A):A=t[24],A};function c(e){return"Dark"===e.name}function u(e){return"Start"===e.name}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/shield-banner-animation.tsx"}],[8019,{"../../../../shared/constants/subscriptions":5809,"../../../../shared/constants/time":5812,"../../../../shared/lib/shield":5891,"../../../components/app/api-error-handler":5974,"../../../components/app/modals/add-funds-modal/add-funds-modal":6126,"../../../components/app/rewards/onboarding/OnboardingModal":6258,"../../../components/component-library/skeleton":6575,"../../../components/ui/loading-screen":6965,"../../../ducks/locale/locale":7066,"../../../ducks/rewards":7071,"../../../helpers/constants/common":7081,"../../../helpers/constants/routes":7088,"../../../hooks/shield/metrics/useSubscriptionMetrics":7194,"../../../hooks/subscription/useHandlePayment":7207,"../../../hooks/subscription/useSubscription":7208,"../../../hooks/subscription/useSubscriptionPricing":7209,"../../../hooks/useFormatters":7231,"../../../hooks/useI18nContext":7235,"../../../hooks/useTimeout":7266,"../../../store/actions":8127,"../../asset/util":7306,"../../shield-plan/utils":8025,"./components":8008,"./components/crypto-account-display":8007,"./components/reactivate-button":8011,"./types":8020,"@metamask/design-system-react":1807,"@metamask/subscription-controller":2932,loglevel:4846,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("@metamask/subscription-controller"),r=e("react-router-dom"),o=e("@metamask/design-system-react"),i=e("react-redux"),l=O(e("loglevel")),c=e("../../../components/component-library/skeleton"),u=e("../../../hooks/useI18nContext"),d=e("../../../hooks/subscription/useSubscription"),m=e("../../asset/util"),p=e("../../../helpers/constants/routes"),f=e("../../../helpers/constants/common"),g=e("../../shield-plan/utils"),h=e("../../../hooks/useFormatters"),_=O(e("../../../components/ui/loading-screen")),E=O(e("../../../components/app/modals/add-funds-modal/add-funds-modal")),y=e("../../../hooks/subscription/useSubscriptionPricing"),b=O(e("../../../components/app/rewards/onboarding/OnboardingModal")),S=e("../../../../shared/lib/shield"),T=e("../../../hooks/useTimeout"),v=e("../../../../shared/constants/time"),x=e("../../../hooks/shield/metrics/useSubscriptionMetrics"),C=e("../../../../shared/constants/subscriptions"),k=O(e("../../../components/app/api-error-handler")),w=e("../../../hooks/subscription/useHandlePayment"),I=e("../../../ducks/rewards"),M=e("../../../ducks/locale/locale"),N=e("../../../store/actions"),D=e("./types"),R=e("./components"),A=O(e("./components/reactivate-button")),P=O(e("./components/crypto-account-display"));function O(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,u.useI18nContext)(),t=(0,i.useSelector)(M.getIntlLocale),a=(0,i.useDispatch)(),O=(0,r.useNavigate)(),{search:B}=(0,r.useLocation)(),{captureShieldCtaClickedEvent:L}=(0,x.useSubscriptionMetrics)(),F=(0,n.useMemo)(()=>"true"===new URLSearchParams(B).get("waitForSubscriptionCreation"),[B]),{formatCurrency:U}=(0,h.useFormatters)(),{customerId:j,subscriptions:W,lastSubscription:V,loading:$,error:z}=(0,d.useUserSubscriptions)({refetch:!F}),H=(0,d.useUserSubscriptionByProduct)(s.PRODUCT_TYPES.SHIELD,W),G=(0,d.useUserLastSubscriptionByProduct)(s.PRODUCT_TYPES.SHIELD,V),Y=H??G,[K,q]=(0,n.useState)(!1);(0,n.useEffect)(()=>()=>{q(!0)},[]),(0,n.useEffect)(()=>{H&&q(!0)},[H]);const J=(0,T.useTimeout)(()=>{K||O(p.DEFAULT_ROUTE)},v.MINUTE,!1);(0,n.useEffect)(()=>{F&&(null==J||J())},[F,J]);const{subscriptionPricing:X,loading:Q,error:Z}=(0,y.useSubscriptionPricing)({refetch:!0}),ee=(null==Y?void 0:Y.status)===s.SUBSCRIPTION_STATUSES.canceled,te=(0,S.getIsShieldSubscriptionPaused)(W),ae=(0,S.getIsShieldSubscriptionTrialing)(W),ne=ee||te,se=(0,S.getIsShieldSubscriptionEndingSoon)(W),re=(null==Y?void 0:Y.paymentMethod)&&(0,D.isCryptoPaymentMethod)(null==Y?void 0:Y.paymentMethod),oe=(0,n.useMemo)(()=>null==Y?void 0:Y.products.find(e=>e.name===s.PRODUCT_TYPES.SHIELD),[Y]),{pointsMonthly:ie,pointsYearly:le,isRewardsSeason:ce,hasAccountOptedIn:ue,pending:de}=(0,d.useShieldRewards)(),me=ue||Boolean(null==Y?void 0:Y.rewardAccountId),pe=F&&!H||$||Q||de;(0,n.useEffect)(()=>{F||Y||O({pathname:p.SHIELD_PLAN_ROUTE,search:`?source=${C.ShieldMetricsSourceEnum.Settings}`})},[F,O,Y]);const[fe,ge]=(0,n.useState)(!1),he=(0,n.useCallback)(()=>{a((0,I.setOnboardingModalOpen)(!0))},[a]),_e=(0,n.useMemo)(()=>(null==Y?void 0:Y.interval)===s.RECURRING_INTERVALS.year?le:ie,[le,ie,null==Y?void 0:Y.interval]),Ee=(0,n.useMemo)(()=>_e&&ce?new Intl.NumberFormat(t).format(_e):"",[_e,ce,t]),ye=(0,n.useMemo)(()=>{if(!ae||null==Y||!Y.trialEnd)return"";const e=new Date,t=new Date(Y.trialEnd),a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/864e5).toString()},[Y,ae]),be=(0,n.useMemo)(()=>{if(!Y||!oe)return"";const t=Y.interval===s.RECURRING_INTERVALS.year,a=(0,D.isCryptoPaymentMethod)(Y.paymentMethod)?`${(0,g.getProductPrice)(oe)} ${Y.paymentMethod.crypto.tokenSymbol}`:U((0,g.getProductPrice)(oe),null==oe?void 0:oe.currency.toUpperCase(),{maximumFractionDigits:2,minimumFractionDigits:0});return e(t?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[a])},[Y,oe,e,U]),Se=(0,n.useMemo)(()=>Y?ae?e("shieldTxDetails1DescriptionTrial",[ye,be]):be:"",[Y,ae,e,ye,be]),Te=(0,n.useMemo)(()=>Y?(0,D.isCryptoPaymentMethod)(Y.paymentMethod)?n.default.createElement(o.Text,{asChild:!0,variant:o.TextVariant.BodySm,color:o.TextColor.TextAlternative,className:"flex items-center gap-1","data-testid":"shield-detail-payment-method"},e("shieldTxDetails3DescriptionCryptoWithAccount",[Y.paymentMethod.crypto.tokenSymbol,n.default.createElement(P.default,{key:"crypto-account-display",payerAddress:Y.paymentMethod.crypto.payerAddress,chainId:Y.paymentMethod.crypto.chainId,showIcon:!1})])):e("shieldPlanCard"):"",[Y,e]),ve=(0,n.useCallback)(async(e,t)=>{try{await a((0,N.linkRewardToShieldSubscription)(e,t))}catch(e){l.default.warn("Failed to link reward to shield subscription",e)}},[a]),xe=H&&(0,D.isCardPaymentMethod)(H.paymentMethod),{handlePaymentError:Ce,resultTriggerSubscriptionCheckInsufficientFunds:ke,updateSubscriptionCardPaymentMethodResult:we,updateSubscriptionCryptoPaymentMethodResult:Ie,currentToken:Me}=(0,w.useHandlePayment)({currentShieldSubscription:H,displayedShieldSubscription:Y,subscriptions:W,isCancelled:ee??!1,subscriptionPricing:X,onOpenAddFundsModal:()=>ge(!0)}),Ne=z||Z||we.error||Ie.error||ke.error,De=we.pending||Ie.pending||ke.pending,Re=(0,n.useCallback)(()=>{window.open(f.TRANSACTION_SHIELD_LINK,"_blank","noopener noreferrer"),L({source:C.ShieldMetricsSourceEnum.Settings,ctaActionClicked:C.ShieldCtaActionClickedEnum.ViewFullBenefits,redirectToUrl:f.TRANSACTION_SHIELD_LINK})},[L]),Ae=(0,n.useMemo)(()=>ee?null:pe?n.default.createElement(c.Skeleton,{width:80,height:40}):me?null==Y||!Y.id||!_e||null!=Y&&Y.rewardAccountId?null:n.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,textProps:{variant:o.TextVariant.BodySm},onClick:async()=>ve(null==Y?void 0:Y.id,_e)},e("shieldTxMembershipBenefits3LinkRewards")):n.default.createElement(o.Button,{variant:o.ButtonVariant.Secondary,size:o.ButtonSize.Md,textProps:{variant:o.TextVariant.BodySm},onClick:()=>{he()}},e("shieldTxMembershipBenefits3SignUp")),[ee,pe,me,null==Y?void 0:Y.id,null==Y?void 0:Y.rewardAccountId,_e,e,he,ve]);return!De&&Ne?n.default.createElement(o.Box,{className:"transaction-shield-page w-full","data-testid":"transaction-shield-page"},n.default.createElement(k.default,{className:"transaction-shield-page__error-content mx-auto",error:Ne,location:C.ShieldUnexpectedErrorEventLocationEnum.TransactionShieldTab})):n.default.createElement(o.Box,{className:"transaction-shield-page flex flex-col w-full","data-testid":"transaction-shield-page"},(null==H?void 0:H.cancelAtPeriodEnd)&&n.default.createElement(o.Box,{className:"transaction-shield-page__notification-banner flex items-center px-4 py-1 gap-2 mb-4",backgroundColor:o.BoxBackgroundColor.WarningMuted},n.default.createElement(o.Icon,{name:o.IconName.Info,size:o.IconSize.Lg}),n.default.createElement(o.Text,{variant:o.TextVariant.BodySm},e("shieldTxMembershipCancelNotification",[(0,m.getShortDateFormatterV2)().format(new Date(H.currentPeriodEnd))]))),n.default.createElement(R.MembershipErrorBanner,{isPaused:te,isCryptoPayment:re??!1,isCardPayment:xe??!1,isSubscriptionEndingSoon:se,currentShieldSubscription:H,onActionButtonClick:Ce}),n.default.createElement(o.Box,{className:"transaction-shield-page__container mb-4"},n.default.createElement(R.MembershipHeader,{className:"mb-4",showSkeletonLoader:pe,isTrialing:ae,isPaused:te,isCancelled:ee,customerId:j,startDate:null==Y?void 0:Y.currentPeriodStart,endDate:null==Y?void 0:Y.currentPeriodEnd,trialDaysLeft:ye,cancelledDate:null==Y?void 0:Y.canceledAt}),Y&&!ee&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e("shieldTxDetailsTitle")),pe?n.default.createElement(c.Skeleton,{width:"30%",height:20}):n.default.createElement(o.TextButton,{"data-testid":"shield-detail-manage-plan-button",className:"text-text-alternative hover:text-text-alternative hover:decoration-text-alternative hover:bg-transparent",endIconName:o.IconName.ArrowRight,endIconProps:{size:o.IconSize.Sm,color:o.IconColor.IconAlternative},onClick:()=>{O(p.TRANSACTION_SHIELD_MANAGE_PLAN_ROUTE)}},e("shieldTxDetailsManage"))),n.default.createElement(R.ButtonRowContainer,null,n.default.createElement(R.ButtonRow,{startIconName:o.IconName.SecurityTick,title:e("shieldTxDetails1Title"),description:Se,descriptionTestId:"shield-detail-charges",loading:pe}),n.default.createElement(R.ButtonRow,{startIconName:o.IconName.Calendar,title:e("shieldTxDetails2Title"),description:e("shieldTxDetails2Description",[(null==Y?void 0:Y.interval)===s.RECURRING_INTERVALS.year?e("shieldPlanYearly"):e("shieldPlanMonthly"),(0,m.getShortDateFormatterV2)().format(new Date(null==Y?void 0:Y.currentPeriodEnd))]),descriptionTestId:"shield-detail-next-billing",loading:pe}),n.default.createElement(R.ButtonRow,{startIconName:o.IconName.Card,title:e("shieldTxDetails3Title"),description:Te,descriptionTestId:"shield-detail-payment-method",loading:pe}))),n.default.createElement(o.Box,{className:"transaction-shield-page__divider my-4"},n.default.createElement(o.Box,{className:"border-t border-muted w-full h-px"}))),n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e(ne?"shieldTxMembershipBenefitsInactive":"shieldTxMembershipBenefits")),pe?n.default.createElement(c.Skeleton,{width:"30%",height:20}):n.default.createElement(o.TextButton,{"data-testid":"shield-detail-view-benefits-button",className:"text-text-alternative hover:text-text-alternative hover:decoration-text-alternative hover:bg-transparent",endIconName:o.IconName.ArrowRight,endIconProps:{size:o.IconSize.Sm,color:o.IconColor.IconAlternative},onClick:()=>{Re()}},e("shieldTxMembershipBenefitsViewAll"))),n.default.createElement(R.ButtonRowContainer,null,n.default.createElement(R.ButtonRow,{startIconName:o.IconName.Cash,title:e("shieldTxMembershipBenefits1Title",["$10,000"]),description:e("shieldTxMembershipBenefits1Description"),loading:pe}),n.default.createElement(R.ButtonRow,{startIconName:o.IconName.Sms,title:e("shieldTxMembershipBenefits2Title"),description:e("shieldTxMembershipBenefits2Description"),loading:pe}),n.default.createElement(R.ButtonRow,{startIconName:o.IconName.MetamaskFoxOutline,title:e("shieldTxMembershipBenefits3Title"),description:e(ne?"shieldTxMembershipBenefits3DescriptionInactive":"shieldTxMembershipBenefits3Description",[Ee||"",(null==Y?void 0:Y.interval)||""]),loading:pe,endAccessory:Ae}))),!ee&&(null==Y?void 0:Y.isEligibleForSupport)&&n.default.createElement(o.Box,{className:"px-4 mt-4"},pe?n.default.createElement(c.Skeleton,{width:"100%",height:40}):n.default.createElement(o.Button,{"data-testid":"shield-detail-submit-case-button",className:"w-full",variant:o.ButtonVariant.Secondary,onClick:()=>{O(p.TRANSACTION_SHIELD_CLAIM_ROUTES.BASE)}},e("shieldTxMembershipSubmitCase"))),ee&&n.default.createElement(o.Box,{className:"px-4 mt-4"},pe?n.default.createElement(c.Skeleton,{width:"100%",height:40}):n.default.createElement(A.default,{subscriptionPricing:X,handlePaymentError:Ce})),ee&&G&&n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Box,{className:"border-t border-muted my-4 w-full h-px"}),n.default.createElement(o.Box,null,n.default.createElement(o.Box,{className:"flex items-center justify-between gap-2 px-4 mb-2"},pe?n.default.createElement(c.Skeleton,{width:"40%",height:20}):n.default.createElement(o.Text,{variant:o.TextVariant.HeadingSm},e("shieldTxPastPlans"))),n.default.createElement(R.ButtonRowContainer,null,n.default.createElement(R.ButtonRow,{title:G.interval===s.RECURRING_INTERVALS.year?e("shieldTxPastPlansYearly"):e("shieldTxPastPlansMonthly"),description:`${(0,m.getShortDateFormatterV2)().format(new Date(G.currentPeriodStart))} - ${(0,m.getShortDateFormatterV2)().format(new Date(G.currentPeriodEnd))}`,loading:pe,onClick:()=>{O(p.TRANSACTION_SHIELD_MANAGE_PAST_PLAN_ROUTE)}}))))),De&&n.default.createElement(_.default,null),Me&&fe&&H&&(0,D.isCryptoPaymentMethod)(H.paymentMethod)&&n.default.createElement(E.default,{onClose:()=>{ge(!1)},token:Me,chainId:H.paymentMethod.crypto.chainId,payerAddress:H.paymentMethod.crypto.payerAddress}),n.default.createElement(b.default,{rewardPoints:_e??undefined,shieldSubscriptionId:null==Y?void 0:Y.id}))}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/transaction-shield.tsx"}],[8020,{"@metamask/subscription-controller":2932},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SUBMIT_CLAIM_FIELDS=a.SUBMIT_CLAIM_ERROR_CODES=a.SHIELD_ICON_ARTBOARD_NAMES=a.CLAIMS_TAB_KEYS=a.CLAIMS_FORM_MODES=void 0,a.isCardPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCard},a.isCryptoPaymentMethod=function(e){return e.type===n.PAYMENT_TYPES.byCrypto};var n=e("@metamask/subscription-controller");a.SUBMIT_CLAIM_FIELDS={CHAIN_ID:"chainId",EMAIL:"email",IMPACTED_WALLET_ADDRESS:"impactedWalletAddress",IMPACTED_TRANSACTION_HASH:"impactedTxHash",REIMBURSEMENT_WALLET_ADDRESS:"reimbursementWalletAddress",CASE_DESCRIPTION:"caseDescription",FILES:"files"},a.SUBMIT_CLAIM_ERROR_CODES={INTERNAL_SERVER_ERROR:"E001",VALIDATION_ERROR:"E002",RESOURCE_NOT_FOUND:"E003",DATABASE_FAILED:"E004",COVERAGE_API_NOT_CONFIGURED:"E101",TRANSACTION_NOT_ELIGIBLE:"E102",SUBMISSION_WINDOW_EXPIRED:"E103",TRANSACTION_NOT_COVERED:"E104",COVERAGE_VALIDATION_FAILED:"E105",SIGNATURE_COVERAGE_NOT_COVERED:"E106",CLAIM_VALIDATION_FAILED:"E201",MAX_CLAIMS_LIMIT_EXCEEDED:"E202",DUPLICATE_CLAIM_EXISTS:"E203",INVALID_WALLET_ADDRESSES:"E204",SIGNATURE_VERIFICATION_FAILED:"E205",FIELD_REQUIRED:"E250",FIELD_IS_NOT_STRING:"E251",FIELD_IS_NOT_NUMBER:"E252",FIELD_IS_NOT_OBJECT:"E253",FIELD_INVALID_EMAIL:"E254",FIELD_INVALID_UUID:"E255",FIELD_INVALID_TYPE:"E256",FIELD_INVALID_VALUE:"E257",FIELD_INVALID_FORMAT:"E258",FIELD_INVALID_ETHEREUM_ADDRESS:"E259",FILES_SIZE_EXCEEDED:"E301",FILES_COUNT_EXCEEDED:"E302",INVALID_FILES_TYPE:"E303",CHAIN_NOT_SUPPORTED:"E401",TRANSACTION_NOT_FOUND:"E402",TRANSACTION_NOT_FROM_WALLET_ADDRESS:"E403",TRANSACTION_NOT_SUCCESSFUL:"E404"},a.SHIELD_ICON_ARTBOARD_NAMES={PROTECTION:"Protection",PRIORITY:"Priority"},a.CLAIMS_TAB_KEYS={PENDING:"pending",HISTORY:"history"},a.CLAIMS_FORM_MODES={NEW:"new",EDIT_DRAFT:"edit-draft",VIEW:"view"}}}},{package:"$root$",file:"ui/pages/settings/transaction-shield-tab/types.ts"}],[8021,{"./shield-plan":8023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./shield-plan"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/shield-plan/index.ts"}],[8022,{"../../../shared/constants/network":5795,"../../../shared/constants/subscriptions":5809,"../../components/component-library":6529,"../../components/multichain/asset-picker-amount/asset-picker-modal":6693,"../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6690,"../../helpers/constants/design-system":7083,"../../hooks/useI18nContext":7235,"@metamask/subscription-controller":2932,classnames:4117,react:5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldPaymentModal=void 0;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=(n=e("classnames"))&&n.__esModule?n:{default:n},o=e("@metamask/subscription-controller"),i=e("../../components/component-library"),l=e("../../helpers/constants/design-system"),c=e("../../components/multichain/asset-picker-amount/asset-picker-modal"),u=e("../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),d=e("../../hooks/useI18nContext"),m=e("../../../shared/constants/network"),p=e("../../../shared/constants/subscriptions");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a.ShieldPaymentModal=({isOpen:e,onClose:t,selectedPaymentMethod:a,setSelectedPaymentMethod:n,availableTokenBalances:f,selectedToken:g,onAssetChange:h,hasStableTokenWithBalance:_,tokensSupported:E,disableCardOption:y})=>{const b=(0,d.useI18nContext)(),[S,T]=(0,s.useState)(!1),v=(0,s.useMemo)(()=>f.length>1,[f]),x=(0,s.useCallback)(e=>{if(n(e),e===o.PAYMENT_TYPES.byCrypto){if(v)return void T(!0);h(f[0])}t()},[n,t,v,h,f]),C=(0,s.useMemo)(()=>function*(e){for(const t of f)e(t.symbol,t.address,t.chainId)&&(yield t)},[f]),k=(0,s.useMemo)(()=>[...E].map(e=>s.default.createElement(i.BadgeWrapper,{key:e,badge:s.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:m.NETWORK_TO_NAME_MAP[m.CHAIN_IDS.MAINNET],src:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[m.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},s.default.createElement(i.AvatarToken,{name:e,src:p.SUPPORTED_PAYMENT_TOKEN_IMAGES[e],size:i.AvatarTokenSize.Sm}))),[E]);return s.default.createElement(i.Modal,{isOpen:e,onClose:()=>undefined,className:"shield-payment-modal","data-testid":"shield-payment-modal"},s.default.createElement(i.ModalOverlay,null),s.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},s.default.createElement(i.ModalHeader,{onClose:t},b("shieldPlanPaymentTitle")),s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full},s.default.createElement(i.Box,{"data-testid":"shield-payment-method-token-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCrypto}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCrypto?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>{x(o.PAYMENT_TYPES.byCrypto)},disabled:!_},a===o.PAYMENT_TYPES.byCrypto&&s.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},_?s.default.createElement(i.BadgeWrapper,{badge:s.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:m.NETWORK_TO_NAME_MAP[m.CHAIN_IDS.MAINNET],src:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[m.CHAIN_IDS.MAINNET],borderColor:l.BorderColor.borderMuted})},s.default.createElement(i.AvatarToken,{name:null==g?void 0:g.symbol,src:null==g?void 0:g.image,marginTop:1,borderColor:l.BorderColor.borderMuted})):s.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Coin}),s.default.createElement(i.Box,{textAlign:l.TextAlign.Left},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},b("shieldPlanPayWithToken",[_?(null==g?void 0:g.symbol)??"":"crypto"])),s.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},_?`${b("balance")}: ${(null==g?void 0:g.string)??""} ${(null==g?void 0:g.symbol)??""}`:s.default.createElement(i.Box,{display:l.Display.Flex,gap:2},k)))),_&&v&&s.default.createElement(i.Icon,{size:i.IconSize.Md,name:i.IconName.ArrowDown}))),!y&&s.default.createElement(i.Box,{"data-testid":"shield-payment-method-card-button",as:"button",className:(0,r.default)("payment-method-item",{"payment-method-item--selected":a===o.PAYMENT_TYPES.byCard}),padding:4,gap:4,backgroundColor:a===o.PAYMENT_TYPES.byCard?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,onClick:()=>x(o.PAYMENT_TYPES.byCard)},a===o.PAYMENT_TYPES.byCard&&s.default.createElement(i.Box,{className:"payment-method-item__selected-indicator",borderRadius:l.BorderRadius.pill,backgroundColor:l.BackgroundColor.primaryDefault}),s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},s.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:4},s.default.createElement(i.Icon,{size:i.IconSize.Xl,name:i.IconName.Card}),s.default.createElement(i.Box,{textAlign:l.TextAlign.Left},s.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},b("shieldPlanPayWithCard")),s.default.createElement(i.Box,{display:l.Display.Flex,gap:1,alignItems:l.AlignItems.center},s.default.createElement("img",{src:"./images/card-mc.svg",alt:"Mastercard"}),s.default.createElement("img",{src:"./images/card-visa.svg",alt:"Visa"}),s.default.createElement("img",{src:"./images/card-amex.svg",alt:"American Express"}))))))),s.default.createElement(c.AssetPickerModal,{isOpen:S,onClose:()=>{T(!1)},asset:g,onAssetChange:e=>{h(e),T(!1),t()},header:b("shieldPlanSelectToken"),autoFocus:!1,visibleTabs:[u.TabName.TOKENS],customTokenListGenerator:C,hideSearch:!0})))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-payment-modal.tsx"}],[8023,{"../../../shared/constants/network":5795,"../../../shared/constants/subscriptions":5809,"../../../shared/modules/shield":5941,"../../components/app/api-error-handler":5974,"../../components/app/rewards/RewardsBadge":6252,"../../components/component-library":6529,"../../components/multichain/pages/page":6863,"../../components/ui/loading-screen":6965,"../../ducks/locale/locale":7066,"../../helpers/constants/design-system":7083,"../../helpers/constants/routes":7088,"../../hooks/subscription/useSubscription":7208,"../../hooks/subscription/useSubscriptionPricing":7209,"../../hooks/useI18nContext":7235,"../../selectors/subscription":8123,"../../store/actions":8127,"./shield-payment-modal":8022,"./shield-rewards-modal":8024,"./utils":8025,"@metamask/design-system-react":1807,"@metamask/subscription-controller":2932,classnames:4117,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=M(e("classnames")),o=e("@metamask/subscription-controller"),i=e("react-redux"),l=e("react-router-dom"),c=e("@metamask/design-system-react"),u=e("../../../shared/constants/network"),d=e("../../components/component-library"),m=e("../../components/multichain/pages/page"),p=M(e("../../components/ui/loading-screen")),f=e("../../helpers/constants/design-system"),g=e("../../helpers/constants/routes"),h=e("../../hooks/subscription/useSubscriptionPricing"),_=e("../../hooks/subscription/useSubscription"),E=e("../../hooks/useI18nContext"),y=e("../../selectors/subscription"),b=e("../../../shared/constants/subscriptions"),S=e("../../../shared/modules/shield"),T=M(e("../../components/app/api-error-handler")),v=e("../../store/actions"),x=e("../../components/app/rewards/RewardsBadge"),C=e("../../ducks/locale/locale"),k=e("./shield-payment-modal"),w=e("./shield-rewards-modal"),I=e("./utils");function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D.apply(null,arguments)}a.default=()=>{var e,t;const a=(0,n.c)(125),M=(0,l.useNavigate)(),{search:N}=(0,l.useLocation)(),R=(0,i.useSelector)(C.getIntlLocale),B=(0,E.useI18nContext)(),L=(0,i.useDispatch)(),F=(0,i.useSelector)(y.getLastUsedShieldSubscriptionPaymentDetails),{isRewardsSeason:U,pointsMonthly:j,pointsYearly:W,pending:V}=(0,_.useShieldRewards)(),[$,z]=(0,s.useState)((null==F?void 0:F.useTestClock)??!1);let H;a[0]===Symbol.for("react.memo_cache_sentinel")?(H=(0,S.isDevOrUatBuild)()||(0,S.isDevOrTestEnvironment)(),a[0]=H):H=a[0];const G=H;let Y;a[1]===Symbol.for("react.memo_cache_sentinel")?(Y={refetch:!0},a[1]=Y):Y=a[1];const{subscriptions:K,trialedProducts:q,loading:J,error:X}=(0,_.useUserSubscriptions)(Y),Q=(0,_.useUserSubscriptionByProduct)(o.PRODUCT_TYPES.SHIELD,K);let Z;a[2]!==q?(Z=(0,S.getIsTrialedSubscription)(q,o.PRODUCT_TYPES.SHIELD),a[2]=q,a[3]=Z):Z=a[3];const ee=Z;let te,ae;a[4]!==M||a[5]!==Q?(te=()=>{Q&&M(g.TRANSACTION_SHIELD_ROUTE)},ae=[M,Q],a[4]=M,a[5]=Q,a[6]=te,a[7]=ae):(te=a[6],ae=a[7]),(0,s.useEffect)(te,ae);const[ne,se]=(0,s.useState)((null==F?void 0:F.plan)||o.RECURRING_INTERVALS.year);let re;a[8]===Symbol.for("react.memo_cache_sentinel")?(re={refetch:!0},a[8]=re):re=a[8];const{subscriptionPricing:oe,loading:ie,error:le}=(0,h.useSubscriptionPricing)(re),ce=(0,h.useSubscriptionProductPlans)(o.PRODUCT_TYPES.SHIELD,oe),ue=(0,h.useSubscriptionPaymentMethods)("crypto",oe);let de;a[9]!==ce||a[10]!==ne?(de=null==ce?void 0:ce.find(e=>e.interval===ne),a[9]=ce,a[10]=ne,a[11]=de):de=a[11];const me=de,pe=null==ue?void 0:ue.chains;let fe;a[12]!==me||a[13]!==pe?(fe={paymentChains:pe,price:me,productType:o.PRODUCT_TYPES.SHIELD},a[12]=me,a[13]=pe,a[14]=fe):fe=a[14];const{availableTokenBalances:ge,pending:he,error:_e}=(0,h.useAvailableTokenBalances)(fe),Ee=ge.length>0;let ye;a[15]!==Ee||a[16]!==F?(ye=()=>Ee?null!=F&&F.type?F.type:o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard,a[15]=Ee,a[16]=F,a[17]=ye):ye=a[17];const[be,Se]=(0,s.useState)(ye),Te=ge.length>0?o.PAYMENT_TYPES.byCrypto:o.PAYMENT_TYPES.byCard,ve=(null===(e=ge[0])||void 0===e?void 0:e.symbol)||"USD",xe=null===(t=ge[0])||void 0===t?void 0:t.chainId;let Ce;a[18]!==ve||a[19]!==Te||a[20]!==xe?(Ce={defaultPaymentType:Te,defaultPaymentCurrency:ve,defaultBillingInterval:o.RECURRING_INTERVALS.year,defaultPaymentChain:xe},a[18]=ve,a[19]=Te,a[20]=xe,a[21]=Ce):Ce=a[21];const ke=Ce;let we;a[22]!==ge[0]?(we=()=>ge[0],a[22]=ge[0],a[23]=we):we=a[23];const[Ie,Me]=(0,s.useState)(we);let Ne,De,Re,Ae;a[24]!==ge||a[25]!==(null==F?void 0:F.paymentTokenAddress)||a[26]!==(null==F?void 0:F.plan)||a[27]!==(null==F?void 0:F.type)||a[28]!==he||a[29]!==ne||a[30]!==Ie?(Ne=()=>{if(he||Ie||0===ge.length)return;const e=null==F?void 0:F.paymentTokenAddress,t=null==F?void 0:F.type,a=null==F?void 0:F.plan;let n=ge[0];e&&t===o.PAYMENT_TYPES.byCrypto&&a===ne&&(n=ge.find(t=>t.address===e)||ge[0]),Me(n)},a[24]=ge,a[25]=null==F?void 0:F.paymentTokenAddress,a[26]=null==F?void 0:F.plan,a[27]=null==F?void 0:F.type,a[28]=he,a[29]=ne,a[30]=Ie,a[31]=Ne):Ne=a[31],a[32]!==ge||a[33]!==F||a[34]!==he||a[35]!==ne||a[36]!==Ie?(De=[he,ge,Ie,Me,F,ne],a[32]=ge,a[33]=F,a[34]=he,a[35]=ne,a[36]=Ie,a[37]=De):De=a[37],(0,s.useEffect)(Ne,De),a[38]===Symbol.for("react.memo_cache_sentinel")?(Re=()=>{Me(undefined)},a[38]=Re):Re=a[38],a[39]!==ne?(Ae=[ne,Me],a[39]=ne,a[40]=Ae):Ae=a[40],(0,s.useEffect)(Re,Ae);const Pe=null==Ie?void 0:Ie.address;let Oe,Be,Le,Fe;if(a[41]!==(null==F?void 0:F.type)||a[42]!==Pe?(Oe=()=>{const e=null==F?void 0:F.type;Pe&&e!==o.PAYMENT_TYPES.byCard?Se(o.PAYMENT_TYPES.byCrypto):Se(o.PAYMENT_TYPES.byCard)},a[41]=null==F?void 0:F.type,a[42]=Pe,a[43]=Oe):Oe=a[43],a[44]!==F||a[45]!==Pe?(Be=[Pe,Se,F],a[44]=F,a[45]=Pe,a[46]=Be):Be=a[46],(0,s.useEffect)(Oe,Be),null==ue||ue.chains,a[47]!==(null==ue?void 0:ue.chains)){const e=(null==ue?void 0:ue.chains)??[];Le=new Set(e.flatMap(A)),a[47]=null==ue?void 0:ue.chains,a[48]=Le}else Le=a[48];a[49]!==Le?(Fe=[...Le],a[49]=Le,a[50]=Fe):Fe=a[50];const Ue=Fe,je=ne===o.RECURRING_INTERVALS.year?W:j,We=je??undefined;let Ve;a[51]!==ke||a[52]!==$||a[53]!==ee||a[54]!==be||a[55]!==ne||a[56]!==Ie||a[57]!==We?(Ve={selectedPaymentMethod:be,selectedToken:Ie,selectedPlan:ne,defaultOptions:ke,isTrialed:ee,useTestClock:$,rewardPoints:We},a[51]=ke,a[52]=$,a[53]=ee,a[54]=be,a[55]=ne,a[56]=Ie,a[57]=We,a[58]=Ve):Ve=a[58];const{handleSubscription:$e,subscriptionResult:ze}=(0,_.useHandleSubscription)(Ve);let He;a[59]!==L||a[60]!==$||a[61]!==ne?(He=async e=>{Me(e),await L((0,v.setLastUsedSubscriptionPaymentDetails)(o.PRODUCT_TYPES.SHIELD,{type:o.PAYMENT_TYPES.byCrypto,paymentTokenAddress:e.address,paymentTokenSymbol:e.symbol,plan:ne,useTestClock:$}))},a[59]=L,a[60]=$,a[61]=ne,a[62]=He):He=a[62];const Ge=He,Ye=J||ie||ze.pending||V,Ke=X||le||_e||ze.error;let qe;a[63]!==ce||a[64]!==be||a[65]!==B?(qe=(null==ce?void 0:ce.map(e=>{const t=e.interval===o.RECURRING_INTERVALS.year,a=(0,I.getProductPrice)(e);return{id:e.interval,label:t?B("shieldPlanAnnual"):`${B("shieldPlanMonthly")}${be===o.PAYMENT_TYPES.byCrypto?"*":""}`,price:B(t?"shieldPlanAnnualPrice":"shieldPlanMonthlyPrice",[`$${a}`])}}).sort(P))??[],a[63]=ce,a[64]=be,a[65]=B,a[66]=qe):qe=a[66];const Je=qe;let Xe;if(a[67]!==ee||a[68]!==(null==me?void 0:me.trialPeriodDays)||a[69]!==B){if(Xe=[],!ee){const e=(null==me?void 0:me.trialPeriodDays)??b.SUBSCRIPTION_DEFAULT_TRIAL_PERIOD_DAYS;let t;a[71]!==B||a[72]!==e?(t=B("shieldPlanDetails1",[e]),a[71]=B,a[72]=e,a[73]=t):t=a[73],Xe.push(t)}let e,t;a[74]!==B?(e=B("shieldPlanDetails2",["$10k"]),a[74]=B,a[75]=e):e=a[75],Xe.push(e),a[76]!==B?(t=B("shieldPlanDetails3"),a[76]=B,a[77]=t):t=a[77],Xe.push(t),a[67]=ee,a[68]=null==me?void 0:me.trialPeriodDays,a[69]=B,a[70]=Xe}else Xe=a[70];const Qe=Xe;let Ze;if(a[78]!==je||a[79]!==R||a[80]!==ne||a[81]!==B){e:{const e=ne===o.RECURRING_INTERVALS.year?B("year"):B("month");if(!je){Ze="";break e}const t=new Intl.NumberFormat(R).format(je);Ze=B("shieldPlanDetailsRewards",[t,e])}a[78]=je,a[79]=R,a[80]=ne,a[81]=B,a[82]=Ze}else Ze=a[82];const et=Ze,[tt,at]=(0,s.useState)(!1),[nt,st]=(0,s.useState)(!1);let rt;a[83]!==M||a[84]!==N?(rt=()=>{const e=new URLSearchParams(N).get("source");e===b.ShieldMetricsSourceEnum.Settings?M(g.SETTINGS_ROUTE,{replace:!0}):e===b.ShieldMetricsSourceEnum.ShieldSettings?M(g.TRANSACTION_SHIELD_ROUTE,{replace:!0}):M(g.DEFAULT_ROUTE,{replace:!0})},a[83]=M,a[84]=N,a[85]=rt):rt=a[85];const ot=rt;let it;a[86]===Symbol.for("react.memo_cache_sentinel")?(it={display:f.Display.Flex,justifyContent:f.JustifyContent.spaceBetween,alignItems:f.AlignItems.center,backgroundColor:f.BackgroundColor.backgroundSection,padding:4},a[86]=it):it=a[86];const lt=it;let ct,ut,dt,mt,pt,ft,gt,ht;return a[87]===Symbol.for("react.memo_cache_sentinel")?(ct={variant:f.TextVariant.headingSm},a[87]=ct):ct=a[87],a[88]!==B?(ut=B("back"),a[88]=B,a[89]=ut):ut=a[89],a[90]!==ot||a[91]!==ut?(dt=s.default.createElement(d.ButtonIcon,{size:d.ButtonIconSize.Md,ariaLabel:ut,iconName:d.IconName.ArrowLeft,onClick:ot,"data-testid":"shield-plan-back-button"}),a[90]=ot,a[91]=ut,a[92]=dt):dt=a[92],a[93]!==B?(mt=B("shieldPlanTitle"),a[93]=B,a[94]=mt):mt=a[94],a[95]!==dt||a[96]!==mt?(pt=s.default.createElement(m.Header,{textProps:ct,startAccessory:dt},mt),a[95]=dt,a[96]=mt,a[97]=pt):pt=a[97],a[98]!==Ke||a[99]!==Ye?(ft=Ye&&!Ke&&s.default.createElement(p.default,null),a[98]=Ke,a[99]=Ye,a[100]=ft):ft=a[100],a[101]!==ge||a[102]!==$||a[103]!==$e||a[104]!==Ge||a[105]!==Ke||a[106]!==Ee||a[107]!==U||a[108]!==Ye||a[109]!==Qe||a[110]!==et||a[111]!==Je||a[112]!==be||a[113]!==ne||a[114]!==Ie||a[115]!==tt||a[116]!==nt||a[117]!==oe||a[118]!==B||a[119]!==Ue?(gt=!Ye&&Ke?s.default.createElement(m.Content,{justifyContent:f.JustifyContent.flexStart,alignItems:f.AlignItems.center},s.default.createElement(T.default,{className:"shield-plan-page__error-content",error:Ke,location:b.ShieldUnexpectedErrorEventLocationEnum.ShieldPlanPage})):oe&&s.default.createElement(s.default.Fragment,null,s.default.createElement(m.Content,null,s.default.createElement(d.Box,{display:f.Display.Grid,gap:2,marginBottom:4,paddingTop:2,className:"shield-plan-page__plans"},Je.map(e=>s.default.createElement(d.Box,D({as:"button",key:e.id},lt,{borderRadius:f.BorderRadius.LG,className:(0,r.default)("shield-plan-page__plan",{"shield-plan-page__plan--selected":e.id===ne}),"data-testid":`shield-plan-${e.label.toLowerCase()}-button`,onClick:()=>se(e.id)}),s.default.createElement("div",{className:"shield-plan-page__radio"}),s.default.createElement(d.Box,{textAlign:f.TextAlign.Left,className:"shield-plan-page__radio-label"},s.default.createElement(d.Text,{variant:f.TextVariant.bodySm},e.label),s.default.createElement(d.Text,{variant:f.TextVariant.headingMd,className:"shield-plan-page__plan-price"},e.price)),e.id===o.RECURRING_INTERVALS.year&&s.default.createElement(d.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,paddingInline:2,borderRadius:f.BorderRadius.SM,className:"shield-plan-page__save-badge"},s.default.createElement(d.Text,{variant:f.TextVariant.bodyXsMedium,color:f.TextColor.iconInverse},B("shieldPlanSave")))))),s.default.createElement(d.Box,{className:"shield-plan-page__group",marginBottom:4},s.default.createElement(d.Box,D({as:"button",className:"shield-plan-page__row"},lt,{onClick:()=>at(!0),width:f.BlockSize.Full}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium},B("shieldPlanPayWith")),s.default.createElement(d.Box,{display:f.Display.Flex,gap:2,alignItems:f.AlignItems.center},be===o.PAYMENT_TYPES.byCrypto&&Ie?s.default.createElement(d.BadgeWrapper,{badge:s.default.createElement(d.AvatarNetwork,{size:d.AvatarNetworkSize.Xs,name:u.NETWORK_TO_NAME_MAP[Ie.chainId],src:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[Ie.chainId],borderColor:f.BorderColor.borderMuted})},s.default.createElement(d.AvatarToken,{name:(null==Ie?void 0:Ie.symbol)||"",src:(null==Ie?void 0:Ie.image)||"",borderColor:f.BorderColor.borderMuted})):s.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Card}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium},be===o.PAYMENT_TYPES.byCrypto?(null==Ie?void 0:Ie.symbol)||"":B("shieldPlanCard")),s.default.createElement(d.Icon,{size:d.IconSize.Md,name:d.IconName.ArrowDown})))),s.default.createElement(d.Box,{className:"shield-plan-page__group"},s.default.createElement(d.Box,D({className:"shield-plan-page__row"},lt,{display:f.Display.Block}),s.default.createElement(d.Text,{variant:f.TextVariant.bodyLgMedium,marginBottom:4},B("shieldPlanDetails")),s.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:2},Qe.map(O),U&&et&&s.default.createElement(d.Box,null,s.default.createElement(x.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:et,onClick:()=>{st(!0)}})))),be===o.PAYMENT_TYPES.byCrypto&&ne===o.RECURRING_INTERVALS.month&&s.default.createElement(d.Text,{variant:f.TextVariant.bodySm,color:f.TextColor.textAlternative,marginTop:4},"* ",B("shieldPlanCryptoMonthlyNote"))),s.default.createElement(k.ShieldPaymentModal,{isOpen:tt,onClose:()=>at(!1),selectedToken:Ie,selectedPaymentMethod:be,hasStableTokenWithBalance:Ee,setSelectedPaymentMethod:Se,onAssetChange:Ge,availableTokenBalances:ge,tokensSupported:Ue}),s.default.createElement(w.ShieldRewardsModal,{isOpen:nt,rewardsText:et,onClose:()=>st(!1)})),s.default.createElement(m.Footer,{className:"shield-plan-page__footer",flexDirection:f.FlexDirection.Column,gap:3,backgroundColor:f.BackgroundColor.backgroundMuted},G&&s.default.createElement(c.Checkbox,{label:"Enable Stripe Test clocks (for development and testing only)",labelProps:{variant:c.TextVariant.BodySm},onChange:()=>z(!$),id:"stripe-test-clocks",isSelected:$}),s.default.createElement(d.Button,{size:d.ButtonSize.Lg,variant:d.ButtonVariant.Primary,block:!0,onClick:$e,"data-testid":"shield-plan-continue-button"},B("continue")),s.default.createElement(d.Text,{variant:f.TextVariant.bodySm,color:f.TextColor.textAlternative,textAlign:f.TextAlign.Center},ne===o.RECURRING_INTERVALS.year?B("shieldPlanFooterNoteYearly"):B("shieldPlanFooterNoteMonthly")))),a[101]=ge,a[102]=$,a[103]=$e,a[104]=Ge,a[105]=Ke,a[106]=Ee,a[107]=U,a[108]=Ye,a[109]=Qe,a[110]=et,a[111]=Je,a[112]=be,a[113]=ne,a[114]=Ie,a[115]=tt,a[116]=nt,a[117]=oe,a[118]=B,a[119]=Ue,a[120]=gt):gt=a[120],a[121]!==pt||a[122]!==ft||a[123]!==gt?(ht=s.default.createElement(m.Page,{className:"shield-plan-page","data-testid":"shield-plan-page"},pt,ft,gt),a[121]=pt,a[122]=ft,a[123]=gt,a[124]=ht):ht=a[124],ht};function R(e){return e.symbol}function A(e){return e.tokens.map(R)}function P(e,t){return e.id===o.RECURRING_INTERVALS.year?-1:1}function O(e,t){return s.default.createElement(d.Box,{key:t,display:f.Display.Flex,gap:2},s.default.createElement(d.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,style:{height:"1lh"}},s.default.createElement(d.Icon,{size:d.IconSize.Sm,name:d.IconName.Check,color:f.IconColor.primaryDefault})),s.default.createElement(d.Text,{variant:f.TextVariant.bodyMd},e))}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-plan.tsx"}],[8024,{"../../components/app/rewards/RewardsBadge":6252,"../../components/component-library":6529,"../../helpers/constants/design-system":7083,"../../hooks/useI18nContext":7235,"@metamask/design-system-react":1807,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ShieldRewardsModal=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("@metamask/design-system-react"),i=e("../../components/component-library"),l=e("../../components/app/rewards/RewardsBadge"),c=e("../../hooks/useI18nContext"),u=e("../../helpers/constants/design-system");a.ShieldRewardsModal=e=>{const t=(0,s.c)(34),{isOpen:a,onClose:n,rewardsText:d}=e,m=(0,c.useI18nContext)();let p,f,g,h,_,E,y,b,S,T,v,x,C,k;return t[0]===Symbol.for("react.memo_cache_sentinel")?(p=r.default.createElement(i.ModalOverlay,null),t[0]=p):p=t[0],t[1]!==m?(f=m("shieldPlanDetailsRewardsTitle"),t[1]=m,t[2]=f):f=t[2],t[3]!==n||t[4]!==f?(g=r.default.createElement(i.ModalHeader,{onClose:n},f),t[3]=n,t[4]=f,t[5]=g):g=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h={width:"auto",height:"170px"},t[6]=h):h=t[6],t[7]!==m?(_=m("shieldPlanDetailsRewardsTitle"),t[7]=m,t[8]=_):_=t[8],t[9]!==_?(E=r.default.createElement("img",{src:"./images/shield-reward.png",style:h,alt:_}),t[9]=_,t[10]=E):E=t[10],t[11]!==d?(y=r.default.createElement(l.RewardsBadge,{boxClassName:"gap-1 px-2 py-0.5 bg-background-muted rounded-lg w-fit",textClassName:"font-medium",withPointsSuffix:!1,formattedPoints:d}),t[11]=d,t[12]=y):y=t[12],t[13]!==m?(b=m("shieldPlanDetailsRewardsDescription"),t[13]=m,t[14]=b):b=t[14],t[15]!==b?(S=r.default.createElement(o.Text,{variant:o.TextVariant.BodyMd,color:o.TextColor.TextAlternative},b),t[15]=b,t[16]=S):S=t[16],t[17]!==m?(T=m("gotIt"),t[17]=m,t[18]=T):T=t[18],t[19]!==n||t[20]!==T?(v=r.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,size:o.ButtonSize.Lg,onClick:n,className:"w-full"},T),t[19]=n,t[20]=T,t[21]=v):v=t[21],t[22]!==v||t[23]!==E||t[24]!==y||t[25]!==S?(x=r.default.createElement(i.ModalBody,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,gap:4},E,y,S,v),t[22]=v,t[23]=E,t[24]=y,t[25]=S,t[26]=x):x=t[26],t[27]!==x||t[28]!==g?(C=r.default.createElement(i.ModalContent,null,g,x),t[27]=x,t[28]=g,t[29]=C):C=t[29],t[30]!==a||t[31]!==n||t[32]!==C?(k=r.default.createElement(i.Modal,{isOpen:a,onClose:n,autoFocus:!1,className:"shield-rewards-modal","data-testid":"shield-rewards-modal"},p,C),t[30]=a,t[31]=n,t[32]=C,t[33]=k):k=t[33],k}}}},{package:"$root$",file:"ui/pages/shield-plan/shield-rewards-modal.tsx"}],[8025,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getProductPrice=function(e){return e.unitAmount/10**e.unitDecimals}}}},{package:"$root$",file:"ui/pages/shield-plan/utils.ts"}],[8026,{"./smart-transaction-status-page":8028},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SmartTransactionStatusPage",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./smart-transaction-status-page"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/index.ts"}],[8027,{"../../../components/component-library":6529,"../../../components/component-library/lottie-animation":6535,"../../../helpers/constants/design-system":7083,"@metamask/smart-transactions-controller":2643,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SmartTransactionStatusAnimation=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("@metamask/smart-transactions-controller"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library/lottie-animation");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const u="images/animations/smart-transaction-status",d={Failed:{path:`${u}/failed.lottie.json`,loop:!1},Confirmed:{path:`${u}/confirmed.lottie.json`,loop:!1},SubmittingIntro:{path:`${u}/submitting-intro.lottie.json`,loop:!1},SubmittingLoop:{path:`${u}/submitting-loop.lottie.json`,loop:!0},Processing:{path:`${u}/processing.lottie.json`,loop:!0}};a.SmartTransactionStatusAnimation=e=>{const t=(0,n.c)(8),{status:a}=e,[c,u]=(0,s.useState)(!0);let m,p;if(a===r.SmartTransactionStatuses.PENDING)m=c?d.SubmittingIntro:d.SubmittingLoop;else e:switch(a){case r.SmartTransactionStatuses.SUCCESS:m=d.Confirmed;break e;case r.SmartTransactionStatuses.REVERTED:case r.SmartTransactionStatuses.UNKNOWN:m=d.Failed;break e;default:m=d.Processing}t[0]!==c||t[1]!==a?(p=()=>{a===r.SmartTransactionStatuses.PENDING&&c&&u(!1)},t[0]=c,t[1]=a,t[2]=p):p=t[2];const f=p;let g,h;return t[3]===Symbol.for("react.memo_cache_sentinel")?(g={width:"96px",height:"96px"},t[3]=g):g=t[3],t[4]!==m.loop||t[5]!==m.path||t[6]!==f?(h=s.default.createElement(o.Box,{display:i.Display.Flex,style:g},s.default.createElement(l.LottieAnimation,{path:m.path,loop:m.loop,autoplay:!0,onComplete:f})),t[4]=m.loop,t[5]=m.path,t[6]=f,t[7]=h):h=t[7],h}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-animation.tsx"}],[8028,{"../../../../shared/constants/notifications":5796,"../../../../shared/constants/urls":5815,"../../../../shared/modules/conversion.utils":5913,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,"../../confirmations/components/simulation-details":7595,"./smart-transaction-status-animation":8027,"@metamask/smart-transactions-controller":2643,react:5256,"react-compiler-runtime":5170,"react-redux":5221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.showRemainingTimeInMinAndSec=a.default=a.SmartTransactionStatusPage=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/smart-transactions-controller"),i=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../../shared/constants/urls"),m=e("../../../store/actions"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../confirmations/components/simulation-details"),g=e("../../../../shared/constants/notifications"),h=e("./smart-transaction-status-animation");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};const E=e=>{const t=(0,n.c)(2),{description:a}=e;if(!a)return null;let r;return t[0]!==a?(r=s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,className:"smart-transaction-status-page__description"},s.default.createElement(i.Text,{marginTop:2,color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},a)),t[0]=a,t[1]=r):r=t[1],r},y=e=>{const t=(0,n.c)(9),{portfolioSmartTransactionStatusUrl:a,isSmartTransactionPending:r,onCloseExtension:o}=e,u=(0,c.useI18nContext)();let d;t[0]!==r||t[1]!==o||t[2]!==a?(d=()=>{if(!a)return;const e=window.innerWidth>g.NOTIFICATION_WIDTH;r&&!e||o(),global.platform.openTab({url:a})},t[0]=r,t[1]=o,t[2]=a,t[3]=d):d=t[3];const m=d;if(!a)return null;let p,f;return t[4]!==u?(p=u("viewTransaction"),t[4]=u,t[5]=p):p=t[5],t[6]!==m||t[7]!==p?(f=s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,marginTop:2},s.default.createElement(i.Button,{type:"link",variant:i.ButtonVariant.Link,onClick:m},p)),t[6]=m,t[7]=p,t[8]=f):f=t[8],f},b=e=>{const t=(0,n.c)(5),{isDapp:a,onCloseExtension:r}=e,o=(0,c.useI18nContext)();if(!a)return null;let u,d;return t[0]!==o?(u=o("closeExtension"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(i.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:l.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},S=e=>{const t=(0,n.c)(4),{isDapp:a,isSmartTransactionPending:r}=e,o=(0,c.useI18nContext)();if(!a||!r)return null;let u,d;return t[0]!==o?(u=o("closeWindowAnytime"),t[0]=o,t[1]=u):u=t[1],t[2]!==u?(d=s.default.createElement(i.Text,{marginTop:2,color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},u),t[2]=u,t[3]=d):d=t[3],d},T=e=>{const t=(0,n.c)(5),{isDapp:a,onViewActivity:r}=e,o=(0,c.useI18nContext)();if(a)return null;let u,d;return t[0]!==o?(u=o("viewActivity"),t[0]=o,t[1]=u):u=t[1],t[2]!==r||t[3]!==u?(d=s.default.createElement(i.ButtonSecondary,{"data-testid":"smart-transaction-status-page-footer-close-button",onClick:r,width:l.BlockSize.Full,marginTop:3},u),t[2]=r,t[3]=u,t[4]=d):d=t[4],d},v=e=>{const t=(0,n.c)(13),{isDapp:a,isSmartTransactionPending:r,onCloseExtension:o,onViewActivity:c}=e;let u,d,m,p;return t[0]!==a||t[1]!==r?(u=s.default.createElement(S,{isDapp:a,isSmartTransactionPending:r}),t[0]=a,t[1]=r,t[2]=u):u=t[2],t[3]!==a||t[4]!==o?(d=s.default.createElement(b,{isDapp:a,onCloseExtension:o}),t[3]=a,t[4]=o,t[5]=d):d=t[5],t[6]!==a||t[7]!==c?(m=s.default.createElement(T,{isDapp:a,onViewActivity:c}),t[6]=a,t[7]=c,t[8]=m):m=t[8],t[9]!==u||t[10]!==d||t[11]!==m?(p=s.default.createElement(i.Box,{className:"smart-transaction-status-page__footer",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,width:l.BlockSize.Full,padding:4,paddingBottom:0},u,d,m),t[9]=u,t[10]=d,t[11]=m,t[12]=p):p=t[12],p},x=e=>{const t=(0,n.c)(2),{title:a}=e;let r;return t[0]!==a?(r=s.default.createElement(i.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h4",fontWeight:l.FontWeight.Bold},a),t[0]=a,t[1]=r):r=t[1],r},C=e=>{var t,a;const g=(0,n.c)(44),{requestState:_,onCloseExtension:b,onViewActivity:S}=e,T=b===undefined?k:b,C=S===undefined?w:S,I=(0,c.useI18nContext)(),M=(0,r.useDispatch)(),{smartTransaction:N,isDapp:D,txId:R}=_,A=!N||N.status===o.SmartTransactionStatuses.PENDING,P=(null==N?void 0:N.status)===o.SmartTransactionStatuses.SUCCESS;let O;var B;g[0]!==(null==N?void 0:N.status)?(O=null==N||null===(B=N.status)||void 0===B?void 0:B.startsWith(o.SmartTransactionStatuses.CANCELLED),g[0]=null==N?void 0:N.status,g[1]=O):O=g[1];const L=Boolean(O),F=null==N?void 0:N.chainId,U=(0,r.useSelector)(e=>(0,u.getFullTxData)(e,R))||{};let j;g[2]!==L||g[3]!==A||g[4]!==P||g[5]!==I?(j=(({t:e,isSmartTransactionPending:t,isSmartTransactionSuccess:a,isSmartTransactionCancelled:n})=>t?{title:e("smartTransactionPending"),iconName:i.IconName.Clock,iconColor:l.IconColor.primaryDefault}:a?{title:e("smartTransactionSuccess"),iconName:i.IconName.Confirmation,iconColor:l.IconColor.successDefault}:n?{title:e("smartTransactionCancelled"),description:e("smartTransactionCancelledDescription"),iconName:i.IconName.Danger,iconColor:l.IconColor.errorDefault}:{title:e("smartTransactionError"),description:e("smartTransactionErrorDescription"),iconName:i.IconName.Danger,iconColor:l.IconColor.errorDefault})({t:I,isSmartTransactionPending:A,isSmartTransactionSuccess:P,isSmartTransactionCancelled:L}),g[2]=L,g[3]=A,g[4]=P,g[5]=I,g[6]=j):j=g[6];const{title:W,description:V}=j;let $,z;g[7]!==M?($=()=>{M((0,m.hideLoadingIndication)())},z=[M],g[7]=M,g[8]=$,g[9]=z):($=g[8],z=g[9]),(0,s.useEffect)($,z);const H=(null===(t=U.simulationData)||void 0===t||null===(t=t.tokenBalanceChanges)||void 0===t?void 0:t.length)>0||(null===(a=U.simulationData)||void 0===a?void 0:a.nativeBalanceChange),G=null==N?void 0:N.uuid;let Y;g[10]!==F||g[11]!==G?(Y=G&&F?`${d.BaseUrl.Portfolio}/networks/${Number((0,p.hexToDecimal)(F))}/smart-transactions/${G}`:undefined,g[10]=F,g[11]=G,g[12]=Y):Y=g[12];const K=Y;let q;g[13]===Symbol.for("react.memo_cache_sentinel")?(q={flexGrow:1},g[13]=q):q=g[13];const J=null==N?void 0:N.status;let X,Q,Z,ee,te,ae;var ne;(g[14]!==J?(X=s.default.createElement(h.SmartTransactionStatusAnimation,{status:J}),g[14]=J,g[15]=X):X=g[15],g[16]!==W?(Q=s.default.createElement(x,{title:W}),g[16]=W,g[17]=Q):Q=g[17],g[18]!==V?(Z=s.default.createElement(E,{description:V}),g[18]=V,g[19]=Z):Z=g[19],g[20]!==A||g[21]!==T||g[22]!==K?(ee=s.default.createElement(y,{portfolioSmartTransactionStatusUrl:K,isSmartTransactionPending:A,onCloseExtension:T}),g[20]=A,g[21]=T,g[22]=K,g[23]=ee):ee=g[23],g[24]!==X||g[25]!==Q||g[26]!==Z||g[27]!==ee?(te=s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,width:l.BlockSize.Full},X,Q,Z,ee),g[24]=X,g[25]=Q,g[26]=Z,g[27]=ee,g[28]=te):te=g[28],g[29]!==H||g[30]!==U||g[31]!==(null==N?void 0:N.status))?(ae=H&&s.default.createElement(i.Box,{width:l.BlockSize.Full},s.default.createElement(f.SimulationDetails,{transaction:U,smartTransactionStatus:null==N||null===(ne=N.status)||void 0===ne?void 0:ne.toLowerCase()})),g[29]=H,g[30]=U,g[31]=null==N?void 0:N.status,g[32]=ae):ae=g[32];let se,re,oe;return g[33]!==te||g[34]!==ae?(se=s.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,width:l.BlockSize.Full,style:q},te,ae),g[33]=te,g[34]=ae,g[35]=se):se=g[35],g[36]!==D||g[37]!==A||g[38]!==T||g[39]!==C?(re=s.default.createElement(v,{isDapp:D,isSmartTransactionPending:A,onCloseExtension:T,onViewActivity:C}),g[36]=D,g[37]=A,g[38]=T,g[39]=C,g[40]=re):re=g[40],g[41]!==se||g[42]!==re?(oe=s.default.createElement(i.Box,{className:"smart-transaction-status-page",height:l.BlockSize.Full,width:l.BlockSize.Full,display:l.Display.Flex,borderStyle:l.BorderStyle.none,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,marginBottom:0},se,re),g[41]=se,g[42]=re,g[43]=oe):oe=g[43],oe};a.SmartTransactionStatusPage=C;a.default=C;function k(){return null}function w(){return null}}}},{package:"$root$",file:"ui/pages/smart-transactions/smart-transaction-status-page/smart-transaction-status-page.tsx"}],[8029,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n},o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");const l=e=>{const t=(0,s.c)(3),{url:a,onSubmit:n}=e;let l;return t[0]!==n||t[1]!==a?(l=r.default.createElement(o.ButtonIcon,{"data-testid":"snap-account-redirect-url-icon",onClick:()=>{global.platform.openTab({url:a}),null==n||n()},iconName:o.IconName.Export,color:i.IconColor.primaryDefault,size:o.ButtonIconSize.Sm,ariaLabel:""}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l};a.default=r.default.memo(l)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[8030,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../hooks/useI18nContext":7235,"./snap-account-redirect-message":8031,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),l=c(e("./snap-account-redirect-message"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(22),{url:a,snapName:c,isBlockedUrl:d,message:m,onSubmit:p}=e,f=(0,i.useI18nContext)();let g,h,_,E,y,b;return t[0]!==f?(g=f("snapAccountRedirectFinishSigningTitle"),t[0]=f,t[1]=g):g=t[1],t[2]!==g?(h=s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:o.TextAlign.Center,variant:o.TextVariant.headingLg,paddingBottom:2},g),t[2]=g,t[3]=h):h=t[3],t[4]!==d||t[5]!==f?(_=d?s.default.createElement(r.Box,{display:o.Display.Flex,paddingLeft:4,paddingRight:4},s.default.createElement(r.BannerAlert,{severity:r.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},s.default.createElement(r.Text,null,f("snapUrlIsBlocked",[s.default.createElement(r.Button,{variant:r.ButtonVariant.Link,size:r.ButtonSize.Inherit,onClick:u,key:"snap-url-is-blocked-learn-more-button"},f("learnMore"))])))):null,t[4]=d,t[5]=f,t[6]=_):_=t[6],t[7]!==d||t[8]!==c||t[9]!==f?(E=!1===d?s.default.createElement(r.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:o.TextAlign.Center,variant:o.TextVariant.bodyMd},f("snapAccountRedirectSiteDescription",[c])):null,t[7]=d,t[8]=c,t[9]=f,t[10]=E):E=t[10],t[11]!==d||t[12]!==m||t[13]!==p||t[14]!==c||t[15]!==a?(y=(a.length>0||m.length>0)&&!1===d?s.default.createElement(l.default,{snapName:c,url:a,message:m,onSubmit:p}):null,t[11]=d,t[12]=m,t[13]=p,t[14]=c,t[15]=a,t[16]=y):y=t[16],t[17]!==h||t[18]!==_||t[19]!==E||t[20]!==y?(b=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,paddingTop:4},s.default.createElement(r.Box,{gap:4,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},h,_,E,y)),t[17]=h,t[18]=_,t[19]=E,t[20]=y,t[21]=b):b=t[21],b};function u(){return global.platform.openTab({url:"https://support.metamask.io/troubleshooting/deceptive-site-ahead-when-trying-to-connect-to-a-site/"})}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[8031,{"../../../components/app/snaps/snap-delineator":6285,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"./url-display-box":8032,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),i=e("../../../components/app/snaps/snap-delineator"),l=c(e("./url-display-box"));function c(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const t=(0,n.c)(9),{snapName:a,url:c,message:u,onSubmit:d}=e;let m,p,f;return t[0]!==u?(m=""!==u?s.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},u):null,t[0]=u,t[1]=m):m=t[1],t[2]!==d||t[3]!==c?(p=c.length>0?s.default.createElement(o.Box,{paddingTop:2,display:r.Display.Flex},s.default.createElement(l.default,{url:c,onSubmit:d})):null,t[2]=d,t[3]=c,t[4]=p):p=t[4],t[5]!==a||t[6]!==m||t[7]!==p?(f=s.default.createElement(i.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:a},m,p),t[5]=a,t[6]=m,t[7]=p,t[8]=f):f=t[8],f};a.default=s.default.memo(u)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[8032,{"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"./redirect-url-icon":8029,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=l(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),i=l(e("./redirect-url-icon"));function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const t=(0,n.c)(8),{url:a,onSubmit:l}=e;let c,u,d;return t[0]!==a?(c=s.default.createElement(o.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:r.TextVariant.bodyMd,color:r.TextColor.primaryDefault},a),t[0]=a,t[1]=c):c=t[1],t[2]!==l||t[3]!==a?(u=s.default.createElement(i.default,{url:a,onSubmit:l}),t[2]=l,t[3]=a,t[4]=u):u=t[4],t[5]!==c||t[6]!==u?(d=s.default.createElement(o.Box,{display:r.Display.InlineFlex,backgroundColor:r.BackgroundColor.backgroundDefault,alignItems:r.AlignItems.center,borderWidth:1,borderRadius:r.BorderRadius.SM,borderColor:r.BorderColor.borderDefault,paddingRight:4},c,u),t[5]=c,t[6]=u,t[7]=d):d=t[7],d};a.default=s.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[8033,{"./snap-account-redirect":8034},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"SnapAccountRedirect",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-account-redirect"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[8034,{"../../components/app/snaps/snap-authorship-header":6280,"../../components/component-library":6529,"../../helpers/constants/design-system":7083,"./components/snap-account-redirect-context":8030,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=c(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),i=c(e("../../components/app/snaps/snap-authorship-header")),l=c(e("./components/snap-account-redirect-context"));function c(e){return e&&e.__esModule?e:{default:e}}a.default=e=>{const t=(0,n.c)(12),{url:a,snapId:c,snapName:u,isBlockedUrl:d,message:m,onSubmit:p}=e;let f,g,h;return t[0]!==c?(f=s.default.createElement(i.default,{snapId:c}),t[0]=c,t[1]=f):f=t[1],t[2]!==d||t[3]!==m||t[4]!==p||t[5]!==c||t[6]!==u||t[7]!==a?(g=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full,padding:4},s.default.createElement(l.default,{url:a,onSubmit:p,snapId:c,snapName:u,isBlockedUrl:d,message:m})),t[2]=d,t[3]=m,t[4]=p,t[5]=c,t[6]=u,t[7]=a,t[8]=g):g=t[8],t[9]!==f||t[10]!==g?(h=s.default.createElement(r.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center},f,g),t[9]=f,t[10]=g,t[11]=h):h=t[11],h}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[8035,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.KeyringSnapRemovalResultStatus=void 0;a.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/constants.ts"}],[8036,{"./snap-view":8038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-view"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/index.js"}],[8037,{"../../../components/app/connected-sites-list":6079,"../../../components/app/snaps/keyring-snap-removal-warning":6273,"../../../components/app/snaps/show-more":6276,"../../../components/app/snaps/snap-authorship-expanded":6278,"../../../components/app/snaps/snap-delineator":6285,"../../../components/app/snaps/snap-permissions-list":6305,"../../../components/app/snaps/snap-remove-warning":6309,"../../../components/app/snaps/snap-update-alert":6397,"../../../components/component-library":6529,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/constants/snaps":7091,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,"../../../store/actions":8127,"./constants":8035,"@metamask/snaps-utils":2903,"prop-types":5094,react:5256,"react-redux":5221,"react-router-dom":5231,semver:5586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),s=e("react-redux"),r=C(e("prop-types")),o=e("react-router-dom"),i=C(e("semver")),l=e("@metamask/snaps-utils"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=C(e("../../../components/app/snaps/snap-authorship-expanded")),m=C(e("../../../components/app/snaps/snap-remove-warning")),p=C(e("../../../components/app/connected-sites-list")),f=C(e("../../../components/app/snaps/keyring-snap-removal-warning")),g=e("../../../store/actions"),h=e("../../../selectors"),_=e("../../../components/component-library"),E=C(e("../../../components/app/snaps/snap-permissions-list")),y=e("../../../components/app/snaps/snap-delineator"),b=e("../../../helpers/constants/snaps"),S=C(e("../../../components/app/snaps/snap-update-alert")),T=e("../../../helpers/constants/routes"),v=e("../../../components/app/snaps/show-more"),x=e("./constants");function C(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}function w({snapId:e,initRemove:t,resetInitRemove:a}){const r=(0,o.useNavigate)(),C=(0,c.useI18nContext)(),k=(0,s.useSelector)(h.getSnaps),w=(0,s.useDispatch)(),I=Object.entries(k).map(([e,t])=>t).find(t=>t.id===e),[M,N]=(0,n.useState)(!1),[D,R]=(0,n.useState)(!1),[A,P]=(0,n.useState)([]),O=(0,s.useSelector)(h.getInternalAccounts),B=(0,s.useSelector)(e=>(0,h.getSubjectsWithSnapPermission)(e,null==I?void 0:I.id)),L=(0,s.useSelector)(e=>I&&(0,h.getPermissions)(e,I.id)),{name:F,description:U}=(0,s.useSelector)(t=>(0,h.getSnapMetadata)(t,e));let j=!1;j=Boolean(null==L?void 0:L.snap_manageAccounts),(0,n.useEffect)(()=>{j&&(async()=>{const e=await(0,g.getSnapAccountsById)(I.id),t=O.filter(t=>e.includes(t.address.toLowerCase()));P(t)})()},[null==I?void 0:I.id,O,j]);const W=(0,s.useSelector)(e=>I?(0,h.getSnapLatestVersion)(e,null==I?void 0:I.id):null),V=!!W&&i.default.gt(W,I.version);return(0,n.useEffect)(()=>{t&&(N(!0),a())},[t,a]),n.default.createElement(_.Box,null,V&&n.default.createElement(S.default,{snapName:F,onUpdateClick:async()=>{const e={[I.id]:{version:W}},t=await w((0,g.updateSnap)("MetaMask",e));t&&r(`${T.CONNECT_ROUTE}/${t}`)},bannerAlertProps:{marginBottom:4}}),n.default.createElement(d.default,{snapId:I.id,snap:I}),n.default.createElement(_.Box,{className:"snap-view__content__description",marginTop:[4,7]},n.default.createElement(y.SnapDelineator,{type:b.DelineatorType.Description,snapName:F},n.default.createElement(v.ShowMore,{buttonBackground:u.BackgroundColor.backgroundDefault},n.default.createElement(_.Text,null,U)))),n.default.createElement(_.Box,{className:"snap-view__content__permissions",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:1},C("permissions")),n.default.createElement(E.default,{snapId:e,snapName:F,permissions:L??{},showOptions:!0,showAllPermissions:!0})),n.default.createElement(_.Box,{className:"snap-view__content__connected-sites",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},B.every(e=>(0,l.isSnapId)(e.origin))?C("connectedSnaps"):B.some(e=>(0,l.isSnapId)(e.origin))?C("connectedSitesAndSnaps"):C("connectedSites")),n.default.createElement(p.default,{connectedSubjects:B,onDisconnect:e=>{var t;t=e,I.id,w((0,g.disconnectOriginFromSnap)(t,I.id))}})),n.default.createElement(_.Box,{className:"snap-view__content__remove",marginTop:12},n.default.createElement(_.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},C("removeSnap")),n.default.createElement(_.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},C("removeSnapDescription")),n.default.createElement(_.Box,{marginTop:4,display:u.Display.Flex,justifyContent:u.JustifyContent.center},n.default.createElement(_.Button,{className:"snap-view__content__remove-button",danger:"true",variant:_.ButtonVariant.Secondary,width:u.BlockSize.Full,size:_.ButtonSize.Lg,onClick:()=>N(!0),"data-testid":"remove-snap-button",disabled:I.preinstalled&&!1===I.removable},n.default.createElement(_.Text,{color:u.TextColor.inherit,variant:u.TextVariant.bodyMd,flexWrap:u.FlexWrap.NoWrap,ellipsis:!0,style:{overflow:"hidden"},paddingTop:3,paddingBottom:3},`${C("remove")} ${F}`)),n.default.createElement(m.default,{isOpen:M&&(!j||0===A.length)&&!D,onCancel:()=>N(!1),onSubmit:async()=>{await w((0,g.removeSnap)(I.id))},snapName:F}),n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{snap:I,keyringAccounts:A,snapUrl:I.url,onCancel:()=>N(!1),onClose:()=>N(!1),onBack:()=>N(!1),onSubmit:async()=>{try{R(!0),await w((0,g.removeSnap)(I.id)),N(!1),w((0,g.showKeyringSnapRemovalModal)({snapName:F,result:x.KeyringSnapRemovalResultStatus.Success}))}catch{N(!1),w((0,g.showKeyringSnapRemovalModal)({snapName:F,result:x.KeyringSnapRemovalResultStatus.Failed}))}finally{R(!1)}},isOpen:M&&j&&A.length>0})))))}w.propTypes={snapId:r.default.string.isRequired,initRemove:r.default.bool,resetInitRemove:r.default.func};a.default=w}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-settings.js"}],[8038,{"../../../components/app/snaps/snap-authorship-header":6280,"../../../components/app/snaps/snap-home-menu":6287,"../../../components/app/snaps/snap-home-page/snap-home-renderer":6289,"../../../components/component-library":6529,"../../../components/multichain/pages/page":6863,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../selectors":8094,"./snap-settings":8037,"@metamask/utils":3116,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("@metamask/utils"),i=e("react-router-dom"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../selectors"),d=e("../../../components/component-library"),m=e("../../../components/multichain/pages/page"),p=_(e("../../../components/app/snaps/snap-authorship-header")),f=_(e("../../../components/app/snaps/snap-home-menu")),g=e("../../../components/app/snaps/snap-home-page/snap-home-renderer"),h=_(e("./snap-settings"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function y(e){const[,t]=e;return t}a.default=function(){const e=(0,n.c)(42),t=(0,i.useNavigate)(),a=(0,i.useLocation)(),{pathname:_}=a;let E;if(e[0]!==_){let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=/[^/]+$/u,e[2]=t):t=e[2],E=_.match(t),e[0]=_,e[1]=E}else E=e[1];const b=decodeURIComponent(E[0]),S=(0,r.useSelector)(u.getSnaps);let T,v;e[3]!==S?(T=Object.entries(S).map(y),e[3]=S,e[4]=T):T=e[4],e[5]!==b||e[6]!==T?(v=T.find(e=>e.id===b),e[5]=b,e[6]=T,e[7]=v):v=e[7];const x=v;let C,k,w;e[8]!==t||e[9]!==x?(C=()=>{x||t(c.SNAPS_ROUTE)},k=[t,x],e[8]=t,e[9]=x,e[10]=C,e[11]=k):(C=e[10],k=e[11]),(0,s.useEffect)(C,k),e[12]!==x?(w=e=>x&&(0,u.getPermissions)(e,x.id),e[12]=x,e[13]=w):w=e[13];const I=(0,r.useSelector)(w);let M;e[14]!==I?(M=I&&(0,o.hasProperty)(I,"endowment:page-home"),e[14]=I,e[15]=M):M=e[15];const N=M,[D,R]=(0,s.useState)(!N),[A,P]=(0,s.useState)(!1);if(!x)return null;let O;e[16]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{R(!0)},e[16]=O):O=e[16];const B=O;let L;e[17]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{P(!0),R(!0)},e[17]=L):L=e[17];const F=L;let U;e[18]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{P(!1)},e[18]=U):U=e[18];const j=U;let W;if(e[19]!==N||e[20]!==t||e[21]!==D||e[22]!==x.hidden||e[23]!==x.preinstalled){const a=()=>{x.preinstalled&&x.hidden?t(c.DEFAULT_ROUTE):D&&N?R(!1):t(c.SNAPS_ROUTE)};W=()=>s.default.createElement(d.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},s.default.createElement(d.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:d.ButtonIconSize.Md,onClick:a})),e[19]=N,e[20]=t,e[21]=D,e[22]=x.hidden,e[23]=x.preinstalled,e[24]=W}else W=e[24];const V=W;let $;e[25]!==V||e[26]!==x.hidden||e[27]!==x.hideSnapBranding||e[28]!==x.preinstalled||e[29]!==b?($=!x.hideSnapBranding&&s.default.createElement(p.default,{snapId:b,showInfo:!1,startAccessory:V(),endAccessory:!x.hidden&&s.default.createElement(f.default,{snapId:b,onSettingsClick:B,onRemoveClick:F,isSettingsAvailable:!x.preinstalled})}),e[25]=V,e[26]=x.hidden,e[27]=x.hideSnapBranding,e[28]=x.preinstalled,e[29]=b,e[30]=$):$=e[30];const z=D?4:0,H=D?4:0;let G,Y,K;return e[31]!==A||e[32]!==D||e[33]!==b?(G=D?s.default.createElement(h.default,{snapId:b,initRemove:A,resetInitRemove:j}):s.default.createElement(g.SnapHomeRenderer,{snapId:b}),e[31]=A,e[32]=D,e[33]=b,e[34]=G):G=e[34],e[35]!==z||e[36]!==H||e[37]!==G?(Y=s.default.createElement(m.Content,{backgroundColor:l.BackgroundColor.backgroundDefault,className:"snap-view__content",marginTop:z,padding:H},G),e[35]=z,e[36]=H,e[37]=G,e[38]=Y):Y=e[38],e[39]!==$||e[40]!==Y?(K=s.default.createElement("div",{className:"snap-view"},s.default.createElement(m.Page,{backgroundColor:l.BackgroundColor.backgroundDefault},$,Y)),e[39]=$,e[40]=Y,e[41]=K):K=e[41],K}}}},{package:"$root$",file:"ui/pages/snaps/snap-view/snap-view.js"}],[8039,{"./snap-list":8040},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./snap-list"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/index.js"}],[8040,{"../../../components/app/snaps/snap-list-item":6297,"../../../components/component-library":6529,"../../../components/multichain/pages/page":6863,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../helpers/utils/settings-search":7131,"../../../helpers/utils/util":7141,"../../../hooks/useI18nContext":7235,"../../../selectors":8094,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s=e("react-compiler-runtime"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),o=e("react-redux"),i=e("react-router-dom"),l=(n=e("../../../components/app/snaps/snap-list-item"))&&n.__esModule?n:{default:n},c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),m=e("../../../selectors"),p=e("../../../helpers/utils/settings-search"),f=e("../../../components/component-library"),g=e("../../../components/multichain/pages/page"),h=e("../../../helpers/utils/util");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}a.default=()=>{const e=(0,s.c)(25),t=(0,c.useI18nContext)(),a=(0,r.useRef)(),n=(0,i.useNavigate)();let _;e[0]!==n?(_=e=>{n((0,h.getSnapRoute)(e.id))},e[0]=n,e[1]=_):_=e[1];const E=_;let y,b;e[2]!==t?(y=()=>{(0,p.handleSettingsRefs)(t,t("snaps"),a)},b=[a,t],e[2]=t,e[3]=y,e[4]=b):(y=e[3],b=e[4]),(0,r.useEffect)(y,b);const S=(0,o.useSelector)(m.getSnapsList),T=(0,o.useSelector)(m.getAllSnapAvailableUpdates);let v,x,C,k,w,I,M;return e[5]!==n?(v=r.default.createElement(f.ButtonIcon,{ariaLabel:"Back",iconName:"arrow-left",size:"sm",onClick:()=>n(d.DEFAULT_ROUTE)}),e[5]=n,e[6]=v):v=e[6],e[7]!==t?(x=t("snaps"),e[7]=t,e[8]=x):x=e[8],e[9]!==v||e[10]!==x?(C=r.default.createElement(g.Header,{backgroundColor:u.BackgroundColor.backgroundDefault,startAccessory:v},x),e[9]=v,e[10]=x,e[11]=C):C=e[11],e[12]!==E||e[13]!==T||e[14]!==S?(k=S.length>0&&r.default.createElement("div",{className:"snaps__content__list__body"},r.default.createElement("div",{className:"snaps__content__list__wrapper"},S.map(e=>r.default.createElement(l.default,{className:"snaps__content__list-item",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{E(e)},snapId:e.id,showUpdateDot:T.get(e.id)})))),e[12]=E,e[13]=T,e[14]=S,e[15]=k):k=e[15],e[16]!==S.length||e[17]!==t?(w=S.length<=5&&r.default.createElement(f.Box,{display:u.Display.Flex,height:u.BlockSize.Full,flexDirection:u.FlexDirection.Row,flexWrap:u.FlexWrap.Wrap,justifyContent:u.JustifyContent.center,className:"snaps__content__list__container--snaps-info-content"},S.length<1&&r.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_inner",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center},r.default.createElement(f.Icon,{name:f.IconName.Snaps,color:u.IconColor.iconMuted,className:"snaps__content__list__no-snaps_icon",size:f.IconSize.Inherit}),r.default.createElement(f.Text,{color:u.Color.textMuted,align:u.TextAlign.Center,marginTop:4},t("noSnaps"))),r.default.createElement(f.Box,{display:u.Display.Flex,width:u.BlockSize.Full,height:u.BlockSize.Min}),r.default.createElement(f.Box,{className:"snaps__content__list__container--no-snaps_banner-tip",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},r.default.createElement(f.BannerTip,{logoType:f.BannerTipLogoType.Greeting,description:t("extendWalletWithSnaps"),descriptionProps:{variant:u.TextVariant.bodyMd}},r.default.createElement(f.ButtonLink,{size:u.Size.auto,href:"https://snaps.metamask.io/",target:"_blank",endIconName:f.IconName.Export},`${t("discoverSnaps")}`)))),e[16]=S.length,e[17]=t,e[18]=w):w=e[18],e[19]!==k||e[20]!==w?(I=r.default.createElement(g.Content,{backgroundColor:u.BackgroundColor.backgroundDefault,className:"snaps__content"},r.default.createElement(f.Box,{className:"snaps__content__list",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,height:u.BlockSize.Full},k,w)),e[19]=k,e[20]=w,e[21]=I):I=e[21],e[22]!==C||e[23]!==I?(M=r.default.createElement("div",{className:"snaps"},r.default.createElement(g.Page,{backgroundColor:u.BackgroundColor.backgroundDefault},C,I)),e[22]=C,e[23]=I,e[24]=M):M=e[24],M}}}},{package:"$root$",file:"ui/pages/snaps/snaps-list/snap-list.js"}],[8041,{"../../../shared/constants/metametrics":5791,"../../components/app/srp-details-modal":6402,"../../components/app/srp-input-import":6404,"../../components/component-library":6529,"../../contexts/metametrics":7040,"../../helpers/constants/design-system":7083,"../../hooks/useI18nContext":7235,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),l=m(e("../../components/app/srp-input-import")),c=m(e("../../components/app/srp-details-modal")),u=e("../../../shared/constants/metametrics"),d=e("../../contexts/metametrics");function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}a.default=e=>{const t=(0,n.c)(26),{error:a,setSecretRecoveryPhrase:m,onClearCallback:p,showDescription:g,toggleSrpDetailsModal:h,onSrpDetailsModalClose:_}=e,E=g===undefined||g,y=h!==undefined&&h,b=(0,i.useI18nContext)(),S=(0,s.useContext)(d.MetaMetricsContext),[T,v]=(0,s.useState)(!1);let x,C,k;t[0]!==y?(x=()=>{v(y)},C=[y],t[0]=y,t[1]=x,t[2]=C):(x=t[1],C=t[2]),(0,s.useEffect)(x,C),t[3]!==S?(k=()=>{S({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),v(!0)},t[3]=S,t[4]=k):k=t[4];const w=k;let I,M,N,D,R,A,P;return t[5]!==_||t[6]!==T?(I=T&&s.default.createElement(c.default,{onClose:()=>{v(!1),null==_||_()}}),t[5]=_,t[6]=T,t[7]=I):I=t[7],t[8]!==w||t[9]!==E||t[10]!==b?(M=E&&s.default.createElement(r.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center},s.default.createElement(r.Text,{variant:o.TextVariant.bodyMd,color:o.TextColor.textAlternative},b("typeYourSRP")),s.default.createElement(r.ButtonIcon,{iconName:r.IconName.Info,size:r.ButtonIconSize.Sm,color:o.IconColor.iconAlternative,onClick:w,ariaLabel:"info"})),t[8]=w,t[9]=E,t[10]=b,t[11]=M):M=t[11],t[12]!==p||t[13]!==m?(N=s.default.createElement(l.default,{onChange:m,onClearCallback:p}),t[12]=p,t[13]=m,t[14]=N):N=t[14],t[15]!==a?(D=a&&s.default.createElement(r.Box,{marginTop:2},s.default.createElement(r.Text,{"data-testid":"import-srp-error",variant:o.TextVariant.bodySm,color:o.TextColor.errorDefault},a)),t[15]=a,t[16]=D):D=t[16],t[17]!==N||t[18]!==D?(R=s.default.createElement(r.Box,{width:o.BlockSize.Full},s.default.createElement("form",{onSubmit:f},N,D)),t[17]=N,t[18]=D,t[19]=R):R=t[19],t[20]!==R||t[21]!==M?(A=s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,height:o.BlockSize.Full},M,R),t[20]=R,t[21]=M,t[22]=A):A=t[22],t[23]!==A||t[24]!==I?(P=s.default.createElement(s.default.Fragment,null,I,A),t[23]=A,t[24]=I,t[25]=P):P=t[25],P};function f(e){return e.preventDefault()}}}},{package:"$root$",file:"ui/pages/srp-input-form/index.tsx"}],[8042,{"../../../../shared/constants/metametrics":5791,"../../../../shared/modules/selectors":5932,"../../../components/component-library":6529,"../../../components/ui/box":6910,"../../../components/ui/pulse-loader":6991,"../../../contexts/i18n":7035,"../../../contexts/metametrics":7040,"../../../ducks/swaps/swaps":7079,"../../../helpers/constants/design-system":7083,"../../../helpers/constants/routes":7088,"../../../selectors/selectors":8114,"../swaps-footer":8068,"./swap-step-icon":8044,"lodash/isEqual":4825,react:5256,"react-compiler-runtime":5170,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,n.c)(41),t=(0,s.useContext)(l.I18nContext),a=(0,o.useNavigate)(),S=(0,r.useDispatch)(),T=(0,r.useSelector)(c.getFetchParams,i.default);let v;e[0]!==(null==T?void 0:T.metaData)?(v=(null==T?void 0:T.metaData)||{},e[0]=null==T?void 0:T.metaData,e[1]=v):v=e[1];const{destinationTokenInfo:x,sourceTokenInfo:C}=v,k=(0,r.useSelector)(c.getApproveTxParams,r.shallowEqual),w=(0,r.useSelector)(u.isHardwareWallet),I=(0,r.useSelector)(u.getHardwareWalletType),M=(0,r.useSelector)(d.getSmartTransactionsOptInStatusForMetrics),N=(0,r.useSelector)(d.getSmartTransactionsEnabled),D=(0,r.useSelector)(c.getCurrentSmartTransactionsEnabled),R=Boolean(k),A=(0,s.useContext)(_.MetaMetricsContext);let P,O,B;e[2]!==D||e[3]!==(null==x?void 0:x.symbol)||e[4]!==(null==T?void 0:T.balanceError)||e[5]!==(null==T?void 0:T.slippage)||e[6]!==(null==T?void 0:T.value)||e[7]!==I||e[8]!==w||e[9]!==R||e[10]!==N||e[11]!==M||e[12]!==(null==C?void 0:C.symbol)||e[13]!==A?(P=()=>{A({event:"Awaiting Signature(s) on a HW wallet",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:R,token_from:null==C?void 0:C.symbol,token_from_amount:null==T?void 0:T.value,token_to:null==x?void 0:x.symbol,request_type:null!=T&&T.balanceError?"Quote":"Order",slippage:null==T?void 0:T.slippage,custom_slippage:2===(null==T?void 0:T.slippage),is_hardware_wallet:w,hardware_wallet_type:I,stx_enabled:N,current_stx_enabled:D,stx_user_opt_in:M}})},e[2]=D,e[3]=null==x?void 0:x.symbol,e[4]=null==T?void 0:T.balanceError,e[5]=null==T?void 0:T.slippage,e[6]=null==T?void 0:T.value,e[7]=I,e[8]=w,e[9]=R,e[10]=N,e[11]=M,e[12]=null==C?void 0:C.symbol,e[13]=A,e[14]=P):P=e[14];e[15]===Symbol.for("react.memo_cache_sentinel")?(O=[],e[15]=O):O=e[15];(0,s.useEffect)(P,O),e[16]!==R||e[17]!==t?(B=t(R?"swapTwoTransactions":"swapConfirmWithHwWallet"),e[16]=R,e[17]=t,e[18]=B):B=e[18];const L=B;let F,U,j,W,V,$,z,H;e[19]===Symbol.for("react.memo_cache_sentinel")?(F=s.default.createElement(f.default,{marginTop:3,marginBottom:4},s.default.createElement(p.default,null)),e[19]=F):F=e[19];e[20]!==L?(U=s.default.createElement(y.Text,{color:g.TextColor.textDefault,variant:g.TextVariant.headingMd,as:"h3"},L),e[20]=L,e[21]=U):U=e[21];e[22]!==(null==x?void 0:x.symbol)||e[23]!==R||e[24]!==(null==C?void 0:C.symbol)||e[25]!==t?(j=R&&s.default.createElement(s.default.Fragment,null,s.default.createElement(y.Text,{variant:g.TextVariant.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),s.default.createElement("ul",{className:"awaiting-signatures__steps"},s.default.createElement("li",null,s.default.createElement(b.default,{stepNumber:1}),t("swapAllowSwappingOf",[s.default.createElement(y.Text,{as:"span",variant:g.TextVariant.bodyMdBold,key:"allowToken"},null==x?void 0:x.symbol)])),s.default.createElement("li",null,s.default.createElement(b.default,{stepNumber:2}),t("swapFromTo",[s.default.createElement(y.Text,{as:"span",variant:g.TextVariant.bodyMdBold,key:"tokenFrom"},null==C?void 0:C.symbol),s.default.createElement(y.Text,{as:"span",variation:g.TextVariant.bodyMdBold,key:"tokenTo"},null==x?void 0:x.symbol)]))),s.default.createElement(y.Text,{variant:g.TextVariant.bodyMd},t("swapGasFeesSplit"))),e[22]=null==x?void 0:x.symbol,e[23]=R,e[24]=null==C?void 0:C.symbol,e[25]=t,e[26]=j):j=e[26];e[27]!==U||e[28]!==j?(W=s.default.createElement(f.default,{paddingLeft:8,paddingRight:8,height:g.BLOCK_SIZES.FULL,justifyContent:g.JustifyContent.center,display:g.DISPLAY.FLEX,className:"awaiting-signatures__content"},F,U,j),e[27]=U,e[28]=j,e[29]=W):W=e[29];e[30]!==S||e[31]!==a?(V=async()=>{await S((0,c.prepareToLeaveSwaps)()),a(m.PREPARE_SWAP_ROUTE)},e[30]=S,e[31]=a,e[32]=V):V=e[32];e[33]!==t?($=t("cancel"),e[33]=t,e[34]=$):$=e[34];e[35]!==V||e[36]!==$?(z=s.default.createElement(h.default,{onSubmit:V,submitText:$,hideCancel:!0}),e[35]=V,e[36]=$,e[37]=z):z=e[37];e[38]!==z||e[39]!==W?(H=s.default.createElement("div",{className:"awaiting-signatures"},W,z),e[38]=z,e[39]=W,e[40]=H):H=e[40];return H};var n=e("react-compiler-runtime"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=S(e("lodash/isEqual")),l=e("../../../contexts/i18n"),c=e("../../../ducks/swaps/swaps"),u=e("../../../selectors/selectors"),d=e("../../../../shared/modules/selectors"),m=e("../../../helpers/constants/routes"),p=S(e("../../../components/ui/pulse-loader")),f=S(e("../../../components/ui/box")),g=e("../../../helpers/constants/design-system"),h=S(e("../swaps-footer")),_=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics"),y=e("../../../components/component-library"),b=S(e("./swap-step-icon"));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[8043,{"./awaiting-signatures":8042},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-signatures"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[8044,{"prop-types":5094,react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=i;var n=e("react-compiler-runtime"),s=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){const t=(0,n.c)(2),{stepNumber:a}=e;switch(a===undefined?1:a){case 1:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"})),t[0]=e):e=t[0],e}case 2:{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=s.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),s.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"})),t[1]=e):e=t[1],e}default:return}}i.propTypes={stepNumber:r.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[8045,{"../../../../shared/constants/common":5778,"../../../../shared/constants/metametrics":5791,"../../../../shared/constants/swaps":5810,"../../../../shared/lib/ui-utils":5904,"../../../../shared/modules/selectors":5932,"../../../../shared/modules/selectors/networks":5934,"../../../../shared/modules/swaps.utils":5946,"../../../components/ui/mascot":6971,"../../../components/ui/pulse-loader":6991,"../../../contexts/i18n":7035,"../../../contexts/metametrics":7040,"../../../ducks/metamask/metamask":7067,"../../../ducks/swaps/swaps":7079,"../../../helpers/constants/routes":7088,"../../../helpers/utils/build-types":7107,"../../../selectors":8094,"../../../selectors/selectors":8114,"../../../store/actions":8127,"../create-new-swap":8051,"../swaps-footer":8068,"../swaps.util":8071,"../view-on-block-explorer":8072,"./quotes-timeout-icon":8047,"./swap-failure-icon":8048,"./swap-success-icon":8049,"@metamask/etherscan-link":2063,events:4384,"lodash/isEqual":4825,"prop-types":5094,react:5256,"react-redux":5221,"react-router-dom":5231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=L;var n=B(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(e("react")),r=e("react-redux"),o=B(e("prop-types")),i=e("react-router-dom"),l=B(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),p=e("../../../../shared/modules/selectors/networks"),f=e("../../../ducks/metamask/metamask"),g=e("../../../selectors"),h=e("../../../selectors/selectors"),_=e("../../../../shared/modules/selectors"),E=e("../../../ducks/swaps/swaps"),y=B(e("../../../components/ui/mascot")),b=e("../../../../shared/constants/swaps"),S=e("../../../../shared/constants/common"),T=e("../../../../shared/modules/swaps.utils"),v=B(e("../../../components/ui/pulse-loader")),x=e("../../../helpers/utils/build-types"),C=e("../../../helpers/constants/routes"),k=e("../../../store/actions"),w=e("../swaps.util"),I=B(e("../swaps-footer")),M=B(e("../create-new-swap")),N=B(e("../view-on-block-explorer")),D=e("../../../../shared/lib/ui-utils"),R=B(e("./swap-failure-icon")),A=B(e("./swap-success-icon")),P=B(e("./quotes-timeout-icon"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function B(e){return e&&e.__esModule?e:{default:e}}function L({swapComplete:e,errorKey:t,txHash:a,tokensReceived:o,submittingSwap:O,txId:B}){var L,F;const U=(0,s.useContext)(u.I18nContext),j=(0,s.useContext)(d.MetaMetricsContext),W=(0,i.useNavigate)(),V=(0,r.useDispatch)(),$=(0,r.useSelector)(h.getHDEntropyIndex),z=(0,s.useRef)(new n.default),{swapMetaData:H}=(0,r.useSelector)(e=>(0,g.getFullTxData)(e,B))||{},G=(0,r.useSelector)(E.getFetchParams,l.default),Y=(0,r.useSelector)(E.getFromTokenInputValue),K=(0,r.useSelector)(E.getMaxSlippage),q=(0,r.useSelector)(E.getUsedQuote,l.default),J=(0,r.useSelector)(E.getApproveTxParams,r.shallowEqual),X=(0,r.useSelector)(E.getUsedSwapsGasPrice),Q=(0,r.useSelector)(f.getCurrentCurrency),Z=(0,r.useSelector)(g.getUSDConversionRate),ee=(0,r.useSelector)(p.getCurrentChainId),te=(0,r.useSelector)(g.getRpcPrefsForCurrentProvider,r.shallowEqual),[ae,ne]=(0,s.useState)(!1),se=(null==q||null===(L=q.destinationTokenInfo)||void 0===L?void 0:L.symbol)||(null==H?void 0:H.token_to);let re;if(q&&X){var oe,ie;re=(0,w.getRenderableNetworkFeesForQuote)({tradeGas:q.gasEstimateWithRefund||q.averageGas,approveGas:(null==J?void 0:J.gas)||"0x0",gasPrice:X,currentCurrency:Q,conversionRate:Z,tradeValue:null==q||null===(oe=q.trade)||void 0===oe?void 0:oe.value,sourceSymbol:null==q||null===(ie=q.sourceTokenInfo)||void 0===ie?void 0:ie.symbol,sourceAmount:q.sourceAmount,chainId:ee}).rawNetworkFees}const le=(0,r.useSelector)(g.isHardwareWallet),ce=(0,r.useSelector)(g.getHardwareWalletType),ue=(0,r.useSelector)(_.getSmartTransactionsOptInStatusForMetrics),de=(0,r.useSelector)(_.getSmartTransactionsEnabled),me=(0,r.useSelector)(E.getCurrentSmartTransactionsEnabled),pe=(null==H?void 0:H.slippage)||(null==q?void 0:q.slippage),fe={token_from:(null==H?void 0:H.token_from)||(null==q||null===(F=q.sourceTokenInfo)||void 0===F?void 0:F.symbol),token_from_amount:null==H?void 0:H.token_from_amount,token_to:se,request_type:null!=G&&G.balanceError?"Quote":"Order",slippage:pe,custom_slippage:2===pe,gas_fees:re,is_hardware_wallet:le,hardware_wallet_type:ce,stx_enabled:de,current_stx_enabled:me,stx_user_opt_in:ue},ge=te.blockExplorerUrl??S.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ee]??null,he=(0,c.getBlockExplorerLink)({hash:a,chainId:ee},{blockExplorerUrl:ge});let _e,Ee,ye,be,Se;t===b.OFFLINE_FOR_MAINTENANCE?(_e=U("offlineForMaintenance"),ye=U("metamaskSwapsOfflineDescription"),be=U("close"),Ee=s.default.createElement(R.default,null)):t===b.SWAP_FAILED_ERROR?(_e=U("swapFailedErrorTitle"),ye=U("swapFailedErrorDescriptionWithSupportLink",[s.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:D.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{j({category:m.MetaMetricsEventCategory.Swaps,event:m.MetaMetricsEventName.SupportLinkClicked,properties:{url:D.SUPPORT_LINK}},{contextPropsIntoEventProperties:[m.MetaMetricsContextProp.PageTitle]})}},new URL(D.SUPPORT_LINK).hostname)]),be=U("tryAgain"),Ee=s.default.createElement(R.default,null),Se=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):t===b.QUOTES_EXPIRED_ERROR?(_e=U("swapQuotesExpiredErrorTitle"),ye=U("swapQuotesExpiredErrorDescription"),be=U("tryAgain"),Ee=s.default.createElement(P.default,null),ae||(ne(!0),j({event:"Quotes Timed Out",category:m.MetaMetricsEventCategory.Swaps,sensitiveProperties:fe,properties:{hd_entropy_index:$}}))):t===b.ERROR_FETCHING_QUOTES?(_e=U("swapFetchingQuotesErrorTitle"),ye=U("swapFetchingQuotesErrorDescription"),be=U("back"),Ee=s.default.createElement(R.default,null)):t===b.QUOTES_NOT_AVAILABLE_ERROR?(_e=U("swapQuotesNotAvailableErrorTitle"),ye=U("swapQuotesNotAvailableErrorDescription"),be=U("tryAgain"),Ee=s.default.createElement(R.default,null)):t===b.CONTRACT_DATA_DISABLED_ERROR?(_e=U("swapContractDataDisabledErrorTitle"),ye=U("swapContractDataDisabledErrorDescription"),be=U("tryAgain"),Ee=s.default.createElement(R.default,null)):t||e?!t&&e&&(_e=U("swapTransactionComplete"),Ee=s.default.createElement(A.default,null),be=U("close"),ye=U("swapTokenAvailable",[s.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${se}`)]),Se=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})):(_e=U("swapProcessing"),Ee=s.default.createElement(v.default,null),be=U("swapsViewInActivity"),ye=U("swapOnceTransactionHasProcess",[s.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},se)]),Se=he&&s.default.createElement(N.default,{blockExplorerUrl:he,sensitiveTrackingProperties:fe})),(0,s.useEffect)(()=>{t&&V((0,k.stopPollingForQuotes)())},[V,t]);return s.default.createElement("div",{className:"awaiting-swap"},s.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&((0,x.isFlask)()||(0,x.isBeta)()?s.default.createElement("div",{className:"awaiting-swap__mascot"},s.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"90",height:"90"})):s.default.createElement(y.default,{animationEventEmitter:z.current,width:"90",height:"90"})),s.default.createElement("div",{className:"awaiting-swap__status-image"},Ee),s.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},_e),s.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},ye),Se),!t&&e?s.default.createElement(M.default,{sensitiveTrackingProperties:fe}):null,s.default.createElement(I.default,{onSubmit:async()=>{t===b.OFFLINE_FOR_MAINTENANCE?(await V((0,E.prepareToLeaveSwaps)()),W(C.DEFAULT_ROUTE)):t===b.QUOTES_EXPIRED_ERROR?(V((0,E.prepareForRetryGetQuotes)()),await V((0,E.fetchQuotesAndSetQuoteState)(W,Y,K,j))):t?await V((0,E.navigateBackToPrepareSwap)(W)):((0,T.isSwapsDefaultTokenSymbol)(se,ee)||e||await V((0,k.setDefaultHomeActiveTabName)("activity")),W(C.DEFAULT_ROUTE))},onCancel:async()=>await V((0,E.navigateBackToPrepareSwap)(W)),submitText:be,disabled:O,hideCancel:t!==b.QUOTES_EXPIRED_ERROR}))}L.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([b.QUOTES_EXPIRED_ERROR,b.SWAP_FAILED_ERROR,b.ERROR_FETCHING_QUOTES,b.QUOTES_NOT_AVAILABLE_ERROR,b.OFFLINE_FOR_MAINTENANCE,b.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[8046,{"./awaiting-swap":8045},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s.default}});var n,s=(n=e("./awaiting-swap"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[8047,{react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[8048,{react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[8049,{react:5256,"react-compiler-runtime":5170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){const e=(0,s.c)(1);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"})),e[0]=t):t=e[0];return t};var n,s=e("react-compiler-runtime"),r=(n=e("react"))&&n.__esModule?n:{default:n}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}]],[],{});